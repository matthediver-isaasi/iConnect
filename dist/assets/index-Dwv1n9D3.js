var u4=t=>{throw TypeError(t)};var _$=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var Iy=(t,s,n)=>s.has(t)||u4("Cannot "+n);var Xe=(t,s,n)=>(Iy(t,s,"read from private field"),n?n.call(t):s.get(t)),Us=(t,s,n)=>s.has(t)?u4("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),xs=(t,s,n,r)=>(Iy(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),dn=(t,s,n)=>(Iy(t,s,"access private method"),n);var ISe=_$((lCe,Qx)=>{function S$(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var By={exports:{}},Oh={},qy={exports:{}},vs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h4;function C$(){if(h4)return vs;h4=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.iterator;function h(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(I,W,q){this.props=I,this.context=W,this.refs=y,this.updater=q||p}v.prototype.isReactComponent={},v.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},v.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function j(){}j.prototype=v.prototype;function w(I,W,q){this.props=I,this.context=W,this.refs=y,this.updater=q||p}var N=w.prototype=new j;N.constructor=w,g(N,v.prototype),N.isPureReactComponent=!0;var _=Array.isArray,T=Object.prototype.hasOwnProperty,A={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(I,W,q){var Z,J={},Q=null,G=null;if(W!=null)for(Z in W.ref!==void 0&&(G=W.ref),W.key!==void 0&&(Q=""+W.key),W)T.call(W,Z)&&!P.hasOwnProperty(Z)&&(J[Z]=W[Z]);var ae=arguments.length-2;if(ae===1)J.children=q;else if(1<ae){for(var se=Array(ae),de=0;de<ae;de++)se[de]=arguments[de+2];J.children=se}if(I&&I.defaultProps)for(Z in ae=I.defaultProps,ae)J[Z]===void 0&&(J[Z]=ae[Z]);return{$$typeof:t,type:I,key:Q,ref:G,props:J,_owner:A.current}}function R(I,W){return{$$typeof:t,type:I.type,key:W,ref:I.ref,props:I.props,_owner:I._owner}}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function k(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(q){return W[q]})}var E=/\/+/g;function O(I,W){return typeof I=="object"&&I!==null&&I.key!=null?k(""+I.key):W.toString(36)}function F(I,W,q,Z,J){var Q=typeof I;(Q==="undefined"||Q==="boolean")&&(I=null);var G=!1;if(I===null)G=!0;else switch(Q){case"string":case"number":G=!0;break;case"object":switch(I.$$typeof){case t:case s:G=!0}}if(G)return G=I,J=J(G),I=Z===""?"."+O(G,0):Z,_(J)?(q="",I!=null&&(q=I.replace(E,"$&/")+"/"),F(J,W,q,"",function(de){return de})):J!=null&&(M(J)&&(J=R(J,q+(!J.key||G&&G.key===J.key?"":(""+J.key).replace(E,"$&/")+"/")+I)),W.push(J)),1;if(G=0,Z=Z===""?".":Z+":",_(I))for(var ae=0;ae<I.length;ae++){Q=I[ae];var se=Z+O(Q,ae);G+=F(Q,W,q,se,J)}else if(se=h(I),typeof se=="function")for(I=se.call(I),ae=0;!(Q=I.next()).done;)Q=Q.value,se=Z+O(Q,ae++),G+=F(Q,W,q,se,J);else if(Q==="object")throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return G}function z(I,W,q){if(I==null)return I;var Z=[],J=0;return F(I,Z,"","",function(Q){return W.call(q,Q,J++)}),Z}function V(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(q){(I._status===0||I._status===-1)&&(I._status=1,I._result=q)},function(q){(I._status===0||I._status===-1)&&(I._status=2,I._result=q)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var U={current:null},B={transition:null},$={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:B,ReactCurrentOwner:A};function L(){throw Error("act(...) is not supported in production builds of React.")}return vs.Children={map:z,forEach:function(I,W,q){z(I,function(){W.apply(this,arguments)},q)},count:function(I){var W=0;return z(I,function(){W++}),W},toArray:function(I){return z(I,function(W){return W})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},vs.Component=v,vs.Fragment=n,vs.Profiler=a,vs.PureComponent=w,vs.StrictMode=r,vs.Suspense=c,vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,vs.act=L,vs.cloneElement=function(I,W,q){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Z=g({},I.props),J=I.key,Q=I.ref,G=I._owner;if(W!=null){if(W.ref!==void 0&&(Q=W.ref,G=A.current),W.key!==void 0&&(J=""+W.key),I.type&&I.type.defaultProps)var ae=I.type.defaultProps;for(se in W)T.call(W,se)&&!P.hasOwnProperty(se)&&(Z[se]=W[se]===void 0&&ae!==void 0?ae[se]:W[se])}var se=arguments.length-2;if(se===1)Z.children=q;else if(1<se){ae=Array(se);for(var de=0;de<se;de++)ae[de]=arguments[de+2];Z.children=ae}return{$$typeof:t,type:I.type,key:J,ref:Q,props:Z,_owner:G}},vs.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:i,_context:I},I.Consumer=I},vs.createElement=C,vs.createFactory=function(I){var W=C.bind(null,I);return W.type=I,W},vs.createRef=function(){return{current:null}},vs.forwardRef=function(I){return{$$typeof:o,render:I}},vs.isValidElement=M,vs.lazy=function(I){return{$$typeof:d,_payload:{_status:-1,_result:I},_init:V}},vs.memo=function(I,W){return{$$typeof:u,type:I,compare:W===void 0?null:W}},vs.startTransition=function(I){var W=B.transition;B.transition={};try{I()}finally{B.transition=W}},vs.unstable_act=L,vs.useCallback=function(I,W){return U.current.useCallback(I,W)},vs.useContext=function(I){return U.current.useContext(I)},vs.useDebugValue=function(){},vs.useDeferredValue=function(I){return U.current.useDeferredValue(I)},vs.useEffect=function(I,W){return U.current.useEffect(I,W)},vs.useId=function(){return U.current.useId()},vs.useImperativeHandle=function(I,W,q){return U.current.useImperativeHandle(I,W,q)},vs.useInsertionEffect=function(I,W){return U.current.useInsertionEffect(I,W)},vs.useLayoutEffect=function(I,W){return U.current.useLayoutEffect(I,W)},vs.useMemo=function(I,W){return U.current.useMemo(I,W)},vs.useReducer=function(I,W,q){return U.current.useReducer(I,W,q)},vs.useRef=function(I){return U.current.useRef(I)},vs.useState=function(I){return U.current.useState(I)},vs.useSyncExternalStore=function(I,W,q){return U.current.useSyncExternalStore(I,W,q)},vs.useTransition=function(){return U.current.useTransition()},vs.version="18.3.1",vs}var m4;function Zm(){return m4||(m4=1,qy.exports=C$()),qy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4;function k$(){if(f4)return Oh;f4=1;var t=Zm(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(o,c,u){var d,m={},h=null,p=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(m[d]=c[d]);if(o&&o.defaultProps)for(d in c=o.defaultProps,c)m[d]===void 0&&(m[d]=c[d]);return{$$typeof:s,type:o,key:h,ref:p,props:m,_owner:a.current}}return Oh.Fragment=n,Oh.jsx=l,Oh.jsxs=l,Oh}var p4;function E$(){return p4||(p4=1,By.exports=k$()),By.exports}var e=E$(),b=Zm();const Ie=Bc(b),H_=S$({__proto__:null,default:Ie},[b]);var Hp={},zy={exports:{}},Ur={},$y={exports:{}},Uy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4;function P$(){return x4||(x4=1,(function(t){function s(B,$){var L=B.length;B.push($);e:for(;0<L;){var I=L-1>>>1,W=B[I];if(0<a(W,$))B[I]=$,B[L]=W,L=I;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],L=B.pop();if(L!==$){B[0]=L;e:for(var I=0,W=B.length,q=W>>>1;I<q;){var Z=2*(I+1)-1,J=B[Z],Q=Z+1,G=B[Q];if(0>a(J,L))Q<W&&0>a(G,J)?(B[I]=G,B[Q]=L,I=Q):(B[I]=J,B[Z]=L,I=Z);else if(Q<W&&0>a(G,L))B[I]=G,B[Q]=L,I=Q;else break e}}return $}function a(B,$){var L=B.sortIndex-$.sortIndex;return L!==0?L:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=B)r(u),$.sortIndex=$.expirationTime,s(c,$);else break;$=n(u)}}function _(B){if(y=!1,N(B),!g)if(n(c)!==null)g=!0,V(T);else{var $=n(u);$!==null&&U(_,$.startTime-B)}}function T(B,$){g=!1,y&&(y=!1,j(C),C=-1),p=!0;var L=h;try{for(N($),m=n(c);m!==null&&(!(m.expirationTime>$)||B&&!k());){var I=m.callback;if(typeof I=="function"){m.callback=null,h=m.priorityLevel;var W=I(m.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?m.callback=W:m===n(c)&&r(c),N($)}else r(c);m=n(c)}if(m!==null)var q=!0;else{var Z=n(u);Z!==null&&U(_,Z.startTime-$),q=!1}return q}finally{m=null,h=L,p=!1}}var A=!1,P=null,C=-1,R=5,M=-1;function k(){return!(t.unstable_now()-M<R)}function E(){if(P!==null){var B=t.unstable_now();M=B;var $=!0;try{$=P(!0,B)}finally{$?O():(A=!1,P=null)}}else A=!1}var O;if(typeof w=="function")O=function(){w(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=E,O=function(){z.postMessage(null)}}else O=function(){v(E,0)};function V(B){P=B,A||(A=!0,O())}function U(B,$){C=v(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,V(T))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return B()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=h;h=B;try{return $()}finally{h=L}},t.unstable_scheduleCallback=function(B,$,L){var I=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=L+W,B={id:d++,callback:$,priorityLevel:B,startTime:L,expirationTime:W,sortIndex:-1},L>I?(B.sortIndex=L,s(u,B),n(c)===null&&B===n(u)&&(y?(j(C),C=-1):y=!0,U(_,L-I))):(B.sortIndex=W,s(c,B),g||p||(g=!0,V(T))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var $=h;return function(){var L=h;h=$;try{return B.apply(this,arguments)}finally{h=L}}}})(Uy)),Uy}var g4;function T$(){return g4||(g4=1,$y.exports=P$()),$y.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v4;function A$(){if(v4)return Ur;v4=1;var t=Zm(),s=T$();function n(f){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)x+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(f,x){l(f,x),l(f+"Capture",x)}function l(f,x){for(a[f]=x,f=0;f<x.length;f++)r.add(x[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},m={};function h(f){return c.call(m,f)?!0:c.call(d,f)?!1:u.test(f)?m[f]=!0:(d[f]=!0,!1)}function p(f,x,S,D){if(S!==null&&S.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return D?!1:S!==null?!S.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function g(f,x,S,D){if(x===null||typeof x>"u"||p(f,x,S,D))return!0;if(D)return!1;if(S!==null)switch(S.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function y(f,x,S,D,H,Y,ne){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=D,this.attributeNamespace=H,this.mustUseProperty=S,this.propertyName=f,this.type=x,this.sanitizeURL=Y,this.removeEmptyString=ne}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new y(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var x=f[0];v[x]=new y(x,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new y(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new y(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new y(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new y(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new y(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new y(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new y(f,5,!1,f.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function w(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var x=f.replace(j,w);v[x]=new y(x,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var x=f.replace(j,w);v[x]=new y(x,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var x=f.replace(j,w);v[x]=new y(x,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new y(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new y(f,1,!1,f.toLowerCase(),null,!0,!0)});function N(f,x,S,D){var H=v.hasOwnProperty(x)?v[x]:null;(H!==null?H.type!==0:D||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(g(x,S,H,D)&&(S=null),D||H===null?h(x)&&(S===null?f.removeAttribute(x):f.setAttribute(x,""+S)):H.mustUseProperty?f[H.propertyName]=S===null?H.type===3?!1:"":S:(x=H.attributeName,D=H.attributeNamespace,S===null?f.removeAttribute(x):(H=H.type,S=H===3||H===4&&S===!0?"":""+S,D?f.setAttributeNS(D,x,S):f.setAttribute(x,S))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),B=Symbol.iterator;function $(f){return f===null||typeof f!="object"?null:(f=B&&f[B]||f["@@iterator"],typeof f=="function"?f:null)}var L=Object.assign,I;function W(f){if(I===void 0)try{throw Error()}catch(S){var x=S.stack.trim().match(/\n( *(at )?)/);I=x&&x[1]||""}return`
`+I+f}var q=!1;function Z(f,x){if(!f||q)return"";q=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Oe){var D=Oe}Reflect.construct(f,[],x)}else{try{x.call()}catch(Oe){D=Oe}f.call(x.prototype)}else{try{throw Error()}catch(Oe){D=Oe}f()}}catch(Oe){if(Oe&&D&&typeof Oe.stack=="string"){for(var H=Oe.stack.split(`
`),Y=D.stack.split(`
`),ne=H.length-1,fe=Y.length-1;1<=ne&&0<=fe&&H[ne]!==Y[fe];)fe--;for(;1<=ne&&0<=fe;ne--,fe--)if(H[ne]!==Y[fe]){if(ne!==1||fe!==1)do if(ne--,fe--,0>fe||H[ne]!==Y[fe]){var ye=`
`+H[ne].replace(" at new "," at ");return f.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",f.displayName)),ye}while(1<=ne&&0<=fe);break}}}finally{q=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?W(f):""}function J(f){switch(f.tag){case 5:return W(f.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return f=Z(f.type,!1),f;case 11:return f=Z(f.type.render,!1),f;case 1:return f=Z(f.type,!0),f;default:return""}}function Q(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case P:return"Fragment";case A:return"Portal";case R:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case F:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case k:return(f.displayName||"Context")+".Consumer";case M:return(f._context.displayName||"Context")+".Provider";case E:var x=f.render;return f=f.displayName,f||(f=x.displayName||x.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case z:return x=f.displayName||null,x!==null?x:Q(f.type)||"Memo";case V:x=f._payload,f=f._init;try{return Q(f(x))}catch{}}return null}function G(f){var x=f.type;switch(f.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=x.render,f=f.displayName||f.name||"",x.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(x);case 8:return x===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function ae(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function se(f){var x=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function de(f){var x=se(f)?"checked":"value",S=Object.getOwnPropertyDescriptor(f.constructor.prototype,x),D=""+f[x];if(!f.hasOwnProperty(x)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var H=S.get,Y=S.set;return Object.defineProperty(f,x,{configurable:!0,get:function(){return H.call(this)},set:function(ne){D=""+ne,Y.call(this,ne)}}),Object.defineProperty(f,x,{enumerable:S.enumerable}),{getValue:function(){return D},setValue:function(ne){D=""+ne},stopTracking:function(){f._valueTracker=null,delete f[x]}}}}function ue(f){f._valueTracker||(f._valueTracker=de(f))}function oe(f){if(!f)return!1;var x=f._valueTracker;if(!x)return!0;var S=x.getValue(),D="";return f&&(D=se(f)?f.checked?"true":"false":f.value),f=D,f!==S?(x.setValue(f),!0):!1}function pe(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function be(f,x){var S=x.checked;return L({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??f._wrapperState.initialChecked})}function je(f,x){var S=x.defaultValue==null?"":x.defaultValue,D=x.checked!=null?x.checked:x.defaultChecked;S=ae(x.value!=null?x.value:S),f._wrapperState={initialChecked:D,initialValue:S,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Be(f,x){x=x.checked,x!=null&&N(f,"checked",x,!1)}function qe(f,x){Be(f,x);var S=ae(x.value),D=x.type;if(S!=null)D==="number"?(S===0&&f.value===""||f.value!=S)&&(f.value=""+S):f.value!==""+S&&(f.value=""+S);else if(D==="submit"||D==="reset"){f.removeAttribute("value");return}x.hasOwnProperty("value")?Se(f,x.type,S):x.hasOwnProperty("defaultValue")&&Se(f,x.type,ae(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(f.defaultChecked=!!x.defaultChecked)}function ke(f,x,S){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var D=x.type;if(!(D!=="submit"&&D!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+f._wrapperState.initialValue,S||x===f.value||(f.value=x),f.defaultValue=x}S=f.name,S!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,S!==""&&(f.name=S)}function Se(f,x,S){(x!=="number"||pe(f.ownerDocument)!==f)&&(S==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+S&&(f.defaultValue=""+S))}var Ge=Array.isArray;function Ke(f,x,S,D){if(f=f.options,x){x={};for(var H=0;H<S.length;H++)x["$"+S[H]]=!0;for(S=0;S<f.length;S++)H=x.hasOwnProperty("$"+f[S].value),f[S].selected!==H&&(f[S].selected=H),H&&D&&(f[S].defaultSelected=!0)}else{for(S=""+ae(S),x=null,H=0;H<f.length;H++){if(f[H].value===S){f[H].selected=!0,D&&(f[H].defaultSelected=!0);return}x!==null||f[H].disabled||(x=f[H])}x!==null&&(x.selected=!0)}}function Me(f,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return L({},x,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function it(f,x){var S=x.value;if(S==null){if(S=x.children,x=x.defaultValue,S!=null){if(x!=null)throw Error(n(92));if(Ge(S)){if(1<S.length)throw Error(n(93));S=S[0]}x=S}x==null&&(x=""),S=x}f._wrapperState={initialValue:ae(S)}}function _e(f,x){var S=ae(x.value),D=ae(x.defaultValue);S!=null&&(S=""+S,S!==f.value&&(f.value=S),x.defaultValue==null&&f.defaultValue!==S&&(f.defaultValue=S)),D!=null&&(f.defaultValue=""+D)}function at(f){var x=f.textContent;x===f._wrapperState.initialValue&&x!==""&&x!==null&&(f.value=x)}function Ne(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(f,x){return f==null||f==="http://www.w3.org/1999/xhtml"?Ne(x):f==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var nt,dt=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,S,D,H){MSApp.execUnsafeLocalFunction(function(){return f(x,S,D,H)})}:f})(function(f,x){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=x;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=nt.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;x.firstChild;)f.appendChild(x.firstChild)}});function lt(f,x){if(x){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=x;return}}f.textContent=x}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(f){Xt.forEach(function(x){x=x+f.charAt(0).toUpperCase()+f.substring(1),Ot[x]=Ot[f]})});function Ls(f,x,S){return x==null||typeof x=="boolean"||x===""?"":S||typeof x!="number"||x===0||Ot.hasOwnProperty(f)&&Ot[f]?(""+x).trim():x+"px"}function Ns(f,x){f=f.style;for(var S in x)if(x.hasOwnProperty(S)){var D=S.indexOf("--")===0,H=Ls(S,x[S],D);S==="float"&&(S="cssFloat"),D?f.setProperty(S,H):f[S]=H}}var ln=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yt(f,x){if(x){if(ln[f]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function fn(f,x){if(f.indexOf("-")===-1)return typeof x.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var As=null;function vr(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Vn=null,Qe=null,bt=null;function ds(f){if(f=yh(f)){if(typeof Vn!="function")throw Error(n(280));var x=f.stateNode;x&&(x=ip(x),Vn(f.stateNode,f.type,x))}}function we(f){Qe?bt?bt.push(f):bt=[f]:Qe=f}function ut(){if(Qe){var f=Qe,x=bt;if(bt=Qe=null,ds(f),x)for(f=0;f<x.length;f++)ds(x[f])}}function Pe(f,x){return f(x)}function Ze(){}var yt=!1;function ns(f,x,S){if(yt)return f(x,S);yt=!0;try{return Pe(f,x,S)}finally{yt=!1,(Qe!==null||bt!==null)&&(Ze(),ut())}}function os(f,x){var S=f.stateNode;if(S===null)return null;var D=ip(S);if(D===null)return null;S=D[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(f=f.type,D=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!D;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(n(231,x,typeof S));return S}var Ys=!1;if(o)try{var us={};Object.defineProperty(us,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Ys=!1}function Dr(f,x,S,D,H,Y,ne,fe,ye){var Oe=Array.prototype.slice.call(arguments,3);try{x.apply(S,Oe)}catch(rt){this.onError(rt)}}var vn=!1,Xn=null,Or=!1,ia=null,ge={onError:function(f){vn=!0,Xn=f}};function ft(f,x,S,D,H,Y,ne,fe,ye){vn=!1,Xn=null,Dr.apply(ge,arguments)}function xt(f,x,S,D,H,Y,ne,fe,ye){if(ft.apply(this,arguments),vn){if(vn){var Oe=Xn;vn=!1,Xn=null}else throw Error(n(198));Or||(Or=!0,ia=Oe)}}function Pt(f){var x=f,S=f;if(f.alternate)for(;x.return;)x=x.return;else{f=x;do x=f,(x.flags&4098)!==0&&(S=x.return),f=x.return;while(f)}return x.tag===3?S:null}function _s(f){if(f.tag===13){var x=f.memoizedState;if(x===null&&(f=f.alternate,f!==null&&(x=f.memoizedState)),x!==null)return x.dehydrated}return null}function Rr(f){if(Pt(f)!==f)throw Error(n(188))}function yi(f){var x=f.alternate;if(!x){if(x=Pt(f),x===null)throw Error(n(188));return x!==f?null:f}for(var S=f,D=x;;){var H=S.return;if(H===null)break;var Y=H.alternate;if(Y===null){if(D=H.return,D!==null){S=D;continue}break}if(H.child===Y.child){for(Y=H.child;Y;){if(Y===S)return Rr(H),f;if(Y===D)return Rr(H),x;Y=Y.sibling}throw Error(n(188))}if(S.return!==D.return)S=H,D=Y;else{for(var ne=!1,fe=H.child;fe;){if(fe===S){ne=!0,S=H,D=Y;break}if(fe===D){ne=!0,D=H,S=Y;break}fe=fe.sibling}if(!ne){for(fe=Y.child;fe;){if(fe===S){ne=!0,S=Y,D=H;break}if(fe===D){ne=!0,D=Y,S=H;break}fe=fe.sibling}if(!ne)throw Error(n(189))}}if(S.alternate!==D)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?f:x}function En(f){return f=yi(f),f!==null?Xc(f):null}function Xc(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var x=Xc(f);if(x!==null)return x;f=f.sibling}return null}var Zc=s.unstable_scheduleCallback,ed=s.unstable_cancelCallback,th=s.unstable_shouldYield,$o=s.unstable_requestPaint,tn=s.unstable_now,sh=s.unstable_getCurrentPriorityLevel,$l=s.unstable_ImmediatePriority,el=s.unstable_UserBlockingPriority,Fr=s.unstable_NormalPriority,td=s.unstable_LowPriority,sd=s.unstable_IdlePriority,tl=null,yr=null;function nd(f){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(tl,f,void 0,(f.current.flags&128)===128)}catch{}}var xe=Math.clz32?Math.clz32:zs,zt=Math.log,et=Math.LN2;function zs(f){return f>>>=0,f===0?32:31-(zt(f)/et|0)|0}var Rt=64,Zn=4194304;function Lr(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function bi(f,x){var S=f.pendingLanes;if(S===0)return 0;var D=0,H=f.suspendedLanes,Y=f.pingedLanes,ne=S&268435455;if(ne!==0){var fe=ne&~H;fe!==0?D=Lr(fe):(Y&=ne,Y!==0&&(D=Lr(Y)))}else ne=S&~H,ne!==0?D=Lr(ne):Y!==0&&(D=Lr(Y));if(D===0)return 0;if(x!==0&&x!==D&&(x&H)===0&&(H=D&-D,Y=x&-x,H>=Y||H===16&&(Y&4194240)!==0))return x;if((D&4)!==0&&(D|=S&16),x=f.entangledLanes,x!==0)for(f=f.entanglements,x&=D;0<x;)S=31-xe(x),H=1<<S,D|=f[S],x&=~H;return D}function cv(f,x){switch(f){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(f,x){for(var S=f.suspendedLanes,D=f.pingedLanes,H=f.expirationTimes,Y=f.pendingLanes;0<Y;){var ne=31-xe(Y),fe=1<<ne,ye=H[ne];ye===-1?((fe&S)===0||(fe&D)!==0)&&(H[ne]=cv(fe,x)):ye<=x&&(f.expiredLanes|=fe),Y&=~fe}}function Uo(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Vf(){var f=Rt;return Rt<<=1,(Rt&4194240)===0&&(Rt=64),f}function rd(f){for(var x=[],S=0;31>S;S++)x.push(f);return x}function Ul(f,x,S){f.pendingLanes|=x,x!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,x=31-xe(x),f[x]=S}function Wf(f,x){var S=f.pendingLanes&~x;f.pendingLanes=x,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=x,f.mutableReadLanes&=x,f.entangledLanes&=x,x=f.entanglements;var D=f.eventTimes;for(f=f.expirationTimes;0<S;){var H=31-xe(S),Y=1<<H;x[H]=0,D[H]=-1,f[H]=-1,S&=~Y}}function ad(f,x){var S=f.entangledLanes|=x;for(f=f.entanglements;S;){var D=31-xe(S),H=1<<D;H&x|f[D]&x&&(f[D]|=x),S&=~H}}var ie=0;function De(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var We,wt,Ss,br,Ga,_n=!1,yn=[],ji=null,Vl=null,Wl=null,nh=new Map,rh=new Map,Hl=[],H9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KS(f,x){switch(f){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":nh.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(x.pointerId)}}function ah(f,x,S,D,H,Y){return f===null||f.nativeEvent!==Y?(f={blockedOn:x,domEventName:S,eventSystemFlags:D,nativeEvent:Y,targetContainers:[H]},x!==null&&(x=yh(x),x!==null&&wt(x)),f):(f.eventSystemFlags|=D,x=f.targetContainers,H!==null&&x.indexOf(H)===-1&&x.push(H),f)}function G9(f,x,S,D,H){switch(x){case"focusin":return ji=ah(ji,f,x,S,D,H),!0;case"dragenter":return Vl=ah(Vl,f,x,S,D,H),!0;case"mouseover":return Wl=ah(Wl,f,x,S,D,H),!0;case"pointerover":var Y=H.pointerId;return nh.set(Y,ah(nh.get(Y)||null,f,x,S,D,H)),!0;case"gotpointercapture":return Y=H.pointerId,rh.set(Y,ah(rh.get(Y)||null,f,x,S,D,H)),!0}return!1}function YS(f){var x=Vo(f.target);if(x!==null){var S=Pt(x);if(S!==null){if(x=S.tag,x===13){if(x=_s(S),x!==null){f.blockedOn=x,Ga(f.priority,function(){Ss(S)});return}}else if(x===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Hf(f){if(f.blockedOn!==null)return!1;for(var x=f.targetContainers;0<x.length;){var S=uv(f.domEventName,f.eventSystemFlags,x[0],f.nativeEvent);if(S===null){S=f.nativeEvent;var D=new S.constructor(S.type,S);As=D,S.target.dispatchEvent(D),As=null}else return x=yh(S),x!==null&&wt(x),f.blockedOn=S,!1;x.shift()}return!0}function QS(f,x,S){Hf(f)&&S.delete(x)}function K9(){_n=!1,ji!==null&&Hf(ji)&&(ji=null),Vl!==null&&Hf(Vl)&&(Vl=null),Wl!==null&&Hf(Wl)&&(Wl=null),nh.forEach(QS),rh.forEach(QS)}function ih(f,x){f.blockedOn===x&&(f.blockedOn=null,_n||(_n=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,K9)))}function lh(f){function x(H){return ih(H,f)}if(0<yn.length){ih(yn[0],f);for(var S=1;S<yn.length;S++){var D=yn[S];D.blockedOn===f&&(D.blockedOn=null)}}for(ji!==null&&ih(ji,f),Vl!==null&&ih(Vl,f),Wl!==null&&ih(Wl,f),nh.forEach(x),rh.forEach(x),S=0;S<Hl.length;S++)D=Hl[S],D.blockedOn===f&&(D.blockedOn=null);for(;0<Hl.length&&(S=Hl[0],S.blockedOn===null);)YS(S),S.blockedOn===null&&Hl.shift()}var id=_.ReactCurrentBatchConfig,Gf=!0;function Y9(f,x,S,D){var H=ie,Y=id.transition;id.transition=null;try{ie=1,dv(f,x,S,D)}finally{ie=H,id.transition=Y}}function Q9(f,x,S,D){var H=ie,Y=id.transition;id.transition=null;try{ie=4,dv(f,x,S,D)}finally{ie=H,id.transition=Y}}function dv(f,x,S,D){if(Gf){var H=uv(f,x,S,D);if(H===null)Ev(f,x,D,Kf,S),KS(f,D);else if(G9(H,f,x,S,D))D.stopPropagation();else if(KS(f,D),x&4&&-1<H9.indexOf(f)){for(;H!==null;){var Y=yh(H);if(Y!==null&&We(Y),Y=uv(f,x,S,D),Y===null&&Ev(f,x,D,Kf,S),Y===H)break;H=Y}H!==null&&D.stopPropagation()}else Ev(f,x,D,null,S)}}var Kf=null;function uv(f,x,S,D){if(Kf=null,f=vr(D),f=Vo(f),f!==null)if(x=Pt(f),x===null)f=null;else if(S=x.tag,S===13){if(f=_s(x),f!==null)return f;f=null}else if(S===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;f=null}else x!==f&&(f=null);return Kf=f,null}function JS(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sh()){case $l:return 1;case el:return 4;case Fr:case td:return 16;case sd:return 536870912;default:return 16}default:return 16}}var Gl=null,hv=null,Yf=null;function XS(){if(Yf)return Yf;var f,x=hv,S=x.length,D,H="value"in Gl?Gl.value:Gl.textContent,Y=H.length;for(f=0;f<S&&x[f]===H[f];f++);var ne=S-f;for(D=1;D<=ne&&x[S-D]===H[Y-D];D++);return Yf=H.slice(f,1<D?1-D:void 0)}function Qf(f){var x=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&x===13&&(f=13)):f=x,f===10&&(f=13),32<=f||f===13?f:0}function Jf(){return!0}function ZS(){return!1}function la(f){function x(S,D,H,Y,ne){this._reactName=S,this._targetInst=H,this.type=D,this.nativeEvent=Y,this.target=ne,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(S=f[fe],this[fe]=S?S(Y):Y[fe]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Jf:ZS,this.isPropagationStopped=ZS,this}return L(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),x}var ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mv=la(ld),oh=L({},ld,{view:0,detail:0}),J9=la(oh),fv,pv,ch,Xf=L({},oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gv,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==ch&&(ch&&f.type==="mousemove"?(fv=f.screenX-ch.screenX,pv=f.screenY-ch.screenY):pv=fv=0,ch=f),fv)},movementY:function(f){return"movementY"in f?f.movementY:pv}}),eC=la(Xf),X9=L({},Xf,{dataTransfer:0}),Z9=la(X9),ez=L({},oh,{relatedTarget:0}),xv=la(ez),tz=L({},ld,{animationName:0,elapsedTime:0,pseudoElement:0}),sz=la(tz),nz=L({},ld,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),rz=la(nz),az=L({},ld,{data:0}),tC=la(az),iz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cz(f){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(f):(f=oz[f])?!!x[f]:!1}function gv(){return cz}var dz=L({},oh,{key:function(f){if(f.key){var x=iz[f.key]||f.key;if(x!=="Unidentified")return x}return f.type==="keypress"?(f=Qf(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?lz[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gv,charCode:function(f){return f.type==="keypress"?Qf(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Qf(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),uz=la(dz),hz=L({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sC=la(hz),mz=L({},oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gv}),fz=la(mz),pz=L({},ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),xz=la(pz),gz=L({},Xf,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),vz=la(gz),yz=[9,13,27,32],vv=o&&"CompositionEvent"in window,dh=null;o&&"documentMode"in document&&(dh=document.documentMode);var bz=o&&"TextEvent"in window&&!dh,nC=o&&(!vv||dh&&8<dh&&11>=dh),rC=" ",aC=!1;function iC(f,x){switch(f){case"keyup":return yz.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lC(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var od=!1;function jz(f,x){switch(f){case"compositionend":return lC(x);case"keypress":return x.which!==32?null:(aC=!0,rC);case"textInput":return f=x.data,f===rC&&aC?null:f;default:return null}}function wz(f,x){if(od)return f==="compositionend"||!vv&&iC(f,x)?(f=XS(),Yf=hv=Gl=null,od=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return nC&&x.locale!=="ko"?null:x.data;default:return null}}var Nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oC(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x==="input"?!!Nz[f.type]:x==="textarea"}function cC(f,x,S,D){we(D),x=np(x,"onChange"),0<x.length&&(S=new mv("onChange","change",null,S,D),f.push({event:S,listeners:x}))}var uh=null,hh=null;function _z(f){kC(f,0)}function Zf(f){var x=md(f);if(oe(x))return f}function Sz(f,x){if(f==="change")return x}var dC=!1;if(o){var yv;if(o){var bv="oninput"in document;if(!bv){var uC=document.createElement("div");uC.setAttribute("oninput","return;"),bv=typeof uC.oninput=="function"}yv=bv}else yv=!1;dC=yv&&(!document.documentMode||9<document.documentMode)}function hC(){uh&&(uh.detachEvent("onpropertychange",mC),hh=uh=null)}function mC(f){if(f.propertyName==="value"&&Zf(hh)){var x=[];cC(x,hh,f,vr(f)),ns(_z,x)}}function Cz(f,x,S){f==="focusin"?(hC(),uh=x,hh=S,uh.attachEvent("onpropertychange",mC)):f==="focusout"&&hC()}function kz(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Zf(hh)}function Ez(f,x){if(f==="click")return Zf(x)}function Pz(f,x){if(f==="input"||f==="change")return Zf(x)}function Tz(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var Ka=typeof Object.is=="function"?Object.is:Tz;function mh(f,x){if(Ka(f,x))return!0;if(typeof f!="object"||f===null||typeof x!="object"||x===null)return!1;var S=Object.keys(f),D=Object.keys(x);if(S.length!==D.length)return!1;for(D=0;D<S.length;D++){var H=S[D];if(!c.call(x,H)||!Ka(f[H],x[H]))return!1}return!0}function fC(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function pC(f,x){var S=fC(f);f=0;for(var D;S;){if(S.nodeType===3){if(D=f+S.textContent.length,f<=x&&D>=x)return{node:S,offset:x-f};f=D}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=fC(S)}}function xC(f,x){return f&&x?f===x?!0:f&&f.nodeType===3?!1:x&&x.nodeType===3?xC(f,x.parentNode):"contains"in f?f.contains(x):f.compareDocumentPosition?!!(f.compareDocumentPosition(x)&16):!1:!1}function gC(){for(var f=window,x=pe();x instanceof f.HTMLIFrameElement;){try{var S=typeof x.contentWindow.location.href=="string"}catch{S=!1}if(S)f=x.contentWindow;else break;x=pe(f.document)}return x}function jv(f){var x=f&&f.nodeName&&f.nodeName.toLowerCase();return x&&(x==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||x==="textarea"||f.contentEditable==="true")}function Az(f){var x=gC(),S=f.focusedElem,D=f.selectionRange;if(x!==S&&S&&S.ownerDocument&&xC(S.ownerDocument.documentElement,S)){if(D!==null&&jv(S)){if(x=D.start,f=D.end,f===void 0&&(f=x),"selectionStart"in S)S.selectionStart=x,S.selectionEnd=Math.min(f,S.value.length);else if(f=(x=S.ownerDocument||document)&&x.defaultView||window,f.getSelection){f=f.getSelection();var H=S.textContent.length,Y=Math.min(D.start,H);D=D.end===void 0?Y:Math.min(D.end,H),!f.extend&&Y>D&&(H=D,D=Y,Y=H),H=pC(S,Y);var ne=pC(S,D);H&&ne&&(f.rangeCount!==1||f.anchorNode!==H.node||f.anchorOffset!==H.offset||f.focusNode!==ne.node||f.focusOffset!==ne.offset)&&(x=x.createRange(),x.setStart(H.node,H.offset),f.removeAllRanges(),Y>D?(f.addRange(x),f.extend(ne.node,ne.offset)):(x.setEnd(ne.node,ne.offset),f.addRange(x)))}}for(x=[],f=S;f=f.parentNode;)f.nodeType===1&&x.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<x.length;S++)f=x[S],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Mz=o&&"documentMode"in document&&11>=document.documentMode,cd=null,wv=null,fh=null,Nv=!1;function vC(f,x,S){var D=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Nv||cd==null||cd!==pe(D)||(D=cd,"selectionStart"in D&&jv(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),fh&&mh(fh,D)||(fh=D,D=np(wv,"onSelect"),0<D.length&&(x=new mv("onSelect","select",null,x,S),f.push({event:x,listeners:D}),x.target=cd)))}function ep(f,x){var S={};return S[f.toLowerCase()]=x.toLowerCase(),S["Webkit"+f]="webkit"+x,S["Moz"+f]="moz"+x,S}var dd={animationend:ep("Animation","AnimationEnd"),animationiteration:ep("Animation","AnimationIteration"),animationstart:ep("Animation","AnimationStart"),transitionend:ep("Transition","TransitionEnd")},_v={},yC={};o&&(yC=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function tp(f){if(_v[f])return _v[f];if(!dd[f])return f;var x=dd[f],S;for(S in x)if(x.hasOwnProperty(S)&&S in yC)return _v[f]=x[S];return f}var bC=tp("animationend"),jC=tp("animationiteration"),wC=tp("animationstart"),NC=tp("transitionend"),_C=new Map,SC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kl(f,x){_C.set(f,x),i(x,[f])}for(var Sv=0;Sv<SC.length;Sv++){var Cv=SC[Sv],Dz=Cv.toLowerCase(),Oz=Cv[0].toUpperCase()+Cv.slice(1);Kl(Dz,"on"+Oz)}Kl(bC,"onAnimationEnd"),Kl(jC,"onAnimationIteration"),Kl(wC,"onAnimationStart"),Kl("dblclick","onDoubleClick"),Kl("focusin","onFocus"),Kl("focusout","onBlur"),Kl(NC,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ph));function CC(f,x,S){var D=f.type||"unknown-event";f.currentTarget=S,xt(D,x,void 0,f),f.currentTarget=null}function kC(f,x){x=(x&4)!==0;for(var S=0;S<f.length;S++){var D=f[S],H=D.event;D=D.listeners;e:{var Y=void 0;if(x)for(var ne=D.length-1;0<=ne;ne--){var fe=D[ne],ye=fe.instance,Oe=fe.currentTarget;if(fe=fe.listener,ye!==Y&&H.isPropagationStopped())break e;CC(H,fe,Oe),Y=ye}else for(ne=0;ne<D.length;ne++){if(fe=D[ne],ye=fe.instance,Oe=fe.currentTarget,fe=fe.listener,ye!==Y&&H.isPropagationStopped())break e;CC(H,fe,Oe),Y=ye}}}if(Or)throw f=ia,Or=!1,ia=null,f}function on(f,x){var S=x[Ov];S===void 0&&(S=x[Ov]=new Set);var D=f+"__bubble";S.has(D)||(EC(x,f,2,!1),S.add(D))}function kv(f,x,S){var D=0;x&&(D|=4),EC(S,f,D,x)}var sp="_reactListening"+Math.random().toString(36).slice(2);function xh(f){if(!f[sp]){f[sp]=!0,r.forEach(function(S){S!=="selectionchange"&&(Rz.has(S)||kv(S,!1,f),kv(S,!0,f))});var x=f.nodeType===9?f:f.ownerDocument;x===null||x[sp]||(x[sp]=!0,kv("selectionchange",!1,x))}}function EC(f,x,S,D){switch(JS(x)){case 1:var H=Y9;break;case 4:H=Q9;break;default:H=dv}S=H.bind(null,x,S,f),H=void 0,!Ys||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(H=!0),D?H!==void 0?f.addEventListener(x,S,{capture:!0,passive:H}):f.addEventListener(x,S,!0):H!==void 0?f.addEventListener(x,S,{passive:H}):f.addEventListener(x,S,!1)}function Ev(f,x,S,D,H){var Y=D;if((x&1)===0&&(x&2)===0&&D!==null)e:for(;;){if(D===null)return;var ne=D.tag;if(ne===3||ne===4){var fe=D.stateNode.containerInfo;if(fe===H||fe.nodeType===8&&fe.parentNode===H)break;if(ne===4)for(ne=D.return;ne!==null;){var ye=ne.tag;if((ye===3||ye===4)&&(ye=ne.stateNode.containerInfo,ye===H||ye.nodeType===8&&ye.parentNode===H))return;ne=ne.return}for(;fe!==null;){if(ne=Vo(fe),ne===null)return;if(ye=ne.tag,ye===5||ye===6){D=Y=ne;continue e}fe=fe.parentNode}}D=D.return}ns(function(){var Oe=Y,rt=vr(S),ot=[];e:{var st=_C.get(f);if(st!==void 0){var Tt=mv,Ft=f;switch(f){case"keypress":if(Qf(S)===0)break e;case"keydown":case"keyup":Tt=uz;break;case"focusin":Ft="focus",Tt=xv;break;case"focusout":Ft="blur",Tt=xv;break;case"beforeblur":case"afterblur":Tt=xv;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=eC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Z9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=fz;break;case bC:case jC:case wC:Tt=sz;break;case NC:Tt=xz;break;case"scroll":Tt=J9;break;case"wheel":Tt=vz;break;case"copy":case"cut":case"paste":Tt=rz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=sC}var Bt=(x&4)!==0,Pn=!Bt&&f==="scroll",Te=Bt?st!==null?st+"Capture":null:st;Bt=[];for(var Ce=Oe,Ae;Ce!==null;){Ae=Ce;var pt=Ae.stateNode;if(Ae.tag===5&&pt!==null&&(Ae=pt,Te!==null&&(pt=os(Ce,Te),pt!=null&&Bt.push(gh(Ce,pt,Ae)))),Pn)break;Ce=Ce.return}0<Bt.length&&(st=new Tt(st,Ft,null,S,rt),ot.push({event:st,listeners:Bt}))}}if((x&7)===0){e:{if(st=f==="mouseover"||f==="pointerover",Tt=f==="mouseout"||f==="pointerout",st&&S!==As&&(Ft=S.relatedTarget||S.fromElement)&&(Vo(Ft)||Ft[sl]))break e;if((Tt||st)&&(st=rt.window===rt?rt:(st=rt.ownerDocument)?st.defaultView||st.parentWindow:window,Tt?(Ft=S.relatedTarget||S.toElement,Tt=Oe,Ft=Ft?Vo(Ft):null,Ft!==null&&(Pn=Pt(Ft),Ft!==Pn||Ft.tag!==5&&Ft.tag!==6)&&(Ft=null)):(Tt=null,Ft=Oe),Tt!==Ft)){if(Bt=eC,pt="onMouseLeave",Te="onMouseEnter",Ce="mouse",(f==="pointerout"||f==="pointerover")&&(Bt=sC,pt="onPointerLeave",Te="onPointerEnter",Ce="pointer"),Pn=Tt==null?st:md(Tt),Ae=Ft==null?st:md(Ft),st=new Bt(pt,Ce+"leave",Tt,S,rt),st.target=Pn,st.relatedTarget=Ae,pt=null,Vo(rt)===Oe&&(Bt=new Bt(Te,Ce+"enter",Ft,S,rt),Bt.target=Ae,Bt.relatedTarget=Pn,pt=Bt),Pn=pt,Tt&&Ft)t:{for(Bt=Tt,Te=Ft,Ce=0,Ae=Bt;Ae;Ae=ud(Ae))Ce++;for(Ae=0,pt=Te;pt;pt=ud(pt))Ae++;for(;0<Ce-Ae;)Bt=ud(Bt),Ce--;for(;0<Ae-Ce;)Te=ud(Te),Ae--;for(;Ce--;){if(Bt===Te||Te!==null&&Bt===Te.alternate)break t;Bt=ud(Bt),Te=ud(Te)}Bt=null}else Bt=null;Tt!==null&&PC(ot,st,Tt,Bt,!1),Ft!==null&&Pn!==null&&PC(ot,Pn,Ft,Bt,!0)}}e:{if(st=Oe?md(Oe):window,Tt=st.nodeName&&st.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&st.type==="file")var Ut=Sz;else if(oC(st))if(dC)Ut=Pz;else{Ut=kz;var Qt=Cz}else(Tt=st.nodeName)&&Tt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(Ut=Ez);if(Ut&&(Ut=Ut(f,Oe))){cC(ot,Ut,S,rt);break e}Qt&&Qt(f,st,Oe),f==="focusout"&&(Qt=st._wrapperState)&&Qt.controlled&&st.type==="number"&&Se(st,"number",st.value)}switch(Qt=Oe?md(Oe):window,f){case"focusin":(oC(Qt)||Qt.contentEditable==="true")&&(cd=Qt,wv=Oe,fh=null);break;case"focusout":fh=wv=cd=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,vC(ot,S,rt);break;case"selectionchange":if(Mz)break;case"keydown":case"keyup":vC(ot,S,rt)}var Jt;if(vv)e:{switch(f){case"compositionstart":var rs="onCompositionStart";break e;case"compositionend":rs="onCompositionEnd";break e;case"compositionupdate":rs="onCompositionUpdate";break e}rs=void 0}else od?iC(f,S)&&(rs="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(rs="onCompositionStart");rs&&(nC&&S.locale!=="ko"&&(od||rs!=="onCompositionStart"?rs==="onCompositionEnd"&&od&&(Jt=XS()):(Gl=rt,hv="value"in Gl?Gl.value:Gl.textContent,od=!0)),Qt=np(Oe,rs),0<Qt.length&&(rs=new tC(rs,f,null,S,rt),ot.push({event:rs,listeners:Qt}),Jt?rs.data=Jt:(Jt=lC(S),Jt!==null&&(rs.data=Jt)))),(Jt=bz?jz(f,S):wz(f,S))&&(Oe=np(Oe,"onBeforeInput"),0<Oe.length&&(rt=new tC("onBeforeInput","beforeinput",null,S,rt),ot.push({event:rt,listeners:Oe}),rt.data=Jt))}kC(ot,x)})}function gh(f,x,S){return{instance:f,listener:x,currentTarget:S}}function np(f,x){for(var S=x+"Capture",D=[];f!==null;){var H=f,Y=H.stateNode;H.tag===5&&Y!==null&&(H=Y,Y=os(f,S),Y!=null&&D.unshift(gh(f,Y,H)),Y=os(f,x),Y!=null&&D.push(gh(f,Y,H))),f=f.return}return D}function ud(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function PC(f,x,S,D,H){for(var Y=x._reactName,ne=[];S!==null&&S!==D;){var fe=S,ye=fe.alternate,Oe=fe.stateNode;if(ye!==null&&ye===D)break;fe.tag===5&&Oe!==null&&(fe=Oe,H?(ye=os(S,Y),ye!=null&&ne.unshift(gh(S,ye,fe))):H||(ye=os(S,Y),ye!=null&&ne.push(gh(S,ye,fe)))),S=S.return}ne.length!==0&&f.push({event:x,listeners:ne})}var Fz=/\r\n?/g,Lz=/\u0000|\uFFFD/g;function TC(f){return(typeof f=="string"?f:""+f).replace(Fz,`
`).replace(Lz,"")}function rp(f,x,S){if(x=TC(x),TC(f)!==x&&S)throw Error(n(425))}function ap(){}var Pv=null,Tv=null;function Av(f,x){return f==="textarea"||f==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var Mv=typeof setTimeout=="function"?setTimeout:void 0,Iz=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,Bz=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(f){return AC.resolve(null).then(f).catch(qz)}:Mv;function qz(f){setTimeout(function(){throw f})}function Dv(f,x){var S=x,D=0;do{var H=S.nextSibling;if(f.removeChild(S),H&&H.nodeType===8)if(S=H.data,S==="/$"){if(D===0){f.removeChild(H),lh(x);return}D--}else S!=="$"&&S!=="$?"&&S!=="$!"||D++;S=H}while(S);lh(x)}function Yl(f){for(;f!=null;f=f.nextSibling){var x=f.nodeType;if(x===1||x===3)break;if(x===8){if(x=f.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return f}function MC(f){f=f.previousSibling;for(var x=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"){if(x===0)return f;x--}else S==="/$"&&x++}f=f.previousSibling}return null}var hd=Math.random().toString(36).slice(2),wi="__reactFiber$"+hd,vh="__reactProps$"+hd,sl="__reactContainer$"+hd,Ov="__reactEvents$"+hd,zz="__reactListeners$"+hd,$z="__reactHandles$"+hd;function Vo(f){var x=f[wi];if(x)return x;for(var S=f.parentNode;S;){if(x=S[sl]||S[wi]){if(S=x.alternate,x.child!==null||S!==null&&S.child!==null)for(f=MC(f);f!==null;){if(S=f[wi])return S;f=MC(f)}return x}f=S,S=f.parentNode}return null}function yh(f){return f=f[wi]||f[sl],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function md(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function ip(f){return f[vh]||null}var Rv=[],fd=-1;function Ql(f){return{current:f}}function cn(f){0>fd||(f.current=Rv[fd],Rv[fd]=null,fd--)}function sn(f,x){fd++,Rv[fd]=f.current,f.current=x}var Jl={},ar=Ql(Jl),Ir=Ql(!1),Wo=Jl;function pd(f,x){var S=f.type.contextTypes;if(!S)return Jl;var D=f.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===x)return D.__reactInternalMemoizedMaskedChildContext;var H={},Y;for(Y in S)H[Y]=x[Y];return D&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=x,f.__reactInternalMemoizedMaskedChildContext=H),H}function Br(f){return f=f.childContextTypes,f!=null}function lp(){cn(Ir),cn(ar)}function DC(f,x,S){if(ar.current!==Jl)throw Error(n(168));sn(ar,x),sn(Ir,S)}function OC(f,x,S){var D=f.stateNode;if(x=x.childContextTypes,typeof D.getChildContext!="function")return S;D=D.getChildContext();for(var H in D)if(!(H in x))throw Error(n(108,G(f)||"Unknown",H));return L({},S,D)}function op(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Jl,Wo=ar.current,sn(ar,f),sn(Ir,Ir.current),!0}function RC(f,x,S){var D=f.stateNode;if(!D)throw Error(n(169));S?(f=OC(f,x,Wo),D.__reactInternalMemoizedMergedChildContext=f,cn(Ir),cn(ar),sn(ar,f)):cn(Ir),sn(Ir,S)}var nl=null,cp=!1,Fv=!1;function FC(f){nl===null?nl=[f]:nl.push(f)}function Uz(f){cp=!0,FC(f)}function Xl(){if(!Fv&&nl!==null){Fv=!0;var f=0,x=ie;try{var S=nl;for(ie=1;f<S.length;f++){var D=S[f];do D=D(!0);while(D!==null)}nl=null,cp=!1}catch(H){throw nl!==null&&(nl=nl.slice(f+1)),Zc($l,Xl),H}finally{ie=x,Fv=!1}}return null}var xd=[],gd=0,dp=null,up=0,_a=[],Sa=0,Ho=null,rl=1,al="";function Go(f,x){xd[gd++]=up,xd[gd++]=dp,dp=f,up=x}function LC(f,x,S){_a[Sa++]=rl,_a[Sa++]=al,_a[Sa++]=Ho,Ho=f;var D=rl;f=al;var H=32-xe(D)-1;D&=~(1<<H),S+=1;var Y=32-xe(x)+H;if(30<Y){var ne=H-H%5;Y=(D&(1<<ne)-1).toString(32),D>>=ne,H-=ne,rl=1<<32-xe(x)+H|S<<H|D,al=Y+f}else rl=1<<Y|S<<H|D,al=f}function Lv(f){f.return!==null&&(Go(f,1),LC(f,1,0))}function Iv(f){for(;f===dp;)dp=xd[--gd],xd[gd]=null,up=xd[--gd],xd[gd]=null;for(;f===Ho;)Ho=_a[--Sa],_a[Sa]=null,al=_a[--Sa],_a[Sa]=null,rl=_a[--Sa],_a[Sa]=null}var oa=null,ca=null,pn=!1,Ya=null;function IC(f,x){var S=Pa(5,null,null,0);S.elementType="DELETED",S.stateNode=x,S.return=f,x=f.deletions,x===null?(f.deletions=[S],f.flags|=16):x.push(S)}function BC(f,x){switch(f.tag){case 5:var S=f.type;return x=x.nodeType!==1||S.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(f.stateNode=x,oa=f,ca=Yl(x.firstChild),!0):!1;case 6:return x=f.pendingProps===""||x.nodeType!==3?null:x,x!==null?(f.stateNode=x,oa=f,ca=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(S=Ho!==null?{id:rl,overflow:al}:null,f.memoizedState={dehydrated:x,treeContext:S,retryLane:1073741824},S=Pa(18,null,null,0),S.stateNode=x,S.return=f,f.child=S,oa=f,ca=null,!0):!1;default:return!1}}function Bv(f){return(f.mode&1)!==0&&(f.flags&128)===0}function qv(f){if(pn){var x=ca;if(x){var S=x;if(!BC(f,x)){if(Bv(f))throw Error(n(418));x=Yl(S.nextSibling);var D=oa;x&&BC(f,x)?IC(D,S):(f.flags=f.flags&-4097|2,pn=!1,oa=f)}}else{if(Bv(f))throw Error(n(418));f.flags=f.flags&-4097|2,pn=!1,oa=f}}}function qC(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;oa=f}function hp(f){if(f!==oa)return!1;if(!pn)return qC(f),pn=!0,!1;var x;if((x=f.tag!==3)&&!(x=f.tag!==5)&&(x=f.type,x=x!=="head"&&x!=="body"&&!Av(f.type,f.memoizedProps)),x&&(x=ca)){if(Bv(f))throw zC(),Error(n(418));for(;x;)IC(f,x),x=Yl(x.nextSibling)}if(qC(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,x=0;f;){if(f.nodeType===8){var S=f.data;if(S==="/$"){if(x===0){ca=Yl(f.nextSibling);break e}x--}else S!=="$"&&S!=="$!"&&S!=="$?"||x++}f=f.nextSibling}ca=null}}else ca=oa?Yl(f.stateNode.nextSibling):null;return!0}function zC(){for(var f=ca;f;)f=Yl(f.nextSibling)}function vd(){ca=oa=null,pn=!1}function zv(f){Ya===null?Ya=[f]:Ya.push(f)}var Vz=_.ReactCurrentBatchConfig;function bh(f,x,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(n(309));var D=S.stateNode}if(!D)throw Error(n(147,f));var H=D,Y=""+f;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===Y?x.ref:(x=function(ne){var fe=H.refs;ne===null?delete fe[Y]:fe[Y]=ne},x._stringRef=Y,x)}if(typeof f!="string")throw Error(n(284));if(!S._owner)throw Error(n(290,f))}return f}function mp(f,x){throw f=Object.prototype.toString.call(x),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":f))}function $C(f){var x=f._init;return x(f._payload)}function UC(f){function x(Te,Ce){if(f){var Ae=Te.deletions;Ae===null?(Te.deletions=[Ce],Te.flags|=16):Ae.push(Ce)}}function S(Te,Ce){if(!f)return null;for(;Ce!==null;)x(Te,Ce),Ce=Ce.sibling;return null}function D(Te,Ce){for(Te=new Map;Ce!==null;)Ce.key!==null?Te.set(Ce.key,Ce):Te.set(Ce.index,Ce),Ce=Ce.sibling;return Te}function H(Te,Ce){return Te=io(Te,Ce),Te.index=0,Te.sibling=null,Te}function Y(Te,Ce,Ae){return Te.index=Ae,f?(Ae=Te.alternate,Ae!==null?(Ae=Ae.index,Ae<Ce?(Te.flags|=2,Ce):Ae):(Te.flags|=2,Ce)):(Te.flags|=1048576,Ce)}function ne(Te){return f&&Te.alternate===null&&(Te.flags|=2),Te}function fe(Te,Ce,Ae,pt){return Ce===null||Ce.tag!==6?(Ce=My(Ae,Te.mode,pt),Ce.return=Te,Ce):(Ce=H(Ce,Ae),Ce.return=Te,Ce)}function ye(Te,Ce,Ae,pt){var Ut=Ae.type;return Ut===P?rt(Te,Ce,Ae.props.children,pt,Ae.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===V&&$C(Ut)===Ce.type)?(pt=H(Ce,Ae.props),pt.ref=bh(Te,Ce,Ae),pt.return=Te,pt):(pt=Lp(Ae.type,Ae.key,Ae.props,null,Te.mode,pt),pt.ref=bh(Te,Ce,Ae),pt.return=Te,pt)}function Oe(Te,Ce,Ae,pt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ae.containerInfo||Ce.stateNode.implementation!==Ae.implementation?(Ce=Dy(Ae,Te.mode,pt),Ce.return=Te,Ce):(Ce=H(Ce,Ae.children||[]),Ce.return=Te,Ce)}function rt(Te,Ce,Ae,pt,Ut){return Ce===null||Ce.tag!==7?(Ce=tc(Ae,Te.mode,pt,Ut),Ce.return=Te,Ce):(Ce=H(Ce,Ae),Ce.return=Te,Ce)}function ot(Te,Ce,Ae){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=My(""+Ce,Te.mode,Ae),Ce.return=Te,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case T:return Ae=Lp(Ce.type,Ce.key,Ce.props,null,Te.mode,Ae),Ae.ref=bh(Te,null,Ce),Ae.return=Te,Ae;case A:return Ce=Dy(Ce,Te.mode,Ae),Ce.return=Te,Ce;case V:var pt=Ce._init;return ot(Te,pt(Ce._payload),Ae)}if(Ge(Ce)||$(Ce))return Ce=tc(Ce,Te.mode,Ae,null),Ce.return=Te,Ce;mp(Te,Ce)}return null}function st(Te,Ce,Ae,pt){var Ut=Ce!==null?Ce.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return Ut!==null?null:fe(Te,Ce,""+Ae,pt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:return Ae.key===Ut?ye(Te,Ce,Ae,pt):null;case A:return Ae.key===Ut?Oe(Te,Ce,Ae,pt):null;case V:return Ut=Ae._init,st(Te,Ce,Ut(Ae._payload),pt)}if(Ge(Ae)||$(Ae))return Ut!==null?null:rt(Te,Ce,Ae,pt,null);mp(Te,Ae)}return null}function Tt(Te,Ce,Ae,pt,Ut){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Te=Te.get(Ae)||null,fe(Ce,Te,""+pt,Ut);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case T:return Te=Te.get(pt.key===null?Ae:pt.key)||null,ye(Ce,Te,pt,Ut);case A:return Te=Te.get(pt.key===null?Ae:pt.key)||null,Oe(Ce,Te,pt,Ut);case V:var Qt=pt._init;return Tt(Te,Ce,Ae,Qt(pt._payload),Ut)}if(Ge(pt)||$(pt))return Te=Te.get(Ae)||null,rt(Ce,Te,pt,Ut,null);mp(Ce,pt)}return null}function Ft(Te,Ce,Ae,pt){for(var Ut=null,Qt=null,Jt=Ce,rs=Ce=0,Gn=null;Jt!==null&&rs<Ae.length;rs++){Jt.index>rs?(Gn=Jt,Jt=null):Gn=Jt.sibling;var Is=st(Te,Jt,Ae[rs],pt);if(Is===null){Jt===null&&(Jt=Gn);break}f&&Jt&&Is.alternate===null&&x(Te,Jt),Ce=Y(Is,Ce,rs),Qt===null?Ut=Is:Qt.sibling=Is,Qt=Is,Jt=Gn}if(rs===Ae.length)return S(Te,Jt),pn&&Go(Te,rs),Ut;if(Jt===null){for(;rs<Ae.length;rs++)Jt=ot(Te,Ae[rs],pt),Jt!==null&&(Ce=Y(Jt,Ce,rs),Qt===null?Ut=Jt:Qt.sibling=Jt,Qt=Jt);return pn&&Go(Te,rs),Ut}for(Jt=D(Te,Jt);rs<Ae.length;rs++)Gn=Tt(Jt,Te,rs,Ae[rs],pt),Gn!==null&&(f&&Gn.alternate!==null&&Jt.delete(Gn.key===null?rs:Gn.key),Ce=Y(Gn,Ce,rs),Qt===null?Ut=Gn:Qt.sibling=Gn,Qt=Gn);return f&&Jt.forEach(function(lo){return x(Te,lo)}),pn&&Go(Te,rs),Ut}function Bt(Te,Ce,Ae,pt){var Ut=$(Ae);if(typeof Ut!="function")throw Error(n(150));if(Ae=Ut.call(Ae),Ae==null)throw Error(n(151));for(var Qt=Ut=null,Jt=Ce,rs=Ce=0,Gn=null,Is=Ae.next();Jt!==null&&!Is.done;rs++,Is=Ae.next()){Jt.index>rs?(Gn=Jt,Jt=null):Gn=Jt.sibling;var lo=st(Te,Jt,Is.value,pt);if(lo===null){Jt===null&&(Jt=Gn);break}f&&Jt&&lo.alternate===null&&x(Te,Jt),Ce=Y(lo,Ce,rs),Qt===null?Ut=lo:Qt.sibling=lo,Qt=lo,Jt=Gn}if(Is.done)return S(Te,Jt),pn&&Go(Te,rs),Ut;if(Jt===null){for(;!Is.done;rs++,Is=Ae.next())Is=ot(Te,Is.value,pt),Is!==null&&(Ce=Y(Is,Ce,rs),Qt===null?Ut=Is:Qt.sibling=Is,Qt=Is);return pn&&Go(Te,rs),Ut}for(Jt=D(Te,Jt);!Is.done;rs++,Is=Ae.next())Is=Tt(Jt,Te,rs,Is.value,pt),Is!==null&&(f&&Is.alternate!==null&&Jt.delete(Is.key===null?rs:Is.key),Ce=Y(Is,Ce,rs),Qt===null?Ut=Is:Qt.sibling=Is,Qt=Is);return f&&Jt.forEach(function(N$){return x(Te,N$)}),pn&&Go(Te,rs),Ut}function Pn(Te,Ce,Ae,pt){if(typeof Ae=="object"&&Ae!==null&&Ae.type===P&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:e:{for(var Ut=Ae.key,Qt=Ce;Qt!==null;){if(Qt.key===Ut){if(Ut=Ae.type,Ut===P){if(Qt.tag===7){S(Te,Qt.sibling),Ce=H(Qt,Ae.props.children),Ce.return=Te,Te=Ce;break e}}else if(Qt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===V&&$C(Ut)===Qt.type){S(Te,Qt.sibling),Ce=H(Qt,Ae.props),Ce.ref=bh(Te,Qt,Ae),Ce.return=Te,Te=Ce;break e}S(Te,Qt);break}else x(Te,Qt);Qt=Qt.sibling}Ae.type===P?(Ce=tc(Ae.props.children,Te.mode,pt,Ae.key),Ce.return=Te,Te=Ce):(pt=Lp(Ae.type,Ae.key,Ae.props,null,Te.mode,pt),pt.ref=bh(Te,Ce,Ae),pt.return=Te,Te=pt)}return ne(Te);case A:e:{for(Qt=Ae.key;Ce!==null;){if(Ce.key===Qt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ae.containerInfo&&Ce.stateNode.implementation===Ae.implementation){S(Te,Ce.sibling),Ce=H(Ce,Ae.children||[]),Ce.return=Te,Te=Ce;break e}else{S(Te,Ce);break}else x(Te,Ce);Ce=Ce.sibling}Ce=Dy(Ae,Te.mode,pt),Ce.return=Te,Te=Ce}return ne(Te);case V:return Qt=Ae._init,Pn(Te,Ce,Qt(Ae._payload),pt)}if(Ge(Ae))return Ft(Te,Ce,Ae,pt);if($(Ae))return Bt(Te,Ce,Ae,pt);mp(Te,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,Ce!==null&&Ce.tag===6?(S(Te,Ce.sibling),Ce=H(Ce,Ae),Ce.return=Te,Te=Ce):(S(Te,Ce),Ce=My(Ae,Te.mode,pt),Ce.return=Te,Te=Ce),ne(Te)):S(Te,Ce)}return Pn}var yd=UC(!0),VC=UC(!1),fp=Ql(null),pp=null,bd=null,$v=null;function Uv(){$v=bd=pp=null}function Vv(f){var x=fp.current;cn(fp),f._currentValue=x}function Wv(f,x,S){for(;f!==null;){var D=f.alternate;if((f.childLanes&x)!==x?(f.childLanes|=x,D!==null&&(D.childLanes|=x)):D!==null&&(D.childLanes&x)!==x&&(D.childLanes|=x),f===S)break;f=f.return}}function jd(f,x){pp=f,$v=bd=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&x)!==0&&(qr=!0),f.firstContext=null)}function Ca(f){var x=f._currentValue;if($v!==f)if(f={context:f,memoizedValue:x,next:null},bd===null){if(pp===null)throw Error(n(308));bd=f,pp.dependencies={lanes:0,firstContext:f}}else bd=bd.next=f;return x}var Ko=null;function Hv(f){Ko===null?Ko=[f]:Ko.push(f)}function WC(f,x,S,D){var H=x.interleaved;return H===null?(S.next=S,Hv(x)):(S.next=H.next,H.next=S),x.interleaved=S,il(f,D)}function il(f,x){f.lanes|=x;var S=f.alternate;for(S!==null&&(S.lanes|=x),S=f,f=f.return;f!==null;)f.childLanes|=x,S=f.alternate,S!==null&&(S.childLanes|=x),S=f,f=f.return;return S.tag===3?S.stateNode:null}var Zl=!1;function Gv(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HC(f,x){f=f.updateQueue,x.updateQueue===f&&(x.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ll(f,x){return{eventTime:f,lane:x,tag:0,payload:null,callback:null,next:null}}function eo(f,x,S){var D=f.updateQueue;if(D===null)return null;if(D=D.shared,(Rs&2)!==0){var H=D.pending;return H===null?x.next=x:(x.next=H.next,H.next=x),D.pending=x,il(f,S)}return H=D.interleaved,H===null?(x.next=x,Hv(D)):(x.next=H.next,H.next=x),D.interleaved=x,il(f,S)}function xp(f,x,S){if(x=x.updateQueue,x!==null&&(x=x.shared,(S&4194240)!==0)){var D=x.lanes;D&=f.pendingLanes,S|=D,x.lanes=S,ad(f,S)}}function GC(f,x){var S=f.updateQueue,D=f.alternate;if(D!==null&&(D=D.updateQueue,S===D)){var H=null,Y=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};Y===null?H=Y=ne:Y=Y.next=ne,S=S.next}while(S!==null);Y===null?H=Y=x:Y=Y.next=x}else H=Y=x;S={baseState:D.baseState,firstBaseUpdate:H,lastBaseUpdate:Y,shared:D.shared,effects:D.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=x:f.next=x,S.lastBaseUpdate=x}function gp(f,x,S,D){var H=f.updateQueue;Zl=!1;var Y=H.firstBaseUpdate,ne=H.lastBaseUpdate,fe=H.shared.pending;if(fe!==null){H.shared.pending=null;var ye=fe,Oe=ye.next;ye.next=null,ne===null?Y=Oe:ne.next=Oe,ne=ye;var rt=f.alternate;rt!==null&&(rt=rt.updateQueue,fe=rt.lastBaseUpdate,fe!==ne&&(fe===null?rt.firstBaseUpdate=Oe:fe.next=Oe,rt.lastBaseUpdate=ye))}if(Y!==null){var ot=H.baseState;ne=0,rt=Oe=ye=null,fe=Y;do{var st=fe.lane,Tt=fe.eventTime;if((D&st)===st){rt!==null&&(rt=rt.next={eventTime:Tt,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var Ft=f,Bt=fe;switch(st=x,Tt=S,Bt.tag){case 1:if(Ft=Bt.payload,typeof Ft=="function"){ot=Ft.call(Tt,ot,st);break e}ot=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Bt.payload,st=typeof Ft=="function"?Ft.call(Tt,ot,st):Ft,st==null)break e;ot=L({},ot,st);break e;case 2:Zl=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,st=H.effects,st===null?H.effects=[fe]:st.push(fe))}else Tt={eventTime:Tt,lane:st,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},rt===null?(Oe=rt=Tt,ye=ot):rt=rt.next=Tt,ne|=st;if(fe=fe.next,fe===null){if(fe=H.shared.pending,fe===null)break;st=fe,fe=st.next,st.next=null,H.lastBaseUpdate=st,H.shared.pending=null}}while(!0);if(rt===null&&(ye=ot),H.baseState=ye,H.firstBaseUpdate=Oe,H.lastBaseUpdate=rt,x=H.shared.interleaved,x!==null){H=x;do ne|=H.lane,H=H.next;while(H!==x)}else Y===null&&(H.shared.lanes=0);Jo|=ne,f.lanes=ne,f.memoizedState=ot}}function KC(f,x,S){if(f=x.effects,x.effects=null,f!==null)for(x=0;x<f.length;x++){var D=f[x],H=D.callback;if(H!==null){if(D.callback=null,D=S,typeof H!="function")throw Error(n(191,H));H.call(D)}}}var jh={},Ni=Ql(jh),wh=Ql(jh),Nh=Ql(jh);function Yo(f){if(f===jh)throw Error(n(174));return f}function Kv(f,x){switch(sn(Nh,x),sn(wh,f),sn(Ni,jh),f=x.nodeType,f){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:ze(null,"");break;default:f=f===8?x.parentNode:x,x=f.namespaceURI||null,f=f.tagName,x=ze(x,f)}cn(Ni),sn(Ni,x)}function wd(){cn(Ni),cn(wh),cn(Nh)}function YC(f){Yo(Nh.current);var x=Yo(Ni.current),S=ze(x,f.type);x!==S&&(sn(wh,f),sn(Ni,S))}function Yv(f){wh.current===f&&(cn(Ni),cn(wh))}var bn=Ql(0);function vp(f){for(var x=f;x!==null;){if(x.tag===13){var S=x.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var Qv=[];function Jv(){for(var f=0;f<Qv.length;f++)Qv[f]._workInProgressVersionPrimary=null;Qv.length=0}var yp=_.ReactCurrentDispatcher,Xv=_.ReactCurrentBatchConfig,Qo=0,jn=null,In=null,Wn=null,bp=!1,_h=!1,Sh=0,Wz=0;function ir(){throw Error(n(321))}function Zv(f,x){if(x===null)return!1;for(var S=0;S<x.length&&S<f.length;S++)if(!Ka(f[S],x[S]))return!1;return!0}function ey(f,x,S,D,H,Y){if(Qo=Y,jn=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,yp.current=f===null||f.memoizedState===null?Yz:Qz,f=S(D,H),_h){Y=0;do{if(_h=!1,Sh=0,25<=Y)throw Error(n(301));Y+=1,Wn=In=null,x.updateQueue=null,yp.current=Jz,f=S(D,H)}while(_h)}if(yp.current=Np,x=In!==null&&In.next!==null,Qo=0,Wn=In=jn=null,bp=!1,x)throw Error(n(300));return f}function ty(){var f=Sh!==0;return Sh=0,f}function _i(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?jn.memoizedState=Wn=f:Wn=Wn.next=f,Wn}function ka(){if(In===null){var f=jn.alternate;f=f!==null?f.memoizedState:null}else f=In.next;var x=Wn===null?jn.memoizedState:Wn.next;if(x!==null)Wn=x,In=f;else{if(f===null)throw Error(n(310));In=f,f={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Wn===null?jn.memoizedState=Wn=f:Wn=Wn.next=f}return Wn}function Ch(f,x){return typeof x=="function"?x(f):x}function sy(f){var x=ka(),S=x.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=f;var D=In,H=D.baseQueue,Y=S.pending;if(Y!==null){if(H!==null){var ne=H.next;H.next=Y.next,Y.next=ne}D.baseQueue=H=Y,S.pending=null}if(H!==null){Y=H.next,D=D.baseState;var fe=ne=null,ye=null,Oe=Y;do{var rt=Oe.lane;if((Qo&rt)===rt)ye!==null&&(ye=ye.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),D=Oe.hasEagerState?Oe.eagerState:f(D,Oe.action);else{var ot={lane:rt,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};ye===null?(fe=ye=ot,ne=D):ye=ye.next=ot,jn.lanes|=rt,Jo|=rt}Oe=Oe.next}while(Oe!==null&&Oe!==Y);ye===null?ne=D:ye.next=fe,Ka(D,x.memoizedState)||(qr=!0),x.memoizedState=D,x.baseState=ne,x.baseQueue=ye,S.lastRenderedState=D}if(f=S.interleaved,f!==null){H=f;do Y=H.lane,jn.lanes|=Y,Jo|=Y,H=H.next;while(H!==f)}else H===null&&(S.lanes=0);return[x.memoizedState,S.dispatch]}function ny(f){var x=ka(),S=x.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=f;var D=S.dispatch,H=S.pending,Y=x.memoizedState;if(H!==null){S.pending=null;var ne=H=H.next;do Y=f(Y,ne.action),ne=ne.next;while(ne!==H);Ka(Y,x.memoizedState)||(qr=!0),x.memoizedState=Y,x.baseQueue===null&&(x.baseState=Y),S.lastRenderedState=Y}return[Y,D]}function QC(){}function JC(f,x){var S=jn,D=ka(),H=x(),Y=!Ka(D.memoizedState,H);if(Y&&(D.memoizedState=H,qr=!0),D=D.queue,ry(ek.bind(null,S,D,f),[f]),D.getSnapshot!==x||Y||Wn!==null&&Wn.memoizedState.tag&1){if(S.flags|=2048,kh(9,ZC.bind(null,S,D,H,x),void 0,null),Hn===null)throw Error(n(349));(Qo&30)!==0||XC(S,x,H)}return H}function XC(f,x,S){f.flags|=16384,f={getSnapshot:x,value:S},x=jn.updateQueue,x===null?(x={lastEffect:null,stores:null},jn.updateQueue=x,x.stores=[f]):(S=x.stores,S===null?x.stores=[f]:S.push(f))}function ZC(f,x,S,D){x.value=S,x.getSnapshot=D,tk(x)&&sk(f)}function ek(f,x,S){return S(function(){tk(x)&&sk(f)})}function tk(f){var x=f.getSnapshot;f=f.value;try{var S=x();return!Ka(f,S)}catch{return!0}}function sk(f){var x=il(f,1);x!==null&&Za(x,f,1,-1)}function nk(f){var x=_i();return typeof f=="function"&&(f=f()),x.memoizedState=x.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ch,lastRenderedState:f},x.queue=f,f=f.dispatch=Kz.bind(null,jn,f),[x.memoizedState,f]}function kh(f,x,S,D){return f={tag:f,create:x,destroy:S,deps:D,next:null},x=jn.updateQueue,x===null?(x={lastEffect:null,stores:null},jn.updateQueue=x,x.lastEffect=f.next=f):(S=x.lastEffect,S===null?x.lastEffect=f.next=f:(D=S.next,S.next=f,f.next=D,x.lastEffect=f)),f}function rk(){return ka().memoizedState}function jp(f,x,S,D){var H=_i();jn.flags|=f,H.memoizedState=kh(1|x,S,void 0,D===void 0?null:D)}function wp(f,x,S,D){var H=ka();D=D===void 0?null:D;var Y=void 0;if(In!==null){var ne=In.memoizedState;if(Y=ne.destroy,D!==null&&Zv(D,ne.deps)){H.memoizedState=kh(x,S,Y,D);return}}jn.flags|=f,H.memoizedState=kh(1|x,S,Y,D)}function ak(f,x){return jp(8390656,8,f,x)}function ry(f,x){return wp(2048,8,f,x)}function ik(f,x){return wp(4,2,f,x)}function lk(f,x){return wp(4,4,f,x)}function ok(f,x){if(typeof x=="function")return f=f(),x(f),function(){x(null)};if(x!=null)return f=f(),x.current=f,function(){x.current=null}}function ck(f,x,S){return S=S!=null?S.concat([f]):null,wp(4,4,ok.bind(null,x,f),S)}function ay(){}function dk(f,x){var S=ka();x=x===void 0?null:x;var D=S.memoizedState;return D!==null&&x!==null&&Zv(x,D[1])?D[0]:(S.memoizedState=[f,x],f)}function uk(f,x){var S=ka();x=x===void 0?null:x;var D=S.memoizedState;return D!==null&&x!==null&&Zv(x,D[1])?D[0]:(f=f(),S.memoizedState=[f,x],f)}function hk(f,x,S){return(Qo&21)===0?(f.baseState&&(f.baseState=!1,qr=!0),f.memoizedState=S):(Ka(S,x)||(S=Vf(),jn.lanes|=S,Jo|=S,f.baseState=!0),x)}function Hz(f,x){var S=ie;ie=S!==0&&4>S?S:4,f(!0);var D=Xv.transition;Xv.transition={};try{f(!1),x()}finally{ie=S,Xv.transition=D}}function mk(){return ka().memoizedState}function Gz(f,x,S){var D=ro(f);if(S={lane:D,action:S,hasEagerState:!1,eagerState:null,next:null},fk(f))pk(x,S);else if(S=WC(f,x,S,D),S!==null){var H=wr();Za(S,f,D,H),xk(S,x,D)}}function Kz(f,x,S){var D=ro(f),H={lane:D,action:S,hasEagerState:!1,eagerState:null,next:null};if(fk(f))pk(x,H);else{var Y=f.alternate;if(f.lanes===0&&(Y===null||Y.lanes===0)&&(Y=x.lastRenderedReducer,Y!==null))try{var ne=x.lastRenderedState,fe=Y(ne,S);if(H.hasEagerState=!0,H.eagerState=fe,Ka(fe,ne)){var ye=x.interleaved;ye===null?(H.next=H,Hv(x)):(H.next=ye.next,ye.next=H),x.interleaved=H;return}}catch{}finally{}S=WC(f,x,H,D),S!==null&&(H=wr(),Za(S,f,D,H),xk(S,x,D))}}function fk(f){var x=f.alternate;return f===jn||x!==null&&x===jn}function pk(f,x){_h=bp=!0;var S=f.pending;S===null?x.next=x:(x.next=S.next,S.next=x),f.pending=x}function xk(f,x,S){if((S&4194240)!==0){var D=x.lanes;D&=f.pendingLanes,S|=D,x.lanes=S,ad(f,S)}}var Np={readContext:Ca,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},Yz={readContext:Ca,useCallback:function(f,x){return _i().memoizedState=[f,x===void 0?null:x],f},useContext:Ca,useEffect:ak,useImperativeHandle:function(f,x,S){return S=S!=null?S.concat([f]):null,jp(4194308,4,ok.bind(null,x,f),S)},useLayoutEffect:function(f,x){return jp(4194308,4,f,x)},useInsertionEffect:function(f,x){return jp(4,2,f,x)},useMemo:function(f,x){var S=_i();return x=x===void 0?null:x,f=f(),S.memoizedState=[f,x],f},useReducer:function(f,x,S){var D=_i();return x=S!==void 0?S(x):x,D.memoizedState=D.baseState=x,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:x},D.queue=f,f=f.dispatch=Gz.bind(null,jn,f),[D.memoizedState,f]},useRef:function(f){var x=_i();return f={current:f},x.memoizedState=f},useState:nk,useDebugValue:ay,useDeferredValue:function(f){return _i().memoizedState=f},useTransition:function(){var f=nk(!1),x=f[0];return f=Hz.bind(null,f[1]),_i().memoizedState=f,[x,f]},useMutableSource:function(){},useSyncExternalStore:function(f,x,S){var D=jn,H=_i();if(pn){if(S===void 0)throw Error(n(407));S=S()}else{if(S=x(),Hn===null)throw Error(n(349));(Qo&30)!==0||XC(D,x,S)}H.memoizedState=S;var Y={value:S,getSnapshot:x};return H.queue=Y,ak(ek.bind(null,D,Y,f),[f]),D.flags|=2048,kh(9,ZC.bind(null,D,Y,S,x),void 0,null),S},useId:function(){var f=_i(),x=Hn.identifierPrefix;if(pn){var S=al,D=rl;S=(D&~(1<<32-xe(D)-1)).toString(32)+S,x=":"+x+"R"+S,S=Sh++,0<S&&(x+="H"+S.toString(32)),x+=":"}else S=Wz++,x=":"+x+"r"+S.toString(32)+":";return f.memoizedState=x},unstable_isNewReconciler:!1},Qz={readContext:Ca,useCallback:dk,useContext:Ca,useEffect:ry,useImperativeHandle:ck,useInsertionEffect:ik,useLayoutEffect:lk,useMemo:uk,useReducer:sy,useRef:rk,useState:function(){return sy(Ch)},useDebugValue:ay,useDeferredValue:function(f){var x=ka();return hk(x,In.memoizedState,f)},useTransition:function(){var f=sy(Ch)[0],x=ka().memoizedState;return[f,x]},useMutableSource:QC,useSyncExternalStore:JC,useId:mk,unstable_isNewReconciler:!1},Jz={readContext:Ca,useCallback:dk,useContext:Ca,useEffect:ry,useImperativeHandle:ck,useInsertionEffect:ik,useLayoutEffect:lk,useMemo:uk,useReducer:ny,useRef:rk,useState:function(){return ny(Ch)},useDebugValue:ay,useDeferredValue:function(f){var x=ka();return In===null?x.memoizedState=f:hk(x,In.memoizedState,f)},useTransition:function(){var f=ny(Ch)[0],x=ka().memoizedState;return[f,x]},useMutableSource:QC,useSyncExternalStore:JC,useId:mk,unstable_isNewReconciler:!1};function Qa(f,x){if(f&&f.defaultProps){x=L({},x),f=f.defaultProps;for(var S in f)x[S]===void 0&&(x[S]=f[S]);return x}return x}function iy(f,x,S,D){x=f.memoizedState,S=S(D,x),S=S==null?x:L({},x,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var _p={isMounted:function(f){return(f=f._reactInternals)?Pt(f)===f:!1},enqueueSetState:function(f,x,S){f=f._reactInternals;var D=wr(),H=ro(f),Y=ll(D,H);Y.payload=x,S!=null&&(Y.callback=S),x=eo(f,Y,H),x!==null&&(Za(x,f,H,D),xp(x,f,H))},enqueueReplaceState:function(f,x,S){f=f._reactInternals;var D=wr(),H=ro(f),Y=ll(D,H);Y.tag=1,Y.payload=x,S!=null&&(Y.callback=S),x=eo(f,Y,H),x!==null&&(Za(x,f,H,D),xp(x,f,H))},enqueueForceUpdate:function(f,x){f=f._reactInternals;var S=wr(),D=ro(f),H=ll(S,D);H.tag=2,x!=null&&(H.callback=x),x=eo(f,H,D),x!==null&&(Za(x,f,D,S),xp(x,f,D))}};function gk(f,x,S,D,H,Y,ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(D,Y,ne):x.prototype&&x.prototype.isPureReactComponent?!mh(S,D)||!mh(H,Y):!0}function vk(f,x,S){var D=!1,H=Jl,Y=x.contextType;return typeof Y=="object"&&Y!==null?Y=Ca(Y):(H=Br(x)?Wo:ar.current,D=x.contextTypes,Y=(D=D!=null)?pd(f,H):Jl),x=new x(S,Y),f.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=_p,f.stateNode=x,x._reactInternals=f,D&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=H,f.__reactInternalMemoizedMaskedChildContext=Y),x}function yk(f,x,S,D){f=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(S,D),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(S,D),x.state!==f&&_p.enqueueReplaceState(x,x.state,null)}function ly(f,x,S,D){var H=f.stateNode;H.props=S,H.state=f.memoizedState,H.refs={},Gv(f);var Y=x.contextType;typeof Y=="object"&&Y!==null?H.context=Ca(Y):(Y=Br(x)?Wo:ar.current,H.context=pd(f,Y)),H.state=f.memoizedState,Y=x.getDerivedStateFromProps,typeof Y=="function"&&(iy(f,x,Y,S),H.state=f.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(x=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),x!==H.state&&_p.enqueueReplaceState(H,H.state,null),gp(f,S,H,D),H.state=f.memoizedState),typeof H.componentDidMount=="function"&&(f.flags|=4194308)}function Nd(f,x){try{var S="",D=x;do S+=J(D),D=D.return;while(D);var H=S}catch(Y){H=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:f,source:x,stack:H,digest:null}}function oy(f,x,S){return{value:f,source:null,stack:S??null,digest:x??null}}function cy(f,x){try{console.error(x.value)}catch(S){setTimeout(function(){throw S})}}var Xz=typeof WeakMap=="function"?WeakMap:Map;function bk(f,x,S){S=ll(-1,S),S.tag=3,S.payload={element:null};var D=x.value;return S.callback=function(){Ap||(Ap=!0,_y=D),cy(f,x)},S}function jk(f,x,S){S=ll(-1,S),S.tag=3;var D=f.type.getDerivedStateFromError;if(typeof D=="function"){var H=x.value;S.payload=function(){return D(H)},S.callback=function(){cy(f,x)}}var Y=f.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(S.callback=function(){cy(f,x),typeof D!="function"&&(so===null?so=new Set([this]):so.add(this));var ne=x.stack;this.componentDidCatch(x.value,{componentStack:ne!==null?ne:""})}),S}function wk(f,x,S){var D=f.pingCache;if(D===null){D=f.pingCache=new Xz;var H=new Set;D.set(x,H)}else H=D.get(x),H===void 0&&(H=new Set,D.set(x,H));H.has(S)||(H.add(S),f=h$.bind(null,f,x,S),x.then(f,f))}function Nk(f){do{var x;if((x=f.tag===13)&&(x=f.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return f;f=f.return}while(f!==null);return null}function _k(f,x,S,D,H){return(f.mode&1)===0?(f===x?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(x=ll(-1,1),x.tag=2,eo(S,x,1))),S.lanes|=1),f):(f.flags|=65536,f.lanes=H,f)}var Zz=_.ReactCurrentOwner,qr=!1;function jr(f,x,S,D){x.child=f===null?VC(x,null,S,D):yd(x,f.child,S,D)}function Sk(f,x,S,D,H){S=S.render;var Y=x.ref;return jd(x,H),D=ey(f,x,S,D,Y,H),S=ty(),f!==null&&!qr?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~H,ol(f,x,H)):(pn&&S&&Lv(x),x.flags|=1,jr(f,x,D,H),x.child)}function Ck(f,x,S,D,H){if(f===null){var Y=S.type;return typeof Y=="function"&&!Ay(Y)&&Y.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(x.tag=15,x.type=Y,kk(f,x,Y,D,H)):(f=Lp(S.type,null,D,x,x.mode,H),f.ref=x.ref,f.return=x,x.child=f)}if(Y=f.child,(f.lanes&H)===0){var ne=Y.memoizedProps;if(S=S.compare,S=S!==null?S:mh,S(ne,D)&&f.ref===x.ref)return ol(f,x,H)}return x.flags|=1,f=io(Y,D),f.ref=x.ref,f.return=x,x.child=f}function kk(f,x,S,D,H){if(f!==null){var Y=f.memoizedProps;if(mh(Y,D)&&f.ref===x.ref)if(qr=!1,x.pendingProps=D=Y,(f.lanes&H)!==0)(f.flags&131072)!==0&&(qr=!0);else return x.lanes=f.lanes,ol(f,x,H)}return dy(f,x,S,D,H)}function Ek(f,x,S){var D=x.pendingProps,H=D.children,Y=f!==null?f.memoizedState:null;if(D.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(Sd,da),da|=S;else{if((S&1073741824)===0)return f=Y!==null?Y.baseLanes|S:S,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:f,cachePool:null,transitions:null},x.updateQueue=null,sn(Sd,da),da|=f,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=Y!==null?Y.baseLanes:S,sn(Sd,da),da|=D}else Y!==null?(D=Y.baseLanes|S,x.memoizedState=null):D=S,sn(Sd,da),da|=D;return jr(f,x,H,S),x.child}function Pk(f,x){var S=x.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(x.flags|=512,x.flags|=2097152)}function dy(f,x,S,D,H){var Y=Br(S)?Wo:ar.current;return Y=pd(x,Y),jd(x,H),S=ey(f,x,S,D,Y,H),D=ty(),f!==null&&!qr?(x.updateQueue=f.updateQueue,x.flags&=-2053,f.lanes&=~H,ol(f,x,H)):(pn&&D&&Lv(x),x.flags|=1,jr(f,x,S,H),x.child)}function Tk(f,x,S,D,H){if(Br(S)){var Y=!0;op(x)}else Y=!1;if(jd(x,H),x.stateNode===null)Cp(f,x),vk(x,S,D),ly(x,S,D,H),D=!0;else if(f===null){var ne=x.stateNode,fe=x.memoizedProps;ne.props=fe;var ye=ne.context,Oe=S.contextType;typeof Oe=="object"&&Oe!==null?Oe=Ca(Oe):(Oe=Br(S)?Wo:ar.current,Oe=pd(x,Oe));var rt=S.getDerivedStateFromProps,ot=typeof rt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";ot||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(fe!==D||ye!==Oe)&&yk(x,ne,D,Oe),Zl=!1;var st=x.memoizedState;ne.state=st,gp(x,D,ne,H),ye=x.memoizedState,fe!==D||st!==ye||Ir.current||Zl?(typeof rt=="function"&&(iy(x,S,rt,D),ye=x.memoizedState),(fe=Zl||gk(x,S,fe,D,st,ye,Oe))?(ot||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=D,x.memoizedState=ye),ne.props=D,ne.state=ye,ne.context=Oe,D=fe):(typeof ne.componentDidMount=="function"&&(x.flags|=4194308),D=!1)}else{ne=x.stateNode,HC(f,x),fe=x.memoizedProps,Oe=x.type===x.elementType?fe:Qa(x.type,fe),ne.props=Oe,ot=x.pendingProps,st=ne.context,ye=S.contextType,typeof ye=="object"&&ye!==null?ye=Ca(ye):(ye=Br(S)?Wo:ar.current,ye=pd(x,ye));var Tt=S.getDerivedStateFromProps;(rt=typeof Tt=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(fe!==ot||st!==ye)&&yk(x,ne,D,ye),Zl=!1,st=x.memoizedState,ne.state=st,gp(x,D,ne,H);var Ft=x.memoizedState;fe!==ot||st!==Ft||Ir.current||Zl?(typeof Tt=="function"&&(iy(x,S,Tt,D),Ft=x.memoizedState),(Oe=Zl||gk(x,S,Oe,D,st,Ft,ye)||!1)?(rt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(D,Ft,ye),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(D,Ft,ye)),typeof ne.componentDidUpdate=="function"&&(x.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ne.componentDidUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(x.flags|=1024),x.memoizedProps=D,x.memoizedState=Ft),ne.props=D,ne.state=Ft,ne.context=ye,D=Oe):(typeof ne.componentDidUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(x.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(x.flags|=1024),D=!1)}return uy(f,x,S,D,Y,H)}function uy(f,x,S,D,H,Y){Pk(f,x);var ne=(x.flags&128)!==0;if(!D&&!ne)return H&&RC(x,S,!1),ol(f,x,Y);D=x.stateNode,Zz.current=x;var fe=ne&&typeof S.getDerivedStateFromError!="function"?null:D.render();return x.flags|=1,f!==null&&ne?(x.child=yd(x,f.child,null,Y),x.child=yd(x,null,fe,Y)):jr(f,x,fe,Y),x.memoizedState=D.state,H&&RC(x,S,!0),x.child}function Ak(f){var x=f.stateNode;x.pendingContext?DC(f,x.pendingContext,x.pendingContext!==x.context):x.context&&DC(f,x.context,!1),Kv(f,x.containerInfo)}function Mk(f,x,S,D,H){return vd(),zv(H),x.flags|=256,jr(f,x,S,D),x.child}var hy={dehydrated:null,treeContext:null,retryLane:0};function my(f){return{baseLanes:f,cachePool:null,transitions:null}}function Dk(f,x,S){var D=x.pendingProps,H=bn.current,Y=!1,ne=(x.flags&128)!==0,fe;if((fe=ne)||(fe=f!==null&&f.memoizedState===null?!1:(H&2)!==0),fe?(Y=!0,x.flags&=-129):(f===null||f.memoizedState!==null)&&(H|=1),sn(bn,H&1),f===null)return qv(x),f=x.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((x.mode&1)===0?x.lanes=1:f.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(ne=D.children,f=D.fallback,Y?(D=x.mode,Y=x.child,ne={mode:"hidden",children:ne},(D&1)===0&&Y!==null?(Y.childLanes=0,Y.pendingProps=ne):Y=Ip(ne,D,0,null),f=tc(f,D,S,null),Y.return=x,f.return=x,Y.sibling=f,x.child=Y,x.child.memoizedState=my(S),x.memoizedState=hy,f):fy(x,ne));if(H=f.memoizedState,H!==null&&(fe=H.dehydrated,fe!==null))return e$(f,x,ne,D,fe,H,S);if(Y){Y=D.fallback,ne=x.mode,H=f.child,fe=H.sibling;var ye={mode:"hidden",children:D.children};return(ne&1)===0&&x.child!==H?(D=x.child,D.childLanes=0,D.pendingProps=ye,x.deletions=null):(D=io(H,ye),D.subtreeFlags=H.subtreeFlags&14680064),fe!==null?Y=io(fe,Y):(Y=tc(Y,ne,S,null),Y.flags|=2),Y.return=x,D.return=x,D.sibling=Y,x.child=D,D=Y,Y=x.child,ne=f.child.memoizedState,ne=ne===null?my(S):{baseLanes:ne.baseLanes|S,cachePool:null,transitions:ne.transitions},Y.memoizedState=ne,Y.childLanes=f.childLanes&~S,x.memoizedState=hy,D}return Y=f.child,f=Y.sibling,D=io(Y,{mode:"visible",children:D.children}),(x.mode&1)===0&&(D.lanes=S),D.return=x,D.sibling=null,f!==null&&(S=x.deletions,S===null?(x.deletions=[f],x.flags|=16):S.push(f)),x.child=D,x.memoizedState=null,D}function fy(f,x){return x=Ip({mode:"visible",children:x},f.mode,0,null),x.return=f,f.child=x}function Sp(f,x,S,D){return D!==null&&zv(D),yd(x,f.child,null,S),f=fy(x,x.pendingProps.children),f.flags|=2,x.memoizedState=null,f}function e$(f,x,S,D,H,Y,ne){if(S)return x.flags&256?(x.flags&=-257,D=oy(Error(n(422))),Sp(f,x,ne,D)):x.memoizedState!==null?(x.child=f.child,x.flags|=128,null):(Y=D.fallback,H=x.mode,D=Ip({mode:"visible",children:D.children},H,0,null),Y=tc(Y,H,ne,null),Y.flags|=2,D.return=x,Y.return=x,D.sibling=Y,x.child=D,(x.mode&1)!==0&&yd(x,f.child,null,ne),x.child.memoizedState=my(ne),x.memoizedState=hy,Y);if((x.mode&1)===0)return Sp(f,x,ne,null);if(H.data==="$!"){if(D=H.nextSibling&&H.nextSibling.dataset,D)var fe=D.dgst;return D=fe,Y=Error(n(419)),D=oy(Y,D,void 0),Sp(f,x,ne,D)}if(fe=(ne&f.childLanes)!==0,qr||fe){if(D=Hn,D!==null){switch(ne&-ne){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(D.suspendedLanes|ne))!==0?0:H,H!==0&&H!==Y.retryLane&&(Y.retryLane=H,il(f,H),Za(D,f,H,-1))}return Ty(),D=oy(Error(n(421))),Sp(f,x,ne,D)}return H.data==="$?"?(x.flags|=128,x.child=f.child,x=m$.bind(null,f),H._reactRetry=x,null):(f=Y.treeContext,ca=Yl(H.nextSibling),oa=x,pn=!0,Ya=null,f!==null&&(_a[Sa++]=rl,_a[Sa++]=al,_a[Sa++]=Ho,rl=f.id,al=f.overflow,Ho=x),x=fy(x,D.children),x.flags|=4096,x)}function Ok(f,x,S){f.lanes|=x;var D=f.alternate;D!==null&&(D.lanes|=x),Wv(f.return,x,S)}function py(f,x,S,D,H){var Y=f.memoizedState;Y===null?f.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:D,tail:S,tailMode:H}:(Y.isBackwards=x,Y.rendering=null,Y.renderingStartTime=0,Y.last=D,Y.tail=S,Y.tailMode=H)}function Rk(f,x,S){var D=x.pendingProps,H=D.revealOrder,Y=D.tail;if(jr(f,x,D.children,S),D=bn.current,(D&2)!==0)D=D&1|2,x.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=x.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ok(f,S,x);else if(f.tag===19)Ok(f,S,x);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===x)break e;for(;f.sibling===null;){if(f.return===null||f.return===x)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}D&=1}if(sn(bn,D),(x.mode&1)===0)x.memoizedState=null;else switch(H){case"forwards":for(S=x.child,H=null;S!==null;)f=S.alternate,f!==null&&vp(f)===null&&(H=S),S=S.sibling;S=H,S===null?(H=x.child,x.child=null):(H=S.sibling,S.sibling=null),py(x,!1,H,S,Y);break;case"backwards":for(S=null,H=x.child,x.child=null;H!==null;){if(f=H.alternate,f!==null&&vp(f)===null){x.child=H;break}f=H.sibling,H.sibling=S,S=H,H=f}py(x,!0,S,null,Y);break;case"together":py(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function Cp(f,x){(x.mode&1)===0&&f!==null&&(f.alternate=null,x.alternate=null,x.flags|=2)}function ol(f,x,S){if(f!==null&&(x.dependencies=f.dependencies),Jo|=x.lanes,(S&x.childLanes)===0)return null;if(f!==null&&x.child!==f.child)throw Error(n(153));if(x.child!==null){for(f=x.child,S=io(f,f.pendingProps),x.child=S,S.return=x;f.sibling!==null;)f=f.sibling,S=S.sibling=io(f,f.pendingProps),S.return=x;S.sibling=null}return x.child}function t$(f,x,S){switch(x.tag){case 3:Ak(x),vd();break;case 5:YC(x);break;case 1:Br(x.type)&&op(x);break;case 4:Kv(x,x.stateNode.containerInfo);break;case 10:var D=x.type._context,H=x.memoizedProps.value;sn(fp,D._currentValue),D._currentValue=H;break;case 13:if(D=x.memoizedState,D!==null)return D.dehydrated!==null?(sn(bn,bn.current&1),x.flags|=128,null):(S&x.child.childLanes)!==0?Dk(f,x,S):(sn(bn,bn.current&1),f=ol(f,x,S),f!==null?f.sibling:null);sn(bn,bn.current&1);break;case 19:if(D=(S&x.childLanes)!==0,(f.flags&128)!==0){if(D)return Rk(f,x,S);x.flags|=128}if(H=x.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),sn(bn,bn.current),D)break;return null;case 22:case 23:return x.lanes=0,Ek(f,x,S)}return ol(f,x,S)}var Fk,xy,Lk,Ik;Fk=function(f,x){for(var S=x.child;S!==null;){if(S.tag===5||S.tag===6)f.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},xy=function(){},Lk=function(f,x,S,D){var H=f.memoizedProps;if(H!==D){f=x.stateNode,Yo(Ni.current);var Y=null;switch(S){case"input":H=be(f,H),D=be(f,D),Y=[];break;case"select":H=L({},H,{value:void 0}),D=L({},D,{value:void 0}),Y=[];break;case"textarea":H=Me(f,H),D=Me(f,D),Y=[];break;default:typeof H.onClick!="function"&&typeof D.onClick=="function"&&(f.onclick=ap)}Yt(S,D);var ne;S=null;for(Oe in H)if(!D.hasOwnProperty(Oe)&&H.hasOwnProperty(Oe)&&H[Oe]!=null)if(Oe==="style"){var fe=H[Oe];for(ne in fe)fe.hasOwnProperty(ne)&&(S||(S={}),S[ne]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(a.hasOwnProperty(Oe)?Y||(Y=[]):(Y=Y||[]).push(Oe,null));for(Oe in D){var ye=D[Oe];if(fe=H!=null?H[Oe]:void 0,D.hasOwnProperty(Oe)&&ye!==fe&&(ye!=null||fe!=null))if(Oe==="style")if(fe){for(ne in fe)!fe.hasOwnProperty(ne)||ye&&ye.hasOwnProperty(ne)||(S||(S={}),S[ne]="");for(ne in ye)ye.hasOwnProperty(ne)&&fe[ne]!==ye[ne]&&(S||(S={}),S[ne]=ye[ne])}else S||(Y||(Y=[]),Y.push(Oe,S)),S=ye;else Oe==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,fe=fe?fe.__html:void 0,ye!=null&&fe!==ye&&(Y=Y||[]).push(Oe,ye)):Oe==="children"?typeof ye!="string"&&typeof ye!="number"||(Y=Y||[]).push(Oe,""+ye):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(a.hasOwnProperty(Oe)?(ye!=null&&Oe==="onScroll"&&on("scroll",f),Y||fe===ye||(Y=[])):(Y=Y||[]).push(Oe,ye))}S&&(Y=Y||[]).push("style",S);var Oe=Y;(x.updateQueue=Oe)&&(x.flags|=4)}},Ik=function(f,x,S,D){S!==D&&(x.flags|=4)};function Eh(f,x){if(!pn)switch(f.tailMode){case"hidden":x=f.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var D=null;S!==null;)S.alternate!==null&&(D=S),S=S.sibling;D===null?x||f.tail===null?f.tail=null:f.tail.sibling=null:D.sibling=null}}function lr(f){var x=f.alternate!==null&&f.alternate.child===f.child,S=0,D=0;if(x)for(var H=f.child;H!==null;)S|=H.lanes|H.childLanes,D|=H.subtreeFlags&14680064,D|=H.flags&14680064,H.return=f,H=H.sibling;else for(H=f.child;H!==null;)S|=H.lanes|H.childLanes,D|=H.subtreeFlags,D|=H.flags,H.return=f,H=H.sibling;return f.subtreeFlags|=D,f.childLanes=S,x}function s$(f,x,S){var D=x.pendingProps;switch(Iv(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(x),null;case 1:return Br(x.type)&&lp(),lr(x),null;case 3:return D=x.stateNode,wd(),cn(Ir),cn(ar),Jv(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(f===null||f.child===null)&&(hp(x)?x.flags|=4:f===null||f.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Ya!==null&&(ky(Ya),Ya=null))),xy(f,x),lr(x),null;case 5:Yv(x);var H=Yo(Nh.current);if(S=x.type,f!==null&&x.stateNode!=null)Lk(f,x,S,D,H),f.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!D){if(x.stateNode===null)throw Error(n(166));return lr(x),null}if(f=Yo(Ni.current),hp(x)){D=x.stateNode,S=x.type;var Y=x.memoizedProps;switch(D[wi]=x,D[vh]=Y,f=(x.mode&1)!==0,S){case"dialog":on("cancel",D),on("close",D);break;case"iframe":case"object":case"embed":on("load",D);break;case"video":case"audio":for(H=0;H<ph.length;H++)on(ph[H],D);break;case"source":on("error",D);break;case"img":case"image":case"link":on("error",D),on("load",D);break;case"details":on("toggle",D);break;case"input":je(D,Y),on("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!Y.multiple},on("invalid",D);break;case"textarea":it(D,Y),on("invalid",D)}Yt(S,Y),H=null;for(var ne in Y)if(Y.hasOwnProperty(ne)){var fe=Y[ne];ne==="children"?typeof fe=="string"?D.textContent!==fe&&(Y.suppressHydrationWarning!==!0&&rp(D.textContent,fe,f),H=["children",fe]):typeof fe=="number"&&D.textContent!==""+fe&&(Y.suppressHydrationWarning!==!0&&rp(D.textContent,fe,f),H=["children",""+fe]):a.hasOwnProperty(ne)&&fe!=null&&ne==="onScroll"&&on("scroll",D)}switch(S){case"input":ue(D),ke(D,Y,!0);break;case"textarea":ue(D),at(D);break;case"select":case"option":break;default:typeof Y.onClick=="function"&&(D.onclick=ap)}D=H,x.updateQueue=D,D!==null&&(x.flags|=4)}else{ne=H.nodeType===9?H:H.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Ne(S)),f==="http://www.w3.org/1999/xhtml"?S==="script"?(f=ne.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof D.is=="string"?f=ne.createElement(S,{is:D.is}):(f=ne.createElement(S),S==="select"&&(ne=f,D.multiple?ne.multiple=!0:D.size&&(ne.size=D.size))):f=ne.createElementNS(f,S),f[wi]=x,f[vh]=D,Fk(f,x,!1,!1),x.stateNode=f;e:{switch(ne=fn(S,D),S){case"dialog":on("cancel",f),on("close",f),H=D;break;case"iframe":case"object":case"embed":on("load",f),H=D;break;case"video":case"audio":for(H=0;H<ph.length;H++)on(ph[H],f);H=D;break;case"source":on("error",f),H=D;break;case"img":case"image":case"link":on("error",f),on("load",f),H=D;break;case"details":on("toggle",f),H=D;break;case"input":je(f,D),H=be(f,D),on("invalid",f);break;case"option":H=D;break;case"select":f._wrapperState={wasMultiple:!!D.multiple},H=L({},D,{value:void 0}),on("invalid",f);break;case"textarea":it(f,D),H=Me(f,D),on("invalid",f);break;default:H=D}Yt(S,H),fe=H;for(Y in fe)if(fe.hasOwnProperty(Y)){var ye=fe[Y];Y==="style"?Ns(f,ye):Y==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ye!=null&&dt(f,ye)):Y==="children"?typeof ye=="string"?(S!=="textarea"||ye!=="")&&lt(f,ye):typeof ye=="number"&&lt(f,""+ye):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?ye!=null&&Y==="onScroll"&&on("scroll",f):ye!=null&&N(f,Y,ye,ne))}switch(S){case"input":ue(f),ke(f,D,!1);break;case"textarea":ue(f),at(f);break;case"option":D.value!=null&&f.setAttribute("value",""+ae(D.value));break;case"select":f.multiple=!!D.multiple,Y=D.value,Y!=null?Ke(f,!!D.multiple,Y,!1):D.defaultValue!=null&&Ke(f,!!D.multiple,D.defaultValue,!0);break;default:typeof H.onClick=="function"&&(f.onclick=ap)}switch(S){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return lr(x),null;case 6:if(f&&x.stateNode!=null)Ik(f,x,f.memoizedProps,D);else{if(typeof D!="string"&&x.stateNode===null)throw Error(n(166));if(S=Yo(Nh.current),Yo(Ni.current),hp(x)){if(D=x.stateNode,S=x.memoizedProps,D[wi]=x,(Y=D.nodeValue!==S)&&(f=oa,f!==null))switch(f.tag){case 3:rp(D.nodeValue,S,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&rp(D.nodeValue,S,(f.mode&1)!==0)}Y&&(x.flags|=4)}else D=(S.nodeType===9?S:S.ownerDocument).createTextNode(D),D[wi]=x,x.stateNode=D}return lr(x),null;case 13:if(cn(bn),D=x.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(pn&&ca!==null&&(x.mode&1)!==0&&(x.flags&128)===0)zC(),vd(),x.flags|=98560,Y=!1;else if(Y=hp(x),D!==null&&D.dehydrated!==null){if(f===null){if(!Y)throw Error(n(318));if(Y=x.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[wi]=x}else vd(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;lr(x),Y=!1}else Ya!==null&&(ky(Ya),Ya=null),Y=!0;if(!Y)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=S,x):(D=D!==null,D!==(f!==null&&f.memoizedState!==null)&&D&&(x.child.flags|=8192,(x.mode&1)!==0&&(f===null||(bn.current&1)!==0?Bn===0&&(Bn=3):Ty())),x.updateQueue!==null&&(x.flags|=4),lr(x),null);case 4:return wd(),xy(f,x),f===null&&xh(x.stateNode.containerInfo),lr(x),null;case 10:return Vv(x.type._context),lr(x),null;case 17:return Br(x.type)&&lp(),lr(x),null;case 19:if(cn(bn),Y=x.memoizedState,Y===null)return lr(x),null;if(D=(x.flags&128)!==0,ne=Y.rendering,ne===null)if(D)Eh(Y,!1);else{if(Bn!==0||f!==null&&(f.flags&128)!==0)for(f=x.child;f!==null;){if(ne=vp(f),ne!==null){for(x.flags|=128,Eh(Y,!1),D=ne.updateQueue,D!==null&&(x.updateQueue=D,x.flags|=4),x.subtreeFlags=0,D=S,S=x.child;S!==null;)Y=S,f=D,Y.flags&=14680066,ne=Y.alternate,ne===null?(Y.childLanes=0,Y.lanes=f,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=ne.childLanes,Y.lanes=ne.lanes,Y.child=ne.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=ne.memoizedProps,Y.memoizedState=ne.memoizedState,Y.updateQueue=ne.updateQueue,Y.type=ne.type,f=ne.dependencies,Y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),S=S.sibling;return sn(bn,bn.current&1|2),x.child}f=f.sibling}Y.tail!==null&&tn()>Cd&&(x.flags|=128,D=!0,Eh(Y,!1),x.lanes=4194304)}else{if(!D)if(f=vp(ne),f!==null){if(x.flags|=128,D=!0,S=f.updateQueue,S!==null&&(x.updateQueue=S,x.flags|=4),Eh(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!ne.alternate&&!pn)return lr(x),null}else 2*tn()-Y.renderingStartTime>Cd&&S!==1073741824&&(x.flags|=128,D=!0,Eh(Y,!1),x.lanes=4194304);Y.isBackwards?(ne.sibling=x.child,x.child=ne):(S=Y.last,S!==null?S.sibling=ne:x.child=ne,Y.last=ne)}return Y.tail!==null?(x=Y.tail,Y.rendering=x,Y.tail=x.sibling,Y.renderingStartTime=tn(),x.sibling=null,S=bn.current,sn(bn,D?S&1|2:S&1),x):(lr(x),null);case 22:case 23:return Py(),D=x.memoizedState!==null,f!==null&&f.memoizedState!==null!==D&&(x.flags|=8192),D&&(x.mode&1)!==0?(da&1073741824)!==0&&(lr(x),x.subtreeFlags&6&&(x.flags|=8192)):lr(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function n$(f,x){switch(Iv(x),x.tag){case 1:return Br(x.type)&&lp(),f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 3:return wd(),cn(Ir),cn(ar),Jv(),f=x.flags,(f&65536)!==0&&(f&128)===0?(x.flags=f&-65537|128,x):null;case 5:return Yv(x),null;case 13:if(cn(bn),f=x.memoizedState,f!==null&&f.dehydrated!==null){if(x.alternate===null)throw Error(n(340));vd()}return f=x.flags,f&65536?(x.flags=f&-65537|128,x):null;case 19:return cn(bn),null;case 4:return wd(),null;case 10:return Vv(x.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var kp=!1,or=!1,r$=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function _d(f,x){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(D){Sn(f,x,D)}else S.current=null}function gy(f,x,S){try{S()}catch(D){Sn(f,x,D)}}var Bk=!1;function a$(f,x){if(Pv=Gf,f=gC(),jv(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var D=S.getSelection&&S.getSelection();if(D&&D.rangeCount!==0){S=D.anchorNode;var H=D.anchorOffset,Y=D.focusNode;D=D.focusOffset;try{S.nodeType,Y.nodeType}catch{S=null;break e}var ne=0,fe=-1,ye=-1,Oe=0,rt=0,ot=f,st=null;t:for(;;){for(var Tt;ot!==S||H!==0&&ot.nodeType!==3||(fe=ne+H),ot!==Y||D!==0&&ot.nodeType!==3||(ye=ne+D),ot.nodeType===3&&(ne+=ot.nodeValue.length),(Tt=ot.firstChild)!==null;)st=ot,ot=Tt;for(;;){if(ot===f)break t;if(st===S&&++Oe===H&&(fe=ne),st===Y&&++rt===D&&(ye=ne),(Tt=ot.nextSibling)!==null)break;ot=st,st=ot.parentNode}ot=Tt}S=fe===-1||ye===-1?null:{start:fe,end:ye}}else S=null}S=S||{start:0,end:0}}else S=null;for(Tv={focusedElem:f,selectionRange:S},Gf=!1,Dt=x;Dt!==null;)if(x=Dt,f=x.child,(x.subtreeFlags&1028)!==0&&f!==null)f.return=x,Dt=f;else for(;Dt!==null;){x=Dt;try{var Ft=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(Ft!==null){var Bt=Ft.memoizedProps,Pn=Ft.memoizedState,Te=x.stateNode,Ce=Te.getSnapshotBeforeUpdate(x.elementType===x.type?Bt:Qa(x.type,Bt),Pn);Te.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var Ae=x.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pt){Sn(x,x.return,pt)}if(f=x.sibling,f!==null){f.return=x.return,Dt=f;break}Dt=x.return}return Ft=Bk,Bk=!1,Ft}function Ph(f,x,S){var D=x.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var H=D=D.next;do{if((H.tag&f)===f){var Y=H.destroy;H.destroy=void 0,Y!==void 0&&gy(x,S,Y)}H=H.next}while(H!==D)}}function Ep(f,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var S=x=x.next;do{if((S.tag&f)===f){var D=S.create;S.destroy=D()}S=S.next}while(S!==x)}}function vy(f){var x=f.ref;if(x!==null){var S=f.stateNode;switch(f.tag){case 5:f=S;break;default:f=S}typeof x=="function"?x(f):x.current=f}}function qk(f){var x=f.alternate;x!==null&&(f.alternate=null,qk(x)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(x=f.stateNode,x!==null&&(delete x[wi],delete x[vh],delete x[Ov],delete x[zz],delete x[$z])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function zk(f){return f.tag===5||f.tag===3||f.tag===4}function $k(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||zk(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function yy(f,x,S){var D=f.tag;if(D===5||D===6)f=f.stateNode,x?S.nodeType===8?S.parentNode.insertBefore(f,x):S.insertBefore(f,x):(S.nodeType===8?(x=S.parentNode,x.insertBefore(f,S)):(x=S,x.appendChild(f)),S=S._reactRootContainer,S!=null||x.onclick!==null||(x.onclick=ap));else if(D!==4&&(f=f.child,f!==null))for(yy(f,x,S),f=f.sibling;f!==null;)yy(f,x,S),f=f.sibling}function by(f,x,S){var D=f.tag;if(D===5||D===6)f=f.stateNode,x?S.insertBefore(f,x):S.appendChild(f);else if(D!==4&&(f=f.child,f!==null))for(by(f,x,S),f=f.sibling;f!==null;)by(f,x,S),f=f.sibling}var er=null,Ja=!1;function to(f,x,S){for(S=S.child;S!==null;)Uk(f,x,S),S=S.sibling}function Uk(f,x,S){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(tl,S)}catch{}switch(S.tag){case 5:or||_d(S,x);case 6:var D=er,H=Ja;er=null,to(f,x,S),er=D,Ja=H,er!==null&&(Ja?(f=er,S=S.stateNode,f.nodeType===8?f.parentNode.removeChild(S):f.removeChild(S)):er.removeChild(S.stateNode));break;case 18:er!==null&&(Ja?(f=er,S=S.stateNode,f.nodeType===8?Dv(f.parentNode,S):f.nodeType===1&&Dv(f,S),lh(f)):Dv(er,S.stateNode));break;case 4:D=er,H=Ja,er=S.stateNode.containerInfo,Ja=!0,to(f,x,S),er=D,Ja=H;break;case 0:case 11:case 14:case 15:if(!or&&(D=S.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){H=D=D.next;do{var Y=H,ne=Y.destroy;Y=Y.tag,ne!==void 0&&((Y&2)!==0||(Y&4)!==0)&&gy(S,x,ne),H=H.next}while(H!==D)}to(f,x,S);break;case 1:if(!or&&(_d(S,x),D=S.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=S.memoizedProps,D.state=S.memoizedState,D.componentWillUnmount()}catch(fe){Sn(S,x,fe)}to(f,x,S);break;case 21:to(f,x,S);break;case 22:S.mode&1?(or=(D=or)||S.memoizedState!==null,to(f,x,S),or=D):to(f,x,S);break;default:to(f,x,S)}}function Vk(f){var x=f.updateQueue;if(x!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new r$),x.forEach(function(D){var H=f$.bind(null,f,D);S.has(D)||(S.add(D),D.then(H,H))})}}function Xa(f,x){var S=x.deletions;if(S!==null)for(var D=0;D<S.length;D++){var H=S[D];try{var Y=f,ne=x,fe=ne;e:for(;fe!==null;){switch(fe.tag){case 5:er=fe.stateNode,Ja=!1;break e;case 3:er=fe.stateNode.containerInfo,Ja=!0;break e;case 4:er=fe.stateNode.containerInfo,Ja=!0;break e}fe=fe.return}if(er===null)throw Error(n(160));Uk(Y,ne,H),er=null,Ja=!1;var ye=H.alternate;ye!==null&&(ye.return=null),H.return=null}catch(Oe){Sn(H,x,Oe)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)Wk(x,f),x=x.sibling}function Wk(f,x){var S=f.alternate,D=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Xa(x,f),Si(f),D&4){try{Ph(3,f,f.return),Ep(3,f)}catch(Bt){Sn(f,f.return,Bt)}try{Ph(5,f,f.return)}catch(Bt){Sn(f,f.return,Bt)}}break;case 1:Xa(x,f),Si(f),D&512&&S!==null&&_d(S,S.return);break;case 5:if(Xa(x,f),Si(f),D&512&&S!==null&&_d(S,S.return),f.flags&32){var H=f.stateNode;try{lt(H,"")}catch(Bt){Sn(f,f.return,Bt)}}if(D&4&&(H=f.stateNode,H!=null)){var Y=f.memoizedProps,ne=S!==null?S.memoizedProps:Y,fe=f.type,ye=f.updateQueue;if(f.updateQueue=null,ye!==null)try{fe==="input"&&Y.type==="radio"&&Y.name!=null&&Be(H,Y),fn(fe,ne);var Oe=fn(fe,Y);for(ne=0;ne<ye.length;ne+=2){var rt=ye[ne],ot=ye[ne+1];rt==="style"?Ns(H,ot):rt==="dangerouslySetInnerHTML"?dt(H,ot):rt==="children"?lt(H,ot):N(H,rt,ot,Oe)}switch(fe){case"input":qe(H,Y);break;case"textarea":_e(H,Y);break;case"select":var st=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!Y.multiple;var Tt=Y.value;Tt!=null?Ke(H,!!Y.multiple,Tt,!1):st!==!!Y.multiple&&(Y.defaultValue!=null?Ke(H,!!Y.multiple,Y.defaultValue,!0):Ke(H,!!Y.multiple,Y.multiple?[]:"",!1))}H[vh]=Y}catch(Bt){Sn(f,f.return,Bt)}}break;case 6:if(Xa(x,f),Si(f),D&4){if(f.stateNode===null)throw Error(n(162));H=f.stateNode,Y=f.memoizedProps;try{H.nodeValue=Y}catch(Bt){Sn(f,f.return,Bt)}}break;case 3:if(Xa(x,f),Si(f),D&4&&S!==null&&S.memoizedState.isDehydrated)try{lh(x.containerInfo)}catch(Bt){Sn(f,f.return,Bt)}break;case 4:Xa(x,f),Si(f);break;case 13:Xa(x,f),Si(f),H=f.child,H.flags&8192&&(Y=H.memoizedState!==null,H.stateNode.isHidden=Y,!Y||H.alternate!==null&&H.alternate.memoizedState!==null||(Ny=tn())),D&4&&Vk(f);break;case 22:if(rt=S!==null&&S.memoizedState!==null,f.mode&1?(or=(Oe=or)||rt,Xa(x,f),or=Oe):Xa(x,f),Si(f),D&8192){if(Oe=f.memoizedState!==null,(f.stateNode.isHidden=Oe)&&!rt&&(f.mode&1)!==0)for(Dt=f,rt=f.child;rt!==null;){for(ot=Dt=rt;Dt!==null;){switch(st=Dt,Tt=st.child,st.tag){case 0:case 11:case 14:case 15:Ph(4,st,st.return);break;case 1:_d(st,st.return);var Ft=st.stateNode;if(typeof Ft.componentWillUnmount=="function"){D=st,S=st.return;try{x=D,Ft.props=x.memoizedProps,Ft.state=x.memoizedState,Ft.componentWillUnmount()}catch(Bt){Sn(D,S,Bt)}}break;case 5:_d(st,st.return);break;case 22:if(st.memoizedState!==null){Kk(ot);continue}}Tt!==null?(Tt.return=st,Dt=Tt):Kk(ot)}rt=rt.sibling}e:for(rt=null,ot=f;;){if(ot.tag===5){if(rt===null){rt=ot;try{H=ot.stateNode,Oe?(Y=H.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none"):(fe=ot.stateNode,ye=ot.memoizedProps.style,ne=ye!=null&&ye.hasOwnProperty("display")?ye.display:null,fe.style.display=Ls("display",ne))}catch(Bt){Sn(f,f.return,Bt)}}}else if(ot.tag===6){if(rt===null)try{ot.stateNode.nodeValue=Oe?"":ot.memoizedProps}catch(Bt){Sn(f,f.return,Bt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===f)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===f)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===f)break e;rt===ot&&(rt=null),ot=ot.return}rt===ot&&(rt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:Xa(x,f),Si(f),D&4&&Vk(f);break;case 21:break;default:Xa(x,f),Si(f)}}function Si(f){var x=f.flags;if(x&2){try{e:{for(var S=f.return;S!==null;){if(zk(S)){var D=S;break e}S=S.return}throw Error(n(160))}switch(D.tag){case 5:var H=D.stateNode;D.flags&32&&(lt(H,""),D.flags&=-33);var Y=$k(f);by(f,Y,H);break;case 3:case 4:var ne=D.stateNode.containerInfo,fe=$k(f);yy(f,fe,ne);break;default:throw Error(n(161))}}catch(ye){Sn(f,f.return,ye)}f.flags&=-3}x&4096&&(f.flags&=-4097)}function i$(f,x,S){Dt=f,Hk(f)}function Hk(f,x,S){for(var D=(f.mode&1)!==0;Dt!==null;){var H=Dt,Y=H.child;if(H.tag===22&&D){var ne=H.memoizedState!==null||kp;if(!ne){var fe=H.alternate,ye=fe!==null&&fe.memoizedState!==null||or;fe=kp;var Oe=or;if(kp=ne,(or=ye)&&!Oe)for(Dt=H;Dt!==null;)ne=Dt,ye=ne.child,ne.tag===22&&ne.memoizedState!==null?Yk(H):ye!==null?(ye.return=ne,Dt=ye):Yk(H);for(;Y!==null;)Dt=Y,Hk(Y),Y=Y.sibling;Dt=H,kp=fe,or=Oe}Gk(f)}else(H.subtreeFlags&8772)!==0&&Y!==null?(Y.return=H,Dt=Y):Gk(f)}}function Gk(f){for(;Dt!==null;){var x=Dt;if((x.flags&8772)!==0){var S=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:or||Ep(5,x);break;case 1:var D=x.stateNode;if(x.flags&4&&!or)if(S===null)D.componentDidMount();else{var H=x.elementType===x.type?S.memoizedProps:Qa(x.type,S.memoizedProps);D.componentDidUpdate(H,S.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var Y=x.updateQueue;Y!==null&&KC(x,Y,D);break;case 3:var ne=x.updateQueue;if(ne!==null){if(S=null,x.child!==null)switch(x.child.tag){case 5:S=x.child.stateNode;break;case 1:S=x.child.stateNode}KC(x,ne,S)}break;case 5:var fe=x.stateNode;if(S===null&&x.flags&4){S=fe;var ye=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":ye.autoFocus&&S.focus();break;case"img":ye.src&&(S.src=ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Oe=x.alternate;if(Oe!==null){var rt=Oe.memoizedState;if(rt!==null){var ot=rt.dehydrated;ot!==null&&lh(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}or||x.flags&512&&vy(x)}catch(st){Sn(x,x.return,st)}}if(x===f){Dt=null;break}if(S=x.sibling,S!==null){S.return=x.return,Dt=S;break}Dt=x.return}}function Kk(f){for(;Dt!==null;){var x=Dt;if(x===f){Dt=null;break}var S=x.sibling;if(S!==null){S.return=x.return,Dt=S;break}Dt=x.return}}function Yk(f){for(;Dt!==null;){var x=Dt;try{switch(x.tag){case 0:case 11:case 15:var S=x.return;try{Ep(4,x)}catch(ye){Sn(x,S,ye)}break;case 1:var D=x.stateNode;if(typeof D.componentDidMount=="function"){var H=x.return;try{D.componentDidMount()}catch(ye){Sn(x,H,ye)}}var Y=x.return;try{vy(x)}catch(ye){Sn(x,Y,ye)}break;case 5:var ne=x.return;try{vy(x)}catch(ye){Sn(x,ne,ye)}}}catch(ye){Sn(x,x.return,ye)}if(x===f){Dt=null;break}var fe=x.sibling;if(fe!==null){fe.return=x.return,Dt=fe;break}Dt=x.return}}var l$=Math.ceil,Pp=_.ReactCurrentDispatcher,jy=_.ReactCurrentOwner,Ea=_.ReactCurrentBatchConfig,Rs=0,Hn=null,Dn=null,tr=0,da=0,Sd=Ql(0),Bn=0,Th=null,Jo=0,Tp=0,wy=0,Ah=null,zr=null,Ny=0,Cd=1/0,cl=null,Ap=!1,_y=null,so=null,Mp=!1,no=null,Dp=0,Mh=0,Sy=null,Op=-1,Rp=0;function wr(){return(Rs&6)!==0?tn():Op!==-1?Op:Op=tn()}function ro(f){return(f.mode&1)===0?1:(Rs&2)!==0&&tr!==0?tr&-tr:Vz.transition!==null?(Rp===0&&(Rp=Vf()),Rp):(f=ie,f!==0||(f=window.event,f=f===void 0?16:JS(f.type)),f)}function Za(f,x,S,D){if(50<Mh)throw Mh=0,Sy=null,Error(n(185));Ul(f,S,D),((Rs&2)===0||f!==Hn)&&(f===Hn&&((Rs&2)===0&&(Tp|=S),Bn===4&&ao(f,tr)),$r(f,D),S===1&&Rs===0&&(x.mode&1)===0&&(Cd=tn()+500,cp&&Xl()))}function $r(f,x){var S=f.callbackNode;Uf(f,x);var D=bi(f,f===Hn?tr:0);if(D===0)S!==null&&ed(S),f.callbackNode=null,f.callbackPriority=0;else if(x=D&-D,f.callbackPriority!==x){if(S!=null&&ed(S),x===1)f.tag===0?Uz(Jk.bind(null,f)):FC(Jk.bind(null,f)),Bz(function(){(Rs&6)===0&&Xl()}),S=null;else{switch(De(D)){case 1:S=$l;break;case 4:S=el;break;case 16:S=Fr;break;case 536870912:S=sd;break;default:S=Fr}S=a4(S,Qk.bind(null,f))}f.callbackPriority=x,f.callbackNode=S}}function Qk(f,x){if(Op=-1,Rp=0,(Rs&6)!==0)throw Error(n(327));var S=f.callbackNode;if(kd()&&f.callbackNode!==S)return null;var D=bi(f,f===Hn?tr:0);if(D===0)return null;if((D&30)!==0||(D&f.expiredLanes)!==0||x)x=Fp(f,D);else{x=D;var H=Rs;Rs|=2;var Y=Zk();(Hn!==f||tr!==x)&&(cl=null,Cd=tn()+500,Zo(f,x));do try{d$();break}catch(fe){Xk(f,fe)}while(!0);Uv(),Pp.current=Y,Rs=H,Dn!==null?x=0:(Hn=null,tr=0,x=Bn)}if(x!==0){if(x===2&&(H=Uo(f),H!==0&&(D=H,x=Cy(f,H))),x===1)throw S=Th,Zo(f,0),ao(f,D),$r(f,tn()),S;if(x===6)ao(f,D);else{if(H=f.current.alternate,(D&30)===0&&!o$(H)&&(x=Fp(f,D),x===2&&(Y=Uo(f),Y!==0&&(D=Y,x=Cy(f,Y))),x===1))throw S=Th,Zo(f,0),ao(f,D),$r(f,tn()),S;switch(f.finishedWork=H,f.finishedLanes=D,x){case 0:case 1:throw Error(n(345));case 2:ec(f,zr,cl);break;case 3:if(ao(f,D),(D&130023424)===D&&(x=Ny+500-tn(),10<x)){if(bi(f,0)!==0)break;if(H=f.suspendedLanes,(H&D)!==D){wr(),f.pingedLanes|=f.suspendedLanes&H;break}f.timeoutHandle=Mv(ec.bind(null,f,zr,cl),x);break}ec(f,zr,cl);break;case 4:if(ao(f,D),(D&4194240)===D)break;for(x=f.eventTimes,H=-1;0<D;){var ne=31-xe(D);Y=1<<ne,ne=x[ne],ne>H&&(H=ne),D&=~Y}if(D=H,D=tn()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*l$(D/1960))-D,10<D){f.timeoutHandle=Mv(ec.bind(null,f,zr,cl),D);break}ec(f,zr,cl);break;case 5:ec(f,zr,cl);break;default:throw Error(n(329))}}}return $r(f,tn()),f.callbackNode===S?Qk.bind(null,f):null}function Cy(f,x){var S=Ah;return f.current.memoizedState.isDehydrated&&(Zo(f,x).flags|=256),f=Fp(f,x),f!==2&&(x=zr,zr=S,x!==null&&ky(x)),f}function ky(f){zr===null?zr=f:zr.push.apply(zr,f)}function o$(f){for(var x=f;;){if(x.flags&16384){var S=x.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var D=0;D<S.length;D++){var H=S[D],Y=H.getSnapshot;H=H.value;try{if(!Ka(Y(),H))return!1}catch{return!1}}}if(S=x.child,x.subtreeFlags&16384&&S!==null)S.return=x,x=S;else{if(x===f)break;for(;x.sibling===null;){if(x.return===null||x.return===f)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function ao(f,x){for(x&=~wy,x&=~Tp,f.suspendedLanes|=x,f.pingedLanes&=~x,f=f.expirationTimes;0<x;){var S=31-xe(x),D=1<<S;f[S]=-1,x&=~D}}function Jk(f){if((Rs&6)!==0)throw Error(n(327));kd();var x=bi(f,0);if((x&1)===0)return $r(f,tn()),null;var S=Fp(f,x);if(f.tag!==0&&S===2){var D=Uo(f);D!==0&&(x=D,S=Cy(f,D))}if(S===1)throw S=Th,Zo(f,0),ao(f,x),$r(f,tn()),S;if(S===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=x,ec(f,zr,cl),$r(f,tn()),null}function Ey(f,x){var S=Rs;Rs|=1;try{return f(x)}finally{Rs=S,Rs===0&&(Cd=tn()+500,cp&&Xl())}}function Xo(f){no!==null&&no.tag===0&&(Rs&6)===0&&kd();var x=Rs;Rs|=1;var S=Ea.transition,D=ie;try{if(Ea.transition=null,ie=1,f)return f()}finally{ie=D,Ea.transition=S,Rs=x,(Rs&6)===0&&Xl()}}function Py(){da=Sd.current,cn(Sd)}function Zo(f,x){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==-1&&(f.timeoutHandle=-1,Iz(S)),Dn!==null)for(S=Dn.return;S!==null;){var D=S;switch(Iv(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&lp();break;case 3:wd(),cn(Ir),cn(ar),Jv();break;case 5:Yv(D);break;case 4:wd();break;case 13:cn(bn);break;case 19:cn(bn);break;case 10:Vv(D.type._context);break;case 22:case 23:Py()}S=S.return}if(Hn=f,Dn=f=io(f.current,null),tr=da=x,Bn=0,Th=null,wy=Tp=Jo=0,zr=Ah=null,Ko!==null){for(x=0;x<Ko.length;x++)if(S=Ko[x],D=S.interleaved,D!==null){S.interleaved=null;var H=D.next,Y=S.pending;if(Y!==null){var ne=Y.next;Y.next=H,D.next=ne}S.pending=D}Ko=null}return f}function Xk(f,x){do{var S=Dn;try{if(Uv(),yp.current=Np,bp){for(var D=jn.memoizedState;D!==null;){var H=D.queue;H!==null&&(H.pending=null),D=D.next}bp=!1}if(Qo=0,Wn=In=jn=null,_h=!1,Sh=0,jy.current=null,S===null||S.return===null){Bn=1,Th=x,Dn=null;break}e:{var Y=f,ne=S.return,fe=S,ye=x;if(x=tr,fe.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Oe=ye,rt=fe,ot=rt.tag;if((rt.mode&1)===0&&(ot===0||ot===11||ot===15)){var st=rt.alternate;st?(rt.updateQueue=st.updateQueue,rt.memoizedState=st.memoizedState,rt.lanes=st.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var Tt=Nk(ne);if(Tt!==null){Tt.flags&=-257,_k(Tt,ne,fe,Y,x),Tt.mode&1&&wk(Y,Oe,x),x=Tt,ye=Oe;var Ft=x.updateQueue;if(Ft===null){var Bt=new Set;Bt.add(ye),x.updateQueue=Bt}else Ft.add(ye);break e}else{if((x&1)===0){wk(Y,Oe,x),Ty();break e}ye=Error(n(426))}}else if(pn&&fe.mode&1){var Pn=Nk(ne);if(Pn!==null){(Pn.flags&65536)===0&&(Pn.flags|=256),_k(Pn,ne,fe,Y,x),zv(Nd(ye,fe));break e}}Y=ye=Nd(ye,fe),Bn!==4&&(Bn=2),Ah===null?Ah=[Y]:Ah.push(Y),Y=ne;do{switch(Y.tag){case 3:Y.flags|=65536,x&=-x,Y.lanes|=x;var Te=bk(Y,ye,x);GC(Y,Te);break e;case 1:fe=ye;var Ce=Y.type,Ae=Y.stateNode;if((Y.flags&128)===0&&(typeof Ce.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(so===null||!so.has(Ae)))){Y.flags|=65536,x&=-x,Y.lanes|=x;var pt=jk(Y,fe,x);GC(Y,pt);break e}}Y=Y.return}while(Y!==null)}t4(S)}catch(Ut){x=Ut,Dn===S&&S!==null&&(Dn=S=S.return);continue}break}while(!0)}function Zk(){var f=Pp.current;return Pp.current=Np,f===null?Np:f}function Ty(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Hn===null||(Jo&268435455)===0&&(Tp&268435455)===0||ao(Hn,tr)}function Fp(f,x){var S=Rs;Rs|=2;var D=Zk();(Hn!==f||tr!==x)&&(cl=null,Zo(f,x));do try{c$();break}catch(H){Xk(f,H)}while(!0);if(Uv(),Rs=S,Pp.current=D,Dn!==null)throw Error(n(261));return Hn=null,tr=0,Bn}function c$(){for(;Dn!==null;)e4(Dn)}function d$(){for(;Dn!==null&&!th();)e4(Dn)}function e4(f){var x=r4(f.alternate,f,da);f.memoizedProps=f.pendingProps,x===null?t4(f):Dn=x,jy.current=null}function t4(f){var x=f;do{var S=x.alternate;if(f=x.return,(x.flags&32768)===0){if(S=s$(S,x,da),S!==null){Dn=S;return}}else{if(S=n$(S,x),S!==null){S.flags&=32767,Dn=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Bn=6,Dn=null;return}}if(x=x.sibling,x!==null){Dn=x;return}Dn=x=f}while(x!==null);Bn===0&&(Bn=5)}function ec(f,x,S){var D=ie,H=Ea.transition;try{Ea.transition=null,ie=1,u$(f,x,S,D)}finally{Ea.transition=H,ie=D}return null}function u$(f,x,S,D){do kd();while(no!==null);if((Rs&6)!==0)throw Error(n(327));S=f.finishedWork;var H=f.finishedLanes;if(S===null)return null;if(f.finishedWork=null,f.finishedLanes=0,S===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var Y=S.lanes|S.childLanes;if(Wf(f,Y),f===Hn&&(Dn=Hn=null,tr=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||Mp||(Mp=!0,a4(Fr,function(){return kd(),null})),Y=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||Y){Y=Ea.transition,Ea.transition=null;var ne=ie;ie=1;var fe=Rs;Rs|=4,jy.current=null,a$(f,S),Wk(S,f),Az(Tv),Gf=!!Pv,Tv=Pv=null,f.current=S,i$(S),$o(),Rs=fe,ie=ne,Ea.transition=Y}else f.current=S;if(Mp&&(Mp=!1,no=f,Dp=H),Y=f.pendingLanes,Y===0&&(so=null),nd(S.stateNode),$r(f,tn()),x!==null)for(D=f.onRecoverableError,S=0;S<x.length;S++)H=x[S],D(H.value,{componentStack:H.stack,digest:H.digest});if(Ap)throw Ap=!1,f=_y,_y=null,f;return(Dp&1)!==0&&f.tag!==0&&kd(),Y=f.pendingLanes,(Y&1)!==0?f===Sy?Mh++:(Mh=0,Sy=f):Mh=0,Xl(),null}function kd(){if(no!==null){var f=De(Dp),x=Ea.transition,S=ie;try{if(Ea.transition=null,ie=16>f?16:f,no===null)var D=!1;else{if(f=no,no=null,Dp=0,(Rs&6)!==0)throw Error(n(331));var H=Rs;for(Rs|=4,Dt=f.current;Dt!==null;){var Y=Dt,ne=Y.child;if((Dt.flags&16)!==0){var fe=Y.deletions;if(fe!==null){for(var ye=0;ye<fe.length;ye++){var Oe=fe[ye];for(Dt=Oe;Dt!==null;){var rt=Dt;switch(rt.tag){case 0:case 11:case 15:Ph(8,rt,Y)}var ot=rt.child;if(ot!==null)ot.return=rt,Dt=ot;else for(;Dt!==null;){rt=Dt;var st=rt.sibling,Tt=rt.return;if(qk(rt),rt===Oe){Dt=null;break}if(st!==null){st.return=Tt,Dt=st;break}Dt=Tt}}}var Ft=Y.alternate;if(Ft!==null){var Bt=Ft.child;if(Bt!==null){Ft.child=null;do{var Pn=Bt.sibling;Bt.sibling=null,Bt=Pn}while(Bt!==null)}}Dt=Y}}if((Y.subtreeFlags&2064)!==0&&ne!==null)ne.return=Y,Dt=ne;else e:for(;Dt!==null;){if(Y=Dt,(Y.flags&2048)!==0)switch(Y.tag){case 0:case 11:case 15:Ph(9,Y,Y.return)}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,Dt=Te;break e}Dt=Y.return}}var Ce=f.current;for(Dt=Ce;Dt!==null;){ne=Dt;var Ae=ne.child;if((ne.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=ne,Dt=Ae;else e:for(ne=Ce;Dt!==null;){if(fe=Dt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Ep(9,fe)}}catch(Ut){Sn(fe,fe.return,Ut)}if(fe===ne){Dt=null;break e}var pt=fe.sibling;if(pt!==null){pt.return=fe.return,Dt=pt;break e}Dt=fe.return}}if(Rs=H,Xl(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(tl,f)}catch{}D=!0}return D}finally{ie=S,Ea.transition=x}}return!1}function s4(f,x,S){x=Nd(S,x),x=bk(f,x,1),f=eo(f,x,1),x=wr(),f!==null&&(Ul(f,1,x),$r(f,x))}function Sn(f,x,S){if(f.tag===3)s4(f,f,S);else for(;x!==null;){if(x.tag===3){s4(x,f,S);break}else if(x.tag===1){var D=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(so===null||!so.has(D))){f=Nd(S,f),f=jk(x,f,1),x=eo(x,f,1),f=wr(),x!==null&&(Ul(x,1,f),$r(x,f));break}}x=x.return}}function h$(f,x,S){var D=f.pingCache;D!==null&&D.delete(x),x=wr(),f.pingedLanes|=f.suspendedLanes&S,Hn===f&&(tr&S)===S&&(Bn===4||Bn===3&&(tr&130023424)===tr&&500>tn()-Ny?Zo(f,0):wy|=S),$r(f,x)}function n4(f,x){x===0&&((f.mode&1)===0?x=1:(x=Zn,Zn<<=1,(Zn&130023424)===0&&(Zn=4194304)));var S=wr();f=il(f,x),f!==null&&(Ul(f,x,S),$r(f,S))}function m$(f){var x=f.memoizedState,S=0;x!==null&&(S=x.retryLane),n4(f,S)}function f$(f,x){var S=0;switch(f.tag){case 13:var D=f.stateNode,H=f.memoizedState;H!==null&&(S=H.retryLane);break;case 19:D=f.stateNode;break;default:throw Error(n(314))}D!==null&&D.delete(x),n4(f,S)}var r4;r4=function(f,x,S){if(f!==null)if(f.memoizedProps!==x.pendingProps||Ir.current)qr=!0;else{if((f.lanes&S)===0&&(x.flags&128)===0)return qr=!1,t$(f,x,S);qr=(f.flags&131072)!==0}else qr=!1,pn&&(x.flags&1048576)!==0&&LC(x,up,x.index);switch(x.lanes=0,x.tag){case 2:var D=x.type;Cp(f,x),f=x.pendingProps;var H=pd(x,ar.current);jd(x,S),H=ey(null,x,D,f,H,S);var Y=ty();return x.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Br(D)?(Y=!0,op(x)):Y=!1,x.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,Gv(x),H.updater=_p,x.stateNode=H,H._reactInternals=x,ly(x,D,f,S),x=uy(null,x,D,!0,Y,S)):(x.tag=0,pn&&Y&&Lv(x),jr(null,x,H,S),x=x.child),x;case 16:D=x.elementType;e:{switch(Cp(f,x),f=x.pendingProps,H=D._init,D=H(D._payload),x.type=D,H=x.tag=x$(D),f=Qa(D,f),H){case 0:x=dy(null,x,D,f,S);break e;case 1:x=Tk(null,x,D,f,S);break e;case 11:x=Sk(null,x,D,f,S);break e;case 14:x=Ck(null,x,D,Qa(D.type,f),S);break e}throw Error(n(306,D,""))}return x;case 0:return D=x.type,H=x.pendingProps,H=x.elementType===D?H:Qa(D,H),dy(f,x,D,H,S);case 1:return D=x.type,H=x.pendingProps,H=x.elementType===D?H:Qa(D,H),Tk(f,x,D,H,S);case 3:e:{if(Ak(x),f===null)throw Error(n(387));D=x.pendingProps,Y=x.memoizedState,H=Y.element,HC(f,x),gp(x,D,null,S);var ne=x.memoizedState;if(D=ne.element,Y.isDehydrated)if(Y={element:D,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},x.updateQueue.baseState=Y,x.memoizedState=Y,x.flags&256){H=Nd(Error(n(423)),x),x=Mk(f,x,D,S,H);break e}else if(D!==H){H=Nd(Error(n(424)),x),x=Mk(f,x,D,S,H);break e}else for(ca=Yl(x.stateNode.containerInfo.firstChild),oa=x,pn=!0,Ya=null,S=VC(x,null,D,S),x.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(vd(),D===H){x=ol(f,x,S);break e}jr(f,x,D,S)}x=x.child}return x;case 5:return YC(x),f===null&&qv(x),D=x.type,H=x.pendingProps,Y=f!==null?f.memoizedProps:null,ne=H.children,Av(D,H)?ne=null:Y!==null&&Av(D,Y)&&(x.flags|=32),Pk(f,x),jr(f,x,ne,S),x.child;case 6:return f===null&&qv(x),null;case 13:return Dk(f,x,S);case 4:return Kv(x,x.stateNode.containerInfo),D=x.pendingProps,f===null?x.child=yd(x,null,D,S):jr(f,x,D,S),x.child;case 11:return D=x.type,H=x.pendingProps,H=x.elementType===D?H:Qa(D,H),Sk(f,x,D,H,S);case 7:return jr(f,x,x.pendingProps,S),x.child;case 8:return jr(f,x,x.pendingProps.children,S),x.child;case 12:return jr(f,x,x.pendingProps.children,S),x.child;case 10:e:{if(D=x.type._context,H=x.pendingProps,Y=x.memoizedProps,ne=H.value,sn(fp,D._currentValue),D._currentValue=ne,Y!==null)if(Ka(Y.value,ne)){if(Y.children===H.children&&!Ir.current){x=ol(f,x,S);break e}}else for(Y=x.child,Y!==null&&(Y.return=x);Y!==null;){var fe=Y.dependencies;if(fe!==null){ne=Y.child;for(var ye=fe.firstContext;ye!==null;){if(ye.context===D){if(Y.tag===1){ye=ll(-1,S&-S),ye.tag=2;var Oe=Y.updateQueue;if(Oe!==null){Oe=Oe.shared;var rt=Oe.pending;rt===null?ye.next=ye:(ye.next=rt.next,rt.next=ye),Oe.pending=ye}}Y.lanes|=S,ye=Y.alternate,ye!==null&&(ye.lanes|=S),Wv(Y.return,S,x),fe.lanes|=S;break}ye=ye.next}}else if(Y.tag===10)ne=Y.type===x.type?null:Y.child;else if(Y.tag===18){if(ne=Y.return,ne===null)throw Error(n(341));ne.lanes|=S,fe=ne.alternate,fe!==null&&(fe.lanes|=S),Wv(ne,S,x),ne=Y.sibling}else ne=Y.child;if(ne!==null)ne.return=Y;else for(ne=Y;ne!==null;){if(ne===x){ne=null;break}if(Y=ne.sibling,Y!==null){Y.return=ne.return,ne=Y;break}ne=ne.return}Y=ne}jr(f,x,H.children,S),x=x.child}return x;case 9:return H=x.type,D=x.pendingProps.children,jd(x,S),H=Ca(H),D=D(H),x.flags|=1,jr(f,x,D,S),x.child;case 14:return D=x.type,H=Qa(D,x.pendingProps),H=Qa(D.type,H),Ck(f,x,D,H,S);case 15:return kk(f,x,x.type,x.pendingProps,S);case 17:return D=x.type,H=x.pendingProps,H=x.elementType===D?H:Qa(D,H),Cp(f,x),x.tag=1,Br(D)?(f=!0,op(x)):f=!1,jd(x,S),vk(x,D,H),ly(x,D,H,S),uy(null,x,D,!0,f,S);case 19:return Rk(f,x,S);case 22:return Ek(f,x,S)}throw Error(n(156,x.tag))};function a4(f,x){return Zc(f,x)}function p$(f,x,S,D){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(f,x,S,D){return new p$(f,x,S,D)}function Ay(f){return f=f.prototype,!(!f||!f.isReactComponent)}function x$(f){if(typeof f=="function")return Ay(f)?1:0;if(f!=null){if(f=f.$$typeof,f===E)return 11;if(f===z)return 14}return 2}function io(f,x){var S=f.alternate;return S===null?(S=Pa(f.tag,x,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=x,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,x=f.dependencies,S.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function Lp(f,x,S,D,H,Y){var ne=2;if(D=f,typeof f=="function")Ay(f)&&(ne=1);else if(typeof f=="string")ne=5;else e:switch(f){case P:return tc(S.children,H,Y,x);case C:ne=8,H|=8;break;case R:return f=Pa(12,S,x,H|2),f.elementType=R,f.lanes=Y,f;case O:return f=Pa(13,S,x,H),f.elementType=O,f.lanes=Y,f;case F:return f=Pa(19,S,x,H),f.elementType=F,f.lanes=Y,f;case U:return Ip(S,H,Y,x);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case M:ne=10;break e;case k:ne=9;break e;case E:ne=11;break e;case z:ne=14;break e;case V:ne=16,D=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return x=Pa(ne,S,x,H),x.elementType=f,x.type=D,x.lanes=Y,x}function tc(f,x,S,D){return f=Pa(7,f,D,x),f.lanes=S,f}function Ip(f,x,S,D){return f=Pa(22,f,D,x),f.elementType=U,f.lanes=S,f.stateNode={isHidden:!1},f}function My(f,x,S){return f=Pa(6,f,null,x),f.lanes=S,f}function Dy(f,x,S){return x=Pa(4,f.children!==null?f.children:[],f.key,x),x.lanes=S,x.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},x}function g$(f,x,S,D,H){this.tag=x,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=D,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function Oy(f,x,S,D,H,Y,ne,fe,ye){return f=new g$(f,x,S,fe,ye),x===1?(x=1,Y===!0&&(x|=8)):x=0,Y=Pa(3,null,null,x),f.current=Y,Y.stateNode=f,Y.memoizedState={element:D,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gv(Y),f}function v$(f,x,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:D==null?null:""+D,children:f,containerInfo:x,implementation:S}}function i4(f){if(!f)return Jl;f=f._reactInternals;e:{if(Pt(f)!==f||f.tag!==1)throw Error(n(170));var x=f;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Br(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(f.tag===1){var S=f.type;if(Br(S))return OC(f,S,x)}return x}function l4(f,x,S,D,H,Y,ne,fe,ye){return f=Oy(S,D,!0,f,H,Y,ne,fe,ye),f.context=i4(null),S=f.current,D=wr(),H=ro(S),Y=ll(D,H),Y.callback=x??null,eo(S,Y,H),f.current.lanes=H,Ul(f,H,D),$r(f,D),f}function Bp(f,x,S,D){var H=x.current,Y=wr(),ne=ro(H);return S=i4(S),x.context===null?x.context=S:x.pendingContext=S,x=ll(Y,ne),x.payload={element:f},D=D===void 0?null:D,D!==null&&(x.callback=D),f=eo(H,x,ne),f!==null&&(Za(f,H,ne,Y),xp(f,H,ne)),ne}function qp(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function o4(f,x){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<x?S:x}}function Ry(f,x){o4(f,x),(f=f.alternate)&&o4(f,x)}function y$(){return null}var c4=typeof reportError=="function"?reportError:function(f){console.error(f)};function Fy(f){this._internalRoot=f}zp.prototype.render=Fy.prototype.render=function(f){var x=this._internalRoot;if(x===null)throw Error(n(409));Bp(f,x,null,null)},zp.prototype.unmount=Fy.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var x=f.containerInfo;Xo(function(){Bp(null,f,null,null)}),x[sl]=null}};function zp(f){this._internalRoot=f}zp.prototype.unstable_scheduleHydration=function(f){if(f){var x=br();f={blockedOn:null,target:f,priority:x};for(var S=0;S<Hl.length&&x!==0&&x<Hl[S].priority;S++);Hl.splice(S,0,f),S===0&&YS(f)}};function Ly(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function $p(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function d4(){}function b$(f,x,S,D,H){if(H){if(typeof D=="function"){var Y=D;D=function(){var Oe=qp(ne);Y.call(Oe)}}var ne=l4(x,D,f,0,null,!1,!1,"",d4);return f._reactRootContainer=ne,f[sl]=ne.current,xh(f.nodeType===8?f.parentNode:f),Xo(),ne}for(;H=f.lastChild;)f.removeChild(H);if(typeof D=="function"){var fe=D;D=function(){var Oe=qp(ye);fe.call(Oe)}}var ye=Oy(f,0,!1,null,null,!1,!1,"",d4);return f._reactRootContainer=ye,f[sl]=ye.current,xh(f.nodeType===8?f.parentNode:f),Xo(function(){Bp(x,ye,S,D)}),ye}function Up(f,x,S,D,H){var Y=S._reactRootContainer;if(Y){var ne=Y;if(typeof H=="function"){var fe=H;H=function(){var ye=qp(ne);fe.call(ye)}}Bp(x,ne,f,H)}else ne=b$(S,x,f,H,D);return qp(ne)}We=function(f){switch(f.tag){case 3:var x=f.stateNode;if(x.current.memoizedState.isDehydrated){var S=Lr(x.pendingLanes);S!==0&&(ad(x,S|1),$r(x,tn()),(Rs&6)===0&&(Cd=tn()+500,Xl()))}break;case 13:Xo(function(){var D=il(f,1);if(D!==null){var H=wr();Za(D,f,1,H)}}),Ry(f,1)}},wt=function(f){if(f.tag===13){var x=il(f,134217728);if(x!==null){var S=wr();Za(x,f,134217728,S)}Ry(f,134217728)}},Ss=function(f){if(f.tag===13){var x=ro(f),S=il(f,x);if(S!==null){var D=wr();Za(S,f,x,D)}Ry(f,x)}},br=function(){return ie},Ga=function(f,x){var S=ie;try{return ie=f,x()}finally{ie=S}},Vn=function(f,x,S){switch(x){case"input":if(qe(f,S),x=S.name,S.type==="radio"&&x!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<S.length;x++){var D=S[x];if(D!==f&&D.form===f.form){var H=ip(D);if(!H)throw Error(n(90));oe(D),qe(D,H)}}}break;case"textarea":_e(f,S);break;case"select":x=S.value,x!=null&&Ke(f,!!S.multiple,x,!1)}},Pe=Ey,Ze=Xo;var j$={usingClientEntryPoint:!1,Events:[yh,md,ip,we,ut,Ey]},Dh={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w$={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=En(f),f===null?null:f.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vp.isDisabled&&Vp.supportsFiber)try{tl=Vp.inject(w$),yr=Vp}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j$,Ur.createPortal=function(f,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ly(x))throw Error(n(200));return v$(f,x,null,S)},Ur.createRoot=function(f,x){if(!Ly(f))throw Error(n(299));var S=!1,D="",H=c4;return x!=null&&(x.unstable_strictMode===!0&&(S=!0),x.identifierPrefix!==void 0&&(D=x.identifierPrefix),x.onRecoverableError!==void 0&&(H=x.onRecoverableError)),x=Oy(f,1,!1,null,null,S,!1,D,H),f[sl]=x.current,xh(f.nodeType===8?f.parentNode:f),new Fy(x)},Ur.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var x=f._reactInternals;if(x===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=En(x),f=f===null?null:f.stateNode,f},Ur.flushSync=function(f){return Xo(f)},Ur.hydrate=function(f,x,S){if(!$p(x))throw Error(n(200));return Up(null,f,x,!0,S)},Ur.hydrateRoot=function(f,x,S){if(!Ly(f))throw Error(n(405));var D=S!=null&&S.hydratedSources||null,H=!1,Y="",ne=c4;if(S!=null&&(S.unstable_strictMode===!0&&(H=!0),S.identifierPrefix!==void 0&&(Y=S.identifierPrefix),S.onRecoverableError!==void 0&&(ne=S.onRecoverableError)),x=l4(x,null,f,1,S??null,H,!1,Y,ne),f[sl]=x.current,xh(f),D)for(f=0;f<D.length;f++)S=D[f],H=S._getVersion,H=H(S._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[S,H]:x.mutableSourceEagerHydrationData.push(S,H);return new zp(x)},Ur.render=function(f,x,S){if(!$p(x))throw Error(n(200));return Up(null,f,x,!1,S)},Ur.unmountComponentAtNode=function(f){if(!$p(f))throw Error(n(40));return f._reactRootContainer?(Xo(function(){Up(null,null,f,!1,function(){f._reactRootContainer=null,f[sl]=null})}),!0):!1},Ur.unstable_batchedUpdates=Ey,Ur.unstable_renderSubtreeIntoContainer=function(f,x,S,D){if(!$p(S))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return Up(f,x,S,!1,D)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var y4;function G_(){if(y4)return zy.exports;y4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),zy.exports=A$(),zy.exports}var b4;function M$(){if(b4)return Hp;b4=1;var t=G_();return Hp.createRoot=t.createRoot,Hp.hydrateRoot=t.hydrateRoot,Hp}var D$=M$();const O$=Bc(D$);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j4="popstate";function R$(t={}){function s(r,a){let{pathname:i,search:l,hash:o}=r.location;return sN("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:jm(a)}return L$(s,n,null,t)}function Nn(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function oi(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function F$(){return Math.random().toString(36).substring(2,10)}function w4(t,s){return{usr:t.state,key:t.key,idx:s}}function sN(t,s,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?_u(s):s,state:n,key:s&&s.key||r||F$()}}function jm({pathname:t="/",search:s="",hash:n=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _u(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substring(r),t=t.substring(0,r)),t&&(s.pathname=t)}return s}function L$(t,s,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o="POP",c=null,u=d();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function d(){return(l.state||{idx:null}).idx}function m(){o="POP";let v=d(),j=v==null?null:v-u;u=v,c&&c({action:o,location:y.location,delta:j})}function h(v,j){o="PUSH";let w=sN(y.location,v,j);u=d()+1;let N=w4(w,u),_=y.createHref(w);try{l.pushState(N,"",_)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(_)}i&&c&&c({action:o,location:y.location,delta:1})}function p(v,j){o="REPLACE";let w=sN(y.location,v,j);u=d();let N=w4(w,u),_=y.createHref(w);l.replaceState(N,"",_),i&&c&&c({action:o,location:y.location,delta:0})}function g(v){return I$(v)}let y={get action(){return o},get location(){return t(a,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(j4,m),c=v,()=>{a.removeEventListener(j4,m),c=null}},createHref(v){return s(a,v)},createURL:g,encodeLocation(v){let j=g(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(v){return l.go(v)}};return y}function I$(t,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:jm(t);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XD(t,s,n="/"){return B$(t,s,n,!1)}function B$(t,s,n,r){let a=typeof s=="string"?_u(s):s,i=kl(a.pathname||"/",n);if(i==null)return null;let l=ZD(t);q$(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=J$(i);o=Y$(l[c],u,r)}return o}function ZD(t,s=[],n=[],r="",a=!1){let i=(l,o,c=a,u)=>{let d={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Nn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=Nl([r,d.relativePath]),h=n.concat(d);l.children&&l.children.length>0&&(Nn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ZD(l.children,s,h,m,c)),!(l.path==null&&!l.index)&&s.push({path:m,score:G$(m,l.index),routesMeta:h})};return t.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let u of e6(l.path))i(l,o,!0,u)}),s}function e6(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=e6(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function q$(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:K$(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var z$=/^:[\w-]+$/,$$=3,U$=2,V$=1,W$=10,H$=-2,N4=t=>t==="*";function G$(t,s){let n=t.split("/"),r=n.length;return n.some(N4)&&(r+=H$),s&&(r+=U$),n.filter(a=>!N4(a)).reduce((a,i)=>a+(z$.test(i)?$$:i===""?V$:W$),r)}function K$(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function Y$(t,s,n=!1){let{routesMeta:r}=t,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?s:s.slice(i.length)||"/",m=Jx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!m&&u&&n&&!r[r.length-1].route.index&&(m=Jx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Nl([i,m.pathname]),pathnameBase:sU(Nl([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Nl([i,m.pathnameBase]))}return l}function Jx(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q$(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:m},h)=>{if(d==="*"){let g=o[h]||"";l=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[h];return m&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:t}}function Q$(t,s=!1,n=!0){oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function J$(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function kl(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var X$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z$=t=>X$.test(t);function eU(t,s="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?_u(t):t,i;if(n)if(Z$(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=_4(n.substring(1),"/"):i=_4(n,s)}else i=s;return{pathname:i,search:nU(r),hash:rU(a)}}function _4(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vy(t,s,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tU(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function t6(t){let s=tU(t);return s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase)}function s6(t,s,n,r=!1){let a;typeof t=="string"?a=_u(t):(a={...t},Nn(!a.pathname||!a.pathname.includes("?"),Vy("?","pathname","search",a)),Nn(!a.pathname||!a.pathname.includes("#"),Vy("#","pathname","hash",a)),Nn(!a.search||!a.search.includes("#"),Vy("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let m=s.length-1;if(!r&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}o=m>=0?s[m]:"/"}let c=eU(a,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Nl=t=>t.join("/").replace(/\/\/+/g,"/"),sU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n6=["POST","PUT","PATCH","DELETE"];new Set(n6);var iU=["GET",...n6];new Set(iU);var Su=b.createContext(null);Su.displayName="DataRouter";var Rg=b.createContext(null);Rg.displayName="DataRouterState";b.createContext(!1);var r6=b.createContext({isTransitioning:!1});r6.displayName="ViewTransition";var lU=b.createContext(new Map);lU.displayName="Fetchers";var oU=b.createContext(null);oU.displayName="Await";var Ki=b.createContext(null);Ki.displayName="Navigation";var ef=b.createContext(null);ef.displayName="Location";var Rl=b.createContext({outlet:null,matches:[],isDataRoute:!1});Rl.displayName="Route";var K_=b.createContext(null);K_.displayName="RouteError";function cU(t,{relative:s}={}){Nn(tf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ki),{hash:a,pathname:i,search:l}=sf(t,{relative:s}),o=i;return n!=="/"&&(o=i==="/"?n:Nl([n,i])),r.createHref({pathname:o,search:l,hash:a})}function tf(){return b.useContext(ef)!=null}function Yi(){return Nn(tf(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ef).location}var a6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i6(t){b.useContext(Ki).static||b.useLayoutEffect(t)}function Y_(){let{isDataRoute:t}=b.useContext(Rl);return t?wU():dU()}function dU(){Nn(tf(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Su),{basename:s,navigator:n}=b.useContext(Ki),{matches:r}=b.useContext(Rl),{pathname:a}=Yi(),i=JSON.stringify(t6(r)),l=b.useRef(!1);return i6(()=>{l.current=!0}),b.useCallback((c,u={})=>{if(oi(l.current,a6),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=s6(c,JSON.parse(i),a,u.relative==="path");t==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:Nl([s,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[s,n,i,a,t])}b.createContext(null);function sf(t,{relative:s}={}){let{matches:n}=b.useContext(Rl),{pathname:r}=Yi(),a=JSON.stringify(t6(n));return b.useMemo(()=>s6(t,JSON.parse(a),r,s==="path"),[t,a,r,s])}function uU(t,s){return l6(t,s)}function l6(t,s,n,r,a){var w;Nn(tf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(Ki),{matches:l}=b.useContext(Rl),o=l[l.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let N=m&&m.path||"";o6(u,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let h=Yi(),p;if(s){let N=typeof s=="string"?_u(s):s;Nn(d==="/"||((w=N.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${N.pathname}" was given in the \`location\` prop.`),p=N}else p=h;let g=p.pathname||"/",y=g;if(d!=="/"){let N=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=XD(t,{pathname:y});oi(m||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),oi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=xU(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Nl([d,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?d:Nl([d,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,a);return s&&j?b.createElement(ef.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},j):j}function hU(){let t=jU(),s=aU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),n?b.createElement("pre",{style:a},n):null,l)}var mU=b.createElement(hU,null),fU=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Rl.Provider,{value:this.props.routeContext},b.createElement(K_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pU({routeContext:t,match:s,children:n}){let r=b.useContext(Su);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(Rl.Provider,{value:t},n)}function xU(t,s=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let d=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Nn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:h,errors:p}=n,g=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=n&&r?(d,m)=>{var h,p;r(d,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:m})}:void 0;return i.reduceRight((d,m,h)=>{let p,g=!1,y=null,v=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||mU,o&&(c<0&&h===0?(o6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===h&&(g=!0,v=m.route.hydrateFallbackElement||null)));let j=s.concat(i.slice(0,h+1)),w=()=>{let N;return p?N=y:g?N=v:m.route.Component?N=b.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,b.createElement(pU,{match:m,routeContext:{outlet:d,matches:j,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?b.createElement(fU,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:u}):w()},null)}function Q_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gU(t){let s=b.useContext(Su);return Nn(s,Q_(t)),s}function vU(t){let s=b.useContext(Rg);return Nn(s,Q_(t)),s}function yU(t){let s=b.useContext(Rl);return Nn(s,Q_(t)),s}function J_(t){let s=yU(t),n=s.matches[s.matches.length-1];return Nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bU(){return J_("useRouteId")}function jU(){var r;let t=b.useContext(K_),s=vU("useRouteError"),n=J_("useRouteError");return t!==void 0?t:(r=s.errors)==null?void 0:r[n]}function wU(){let{router:t}=gU("useNavigate"),s=J_("useNavigate"),n=b.useRef(!1);return i6(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{oi(n.current,a6),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:s,...i}))},[t,s])}var S4={};function o6(t,s,n){!s&&!S4[t]&&(S4[t]=!0,oi(!1,n))}b.memo(NU);function NU({routes:t,future:s,state:n,unstable_onError:r}){return l6(t,void 0,n,r,s)}function ct(t){Nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _U({basename:t="/",children:s=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){Nn(!tf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof n=="string"&&(n=_u(n));let{pathname:c="/",search:u="",hash:d="",state:m=null,key:h="default"}=n,p=b.useMemo(()=>{let g=kl(c,l);return g==null?null:{location:{pathname:g,search:u,hash:d,state:m,key:h},navigationType:r}},[l,c,u,d,m,h,r]);return oi(p!=null,`<Router basename="${l}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(Ki.Provider,{value:o},b.createElement(ef.Provider,{children:s,value:p}))}function SU({children:t,location:s}){return uU(nN(t),s)}function nN(t,s=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let i=[...s,a];if(r.type===b.Fragment){n.push.apply(n,nN(r.props.children,i));return}Nn(r.type===ct,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=nN(r.props.children,i)),n.push(l)}),n}var wx="get",Nx="application/x-www-form-urlencoded";function Fg(t){return t!=null&&typeof t.tagName=="string"}function CU(t){return Fg(t)&&t.tagName.toLowerCase()==="button"}function kU(t){return Fg(t)&&t.tagName.toLowerCase()==="form"}function EU(t){return Fg(t)&&t.tagName.toLowerCase()==="input"}function PU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TU(t,s){return t.button===0&&(!s||s==="_self")&&!PU(t)}var Gp=null;function AU(){if(Gp===null)try{new FormData(document.createElement("form"),0),Gp=!1}catch{Gp=!0}return Gp}var MU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wy(t){return t!=null&&!MU.has(t)?(oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nx}"`),null):t}function DU(t,s){let n,r,a,i,l;if(kU(t)){let o=t.getAttribute("action");r=o?kl(o,s):null,n=t.getAttribute("method")||wx,a=Wy(t.getAttribute("enctype"))||Nx,i=new FormData(t)}else if(CU(t)||EU(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?kl(c,s):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||wx,a=Wy(t.getAttribute("formenctype"))||Wy(o.getAttribute("enctype"))||Nx,i=new FormData(o,t),!AU()){let{name:u,type:d,value:m}=t;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,m)}}else{if(Fg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wx,r=null,a=Nx,l=t}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X_(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function OU(t,s,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:s&&kl(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function RU(t,s){if(t.id in s)return s[t.id];try{let n=await import(t.module);return s[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LU(t,s,n){let r=await Promise.all(t.map(async a=>{let i=s.routes[a.route.id];if(i){let l=await RU(i,n);return l.links?l.links():[]}return[]}));return zU(r.flat(1).filter(FU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C4(t,s,n,r,a,i){let l=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,o=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?s.filter((c,u)=>l(c,u)||o(c,u)):i==="data"?s.filter((c,u)=>{var m;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(l(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function IU(t,s,{includeHydrateFallback:n}={}){return BU(t.map(r=>{let a=s.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function BU(t){return[...new Set(t)]}function qU(t){let s={},n=Object.keys(t).sort();for(let r of n)s[r]=t[r];return s}function zU(t,s){let n=new Set;return new Set(s),t.reduce((r,a)=>{let i=JSON.stringify(qU(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function c6(){let t=b.useContext(Su);return X_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $U(){let t=b.useContext(Rg);return X_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z_=b.createContext(void 0);Z_.displayName="FrameworkContext";function d6(){let t=b.useContext(Z_);return X_(t,"You must render this element inside a <HydratedRouter> element"),t}function UU(t,s){let n=b.useContext(Z_),[r,a]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:m}=s,h=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let y=j=>{j.forEach(w=>{l(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[t]),b.useEffect(()=>{if(r){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{a(!0)},g=()=>{a(!1),l(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Rh(o,p),onBlur:Rh(c,g),onMouseEnter:Rh(u,p),onMouseLeave:Rh(d,g),onTouchStart:Rh(m,p)}]:[!1,h,{}]}function Rh(t,s){return n=>{t&&t(n),n.defaultPrevented||s(n)}}function VU({page:t,...s}){let{router:n}=c6(),r=b.useMemo(()=>XD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(HU,{page:t,matches:r,...s}):null}function WU(t){let{manifest:s,routeModules:n}=d6(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return LU(t,s,n).then(l=>{i||a(l)}),()=>{i=!0}},[t,s,n]),r}function HU({page:t,matches:s,...n}){let r=Yi(),{manifest:a,routeModules:i}=d6(),{basename:l}=c6(),{loaderData:o,matches:c}=$U(),u=b.useMemo(()=>C4(t,s,c,a,r,"data"),[t,s,c,a,r]),d=b.useMemo(()=>C4(t,s,c,a,r,"assets"),[t,s,c,a,r]),m=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,y=!1;if(s.forEach(j=>{var N;let w=a.routes[j.route.id];!w||!w.hasLoader||(!u.some(_=>_.route.id===j.route.id)&&j.route.id in o&&((N=i[j.route.id])!=null&&N.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(j.route.id))}),g.size===0)return[];let v=OU(t,l,"data");return y&&g.size>0&&v.searchParams.set("_routes",s.filter(j=>g.has(j.route.id)).map(j=>j.route.id).join(",")),[v.pathname+v.search]},[l,o,r,a,u,s,t,i]),h=b.useMemo(()=>IU(d,a),[d,a]),p=WU(d);return b.createElement(b.Fragment,null,m.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:y})=>b.createElement("link",{key:g,nonce:n.nonce,...y})))}function GU(...t){return s=>{t.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var u6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u6&&(window.__reactRouterVersion="7.9.6")}catch{}function KU({basename:t,children:s,window:n}){let r=b.useRef();r.current==null&&(r.current=R$({window:n,v5Compat:!0}));let a=r.current,[i,l]=b.useState({action:a.action,location:a.location}),o=b.useCallback(c=>{b.startTransition(()=>l(c))},[l]);return b.useLayoutEffect(()=>a.listen(o),[a,o]),b.createElement(_U,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:a})}var h6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=b.forwardRef(function({onClick:s,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:m,...h},p){let{basename:g}=b.useContext(Ki),y=typeof u=="string"&&h6.test(u),v,j=!1;if(typeof u=="string"&&y&&(v=u,u6))try{let R=new URL(window.location.href),M=u.startsWith("//")?new URL(R.protocol+u):new URL(u),k=kl(M.pathname,g);M.origin===R.origin&&k!=null?u=k+M.search+M.hash:j=!0}catch{oi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=cU(u,{relative:a}),[N,_,T]=UU(r,h),A=XU(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:m});function P(R){s&&s(R),R.defaultPrevented||A(R)}let C=b.createElement("a",{...h,...T,href:v||w,onClick:j||i?s:P,ref:GU(p,_),target:c,"data-discover":!y&&n==="render"?"true":void 0});return N&&!y?b.createElement(b.Fragment,null,C,b.createElement(VU,{page:w})):C});Wt.displayName="Link";var YU=b.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...u},d){let m=sf(l,{relative:u.relative}),h=Yi(),p=b.useContext(Rg),{navigator:g,basename:y}=b.useContext(Ki),v=p!=null&&nV(m)&&o===!0,j=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,w=h.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&y&&(N=kl(N,y)||N);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=w===j||!a&&w.startsWith(j)&&w.charAt(_)==="/",A=N!=null&&(N===j||!a&&N.startsWith(j)&&N.charAt(j.length)==="/"),P={isActive:T,isPending:A,isTransitioning:v},C=T?s:void 0,R;typeof r=="function"?R=r(P):R=[r,T?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(P):i;return b.createElement(Wt,{...u,"aria-current":C,className:R,ref:d,style:M,to:l,viewTransition:o},typeof c=="function"?c(P):c)});YU.displayName="NavLink";var QU=b.forwardRef(({discover:t="render",fetcherKey:s,navigate:n,reloadDocument:r,replace:a,state:i,method:l=wx,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:m,...h},p)=>{let g=tV(),y=sV(o,{relative:u}),v=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&h6.test(o),w=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let _=N.nativeEvent.submitter,T=(_==null?void 0:_.getAttribute("formmethod"))||l;g(_||N.currentTarget,{fetcherKey:s,method:T,navigate:n,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:m})};return b.createElement("form",{ref:p,method:v,action:y,onSubmit:r?c:w,...h,"data-discover":!j&&t==="render"?"true":void 0})});QU.displayName="Form";function JU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m6(t){let s=b.useContext(Su);return Nn(s,JU(t)),s}function XU(t,{target:s,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=Y_(),c=Yi(),u=sf(t,{relative:i});return b.useCallback(d=>{if(TU(d,s)){d.preventDefault();let m=n!==void 0?n:jm(c)===jm(u);o(t,{replace:m,state:r,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,u,n,r,s,t,a,i,l])}var ZU=0,eV=()=>`__${String(++ZU)}__`;function tV(){let{router:t}=m6("useSubmit"),{basename:s}=b.useContext(Ki),n=bU();return b.useCallback(async(r,a={})=>{let{action:i,method:l,encType:o,formData:c,body:u}=DU(r,s);if(a.navigate===!1){let d=a.fetcherKey||eV();await t.fetch(d,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,s,n])}function sV(t,{relative:s}={}){let{basename:n}=b.useContext(Ki),r=b.useContext(Rl);Nn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...sf(t||".",{relative:s})},l=Yi();if(t==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Nl([n,i.pathname])),jm(i)}function nV(t,{relative:s}={}){let n=b.useContext(r6);Nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=m6("useViewTransitionState"),a=sf(t,{relative:s});if(!n.isTransitioning)return!1;let i=kl(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=kl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jx(a.pathname,l)!=null||Jx(a.pathname,i)!=null}var qc=G_();const f6=Bc(qc);function Ee(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function p6(t,s){return function(){return t.apply(s,arguments)}}const{toString:rV}=Object.prototype,{getPrototypeOf:e1}=Object,{iterator:Lg,toStringTag:x6}=Symbol,Ig=(t=>s=>{const n=rV.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xi=t=>(t=t.toLowerCase(),s=>Ig(s)===t),Bg=t=>s=>typeof s===t,{isArray:Cu}=Array,ou=Bg("undefined");function nf(t){return t!==null&&!ou(t)&&t.constructor!==null&&!ou(t.constructor)&&Qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const g6=xi("ArrayBuffer");function aV(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&g6(t.buffer),s}const iV=Bg("string"),Qr=Bg("function"),v6=Bg("number"),rf=t=>t!==null&&typeof t=="object",lV=t=>t===!0||t===!1,_x=t=>{if(Ig(t)!=="object")return!1;const s=e1(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(x6 in t)&&!(Lg in t)},oV=t=>{if(!rf(t)||nf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cV=xi("Date"),dV=xi("File"),uV=xi("Blob"),hV=xi("FileList"),mV=t=>rf(t)&&Qr(t.pipe),fV=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Qr(t.append)&&((s=Ig(t))==="formdata"||s==="object"&&Qr(t.toString)&&t.toString()==="[object FormData]"))},pV=xi("URLSearchParams"),[xV,gV,vV,yV]=["ReadableStream","Request","Response","Headers"].map(xi),bV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function af(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Cu(t))for(r=0,a=t.length;r<a;r++)s.call(null,t[r],r,t);else{if(nf(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(r=0;r<l;r++)o=i[r],s.call(null,t[o],o,t)}}function y6(t,s){if(nf(t))return null;s=s.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],s===a.toLowerCase())return a;return null}const uc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b6=t=>!ou(t)&&t!==uc;function rN(){const{caseless:t,skipUndefined:s}=b6(this)&&this||{},n={},r=(a,i)=>{const l=t&&y6(n,i)||i;_x(n[l])&&_x(a)?n[l]=rN(n[l],a):_x(a)?n[l]=rN({},a):Cu(a)?n[l]=a.slice():(!s||!ou(a))&&(n[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&af(arguments[a],r);return n}const jV=(t,s,n,{allOwnKeys:r}={})=>(af(s,(a,i)=>{n&&Qr(a)?t[i]=p6(a,n):t[i]=a},{allOwnKeys:r}),t),wV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),NV=(t,s,n,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},_V=(t,s,n,r)=>{let a,i,l;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)l=a[i],(!r||r(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=n!==!1&&e1(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},SV=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const r=t.indexOf(s,n);return r!==-1&&r===n},CV=t=>{if(!t)return null;if(Cu(t))return t;let s=t.length;if(!v6(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},kV=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&e1(Uint8Array)),EV=(t,s)=>{const r=(t&&t[Lg]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;s.call(t,i[0],i[1])}},PV=(t,s)=>{let n;const r=[];for(;(n=t.exec(s))!==null;)r.push(n);return r},TV=xi("HTMLFormElement"),AV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),k4=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),MV=xi("RegExp"),j6=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),r={};af(n,(a,i)=>{let l;(l=s(a,i,t))!==!1&&(r[i]=l||a)}),Object.defineProperties(t,r)},DV=t=>{j6(t,(s,n)=>{if(Qr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Qr(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},OV=(t,s)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Cu(t)?r(t):r(String(t).split(s)),n},RV=()=>{},FV=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function LV(t){return!!(t&&Qr(t.append)&&t[x6]==="FormData"&&t[Lg])}const IV=t=>{const s=new Array(10),n=(r,a)=>{if(rf(r)){if(s.indexOf(r)>=0)return;if(nf(r))return r;if(!("toJSON"in r)){s[a]=r;const i=Cu(r)?[]:{};return af(r,(l,o)=>{const c=n(l,a+1);!ou(c)&&(i[o]=c)}),s[a]=void 0,i}}return r};return n(t,0)},BV=xi("AsyncFunction"),qV=t=>t&&(rf(t)||Qr(t))&&Qr(t.then)&&Qr(t.catch),w6=((t,s)=>t?setImmediate:s?((n,r)=>(uc.addEventListener("message",({source:a,data:i})=>{a===uc&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),uc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Qr(uc.postMessage)),zV=typeof queueMicrotask<"u"?queueMicrotask.bind(uc):typeof process<"u"&&process.nextTick||w6,$V=t=>t!=null&&Qr(t[Lg]),Le={isArray:Cu,isArrayBuffer:g6,isBuffer:nf,isFormData:fV,isArrayBufferView:aV,isString:iV,isNumber:v6,isBoolean:lV,isObject:rf,isPlainObject:_x,isEmptyObject:oV,isReadableStream:xV,isRequest:gV,isResponse:vV,isHeaders:yV,isUndefined:ou,isDate:cV,isFile:dV,isBlob:uV,isRegExp:MV,isFunction:Qr,isStream:mV,isURLSearchParams:pV,isTypedArray:kV,isFileList:hV,forEach:af,merge:rN,extend:jV,trim:bV,stripBOM:wV,inherits:NV,toFlatObject:_V,kindOf:Ig,kindOfTest:xi,endsWith:SV,toArray:CV,forEachEntry:EV,matchAll:PV,isHTMLForm:TV,hasOwnProperty:k4,hasOwnProp:k4,reduceDescriptors:j6,freezeMethods:DV,toObjectSet:OV,toCamelCase:AV,noop:RV,toFiniteNumber:FV,findKey:y6,global:uc,isContextDefined:b6,isSpecCompliantForm:LV,toJSONObject:IV,isAsyncFn:BV,isThenable:qV,setImmediate:w6,asap:zV,isIterable:$V};function cs(t,s,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Le.inherits(cs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const N6=cs.prototype,_6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_6[t]={value:t}});Object.defineProperties(cs,_6);Object.defineProperty(N6,"isAxiosError",{value:!0});cs.from=(t,s,n,r,a,i)=>{const l=Object.create(N6);Le.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return cs.call(l,o,c,n,r,a),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const UV=null;function aN(t){return Le.isPlainObject(t)||Le.isArray(t)}function S6(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function E4(t,s,n){return t?t.concat(s).map(function(a,i){return a=S6(a),!n&&i?"["+a+"]":a}).join(n?".":""):s}function VV(t){return Le.isArray(t)&&!t.some(aN)}const WV=Le.toFlatObject(Le,{},null,function(s){return/^is[A-Z]/.test(s)});function qg(t,s,n){if(!Le.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Le.isUndefined(v[y])});const r=n.metaTokens,a=n.visitor||d,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(s);if(!Le.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Le.isDate(g))return g.toISOString();if(Le.isBoolean(g))return g.toString();if(!c&&Le.isBlob(g))throw new cs("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(g)||Le.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,v){let j=g;if(g&&!v&&typeof g=="object"){if(Le.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(Le.isArray(g)&&VV(g)||(Le.isFileList(g)||Le.endsWith(y,"[]"))&&(j=Le.toArray(g)))return y=S6(y),j.forEach(function(N,_){!(Le.isUndefined(N)||N===null)&&s.append(l===!0?E4([y],_,i):l===null?y:y+"[]",u(N))}),!1}return aN(g)?!0:(s.append(E4(v,y,i),u(g)),!1)}const m=[],h=Object.assign(WV,{defaultVisitor:d,convertValue:u,isVisitable:aN});function p(g,y){if(!Le.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(g),Le.forEach(g,function(j,w){(!(Le.isUndefined(j)||j===null)&&a.call(s,j,Le.isString(w)?w.trim():w,y,h))===!0&&p(j,y?y.concat(w):[w])}),m.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),s}function P4(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function t1(t,s){this._pairs=[],t&&qg(t,this,s)}const C6=t1.prototype;C6.append=function(s,n){this._pairs.push([s,n])};C6.toString=function(s){const n=s?function(r){return s.call(this,r,P4)}:P4;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function HV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function k6(t,s,n){if(!s)return t;const r=n&&n.encode||HV;Le.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(s,n):i=Le.isURLSearchParams(s)?s.toString():new t1(s,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class T4{constructor(){this.handlers=[]}use(s,n,r){return this.handlers.push({fulfilled:s,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Le.forEach(this.handlers,function(r){r!==null&&s(r)})}}const E6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GV=typeof URLSearchParams<"u"?URLSearchParams:t1,KV=typeof FormData<"u"?FormData:null,YV=typeof Blob<"u"?Blob:null,QV={isBrowser:!0,classes:{URLSearchParams:GV,FormData:KV,Blob:YV},protocols:["http","https","file","blob","url","data"]},s1=typeof window<"u"&&typeof document<"u",iN=typeof navigator=="object"&&navigator||void 0,JV=s1&&(!iN||["ReactNative","NativeScript","NS"].indexOf(iN.product)<0),XV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZV=s1&&window.location.href||"http://localhost",eW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s1,hasStandardBrowserEnv:JV,hasStandardBrowserWebWorkerEnv:XV,navigator:iN,origin:ZV},Symbol.toStringTag,{value:"Module"})),dr={...eW,...QV};function tW(t,s){return qg(t,new dr.classes.URLSearchParams,{visitor:function(n,r,a,i){return dr.isNode&&Le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function sW(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function nW(t){const s={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],s[i]=t[i];return s}function P6(t){function s(n,r,a,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&Le.isArray(a)?a.length:l,c?(Le.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!o):((!a[l]||!Le.isObject(a[l]))&&(a[l]=[]),s(n,r,a[l],i)&&Le.isArray(a[l])&&(a[l]=nW(a[l])),!o)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const n={};return Le.forEachEntry(t,(r,a)=>{s(sW(r),a,n,0)}),n}return null}function rW(t,s,n){if(Le.isString(t))try{return(s||JSON.parse)(t),Le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const lf={transitional:E6,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Le.isObject(s);if(i&&Le.isHTMLForm(s)&&(s=new FormData(s)),Le.isFormData(s))return a?JSON.stringify(P6(s)):s;if(Le.isArrayBuffer(s)||Le.isBuffer(s)||Le.isStream(s)||Le.isFile(s)||Le.isBlob(s)||Le.isReadableStream(s))return s;if(Le.isArrayBufferView(s))return s.buffer;if(Le.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tW(s,this.formSerializer).toString();if((o=Le.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return qg(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),rW(s)):s}],transformResponse:[function(s){const n=this.transitional||lf.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Le.isResponse(s)||Le.isReadableStream(s))return s;if(s&&Le.isString(s)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?cs.from(o,cs.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{lf.headers[t]={}});const aW=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iW=t=>{const s={};let n,r,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||s[n]&&aW[n])&&(n==="set-cookie"?s[n]?s[n].push(r):s[n]=[r]:s[n]=s[n]?s[n]+", "+r:r)}),s},A4=Symbol("internals");function Fh(t){return t&&String(t).trim().toLowerCase()}function Sx(t){return t===!1||t==null?t:Le.isArray(t)?t.map(Sx):String(t)}function lW(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)s[r[1]]=r[2];return s}const oW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Hy(t,s,n,r,a){if(Le.isFunction(r))return r.call(this,s,n);if(a&&(s=n),!!Le.isString(s)){if(Le.isString(r))return s.indexOf(r)!==-1;if(Le.isRegExp(r))return r.test(s)}}function cW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,r)=>n.toUpperCase()+r)}function dW(t,s){const n=Le.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,l){return this[r].call(this,s,a,i,l)},configurable:!0})})}let Jr=class{constructor(s){s&&this.set(s)}set(s,n,r){const a=this;function i(o,c,u){const d=Fh(c);if(!d)throw new Error("header name must be a non-empty string");const m=Le.findKey(a,d);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||c]=Sx(o))}const l=(o,c)=>Le.forEach(o,(u,d)=>i(u,d,c));if(Le.isPlainObject(s)||s instanceof this.constructor)l(s,n);else if(Le.isString(s)&&(s=s.trim())&&!oW(s))l(iW(s),n);else if(Le.isObject(s)&&Le.isIterable(s)){let o={},c,u;for(const d of s){if(!Le.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?Le.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,n)}else s!=null&&i(n,s,r);return this}get(s,n){if(s=Fh(s),s){const r=Le.findKey(this,s);if(r){const a=this[r];if(!n)return a;if(n===!0)return lW(a);if(Le.isFunction(n))return n.call(this,a,r);if(Le.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Fh(s),s){const r=Le.findKey(this,s);return!!(r&&this[r]!==void 0&&(!n||Hy(this,this[r],r,n)))}return!1}delete(s,n){const r=this;let a=!1;function i(l){if(l=Fh(l),l){const o=Le.findKey(r,l);o&&(!n||Hy(r,r[o],o,n))&&(delete r[o],a=!0)}}return Le.isArray(s)?s.forEach(i):i(s),a}clear(s){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!s||Hy(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const n=this,r={};return Le.forEach(this,(a,i)=>{const l=Le.findKey(r,i);if(l){n[l]=Sx(a),delete n[i];return}const o=s?cW(i):String(i).trim();o!==i&&delete n[i],n[o]=Sx(a),r[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return Le.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=s&&Le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const r=new this(s);return n.forEach(a=>r.set(a)),r}static accessor(s){const r=(this[A4]=this[A4]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Fh(l);r[o]||(dW(a,l),r[o]=!0)}return Le.isArray(s)?s.forEach(i):i(s),this}};Jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(Jr.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[n]=r}}});Le.freezeMethods(Jr);function Gy(t,s){const n=this||lf,r=s||n,a=Jr.from(r.headers);let i=r.data;return Le.forEach(t,function(o){i=o.call(n,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function T6(t){return!!(t&&t.__CANCEL__)}function ku(t,s,n){cs.call(this,t??"canceled",cs.ERR_CANCELED,s,n),this.name="CanceledError"}Le.inherits(ku,cs,{__CANCEL__:!0});function A6(t,s,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):s(new cs("Request failed with status code "+n.status,[cs.ERR_BAD_REQUEST,cs.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function uW(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function hW(t,s){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const u=Date.now(),d=r[i];l||(l=u),n[a]=c,r[a]=u;let m=i,h=0;for(;m!==a;)h+=n[m++],m=m%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),u-l<s)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function mW(t,s){let n=0,r=1e3/s,a,i;const l=(u,d=Date.now())=>{n=d,a=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),m=d-n;m>=r?l(u,d):(a=u,i||(i=setTimeout(()=>{i=null,l(a)},r-m)))},()=>a&&l(a)]}const Xx=(t,s,n=3)=>{let r=0;const a=hW(50,250);return mW(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,u=a(c),d=l<=o;r=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},n)},M4=(t,s)=>{const n=t!=null;return[r=>s[0]({lengthComputable:n,total:t,loaded:r}),s[1]]},D4=t=>(...s)=>Le.asap(()=>t(...s)),fW=dr.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,dr.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,pW=dr.hasStandardBrowserEnv?{write(t,s,n,r,a,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];Le.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Le.isString(r)&&o.push(`path=${r}`),Le.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),Le.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gW(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function M6(t,s,n){let r=!xW(s);return t&&(r||n==!1)?gW(t,s):s}const O4=t=>t instanceof Jr?{...t}:t;function kc(t,s){s=s||{};const n={};function r(u,d,m,h){return Le.isPlainObject(u)&&Le.isPlainObject(d)?Le.merge.call({caseless:h},u,d):Le.isPlainObject(d)?Le.merge({},d):Le.isArray(d)?d.slice():d}function a(u,d,m,h){if(Le.isUndefined(d)){if(!Le.isUndefined(u))return r(void 0,u,m,h)}else return r(u,d,m,h)}function i(u,d){if(!Le.isUndefined(d))return r(void 0,d)}function l(u,d){if(Le.isUndefined(d)){if(!Le.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function o(u,d,m){if(m in s)return r(u,d);if(m in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,m)=>a(O4(u),O4(d),m,!0)};return Le.forEach(Object.keys({...t,...s}),function(d){const m=c[d]||a,h=m(t[d],s[d],d);Le.isUndefined(h)&&m!==o||(n[d]=h)}),n}const D6=t=>{const s=kc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=Jr.from(l),s.url=k6(M6(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Le.isFormData(n)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Le.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&l.set(d,m)})}}if(dr.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(s)),r||r!==!1&&fW(s.url))){const c=a&&i&&pW.read(i);c&&l.set(a,c)}return s},vW=typeof XMLHttpRequest<"u",yW=vW&&function(t){return new Promise(function(n,r){const a=D6(t);let i=a.data;const l=Jr.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,m,h,p,g;function y(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function j(){if(!v)return;const N=Jr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:t,request:v};A6(function(P){n(P),y()},function(P){r(P),y()},T),v=null}"onloadend"in v?v.onloadend=j:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(j)},v.onabort=function(){v&&(r(new cs("Request aborted",cs.ECONNABORTED,t,v)),v=null)},v.onerror=function(_){const T=_&&_.message?_.message:"Network Error",A=new cs(T,cs.ERR_NETWORK,t,v);A.event=_||null,r(A),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const T=a.transitional||E6;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),r(new cs(_,T.clarifyTimeoutError?cs.ETIMEDOUT:cs.ECONNABORTED,t,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&Le.forEach(l.toJSON(),function(_,T){v.setRequestHeader(T,_)}),Le.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),u&&([h,g]=Xx(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([m,p]=Xx(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=N=>{v&&(r(!N||N.type?new ku(null,t,v):N),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const w=uW(a.url);if(w&&dr.protocols.indexOf(w)===-1){r(new cs("Unsupported protocol "+w+":",cs.ERR_BAD_REQUEST,t));return}v.send(i||null)})},bW=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let r=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;r.abort(d instanceof cs?d:new ku(d instanceof Error?d.message:d))}};let l=s&&setTimeout(()=>{l=null,i(new cs(`timeout ${s} of ms exceeded`,cs.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Le.asap(o),c}},jW=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let r=0,a;for(;r<n;)a=r+s,yield t.slice(r,a),r=a},wW=async function*(t,s){for await(const n of NW(t))yield*jW(n,s)},NW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:r}=await s.read();if(n)break;yield r}}finally{await s.cancel()}},R4=(t,s,n,r)=>{const a=wW(t,s);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let m=d.byteLength;if(n){let h=i+=m;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},F4=64*1024,{isFunction:Kp}=Le,_W=(({Request:t,Response:s})=>({Request:t,Response:s}))(Le.global),{ReadableStream:L4,TextEncoder:I4}=Le.global,B4=(t,...s)=>{try{return!!t(...s)}catch{return!1}},SW=t=>{t=Le.merge.call({skipUndefined:!0},_W,t);const{fetch:s,Request:n,Response:r}=t,a=s?Kp(s):typeof fetch=="function",i=Kp(n),l=Kp(r);if(!a)return!1;const o=a&&Kp(L4),c=a&&(typeof I4=="function"?(g=>y=>g.encode(y))(new I4):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&o&&B4(()=>{let g=!1;const y=new n(dr.origin,{body:new L4,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=l&&o&&B4(()=>Le.isReadableStream(new r("").body)),m={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(y,v)=>{let j=y&&y[g];if(j)return j.call(y);throw new cs(`Response type '${g}' is not supported`,cs.ERR_NOT_SUPPORT,v)})});const h=async g=>{if(g==null)return 0;if(Le.isBlob(g))return g.size;if(Le.isSpecCompliantForm(g))return(await new n(dr.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(g)||Le.isArrayBuffer(g))return g.byteLength;if(Le.isURLSearchParams(g)&&(g=g+""),Le.isString(g))return(await c(g)).byteLength},p=async(g,y)=>{const v=Le.toFiniteNumber(g.getContentLength());return v??h(y)};return async g=>{let{url:y,method:v,data:j,signal:w,cancelToken:N,timeout:_,onDownloadProgress:T,onUploadProgress:A,responseType:P,headers:C,withCredentials:R="same-origin",fetchOptions:M}=D6(g),k=s||fetch;P=P?(P+"").toLowerCase():"text";let E=bW([w,N&&N.toAbortSignal()],_),O=null;const F=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let z;try{if(A&&u&&v!=="get"&&v!=="head"&&(z=await p(C,j))!==0){let I=new n(y,{method:"POST",body:j,duplex:"half"}),W;if(Le.isFormData(j)&&(W=I.headers.get("content-type"))&&C.setContentType(W),I.body){const[q,Z]=M4(z,Xx(D4(A)));j=R4(I.body,F4,q,Z)}}Le.isString(R)||(R=R?"include":"omit");const V=i&&"credentials"in n.prototype,U={...M,signal:E,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:j,duplex:"half",credentials:V?R:void 0};O=i&&new n(y,U);let B=await(i?k(O,M):k(y,U));const $=d&&(P==="stream"||P==="response");if(d&&(T||$&&F)){const I={};["status","statusText","headers"].forEach(J=>{I[J]=B[J]});const W=Le.toFiniteNumber(B.headers.get("content-length")),[q,Z]=T&&M4(W,Xx(D4(T),!0))||[];B=new r(R4(B.body,F4,q,()=>{Z&&Z(),F&&F()}),I)}P=P||"text";let L=await m[Le.findKey(m,P)||"text"](B,g);return!$&&F&&F(),await new Promise((I,W)=>{A6(I,W,{data:L,headers:Jr.from(B.headers),status:B.status,statusText:B.statusText,config:g,request:O})})}catch(V){throw F&&F(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new cs("Network Error",cs.ERR_NETWORK,g,O),{cause:V.cause||V}):cs.from(V,V&&V.code,g,O)}}},CW=new Map,O6=t=>{let s=t&&t.env||{};const{fetch:n,Request:r,Response:a}=s,i=[r,a,n];let l=i.length,o=l,c,u,d=CW;for(;o--;)c=i[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:SW(s)),d=u;return u};O6();const n1={http:UV,xhr:yW,fetch:{get:O6}};Le.forEach(n1,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const q4=t=>`- ${t}`,kW=t=>Le.isFunction(t)||t===null||t===!1;function EW(t,s){t=Le.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let l=0;l<n;l++){r=t[l];let o;if(a=r,!kW(r)&&(a=n1[(o=String(r)).toLowerCase()],a===void 0))throw new cs(`Unknown adapter '${o}'`);if(a&&(Le.isFunction(a)||(a=a.get(s))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(q4).join(`
`):" "+q4(l[0]):"as no adapter specified";throw new cs("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const R6={getAdapter:EW,adapters:n1};function Ky(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ku(null,t)}function z4(t){return Ky(t),t.headers=Jr.from(t.headers),t.data=Gy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),R6.getAdapter(t.adapter||lf.adapter,t)(t).then(function(r){return Ky(t),r.data=Gy.call(t,t.transformResponse,r),r.headers=Jr.from(r.headers),r},function(r){return T6(r)||(Ky(t),r&&r.response&&(r.response.data=Gy.call(t,t.transformResponse,r.response),r.response.headers=Jr.from(r.response.headers))),Promise.reject(r)})}const F6="1.13.2",zg={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{zg[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const $4={};zg.transitional=function(s,n,r){function a(i,l){return"[Axios v"+F6+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(s===!1)throw new cs(a(l," has been removed"+(n?" in "+n:"")),cs.ERR_DEPRECATED);return n&&!$4[l]&&($4[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(i,l,o):!0}};zg.spelling=function(s){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function PW(t,s,n){if(typeof t!="object")throw new cs("options must be an object",cs.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new cs("option "+i+" must be "+c,cs.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new cs("Unknown option "+i,cs.ERR_BAD_OPTION)}}const Cx={assertOptions:PW,validators:zg},Ci=Cx.validators;let bc=class{constructor(s){this.defaults=s||{},this.interceptors={request:new T4,response:new T4}}async request(s,n){try{return await this._request(s,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=kc(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Cx.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),a!=null&&(Le.isFunction(a)?n.paramsSerializer={serialize:a}:Cx.assertOptions(a,{encode:Ci.function,serialize:Ci.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cx.assertOptions(n,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&Le.merge(i.common,i[n.method]);i&&Le.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Jr.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,m=0,h;if(!c){const g=[z4.bind(this),void 0];for(g.unshift(...o),g.push(...u),h=g.length,d=Promise.resolve(n);m<h;)d=d.then(g[m++],g[m++]);return d}h=o.length;let p=n;for(;m<h;){const g=o[m++],y=o[m++];try{p=g(p)}catch(v){y.call(this,v);break}}try{d=z4.call(this,p)}catch(g){return Promise.reject(g)}for(m=0,h=u.length;m<h;)d=d.then(u[m++],u[m++]);return d}getUri(s){s=kc(this.defaults,s);const n=M6(s.baseURL,s.url,s.allowAbsoluteUrls);return k6(n,s.params,s.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(s){bc.prototype[s]=function(n,r){return this.request(kc(r||{},{method:s,url:n,data:(r||{}).data}))}});Le.forEach(["post","put","patch"],function(s){function n(r){return function(i,l,o){return this.request(kc(o||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}bc.prototype[s]=n(),bc.prototype[s+"Form"]=n(!0)});let TW=class L6{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(a);return l.cancel=function(){r.unsubscribe(i)},l},s(function(i,l,o){r.reason||(r.reason=new ku(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=r=>{s.abort(r)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new L6(function(a){s=a}),cancel:s}}};function AW(t){return function(n){return t.apply(null,n)}}function MW(t){return Le.isObject(t)&&t.isAxiosError===!0}const lN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lN).forEach(([t,s])=>{lN[s]=t});function I6(t){const s=new bc(t),n=p6(bc.prototype.request,s);return Le.extend(n,bc.prototype,s,{allOwnKeys:!0}),Le.extend(n,s,null,{allOwnKeys:!0}),n.create=function(a){return I6(kc(t,a))},n}const Mn=I6(lf);Mn.Axios=bc;Mn.CanceledError=ku;Mn.CancelToken=TW;Mn.isCancel=T6;Mn.VERSION=F6;Mn.toFormData=qg;Mn.AxiosError=cs;Mn.Cancel=Mn.CanceledError;Mn.all=function(s){return Promise.all(s)};Mn.spread=AW;Mn.isAxiosError=MW;Mn.mergeConfig=kc;Mn.AxiosHeaders=Jr;Mn.formToJSON=t=>P6(Le.isHTMLForm(t)?new FormData(t):t);Mn.getAdapter=R6.getAdapter;Mn.HttpStatusCode=lN;Mn.default=Mn;const{Axios:$Se,AxiosError:USe,CanceledError:VSe,isCancel:WSe,CancelToken:HSe,VERSION:GSe,all:KSe,Cancel:YSe,isAxiosError:QSe,spread:JSe,toFormData:XSe,AxiosHeaders:ZSe,HttpStatusCode:eCe,formToJSON:tCe,getAdapter:sCe,mergeConfig:nCe}=Mn;class DW extends Error{constructor(s,n,r,a,i){super(s),this.name="Base44Error",this.status=n,this.code=r,this.data=a,this.originalError=i}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function OW(t){let{baseURL:s,headers:n={},token:r,requiresAuth:a=!1,appId:i,serverUrl:l}=t;const o=Mn.create({baseURL:s,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(o.defaults.headers.common.Authorization=`Bearer ${r}`),o.interceptors.request.use((c=>(typeof window<"u"&&(c.headers={...c.headers,"X-Origin-URL":window.location.href}),c))),o.interceptors.response.use((c=>c.data),(c=>{var m,h,p,g,y,v,j,w,N,_;const u=((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.message)||((g=(p=c.response)==null?void 0:p.data)==null?void 0:g.detail)||c.message,d=new DW(u,(y=c.response)==null?void 0:y.status,(j=(v=c.response)==null?void 0:v.data)==null?void 0:j.code,(w=c.response)==null?void 0:w.data,c);return console.log(a,(N=c.response)==null?void 0:N.status,typeof window<"u"),a&&((_=c.response)==null?void 0:_.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(T,A){if(typeof window>"u")return;const P=`${T}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${A}`;window.location.href=P})(l,i)}),100)),Promise.reject(d)})),o}function RW(t,s){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(a,i,l){const o=`/apps/${i}/entities/${l}`;return{async list(c,u,d,m){const h={};return c&&(h.sort=c),u&&(h.limit=u),d&&(h.skip=d),m&&(h.fields=Array.isArray(m)?m.join(","):m),a.get(o,{params:h})},async filter(c,u,d,m,h){const p={q:JSON.stringify(c)};return u&&(p.sort=u),d&&(p.limit=d),m&&(p.skip=m),h&&(p.fields=Array.isArray(h)?h.join(","):h),a.get(o,{params:p})},get:async c=>a.get(`${o}/${c}`),create:async c=>a.post(o,c),update:async(c,u)=>a.put(`${o}/${c}`,u),delete:async c=>a.delete(`${o}/${c}`),deleteMany:async c=>a.delete(o,{data:c}),bulkCreate:async c=>a.post(`${o}/bulk`,c),async importEntities(c){const u=new FormData;return u.append("file",c,c.name),a.post(`${o}/import`,u,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,s,r)}})}function FW(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:s="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:a=!0}=t;let i=null;if(typeof window<"u"&&window.location)try{const l=new URLSearchParams(window.location.search);if(i=l.get(n),i){if(r&&LW(i,{storageKey:s}),a){l.delete(n);const o=`${window.location.pathname}${l.toString()?`?${l.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,o)}return i}}catch(l){console.error("Error retrieving token from URL:",l)}if(typeof window<"u"&&window.localStorage)try{return i=window.localStorage.getItem(s),i}catch(l){console.error("Error retrieving token from localStorage:",l)}return null}function LW(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=s;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function IW(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:s="https://base44.app",appId:n,env:r="prod",token:a,requiresAuth:i=!1}=t,l=OW({baseURL:`${s}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:a,requiresAuth:i,appId:n,serverUrl:s}),o=RW(l,n),c=(function(d,m){return new Proxy({},{get(h,p){if(typeof p=="string"&&p!=="then"&&!p.startsWith("_"))return new Proxy({},{get(g,y){if(typeof y=="string"&&y!=="then"&&!y.startsWith("_"))return async v=>{if(typeof v=="string")throw new Error(`Integration ${y} must receive an object with named parameters, received: ${v}`);let j,w;return v instanceof FormData||v&&Object.values(v).some((N=>N instanceof File))?(j=new FormData,Object.keys(v).forEach((N=>{v[N]instanceof File?j.append(N,v[N],v[N].name):typeof v[N]=="object"&&v[N]!==null?j.append(N,JSON.stringify(v[N])):j.append(N,v[N])})),w="multipart/form-data"):(j=v,w="application/json"),p==="Core"?d.post(`/apps/${m}/integration-endpoints/Core/${y}`,j||v,{headers:{"Content-Type":w}}):d.post(`/apps/${m}/integration-endpoints/installable/${p}/integration-endpoints/${y}`,j||v,{headers:{"Content-Type":w}})}}})}})})(l,n),u=(function(d,m,h){return{me:async()=>d.get(`/apps/${m}/entities/User/me`),updateMe:async p=>d.put(`/apps/${m}/entities/User/me`,p),login(p){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const g=p||window.location.href,y=`${h}/login?from_url=${encodeURIComponent(g)}&app_id=${m}`;window.location.href=y},async logout(p){if(delete d.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(g){console.error("Failed to remove token from localStorage:",g)}return p&&typeof window<"u"&&(window.location.href=p),Promise.resolve()},setToken(p){let g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(p&&(d.defaults.headers.common.Authorization=`Bearer ${p}`,g&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",p)}catch(y){console.error("Failed to save token to localStorage:",y)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(l,n,s);if(typeof window<"u"){const d=a||FW();d&&u.setToken(d)}return i&&typeof window<"u"&&setTimeout((async()=>{try{await u.isAuthenticated()||u.login(window.location.href)}catch(d){console.error("Authentication check failed:",d),u.login(window.location.href)}}),0),{entities:o,integrations:c,auth:u,setToken(d){u.setToken(d)},getConfig:()=>({serverUrl:s,appId:n,env:r,requiresAuth:i})}}const K=IW({appId:"68efc20f3e0a30fafad6dde7",requiresAuth:!1}),$g=Object.freeze(Object.defineProperty({__proto__:null,base44:K},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B6=(...t)=>t.filter((s,n,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=b.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:l,...o},c)=>b.createElement("svg",{ref:c,...qW,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:B6("lucide",a),...o},[...l.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,s)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(zW,{ref:i,iconNode:s,className:B6(`lucide-${BW(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q6=Je("ArrowDown",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qi=Je("ArrowLeft",UW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oN=Je("ArrowRight",VW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],r1=Je("ArrowUpDown",WW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kr=Je("ArrowUpRight",HW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],z6=Je("ArrowUp",GW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],of=Je("AtSign",KW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],QW=Je("Award",YW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ug=Je("BookOpen",JW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],kn=Je("Briefcase",XW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],$6=Je("Bug",ZW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],va=Je("Building2",eH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Ro=Je("Building",tH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],nH=Je("CalendarDays",sH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],js=Je("Calendar",rH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Eu=Je("ChartColumn",aH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cf=Je("Check",iH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Pr=Je("ChevronDown",lH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Un=Je("ChevronLeft",oH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ys=Je("ChevronRight",cH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vg=Je("ChevronUp",dH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ps=Je("CircleAlert",uH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],mH=Je("CircleArrowDown",hH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Yy=Je("CircleArrowUp",fH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],df=Je("CircleCheckBig",pH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kn=Je("CircleCheck",xH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zc=Je("CircleHelp",gH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Pu=Je("CirclePlay",vH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],bH=Je("CircleUser",yH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wH=Je("CircleX",jH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U6=Je("Circle",NH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],en=Je("Clock",_H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],La=Je("Copy",SH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$c=Je("CreditCard",CH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],EH=Je("Database",kH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TH=Je("DollarSign",PH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Qn=Je("Download",AH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Qs=Je("ExternalLink",MH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a1=Je("EyeOff",DH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fr=Je("Eye",OH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],FH=Je("FileCheck",RH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],uf=Je("FilePen",LH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],Fl=Je("FileQuestion",IH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ts=Je("FileText",BH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],zH=Je("File",qH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],UH=Je("Filter",$H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fo=Je("FolderOpen",VH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],V6=Je("FolderPlus",WH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Ec=Je("FolderTree",HH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],gl=Je("Folder",GH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],W6=Je("Globe",KH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Uc=Je("GripVertical",YH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],JH=Je("Heart",QH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wg=Je("History",XH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wm=Je("House",ZH);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ri=Je("Image",eG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U4=Je("Info",tG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],nG=Je("Layers",sG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],aG=Je("LayoutGrid",rG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],H6=Je("Lightbulb",iG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],V4=Je("Link",lG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],cu=Je("Linkedin",oG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],W4=Je("ListPlus",cG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vt=Je("LoaderCircle",dG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],hG=Je("LockOpen",uG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cN=Je("Lock",mG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],G6=Je("LogOut",fG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ts=Je("Mail",pG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Tr=Je("MapPin",xG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],El=Je("Menu",gG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],H4=Je("MessageCircle",vG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],bG=Je("MessageSquare",yG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],hf=Je("MousePointer2",jG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],Ei=Je("MoveHorizontal",wG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],dN=Je("Navigation",NG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],G4=Je("Newspaper",_G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],CG=Je("PanelLeft",SG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Qy=Je("PanelsTopLeft",kG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ps=Je("Pencil",EG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Hg=Je("Phone",PG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Et=Je("Plus",TG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],MG=Je("PoundSterling",AG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kx=Je("RefreshCw",DG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],K4=Je("RotateCcw",OG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],un=Je("Save",RG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ks=Je("Search",FG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],K6=Je("Send",LG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ua=Je("Settings",IG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],hc=Je("Share2",BG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Y4=Je("ShieldAlert",qG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ln=Je("Shield",zG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vc=Je("ShoppingCart",$G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Ll=Je("SlidersHorizontal",UG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ea=Je("Sparkles",VG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HG=Je("SquareCheckBig",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ci=Je("SquarePen",GG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Q4=Je("Square",KG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],i1=Je("Star",YG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],JG=Je("Table",QG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jc=Je("Tag",XG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eK=Je("Target",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Y6=Je("ThumbsDown",tK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Q6=Je("ThumbsUp",sK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ds=Je("Ticket",nK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],is=Je("Trash2",rK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],iK=Je("TrendingUp",aK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oK=Je("TriangleAlert",lK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Fn=Je("Trophy",cK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Zx=Je("Type",dK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Gs=Je("Upload",uK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],mK=Je("UserMinus",hK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Pc=Je("UserPlus",fK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Js=Je("User",pK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bs=Je("Users",xK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],vK=Je("Video",gK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Eo=Je("Wallet",yK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],jK=Je("Webhook",bK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ws=Je("X",wK);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uN=Je("Zap",NK);function J4(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Ar(...t){return s=>{let n=!1;const r=t.map(a=>{const i=J4(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():J4(t[a],null)}}}}function fs(...t){return b.useCallback(Ar(...t),t)}var _K=Symbol.for("react.lazy"),eg=H_[" use ".trim().toString()];function SK(t){return typeof t=="object"&&t!==null&&"then"in t}function J6(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===_K&&"_payload"in t&&SK(t._payload)}function l1(t){const s=CK(t),n=b.forwardRef((r,a)=>{let{children:i,...l}=r;J6(i)&&typeof eg=="function"&&(i=eg(i._payload));const o=b.Children.toArray(i),c=o.find(EK);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var Tu=l1("Slot");function CK(t){const s=b.forwardRef((n,r)=>{let{children:a,...i}=n;if(J6(a)&&typeof eg=="function"&&(a=eg(a._payload)),b.isValidElement(a)){const l=TK(a),o=PK(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var kK=Symbol("radix.slottable");function EK(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kK}function PK(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function TK(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function X6(t){var s,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=X6(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Z6(){for(var t,s,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(s=X6(t))&&(r&&(r+=" "),r+=s);return r}const X4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Z4=Z6,Au=(t,s)=>n=>{var r;if((s==null?void 0:s.variants)==null)return Z4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=s,l=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],m=i==null?void 0:i[u];if(d===null)return null;const h=X4(d)||X4(m);return a[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[m,h]=d;return h===void 0||(u[m]=h),u},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:m,className:h,...p}=d;return Object.entries(p).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...i,...o}[y]):{...i,...o}[y]===v})?[...u,m,h]:u},[]);return Z4(t,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},Jy=768;function AK(){const[t,s]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Jy-1}px)`),r=()=>{s(window.innerWidth<Jy)};return n.addEventListener("change",r),s(window.innerWidth<Jy),()=>n.removeEventListener("change",r)},[]),!!t}const MK=(t,s)=>{const n=new Array(t.length+s.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<s.length;r++)n[t.length+r]=s[r];return n},DK=(t,s)=>({classGroupId:t,validator:s}),e5=(t=new Map,s=null,n)=>({nextPart:t,validators:s,classGroupId:n}),tg="-",eE=[],OK="arbitrary..",RK=t=>{const s=LK(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return FK(l);const o=l.split(tg),c=o[0]===""&&o.length>1?1:0;return t5(o,c,s)},getConflictingClassGroupIds:(l,o)=>{if(o){const c=r[l],u=n[l];return c?u?MK(u,c):c:u||eE}return n[l]||eE}}},t5=(t,s,n)=>{if(t.length-s===0)return n.classGroupId;const a=t[s],i=n.nextPart.get(a);if(i){const u=t5(t,s+1,i);if(u)return u}const l=n.validators;if(l===null)return;const o=s===0?t.join(tg):t.slice(s).join(tg),c=l.length;for(let u=0;u<c;u++){const d=l[u];if(d.validator(o))return d.classGroupId}},FK=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),n=s.indexOf(":"),r=s.slice(0,n);return r?OK+r:void 0})(),LK=t=>{const{theme:s,classGroups:n}=t;return IK(n,s)},IK=(t,s)=>{const n=e5();for(const r in t){const a=t[r];o1(a,n,r,s)}return n},o1=(t,s,n,r)=>{const a=t.length;for(let i=0;i<a;i++){const l=t[i];BK(l,s,n,r)}},BK=(t,s,n,r)=>{if(typeof t=="string"){qK(t,s,n);return}if(typeof t=="function"){zK(t,s,n,r);return}$K(t,s,n,r)},qK=(t,s,n)=>{const r=t===""?s:s5(s,t);r.classGroupId=n},zK=(t,s,n,r)=>{if(UK(t)){o1(t(r),s,n,r);return}s.validators===null&&(s.validators=[]),s.validators.push(DK(n,t))},$K=(t,s,n,r)=>{const a=Object.entries(t),i=a.length;for(let l=0;l<i;l++){const[o,c]=a[l];o1(c,s5(s,o),n,r)}},s5=(t,s)=>{let n=t;const r=s.split(tg),a=r.length;for(let i=0;i<a;i++){const l=r[i];let o=n.nextPart.get(l);o||(o=e5(),n.nextPart.set(l,o)),n=o}return n},UK=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,VK=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),r=Object.create(null);const a=(i,l)=>{n[i]=l,s++,s>t&&(s=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return a(i,l),l},set(i,l){i in n?n[i]=l:a(i,l)}}},hN="!",tE=":",WK=[],sE=(t,s,n,r,a)=>({modifiers:t,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),HK=t=>{const{prefix:s,experimentalParseClassName:n}=t;let r=a=>{const i=[];let l=0,o=0,c=0,u;const d=a.length;for(let y=0;y<d;y++){const v=a[y];if(l===0&&o===0){if(v===tE){i.push(a.slice(c,y)),c=y+1;continue}if(v==="/"){u=y;continue}}v==="["?l++:v==="]"?l--:v==="("?o++:v===")"&&o--}const m=i.length===0?a:a.slice(c);let h=m,p=!1;m.endsWith(hN)?(h=m.slice(0,-1),p=!0):m.startsWith(hN)&&(h=m.slice(1),p=!0);const g=u&&u>c?u-c:void 0;return sE(i,p,h,g)};if(s){const a=s+tE,i=r;r=l=>l.startsWith(a)?i(l.slice(a.length)):sE(WK,!1,l,void 0,!0)}if(n){const a=r;r=i=>n({className:i,parseClassName:a})}return r},GK=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{s.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let i=0;i<n.length;i++){const l=n[i],o=l[0]==="[",c=s.has(l);o||c?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(l)):a.push(l)}return a.length>0&&(a.sort(),r.push(...a)),r}},KK=t=>({cache:VK(t.cacheSize),parseClassName:HK(t),sortModifiers:GK(t),...RK(t)}),YK=/\s+/,QK=(t,s)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=s,l=[],o=t.trim().split(YK);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:m,modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(d);if(m){c=d+(c.length>0?" "+c:c);continue}let v=!!y,j=r(v?g.substring(0,y):g);if(!j){if(!v){c=d+(c.length>0?" "+c:c);continue}if(j=r(g),!j){c=d+(c.length>0?" "+c:c);continue}v=!1}const w=h.length===0?"":h.length===1?h[0]:i(h).join(":"),N=p?w+hN:w,_=N+j;if(l.indexOf(_)>-1)continue;l.push(_);const T=a(j,v);for(let A=0;A<T.length;++A){const P=T[A];l.push(N+P)}c=d+(c.length>0?" "+c:c)}return c},JK=(...t)=>{let s=0,n,r,a="";for(;s<t.length;)(n=t[s++])&&(r=n5(n))&&(a&&(a+=" "),a+=r);return a},n5=t=>{if(typeof t=="string")return t;let s,n="";for(let r=0;r<t.length;r++)t[r]&&(s=n5(t[r]))&&(n&&(n+=" "),n+=s);return n},XK=(t,...s)=>{let n,r,a,i;const l=c=>{const u=s.reduce((d,m)=>m(d),t());return n=KK(u),r=n.cache.get,a=n.cache.set,i=o,o(c)},o=c=>{const u=r(c);if(u)return u;const d=QK(c,n);return a(c,d),d};return i=l,(...c)=>i(JK(...c))},ZK=[],qn=t=>{const s=n=>n[t]||ZK;return s.isThemeGetter=!0,s},r5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,a5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eY=/^\d+\/\d+$/,tY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ed=t=>eY.test(t),gs=t=>!!t&&!Number.isNaN(Number(t)),oo=t=>!!t&&Number.isInteger(Number(t)),Xy=t=>t.endsWith("%")&&gs(t.slice(0,-1)),dl=t=>tY.test(t),iY=()=>!0,lY=t=>sY.test(t)&&!nY.test(t),i5=()=>!1,oY=t=>rY.test(t),cY=t=>aY.test(t),dY=t=>!Lt(t)&&!It(t),uY=t=>Mu(t,c5,i5),Lt=t=>r5.test(t),sc=t=>Mu(t,d5,lY),Zy=t=>Mu(t,xY,gs),nE=t=>Mu(t,l5,i5),hY=t=>Mu(t,o5,cY),Yp=t=>Mu(t,u5,oY),It=t=>a5.test(t),Lh=t=>Du(t,d5),mY=t=>Du(t,gY),rE=t=>Du(t,l5),fY=t=>Du(t,c5),pY=t=>Du(t,o5),Qp=t=>Du(t,u5,!0),Mu=(t,s,n)=>{const r=r5.exec(t);return r?r[1]?s(r[1]):n(r[2]):!1},Du=(t,s,n=!1)=>{const r=a5.exec(t);return r?r[1]?s(r[1]):n:!1},l5=t=>t==="position"||t==="percentage",o5=t=>t==="image"||t==="url",c5=t=>t==="length"||t==="size"||t==="bg-size",d5=t=>t==="length",xY=t=>t==="number",gY=t=>t==="family-name",u5=t=>t==="shadow",vY=()=>{const t=qn("color"),s=qn("font"),n=qn("text"),r=qn("font-weight"),a=qn("tracking"),i=qn("leading"),l=qn("breakpoint"),o=qn("container"),c=qn("spacing"),u=qn("radius"),d=qn("shadow"),m=qn("inset-shadow"),h=qn("text-shadow"),p=qn("drop-shadow"),g=qn("blur"),y=qn("perspective"),v=qn("aspect"),j=qn("ease"),w=qn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[..._(),It,Lt],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],C=()=>[It,Lt,c],R=()=>[Ed,"full","auto",...C()],M=()=>[oo,"none","subgrid",It,Lt],k=()=>["auto",{span:["full",oo,It,Lt]},oo,It,Lt],E=()=>[oo,"auto",It,Lt],O=()=>["auto","min","max","fr",It,Lt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...C()],U=()=>[Ed,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],B=()=>[t,It,Lt],$=()=>[..._(),rE,nE,{position:[It,Lt]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",fY,uY,{size:[It,Lt]}],W=()=>[Xy,Lh,sc],q=()=>["","none","full",u,It,Lt],Z=()=>["",gs,Lh,sc],J=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[gs,Xy,rE,nE],ae=()=>["","none",g,It,Lt],se=()=>["none",gs,It,Lt],de=()=>["none",gs,It,Lt],ue=()=>[gs,It,Lt],oe=()=>[Ed,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dl],breakpoint:[dl],color:[iY],container:[dl],"drop-shadow":[dl],ease:["in","out","in-out"],font:[dY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dl],shadow:[dl],spacing:["px",gs],text:[dl],"text-shadow":[dl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ed,Lt,It,v]}],container:["container"],columns:[{columns:[gs,Lt,It,o]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[oo,"auto",It,Lt]}],basis:[{basis:[Ed,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gs,Ed,"auto","initial","none",Lt]}],grow:[{grow:["",gs,It,Lt]}],shrink:[{shrink:["",gs,It,Lt]}],order:[{order:[oo,"first","last","none",It,Lt]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[o,"screen",...U()]}],"min-w":[{"min-w":[o,"screen","none",...U()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Lh,sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,It,Zy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xy,Lt]}],"font-family":[{font:[mY,Lt,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,It,Lt]}],"line-clamp":[{"line-clamp":[gs,"none",It,Zy]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",It,Lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",It,Lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[gs,"from-font","auto",It,sc]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[gs,"auto",It,Lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It,Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It,Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},oo,It,Lt],radial:["",It,Lt],conic:[oo,It,Lt]},pY,hY]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gs,It,Lt]}],"outline-w":[{outline:["",gs,Lh,sc]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",d,Qp,Yp]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",m,Qp,Yp]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[gs,sc]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",h,Qp,Yp]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[gs,It,Lt]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gs]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[It,Lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[gs]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",It,Lt]}],filter:[{filter:["","none",It,Lt]}],blur:[{blur:ae()}],brightness:[{brightness:[gs,It,Lt]}],contrast:[{contrast:[gs,It,Lt]}],"drop-shadow":[{"drop-shadow":["","none",p,Qp,Yp]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",gs,It,Lt]}],"hue-rotate":[{"hue-rotate":[gs,It,Lt]}],invert:[{invert:["",gs,It,Lt]}],saturate:[{saturate:[gs,It,Lt]}],sepia:[{sepia:["",gs,It,Lt]}],"backdrop-filter":[{"backdrop-filter":["","none",It,Lt]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[gs,It,Lt]}],"backdrop-contrast":[{"backdrop-contrast":[gs,It,Lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gs,It,Lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gs,It,Lt]}],"backdrop-invert":[{"backdrop-invert":["",gs,It,Lt]}],"backdrop-opacity":[{"backdrop-opacity":[gs,It,Lt]}],"backdrop-saturate":[{"backdrop-saturate":[gs,It,Lt]}],"backdrop-sepia":[{"backdrop-sepia":["",gs,It,Lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",It,Lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gs,"initial",It,Lt]}],ease:[{ease:["linear","initial",j,It,Lt]}],delay:[{delay:[gs,It,Lt]}],animate:[{animate:["none",w,It,Lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,It,Lt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[It,Lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It,Lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It,Lt]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[gs,Lh,sc,Zy]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yY=XK(vY);function tt(...t){return yY(Z6(t))}const Nm=Au("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:t,variant:s,size:n,asChild:r=!1,...a},i)=>{const l=r?Tu:"button";return e.jsx(l,{className:tt(Nm({variant:s,size:n,className:t})),ref:i,...a})});X.displayName="Button";const he=b.forwardRef(({className:t,type:s,...n},r)=>e.jsx("input",{type:s,className:tt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));he.displayName="Input";var bY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jY=bY.reduce((t,s)=>{const n=l1(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),wY="Separator",aE="horizontal",NY=["horizontal","vertical"],h5=b.forwardRef((t,s)=>{const{decorative:n,orientation:r=aE,...a}=t,i=_Y(r)?r:aE,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(jY.div,{"data-orientation":i,...o,...a,ref:s})});h5.displayName=wY;function _Y(t){return NY.includes(t)}var m5=h5;const f5=b.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...r},a)=>e.jsx(m5,{ref:a,decorative:n,orientation:s,className:tt("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));f5.displayName=m5.displayName;function jt(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function SY(t,s){const n=b.createContext(s),r=i=>{const{children:l,...o}=i,c=b.useMemo(()=>o,Object.values(o));return e.jsx(n.Provider,{value:c,children:l})};r.displayName=t+"Provider";function a(i){const l=b.useContext(n);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function pr(t,s=[]){let n=[];function r(i,l){const o=b.createContext(l),c=n.length;n=[...n,l];const u=m=>{var j;const{scope:h,children:p,...g}=m,y=((j=h==null?void 0:h[t])==null?void 0:j[c])||o,v=b.useMemo(()=>g,Object.values(g));return e.jsx(y.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(m,h){var y;const p=((y=h==null?void 0:h[t])==null?void 0:y[c])||o,g=b.useContext(p);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(l=>b.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[r,CY(a,...s)]}function CY(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((o,{useScope:c,scopeName:u})=>{const m=c(i)[`__scope${u}`];return{...o,...m}},{});return b.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return n.scopeName=s.scopeName,n}var rr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},kY=H_[" useId ".trim().toString()]||(()=>{}),EY=0;function $n(t){const[s,n]=b.useState(kY());return rr(()=>{n(r=>r??String(EY++))},[t]),t||(s?`radix-${s}`:"")}var PY=H_[" useInsertionEffect ".trim().toString()]||rr;function Va({prop:t,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,l]=TY({defaultProp:s,onChange:n}),o=t!==void 0,c=o?t:a;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const m=d.current;m!==o&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=b.useCallback(d=>{var m;if(o){const h=AY(d)?d(t):d;h!==t&&((m=l.current)==null||m.call(l,h))}else i(d)},[o,t,i,l]);return[c,u]}function TY({defaultProp:t,onChange:s}){const[n,r]=b.useState(t),a=b.useRef(n),i=b.useRef(s);return PY(()=>{i.current=s},[s]),b.useEffect(()=>{var l;a.current!==n&&((l=i.current)==null||l.call(i,n),a.current=n)},[n,a]),[n,r,i]}function AY(t){return typeof t=="function"}function MY(t){const s=DY(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(RY);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function DY(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=LY(a),o=FY(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var OY=Symbol("radix.slottable");function RY(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OY}function FY(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function LY(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var IY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=IY.reduce((t,s)=>{const n=MY(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function p5(t,s){t&&qc.flushSync(()=>t.dispatchEvent(s))}function Ui(t){const s=b.useRef(t);return b.useEffect(()=>{s.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=s.current)==null?void 0:r.call(s,...n)},[])}function BY(t,s=globalThis==null?void 0:globalThis.document){const n=Ui(t);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[n,s])}var qY="DismissableLayer",mN="dismissableLayer.update",zY="dismissableLayer.pointerDownOutside",$Y="dismissableLayer.focusOutside",iE,x5=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ou=b.forwardRef((t,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,u=b.useContext(x5),[d,m]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=fs(s,P=>m(P)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(v),w=d?y.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=j,T=WY(P=>{const C=P.target,R=[...u.branches].some(M=>M.contains(C));!_||R||(a==null||a(P),l==null||l(P),P.defaultPrevented||o==null||o())},h),A=HY(P=>{const C=P.target;[...u.branches].some(M=>M.contains(C))||(i==null||i(P),l==null||l(P),P.defaultPrevented||o==null||o())},h);return BY(P=>{w===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lE(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=iE)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lE())},[d,u]),b.useEffect(()=>{const P=()=>p({});return document.addEventListener(mN,P),()=>document.removeEventListener(mN,P)},[]),e.jsx($t.div,{...c,ref:g,style:{pointerEvents:N?_?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,T.onPointerDownCapture)})});Ou.displayName=qY;var UY="DismissableLayerBranch",VY=b.forwardRef((t,s)=>{const n=b.useContext(x5),r=b.useRef(null),a=fs(s,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx($t.div,{...t,ref:a})});VY.displayName=UY;function WY(t,s=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){g5(zY,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function HY(t,s=globalThis==null?void 0:globalThis.document){const n=Ui(t),r=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!r.current&&g5($Y,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lE(){const t=new CustomEvent(mN);document.dispatchEvent(t)}function g5(t,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?p5(a,i):a.dispatchEvent(i)}var eb="focusScope.autoFocusOnMount",tb="focusScope.autoFocusOnUnmount",oE={bubbles:!1,cancelable:!0},GY="FocusScope",mf=b.forwardRef((t,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=b.useState(null),u=Ui(a),d=Ui(i),m=b.useRef(null),h=fs(s,y=>c(y)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(N){if(p.paused||!o)return;const _=N.target;o.contains(_)?m.current=_:ho(m.current,{select:!0})},v=function(N){if(p.paused||!o)return;const _=N.relatedTarget;_!==null&&(o.contains(_)||ho(m.current,{select:!0}))},j=function(N){if(document.activeElement===document.body)for(const T of N)T.removedNodes.length>0&&ho(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const w=new MutationObserver(j);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),w.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){dE.add(p);const y=document.activeElement;if(!o.contains(y)){const j=new CustomEvent(eb,oE);o.addEventListener(eb,u),o.dispatchEvent(j),j.defaultPrevented||(KY(ZY(v5(o)),{select:!0}),document.activeElement===y&&ho(o))}return()=>{o.removeEventListener(eb,u),setTimeout(()=>{const j=new CustomEvent(tb,oE);o.addEventListener(tb,d),o.dispatchEvent(j),j.defaultPrevented||ho(y??document.body,{select:!0}),o.removeEventListener(tb,d),dE.remove(p)},0)}}},[o,u,d,p]);const g=b.useCallback(y=>{if(!n&&!r||p.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(v&&j){const w=y.currentTarget,[N,_]=YY(w);N&&_?!y.shiftKey&&j===_?(y.preventDefault(),n&&ho(N,{select:!0})):y.shiftKey&&j===N&&(y.preventDefault(),n&&ho(_,{select:!0})):j===w&&y.preventDefault()}},[n,r,p.paused]);return e.jsx($t.div,{tabIndex:-1,...l,ref:h,onKeyDown:g})});mf.displayName=GY;function KY(t,{select:s=!1}={}){const n=document.activeElement;for(const r of t)if(ho(r,{select:s}),document.activeElement!==n)return}function YY(t){const s=v5(t),n=cE(s,t),r=cE(s.reverse(),t);return[n,r]}function v5(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function cE(t,s){for(const n of t)if(!QY(n,{upTo:s}))return n}function QY(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JY(t){return t instanceof HTMLInputElement&&"select"in t}function ho(t,{select:s=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JY(t)&&s&&t.select()}}var dE=XY();function XY(){let t=[];return{add(s){const n=t[0];s!==n&&(n==null||n.pause()),t=uE(t,s),t.unshift(s)},remove(s){var n;t=uE(t,s),(n=t[0])==null||n.resume()}}}function uE(t,s){const n=[...t],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function ZY(t){return t.filter(s=>s.tagName!=="A")}var eQ="Portal",Ru=b.forwardRef((t,s)=>{var o;const{container:n,...r}=t,[a,i]=b.useState(!1);rr(()=>i(!0),[]);const l=n||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?f6.createPortal(e.jsx($t.div,{...r,ref:s}),l):null});Ru.displayName=eQ;function tQ(t,s){return b.useReducer((n,r)=>s[n][r]??n,t)}var xr=t=>{const{present:s,children:n}=t,r=sQ(s),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=fs(r.ref,nQ(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:i}):null};xr.displayName="Presence";function sQ(t){const[s,n]=b.useState(),r=b.useRef(null),a=b.useRef(t),i=b.useRef("none"),l=t?"mounted":"unmounted",[o,c]=tQ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Jp(r.current);i.current=o==="mounted"?u:"none"},[o]),rr(()=>{const u=r.current,d=a.current;if(d!==t){const h=i.current,p=Jp(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),rr(()=>{if(s){let u;const d=s.ownerDocument.defaultView??window,m=p=>{const y=Jp(r.current).includes(CSS.escape(p.animationName));if(p.target===s&&y&&(c("ANIMATION_END"),!a.current)){const v=s.style.animationFillMode;s.style.animationFillMode="forwards",u=d.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=v)})}},h=p=>{p.target===s&&(i.current=Jp(r.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{d.clearTimeout(u),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Jp(t){return(t==null?void 0:t.animationName)||"none"}function nQ(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sb=0;function Gg(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hE()),document.body.insertAdjacentElement("beforeend",t[1]??hE()),sb++,()=>{sb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),sb--}},[])}function hE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pi=function(){return Pi=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Pi.apply(this,arguments)};function y5(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function rQ(t,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}var Ex="right-scroll-bar-position",Px="width-before-scroll-bar",aQ="with-scroll-bars-hidden",iQ="--removed-body-scroll-bar-size";function nb(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function lQ(t,s){var n=b.useState(function(){return{value:t,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var oQ=typeof window<"u"?b.useLayoutEffect:b.useEffect,mE=new WeakMap;function cQ(t,s){var n=lQ(null,function(r){return t.forEach(function(a){return nb(a,r)})});return oQ(function(){var r=mE.get(n);if(r){var a=new Set(r),i=new Set(t),l=n.current;a.forEach(function(o){i.has(o)||nb(o,null)}),i.forEach(function(o){a.has(o)||nb(o,l)})}mE.set(n,t)},[t]),n}function dQ(t){return t}function uQ(t,s){s===void 0&&(s=dQ);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=s(i,r);return n.push(l),function(){n=n.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var o=n;n=[],o.forEach(i),l=n}var c=function(){var d=l;l=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){l.push(d),u()},filter:function(d){return l=l.filter(d),n}}}};return a}function hQ(t){t===void 0&&(t={});var s=uQ(null);return s.options=Pi({async:!0,ssr:!1},t),s}var b5=function(t){var s=t.sideCar,n=y5(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Pi({},n))};b5.isSideCarExport=!0;function mQ(t,s){return t.useMedium(s),b5}var j5=hQ(),rb=function(){},Kg=b.forwardRef(function(t,s){var n=b.useRef(null),r=b.useState({onScrollCapture:rb,onWheelCapture:rb,onTouchMoveCapture:rb}),a=r[0],i=r[1],l=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,m=t.shards,h=t.sideCar,p=t.noRelative,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,j=t.as,w=j===void 0?"div":j,N=t.gapMode,_=y5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=h,A=cQ([n,s]),P=Pi(Pi({},_),a);return b.createElement(b.Fragment,null,d&&b.createElement(T,{sideCar:j5,removeScrollBar:u,shards:m,noRelative:p,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:N}),l?b.cloneElement(b.Children.only(o),Pi(Pi({},P),{ref:A})):b.createElement(w,Pi({},P,{className:c,ref:A}),o))});Kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kg.classNames={fullWidth:Px,zeroRight:Ex};var fQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=fQ();return s&&t.setAttribute("nonce",s),t}function xQ(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function gQ(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var vQ=function(){var t=0,s=null;return{add:function(n){t==0&&(s=pQ())&&(xQ(s,n),gQ(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},yQ=function(){var t=vQ();return function(s,n){b.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&n])}},w5=function(){var t=yQ(),s=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return s},bQ={left:0,top:0,right:0,gap:0},ab=function(t){return parseInt(t||"",10)||0},jQ=function(t){var s=window.getComputedStyle(document.body),n=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[ab(n),ab(r),ab(a)]},wQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return bQ;var s=jQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},NQ=w5(),Hd="data-scroll-locked",_Q=function(t,s,n,r){var a=t.left,i=t.top,l=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Hd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ex,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Px,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Ex," .").concat(Ex,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Px," .").concat(Px,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hd,`] {
    `).concat(iQ,": ").concat(o,`px;
  }
`)},fE=function(){var t=parseInt(document.body.getAttribute(Hd)||"0",10);return isFinite(t)?t:0},SQ=function(){b.useEffect(function(){return document.body.setAttribute(Hd,(fE()+1).toString()),function(){var t=fE()-1;t<=0?document.body.removeAttribute(Hd):document.body.setAttribute(Hd,t.toString())}},[])},CQ=function(t){var s=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;SQ();var i=b.useMemo(function(){return wQ(a)},[a]);return b.createElement(NQ,{styles:_Q(i,!s,a,n?"":"!important")})},fN=!1;if(typeof window<"u")try{var Xp=Object.defineProperty({},"passive",{get:function(){return fN=!0,!0}});window.addEventListener("test",Xp,Xp),window.removeEventListener("test",Xp,Xp)}catch{fN=!1}var Pd=fN?{passive:!1}:!1,kQ=function(t){return t.tagName==="TEXTAREA"},N5=function(t,s){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!kQ(t)&&n[s]==="visible")},EQ=function(t){return N5(t,"overflowY")},PQ=function(t){return N5(t,"overflowX")},pE=function(t,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=_5(t,r);if(a){var i=S5(t,r),l=i[1],o=i[2];if(l>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TQ=function(t){var s=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[s,n,r]},AQ=function(t){var s=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[s,n,r]},_5=function(t,s){return t==="v"?EQ(s):PQ(s)},S5=function(t,s){return t==="v"?TQ(s):AQ(s)},MQ=function(t,s){return t==="h"&&s==="rtl"?-1:1},DQ=function(t,s,n,r,a){var i=MQ(t,window.getComputedStyle(s).direction),l=i*r,o=n.target,c=s.contains(o),u=!1,d=l>0,m=0,h=0;do{if(!o)break;var p=S5(t,o),g=p[0],y=p[1],v=p[2],j=y-v-i*g;(g||j)&&_5(t,o)&&(m+=j,h+=g);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(d&&Math.abs(m)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Zp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xE=function(t){return[t.deltaX,t.deltaY]},gE=function(t){return t&&"current"in t?t.current:t},OQ=function(t,s){return t[0]===s[0]&&t[1]===s[1]},RQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FQ=0,Td=[];function LQ(t){var s=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(FQ++)[0],i=b.useState(w5)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var y=rQ([t.lockRef.current],(t.shards||[]).map(gE),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var j=Zp(y),w=n.current,N="deltaX"in y?y.deltaX:w[0]-j[0],_="deltaY"in y?y.deltaY:w[1]-j[1],T,A=y.target,P=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in y&&P==="h"&&A.type==="range")return!1;var C=pE(P,A);if(!C)return!0;if(C?T=P:(T=P==="v"?"h":"v",C=pE(P,A)),!C)return!1;if(!r.current&&"changedTouches"in y&&(N||_)&&(r.current=T),!T)return!0;var R=r.current||T;return DQ(R,v,y,R==="h"?N:_)},[]),c=b.useCallback(function(y){var v=y;if(!(!Td.length||Td[Td.length-1]!==i)){var j="deltaY"in v?xE(v):Zp(v),w=s.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&OQ(T.delta,j)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var N=(l.current.shards||[]).map(gE).filter(Boolean).filter(function(T){return T.contains(v.target)}),_=N.length>0?o(v,N[0]):!l.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(y,v,j,w){var N={name:y,delta:v,target:j,should:w,shadowParent:IQ(j)};s.current.push(N),setTimeout(function(){s.current=s.current.filter(function(_){return _!==N})},1)},[]),d=b.useCallback(function(y){n.current=Zp(y),r.current=void 0},[]),m=b.useCallback(function(y){u(y.type,xE(y),y.target,o(y,t.lockRef.current))},[]),h=b.useCallback(function(y){u(y.type,Zp(y),y.target,o(y,t.lockRef.current))},[]);b.useEffect(function(){return Td.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Pd),document.addEventListener("touchmove",c,Pd),document.addEventListener("touchstart",d,Pd),function(){Td=Td.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Pd),document.removeEventListener("touchmove",c,Pd),document.removeEventListener("touchstart",d,Pd)}},[]);var p=t.removeScrollBar,g=t.inert;return b.createElement(b.Fragment,null,g?b.createElement(i,{styles:RQ(a)}):null,p?b.createElement(CQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IQ(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const BQ=mQ(j5,LQ);var ff=b.forwardRef(function(t,s){return b.createElement(Kg,Pi({},t,{ref:s,sideCar:BQ}))});ff.classNames=Kg.classNames;var qQ=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Ad=new WeakMap,ex=new WeakMap,tx={},ib=0,C5=function(t){return t&&(t.host||C5(t.parentNode))},zQ=function(t,s){return s.map(function(n){if(t.contains(n))return n;var r=C5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$Q=function(t,s,n,r){var a=zQ(s,Array.isArray(t)?t:[t]);tx[n]||(tx[n]=new WeakMap);var i=tx[n],l=[],o=new Set,c=new Set(a),u=function(m){!m||o.has(m)||(o.add(m),u(m.parentNode))};a.forEach(u);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",y=(Ad.get(h)||0)+1,v=(i.get(h)||0)+1;Ad.set(h,y),i.set(h,v),l.push(h),y===1&&g&&ex.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",h,j)}})};return d(s),o.clear(),ib++,function(){l.forEach(function(m){var h=Ad.get(m)-1,p=i.get(m)-1;Ad.set(m,h),i.set(m,p),h||(ex.has(m)||m.removeAttribute(r),ex.delete(m)),p||m.removeAttribute(n)}),ib--,ib||(Ad=new WeakMap,Ad=new WeakMap,ex=new WeakMap,tx={})}},Yg=function(t,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=qQ(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),$Q(r,a,n,"aria-hidden")):function(){return null}};function UQ(t){const s=VQ(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(HQ);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function VQ(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=KQ(a),o=GQ(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var WQ=Symbol("radix.slottable");function HQ(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WQ}function GQ(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function KQ(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qg="Dialog",[k5,E5]=pr(Qg),[YQ,gi]=k5(Qg),P5=t=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=b.useRef(null),c=b.useRef(null),[u,d]=Va({prop:r,defaultProp:a??!1,onChange:i,caller:Qg});return e.jsx(YQ,{scope:s,triggerRef:o,contentRef:c,contentId:$n(),titleId:$n(),descriptionId:$n(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(m=>!m),[d]),modal:l,children:n})};P5.displayName=Qg;var T5="DialogTrigger",A5=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=gi(T5,n),i=fs(s,a.triggerRef);return e.jsx($t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":u1(a.open),...r,ref:i,onClick:jt(t.onClick,a.onOpenToggle)})});A5.displayName=T5;var c1="DialogPortal",[QQ,M5]=k5(c1,{forceMount:void 0}),D5=t=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=t,i=gi(c1,s);return e.jsx(QQ,{scope:s,forceMount:n,children:b.Children.map(r,l=>e.jsx(xr,{present:n||i.open,children:e.jsx(Ru,{asChild:!0,container:a,children:l})}))})};D5.displayName=c1;var sg="DialogOverlay",O5=b.forwardRef((t,s)=>{const n=M5(sg,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=gi(sg,t.__scopeDialog);return i.modal?e.jsx(xr,{present:r||i.open,children:e.jsx(XQ,{...a,ref:s})}):null});O5.displayName=sg;var JQ=UQ("DialogOverlay.RemoveScroll"),XQ=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=gi(sg,n);return e.jsx(ff,{as:JQ,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx($t.div,{"data-state":u1(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),Tc="DialogContent",R5=b.forwardRef((t,s)=>{const n=M5(Tc,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=gi(Tc,t.__scopeDialog);return e.jsx(xr,{present:r||i.open,children:i.modal?e.jsx(ZQ,{...a,ref:s}):e.jsx(eJ,{...a,ref:s})})});R5.displayName=Tc;var ZQ=b.forwardRef((t,s)=>{const n=gi(Tc,t.__scopeDialog),r=b.useRef(null),a=fs(s,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return Yg(i)},[]),e.jsx(F5,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:jt(t.onFocusOutside,i=>i.preventDefault())})}),eJ=b.forwardRef((t,s)=>{const n=gi(Tc,t.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return e.jsx(F5,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),F5=b.forwardRef((t,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=gi(Tc,n),c=b.useRef(null),u=fs(s,c);return Gg(),e.jsxs(e.Fragment,{children:[e.jsx(mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Ou,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":u1(o.open),...l,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(sJ,{titleId:o.titleId}),e.jsx(rJ,{contentRef:c,descriptionId:o.descriptionId})]})]})}),d1="DialogTitle",L5=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=gi(d1,n);return e.jsx($t.h2,{id:a.titleId,...r,ref:s})});L5.displayName=d1;var I5="DialogDescription",B5=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=gi(I5,n);return e.jsx($t.p,{id:a.descriptionId,...r,ref:s})});B5.displayName=I5;var q5="DialogClose",z5=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=gi(q5,n);return e.jsx($t.button,{type:"button",...r,ref:s,onClick:jt(t.onClick,()=>a.onOpenChange(!1))})});z5.displayName=q5;function u1(t){return t?"open":"closed"}var $5="DialogTitleWarning",[tJ,U5]=SY($5,{contentName:Tc,titleName:d1,docsSlug:"dialog"}),sJ=({titleId:t})=>{const s=U5($5),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nJ="DialogDescriptionWarning",rJ=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U5(nJ).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Jg=P5,aJ=A5,Xg=D5,Fu=O5,Lu=R5,pf=L5,xf=B5,Zg=z5;const iJ=Jg,lJ=Xg,V5=b.forwardRef(({className:t,...s},n)=>e.jsx(Fu,{className:tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));V5.displayName=Fu.displayName;const oJ=Au("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),W5=b.forwardRef(({side:t="right",className:s,children:n,...r},a)=>e.jsxs(lJ,{children:[e.jsx(V5,{}),e.jsxs(Lu,{ref:a,className:tt(oJ({side:t}),s),...r,children:[e.jsxs(Zg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));W5.displayName=Lu.displayName;const cJ=b.forwardRef(({className:t,...s},n)=>e.jsx(pf,{ref:n,className:tt("text-lg font-semibold text-foreground",t),...s}));cJ.displayName=pf.displayName;const dJ=b.forwardRef(({className:t,...s},n)=>e.jsx(xf,{ref:n,className:tt("text-sm text-muted-foreground",t),...s}));dJ.displayName=xf.displayName;function vE({className:t,...s}){return e.jsx("div",{className:tt("animate-pulse rounded-md bg-primary/10",t),...s})}const uJ=["top","right","bottom","left"],Po=Math.min,ma=Math.max,ng=Math.round,sx=Math.floor,qi=t=>({x:t,y:t}),hJ={left:"right",right:"left",bottom:"top",top:"bottom"},mJ={start:"end",end:"start"};function pN(t,s,n){return ma(t,Po(s,n))}function Pl(t,s){return typeof t=="function"?t(s):t}function Tl(t){return t.split("-")[0]}function Iu(t){return t.split("-")[1]}function h1(t){return t==="x"?"y":"x"}function m1(t){return t==="y"?"height":"width"}const fJ=new Set(["top","bottom"]);function Mi(t){return fJ.has(Tl(t))?"y":"x"}function f1(t){return h1(Mi(t))}function pJ(t,s,n){n===void 0&&(n=!1);const r=Iu(t),a=f1(t),i=m1(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=rg(l)),[l,rg(l)]}function xJ(t){const s=rg(t);return[xN(t),s,xN(s)]}function xN(t){return t.replace(/start|end/g,s=>mJ[s])}const yE=["left","right"],bE=["right","left"],gJ=["top","bottom"],vJ=["bottom","top"];function yJ(t,s,n){switch(t){case"top":case"bottom":return n?s?bE:yE:s?yE:bE;case"left":case"right":return s?gJ:vJ;default:return[]}}function bJ(t,s,n,r){const a=Iu(t);let i=yJ(Tl(t),n==="start",r);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(xN)))),i}function rg(t){return t.replace(/left|right|bottom|top/g,s=>hJ[s])}function jJ(t){return{top:0,right:0,bottom:0,left:0,...t}}function H5(t){return typeof t!="number"?jJ(t):{top:t,right:t,bottom:t,left:t}}function ag(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function jE(t,s,n){let{reference:r,floating:a}=t;const i=Mi(s),l=f1(s),o=m1(l),c=Tl(s),u=i==="y",d=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-a.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Iu(s)){case"start":p[l]-=h*(n&&u?-1:1);break;case"end":p[l]+=h*(n&&u?-1:1);break}return p}const wJ=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let u=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:d,y:m}=jE(u,r,c),h=r,p={},g=0;for(let y=0;y<o.length;y++){const{name:v,fn:j}=o[y],{x:w,y:N,data:_,reset:T}=await j({x:d,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:l,elements:{reference:t,floating:s}});d=w??d,m=N??m,p={...p,[v]:{...p[v],..._}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(u=T.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):T.rects),{x:d,y:m}=jE(u,h,c)),y=-1)}return{x:d,y:m,placement:h,strategy:a,middlewareData:p}};async function _m(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Pl(s,t),g=H5(p),v=o[h?m==="floating"?"reference":"floating":m],j=ag(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),w=m==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},T=ag(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:N,strategy:c}):w);return{top:(j.top-T.top+g.top)/_.y,bottom:(T.bottom-j.bottom+g.bottom)/_.y,left:(j.left-T.left+g.left)/_.x,right:(T.right-j.right+g.right)/_.x}}const NJ=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=s,{element:u,padding:d=0}=Pl(t,s)||{};if(u==null)return{};const m=H5(d),h={x:n,y:r},p=f1(a),g=m1(p),y=await l.getDimensions(u),v=p==="y",j=v?"top":"left",w=v?"bottom":"right",N=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],T=h[p]-i.reference[p],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u));let P=A?A[N]:0;(!P||!await(l.isElement==null?void 0:l.isElement(A)))&&(P=o.floating[N]||i.floating[g]);const C=_/2-T/2,R=P/2-y[g]/2-1,M=Po(m[j],R),k=Po(m[w],R),E=M,O=P-y[g]-k,F=P/2-y[g]/2+C,z=pN(E,F,O),V=!c.arrow&&Iu(a)!=null&&F!==z&&i.reference[g]/2-(F<E?M:k)-y[g]/2<0,U=V?F<E?F-E:F-O:0;return{[p]:h[p]+U,data:{[p]:z,centerOffset:F-z-U,...V&&{alignmentOffset:U}},reset:V}}}),_J=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:u}=s,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=Pl(t,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const j=Tl(a),w=Mi(o),N=Tl(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=h||(N||!y?[rg(o)]:xJ(o)),A=g!=="none";!h&&A&&T.push(...bJ(o,y,g,_));const P=[o,...T],C=await _m(s,v),R=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(C[j]),m){const F=pJ(a,l,_);R.push(C[F[0]],C[F[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every(F=>F<=0)){var k,E;const F=(((k=i.flip)==null?void 0:k.index)||0)+1,z=P[F];if(z&&(!(m==="alignment"?w!==Mi(z):!1)||M.every(B=>Mi(B.placement)===w?B.overflows[0]>0:!0)))return{data:{index:F,overflows:M},reset:{placement:z}};let V=(E=M.filter(U=>U.overflows[0]<=0).sort((U,B)=>U.overflows[1]-B.overflows[1])[0])==null?void 0:E.placement;if(!V)switch(p){case"bestFit":{var O;const U=(O=M.filter(B=>{if(A){const $=Mi(B.placement);return $===w||$==="y"}return!0}).map(B=>[B.placement,B.overflows.filter($=>$>0).reduce(($,L)=>$+L,0)]).sort((B,$)=>B[1]-$[1])[0])==null?void 0:O[0];U&&(V=U);break}case"initialPlacement":V=o;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function wE(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function NE(t){return uJ.some(s=>t[s]>=0)}const SJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=Pl(t,s);switch(r){case"referenceHidden":{const i=await _m(s,{...a,elementContext:"reference"}),l=wE(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:NE(l)}}}case"escaped":{const i=await _m(s,{...a,altBoundary:!0}),l=wE(i,n.floating);return{data:{escapedOffsets:l,escaped:NE(l)}}}default:return{}}}}},G5=new Set(["left","top"]);async function CJ(t,s){const{placement:n,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Tl(n),o=Iu(n),c=Mi(n)==="y",u=G5.has(l)?-1:1,d=i&&c?-1:1,m=Pl(s,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const kJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:i,placement:l,middlewareData:o}=s,c=await CJ(s,t);return l===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},EJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:v=>{let{x:j,y:w}=v;return{x:j,y:w}}},...c}=Pl(t,s),u={x:n,y:r},d=await _m(s,c),m=Mi(Tl(a)),h=h1(m);let p=u[h],g=u[m];if(i){const v=h==="y"?"top":"left",j=h==="y"?"bottom":"right",w=p+d[v],N=p-d[j];p=pN(w,p,N)}if(l){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",w=g+d[v],N=g-d[j];g=pN(w,g,N)}const y=o.fn({...s,[h]:p,[m]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[m]:l}}}}}},PJ=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Pl(t,s),d={x:n,y:r},m=Mi(a),h=h1(m);let p=d[h],g=d[m];const y=Pl(o,s),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=h==="y"?"height":"width",_=i.reference[h]-i.floating[N]+v.mainAxis,T=i.reference[h]+i.reference[N]-v.mainAxis;p<_?p=_:p>T&&(p=T)}if(u){var j,w;const N=h==="y"?"width":"height",_=G5.has(Tl(a)),T=i.reference[m]-i.floating[N]+(_&&((j=l.offset)==null?void 0:j[m])||0)+(_?0:v.crossAxis),A=i.reference[m]+i.reference[N]+(_?0:((w=l.offset)==null?void 0:w[m])||0)-(_?v.crossAxis:0);g<T?g=T:g>A&&(g=A)}return{[h]:p,[m]:g}}}},TJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...u}=Pl(t,s),d=await _m(s,u),m=Tl(a),h=Iu(a),p=Mi(a)==="y",{width:g,height:y}=i.floating;let v,j;m==="top"||m==="bottom"?(v=m,j=h===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(j=m,v=h==="end"?"top":"bottom");const w=y-d.top-d.bottom,N=g-d.left-d.right,_=Po(y-d[v],w),T=Po(g-d[j],N),A=!s.middlewareData.shift;let P=_,C=T;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(C=N),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(P=w),A&&!h){const M=ma(d.left,0),k=ma(d.right,0),E=ma(d.top,0),O=ma(d.bottom,0);p?C=g-2*(M!==0||k!==0?M+k:ma(d.left,d.right)):P=y-2*(E!==0||O!==0?E+O:ma(d.top,d.bottom))}await c({...s,availableWidth:C,availableHeight:P});const R=await l.getDimensions(o.floating);return g!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function e0(){return typeof window<"u"}function Bu(t){return K5(t)?(t.nodeName||"").toLowerCase():"#document"}function ya(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Ji(t){var s;return(s=(K5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function K5(t){return e0()?t instanceof Node||t instanceof ya(t).Node:!1}function di(t){return e0()?t instanceof Element||t instanceof ya(t).Element:!1}function Vi(t){return e0()?t instanceof HTMLElement||t instanceof ya(t).HTMLElement:!1}function _E(t){return!e0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ya(t).ShadowRoot}const AJ=new Set(["inline","contents"]);function gf(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=ui(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!AJ.has(a)}const MJ=new Set(["table","td","th"]);function DJ(t){return MJ.has(Bu(t))}const OJ=[":popover-open",":modal"];function t0(t){return OJ.some(s=>{try{return t.matches(s)}catch{return!1}})}const RJ=["transform","translate","scale","rotate","perspective"],FJ=["transform","translate","scale","rotate","perspective","filter"],LJ=["paint","layout","strict","content"];function p1(t){const s=x1(),n=di(t)?ui(t):t;return RJ.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||FJ.some(r=>(n.willChange||"").includes(r))||LJ.some(r=>(n.contain||"").includes(r))}function IJ(t){let s=To(t);for(;Vi(s)&&!du(s);){if(p1(s))return s;if(t0(s))return null;s=To(s)}return null}function x1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BJ=new Set(["html","body","#document"]);function du(t){return BJ.has(Bu(t))}function ui(t){return ya(t).getComputedStyle(t)}function s0(t){return di(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function To(t){if(Bu(t)==="html")return t;const s=t.assignedSlot||t.parentNode||_E(t)&&t.host||Ji(t);return _E(s)?s.host:s}function Y5(t){const s=To(t);return du(s)?t.ownerDocument?t.ownerDocument.body:t.body:Vi(s)&&gf(s)?s:Y5(s)}function Sm(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=Y5(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=ya(a);if(i){const o=gN(l);return s.concat(l,l.visualViewport||[],gf(a)?a:[],o&&n?Sm(o):[])}return s.concat(a,Sm(a,[],n))}function gN(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Q5(t){const s=ui(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=Vi(t),i=a?t.offsetWidth:n,l=a?t.offsetHeight:r,o=ng(n)!==i||ng(r)!==l;return o&&(n=i,r=l),{width:n,height:r,$:o}}function g1(t){return di(t)?t:t.contextElement}function Gd(t){const s=g1(t);if(!Vi(s))return qi(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=Q5(s);let l=(i?ng(n.width):n.width)/r,o=(i?ng(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const qJ=qi(0);function J5(t){const s=ya(t);return!x1()||!s.visualViewport?qJ:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function zJ(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==ya(t)?!1:s}function Ac(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=g1(t);let l=qi(1);s&&(r?di(r)&&(l=Gd(r)):l=Gd(t));const o=zJ(i,n,r)?J5(i):qi(0);let c=(a.left+o.x)/l.x,u=(a.top+o.y)/l.y,d=a.width/l.x,m=a.height/l.y;if(i){const h=ya(i),p=r&&di(r)?ya(r):r;let g=h,y=gN(g);for(;y&&r&&p!==g;){const v=Gd(y),j=y.getBoundingClientRect(),w=ui(y),N=j.left+(y.clientLeft+parseFloat(w.paddingLeft))*v.x,_=j.top+(y.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,m*=v.y,c+=N,u+=_,g=ya(y),y=gN(g)}}return ag({width:d,height:m,x:c,y:u})}function n0(t,s){const n=s0(t).scrollLeft;return s?s.left+n:Ac(Ji(t)).left+n}function X5(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-n0(t,n),a=n.top+s.scrollTop;return{x:r,y:a}}function $J(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const i=a==="fixed",l=Ji(r),o=s?t0(s.floating):!1;if(r===l||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=qi(1);const d=qi(0),m=Vi(r);if((m||!m&&!i)&&((Bu(r)!=="body"||gf(l))&&(c=s0(r)),Vi(r))){const p=Ac(r);u=Gd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=l&&!m&&!i?X5(l,c):qi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function UJ(t){return Array.from(t.getClientRects())}function VJ(t){const s=Ji(t),n=s0(t),r=t.ownerDocument.body,a=ma(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=ma(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+n0(t);const o=-n.scrollTop;return ui(r).direction==="rtl"&&(l+=ma(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:o}}const SE=25;function WJ(t,s){const n=ya(t),r=Ji(t),a=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=x1();(!d||d&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const u=n0(r);if(u<=0){const d=r.ownerDocument,m=d.body,h=getComputedStyle(m),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(r.clientWidth-m.clientWidth-p);g<=SE&&(i-=g)}else u<=SE&&(i+=u);return{width:i,height:l,x:o,y:c}}const HJ=new Set(["absolute","fixed"]);function GJ(t,s){const n=Ac(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,i=Vi(t)?Gd(t):qi(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:l,height:o,x:c,y:u}}function CE(t,s,n){let r;if(s==="viewport")r=WJ(t,n);else if(s==="document")r=VJ(Ji(t));else if(di(s))r=GJ(s,n);else{const a=J5(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return ag(r)}function Z5(t,s){const n=To(t);return n===s||!di(n)||du(n)?!1:ui(n).position==="fixed"||Z5(n,s)}function KJ(t,s){const n=s.get(t);if(n)return n;let r=Sm(t,[],!1).filter(o=>di(o)&&Bu(o)!=="body"),a=null;const i=ui(t).position==="fixed";let l=i?To(t):t;for(;di(l)&&!du(l);){const o=ui(l),c=p1(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&HJ.has(a.position)||gf(l)&&!c&&Z5(t,l))?r=r.filter(d=>d!==l):a=o,l=To(l)}return s.set(t,r),r}function YJ(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const l=[...n==="clippingAncestors"?t0(s)?[]:KJ(s,this._c):[].concat(n),r],o=l[0],c=l.reduce((u,d)=>{const m=CE(s,d,a);return u.top=ma(m.top,u.top),u.right=Po(m.right,u.right),u.bottom=Po(m.bottom,u.bottom),u.left=ma(m.left,u.left),u},CE(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QJ(t){const{width:s,height:n}=Q5(t);return{width:s,height:n}}function JJ(t,s,n){const r=Vi(s),a=Ji(s),i=n==="fixed",l=Ac(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=qi(0);function u(){c.x=n0(a)}if(r||!r&&!i)if((Bu(s)!=="body"||gf(a))&&(o=s0(s)),r){const p=Ac(s,!0,i,s);c.x=p.x+s.clientLeft,c.y=p.y+s.clientTop}else a&&u();i&&!r&&a&&u();const d=a&&!r&&!i?X5(a,o):qi(0),m=l.left+o.scrollLeft-c.x-d.x,h=l.top+o.scrollTop-c.y-d.y;return{x:m,y:h,width:l.width,height:l.height}}function lb(t){return ui(t).position==="static"}function kE(t,s){if(!Vi(t)||ui(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return Ji(t)===n&&(n=n.ownerDocument.body),n}function e3(t,s){const n=ya(t);if(t0(t))return n;if(!Vi(t)){let a=To(t);for(;a&&!du(a);){if(di(a)&&!lb(a))return a;a=To(a)}return n}let r=kE(t,s);for(;r&&DJ(r)&&lb(r);)r=kE(r,s);return r&&du(r)&&lb(r)&&!p1(r)?n:r||IJ(t)||n}const XJ=async function(t){const s=this.getOffsetParent||e3,n=this.getDimensions,r=await n(t.floating);return{reference:JJ(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZJ(t){return ui(t).direction==="rtl"}const eX={convertOffsetParentRelativeRectToViewportRelativeRect:$J,getDocumentElement:Ji,getClippingRect:YJ,getOffsetParent:e3,getElementRects:XJ,getClientRects:UJ,getDimensions:QJ,getScale:Gd,isElement:di,isRTL:ZJ};function t3(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function tX(t,s){let n=null,r;const a=Ji(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:m,width:h,height:p}=u;if(o||s(),!h||!p)return;const g=sx(m),y=sx(a.clientWidth-(d+h)),v=sx(a.clientHeight-(m+p)),j=sx(d),N={rootMargin:-g+"px "+-y+"px "+-v+"px "+-j+"px",threshold:ma(0,Po(1,c))||1};let _=!0;function T(A){const P=A[0].intersectionRatio;if(P!==c){if(!_)return l();P?l(!1,P):r=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!t3(u,t.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(T,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(T,N)}n.observe(t)}return l(!0),i}function sX(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=g1(t),d=a||i?[...u?Sm(u):[],...Sm(s)]:[];d.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),i&&j.addEventListener("resize",n)});const m=u&&o?tX(u,n):null;let h=-1,p=null;l&&(p=new ResizeObserver(j=>{let[w]=j;w&&w.target===u&&p&&(p.unobserve(s),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(s)})),n()}),u&&!c&&p.observe(u),p.observe(s));let g,y=c?Ac(t):null;c&&v();function v(){const j=Ac(t);y&&!t3(y,j)&&n(),y=j,g=requestAnimationFrame(v)}return n(),()=>{var j;d.forEach(w=>{a&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),m==null||m(),(j=p)==null||j.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const nX=kJ,rX=EJ,aX=_J,iX=TJ,lX=SJ,EE=NJ,oX=PJ,cX=(t,s,n)=>{const r=new Map,a={platform:eX,...n},i={...a.platform,_c:r};return wJ(t,s,{...a,platform:i})};var dX=typeof document<"u",uX=function(){},Tx=dX?b.useLayoutEffect:uX;function ig(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!ig(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!ig(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function s3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function PE(t,s){const n=s3(t);return Math.round(s*n)/n}function ob(t){const s=b.useRef(t);return Tx(()=>{s.current=t}),s}function hX(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,m]=b.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);ig(h,r)||p(r);const[g,y]=b.useState(null),[v,j]=b.useState(null),w=b.useCallback(B=>{B!==A.current&&(A.current=B,y(B))},[]),N=b.useCallback(B=>{B!==P.current&&(P.current=B,j(B))},[]),_=i||g,T=l||v,A=b.useRef(null),P=b.useRef(null),C=b.useRef(d),R=c!=null,M=ob(c),k=ob(a),E=ob(u),O=b.useCallback(()=>{if(!A.current||!P.current)return;const B={placement:s,strategy:n,middleware:h};k.current&&(B.platform=k.current),cX(A.current,P.current,B).then($=>{const L={...$,isPositioned:E.current!==!1};F.current&&!ig(C.current,L)&&(C.current=L,qc.flushSync(()=>{m(L)}))})},[h,s,n,k,E]);Tx(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[u]);const F=b.useRef(!1);Tx(()=>(F.current=!0,()=>{F.current=!1}),[]),Tx(()=>{if(_&&(A.current=_),T&&(P.current=T),_&&T){if(M.current)return M.current(_,T,O);O()}},[_,T,O,M,R]);const z=b.useMemo(()=>({reference:A,floating:P,setReference:w,setFloating:N}),[w,N]),V=b.useMemo(()=>({reference:_,floating:T}),[_,T]),U=b.useMemo(()=>{const B={position:n,left:0,top:0};if(!V.floating)return B;const $=PE(V.floating,d.x),L=PE(V.floating,d.y);return o?{...B,transform:"translate("+$+"px, "+L+"px)",...s3(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:L}},[n,o,V.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:z,elements:V,floatingStyles:U}),[d,O,z,V,U])}const mX=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?EE({element:r.current,padding:a}).fn(n):{}:r?EE({element:r,padding:a}).fn(n):{}}}},fX=(t,s)=>({...nX(t),options:[t,s]}),pX=(t,s)=>({...rX(t),options:[t,s]}),xX=(t,s)=>({...oX(t),options:[t,s]}),gX=(t,s)=>({...aX(t),options:[t,s]}),vX=(t,s)=>({...iX(t),options:[t,s]}),yX=(t,s)=>({...lX(t),options:[t,s]}),bX=(t,s)=>({...mX(t),options:[t,s]});var jX="Arrow",n3=b.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...i}=t;return e.jsx($t.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});n3.displayName=jX;var wX=n3;function r0(t){const[s,n]=b.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;l=u.inlineSize,o=u.blockSize}else l=t.offsetWidth,o=t.offsetHeight;n({width:l,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var v1="Popper",[r3,Fo]=pr(v1),[NX,a3]=r3(v1),i3=t=>{const{__scopePopper:s,children:n}=t,[r,a]=b.useState(null);return e.jsx(NX,{scope:s,anchor:r,onAnchorChange:a,children:n})};i3.displayName=v1;var l3="PopperAnchor",o3=b.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=a3(l3,n),l=b.useRef(null),o=fs(s,l),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||l.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:e.jsx($t.div,{...a,ref:o})});o3.displayName=l3;var y1="PopperContent",[_X,SX]=r3(y1),c3=b.forwardRef((t,s)=>{var G,ae,se,de,ue,oe;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=t,v=a3(y1,n),[j,w]=b.useState(null),N=fs(s,pe=>w(pe)),[_,T]=b.useState(null),A=r0(_),P=(A==null?void 0:A.width)??0,C=(A==null?void 0:A.height)??0,R=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],E=k.length>0,O={padding:M,boundary:k.filter(kX),altBoundary:E},{refs:F,floatingStyles:z,placement:V,isPositioned:U,middlewareData:B}=hX({strategy:"fixed",placement:R,whileElementsMounted:(...pe)=>sX(...pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[fX({mainAxis:a+C,alignmentAxis:l}),c&&pX({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?xX():void 0,...O}),c&&gX({...O}),vX({...O,apply:({elements:pe,rects:be,availableWidth:je,availableHeight:Be})=>{const{width:qe,height:ke}=be.reference,Se=pe.floating.style;Se.setProperty("--radix-popper-available-width",`${je}px`),Se.setProperty("--radix-popper-available-height",`${Be}px`),Se.setProperty("--radix-popper-anchor-width",`${qe}px`),Se.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),_&&bX({element:_,padding:o}),EX({arrowWidth:P,arrowHeight:C}),h&&yX({strategy:"referenceHidden",...O})]}),[$,L]=h3(V),I=Ui(g);rr(()=>{U&&(I==null||I())},[U,I]);const W=(G=B.arrow)==null?void 0:G.x,q=(ae=B.arrow)==null?void 0:ae.y,Z=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[J,Q]=b.useState();return rr(()=>{j&&Q(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:U?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(de=B.transformOrigin)==null?void 0:de.x,(ue=B.transformOrigin)==null?void 0:ue.y].join(" "),...((oe=B.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(_X,{scope:n,placedSide:$,onArrowChange:T,arrowX:W,arrowY:q,shouldHideArrow:Z,children:e.jsx($t.div,{"data-side":$,"data-align":L,...y,ref:N,style:{...y.style,animation:U?void 0:"none"}})})})});c3.displayName=y1;var d3="PopperArrow",CX={top:"bottom",right:"left",bottom:"top",left:"right"},u3=b.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=SX(d3,r),l=CX[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(wX,{...a,ref:n,style:{...a.style,display:"block"}})})});u3.displayName=d3;function kX(t){return t!==null}var EX=t=>({name:"transformOrigin",options:t,fn(s){var v,j,w;const{placement:n,rects:r,middlewareData:a}=s,l=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[u,d]=h3(n),m={start:"0%",center:"50%",end:"100%"}[d],h=(((j=a.arrow)==null?void 0:j.x)??0)+o/2,p=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=l?m:`${h}px`,y=`${-c}px`):u==="top"?(g=l?m:`${h}px`,y=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=l?m:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,y=l?m:`${p}px`),{data:{x:g,y}}}});function h3(t){const[s,n="center"]=t.split("-");return[s,n]}var a0=i3,vf=o3,i0=c3,l0=u3,PX=Symbol("radix.slottable");function TX(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=PX,s}var m3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AX="VisuallyHidden",f3=b.forwardRef((t,s)=>e.jsx($t.span,{...t,ref:s,style:{...m3,...t.style}}));f3.displayName=AX;var MX=f3,[o0]=pr("Tooltip",[Fo]),c0=Fo(),p3="TooltipProvider",DX=700,vN="tooltip.open",[OX,b1]=o0(p3),x3=t=>{const{__scopeTooltip:s,delayDuration:n=DX,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=t,l=b.useRef(!0),o=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),e.jsx(OX,{scope:s,isOpenDelayedRef:l,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:i})};x3.displayName=p3;var Cm="Tooltip",[RX,yf]=o0(Cm),g3=t=>{const{__scopeTooltip:s,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:l,delayDuration:o}=t,c=b1(Cm,t.__scopeTooltip),u=c0(s),[d,m]=b.useState(null),h=$n(),p=b.useRef(0),g=l??c.disableHoverableContent,y=o??c.delayDuration,v=b.useRef(!1),[j,w]=Va({prop:r,defaultProp:a??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(vN))):c.onClose(),i==null||i(P)},caller:Cm}),N=b.useMemo(()=>j?v.current?"delayed-open":"instant-open":"closed",[j]),_=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),T=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),A=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},y)},[y,w]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(a0,{...u,children:e.jsx(RX,{scope:s,contentId:h,open:j,stateAttribute:N,trigger:d,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?A():_()},[c.isOpenDelayedRef,A,_]),onTriggerLeave:b.useCallback(()=>{g?T():(window.clearTimeout(p.current),p.current=0)},[T,g]),onOpen:_,onClose:T,disableHoverableContent:g,children:n})})};g3.displayName=Cm;var yN="TooltipTrigger",v3=b.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=yf(yN,n),i=b1(yN,n),l=c0(n),o=b.useRef(null),c=fs(s,o,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),m=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(vf,{asChild:!0,...l,children:e.jsx($t.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:jt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:jt(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:jt(t.onBlur,a.onClose),onClick:jt(t.onClick,a.onClose)})})});v3.displayName=yN;var j1="TooltipPortal",[FX,LX]=o0(j1,{forceMount:void 0}),y3=t=>{const{__scopeTooltip:s,forceMount:n,children:r,container:a}=t,i=yf(j1,s);return e.jsx(FX,{scope:s,forceMount:n,children:e.jsx(xr,{present:n||i.open,children:e.jsx(Ru,{asChild:!0,container:a,children:r})})})};y3.displayName=j1;var uu="TooltipContent",b3=b.forwardRef((t,s)=>{const n=LX(uu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=t,l=yf(uu,t.__scopeTooltip);return e.jsx(xr,{present:r||l.open,children:l.disableHoverableContent?e.jsx(j3,{side:a,...i,ref:s}):e.jsx(IX,{side:a,...i,ref:s})})}),IX=b.forwardRef((t,s)=>{const n=yf(uu,t.__scopeTooltip),r=b1(uu,t.__scopeTooltip),a=b.useRef(null),i=fs(s,a),[l,o]=b.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:m}=r,h=b.useCallback(()=>{o(null),m(!1)},[m]),p=b.useCallback((g,y)=>{const v=g.currentTarget,j={x:g.clientX,y:g.clientY},w=UX(j,v.getBoundingClientRect()),N=VX(j,w),_=WX(y.getBoundingClientRect()),T=GX([...N,..._]);o(T),m(!0)},[m]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const g=v=>p(v,d),y=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,p,h]),b.useEffect(()=>{if(l){const g=y=>{const v=y.target,j={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),N=!HX(j,l);w?h():N&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,l,u,h]),e.jsx(j3,{...t,ref:i})}),[BX,qX]=o0(Cm,{isInside:!1}),zX=TX("TooltipContent"),j3=b.forwardRef((t,s)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=t,c=yf(uu,n),u=c0(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(vN,d),()=>document.removeEventListener(vN,d)),[d]),b.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),e.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:e.jsxs(i0,{"data-state":c.stateAttribute,...u,...o,ref:s,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(zX,{children:r}),e.jsx(BX,{scope:n,isInside:!0,children:e.jsx(MX,{id:c.contentId,role:"tooltip",children:a||r})})]})})});b3.displayName=uu;var w3="TooltipArrow",$X=b.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=c0(n);return qX(w3,n).isInside?null:e.jsx(l0,{...a,...r,ref:s})});$X.displayName=w3;function UX(t,s){const n=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function VX(t,s,n=5){const r=[];switch(s){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function WX(t){const{top:s,right:n,bottom:r,left:a}=t;return[{x:a,y:s},{x:n,y:s},{x:n,y:r},{x:a,y:r}]}function HX(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i],c=s[l],u=o.x,d=o.y,m=c.x,h=c.y;d>r!=h>r&&n<(m-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function GX(t){const s=t.slice();return s.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),KX(s)}function KX(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const a=t[r];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))s.pop();else break}s.push(a)}s.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))n.pop();else break}n.push(a)}return n.pop(),s.length===1&&n.length===1&&s[0].x===n[0].x&&s[0].y===n[0].y?s:s.concat(n)}var YX=x3,QX=g3,JX=v3,XX=y3,N3=b3;const w1=YX,km=QX,Em=JX,hu=b.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(XX,{children:e.jsx(N3,{ref:r,sideOffset:s,className:tt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));hu.displayName=N3.displayName;const ZX="sidebar_state",eZ=3600*24*7,tZ="16rem",sZ="18rem",nZ="3rem",rZ="b",_3=b.createContext(null);function d0(){const t=b.useContext(_3);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const S3=b.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:n,className:r,style:a,children:i,...l},o)=>{const c=AK(),[u,d]=b.useState(!1),[m,h]=b.useState(t),p=s??m,g=b.useCallback(w=>{const N=typeof w=="function"?w(p):w;n?n(N):h(N),document.cookie=`${ZX}=${N}; path=/; max-age=${eZ}`},[n,p]),y=b.useCallback(()=>c?d(w=>!w):g(w=>!w),[c,g,d]);b.useEffect(()=>{const w=N=>{N.key===rZ&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),y())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[y]);const v=p?"expanded":"collapsed",j=b.useMemo(()=>({state:v,open:p,setOpen:g,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:y}),[v,p,g,c,u,d,y]);return e.jsx(_3.Provider,{value:j,children:e.jsx(w1,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":tZ,"--sidebar-width-icon":nZ,...a},className:tt("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...l,children:i})})})});S3.displayName="SidebarProvider";const C3=b.forwardRef(({side:t="left",variant:s="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},l)=>{const{isMobile:o,state:c,openMobile:u,setOpenMobile:d}=d0();return n==="none"?e.jsx("div",{className:tt("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:l,...i,children:a}):o?e.jsx(iJ,{open:u,onOpenChange:d,...i,children:e.jsx(W5,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":sZ},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):e.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:tt("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:tt("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});C3.displayName="Sidebar";const aZ=b.forwardRef(({className:t,onClick:s,...n},r)=>{const{toggleSidebar:a}=d0();return e.jsxs(X,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:tt("h-7 w-7",t),onClick:i=>{s==null||s(i),a()},...n,children:[e.jsx(CG,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});aZ.displayName="SidebarTrigger";const iZ=b.forwardRef(({className:t,...s},n)=>{const{toggleSidebar:r}=d0();return e.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:tt("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});iZ.displayName="SidebarRail";const lZ=b.forwardRef(({className:t,...s},n)=>e.jsx("main",{ref:n,className:tt("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));lZ.displayName="SidebarInset";const oZ=b.forwardRef(({className:t,...s},n)=>e.jsx(he,{ref:n,"data-sidebar":"input",className:tt("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));oZ.displayName="SidebarInput";const k3=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"header",className:tt("flex flex-col gap-2 p-2",t),...s}));k3.displayName="SidebarHeader";const E3=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"footer",className:tt("flex flex-col gap-2 p-2",t),...s}));E3.displayName="SidebarFooter";const cZ=b.forwardRef(({className:t,...s},n)=>e.jsx(f5,{ref:n,"data-sidebar":"separator",className:tt("mx-2 w-auto bg-sidebar-border",t),...s}));cZ.displayName="SidebarSeparator";const P3=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"content",className:tt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));P3.displayName="SidebarContent";const Ax=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group",className:tt("relative flex w-full min-w-0 flex-col p-2",t),...s}));Ax.displayName="SidebarGroup";const Mx=b.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?Tu:"div";return e.jsx(a,{ref:r,"data-sidebar":"group-label",className:tt("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});Mx.displayName="SidebarGroupLabel";const dZ=b.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?Tu:"button";return e.jsx(a,{ref:r,"data-sidebar":"group-action",className:tt("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});dZ.displayName="SidebarGroupAction";const Dx=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group-content",className:tt("w-full text-sm",t),...s}));Dx.displayName="SidebarGroupContent";const bN=b.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu",className:tt("flex w-full min-w-0 flex-col gap-1",t),...s}));bN.displayName="SidebarMenu";const Zh=b.forwardRef(({className:t,...s},n)=>e.jsx("li",{ref:n,"data-sidebar":"menu-item",className:tt("group/menu-item relative",t),...s}));Zh.displayName="SidebarMenuItem";const uZ=Au("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),em=b.forwardRef(({asChild:t=!1,isActive:s=!1,variant:n="default",size:r="default",tooltip:a,className:i,...l},o)=>{const c=t?Tu:"button",{isMobile:u,state:d}=d0(),m=e.jsx(c,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:tt(uZ({variant:n,size:r}),i),...l});return a?(typeof a=="string"&&(a={children:a}),e.jsxs(km,{children:[e.jsx(Em,{asChild:!0,children:m}),e.jsx(hu,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):m});em.displayName="SidebarMenuButton";const hZ=b.forwardRef(({className:t,asChild:s=!1,showOnHover:n=!1,...r},a)=>{const i=s?Tu:"button";return e.jsx(i,{ref:a,"data-sidebar":"menu-action",className:tt("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});hZ.displayName="SidebarMenuAction";const mZ=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:tt("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));mZ.displayName="SidebarMenuBadge";const fZ=b.forwardRef(({className:t,showIcon:s=!1,...n},r)=>{const a=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:tt("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[s&&e.jsx(vE,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(vE,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});fZ.displayName="SidebarMenuSkeleton";const jN=b.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:tt("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));jN.displayName="SidebarMenuSub";const wN=b.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));wN.displayName="SidebarMenuSubItem";const pZ=b.forwardRef(({asChild:t=!1,size:s="md",isActive:n,className:r,...a},i)=>{const l=t?Tu:"a";return e.jsx(l,{ref:i,"data-sidebar":"menu-sub-button","data-size":s,"data-active":n,className:tt("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});pZ.displayName="SidebarMenuSubButton";const xZ=Au("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:t,variant:s,...n}){return e.jsx("div",{className:tt(xZ({variant:s}),t),...n})}var u0="Collapsible",[gZ]=pr(u0),[vZ,N1]=gZ(u0),T3=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[c,u]=Va({prop:r,defaultProp:a??!1,onChange:l,caller:u0});return e.jsx(vZ,{scope:n,disabled:i,contentId:$n(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:e.jsx($t.div,{"data-state":S1(c),"data-disabled":i?"":void 0,...o,ref:s})})});T3.displayName=u0;var A3="CollapsibleTrigger",M3=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,...r}=t,a=N1(A3,n);return e.jsx($t.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":S1(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:s,onClick:jt(t.onClick,a.onOpenToggle)})});M3.displayName=A3;var _1="CollapsibleContent",D3=b.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=N1(_1,t.__scopeCollapsible);return e.jsx(xr,{present:n||a.open,children:({present:i})=>e.jsx(yZ,{...r,ref:s,present:i})})});D3.displayName=_1;var yZ=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=t,l=N1(_1,n),[o,c]=b.useState(r),u=b.useRef(null),d=fs(s,u),m=b.useRef(0),h=m.current,p=b.useRef(0),g=p.current,y=l.open||o,v=b.useRef(y),j=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),rr(()=>{const w=u.current;if(w){j.current=j.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();m.current=N.height,p.current=N.width,v.current||(w.style.transitionDuration=j.current.transitionDuration,w.style.animationName=j.current.animationName),c(r)}},[l.open,r]),e.jsx($t.div,{"data-state":S1(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:y&&a})});function S1(t){return t?"open":"closed"}var bZ=T3;const NN=bZ,_N=M3,SN=D3,St=Jg,jZ=Xg,O3=b.forwardRef(({className:t,...s},n)=>e.jsx(Fu,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));O3.displayName=Fu.displayName;const Nt=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(jZ,{children:[e.jsx(O3,{}),e.jsxs(Lu,{ref:r,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(Zg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=Lu.displayName;const Ct=({className:t,...s})=>e.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Ct.displayName="DialogHeader";const qt=({className:t,...s})=>e.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});qt.displayName="DialogFooter";const kt=b.forwardRef(({className:t,...s},n)=>e.jsx(pf,{ref:n,className:tt("text-lg font-semibold leading-none tracking-tight",t),...s}));kt.displayName=pf.displayName;const fa=b.forwardRef(({className:t,...s},n)=>e.jsx(xf,{ref:n,className:tt("text-sm text-muted-foreground",t),...s}));fa.displayName=xf.displayName;const Md={Calendar:js,Building:Ro,Briefcase:kn,FileText:ts,Users:bs,Sparkles:ea,Home:wm,Mail:Ts,Phone:Hg,Search:Ks,User:Js,ChevronDown:Pr};function wZ(){var w,N,_,T,A,P,C,R,M,k,E,O;const[t,s]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState({topNav:[],mainNav:[]}),[l,o]=b.useState(null),[c,u]=b.useState(null),[d,m]=b.useState(null),[h,p]=b.useState(null),g=Yi();b.useEffect(()=>{const F=()=>{const z=sessionStorage.getItem("agcas_member");r(!!z)};return F(),window.addEventListener("storage",F),()=>{window.removeEventListener("storage",F)}},[]),b.useEffect(()=>{const F=async()=>{try{const B=(await K.entities.NavigationItem.list("display_order")).filter(W=>W.is_active),$=(W,q)=>B.filter(Z=>Z.parent_id===W&&Z.location===q).sort((Z,J)=>(Z.display_order||0)-(J.display_order||0)).map(Z=>({...Z,children:$(Z.id,q)})),L=$(null,"top_nav"),I=$(null,"main_nav");i({topNav:L,mainNav:I})}catch(U){console.error("Failed to fetch navigation items:",U),i({topNav:[],mainNav:[]})}};F();const z=()=>F();window.addEventListener("focus",z);const V=setInterval(()=>{document.visibilityState==="visible"&&F()},5e3);return()=>{window.removeEventListener("focus",z),clearInterval(V)}},[g.pathname]),b.useEffect(()=>{(async()=>{try{const V=(await K.entities.SystemSettings.list()).find(U=>U.setting_key==="social_icons_config");if(V!=null&&V.setting_value)try{m(JSON.parse(V.setting_value))}catch(U){console.error("Failed to parse social icons config:",U)}}catch(z){console.error("Failed to fetch social icons config:",z)}})()},[]);const y=()=>{sessionStorage.removeItem("agcas_member"),window.location.href=Ee("Home")},v=F=>{if(F.link_type==="external")return!1;const z=Ee(F.url);return g.pathname===z},j=(F,z=!1)=>{const V=F.children&&F.children.length>0,U=F.icon&&Md[F.icon]?Md[F.icon]:null,B=v(F),$=F.link_type==="external"?{href:F.url,target:F.open_in_new_tab?"_blank":"_self",rel:F.open_in_new_tab?"noopener noreferrer":void 0}:{to:Ee(F.url)},L=F.link_type==="external"?"a":Wt,W=`nav-link text-${z?"white":"slate-900"} transition-colors ${B?"font-bold":z?"font-semibold text-sm":"font-medium"} flex items-center gap-1`;if(F.highlight_style==="gradient_button")return e.jsx(L,{...$,children:e.jsxs(X,{className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:[U&&e.jsx(U,{className:"w-4 h-4 mr-2"}),F.title,e.jsx(kr,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})},F.id);if(V){const q=()=>{h&&(clearTimeout(h),p(null)),o(F.id)},Z=()=>{const J=setTimeout(()=>{o(null)},150);p(J)};return e.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:q,onMouseLeave:Z,children:[e.jsxs("button",{className:W,children:[U&&e.jsx(U,{className:"w-4 h-4"}),F.title,e.jsx(Pr,{className:"w-4 h-4"})]}),!z&&B&&e.jsx("div",{className:"absolute left-0 right-0 h-[5px]",style:{bottom:"-33px",background:"linear-gradient(to right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"}}),l===F.id&&e.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-xl border border-slate-200 py-4 z-50 min-w-[240px]",onMouseEnter:q,onMouseLeave:Z,children:F.children.map(J=>{const Q=J.icon&&Md[J.icon]?Md[J.icon]:null,G=v(J),ae=J.children&&J.children.length>0,se=J.link_type==="external"?{href:J.url,target:J.open_in_new_tab?"_blank":"_self",rel:J.open_in_new_tab?"noopener noreferrer":void 0}:{to:Ee(J.url)},de=J.link_type==="external"?"a":Wt;return e.jsxs("div",{className:"relative",onMouseEnter:()=>ae&&u(J.id),onMouseLeave:()=>ae&&u(null),children:[e.jsx(de,{...se,className:"block px-4 py-2 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[Q&&e.jsx(Q,{className:"w-5 h-5 text-slate-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`text-slate-900 ${G?"font-bold":"font-medium"} flex items-center gap-2`,children:[J.title,ae&&e.jsx(ys,{className:"w-3 h-3"})]}),J.description&&e.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:J.description})]})]})}),ae&&c===J.id&&e.jsx("div",{className:"absolute left-full top-0 -ml-[11px] bg-white rounded-lg shadow-xl border border-slate-200 py-4 min-w-[220px]",children:J.children.map(ue=>{const oe=ue.icon&&Md[ue.icon]?Md[ue.icon]:null,pe=v(ue),be=ue.link_type==="external"?{href:ue.url,target:ue.open_in_new_tab?"_blank":"_self",rel:ue.open_in_new_tab?"noopener noreferrer":void 0}:{to:Ee(ue.url)},je=ue.link_type==="external"?"a":Wt;return e.jsx(je,{...be,className:"block px-4 py-2 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[oe&&e.jsx(oe,{className:"w-4 h-4 text-slate-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-slate-700 text-sm ${pe?"font-semibold":"font-normal"}`,children:ue.title}),ue.description&&e.jsx("div",{className:"text-xs text-slate-400 mt-0.5",children:ue.description})]})]})},ue.id)})})]},J.id)})})]},F.id)}return e.jsxs("div",{className:"relative h-full flex items-center",children:[e.jsxs(L,{...$,className:W,style:z?{}:{fontFamily:"Poppins, sans-serif"},children:[U&&e.jsx(U,{className:"w-4 h-4"}),F.title]}),!z&&B&&e.jsx("div",{className:"absolute left-0 right-0 h-[5px]",style:{bottom:"-33px",background:"linear-gradient(to right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"}})]},F.id)};return e.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-40 relative",children:[e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/26710cf5a_GFIheaderlogo.png",alt:"Graduate Futures Institute",className:"mt-4 absolute z-50",style:{top:"0",left:"max(1rem, calc((100vw - 80rem) / 2))",width:"auto",height:"158px",transform:"translateY(-10px)"}}),e.jsx("div",{className:"py-2 relative",style:{background:"linear-gradient(to right, white 0%, white 33%, #5C0085 50%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-end items-center",children:e.jsxs("div",{className:"flex items-center gap-6",children:[(w=a.topNav)==null?void 0:w.map(F=>j(F,!0)),e.jsxs(Wt,{to:Ee(n?"Events":"Home"),className:"flex items-center gap-1 text-white hover:opacity-80 transition-opacity text-sm font-semibold",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:n?"Member Area":"Login"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!t),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity text-sm font-semibold",children:[e.jsx(Ks,{className:"w-4 h-4"}),e.jsx("span",{children:"Search"})]}),t&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 p-4 z-50",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{type:"text",placeholder:"Search...",className:"pl-10",autoFocus:!0})]}),e.jsx(X,{variant:"outline",onClick:()=>s(!1),children:"Close"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Search functionality coming soon"})]})]}),n&&e.jsx("button",{onClick:y,className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity text-sm font-semibold",title:"Logout",children:e.jsx(G6,{className:"w-4 h-4"})}),d&&e.jsxs("div",{className:"flex items-center gap-2",children:[((N=d.linkedin)==null?void 0:N.enabled)&&((_=d.linkedin)==null?void 0:_.url)&&e.jsx("a",{href:d.linkedin.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),((T=d.twitter)==null?void 0:T.enabled)&&((A=d.twitter)==null?void 0:A.url)&&e.jsx("a",{href:d.twitter.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),((P=d.facebook)==null?void 0:P.enabled)&&((C=d.facebook)==null?void 0:C.url)&&e.jsx("a",{href:d.facebook.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),((R=d.instagram)==null?void 0:R.enabled)&&((M=d.instagram)==null?void 0:M.url)&&e.jsx("a",{href:d.instagram.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),((k=d.youtube)==null?void 0:k.enabled)&&((E=d.youtube)==null?void 0:E.url)&&e.jsx("a",{href:d.youtube.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})})})}),e.jsx("div",{className:"bg-white border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex justify-between items-center h-full",children:[e.jsx("div",{style:{width:"210px"}}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8 h-full",children:[(O=a.mainNav)==null?void 0:O.map(F=>j(F,!1)),e.jsx(Wt,{to:Ee("PublicJoinUs"),children:e.jsxs(X,{className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:["Join Us",e.jsx(kr,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})})]}),e.jsx("button",{className:"md:hidden p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})]})}function NZ({banner:t}){if(!t||!t.image_url)return null;const s={"full-width":"w-full",contained:"max-w-7xl mx-auto",wide:"max-w-screen-2xl mx-auto"},n={small:"h-32 md:h-48",medium:"h-48 md:h-64 lg:h-80",large:"h-64 md:h-96 lg:h-[32rem]",auto:"h-auto"},r={top:"object-top",center:"object-center",bottom:"object-bottom"},a=s[t.size]||s["full-width"],i=n[t.height]||n.medium,l=r[t.position]||r.center;return e.jsx("div",{className:`${a} overflow-hidden`,children:e.jsx("div",{className:`${i} w-full`,children:e.jsx("img",{src:t.image_url,alt:t.alt_text||t.name,className:`w-full h-full object-cover ${l}`})})})}var h0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_Z={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},po,W_,GD,SZ=(GD=class{constructor(){Us(this,po,_Z);Us(this,W_,!1)}setTimeoutProvider(t){xs(this,po,t)}setTimeout(t,s){return Xe(this,po).setTimeout(t,s)}clearTimeout(t){Xe(this,po).clearTimeout(t)}setInterval(t,s){return Xe(this,po).setInterval(t,s)}clearInterval(t){Xe(this,po).clearInterval(t)}},po=new WeakMap,W_=new WeakMap,GD),nx=new SZ;function CZ(t){setTimeout(t,0)}var Pm=typeof window>"u"||"Deno"in globalThis;function lg(){}function TE(t){return typeof t=="number"&&t>=0&&t!==1/0}function kZ(t,s){return Math.max(t+(s||0)-Date.now(),0)}function om(t,s){return typeof t=="function"?t(s):t}function ni(t,s){return typeof t=="function"?t(s):t}function AE(t){return JSON.stringify(t,(s,n)=>CN(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}var EZ=Object.prototype.hasOwnProperty;function R3(t,s){if(t===s)return t;const n=ME(t)&&ME(s);if(!n&&!(CN(t)&&CN(s)))return s;const a=(n?t:Object.keys(t)).length,i=n?s:Object.keys(s),l=i.length,o=n?new Array(l):{};let c=0;for(let u=0;u<l;u++){const d=n?u:i[u],m=t[d],h=s[d];if(m===h){o[d]=m,(n?u<a:EZ.call(t,d))&&c++;continue}if(m===null||h===null||typeof m!="object"||typeof h!="object"){o[d]=h;continue}const p=R3(m,h);o[d]=p,p===m&&c++}return a===l&&c===a?t:o}function og(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function ME(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function CN(t){if(!DE(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!DE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function DE(t){return Object.prototype.toString.call(t)==="[object Object]"}function OE(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?R3(t,s):s}function F3(t,s){return typeof t=="function"?t(...s):!!t}var xc,xo,tu,KD,PZ=(KD=class extends h0{constructor(){super();Us(this,xc);Us(this,xo);Us(this,tu);xs(this,tu,s=>{if(!Pm&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Xe(this,xo)||this.setEventListener(Xe(this,tu))}onUnsubscribe(){var s;this.hasListeners()||((s=Xe(this,xo))==null||s.call(this),xs(this,xo,void 0))}setEventListener(s){var n;xs(this,tu,s),(n=Xe(this,xo))==null||n.call(this),xs(this,xo,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){Xe(this,xc)!==s&&(xs(this,xc,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof Xe(this,xc)=="boolean"?Xe(this,xc):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},xc=new WeakMap,xo=new WeakMap,tu=new WeakMap,KD),TZ=new PZ;function RE(){let t,s;const n=new Promise((a,i)=>{t=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var AZ=CZ;function MZ(){let t=[],s=0,n=o=>{o()},r=o=>{o()},a=AZ;const i=o=>{s?t.push(o):a(()=>{n(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var m0=MZ(),su,go,nu,YD,DZ=(YD=class extends h0{constructor(){super();Us(this,su,!0);Us(this,go);Us(this,nu);xs(this,nu,s=>{if(!Pm&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Xe(this,go)||this.setEventListener(Xe(this,nu))}onUnsubscribe(){var s;this.hasListeners()||((s=Xe(this,go))==null||s.call(this),xs(this,go,void 0))}setEventListener(s){var n;xs(this,nu,s),(n=Xe(this,go))==null||n.call(this),xs(this,go,s(this.setOnline.bind(this)))}setOnline(s){Xe(this,su)!==s&&(xs(this,su,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return Xe(this,su)}},su=new WeakMap,go=new WeakMap,nu=new WeakMap,YD),OZ=new DZ;function RZ(t){return(t??"online")==="online"?OZ.isOnline():!0}function FZ(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RZ(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}var Hr,Es,Jm,Cr,gc,ru,fl,vo,Xm,au,iu,vc,yc,yo,lu,Ws,tm,kN,EN,PN,TN,AN,MN,DN,L3,QD,LZ=(QD=class extends h0{constructor(s,n){super();Us(this,Ws);Us(this,Hr);Us(this,Es);Us(this,Jm);Us(this,Cr);Us(this,gc);Us(this,ru);Us(this,fl);Us(this,vo);Us(this,Xm);Us(this,au);Us(this,iu);Us(this,vc);Us(this,yc);Us(this,yo);Us(this,lu,new Set);this.options=n,xs(this,Hr,s),xs(this,vo,null),xs(this,fl,RE()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Xe(this,Es).addObserver(this),FE(Xe(this,Es),this.options)?dn(this,Ws,tm).call(this):this.updateResult(),dn(this,Ws,TN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ON(Xe(this,Es),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ON(Xe(this,Es),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dn(this,Ws,AN).call(this),dn(this,Ws,MN).call(this),Xe(this,Es).removeObserver(this)}setOptions(s){const n=this.options,r=Xe(this,Es);if(this.options=Xe(this,Hr).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ni(this.options.enabled,Xe(this,Es))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dn(this,Ws,DN).call(this),Xe(this,Es).setOptions(this.options),n._defaulted&&!og(this.options,n)&&Xe(this,Hr).getQueryCache().notify({type:"observerOptionsUpdated",query:Xe(this,Es),observer:this});const a=this.hasListeners();a&&LE(Xe(this,Es),r,this.options,n)&&dn(this,Ws,tm).call(this),this.updateResult(),a&&(Xe(this,Es)!==r||ni(this.options.enabled,Xe(this,Es))!==ni(n.enabled,Xe(this,Es))||om(this.options.staleTime,Xe(this,Es))!==om(n.staleTime,Xe(this,Es)))&&dn(this,Ws,kN).call(this);const i=dn(this,Ws,EN).call(this);a&&(Xe(this,Es)!==r||ni(this.options.enabled,Xe(this,Es))!==ni(n.enabled,Xe(this,Es))||i!==Xe(this,yo))&&dn(this,Ws,PN).call(this,i)}getOptimisticResult(s){const n=Xe(this,Hr).getQueryCache().build(Xe(this,Hr),s),r=this.createResult(n,s);return BZ(this,r)&&(xs(this,Cr,r),xs(this,ru,this.options),xs(this,gc,Xe(this,Es).state)),r}getCurrentResult(){return Xe(this,Cr)}trackResult(s,n){return new Proxy(s,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Xe(this,fl).status==="pending"&&Xe(this,fl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(s){Xe(this,lu).add(s)}getCurrentQuery(){return Xe(this,Es)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=Xe(this,Hr).defaultQueryOptions(s),r=Xe(this,Hr).getQueryCache().build(Xe(this,Hr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(s){return dn(this,Ws,tm).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),Xe(this,Cr)))}createResult(s,n){var R;const r=Xe(this,Es),a=this.options,i=Xe(this,Cr),l=Xe(this,gc),o=Xe(this,ru),u=s!==r?s.state:Xe(this,Jm),{state:d}=s;let m={...d},h=!1,p;if(n._optimisticResults){const M=this.hasListeners(),k=!M&&FE(s,n),E=M&&LE(s,r,n,a);(k||E)&&(m={...m,...FZ(d.data,s.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=m;p=m.data;let j=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(M=i.data,j=!0):M=typeof n.placeholderData=="function"?n.placeholderData((R=Xe(this,iu))==null?void 0:R.state.data,Xe(this,iu)):n.placeholderData,M!==void 0&&(v="success",p=OE(i==null?void 0:i.data,M,n),h=!0)}if(n.select&&p!==void 0&&!j)if(i&&p===(l==null?void 0:l.data)&&n.select===Xe(this,Xm))p=Xe(this,au);else try{xs(this,Xm,n.select),p=n.select(p),p=OE(i==null?void 0:i.data,p,n),xs(this,au,p),xs(this,vo,null)}catch(M){xs(this,vo,M)}Xe(this,vo)&&(g=Xe(this,vo),p=Xe(this,au),y=Date.now(),v="error");const w=m.fetchStatus==="fetching",N=v==="pending",_=v==="error",T=N&&w,A=p!==void 0,C={status:v,fetchStatus:m.fetchStatus,isPending:N,isSuccess:v==="success",isError:_,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:_&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&A,isStale:C1(s,n),refetch:this.refetch,promise:Xe(this,fl),isEnabled:ni(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const M=O=>{C.status==="error"?O.reject(C.error):C.data!==void 0&&O.resolve(C.data)},k=()=>{const O=xs(this,fl,C.promise=RE());M(O)},E=Xe(this,fl);switch(E.status){case"pending":s.queryHash===r.queryHash&&M(E);break;case"fulfilled":(C.status==="error"||C.data!==E.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==E.reason)&&k();break}}return C}updateResult(){const s=Xe(this,Cr),n=this.createResult(Xe(this,Es),this.options);if(xs(this,gc,Xe(this,Es).state),xs(this,ru,this.options),Xe(this,gc).data!==void 0&&xs(this,iu,Xe(this,Es)),og(n,s))return;xs(this,Cr,n);const r=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Xe(this,lu).size)return!0;const l=new Set(i??Xe(this,lu));return this.options.throwOnError&&l.add("error"),Object.keys(Xe(this,Cr)).some(o=>{const c=o;return Xe(this,Cr)[c]!==s[c]&&l.has(c)})};dn(this,Ws,L3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dn(this,Ws,TN).call(this)}},Hr=new WeakMap,Es=new WeakMap,Jm=new WeakMap,Cr=new WeakMap,gc=new WeakMap,ru=new WeakMap,fl=new WeakMap,vo=new WeakMap,Xm=new WeakMap,au=new WeakMap,iu=new WeakMap,vc=new WeakMap,yc=new WeakMap,yo=new WeakMap,lu=new WeakMap,Ws=new WeakSet,tm=function(s){dn(this,Ws,DN).call(this);let n=Xe(this,Es).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch(lg)),n},kN=function(){dn(this,Ws,AN).call(this);const s=om(this.options.staleTime,Xe(this,Es));if(Pm||Xe(this,Cr).isStale||!TE(s))return;const r=kZ(Xe(this,Cr).dataUpdatedAt,s)+1;xs(this,vc,nx.setTimeout(()=>{Xe(this,Cr).isStale||this.updateResult()},r))},EN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Xe(this,Es)):this.options.refetchInterval)??!1},PN=function(s){dn(this,Ws,MN).call(this),xs(this,yo,s),!(Pm||ni(this.options.enabled,Xe(this,Es))===!1||!TE(Xe(this,yo))||Xe(this,yo)===0)&&xs(this,yc,nx.setInterval(()=>{(this.options.refetchIntervalInBackground||TZ.isFocused())&&dn(this,Ws,tm).call(this)},Xe(this,yo)))},TN=function(){dn(this,Ws,kN).call(this),dn(this,Ws,PN).call(this,dn(this,Ws,EN).call(this))},AN=function(){Xe(this,vc)&&(nx.clearTimeout(Xe(this,vc)),xs(this,vc,void 0))},MN=function(){Xe(this,yc)&&(nx.clearInterval(Xe(this,yc)),xs(this,yc,void 0))},DN=function(){const s=Xe(this,Hr).getQueryCache().build(Xe(this,Hr),this.options);if(s===Xe(this,Es))return;const n=Xe(this,Es);xs(this,Es,s),xs(this,Jm,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},L3=function(s){m0.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(Xe(this,Cr))}),Xe(this,Hr).getQueryCache().notify({query:Xe(this,Es),type:"observerResultsUpdated"})})},QD);function IZ(t,s){return ni(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function FE(t,s){return IZ(t,s)||t.state.data!==void 0&&ON(t,s,s.refetchOnMount)}function ON(t,s,n){if(ni(s.enabled,t)!==!1&&om(s.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&C1(t,s)}return!1}function LE(t,s,n,r){return(t!==s||ni(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&C1(t,n)}function C1(t,s){return ni(s.enabled,t)!==!1&&t.isStaleByTime(om(s.staleTime,t))}function BZ(t,s){return!og(t.getCurrentResult(),s)}function qZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pl,bo,Gr,xl,Cl,Ox,RN,JD,zZ=(JD=class extends h0{constructor(n,r){super();Us(this,Cl);Us(this,pl);Us(this,bo);Us(this,Gr);Us(this,xl);xs(this,pl,n),this.setOptions(r),this.bindMethods(),dn(this,Cl,Ox).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=Xe(this,pl).defaultMutationOptions(n),og(this.options,r)||Xe(this,pl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Xe(this,Gr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&AE(r.mutationKey)!==AE(this.options.mutationKey)?this.reset():((a=Xe(this,Gr))==null?void 0:a.state.status)==="pending"&&Xe(this,Gr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Xe(this,Gr))==null||n.removeObserver(this)}onMutationUpdate(n){dn(this,Cl,Ox).call(this),dn(this,Cl,RN).call(this,n)}getCurrentResult(){return Xe(this,bo)}reset(){var n;(n=Xe(this,Gr))==null||n.removeObserver(this),xs(this,Gr,void 0),dn(this,Cl,Ox).call(this),dn(this,Cl,RN).call(this)}mutate(n,r){var a;return xs(this,xl,r),(a=Xe(this,Gr))==null||a.removeObserver(this),xs(this,Gr,Xe(this,pl).getMutationCache().build(Xe(this,pl),this.options)),Xe(this,Gr).addObserver(this),Xe(this,Gr).execute(n)}},pl=new WeakMap,bo=new WeakMap,Gr=new WeakMap,xl=new WeakMap,Cl=new WeakSet,Ox=function(){var r;const n=((r=Xe(this,Gr))==null?void 0:r.state)??qZ();xs(this,bo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},RN=function(n){m0.batch(()=>{var r,a,i,l,o,c,u,d;if(Xe(this,xl)&&this.hasListeners()){const m=Xe(this,bo).variables,h=Xe(this,bo).context,p={client:Xe(this,pl),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(r=Xe(this,xl)).onSuccess)==null||a.call(r,n.data,m,h,p),(l=(i=Xe(this,xl)).onSettled)==null||l.call(i,n.data,null,m,h,p)):(n==null?void 0:n.type)==="error"&&((c=(o=Xe(this,xl)).onError)==null||c.call(o,n.error,m,h,p),(d=(u=Xe(this,xl)).onSettled)==null||d.call(u,void 0,n.error,m,h,p))}this.listeners.forEach(m=>{m(Xe(this,bo))})})},JD),$Z=b.createContext(void 0),Gt=t=>{const s=b.useContext($Z);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},I3=b.createContext(!1),UZ=()=>b.useContext(I3);I3.Provider;function VZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var WZ=b.createContext(VZ()),HZ=()=>b.useContext(WZ),GZ=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},KZ=t=>{b.useEffect(()=>{t.clearReset()},[t])},YZ=({result:t,errorResetBoundary:s,throwOnError:n,query:r,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||F3(n,[t.error,r])),QZ=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},JZ=(t,s)=>t.isLoading&&t.isFetching&&!s,XZ=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,IE=(t,s,n)=>s.fetchOptimistic(t).catch(()=>{n.clearReset()});function ZZ(t,s,n){var m,h,p,g,y;const r=UZ(),a=HZ(),i=Gt(),l=i.defaultQueryOptions(t);(h=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||h.call(m,l),l._optimisticResults=r?"isRestoring":"optimistic",QZ(l),GZ(l,a),KZ(a);const o=!i.getQueryCache().get(l.queryHash),[c]=b.useState(()=>new s(i,l)),u=c.getOptimisticResult(l),d=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const j=d?c.subscribe(m0.batchCalls(v)):lg;return c.updateResult(),j},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(l)},[l,c]),XZ(l,u))throw IE(l,c,a);if(YZ({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((g=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,l,u),l.experimental_prefetchInRender&&!Pm&&JZ(u,r)){const v=o?IE(l,c,a):(y=i.getQueryCache().get(l.queryHash))==null?void 0:y.promise;v==null||v.catch(lg).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?u:c.trackResult(u)}function me(t,s){return ZZ(t,LZ)}function Fe(t,s){const n=Gt(),[r]=b.useState(()=>new zZ(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const a=b.useSyncExternalStore(b.useCallback(l=>r.subscribe(m0.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((l,o)=>{r.mutate(l,o).catch(lg)},[r]);if(a.error&&F3(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Ht=b.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:tt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));Ht.displayName="Textarea";var eee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tee=eee.reduce((t,s)=>{const n=l1(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),see="Label",B3=b.forwardRef((t,s)=>e.jsx(tee.label,{...t,ref:s,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));B3.displayName=see;var q3=B3;const nee=Au("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=b.forwardRef(({className:t,...s},n)=>e.jsx(q3,{ref:n,className:tt(nee(),t),...s}));ee.displayName=q3.displayName;function f0(t){const s=b.useRef({value:t,previous:t});return b.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var p0="Checkbox",[ree]=pr(p0),[aee,k1]=ree(p0);function iee(t){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:l,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:m}=t,[h,p]=Va({prop:n,defaultProp:a??!1,onChange:c,caller:p0}),[g,y]=b.useState(null),[v,j]=b.useState(null),w=b.useRef(!1),N=g?!!l||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:g,setControl:y,name:o,form:l,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:_o(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:j};return e.jsx(aee,{scope:s,..._,children:lee(m)?m(_):r})}var z3="CheckboxTrigger",$3=b.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:l,disabled:o,checked:c,required:u,setControl:d,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=k1(z3,t),y=fs(a,d),v=b.useRef(c);return b.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const w=()=>m(v.current);return j.addEventListener("reset",w),()=>j.removeEventListener("reset",w)}},[i,m]),e.jsx($t.button,{type:"button",role:"checkbox","aria-checked":_o(c)?"mixed":c,"aria-required":u,"data-state":G3(c),"data-disabled":o?"":void 0,disabled:o,value:l,...r,ref:y,onKeyDown:jt(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:jt(n,j=>{m(w=>_o(w)?!0:!w),g&&p&&(h.current=j.isPropagationStopped(),h.current||j.stopPropagation())})})});$3.displayName=z3;var E1=b.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:u,form:d,...m}=t;return e.jsx(iee,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:o,required:l,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>e.jsxs(e.Fragment,{children:[e.jsx($3,{...m,ref:s,__scopeCheckbox:n}),h&&e.jsx(H3,{__scopeCheckbox:n})]})})});E1.displayName=p0;var U3="CheckboxIndicator",V3=b.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,i=k1(U3,n);return e.jsx(xr,{present:r||_o(i.checked)||i.checked===!0,children:e.jsx($t.span,{"data-state":G3(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});V3.displayName=U3;var W3="CheckboxBubbleInput",H3=b.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:o,disabled:c,name:u,value:d,form:m,bubbleInput:h,setBubbleInput:p}=k1(W3,t),g=fs(n,p),y=f0(i),v=r0(r);b.useEffect(()=>{const w=h;if(!w)return;const N=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(N,"checked").set,A=!a.current;if(y!==i&&T){const P=new Event("click",{bubbles:A});w.indeterminate=_o(i),T.call(w,_o(i)?!1:i),w.dispatchEvent(P)}},[h,y,i,a]);const j=b.useRef(_o(i)?!1:i);return e.jsx($t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:u,value:d,form:m,...s,tabIndex:-1,ref:g,style:{...s.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});H3.displayName=W3;function lee(t){return typeof t=="function"}function _o(t){return t==="indeterminate"}function G3(t){return _o(t)?"indeterminate":t?"checked":"unchecked"}const pa=b.forwardRef(({className:t,...s},n)=>e.jsx(E1,{ref:n,className:tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(V3,{className:tt("flex items-center justify-center text-current"),children:e.jsx(cf,{className:"h-4 w-4"})})}));pa.displayName=E1.displayName;function BE(t){const s=oee(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(dee);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function oee(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=hee(a),o=uee(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var cee=Symbol("radix.slottable");function dee(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cee}function uee(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function hee(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function P1(t){const s=t+"CollectionProvider",[n,r]=pr(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:v,children:j}=y,w=Ie.useRef(null),N=Ie.useRef(new Map).current;return e.jsx(a,{scope:v,itemMap:N,collectionRef:w,children:j})};l.displayName=s;const o=t+"CollectionSlot",c=BE(o),u=Ie.forwardRef((y,v)=>{const{scope:j,children:w}=y,N=i(o,j),_=fs(v,N.collectionRef);return e.jsx(c,{ref:_,children:w})});u.displayName=o;const d=t+"CollectionItemSlot",m="data-radix-collection-item",h=BE(d),p=Ie.forwardRef((y,v)=>{const{scope:j,children:w,...N}=y,_=Ie.useRef(null),T=fs(v,_),A=i(d,j);return Ie.useEffect(()=>(A.itemMap.set(_,{ref:_,...N}),()=>void A.itemMap.delete(_))),e.jsx(h,{[m]:"",ref:T,children:w})});p.displayName=d;function g(y){const v=i(t+"CollectionConsumer",y);return Ie.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((A,P)=>N.indexOf(A.ref.current)-N.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:u,ItemSlot:p},g,r]}var mee=b.createContext(void 0);function bf(t){const s=b.useContext(mee);return t||s||"ltr"}var cb="rovingFocusGroup.onEntryFocus",fee={bubbles:!1,cancelable:!0},jf="RovingFocusGroup",[FN,K3,pee]=P1(jf),[xee,qu]=pr(jf,[pee]),[gee,vee]=xee(jf),Y3=b.forwardRef((t,s)=>e.jsx(FN.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(FN.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(yee,{...t,ref:s})})}));Y3.displayName=jf;var yee=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=t,h=b.useRef(null),p=fs(s,h),g=bf(i),[y,v]=Va({prop:l,defaultProp:o??null,onChange:c,caller:jf}),[j,w]=b.useState(!1),N=Ui(u),_=K3(n),T=b.useRef(!1),[A,P]=b.useState(0);return b.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(cb,N),()=>C.removeEventListener(cb,N)},[N]),e.jsx(gee,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:y,onItemFocus:b.useCallback(C=>v(C),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>P(C=>C-1),[]),children:e.jsx($t.div,{tabIndex:j||A===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:jt(t.onMouseDown,()=>{T.current=!0}),onFocus:jt(t.onFocus,C=>{const R=!T.current;if(C.target===C.currentTarget&&R&&!j){const M=new CustomEvent(cb,fee);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const k=_().filter(V=>V.focusable),E=k.find(V=>V.active),O=k.find(V=>V.id===y),z=[E,O,...k].filter(Boolean).map(V=>V.ref.current);X3(z,d)}}T.current=!1}),onBlur:jt(t.onBlur,()=>w(!1))})})}),Q3="RovingFocusGroupItem",J3=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...o}=t,c=$n(),u=i||c,d=vee(Q3,n),m=d.currentTabStopId===u,h=K3(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return b.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),e.jsx(FN.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:e.jsx($t.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...o,ref:s,onMouseDown:jt(t.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:jt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:jt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=wee(v,d.orientation,d.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=h().filter(_=>_.focusable).map(_=>_.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const _=N.indexOf(v.currentTarget);N=d.loop?Nee(N,_+1):N.slice(_+1)}setTimeout(()=>X3(N))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:y!=null}):l})})});J3.displayName=Q3;var bee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jee(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wee(t,s,n){const r=jee(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bee[r]}function X3(t,s=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function Nee(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var T1=Y3,A1=J3,M1="Radio",[_ee,Z3]=pr(M1),[See,Cee]=_ee(M1),eO=b.forwardRef((t,s)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:u,...d}=t,[m,h]=b.useState(null),p=fs(s,v=>h(v)),g=b.useRef(!1),y=m?u||!!m.closest("form"):!0;return e.jsxs(See,{scope:n,checked:a,disabled:l,children:[e.jsx($t.button,{type:"button",role:"radio","aria-checked":a,"data-state":rO(a),"data-disabled":l?"":void 0,disabled:l,value:o,...d,ref:p,onClick:jt(t.onClick,v=>{a||c==null||c(),y&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),y&&e.jsx(nO,{control:m,bubbles:!g.current,name:r,value:o,checked:a,required:i,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});eO.displayName=M1;var tO="RadioIndicator",sO=b.forwardRef((t,s)=>{const{__scopeRadio:n,forceMount:r,...a}=t,i=Cee(tO,n);return e.jsx(xr,{present:r||i.checked,children:e.jsx($t.span,{"data-state":rO(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});sO.displayName=tO;var kee="RadioBubbleInput",nO=b.forwardRef(({__scopeRadio:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=b.useRef(null),o=fs(l,i),c=f0(n),u=r0(s);return b.useEffect(()=>{const d=l.current;if(!d)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[c,n,r]),e.jsx($t.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nO.displayName=kee;function rO(t){return t?"checked":"unchecked"}var Eee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x0="RadioGroup",[Pee]=pr(x0,[qu,Z3]),aO=qu(),iO=Z3(),[Tee,Aee]=Pee(x0),lO=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:m,...h}=t,p=aO(n),g=bf(u),[y,v]=Va({prop:i,defaultProp:a??null,onChange:m,caller:x0});return e.jsx(Tee,{scope:n,name:r,required:l,disabled:o,value:y,onValueChange:v,children:e.jsx(T1,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:e.jsx($t.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:g,...h,ref:s})})})});lO.displayName=x0;var oO="RadioGroupItem",cO=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,disabled:r,...a}=t,i=Aee(oO,n),l=i.disabled||r,o=aO(n),c=iO(n),u=b.useRef(null),d=fs(s,u),m=i.value===a.value,h=b.useRef(!1);return b.useEffect(()=>{const p=y=>{Eee.includes(y.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),e.jsx(A1,{asChild:!0,...o,focusable:!l,active:m,children:e.jsx(eO,{disabled:l,required:i.required,checked:m,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:jt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:jt(a.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});cO.displayName=oO;var Mee="RadioGroupIndicator",dO=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,...r}=t,a=iO(n);return e.jsx(sO,{...a,...r,ref:s})});dO.displayName=Mee;var uO=lO,hO=cO,Dee=dO;const Tm=b.forwardRef(({className:t,...s},n)=>e.jsx(uO,{className:tt("grid gap-2",t),...s,ref:n}));Tm.displayName=uO.displayName;const vl=b.forwardRef(({className:t,...s},n)=>e.jsx(hO,{ref:n,className:tt("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(Dee,{className:"flex items-center justify-center",children:e.jsx(U6,{className:"h-3.5 w-3.5 fill-primary"})})}));vl.displayName=hO.displayName;function qE(t,[s,n]){return Math.min(n,Math.max(s,t))}function Oee(t){const s=Ree(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(Lee);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function Ree(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=Bee(a),o=Iee(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Fee=Symbol("radix.slottable");function Lee(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fee}function Iee(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Bee(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qee=[" ","Enter","ArrowUp","ArrowDown"],zee=[" ","Enter"],Mc="Select",[g0,v0,$ee]=P1(Mc),[zu]=pr(Mc,[$ee,Fo]),y0=Fo(),[Uee,Lo]=zu(Mc),[Vee,Wee]=zu(Mc),mO=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:h,required:p,form:g}=t,y=y0(s),[v,j]=b.useState(null),[w,N]=b.useState(null),[_,T]=b.useState(!1),A=bf(u),[P,C]=Va({prop:r,defaultProp:a??!1,onChange:i,caller:Mc}),[R,M]=Va({prop:l,defaultProp:o,onChange:c,caller:Mc}),k=b.useRef(null),E=v?g||!!v.closest("form"):!0,[O,F]=b.useState(new Set),z=Array.from(O).map(V=>V.props.value).join(";");return e.jsx(a0,{...y,children:e.jsxs(Uee,{required:p,scope:s,trigger:v,onTriggerChange:j,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:T,contentId:$n(),value:R,onValueChange:M,open:P,onOpenChange:C,dir:A,triggerPointerDownPosRef:k,disabled:h,children:[e.jsx(g0.Provider,{scope:s,children:e.jsx(Vee,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(V=>{F(U=>new Set(U).add(V))},[]),onNativeOptionRemove:b.useCallback(V=>{F(U=>{const B=new Set(U);return B.delete(V),B})},[]),children:n})}),E?e.jsxs(LO,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:m,value:R,onChange:V=>M(V.target.value),disabled:h,form:g,children:[R===void 0?e.jsx("option",{value:""}):null,Array.from(O)]},z):null]})})};mO.displayName=Mc;var fO="SelectTrigger",pO=b.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=y0(n),l=Lo(fO,n),o=l.disabled||r,c=fs(s,l.onTriggerChange),u=v0(n),d=b.useRef("touch"),[m,h,p]=BO(y=>{const v=u().filter(N=>!N.disabled),j=v.find(N=>N.value===l.value),w=qO(v,y,j);w!==void 0&&l.onValueChange(w.value)}),g=y=>{o||(l.onOpenChange(!0),p()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(vf,{asChild:!0,...i,children:e.jsx($t.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":IO(l.value)?"":void 0,...a,ref:c,onClick:jt(a.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:jt(a.onPointerDown,y=>{d.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:jt(a.onKeyDown,y=>{const v=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(v&&y.key===" ")&&qee.includes(y.key)&&(g(),y.preventDefault())})})})});pO.displayName=fO;var xO="SelectValue",gO=b.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:l="",...o}=t,c=Lo(xO,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,m=fs(s,c.onValueNodeChange);return rr(()=>{u(d)},[u,d]),e.jsx($t.span,{...o,ref:m,style:{pointerEvents:"none"},children:IO(c.value)?e.jsx(e.Fragment,{children:l}):i})});gO.displayName=xO;var Hee="SelectIcon",vO=b.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx($t.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});vO.displayName=Hee;var Gee="SelectPortal",yO=t=>e.jsx(Ru,{asChild:!0,...t});yO.displayName=Gee;var Dc="SelectContent",bO=b.forwardRef((t,s)=>{const n=Lo(Dc,t.__scopeSelect),[r,a]=b.useState();if(rr(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?qc.createPortal(e.jsx(jO,{scope:t.__scopeSelect,children:e.jsx(g0.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(wO,{...t,ref:s})});bO.displayName=Dc;var ti=10,[jO,Io]=zu(Dc),Kee="SelectContentImpl",Yee=Oee("SelectContent.RemoveScroll"),wO=b.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:v,...j}=t,w=Lo(Dc,n),[N,_]=b.useState(null),[T,A]=b.useState(null),P=fs(s,G=>_(G)),[C,R]=b.useState(null),[M,k]=b.useState(null),E=v0(n),[O,F]=b.useState(!1),z=b.useRef(!1);b.useEffect(()=>{if(N)return Yg(N)},[N]),Gg();const V=b.useCallback(G=>{const[ae,...se]=E().map(oe=>oe.ref.current),[de]=se.slice(-1),ue=document.activeElement;for(const oe of G)if(oe===ue||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ae&&T&&(T.scrollTop=0),oe===de&&T&&(T.scrollTop=T.scrollHeight),oe==null||oe.focus(),document.activeElement!==ue))return},[E,T]),U=b.useCallback(()=>V([C,N]),[V,C,N]);b.useEffect(()=>{O&&U()},[O,U]);const{onOpenChange:B,triggerPointerDownPosRef:$}=w;b.useEffect(()=>{if(N){let G={x:0,y:0};const ae=de=>{var ue,oe;G={x:Math.abs(Math.round(de.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(de.pageY)-(((oe=$.current)==null?void 0:oe.y)??0))}},se=de=>{G.x<=10&&G.y<=10?de.preventDefault():N.contains(de.target)||B(!1),document.removeEventListener("pointermove",ae),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",se,{capture:!0})}}},[N,B,$]),b.useEffect(()=>{const G=()=>B(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[B]);const[L,I]=BO(G=>{const ae=E().filter(ue=>!ue.disabled),se=ae.find(ue=>ue.ref.current===document.activeElement),de=qO(ae,G,se);de&&setTimeout(()=>de.ref.current.focus())}),W=b.useCallback((G,ae,se)=>{const de=!z.current&&!se;(w.value!==void 0&&w.value===ae||de)&&(R(G),de&&(z.current=!0))},[w.value]),q=b.useCallback(()=>N==null?void 0:N.focus(),[N]),Z=b.useCallback((G,ae,se)=>{const de=!z.current&&!se;(w.value!==void 0&&w.value===ae||de)&&k(G)},[w.value]),J=r==="popper"?LN:NO,Q=J===LN?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return e.jsx(jO,{scope:n,content:N,viewport:T,onViewportChange:A,itemRefCallback:W,selectedItem:C,onItemLeave:q,itemTextRefCallback:Z,focusSelectedItem:U,selectedItemText:M,position:r,isPositioned:O,searchRef:L,children:e.jsx(ff,{as:Yee,allowPinchZoom:!0,children:e.jsx(mf,{asChild:!0,trapped:w.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:jt(a,G=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),G.preventDefault()}),children:e.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(J,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:G=>G.preventDefault(),...j,...Q,onPlaced:()=>F(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:jt(j.onKeyDown,G=>{const ae=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ae&&G.key.length===1&&I(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let de=E().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(G.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ue=G.target,oe=de.indexOf(ue);de=de.slice(oe+1)}setTimeout(()=>V(de)),G.preventDefault()}})})})})})})});wO.displayName=Kee;var Qee="SelectItemAlignedPosition",NO=b.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=Lo(Dc,n),l=Io(Dc,n),[o,c]=b.useState(null),[u,d]=b.useState(null),m=fs(s,P=>d(P)),h=v0(n),p=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:j,focusSelectedItem:w}=l,N=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&u&&y&&v&&j){const P=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),M=j.getBoundingClientRect();if(i.dir!=="rtl"){const ue=M.left-C.left,oe=R.left-ue,pe=P.left-oe,be=P.width+pe,je=Math.max(be,C.width),Be=window.innerWidth-ti,qe=qE(oe,[ti,Math.max(ti,Be-je)]);o.style.minWidth=be+"px",o.style.left=qe+"px"}else{const ue=C.right-M.right,oe=window.innerWidth-R.right-ue,pe=window.innerWidth-P.right-oe,be=P.width+pe,je=Math.max(be,C.width),Be=window.innerWidth-ti,qe=qE(oe,[ti,Math.max(ti,Be-je)]);o.style.minWidth=be+"px",o.style.right=qe+"px"}const k=h(),E=window.innerHeight-ti*2,O=y.scrollHeight,F=window.getComputedStyle(u),z=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),U=parseInt(F.borderBottomWidth,10),B=parseInt(F.paddingBottom,10),$=z+V+O+B+U,L=Math.min(v.offsetHeight*5,$),I=window.getComputedStyle(y),W=parseInt(I.paddingTop,10),q=parseInt(I.paddingBottom,10),Z=P.top+P.height/2-ti,J=E-Z,Q=v.offsetHeight/2,G=v.offsetTop+Q,ae=z+V+G,se=$-ae;if(ae<=Z){const ue=k.length>0&&v===k[k.length-1].ref.current;o.style.bottom="0px";const oe=u.clientHeight-y.offsetTop-y.offsetHeight,pe=Math.max(J,Q+(ue?q:0)+oe+U),be=ae+pe;o.style.height=be+"px"}else{const ue=k.length>0&&v===k[0].ref.current;o.style.top="0px";const pe=Math.max(Z,z+y.offsetTop+(ue?W:0)+Q)+se;o.style.height=pe+"px",y.scrollTop=ae-Z+y.offsetTop}o.style.margin=`${ti}px 0`,o.style.minHeight=L+"px",o.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,o,u,y,v,j,i.dir,r]);rr(()=>N(),[N]);const[_,T]=b.useState();rr(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const A=b.useCallback(P=>{P&&g.current===!0&&(N(),w==null||w(),g.current=!1)},[N,w]);return e.jsx(Xee,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx($t.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});NO.displayName=Qee;var Jee="SelectPopperPosition",LN=b.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=ti,...i}=t,l=y0(n);return e.jsx(i0,{...l,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LN.displayName=Jee;var[Xee,D1]=zu(Dc,{}),IN="SelectViewport",_O=b.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,i=Io(IN,n),l=D1(IN,n),o=fs(s,i.onViewportChange),c=b.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(g0.Slot,{scope:n,children:e.jsx($t.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:jt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=l;if(h!=null&&h.current&&m){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-ti*2,y=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),j=Math.max(y,v);if(j<g){const w=j+p,N=Math.min(g,w),_=w-N;m.style.height=N+"px",m.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_O.displayName=IN;var SO="SelectGroup",[Zee,ete]=zu(SO),tte=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=$n();return e.jsx(Zee,{scope:n,id:a,children:e.jsx($t.div,{role:"group","aria-labelledby":a,...r,ref:s})})});tte.displayName=SO;var CO="SelectLabel",kO=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=ete(CO,n);return e.jsx($t.div,{id:a.id,...r,ref:s})});kO.displayName=CO;var cg="SelectItem",[ste,EO]=zu(cg),PO=b.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...l}=t,o=Lo(cg,n),c=Io(cg,n),u=o.value===r,[d,m]=b.useState(i??""),[h,p]=b.useState(!1),g=fs(s,w=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,w,r,a)}),y=$n(),v=b.useRef("touch"),j=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ste,{scope:n,value:r,disabled:a,textId:y,isSelected:u,onItemTextChange:b.useCallback(w=>{m(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:e.jsx(g0.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:e.jsx($t.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:g,onFocus:jt(l.onFocus,()=>p(!0)),onBlur:jt(l.onBlur,()=>p(!1)),onClick:jt(l.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:jt(l.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:jt(l.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:jt(l.onPointerMove,w=>{var N;v.current=w.pointerType,a?(N=c.onItemLeave)==null||N.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(l.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:jt(l.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(zee.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});PO.displayName=cg;var sm="SelectItemText",TO=b.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,l=Lo(sm,n),o=Io(sm,n),c=EO(sm,n),u=Wee(sm,n),[d,m]=b.useState(null),h=fs(s,j=>m(j),c.onItemTextChange,j=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,j,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=b.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=u;return rr(()=>(y(g),()=>v(g)),[y,v,g]),e.jsxs(e.Fragment,{children:[e.jsx($t.span,{id:c.textId,...i,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?qc.createPortal(i.children,l.valueNode):null]})});TO.displayName=sm;var AO="SelectItemIndicator",MO=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return EO(AO,n).isSelected?e.jsx($t.span,{"aria-hidden":!0,...r,ref:s}):null});MO.displayName=AO;var BN="SelectScrollUpButton",DO=b.forwardRef((t,s)=>{const n=Io(BN,t.__scopeSelect),r=D1(BN,t.__scopeSelect),[a,i]=b.useState(!1),l=fs(s,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(RO,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});DO.displayName=BN;var qN="SelectScrollDownButton",OO=b.forwardRef((t,s)=>{const n=Io(qN,t.__scopeSelect),r=D1(qN,t.__scopeSelect),[a,i]=b.useState(!1),l=fs(s,r.onScrollButtonChange);return rr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(RO,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});OO.displayName=qN;var RO=b.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,i=Io("SelectScrollButton",n),l=b.useRef(null),o=v0(n),c=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),rr(()=>{var d;const u=o().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),e.jsx($t.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:jt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:jt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:jt(a.onPointerLeave,()=>{c()})})}),nte="SelectSeparator",FO=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx($t.div,{"aria-hidden":!0,...r,ref:s})});FO.displayName=nte;var zN="SelectArrow",rte=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=y0(n),i=Lo(zN,n),l=Io(zN,n);return i.open&&l.position==="popper"?e.jsx(l0,{...a,...r,ref:s}):null});rte.displayName=zN;var ate="SelectBubbleInput",LO=b.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=b.useRef(null),i=fs(r,a),l=f0(s);return b.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&d){const m=new Event("change",{bubbles:!0});d.call(o,s),o.dispatchEvent(m)}},[l,s]),e.jsx($t.select,{...n,style:{...m3,...n.style},ref:i,defaultValue:s})});LO.displayName=ate;function IO(t){return t===""||t===void 0}function BO(t){const s=Ui(t),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(l=>{const o=n.current+l;s(o),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(o)},[s]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function qO(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let l=ite(t,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const c=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function ite(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var lte=mO,zO=pO,ote=gO,cte=vO,dte=yO,$O=bO,ute=_O,UO=kO,VO=PO,hte=TO,mte=MO,WO=DO,HO=OO,GO=FO;const He=lte,Ye=ote,Ue=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(zO,{ref:r,className:tt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(cte,{asChild:!0,children:e.jsx(Pr,{className:"h-4 w-4 opacity-50"})})]}));Ue.displayName=zO.displayName;const KO=b.forwardRef(({className:t,...s},n)=>e.jsx(WO,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Vg,{className:"h-4 w-4"})}));KO.displayName=WO.displayName;const YO=b.forwardRef(({className:t,...s},n)=>e.jsx(HO,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Pr,{className:"h-4 w-4"})}));YO.displayName=HO.displayName;const Ve=b.forwardRef(({className:t,children:s,position:n="popper",...r},a)=>e.jsx(dte,{children:e.jsxs($O,{ref:a,className:tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(KO,{}),e.jsx(ute,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(YO,{})]})}));Ve.displayName=$O.displayName;const fte=b.forwardRef(({className:t,...s},n)=>e.jsx(UO,{ref:n,className:tt("px-2 py-1.5 text-sm font-semibold",t),...s}));fte.displayName=UO.displayName;const re=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(VO,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(mte,{children:e.jsx(cf,{className:"h-4 w-4"})})}),e.jsx(hte,{children:s})]}));re.displayName=VO.displayName;const pte=b.forwardRef(({className:t,...s},n)=>e.jsx(GO,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...s}));pte.displayName=GO.displayName;function mu({field:t,value:s,onChange:n,memberInfo:r,organizationInfo:a}){const[i,l]=b.useState(!1),[o,c]=b.useState("");b.useEffect(()=>{if(!r)return;let d=null;switch(t.type){case"user_name":d=`${r.first_name||""} ${r.last_name||""}`.trim();break;case"user_email":d=r.email||"";break;case"user_organization":d=(a==null?void 0:a.name)||"";break;case"user_job_title":d=r.job_title||"";break}d&&!s&&n(d)},[t.type,t.id,r==null?void 0:r.first_name,r==null?void 0:r.last_name,r==null?void 0:r.email,r==null?void 0:r.job_title,a==null?void 0:a.name,s]),b.useEffect(()=>{t.type==="select"&&t.allow_other&&s&&!(t.options||[]).includes(s)&&s!==""&&(l(!0),c(s))},[]);const u=()=>{if(["user_name","user_email","user_organization","user_job_title"].includes(t.type))return e.jsx(he,{type:"text",value:s||"",readOnly:!0,className:"bg-slate-50 cursor-not-allowed",placeholder:t.placeholder||"Auto-populated from your profile"});switch(t.type){case"text":case"email":case"tel":case"number":return e.jsx(he,{type:t.type,value:s||"",onChange:d=>n(d.target.value),placeholder:t.placeholder,required:t.required});case"textarea":return e.jsx(Ht,{value:s||"",onChange:d=>n(d.target.value),placeholder:t.placeholder,required:t.required,rows:4});case"date":case"time":return e.jsx(he,{type:t.type,value:s||"",onChange:d=>n(d.target.value),required:t.required});case"select":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(He,{value:i?"other":s||"",onValueChange:d=>{d==="other"?(l(!0),n("")):(l(!1),c(""),n(d))},children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:t.placeholder||"Select an option"})}),e.jsxs(Ve,{children:[(t.options||[]).map((d,m)=>e.jsx(re,{value:d,children:d},m)),t.allow_other&&e.jsx(re,{value:"other",children:"Other"})]})]}),i&&e.jsx(he,{type:"text",value:o,onChange:d=>{c(d.target.value),n(d.target.value)},placeholder:"Please specify...",className:"mt-2"})]});case"radio":return e.jsx(Tm,{value:s||"",onValueChange:n,children:(t.options||[]).map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vl,{value:d,id:`${t.id}-${m}`}),e.jsx(ee,{htmlFor:`${t.id}-${m}`,className:"font-normal",children:d})]},m))});case"checkbox":return e.jsx("div",{className:"space-y-2",children:(t.options||[]).map((d,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pa,{id:`${t.id}-${m}`,checked:(s||[]).includes(d),onCheckedChange:h=>{const p=s||[];n(h?[...p,d]:p.filter(g=>g!==d))}}),e.jsx(ee,{htmlFor:`${t.id}-${m}`,className:"font-normal",children:d})]},m))});case"file":return e.jsx(he,{type:"file",onChange:d=>{var h;const m=(h=d.target.files)==null?void 0:h[0];m&&n(m.name)},required:t.required});default:return e.jsxs("p",{className:"text-sm text-slate-500",children:["Unsupported field type: ",t.type]})}};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:t.id,children:[t.label,t.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u()]})}function xte(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let $N=1;class gte{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const n=this.subscribers.indexOf(s);this.subscribers.splice(n,1)}),this.publish=s=>{this.subscribers.forEach(n=>n(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var n;const{message:r,...a}=s,i=typeof(s==null?void 0:s.id)=="number"||((n=s.id)==null?void 0:n.length)>0?s.id:$N++,l=this.toasts.find(c=>c.id===i),o=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...s,id:i,title:r}),{...c,...s,id:i,dismissible:o,title:r}):c):this.addToast({title:r,...a,dismissible:o,id:i}),i},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:s,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),s),this.message=(s,n)=>this.create({...n,message:s}),this.error=(s,n)=>this.create({...n,message:s,type:"error"}),this.success=(s,n)=>this.create({...n,type:"success",message:s}),this.info=(s,n)=>this.create({...n,type:"info",message:s}),this.warning=(s,n)=>this.create({...n,type:"warning",message:s}),this.loading=(s,n)=>this.create({...n,type:"loading",message:s}),this.promise=(s,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:s,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(s instanceof Function?s():s);let i=r!==void 0,l;const o=a.then(async u=>{if(l=["resolve",u],Ie.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(yte(u)&&!u.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,g=typeof m=="object"&&!Ie.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:h,...g})}else if(u instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,g=typeof m=="object"&&!Ie.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:h,...g})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description,g=typeof m=="object"&&!Ie.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:h,...g})}}).catch(async u=>{if(l=["reject",u],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,p=typeof d=="object"&&!Ie.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>o.then(()=>l[0]==="reject"?d(l[1]):u(l[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(s,n)=>{const r=(n==null?void 0:n.id)||$N++;return this.create({jsx:s(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Da=new gte,vte=(t,s)=>{const n=(s==null?void 0:s.id)||$N++;return Da.addToast({title:t,...s,id:n}),n},yte=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bte=vte,jte=()=>Da.toasts,wte=()=>Da.getActiveToasts(),te=Object.assign(bte,{success:Da.success,info:Da.info,warning:Da.warning,error:Da.error,custom:Da.custom,message:Da.message,promise:Da.promise,dismiss:Da.dismiss,loading:Da.loading},{getHistory:jte,getToasts:wte});xte("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function QO({location:t="portal",memberInfo:s,organizationInfo:n}){const r=Gt(),[a,i]=b.useState(null),[l,o]=b.useState({}),[c,u]=b.useState(!1),[d,m]=b.useState(0),[h,p]=b.useState(!1),{data:g}=me({queryKey:["member-record",s==null?void 0:s.email],queryFn:async()=>(await K.entities.Member.list()).find(E=>E.email===(s==null?void 0:s.email)),enabled:!!(s!=null&&s.email),staleTime:30*1e3}),{data:y=[]}=me({queryKey:["floaters",t],queryFn:async()=>(await K.entities.Floater.list()).filter(E=>E.is_active&&(E.display_location===t||E.display_location==="both")).sort((E,O)=>(E.display_order||0)-(O.display_order||0)),staleTime:60*1e3}),{data:v=[]}=me({queryKey:["forms"],queryFn:async()=>await K.entities.Form.list(),staleTime:60*1e3}),j=Fe({mutationFn:async({floaterId:k,currentCount:E})=>await K.entities.Floater.update(k,{click_count:(E||0)+1}),onSuccess:()=>{r.invalidateQueries({queryKey:["floaters"]})}}),w=Fe({mutationFn:async({formId:k,formName:E,data:O})=>{const F={form_id:k,form_name:E,submission_data:O,submitted_by_email:s==null?void 0:s.email,submitted_by_name:s?`${s.first_name} ${s.last_name}`:void 0};return await K.entities.FormSubmission.create(F)},onSuccess:()=>{p(!0),r.invalidateQueries({queryKey:["forms"]})},onError:()=>{te.error("Failed to submit form")}}),N=async k=>{try{if(j.mutate({floaterId:k.id,currentCount:k.click_count}),k.action_type==="webhook"&&k.webhook_url)await fetch(k.webhook_url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({floater_id:k.id,floater_name:k.name,timestamp:new Date().toISOString(),location:t})});else if(k.action_type==="url"&&k.redirect_url)switch(k.window_target||"new_tab"){case"current":window.location.href=k.redirect_url;break;case"new_tab":window.open(k.redirect_url,"_blank","noopener,noreferrer");break;case"parent":window.parent.location.href=k.redirect_url;break;case"popup":const O=k.popup_width||800,F=k.popup_height||600,z=(window.screen.width-O)/2,V=(window.screen.height-F)/2;window.open(k.redirect_url,"_blank",`width=${O},height=${F},left=${z},top=${V},resizable=yes,scrollbars=yes`);break}else if(k.action_type==="form"&&k.form_slug){const E=v.find(O=>O.slug===k.form_slug);if(E){if(E.require_authentication&&!s){te.error("Please log in to access this form");return}i(E),o({}),m(0),p(!1)}}}catch(E){console.error("Failed to process floater click:",E)}},_=async k=>{if(k.preventDefault(),!a)return;if(a.fields.filter(F=>F.required).filter(F=>!l[F.id]).length>0){te.error("Please fill in all required fields");return}u(!0);try{await w.mutateAsync({formId:a.id,formName:a.name,data:l})}finally{u(!1)}},T=()=>{if(!a)return;const k=a.fields[d];if(k.required&&!l[k.id]){te.error("This field is required");return}d<a.fields.length-1&&m(d+1)},A=()=>{d>0&&m(d-1)},P=()=>{i(null),o({}),m(0),p(!1)},C=k=>{const E={position:"fixed",zIndex:1e3,cursor:"pointer",width:`${k.width||80}px`,height:`${k.height||80}px`,transition:"transform 0.2s ease"},O=k.offset_x||20,F=k.offset_y||20;switch(k.position){case"bottom-right":E.bottom=`${F}px`,E.right=`${O}px`;break;case"bottom-left":E.bottom=`${F}px`,E.left=`${O}px`;break;case"top-right":E.top=`${F}px`,E.right=`${O}px`;break;case"top-left":E.top=`${F}px`,E.left=`${O}px`;break;default:E.bottom=`${F}px`,E.right=`${O}px`}return E},R=k=>({width:"100%",height:"100%",objectFit:"contain",...(k.show_background??!0)&&{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}}),M=g||s;return y.length===0?null:e.jsxs(e.Fragment,{children:[y.map(k=>e.jsx("div",{style:C(k),onClick:()=>N(k),onMouseEnter:E=>E.currentTarget.style.transform="scale(1.05)",onMouseLeave:E=>E.currentTarget.style.transform="scale(1)",title:k.description||k.name,children:e.jsx("img",{src:k.image_url,alt:k.name,style:R(k)})},k.id)),e.jsx(St,{open:!!a,onOpenChange:k=>!k&&P(),children:e.jsx(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a&&e.jsx(e.Fragment,{children:h?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.success_message||"Thank you for your submission!"}),e.jsx(X,{onClick:P,className:"mt-6",children:"Close"})]}):a.layout_type==="card_swipe"?e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.name}),a.description&&e.jsx("p",{className:"text-slate-600",children:a.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.fields.map((k,E)=>e.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${E<=d?"bg-blue-600":"bg-slate-200"}`},E))}),e.jsxs("p",{className:"text-sm text-slate-600 text-center",children:["Question ",d+1," of ",a.fields.length]})]}),e.jsx("div",{className:"min-h-[200px]",children:e.jsx(mu,{field:a.fields[d],value:l[a.fields[d].id],onChange:k=>o(E=>({...E,[a.fields[d].id]:k})),memberInfo:M,organizationInfo:n})}),e.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t mt-6",children:[e.jsxs(X,{type:"button",variant:"outline",onClick:A,disabled:d===0,children:[e.jsx(Un,{className:"w-4 h-4 mr-1"}),"Previous"]}),d===a.fields.length-1?e.jsx(X,{onClick:_,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.submit_button_text||"Submit"}):e.jsxs(X,{onClick:T,children:["Next",e.jsx(ys,{className:"w-4 h-4 ml-1"})]})]})]}):e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.name}),a.description&&e.jsx("p",{className:"text-slate-600",children:a.description})]}),e.jsx("div",{className:"space-y-4",children:a.fields.map(k=>e.jsx(mu,{field:k,value:l[k.id],onChange:E=>o(O=>({...O,[k.id]:E})),memberInfo:M,organizationInfo:n},k.id))}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(X,{type:"button",variant:"outline",onClick:P,disabled:c,children:"Cancel"}),e.jsx(X,{type:"submit",disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.submit_button_text||"Submit"})]})]})})})})]})}function ba({children:t,currentPageName:s}){const[n,r]=b.useState([]),[a,i]=b.useState(!0),[l,o]=b.useState(!1);return b.useEffect(()=>{(async()=>{if(!s){i(!1);return}try{const d=(await K.entities.PageBanner.filter({is_active:!0})).filter(m=>m.associated_pages&&m.associated_pages.includes(s)).sort((m,h)=>(m.display_order||0)-(h.display_order||0));r(d)}catch(u){console.error("Failed to fetch banners:",u)}finally{i(!1)}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

            @font-face {
              font-family: 'Degular Medium';
              src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
              font-weight: 500;
              font-style: normal;
              font-display: swap;
            }
            
            h1 {
              font-family: 'Degular Medium', 'Poppins', sans-serif;
            }
            
            .nav-link:hover {
              color: #5C0085 !important;
            }
          `}),e.jsx(wZ,{}),!a&&n.length>0&&e.jsx("div",{className:"w-full",children:n.map(c=>e.jsx(NZ,{banner:c},c.id))}),e.jsx("main",{className:"flex-1",children:t}),e.jsx("footer",{className:"bg-slate-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/6cfe73a57_agcasRoundall.jpg",alt:"AGCAS",className:"w-10 h-10 object-contain"}),e.jsx("h3",{className:"text-xl font-bold",children:"AGCAS"})]}),e.jsx("p",{className:"text-slate-300 mb-4 text-sm",children:"The Association of Graduate Careers Advisory Services represents careers and employability services in higher education across the UK and Ireland."}),e.jsxs(X,{onClick:()=>o(!0),className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none mt-4",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:["Subscribe to Newsletter",e.jsx(kr,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(Wt,{to:Ee("PublicEvents"),className:"text-slate-300 hover:text-white transition-colors",children:"Events"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("PublicResources"),className:"text-slate-300 hover:text-white transition-colors",children:"Resources"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("PublicArticles"),className:"text-slate-300 hover:text-white transition-colors",children:"Articles"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("JobBoard"),className:"text-slate-300 hover:text-white transition-colors",children:"Job Board"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("PublicAbout"),className:"text-slate-300 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("PublicContact"),className:"text-slate-300 hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx(Wt,{to:Ee("Home"),className:"text-slate-300 hover:text-white transition-colors",children:"Member Login"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"info@graduatefutures.org.uk"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Hg,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"+44 (0)114 251 5750"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Tr,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"Sheffield, United Kingdom"})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-800 mt-8 pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-400",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]}),e.jsxs("div",{className:"flex gap-6 text-sm text-slate-400",children:[e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Accessibility"})]})]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[40px] mx-auto mb-2"})}),e.jsxs("p",{className:"text-xs text-slate-500",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:"#eb008c"},children:"isaasi"})]})]})]})]})}),e.jsx(QO,{location:"public"})]}),e.jsx(St,{open:l,onOpenChange:o,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsx(Ct,{children:e.jsx(kt,{className:"text-2xl",children:"Subscribe to Our Newsletter"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("p",{className:"text-slate-600",children:"Stay up to date with the latest news, events, and resources from Graduate Futures. Join our community and never miss an important update!"}),e.jsx("div",{className:"w-full",style:{minHeight:"500px"},children:e.jsx("iframe",{src:"https://forms.zohopublic.eu/isaasiagcas1/form/Newsletter/formperma/VRkTs4kbQec4LDCN5z0pRWyTRH7HGIqxhDx-dT35YTI",width:"100%",height:"600",frameBorder:"0",marginHeight:"0",marginWidth:"0",title:"Newsletter Signup Form",className:"rounded-lg",children:"Loading newsletter form..."})})]})]})})]})}function Nte({children:t}){return e.jsxs("div",{className:"flex flex-col min-h-screen bg-white",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",rel:"stylesheet"}),e.jsx("style",{children:`
          @font-face {
            font-family: 'Degular Medium';
            src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
          }

          body, html {
            font-family: 'Poppins', sans-serif;
          }

          h1 {
            font-family: 'Degular Medium', 'Poppins', sans-serif;
          }
        `}),e.jsx("main",{className:"flex-1",children:t}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-3 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[50px] mx-auto"})}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#eb008c"},children:"isaasi"})," ","-  Copyright ",new Date().getFullYear()===2025?"2025":`2025-${new Date().getFullYear()}`]})]})})]})}function _te(){var o,c,u;const[t,s]=b.useState(0),{data:n=[]}=me({queryKey:["news-ticker-settings"],queryFn:async()=>(await K.entities.SystemSettings.list()).filter(m=>m.setting_key==="news_ticker_count"||m.setting_key==="news_ticker_cycle_seconds"||m.setting_key==="news_ticker_enabled"),staleTime:300*1e3}),r=((o=n.find(d=>d.setting_key==="news_ticker_enabled"))==null?void 0:o.setting_value)!=="false",a=parseInt((c=n.find(d=>d.setting_key==="news_ticker_count"))==null?void 0:c.setting_value)||3,i=parseInt((u=n.find(d=>d.setting_key==="news_ticker_cycle_seconds"))==null?void 0:u.setting_value)||5,{data:l=[]}=me({queryKey:["latest-news-ticker",a],queryFn:async()=>{const d=await K.entities.NewsPost.list("-published_date"),m=new Date;return d.filter(h=>h.status==="published"&&new Date(h.published_date)<=m).slice(0,a)},staleTime:120*1e3,refetchInterval:120*1e3});return b.useEffect(()=>{if(l.length<=1)return;const d=setInterval(()=>{s(m=>(m+1)%l.length)},i*1e3);return()=>clearInterval(d)},[l.length,i]),!r||l.length===0?null:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider shrink-0 bg-white/20 px-2 py-1 rounded",children:"Latest News"}),e.jsx("div",{className:"flex-1 relative h-6 overflow-hidden",children:l.map((d,m)=>e.jsxs(Wt,{to:`${Ee("NewsView")}?slug=${d.slug}`,className:"absolute inset-0 flex items-center gap-2 hover:underline transition-all duration-500",style:{transform:`translateY(${(m-t)*100}%)`,opacity:m===t?1:0},children:[e.jsx("span",{className:"truncate",children:d.title}),e.jsx(ys,{className:"w-4 h-4 shrink-0"})]},d.id))})]})})})}const Ste=[{title:"Buy Tickets",url:Ee("BuyProgramTickets"),icon:Vc,featureId:"page_BuyProgramTickets"},{title:"Browse Events",url:Ee("Events"),icon:js,featureId:"page_Events"},{title:"Bookings",url:Ee("Bookings"),icon:$c,featureId:"page_Bookings"},{title:"My Tickets",url:Ee("MyTickets"),icon:Ds,featureId:"page_MyTickets"},{title:"Balances",url:Ee("Balances"),icon:Eo,featureId:"page_Balances"},{title:"History",url:Ee("History"),icon:Wg,featureId:"page_History"},{title:"Team",url:Ee("Team"),icon:bs,featureId:"page_Team"},{title:"Member Directory",url:Ee("MemberDirectory"),icon:Ug,featureId:"page_MemberDirectory"},{title:"Organisation Directory",url:Ee("OrganisationDirectory"),icon:Ro,featureId:"page_OrganisationDirectory"},{title:"Resources",url:Ee("Resources"),icon:ea,featureId:"page_Resources"},{title:"Articles",icon:ts,featureId:"page_ArticlesSection",subItems:[{title:"My Articles",url:Ee("MyArticles"),featureId:"page_MyArticles"},{title:"Articles",url:Ee("Articles"),featureId:"page_Articles"}]},{title:"News",url:Ee("News"),icon:ts,featureId:"page_News"},{title:"My Job Postings",url:Ee("MyJobPostings"),icon:kn,featureId:"page_MyJobPostings"},{title:"Preferences",url:Ee("Preferences"),icon:Ua,featureId:"page_Preferences"},{title:"Support",url:Ee("Support"),icon:zc,featureId:"page_Support"}],Cte=[{title:"News",icon:ts,featureId:"page_NewsAdmin",subItems:[{title:"News Management",url:Ee("MyNews"),featureId:"page_MyNews"},{title:"Settings",url:Ee("NewsSettings"),featureId:"page_NewsSettings"}]},{title:"Articles",icon:ts,featureId:"page_ArticlesAdmin",subItems:[{title:"All Articles",url:Ee("ArticleManagement"),featureId:"page_ArticleManagement"},{title:"Settings",url:Ee("ArticlesSettings"),featureId:"page_ArticlesSettings"}]},{title:"Role Management",url:Ee("RoleManagement"),icon:Ln,featureId:"page_RoleManagement"},{title:"Assign Member Roles",url:Ee("MemberRoleAssignment"),icon:bs,featureId:"page_MemberRoleAssignment"},{title:"Team Members",url:Ee("TeamMemberManagement"),icon:bs,featureId:"page_TeamMemberManagement"},{title:"Member Handle Management",url:Ee("MemberHandleManagement"),icon:of,featureId:"page_MemberHandleManagement"},{title:"Member Directory Settings",url:Ee("MemberDirectorySettings"),icon:bs,featureId:"page_MemberDirectorySettings"},{title:"Discount Codes",url:Ee("DiscountCodeManagement"),icon:Ds,featureId:"page_DiscountCodeManagement"},{title:"Event Settings",url:Ee("EventSettings"),icon:Ua,featureId:"page_EventSettings"},{title:"Ticket Sales Analytics",url:Ee("TicketSalesAnalytics"),icon:Eu,featureId:"page_TicketSalesAnalytics"},{title:"Award Management",url:Ee("AwardManagement"),icon:Fn,featureId:"page_AwardManagement"},{title:"Category Management",url:Ee("CategoryManagement"),icon:Ec,featureId:"page_CategoryManagement"},{title:"Category Setup",url:Ee("ResourceSettings"),icon:Ec,featureId:"page_ResourceSettings"},{title:"Resource Management",icon:ea,featureId:"page_ResourcesAdmin",subItems:[{title:"Resources",url:Ee("ResourceManagement"),featureId:"page_ResourceManagement"},{title:"Tags",url:Ee("TagManagement"),featureId:"page_TagManagement"},{title:"Settings",url:Ee("ResourceSettings"),featureId:"page_ResourceSettings"},{title:"File Repository",url:Ee("FileManagement"),featureId:"page_FileManagement"}]},{title:"Job Board Management",icon:kn,featureId:"page_JobBoardAdmin",subItems:[{title:"Job Postings",url:Ee("JobPostingManagement"),featureId:"page_JobPostingManagement"},{title:"Settings",url:Ee("JobBoardSettings"),featureId:"page_JobBoardSettings"}]},{title:"Page Builder",icon:uf,featureId:"page_PageBuilder",subItems:[{title:"Pages",url:Ee("IEditPageManagement"),featureId:"page_IEditPageManagement"},{title:"Element Templates",url:Ee("IEditTemplateManagement"),featureId:"page_IEditTemplateManagement"},{title:"Page Banners",url:Ee("PageBannerManagement"),featureId:"page_PageBannerManagement"},{title:"Navigation Items",url:Ee("NavigationManagement"),featureId:"page_NavigationManagement"},{title:"Buttons",url:Ee("ButtonElements"),featureId:"page_ButtonElements"},{title:"Button Styles",url:Ee("ButtonStyleManagement"),featureId:"page_ButtonStyleManagement"},{title:"Wall of Fame",url:Ee("WallOfFameManagement"),featureId:"page_WallOfFameManagement"},{title:"Installed Fonts",url:Ee("InstalledFonts"),featureId:"page_InstalledFonts"}]},{title:"Forms",icon:ts,featureId:"page_FormsAdmin",subItems:[{title:"Form Management",url:Ee("FormManagement"),featureId:"page_FormManagement"},{title:"View Submissions",url:Ee("FormSubmissions"),featureId:"page_FormSubmissions"}]},{title:"Floater Management",url:Ee("FloaterManagement"),icon:hf,featureId:"page_FloaterManagement"},{title:"Team Invite Settings",url:Ee("TeamInviteSettings"),icon:Ts,featureId:"page_TeamInviteSettings"},{title:"Data Export",url:Ee("DataExport"),icon:Qn,featureId:"page_DataExport"},{title:"Site Map",url:Ee("SiteMap"),icon:ts,featureId:"page_SiteMap"},{title:"Support Management",url:Ee("SupportManagement"),icon:zc,featureId:"page_SupportManagement"},{title:"Portal Navigation",url:Ee("PortalNavigationManagement"),icon:El,featureId:"page_PortalNavigationManagement"},{title:"Tour Management",url:Ee("TourManagement"),icon:ea,featureId:"page_TourManagement"}];function kte({children:t,currentPageName:s}){const n=Yi(),[r,a]=b.useState(()=>{const U=sessionStorage.getItem("agcas_member");return U?JSON.parse(U):null}),[i,l]=b.useState(()=>{const U=sessionStorage.getItem("agcas_organization");return U?JSON.parse(U):null}),o=Ie.useRef(null),c=Ie.useRef(null),u=Ie.useRef(null),{data:d}=me({queryKey:["borderRadiusSetting"],queryFn:async()=>{const B=(await K.entities.SystemSettings.list()).find($=>$.setting_key==="global_border_radius");return(B==null?void 0:B.setting_value)||"8px"},staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:m}=me({queryKey:["memberRecord",r==null?void 0:r.email],queryFn:async()=>(await K.entities.Member.list()).find(B=>B.email===(r==null?void 0:r.email)),enabled:!!(r!=null&&r.email),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:h}=me({queryKey:["memberRole",r==null?void 0:r.role_id],queryFn:async()=>r!=null&&r.role_id?(await K.entities.Role.list()).find(B=>B.id===r.role_id):null,enabled:!!(r!=null&&r.role_id),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}),{data:p=[]}=me({queryKey:["portal-menu"],queryFn:()=>K.entities.PortalMenu.list("display_order"),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}),g=["Home","AdminSetup","VerifyMagicLink","TestLogin","UnpackedInternationalEmployability","PublicEvents","PublicAbout","PublicContact","PublicResources","PublicArticles","PublicNews","JobBoard","JobDetails","JobPostSuccess","sharon","content"],y=["PostJob","ArticleView","NewsView","icontent","ViewPage","OrganisationDirectory"],v=["RoleManagement","MemberRoleAssignment","TeamMemberManagement","DiscountCodeManagement","EventSettings","TicketSalesAnalytics","ResourceSettings","ResourceManagement","TagManagement","ResourceAuthorSettings","TourManagement","FileManagement","JobPostingManagement","JobBoardSettings","IEditPageManagement","IEditTemplateManagement","PageBannerManagement","NavigationManagement","MemberHandleManagement","ButtonElements","ButtonStyleManagement","AwardManagement","WallOfFameManagement","TeamInviteSettings","FormManagement","FormSubmissions","FloaterManagement","MemberDirectorySettings","SupportManagement"],j=["Home","AdminSetup","VerifyMagicLink","TestLogin"],w=()=>(h==null?void 0:h.is_admin)===!0,N=U=>{if(!r||!U)return!1;const B=(h==null?void 0:h.excluded_features)||[],$=r.member_excluded_features||[];return[...new Set([...B,...$])].includes(U)},_=()=>{const U=`page_${s}`;return N(U)},T=()=>v.includes(s),A=()=>{const U=sessionStorage.getItem("agcas_member");if(U){const B=JSON.parse(U);a(B),console.log("[Layout] memberInfo reloaded from sessionStorage:",B)}},P=async U=>{if(i)return;const B=sessionStorage.getItem("agcas_organization");if(B){l(JSON.parse(B));return}try{const $=await K.entities.Organization.list();let L=$.find(I=>I.id===U);L||(L=$.find(I=>I.zoho_account_id===U)),L&&(sessionStorage.setItem("agcas_organization",JSON.stringify(L)),l(L))}catch($){console.error("Error fetching organization:",$)}},C=()=>g.includes(s)?!0:y.includes(s)?!sessionStorage.getItem("agcas_member"):!1;b.useEffect(()=>{if(g.includes(s)||y.includes(s)&&!sessionStorage.getItem("agcas_member"))return;const U=sessionStorage.getItem("agcas_member");if(!U){window.location.href=Ee("Home");return}const B=JSON.parse(U);if(B.sessionExpiry&&new Date(B.sessionExpiry)<new Date){sessionStorage.removeItem("agcas_member"),window.location.href=Ee("Home");return}(!r||JSON.stringify(r)!==JSON.stringify(B))&&a(B),B.organization_id&&!B.is_team_member&&P(B.organization_id)},[]),b.useEffect(()=>{(async()=>{if(!(r!=null&&r.email)||C())return;const B=Date.now(),$=600*1e3;if(!(u.current&&B-u.current<$))try{const I=(await K.entities.Member.list()).find(W=>W.email===r.email);I&&(await K.entities.Member.update(I.id,{last_activity:new Date().toISOString()}),u.current=B)}catch(L){console.error("Error updating last_activity:",L)}})()},[n.pathname,r==null?void 0:r.email]),b.useEffect(()=>{if(!C()&&r&&h){if(_()){window.location.href=Ee("Events");return}T()&&!w()&&(window.location.href=Ee("Events"))}},[s,r,h]),Ie.useEffect(()=>{const U=c.current;if(U){const B=()=>{sessionStorage.setItem("agcas_sidebar_scroll",U.scrollTop.toString())};return U.addEventListener("scroll",B),()=>{U.removeEventListener("scroll",B)}}},[]),Ie.useEffect(()=>{const U=c.current;if(U){const B=sessionStorage.getItem("agcas_sidebar_scroll");B&&setTimeout(()=>{U.scrollTop=parseFloat(B)},0)}}),b.useEffect(()=>{o.current&&o.current.scrollTo(0,0)},[n.pathname]);const R=()=>{sessionStorage.removeItem("agcas_member"),sessionStorage.removeItem("agcas_organization"),window.location.href=Ee("Home")};if(C())return j.includes(s)?e.jsx(Nte,{children:t}):e.jsx(ba,{currentPageName:s,children:t});const M={Menu:El,Calendar:js,CreditCard:$c,Ticket:Ds,Wallet:Eo,ShoppingCart:Vc,History:Wg,Sparkles:ea,FileText:ts,Briefcase:kn,Settings:Ua,BookOpen:Ug,Building:Ro,HelpCircle:zc,Users:bs,Shield:Ln,BarChart3:Eu,FileEdit:uf,AtSign:of,FolderTree:Ec,Trophy:Fn,MousePointer2:hf,Mail:Ts,Download:Qn},k=U=>{const B=p.filter(L=>L.is_active&&L.section===U);return B.filter(L=>!L.parent_id).sort((L,I)=>L.display_order-I.display_order).map(L=>{const I=B.filter(q=>q.parent_id===L.id),W=M[L.icon]||El;return I.length>0?{title:L.title,icon:W,featureId:L.feature_id,subItems:I.sort((q,Z)=>q.display_order-Z.display_order).map(q=>({title:q.title,url:q.url?Ee(q.url):"",featureId:q.feature_id}))}:{title:L.title,url:L.url?Ee(L.url):"",icon:W,featureId:L.feature_id}})},E=p.length>0?k("user"):Ste,O=p.length>0?k("admin"):Cte,F=E.map(U=>{if(U.subItems){const B=U.subItems.filter($=>!N($.featureId));return B.length>0&&!N(U.featureId)?{...U,subItems:B}:null}else return N(U.featureId)?null:U}).filter(Boolean),z=w()?O.map(U=>{if(U.subItems){const B=U.subItems.filter($=>!N($.featureId));return B.length>0&&!N(U.featureId)?{...U,subItems:B}:null}else return N(U.featureId)?null:U}).filter(Boolean):[],V=Ie.Children.map(t,U=>Ie.isValidElement(U)?Ie.cloneElement(U,{memberInfo:r,organizationInfo:i,memberRole:h,isAdmin:w(),refreshOrganizationInfo:()=>{r&&!r.is_team_member&&P(r.organization_id)},isFeatureExcluded:N,reloadMemberInfo:A}):U);return e.jsxs("div",{style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

          @font-face {
            font-family: 'Degular Medium';
            src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: block;
          }

          :root {
            --border-radius: ${d||"8px"};
          }

          /* Degular Medium for H1 headers */
          h1 {
            font-family: 'Degular Medium', 'Poppins', sans-serif;
          }
          
          /* Apply border radius globally to common UI elements */
          .Card, [class*="Card"], 
          .card, [class*="card"],
          button:not(.unstyled),
          input:not([type="checkbox"]):not([type="radio"]),
          textarea,
          select,
          [role="dialog"],
          [role="menu"],
          [role="listbox"],
          .shadow, .shadow-sm, .shadow-md, .shadow-lg {
            border-radius: var(--border-radius) !important;
          }
        `}),e.jsxs(S3,{style:{height:"100vh",overflow:"hidden"},children:[e.jsxs(C3,{className:"border-r border-slate-200 bg-white",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(k3,{className:"border-b border-slate-200 p-6",children:e.jsxs(Wt,{to:Ee("Events"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-md border border-slate-200 overflow-hidden",children:m!=null&&m.profile_photo_url?e.jsx("img",{src:m.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Js,{className:"w-6 h-6 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-slate-900",children:"AGCAS Events"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Member Portal"})]})]})}),e.jsx(P3,{ref:c,className:"p-3",children:h?e.jsxs(e.Fragment,{children:[r&&!r.is_team_member&&i&&e.jsxs(Ax,{children:[e.jsx(Mx,{className:"text-xs font-medium text-slate-500 uppercase tracking-wider px-3 py-2",children:"Your Account"}),e.jsx(Dx,{children:e.jsxs("div",{className:"px-3 py-2 space-y-3",children:[i.name&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600 block mb-1",children:"Organisation"}),e.jsx("span",{className:"font-medium text-slate-900",children:i.name})]}),i.voucher_balance>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Vouchers"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:["",i.voucher_balance]})]})]})})]}),e.jsxs(Ax,{className:r&&!r.is_team_member&&i?"mt-4":"",children:[e.jsx(Mx,{className:"text-xs font-medium text-slate-500 uppercase tracking-wider px-3 py-2",children:"Navigation"}),e.jsx(Dx,{children:e.jsx(bN,{children:F.map(U=>{const B=U.icon,$=U.url===n.pathname||U.subItems&&U.subItems.some(L=>L.url===n.pathname);return U.subItems?e.jsxs(NN,{defaultOpen:$,children:[e.jsx(Zh,{children:e.jsx(_N,{asChild:!0,children:e.jsxs(em,{className:`hover:bg-blue-50 hover:text-blue-700 transition-colors rounded-lg mb-1 flex items-center gap-3 px-3 py-2.5 group ${$?"bg-blue-50 text-blue-700 font-medium":""}`,children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1",children:U.title}),e.jsx(ys,{className:"w-4 h-4 transition-transform group-data-[state=open]:rotate-90"})]})})}),e.jsx(SN,{children:e.jsx(jN,{children:U.subItems.map(L=>{const I=L.url===n.pathname;return e.jsx(wN,{children:e.jsx(Wt,{to:L.url,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm ${I?"bg-blue-50 text-blue-700 font-medium":"hover:bg-blue-50 hover:text-blue-700"}`,children:e.jsx("span",{children:L.title})})},L.title)})})})]},U.title):e.jsx(Zh,{id:U.title==="Buy Tickets"?"buy-tickets-menu-item":void 0,children:e.jsx(em,{asChild:!0,className:`hover:bg-blue-50 hover:text-blue-700 transition-colors rounded-lg mb-1 ${$?"bg-blue-50 text-blue-700 font-medium":""}`,children:e.jsxs(Wt,{to:U.url,className:"flex items-center gap-3 px-3 py-2.5",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:U.title})]})})},U.title)})})})]}),z.length>0&&e.jsxs(Ax,{className:"mt-4",children:[e.jsx(Mx,{className:"text-xs font-medium text-amber-600 uppercase tracking-wider px-3 py-2",children:"Administration"}),e.jsx(Dx,{children:e.jsx(bN,{children:z.map(U=>{const B=U.icon,$=U.url===n.pathname||U.subItems&&U.subItems.some(L=>L.url===n.pathname);return U.subItems?e.jsxs(NN,{defaultOpen:$,children:[e.jsx(Zh,{children:e.jsx(_N,{asChild:!0,children:e.jsxs(em,{className:`hover:bg-amber-50 hover:text-amber-700 transition-colors rounded-lg mb-1 flex items-center gap-3 px-3 py-2.5 group ${$?"bg-amber-50 text-amber-700 font-medium":""}`,children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1",children:U.title}),e.jsx(ys,{className:"w-4 h-4 transition-transform group-data-[state=open]:rotate-90"})]})})}),e.jsx(SN,{children:e.jsx(jN,{children:U.subItems.map(L=>{const I=L.url===n.pathname;return e.jsx(wN,{children:e.jsx(Wt,{to:L.url,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm ${I?"bg-amber-50 text-amber-700 font-medium":"hover:bg-amber-50 hover:text-amber-700"}`,children:e.jsx("span",{children:L.title})})},L.title)})})})]},U.title):e.jsx(Zh,{children:e.jsx(em,{asChild:!0,className:`hover:bg-amber-50 hover:text-amber-700 transition-colors rounded-lg mb-1 ${$?"bg-amber-50 text-amber-700 font-medium":""}`,children:e.jsxs(Wt,{to:U.url,className:"flex items-center gap-3 px-3 py-2.5",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:U.title})]})})},U.title)})})})]})]}):e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-blue-600 rounded-full animate-spin"})})}),e.jsx(E3,{className:"border-t border-slate-200 p-4",children:r&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"px-3 py-2 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Js,{className:"w-4 h-4 text-slate-500"}),e.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[r.first_name," ",r.last_name]})]}),e.jsx("p",{className:"text-xs text-slate-500 pl-6",children:r.email}),h&&e.jsx("div",{className:"pl-6 mt-2",children:e.jsx(ve,{className:"bg-blue-100 text-blue-700 text-xs",children:h.name})})]}),e.jsxs(X,{variant:"ghost",className:"w-full justify-start text-slate-600 hover:text-slate-900 hover:bg-slate-50",onClick:R,children:[e.jsx(G6,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen max-h-screen overflow-hidden",children:[!N("element_NewsTickerBar")&&e.jsx(_te,{}),e.jsx("main",{ref:o,className:"flex-1 overflow-y-auto overflow-x-hidden",children:V}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-3 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[50px] mx-auto"})}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#eb008c"},children:"isaasi"})," ","-  Copyright ",new Date().getFullYear()===2025?"2025":`2025-${new Date().getFullYear()}`]})]})})]}),!N("element_FloatersDisplay")&&e.jsx(QO,{location:"portal",memberInfo:r,organizationInfo:i})]},"main-sidebar-provider")]})}const le=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("rounded-xl border bg-card text-card-foreground shadow",t),...s}));le.displayName="Card";const Re=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",t),...s}));Re.displayName="CardHeader";const $e=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("font-semibold leading-none tracking-tight",t),...s}));$e.displayName="CardTitle";const Cs=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("text-sm text-muted-foreground",t),...s}));Cs.displayName="CardDescription";const ce=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("p-6 pt-0",t),...s}));ce.displayName="CardContent";const Ete=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",t),...s}));Ete.displayName="CardFooter";var b0="Tabs",[Pte]=pr(b0,[qu]),JO=qu(),[Tte,O1]=Pte(b0),XO=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...u}=t,d=bf(o),[m,h]=Va({prop:r,onChange:a,defaultProp:i??"",caller:b0});return e.jsx(Tte,{scope:n,baseId:$n(),value:m,onValueChange:h,orientation:l,dir:d,activationMode:c,children:e.jsx($t.div,{dir:d,"data-orientation":l,...u,ref:s})})});XO.displayName=b0;var ZO="TabsList",eR=b.forwardRef((t,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=t,i=O1(ZO,n),l=JO(n);return e.jsx(T1,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx($t.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});eR.displayName=ZO;var tR="TabsTrigger",sR=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=t,l=O1(tR,n),o=JO(n),c=aR(l.baseId,r),u=iR(l.baseId,r),d=r===l.value;return e.jsx(A1,{asChild:!0,...o,focusable:!a,active:d,children:e.jsx($t.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:jt(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:jt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:jt(t.onFocus,()=>{const m=l.activationMode!=="manual";!d&&!a&&m&&l.onValueChange(r)})})})});sR.displayName=tR;var nR="TabsContent",rR=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...l}=t,o=O1(nR,n),c=aR(o.baseId,r),u=iR(o.baseId,r),d=r===o.value,m=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(xr,{present:a||d,children:({present:h})=>e.jsx($t.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});rR.displayName=nR;function aR(t,s){return`${t}-trigger-${s}`}function iR(t,s){return`${t}-content-${s}`}var Ate=XO,lR=eR,oR=sR,cR=rR;const j0=Ate,wf=b.forwardRef(({className:t,...s},n)=>e.jsx(lR,{ref:n,className:tt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));wf.displayName=lR.displayName;const ur=b.forwardRef(({className:t,...s},n)=>e.jsx(oR,{ref:n,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));ur.displayName=oR.displayName;const jo=b.forwardRef(({className:t,...s},n)=>e.jsx(cR,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));jo.displayName=cR.displayName;function ss(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function ta(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function cr(t,s){const n=ss(t);return isNaN(s)?ta(t,NaN):(s&&n.setDate(n.getDate()+s),n)}function hi(t,s){const n=ss(t);if(isNaN(s))return ta(t,NaN);if(!s)return n;const r=n.getDate(),a=ta(t,n.getTime());a.setMonth(n.getMonth()+s+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const R1=6048e5,Mte=864e5,Dte=6e4,rx=43200,zE=1440;let Ote={};function $u(){return Ote}function Wi(t,s){var o,c,u,d;const n=$u(),r=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ss(t),i=a.getDay(),l=(i<r?7:0)+i-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Oc(t){return Wi(t,{weekStartsOn:1})}function dR(t){const s=ss(t),n=s.getFullYear(),r=ta(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Oc(r),i=ta(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Oc(i);return s.getTime()>=a.getTime()?n+1:s.getTime()>=l.getTime()?n:n-1}function fu(t){const s=ss(t);return s.setHours(0,0,0,0),s}function pu(t){const s=ss(t),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+t-+n}function ai(t,s){const n=fu(t),r=fu(s),a=+n-pu(n),i=+r-pu(r);return Math.round((a-i)/Mte)}function Rte(t){const s=dR(t),n=ta(t,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Oc(n)}function UN(t,s){const n=s*7;return cr(t,n)}function Fte(t,s){return hi(t,s*12)}function Lte(t){let s;return t.forEach(function(n){const r=ss(n);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function Ite(t){let s;return t.forEach(n=>{const r=ss(n);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function Rx(t,s){const n=ss(t),r=ss(s),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function Bte(t){return ta(t,Date.now())}function Kr(t,s){const n=fu(t),r=fu(s);return+n==+r}function F1(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qte(t){if(!F1(t)&&typeof t!="number")return!1;const s=ss(t);return!isNaN(Number(s))}function xu(t,s){const n=ss(t),r=ss(s),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function zte(t,s,n){const r=Wi(t,n),a=Wi(s,n),i=+r-pu(r),l=+a-pu(a);return Math.round((i-l)/R1)}function Al(t,s){const n=ss(t),r=ss(s),a=$E(n,r),i=Math.abs(ai(n,r));n.setDate(n.getDate()-a*i);const l=+($E(n,r)===-a),o=a*(i-l);return o===0?0:o}function $E(t,s){const n=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return n<0?-1:n>0?1:n}function uR(t){return s=>{const n=Math.trunc,r=n(s);return r===0?0:r}}function hR(t,s){return+ss(t)-+ss(s)}function $te(t,s,n){const r=hR(t,s)/Dte;return uR()(r)}function Ute(t){const s=ss(t);return s.setHours(23,59,59,999),s}function w0(t){const s=ss(t),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function Vte(t){const s=ss(t);return+Ute(s)==+w0(s)}function Wte(t,s){const n=ss(t),r=ss(s),a=Rx(n,r),i=Math.abs(xu(n,r));let l;if(i<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let o=Rx(n,r)===-a;Vte(ss(t))&&i===1&&Rx(t,r)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function Hte(t,s,n){const r=hR(t,s)/1e3;return uR()(r)}function Xr(t){const s=ss(t);return s.setDate(1),s.setHours(0,0,0,0),s}function mR(t){const s=ss(t),n=ta(t,0);return n.setFullYear(s.getFullYear(),0,1),n.setHours(0,0,0,0),n}function L1(t,s){var o,c,u,d;const n=$u(),r=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ss(t),i=a.getDay(),l=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function fR(t){return L1(t,{weekStartsOn:1})}const Gte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kte=(t,s,n)=>{let r;const a=Gte[t];return typeof a=="string"?r=a:s===1?r=a.one:r=a.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function db(t){return(s={})=>{const n=s.width?String(s.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Yte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xte={date:db({formats:Yte,defaultWidth:"full"}),time:db({formats:Qte,defaultWidth:"full"}),dateTime:db({formats:Jte,defaultWidth:"full"})},Zte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ese=(t,s,n,r)=>Zte[t];function Ih(t){return(s,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):l;a=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return a[i]}}const tse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ase={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ise={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lse=(t,s)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ose={ordinalNumber:lse,era:Ih({values:tse,defaultWidth:"wide"}),quarter:Ih({values:sse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ih({values:nse,defaultWidth:"wide"}),day:Ih({values:rse,defaultWidth:"wide"}),dayPeriod:Ih({values:ase,defaultWidth:"wide",formattingValues:ise,defaultFormattingWidth:"wide"})};function Bh(t){return(s,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=s.match(a);if(!i)return null;const l=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?dse(o,m=>m.test(l)):cse(o,m=>m.test(l));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=s.slice(l.length);return{value:u,rest:d}}}function cse(t,s){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&s(t[n]))return n}function dse(t,s){for(let n=0;n<t.length;n++)if(s(t[n]))return n}function use(t){return(s,n={})=>{const r=s.match(t.matchPattern);if(!r)return null;const a=r[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const o=s.slice(a.length);return{value:l,rest:o}}}const hse=/^(\d+)(th|st|nd|rd)?/i,mse=/\d+/i,fse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pse={any:[/^b/i,/^(a|c)/i]},xse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gse={any:[/1/i,/2/i,/3/i,/4/i]},vse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_se={ordinalNumber:use({matchPattern:hse,parsePattern:mse,valueCallback:t=>parseInt(t,10)}),era:Bh({matchPatterns:fse,defaultMatchWidth:"wide",parsePatterns:pse,defaultParseWidth:"any"}),quarter:Bh({matchPatterns:xse,defaultMatchWidth:"wide",parsePatterns:gse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Bh({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:yse,defaultParseWidth:"any"}),day:Bh({matchPatterns:bse,defaultMatchWidth:"wide",parsePatterns:jse,defaultParseWidth:"any"}),dayPeriod:Bh({matchPatterns:wse,defaultMatchWidth:"any",parsePatterns:Nse,defaultParseWidth:"any"})},I1={code:"en-US",formatDistance:Kte,formatLong:Xte,formatRelative:ese,localize:ose,match:_se,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sse(t){const s=ss(t);return ai(s,mR(s))+1}function pR(t){const s=ss(t),n=+Oc(s)-+Rte(s);return Math.round(n/R1)+1}function xR(t,s){var d,m,h,p;const n=ss(t),r=n.getFullYear(),a=$u(),i=(s==null?void 0:s.firstWeekContainsDate)??((m=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=ta(t,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const o=Wi(l,s),c=ta(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Wi(c,s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Cse(t,s){var o,c,u,d;const n=$u(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=xR(t,s),i=ta(t,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Wi(i,s)}function gR(t,s){const n=ss(t),r=+Wi(n,s)-+Cse(n,s);return Math.round(r/R1)+1}function Hs(t,s){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return n+r}const co={y(t,s){const n=t.getFullYear(),r=n>0?n:1-n;return Hs(s==="yy"?r%100:r,s.length)},M(t,s){const n=t.getMonth();return s==="M"?String(n+1):Hs(n+1,2)},d(t,s){return Hs(t.getDate(),s.length)},a(t,s){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,s){return Hs(t.getHours()%12||12,s.length)},H(t,s){return Hs(t.getHours(),s.length)},m(t,s){return Hs(t.getMinutes(),s.length)},s(t,s){return Hs(t.getSeconds(),s.length)},S(t,s){const n=s.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Hs(a,s.length)}},Dd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UE={G:function(t,s,n){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,s,n){if(s==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return co.y(t,s)},Y:function(t,s,n,r){const a=xR(t,r),i=a>0?a:1-a;if(s==="YY"){const l=i%100;return Hs(l,2)}return s==="Yo"?n.ordinalNumber(i,{unit:"year"}):Hs(i,s.length)},R:function(t,s){const n=dR(t);return Hs(n,s.length)},u:function(t,s){const n=t.getFullYear();return Hs(n,s.length)},Q:function(t,s,n){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Hs(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,n){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Hs(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,n){const r=t.getMonth();switch(s){case"M":case"MM":return co.M(t,s);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,n){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Hs(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,n,r){const a=gR(t,r);return s==="wo"?n.ordinalNumber(a,{unit:"week"}):Hs(a,s.length)},I:function(t,s,n){const r=pR(t);return s==="Io"?n.ordinalNumber(r,{unit:"week"}):Hs(r,s.length)},d:function(t,s,n){return s==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):co.d(t,s)},D:function(t,s,n){const r=Sse(t);return s==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Hs(r,s.length)},E:function(t,s,n){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Hs(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,s,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Hs(i,s.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,s,n){const r=t.getDay(),a=r===0?7:r;switch(s){case"i":return String(a);case"ii":return Hs(a,s.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,n){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,s,n){const r=t.getHours();let a;switch(r===12?a=Dd.noon:r===0?a=Dd.midnight:a=r/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,s,n){const r=t.getHours();let a;switch(r>=17?a=Dd.evening:r>=12?a=Dd.afternoon:r>=4?a=Dd.morning:a=Dd.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,s,n){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return co.h(t,s)},H:function(t,s,n){return s==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):co.H(t,s)},K:function(t,s,n){const r=t.getHours()%12;return s==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Hs(r,s.length)},k:function(t,s,n){let r=t.getHours();return r===0&&(r=24),s==="ko"?n.ordinalNumber(r,{unit:"hour"}):Hs(r,s.length)},m:function(t,s,n){return s==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):co.m(t,s)},s:function(t,s,n){return s==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):co.s(t,s)},S:function(t,s){return co.S(t,s)},X:function(t,s,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return WE(r);case"XXXX":case"XX":return ic(r);case"XXXXX":case"XXX":default:return ic(r,":")}},x:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"x":return WE(r);case"xxxx":case"xx":return ic(r);case"xxxxx":case"xxx":default:return ic(r,":")}},O:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+VE(r,":");case"OOOO":default:return"GMT"+ic(r,":")}},z:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+VE(r,":");case"zzzz":default:return"GMT"+ic(r,":")}},t:function(t,s,n){const r=Math.trunc(t.getTime()/1e3);return Hs(r,s.length)},T:function(t,s,n){const r=t.getTime();return Hs(r,s.length)}};function VE(t,s=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+s+Hs(i,2)}function WE(t,s){return t%60===0?(t>0?"-":"+")+Hs(Math.abs(t)/60,2):ic(t,s)}function ic(t,s=""){const n=t>0?"-":"+",r=Math.abs(t),a=Hs(Math.trunc(r/60),2),i=Hs(r%60,2);return n+a+s+i}const HE=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},vR=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},kse=(t,s)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return HE(t,s);let i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",HE(r,s)).replace("{{time}}",vR(a,s))},Ese={p:vR,P:kse},Pse=/^D+$/,Tse=/^Y+$/,Ase=["D","DD","YY","YYYY"];function Mse(t){return Pse.test(t)}function Dse(t){return Tse.test(t)}function Ose(t,s,n){const r=Rse(t,s,n);if(console.warn(r),Ase.includes(t))throw new RangeError(r)}function Rse(t,s,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ise=/^'([^]*?)'?$/,Bse=/''/g,qse=/[a-zA-Z]/;function At(t,s,n){var d,m,h,p,g,y,v,j;const r=$u(),a=(n==null?void 0:n.locale)??r.locale??I1,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((j=(v=r.locale)==null?void 0:v.options)==null?void 0:j.weekStartsOn)??0,o=ss(t);if(!qte(o))throw new RangeError("Invalid time value");let c=s.match(Lse).map(w=>{const N=w[0];if(N==="p"||N==="P"){const _=Ese[N];return _(w,a.formatLong)}return w}).join("").match(Fse).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:zse(w)};if(UE[N])return{isToken:!0,value:w};if(N.match(qse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Dse(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mse(N))&&Ose(N,s,String(t));const _=UE[N[0]];return _(o,N,a.localize,u)}).join("")}function zse(t){const s=t.match(Ise);return s?s[1].replace(Bse,"'"):t}function $se(t,s,n){const r=$u(),a=(n==null?void 0:n.locale)??r.locale??I1,i=2520,l=Rx(t,s);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let c,u;l>0?(c=ss(s),u=ss(t)):(c=ss(t),u=ss(s));const d=Hte(u,c),m=(pu(u)-pu(c))/1e3,h=Math.round((d-m)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,o):d<10?a.formatDistance("lessThanXSeconds",10,o):d<20?a.formatDistance("lessThanXSeconds",20,o):d<40?a.formatDistance("halfAMinute",0,o):d<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):h===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",h,o);if(h<45)return a.formatDistance("xMinutes",h,o);if(h<90)return a.formatDistance("aboutXHours",1,o);if(h<zE){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,o)}else{if(h<i)return a.formatDistance("xDays",1,o);if(h<rx){const g=Math.round(h/zE);return a.formatDistance("xDays",g,o)}else if(h<rx*2)return p=Math.round(h/rx),a.formatDistance("aboutXMonths",p,o)}if(p=Wte(u,c),p<12){const g=Math.round(h/rx);return a.formatDistance("xMonths",g,o)}else{const g=p%12,y=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",y,o):g<9?a.formatDistance("overXYears",y,o):a.formatDistance("almostXYears",y+1,o)}}function yR(t,s){return $se(t,Bte(t),s)}function Use(t){const s=ss(t),n=s.getFullYear(),r=s.getMonth(),a=ta(t,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function Vse(t){return Math.trunc(+ss(t)/1e3)}function Wse(t){const s=ss(t),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(0,0,0,0),s}function Hse(t,s){return zte(Wse(t),Xr(t),s)+1}function VN(t,s){const n=ss(t),r=ss(s);return n.getTime()>r.getTime()}function dg(t,s){const n=ss(t),r=ss(s);return+n<+r}function B1(t,s){const n=ss(t),r=ss(s);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Gse(t,s){const n=ss(t),r=ss(s);return n.getFullYear()===r.getFullYear()}function ub(t,s){return cr(t,-s)}function hb(t,s){const n=ss(t),r=n.getFullYear(),a=n.getDate(),i=ta(t,0);i.setFullYear(r,s,15),i.setHours(0,0,0,0);const l=Use(i);return n.setMonth(s,Math.min(a,l)),n}function GE(t,s){const n=ss(t);return isNaN(+n)?ta(t,NaN):(n.setFullYear(s),n)}function Kse({event:t,organizationInfo:s,isFeatureExcluded:n}){const r=t.start_date?new Date(t.start_date):null,a=t.end_date?new Date(t.end_date):null,i=t.available_seats===0||t.available_seats===null,l=t.program_tag&&(s!=null&&s.program_ticket_balances)&&s.program_ticket_balances[t.program_tag]||0,o=l>0,c=t.program_tag&&!o;t.backstage_public_url;const u=!n||!n("element_AvailableSeatsDisplay");return e.jsxs(le,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 border-slate-200 bg-white",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.program_tag&&e.jsx(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:t.program_tag}),s&&t.program_tag&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[e.jsx(Ds,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"font-medium",children:l})]})]}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-xs font-medium text-amber-900",children:"Purchase tickets to attend"})})]})]}),t.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsxs(Re,{className:"pb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-slate-900 line-clamp-2",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mt-2",children:t.description})]}),e.jsxs(ce,{className:"space-y-3",children:[r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(js,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(r,"MMM d, yyyy")}),a&&r.getTime()!==a.getTime()&&e.jsxs("span",{className:"text-slate-400",children:["- ",At(a,"MMM d, yyyy")]})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(r,"h:mm a")})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:t.location})]}),u&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(bs,{className:"w-4 h-4 text-slate-400"}),i?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration"}):t.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[t.available_seats," seats available"]}):e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-100",children:c?e.jsxs(X,{className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",onClick:()=>window.location.href=Ee("BuyProgramTickets"),children:[e.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Buy Tickets"]}):e.jsx(X,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!i&&t.available_seats===0,onClick:()=>window.location.href=Ee("EventDetails")+"?id="+t.id,children:!i&&t.available_seats===0?"Sold Out":"Register"})})]})]})}function Yse({programs:t,selectedProgram:s,onProgramChange:n}){return e.jsxs("div",{className:"flex items-center gap-2 min-w-[200px]",children:[e.jsx(UH,{className:"w-4 h-4 text-slate-400"}),e.jsxs(He,{value:s,onValueChange:n,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Filter by program"})}),e.jsx(Ve,{children:t.map(r=>e.jsx(re,{value:r,children:r==="all"?"All Programs":r},r))})]})]})}const q1=b.createContext({});function z1(t){const s=b.useRef(null);return s.current===null&&(s.current=t()),s.current}const $1=typeof window<"u",bR=$1?b.useLayoutEffect:b.useEffect,N0=b.createContext(null);function U1(t,s){t.indexOf(s)===-1&&t.push(s)}function V1(t,s){const n=t.indexOf(s);n>-1&&t.splice(n,1)}const Ml=(t,s,n)=>n>s?s:n<t?t:n;let W1=()=>{};const Dl={},jR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wR(t){return typeof t=="object"&&t!==null}const NR=t=>/^0[^.\s]+$/u.test(t);function H1(t){let s;return()=>(s===void 0&&(s=t()),s)}const qa=t=>t,Qse=(t,s)=>n=>s(t(n)),Nf=(...t)=>t.reduce(Qse),Am=(t,s,n)=>{const r=s-t;return r===0?1:(n-t)/r};class G1{constructor(){this.subscriptions=[]}add(s){return U1(this.subscriptions,s),()=>V1(this.subscriptions,s)}notify(s,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,n,r);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(s,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=t=>t*1e3,Ia=t=>t/1e3;function _R(t,s){return s?t*(1e3/s):0}const SR=(t,s,n)=>(((1-3*n+3*s)*t+(3*n-6*s))*t+3*s)*t,Jse=1e-7,Xse=12;function Zse(t,s,n,r,a){let i,l,o=0;do l=s+(n-s)/2,i=SR(l,r,a)-t,i>0?n=l:s=l;while(Math.abs(i)>Jse&&++o<Xse);return l}function _f(t,s,n,r){if(t===s&&n===r)return qa;const a=i=>Zse(i,0,1,t,n);return i=>i===0||i===1?i:SR(a(i),s,r)}const CR=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,kR=t=>s=>1-t(1-s),ER=_f(.33,1.53,.69,.99),K1=kR(ER),PR=CR(K1),TR=t=>(t*=2)<1?.5*K1(t):.5*(2-Math.pow(2,-10*(t-1))),Y1=t=>1-Math.sin(Math.acos(t)),AR=kR(Y1),MR=CR(Y1),ene=_f(.42,0,1,1),tne=_f(0,0,.58,1),DR=_f(.42,0,.58,1),sne=t=>Array.isArray(t)&&typeof t[0]!="number",OR=t=>Array.isArray(t)&&typeof t[0]=="number",nne={linear:qa,easeIn:ene,easeInOut:DR,easeOut:tne,circIn:Y1,circInOut:MR,circOut:AR,backIn:K1,backInOut:PR,backOut:ER,anticipate:TR},rne=t=>typeof t=="string",KE=t=>{if(OR(t)){W1(t.length===4);const[s,n,r,a]=t;return _f(s,n,r,a)}else if(rne(t))return nne[t];return t},ax=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ane(t,s){let n=new Set,r=new Set,a=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){l.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,m=!1,h=!1)=>{const g=h&&a?n:r;return m&&l.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),l.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const ine=40;function RR(t,s){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,l=ax.reduce((N,_)=>(N[_]=ane(i),N),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:m,preRender:h,render:p,postRender:g}=l,y=()=>{const N=Dl.useManualTiming?a.timestamp:performance.now();n=!1,Dl.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,ine),1)),a.timestamp=N,a.isProcessing=!0,o.process(a),c.process(a),u.process(a),d.process(a),m.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,n&&s&&(r=!1,t(y))},v=()=>{n=!0,r=!0,a.isProcessing||t(y)};return{schedule:ax.reduce((N,_)=>{const T=l[_];return N[_]=(A,P=!1,C=!1)=>(n||v(),T.schedule(A,P,C)),N},{}),cancel:N=>{for(let _=0;_<ax.length;_++)l[ax[_]].cancel(N)},state:a,steps:l}}const{schedule:gn,cancel:Ao,state:sr,steps:mb}=RR(typeof requestAnimationFrame<"u"?requestAnimationFrame:qa,!0);let Fx;function lne(){Fx=void 0}const Yr={now:()=>(Fx===void 0&&Yr.set(sr.isProcessing||Dl.useManualTiming?sr.timestamp:performance.now()),Fx),set:t=>{Fx=t,queueMicrotask(lne)}},FR=t=>s=>typeof s=="string"&&s.startsWith(t),Q1=FR("--"),one=FR("var(--"),J1=t=>one(t)?cne.test(t.split("/*")[0].trim()):!1,cne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mm={...Uu,transform:t=>Ml(0,1,t)},ix={...Uu,default:1},cm=t=>Math.round(t*1e5)/1e5,X1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dne(t){return t==null}const une=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z1=(t,s)=>n=>!!(typeof n=="string"&&une.test(n)&&n.startsWith(t)||s&&!dne(n)&&Object.prototype.hasOwnProperty.call(n,s)),LR=(t,s,n)=>r=>{if(typeof r!="string")return r;const[a,i,l,o]=r.match(X1);return{[t]:parseFloat(a),[s]:parseFloat(i),[n]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},hne=t=>Ml(0,255,t),fb={...Uu,transform:t=>Math.round(hne(t))},mc={test:Z1("rgb","red"),parse:LR("red","green","blue"),transform:({red:t,green:s,blue:n,alpha:r=1})=>"rgba("+fb.transform(t)+", "+fb.transform(s)+", "+fb.transform(n)+", "+cm(Mm.transform(r))+")"};function mne(t){let s="",n="",r="",a="";return t.length>5?(s=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(s=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),s+=s,n+=n,r+=r,a+=a),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const WN={test:Z1("#"),parse:mne,transform:mc.transform},Sf=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),mo=Sf("deg"),$i=Sf("%"),Zt=Sf("px"),fne=Sf("vh"),pne=Sf("vw"),YE={...$i,parse:t=>$i.parse(t)/100,transform:t=>$i.transform(t*100)},qd={test:Z1("hsl","hue"),parse:LR("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$i.transform(cm(s))+", "+$i.transform(cm(n))+", "+cm(Mm.transform(r))+")"},Rn={test:t=>mc.test(t)||WN.test(t)||qd.test(t),parse:t=>mc.test(t)?mc.parse(t):qd.test(t)?qd.parse(t):WN.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mc.transform(t):qd.transform(t),getAnimatableNone:t=>{const s=Rn.parse(t);return s.alpha=0,Rn.transform(s)}},xne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gne(t){var s,n;return isNaN(t)&&typeof t=="string"&&(((s=t.match(X1))==null?void 0:s.length)||0)+(((n=t.match(xne))==null?void 0:n.length)||0)>0}const IR="number",BR="color",vne="var",yne="var(",QE="${}",bne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dm(t){const s=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const o=s.replace(bne,c=>(Rn.test(c)?(r.color.push(i),a.push(BR),n.push(Rn.parse(c))):c.startsWith(yne)?(r.var.push(i),a.push(vne),n.push(c)):(r.number.push(i),a.push(IR),n.push(parseFloat(c))),++i,QE)).split(QE);return{values:n,split:o,indexes:r,types:a}}function qR(t){return Dm(t).values}function zR(t){const{split:s,types:n}=Dm(t),r=s.length;return a=>{let i="";for(let l=0;l<r;l++)if(i+=s[l],a[l]!==void 0){const o=n[l];o===IR?i+=cm(a[l]):o===BR?i+=Rn.transform(a[l]):i+=a[l]}return i}}const jne=t=>typeof t=="number"?0:Rn.test(t)?Rn.getAnimatableNone(t):t;function wne(t){const s=qR(t);return zR(t)(s.map(jne))}const Mo={test:gne,parse:qR,createTransformer:zR,getAnimatableNone:wne};function pb(t,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(s-t)*6*n:n<1/2?s:n<2/3?t+(s-t)*(2/3-n)*6:t}function Nne({hue:t,saturation:s,lightness:n,alpha:r}){t/=360,s/=100,n/=100;let a=0,i=0,l=0;if(!s)a=i=l=n;else{const o=n<.5?n*(1+s):n+s-n*s,c=2*n-o;a=pb(c,o,t+1/3),i=pb(c,o,t),l=pb(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function ug(t,s){return n=>n>0?s:t}const wn=(t,s,n)=>t+(s-t)*n,xb=(t,s,n)=>{const r=t*t,a=n*(s*s-r)+r;return a<0?0:Math.sqrt(a)},_ne=[WN,mc,qd],Sne=t=>_ne.find(s=>s.test(t));function JE(t){const s=Sne(t);if(!s)return!1;let n=s.parse(t);return s===qd&&(n=Nne(n)),n}const XE=(t,s)=>{const n=JE(t),r=JE(s);if(!n||!r)return ug(t,s);const a={...n};return i=>(a.red=xb(n.red,r.red,i),a.green=xb(n.green,r.green,i),a.blue=xb(n.blue,r.blue,i),a.alpha=wn(n.alpha,r.alpha,i),mc.transform(a))},HN=new Set(["none","hidden"]);function Cne(t,s){return HN.has(t)?n=>n<=0?t:s:n=>n>=1?s:t}function kne(t,s){return n=>wn(t,s,n)}function e2(t){return typeof t=="number"?kne:typeof t=="string"?J1(t)?ug:Rn.test(t)?XE:Tne:Array.isArray(t)?$R:typeof t=="object"?Rn.test(t)?XE:Ene:ug}function $R(t,s){const n=[...t],r=n.length,a=t.map((i,l)=>e2(i)(i,s[l]));return i=>{for(let l=0;l<r;l++)n[l]=a[l](i);return n}}function Ene(t,s){const n={...t,...s},r={};for(const a in n)t[a]!==void 0&&s[a]!==void 0&&(r[a]=e2(t[a])(t[a],s[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Pne(t,s){const n=[],r={color:0,var:0,number:0};for(let a=0;a<s.values.length;a++){const i=s.types[a],l=t.indexes[i][r[i]],o=t.values[l]??0;n[a]=o,r[i]++}return n}const Tne=(t,s)=>{const n=Mo.createTransformer(s),r=Dm(t),a=Dm(s);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?HN.has(t)&&!a.values.length||HN.has(s)&&!r.values.length?Cne(t,s):Nf($R(Pne(r,a),a.values),n):ug(t,s)};function UR(t,s,n){return typeof t=="number"&&typeof s=="number"&&typeof n=="number"?wn(t,s,n):e2(t)(t,s)}const Ane=t=>{const s=({timestamp:n})=>t(n);return{start:(n=!0)=>gn.update(s,n),stop:()=>Ao(s),now:()=>sr.isProcessing?sr.timestamp:Yr.now()}},VR=(t,s,n=10)=>{let r="";const a=Math.max(Math.round(s/n),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},hg=2e4;function t2(t){let s=0;const n=50;let r=t.next(s);for(;!r.done&&s<hg;)s+=n,r=t.next(s);return s>=hg?1/0:s}function Mne(t,s=100,n){const r=n({...t,keyframes:[0,s]}),a=Math.min(t2(r),hg);return{type:"keyframes",ease:i=>r.next(a*i).value/s,duration:Ia(a)}}const Dne=5;function WR(t,s,n){const r=Math.max(s-Dne,0);return _R(n-t(r),s-r)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gb=.001;function One({duration:t=Cn.duration,bounce:s=Cn.bounce,velocity:n=Cn.velocity,mass:r=Cn.mass}){let a,i,l=1-s;l=Ml(Cn.minDamping,Cn.maxDamping,l),t=Ml(Cn.minDuration,Cn.maxDuration,Ia(t)),l<1?(a=u=>{const d=u*l,m=d*t,h=d-n,p=GN(u,l),g=Math.exp(-m);return gb-h/p*g},i=u=>{const m=u*l*t,h=m*n+n,p=Math.pow(l,2)*Math.pow(u,2)*t,g=Math.exp(-m),y=GN(Math.pow(u,2),l);return(-a(u)+gb>0?-1:1)*((h-p)*g)/y}):(a=u=>{const d=Math.exp(-u*t),m=(u-n)*t+1;return-gb+d*m},i=u=>{const d=Math.exp(-u*t),m=(n-u)*(t*t);return d*m});const o=5/t,c=Fne(a,i,o);if(t=zi(t),isNaN(c))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:l*2*Math.sqrt(r*u),duration:t}}}const Rne=12;function Fne(t,s,n){let r=n;for(let a=1;a<Rne;a++)r=r-t(r)/s(r);return r}function GN(t,s){return t*Math.sqrt(1-s*s)}const Lne=["duration","bounce"],Ine=["stiffness","damping","mass"];function ZE(t,s){return s.some(n=>t[n]!==void 0)}function Bne(t){let s={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...t};if(!ZE(t,Ine)&&ZE(t,Lne))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Ml(.05,1,1-(t.bounce||0))*Math.sqrt(a);s={...s,mass:Cn.mass,stiffness:a,damping:i}}else{const n=One(t);s={...s,...n,mass:Cn.mass},s.isResolvedFromDuration=!0}return s}function mg(t=Cn.visualDuration,s=Cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:m,velocity:h,isResolvedFromDuration:p}=Bne({...n,velocity:-Ia(n.velocity||0)}),g=h||0,y=u/(2*Math.sqrt(c*d)),v=l-i,j=Ia(Math.sqrt(c/d)),w=Math.abs(v)<5;r||(r=w?Cn.restSpeed.granular:Cn.restSpeed.default),a||(a=w?Cn.restDelta.granular:Cn.restDelta.default);let N;if(y<1){const T=GN(j,y);N=A=>{const P=Math.exp(-y*j*A);return l-P*((g+y*j*v)/T*Math.sin(T*A)+v*Math.cos(T*A))}}else if(y===1)N=T=>l-Math.exp(-j*T)*(v+(g+j*v)*T);else{const T=j*Math.sqrt(y*y-1);N=A=>{const P=Math.exp(-y*j*A),C=Math.min(T*A,300);return l-P*((g+y*j*v)*Math.sinh(C)+T*v*Math.cosh(C))/T}}const _={calculatedDuration:p&&m||null,next:T=>{const A=N(T);if(p)o.done=T>=m;else{let P=T===0?g:0;y<1&&(P=T===0?zi(g):WR(N,T,A));const C=Math.abs(P)<=r,R=Math.abs(l-A)<=a;o.done=C&&R}return o.value=o.done?l:A,o},toString:()=>{const T=Math.min(t2(_),hg),A=VR(P=>_.next(T*P).value,T,30);return T+"ms "+A},toTransition:()=>{}};return _}mg.applyToOptions=t=>{const s=Mne(t,100,mg);return t.ease=s.ease,t.duration=zi(s.duration),t.type="keyframes",t};function KN({keyframes:t,velocity:s=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:u=.5,restSpeed:d}){const m=t[0],h={done:!1,value:m},p=C=>o!==void 0&&C<o||c!==void 0&&C>c,g=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let y=n*s;const v=m+y,j=l===void 0?v:l(v);j!==v&&(y=j-m);const w=C=>-y*Math.exp(-C/r),N=C=>j+w(C),_=C=>{const R=w(C),M=N(C);h.done=Math.abs(R)<=u,h.value=h.done?j:M};let T,A;const P=C=>{p(h.value)&&(T=C,A=mg({keyframes:[h.value,g(h.value)],velocity:WR(N,C,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:C=>{let R=!1;return!A&&T===void 0&&(R=!0,_(C),P(C)),T!==void 0&&C>=T?A.next(C-T):(!R&&_(C),h)}}}function qne(t,s,n){const r=[],a=n||Dl.mix||UR,i=t.length-1;for(let l=0;l<i;l++){let o=a(t[l],t[l+1]);if(s){const c=Array.isArray(s)?s[l]||qa:s;o=Nf(c,o)}r.push(o)}return r}function zne(t,s,{clamp:n=!0,ease:r,mixer:a}={}){const i=t.length;if(W1(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=qne(s,r,a),c=o.length,u=d=>{if(l&&d<t[0])return s[0];let m=0;if(c>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const h=Am(t[m],t[m+1],d);return o[m](h)};return n?d=>u(Ml(t[0],t[i-1],d)):u}function $ne(t,s){const n=t[t.length-1];for(let r=1;r<=s;r++){const a=Am(0,s,r);t.push(wn(n,1,a))}}function Une(t){const s=[0];return $ne(s,t.length-1),s}function Vne(t,s){return t.map(n=>n*s)}function Wne(t,s){return t.map(()=>s||DR).splice(0,t.length-1)}function dm({duration:t=300,keyframes:s,times:n,ease:r="easeInOut"}){const a=sne(r)?r.map(KE):KE(r),i={done:!1,value:s[0]},l=Vne(n&&n.length===s.length?n:Une(s),t),o=zne(l,s,{ease:Array.isArray(a)?a:Wne(s,a)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const Hne=t=>t!==null;function s2(t,{repeat:s,repeatType:n="loop"},r,a=1){const i=t.filter(Hne),o=a<0||s&&n!=="loop"&&s%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Gne={decay:KN,inertia:KN,tween:dm,keyframes:dm,spring:mg};function HR(t){typeof t.type=="string"&&(t.type=Gne[t.type])}class n2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const Kne=t=>t/100;class r2 extends n2{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Yr.now()&&this.tick(Yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;HR(s);const{type:n=dm,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:l=0}=s;let{keyframes:o}=s;const c=n||dm;c!==dm&&typeof o[0]!="number"&&(this.mixKeyframes=Nf(Kne,UR(o[0],o[1])),o=[0,100]);const u=c({...s,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...o].reverse(),velocity:-l})),u.calculatedDuration===null&&(u.calculatedDuration=t2(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:m,repeatType:h,repeatDelay:p,type:g,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-a/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const j=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,_=r;if(m){const C=Math.min(this.currentTime,a)/o;let R=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(h==="reverse"?(M=1-M,p&&(M-=p/o)):h==="mirror"&&(_=l)),N=Ml(0,1,M)*o}const T=w?{done:!1,value:d[0]}:_.next(N);i&&(T.value=i(T.value));let{done:A}=T;!w&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return P&&g!==KN&&(T.value=s2(d,this.options,v,this.speed)),y&&y(T.value),P&&this.finish(),T}then(s,n){return this.finished.then(s,n)}get duration(){return Ia(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Ia(s)}get time(){return Ia(this.currentTime)}set time(s){var n;s=zi(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Yr.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=Ia(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:s=Ane,startTime:n}=this.options;this.driver||(this.driver=s(l=>this.tick(l))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(s=this.options).onComplete)==null||n.call(s)}cancel(){var s,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(s=this.options).onCancel)==null||n.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),s.observe(this)}}function Yne(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const fc=t=>t*180/Math.PI,YN=t=>{const s=fc(Math.atan2(t[1],t[0]));return QN(s)},Qne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:YN,rotateZ:YN,skewX:t=>fc(Math.atan(t[1])),skewY:t=>fc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QN=t=>(t=t%360,t<0&&(t+=360),t),eP=YN,tP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Jne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tP,scaleY:sP,scale:t=>(tP(t)+sP(t))/2,rotateX:t=>QN(fc(Math.atan2(t[6],t[5]))),rotateY:t=>QN(fc(Math.atan2(-t[2],t[0]))),rotateZ:eP,rotate:eP,skewX:t=>fc(Math.atan(t[4])),skewY:t=>fc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function JN(t){return t.includes("scale")?1:0}function XN(t,s){if(!t||t==="none")return JN(s);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Jne,a=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Qne,a=o}if(!a)return JN(s);const i=r[s],l=a[1].split(",").map(Zne);return typeof i=="function"?i(l):l[i]}const Xne=(t,s)=>{const{transform:n="none"}=getComputedStyle(t);return XN(n,s)};function Zne(t){return parseFloat(t.trim())}const Vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wu=new Set(Vu),nP=t=>t===Uu||t===Zt,ere=new Set(["x","y","z"]),tre=Vu.filter(t=>!ere.has(t));function sre(t){const s=[];return tre.forEach(n=>{const r=t.getValue(n);r!==void 0&&(s.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),s}const wc={width:({x:t},{paddingLeft:s="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),height:({y:t},{paddingTop:s="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>XN(s,"x"),y:(t,{transform:s})=>XN(s,"y")};wc.translateX=wc.x;wc.translateY=wc.y;const Nc=new Set;let ZN=!1,e_=!1,t_=!1;function GR(){if(e_){const t=Array.from(Nc).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),n=new Map;s.forEach(r=>{const a=sre(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,l])=>{var o;(o=r.getValue(i))==null||o.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}e_=!1,ZN=!1,Nc.forEach(t=>t.complete(t_)),Nc.clear()}function KR(){Nc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(e_=!0)})}function nre(){t_=!0,KR(),GR(),t_=!1}class a2{constructor(s,n,r,a,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Nc.add(this),ZN||(ZN=!0,gn.read(KR),gn.resolveKeyframes(GR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:r,motionValue:a}=this;if(s[0]===null){const i=a==null?void 0:a.get(),l=s[s.length-1];if(i!==void 0)s[0]=i;else if(r&&n){const o=r.readValue(n,l);o!=null&&(s[0]=o)}s[0]===void 0&&(s[0]=l),a&&i===void 0&&a.set(s[0])}Yne(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Nc.delete(this)}cancel(){this.state==="scheduled"&&(Nc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rre=t=>t.startsWith("--");function are(t,s,n){rre(s)?t.style.setProperty(s,n):t.style[s]=n}const ire=H1(()=>window.ScrollTimeline!==void 0),lre={};function ore(t,s){const n=H1(t);return()=>lre[s]??n()}const YR=ore(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nm=([t,s,n,r])=>`cubic-bezier(${t}, ${s}, ${n}, ${r})`,rP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nm([0,.65,.55,1]),circOut:nm([.55,0,1,.45]),backIn:nm([.31,.01,.66,-.59]),backOut:nm([.33,1.53,.69,.99])};function QR(t,s){if(t)return typeof t=="function"?YR()?VR(t,s):"ease-out":OR(t)?nm(t):Array.isArray(t)?t.map(n=>QR(n,s)||rP.easeOut):rP[t]}function cre(t,s,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[s]:n};c&&(d.offset=c);const m=QR(o,a);Array.isArray(m)&&(d.easing=m);const h={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(d,h)}function JR(t){return typeof t=="function"&&"applyToOptions"in t}function dre({type:t,...s}){return JR(t)&&YR()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class ure extends n2{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=s;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=s,W1(typeof s.type!="string");const u=dre(s);this.animation=cre(n,r,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=s2(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):are(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,n;(n=(s=this.animation).finish)==null||n.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n;this.isPseudoElement||(n=(s=this.animation).commitStyles)==null||n.call(s)}get duration(){var n,r;const s=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ia(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Ia(s)}get time(){return Ia(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=zi(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&ire()?(this.animation.timeline=s,qa):n(this)}}const XR={anticipate:TR,backInOut:PR,circInOut:MR};function hre(t){return t in XR}function mre(t){typeof t.ease=="string"&&hre(t.ease)&&(t.ease=XR[t.ease])}const aP=10;class fre extends ure{constructor(s){mre(s),HR(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...l}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const o=new r2({...l,autoplay:!1}),c=zi(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-aP).value,o.sample(c).value,aP),o.stop()}}const iP=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mo.test(t)||t==="0")&&!t.startsWith("url("));function pre(t){const s=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}function xre(t,s,n,r){const a=t[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=iP(a,s),o=iP(i,s);return!l||!o?!1:pre(t)||(n==="spring"||JR(n))&&r}function s_(t){t.duration=0,t.type="keyframes"}const gre=new Set(["opacity","clipPath","filter","transform"]),vre=H1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yre(t){var d;const{motionValue:s,name:n,repeatDelay:r,repeatType:a,damping:i,type:l}=t;if(!(((d=s==null?void 0:s.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return vre()&&n&&gre.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&i!==0&&l!=="inertia"}const bre=40;class jre extends n2{constructor({autoplay:s=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:u,element:d,...m}){var g;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Yr.now();const h={autoplay:s,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:l,name:c,motionValue:u,element:d,...m},p=(d==null?void 0:d.KeyframeResolver)||a2;this.keyframeResolver=new p(o,(y,v,j)=>this.onKeyframesResolved(y,v,h,!j),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(s,n,r,a){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Yr.now(),xre(s,i,l,o)||((Dl.instantAnimations||!c)&&(d==null||d(s2(s,r,n))),s[0]=s[s.length-1],s_(r),r.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>bre?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:s},p=!u&&yre(h)?new fre({...h,element:h.motionValue.owner.current}):new r2(h);p.finished.then(()=>this.notifyFinished()).catch(qa),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),nre()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const wre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nre(t){const s=wre.exec(t);if(!s)return[,];const[,n,r,a]=s;return[`--${n??r}`,a]}function ZR(t,s,n=1){const[r,a]=Nre(t);if(!r)return;const i=window.getComputedStyle(s).getPropertyValue(r);if(i){const l=i.trim();return jR(l)?parseFloat(l):l}return J1(a)?ZR(a,s,n+1):a}function i2(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const eF=new Set(["width","height","top","left","right","bottom",...Vu]),_re={test:t=>t==="auto",parse:t=>t},tF=t=>s=>s.test(t),sF=[Uu,Zt,$i,mo,pne,fne,_re],lP=t=>sF.find(tF(t));function Sre(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NR(t):!0}const Cre=new Set(["brightness","contrast","saturate","opacity"]);function kre(t){const[s,n]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=n.match(X1)||[];if(!r)return t;const a=n.replace(r,"");let i=Cre.has(s)?1:0;return r!==n&&(i*=100),s+"("+i+a+")"}const Ere=/\b([a-z-]*)\(.*?\)/gu,n_={...Mo,getAnimatableNone:t=>{const s=t.match(Ere);return s?s.map(kre).join(" "):t}},oP={...Uu,transform:Math.round},Pre={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:ix,scaleX:ix,scaleY:ix,scaleZ:ix,skew:mo,skewX:mo,skewY:mo,distance:Zt,translateX:Zt,translateY:Zt,translateZ:Zt,x:Zt,y:Zt,z:Zt,perspective:Zt,transformPerspective:Zt,opacity:Mm,originX:YE,originY:YE,originZ:Zt},l2={borderWidth:Zt,borderTopWidth:Zt,borderRightWidth:Zt,borderBottomWidth:Zt,borderLeftWidth:Zt,borderRadius:Zt,radius:Zt,borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomRightRadius:Zt,borderBottomLeftRadius:Zt,width:Zt,maxWidth:Zt,height:Zt,maxHeight:Zt,top:Zt,right:Zt,bottom:Zt,left:Zt,padding:Zt,paddingTop:Zt,paddingRight:Zt,paddingBottom:Zt,paddingLeft:Zt,margin:Zt,marginTop:Zt,marginRight:Zt,marginBottom:Zt,marginLeft:Zt,backgroundPositionX:Zt,backgroundPositionY:Zt,...Pre,zIndex:oP,fillOpacity:Mm,strokeOpacity:Mm,numOctaves:oP},Tre={...l2,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:n_,WebkitFilter:n_},nF=t=>Tre[t];function rF(t,s){let n=nF(t);return n!==n_&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const Are=new Set(["auto","none","0"]);function Mre(t,s,n){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!Are.has(i)&&Dm(i).values.length&&(a=t[r]),r++}if(a&&n)for(const i of s)t[i]=rF(n,a)}class Dre extends a2{constructor(s,n,r,a,i){super(s,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let u=s[c];if(typeof u=="string"&&(u=u.trim(),J1(u))){const d=ZR(u,n.current);d!==void 0&&(s[c]=d),c===s.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eF.has(r)||s.length!==2)return;const[a,i]=s,l=lP(a),o=lP(i);if(l!==o)if(nP(l)&&nP(o))for(let c=0;c<s.length;c++){const u=s[c];typeof u=="string"&&(s[c]=parseFloat(u))}else wc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,r=[];for(let a=0;a<s.length;a++)(s[a]===null||Sre(s[a]))&&r.push(a);r.length&&Mre(s,r,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wc[r](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&s.getValue(r,a).jump(a,!1)}measureEndState(){var o;const{element:s,name:n,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const a=s.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=wc[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Ore(t,s,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const aF=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function iF(t){return wR(t)&&"offsetHeight"in t}const cP=30,Rre=t=>!isNaN(parseFloat(t));class Fre{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=Yr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=Yr.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=Rre(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new G1);const r=this.events[s].add(n);return s==="change"?()=>{r(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>cP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cP);return _R(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,n;(s=this.dependents)==null||s.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,s){return new Fre(t,s)}const{schedule:o2}=RR(queueMicrotask,!1),si={x:!1,y:!1};function lF(){return si.x||si.y}function Lre(t){return t==="x"||t==="y"?si[t]?null:(si[t]=!0,()=>{si[t]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function oF(t,s){const n=Ore(t),r=new AbortController,a={passive:!0,...s,signal:r.signal};return[n,a,()=>r.abort()]}function dP(t){return!(t.pointerType==="touch"||lF())}function Ire(t,s,n={}){const[r,a,i]=oF(t,n),l=o=>{if(!dP(o))return;const{target:c}=o,u=s(c,o);if(typeof u!="function"||!c)return;const d=m=>{dP(m)&&(u(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return r.forEach(o=>{o.addEventListener("pointerenter",l,a)}),i}const cF=(t,s)=>s?t===s?!0:cF(t,s.parentElement):!1,c2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Bre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qre(t){return Bre.has(t.tagName)||t.tabIndex!==-1}const Lx=new WeakSet;function uP(t){return s=>{s.key==="Enter"&&t(s)}}function vb(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const zre=(t,s)=>{const n=t.currentTarget;if(!n)return;const r=uP(()=>{if(Lx.has(n))return;vb(n,"down");const a=uP(()=>{vb(n,"up")}),i=()=>vb(n,"cancel");n.addEventListener("keyup",a,s),n.addEventListener("blur",i,s)});n.addEventListener("keydown",r,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),s)};function hP(t){return c2(t)&&!lF()}function $re(t,s,n={}){const[r,a,i]=oF(t,n),l=o=>{const c=o.currentTarget;if(!hP(o))return;Lx.add(c);const u=s(c,o),d=(p,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),Lx.has(c)&&Lx.delete(c),hP(p)&&typeof u=="function"&&u(p,{success:g})},m=p=>{d(p,c===window||c===document||n.useGlobalTarget||cF(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,a),iF(o)&&(o.addEventListener("focus",u=>zre(u,a)),!qre(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function dF(t){return wR(t)&&"ownerSVGElement"in t}function Ure(t){return dF(t)&&t.tagName==="svg"}const hr=t=>!!(t&&t.getVelocity),Vre=[...sF,Rn,Mo],Wre=t=>Vre.find(tF(t)),d2=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mP(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Hre(...t){return s=>{let n=!1;const r=t.map(a=>{const i=mP(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():mP(t[a],null)}}}}function Gre(...t){return b.useCallback(Hre(...t),t)}class Kre extends b.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=iF(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Yre({children:t,isPresent:s,anchorX:n,root:r}){const a=b.useId(),i=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=b.useContext(d2),c=Gre(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:u,height:d,top:m,left:h,right:p}=l.current;if(s||!i.current||!u||!d)return;const g=n==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");o&&(y.nonce=o);const v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[s]),e.jsx(Kre,{isPresent:s,childRef:i,sizeRef:l,children:b.cloneElement(t,{ref:c})})}const Qre=({children:t,initial:s,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const u=z1(Jre),d=b.useId();let m=!0,h=b.useMemo(()=>(m=!1,{id:d,initial:s,isPresent:n,custom:a,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&m&&(h={...h}),b.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=e.jsx(Yre,{isPresent:n,anchorX:o,root:c,children:t})),e.jsx(N0.Provider,{value:h,children:t})};function Jre(){return new Map}function uF(t=!0){const s=b.useContext(N0);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=s,i=b.useId();b.useEffect(()=>{if(t)return a(i)},[t]);const l=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,l]:[!0]}const lx=t=>t.key||"";function fP(t){const s=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&s.push(n)}),s}const pP=({children:t,custom:s,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[u,d]=uF(l),m=b.useMemo(()=>fP(t),[t]),h=l&&!u?[]:m.map(lx),p=b.useRef(!0),g=b.useRef(m),y=z1(()=>new Map),[v,j]=b.useState(m),[w,N]=b.useState(m);bR(()=>{p.current=!1,g.current=m;for(let A=0;A<w.length;A++){const P=lx(w[A]);h.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[w,h.length,h.join("-")]);const _=[];if(m!==v){let A=[...m];for(let P=0;P<w.length;P++){const C=w[P],R=lx(C);h.includes(R)||(A.splice(P,0,C),_.push(C))}return i==="wait"&&_.length&&(A=_),N(fP(A)),j(m),null}const{forceRender:T}=b.useContext(q1);return e.jsx(e.Fragment,{children:w.map(A=>{const P=lx(A),C=l&&!u?!1:m===w||h.includes(P),R=()=>{if(y.has(P))y.set(P,!0);else return;let M=!0;y.forEach(k=>{k||(M=!1)}),M&&(T==null||T(),N(g.current),l&&(d==null||d()),r&&r())};return e.jsx(Qre,{isPresent:C,initial:!p.current||n?void 0:!1,custom:s,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:R,anchorX:o,children:A},P)})})},hF=b.createContext({strict:!1}),xP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vu={};for(const t in xP)vu[t]={isEnabled:s=>xP[t].some(n=>!!s[n])};function Xre(t){for(const s in t)vu[s]={...vu[s],...t[s]}}const Zre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Zre.has(t)}let mF=t=>!fg(t);function eae(t){typeof t=="function"&&(mF=s=>s.startsWith("on")?!fg(s):t(s))}try{eae(require("@emotion/is-prop-valid").default)}catch{}function tae(t,s,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(mF(a)||n===!0&&fg(a)||!s&&!fg(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const _0=b.createContext({});function S0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Om(t){return typeof t=="string"||Array.isArray(t)}const u2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h2=["initial",...u2];function C0(t){return S0(t.animate)||h2.some(s=>Om(t[s]))}function fF(t){return!!(C0(t)||t.variants)}function sae(t,s){if(C0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Om(n)?n:void 0,animate:Om(r)?r:void 0}}return t.inherit!==!1?s:{}}function nae(t){const{initial:s,animate:n}=sae(t,b.useContext(_0));return b.useMemo(()=>({initial:s,animate:n}),[gP(s),gP(n)])}function gP(t){return Array.isArray(t)?t.join(" "):t}const Rm={};function rae(t){for(const s in t)Rm[s]=t[s],Q1(s)&&(Rm[s].isCSSVariable=!0)}function pF(t,{layout:s,layoutId:n}){return Wu.has(t)||t.startsWith("origin")||(s||n!==void 0)&&(!!Rm[t]||t==="opacity")}const aae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iae=Vu.length;function lae(t,s,n){let r="",a=!0;for(let i=0;i<iae;i++){const l=Vu[i],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=aF(o,l2[l]);if(!c){a=!1;const d=aae[l]||l;r+=`${d}(${u}) `}n&&(s[l]=u)}}return r=r.trim(),n?r=n(s,a?"":r):a&&(r="none"),r}function m2(t,s,n){const{style:r,vars:a,transformOrigin:i}=t;let l=!1,o=!1;for(const c in s){const u=s[c];if(Wu.has(c)){l=!0;continue}else if(Q1(c)){a[c]=u;continue}else{const d=aF(u,l2[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(s.transform||(l||n?r.transform=lae(s,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const f2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xF(t,s,n){for(const r in s)!hr(s[r])&&!pF(r,n)&&(t[r]=s[r])}function oae({transformTemplate:t},s){return b.useMemo(()=>{const n=f2();return m2(n,s,t),Object.assign({},n.vars,n.style)},[s])}function cae(t,s){const n=t.style||{},r={};return xF(r,n,t),Object.assign(r,oae(t,s)),r}function dae(t,s){const n={},r=cae(t,s);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uae={offset:"stroke-dashoffset",array:"stroke-dasharray"},hae={offset:"strokeDashoffset",array:"strokeDasharray"};function mae(t,s,n=1,r=0,a=!0){t.pathLength=1;const i=a?uae:hae;t[i.offset]=Zt.transform(-r);const l=Zt.transform(s),o=Zt.transform(n);t[i.array]=`${l} ${o}`}function gF(t,{attrX:s,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:l=0,...o},c,u,d){if(m2(t,o,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:h}=t;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox),s!==void 0&&(m.x=s),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&mae(m,a,i,l,!1)}const vF=()=>({...f2(),attrs:{}}),yF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fae(t,s,n,r){const a=b.useMemo(()=>{const i=vF();return gF(i,s,yF(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};xF(i,t.style,t),a.style={...i,...a.style}}return a}const pae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p2(t){return typeof t!="string"||t.includes("-")?!1:!!(pae.indexOf(t)>-1||/[A-Z]/u.test(t))}function xae(t,s,n,{latestValues:r},a,i=!1){const o=(p2(t)?fae:dae)(s,r,a,t),c=tae(s,typeof t=="string",i),u=t!==b.Fragment?{...c,...o,ref:n}:{},{children:d}=s,m=b.useMemo(()=>hr(d)?d.get():d,[d]);return b.createElement(t,{...u,children:m})}function vP(t){const s=[{},{}];return t==null||t.values.forEach((n,r)=>{s[0][r]=n.get(),s[1][r]=n.getVelocity()}),s}function x2(t,s,n,r){if(typeof s=="function"){const[a,i]=vP(r);s=s(n!==void 0?n:t.custom,a,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[a,i]=vP(r);s=s(n!==void 0?n:t.custom,a,i)}return s}function Ix(t){return hr(t)?t.get():t}function gae({scrapeMotionValuesFromProps:t,createRenderState:s},n,r,a){return{latestValues:vae(n,r,a,t),renderState:s()}}function vae(t,s,n,r){const a={},i=r(t,{});for(const h in i)a[h]=Ix(i[h]);let{initial:l,animate:o}=t;const c=C0(t),u=fF(t);s&&u&&!c&&t.inherit!==!1&&(l===void 0&&(l=s.initial),o===void 0&&(o=s.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const m=d?o:l;if(m&&typeof m!="boolean"&&!S0(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const g=x2(t,h[p]);if(g){const{transitionEnd:y,transition:v,...j}=g;for(const w in j){let N=j[w];if(Array.isArray(N)){const _=d?N.length-1:0;N=N[_]}N!==null&&(a[w]=N)}for(const w in y)a[w]=y[w]}}}return a}const bF=t=>(s,n)=>{const r=b.useContext(_0),a=b.useContext(N0),i=()=>gae(t,s,r,a);return n?i():z1(i)};function g2(t,s,n){var i;const{style:r}=t,a={};for(const l in r)(hr(r[l])||s.style&&hr(s.style[l])||pF(l,t)||((i=n==null?void 0:n.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=r[l]);return a}const yae=bF({scrapeMotionValuesFromProps:g2,createRenderState:f2});function jF(t,s,n){const r=g2(t,s,n);for(const a in t)if(hr(t[a])||hr(s[a])){const i=Vu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const bae=bF({scrapeMotionValuesFromProps:jF,createRenderState:vF}),jae=Symbol.for("motionComponentSymbol");function zd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wae(t,s,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),n&&(typeof n=="function"?n(r):zd(n)&&(n.current=r))},[s])}const v2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nae="framerAppearId",wF="data-"+v2(Nae),NF=b.createContext({});function _ae(t,s,n,r,a){var y,v;const{visualElement:i}=b.useContext(_0),l=b.useContext(hF),o=b.useContext(N0),c=b.useContext(d2).reducedMotion,u=b.useRef(null);r=r||l.renderer,!u.current&&r&&(u.current=r(t,{visualState:s,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,m=b.useContext(NF);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Sae(u.current,n,a,m);const h=b.useRef(!1);b.useInsertionEffect(()=>{d&&h.current&&d.update(n,o)});const p=n[wF],g=b.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return bR(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function Sae(t,s,n,r){const{layoutId:a,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=s;t.projection=new n(t.latestValues,s["data-framer-portal-id"]?void 0:_F(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!l||o&&zd(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function _F(t){if(t)return t.options.allowProjection!==!1?t.projection:_F(t.parent)}function yb(t,{forwardMotionProps:s=!1}={},n,r){n&&Xre(n);const a=p2(t)?bae:yae;function i(o,c){let u;const d={...b.useContext(d2),...o,layoutId:Cae(o)},{isStatic:m}=d,h=nae(o),p=a(o,m);if(!m&&$1){kae();const g=Eae(d);u=g.MeasureLayout,h.visualElement=_ae(t,p,d,r,g.ProjectionNode)}return e.jsxs(_0.Provider,{value:h,children:[u&&h.visualElement?e.jsx(u,{visualElement:h.visualElement,...d}):null,xae(t,o,wae(p,h.visualElement,c),p,m,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(i);return l[jae]=t,l}function Cae({layoutId:t}){const s=b.useContext(q1).id;return s&&t!==void 0?s+"-"+t:t}function kae(t,s){b.useContext(hF).strict}function Eae(t){const{drag:s,layout:n}=vu;if(!s&&!n)return{};const r={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Pae(t,s){if(typeof Proxy>"u")return yb;const n=new Map,r=(i,l)=>yb(i,l,t,s),a=(i,l)=>r(i,l);return new Proxy(a,{get:(i,l)=>l==="create"?r:(n.has(l)||n.set(l,yb(l,void 0,t,s)),n.get(l))})}function SF({top:t,left:s,right:n,bottom:r}){return{x:{min:s,max:n},y:{min:t,max:r}}}function Tae({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Aae(t,s){if(!s)return t;const n=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bb(t){return t===void 0||t===1}function r_({scale:t,scaleX:s,scaleY:n}){return!bb(t)||!bb(s)||!bb(n)}function lc(t){return r_(t)||CF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CF(t){return yP(t.x)||yP(t.y)}function yP(t){return t&&t!=="0%"}function pg(t,s,n){const r=t-n,a=s*r;return n+a}function bP(t,s,n,r,a){return a!==void 0&&(t=pg(t,a,r)),pg(t,n,r)+s}function a_(t,s=0,n=1,r,a){t.min=bP(t.min,s,n,r,a),t.max=bP(t.max,s,n,r,a)}function kF(t,{x:s,y:n}){a_(t.x,s.translate,s.scale,s.originPoint),a_(t.y,n.translate,n.scale,n.originPoint)}const jP=.999999999999,wP=1.0000000000001;function Mae(t,s,n,r=!1){const a=n.length;if(!a)return;s.x=s.y=1;let i,l;for(let o=0;o<a;o++){i=n[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ud(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,kF(t,l)),r&&lc(i.latestValues)&&Ud(t,i.latestValues))}s.x<wP&&s.x>jP&&(s.x=1),s.y<wP&&s.y>jP&&(s.y=1)}function $d(t,s){t.min=t.min+s,t.max=t.max+s}function NP(t,s,n,r,a=.5){const i=wn(t.min,t.max,a);a_(t,s,n,i,r)}function Ud(t,s){NP(t.x,s.x,s.scaleX,s.scale,s.originX),NP(t.y,s.y,s.scaleY,s.scale,s.originY)}function EF(t,s){return SF(Aae(t.getBoundingClientRect(),s))}function Dae(t,s,n){const r=EF(t,n),{scroll:a}=s;return a&&($d(r.x,a.offset.x),$d(r.y,a.offset.y)),r}const _P=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vd=()=>({x:_P(),y:_P()}),SP=()=>({min:0,max:0}),Tn=()=>({x:SP(),y:SP()}),i_={current:null},PF={current:!1};function Oae(){if(PF.current=!0,!!$1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>i_.current=t.matches;t.addEventListener("change",s),s()}else i_.current=!1}const Rae=new WeakMap;function Fae(t,s,n){for(const r in s){const a=s[r],i=n[r];if(hr(a))t.addValue(r,a);else if(hr(i))t.addValue(r,gu(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,gu(l!==void 0?l:a,{owner:t}))}}for(const r in n)s[r]===void 0&&t.removeValue(r);return s}const CP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lae{scrapeMotionValuesFromProps(s,n,r){return{}}constructor({parent:s,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Yr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,gn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=s,this.props=n,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=C0(n),this.isVariantNode=fF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in m){const p=m[h];c[h]!==void 0&&hr(p)&&p.set(c[h])}}mount(s){var n;this.current=s,Rae.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),PF.current||Oae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i_.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var s;this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(s=this.parent)==null||s.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=Wu.has(s);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in vu){const n=vu[s];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[s]&&a&&r(this.props)&&(this.features[s]=new a(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CP.length;r++){const a=CP[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,l=s[i];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=Fae(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const r=this.values.get(s);n!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&n!==void 0&&(r=gu(n===null?void 0:n,{owner:this}),this.addValue(s,r)),r}readValue(s,n){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(jR(r)||NR(r))?r=parseFloat(r):!Wre(r)&&Mo.test(n)&&(r=rF(s,n)),this.setBaseTarget(s,hr(r)?r.get():r)),hr(r)?r.get():r}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=x2(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);l&&(r=l[s])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,s);return a!==void 0&&!hr(a)?a:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new G1),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}scheduleRenderMicrotask(){o2.render(this.render)}}class TF extends Lae{constructor(){super(...arguments),this.KeyframeResolver=Dre}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:r}){delete n[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;hr(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AF(t,{style:s,vars:n},r,a){const i=t.style;let l;for(l in s)i[l]=s[l];a==null||a.applyProjectionStyles(i,r);for(l in n)i.setProperty(l,n[l])}function Iae(t){return window.getComputedStyle(t)}class Bae extends TF{constructor(){super(...arguments),this.type="html",this.renderInstance=AF}readValueFromInstance(s,n){var r;if(Wu.has(n))return(r=this.projection)!=null&&r.isProjecting?JN(n):Xne(s,n);{const a=Iae(s),i=(Q1(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(s,{transformPagePoint:n}){return EF(s,n)}build(s,n,r){m2(s,n,r.transformTemplate)}scrapeMotionValuesFromProps(s,n,r){return g2(s,n,r)}}const MF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qae(t,s,n,r){AF(t,s,void 0,r);for(const a in s.attrs)t.setAttribute(MF.has(a)?a:v2(a),s.attrs[a])}class zae extends TF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(Wu.has(n)){const r=nF(n);return r&&r.default||0}return n=MF.has(n)?n:v2(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,r){return jF(s,n,r)}build(s,n,r){gF(s,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,n,r,a){qae(s,n,r,a)}mount(s){this.isSVGTag=yF(s.tagName),super.mount(s)}}const $ae=(t,s)=>p2(t)?new zae(s):new Bae(s,{allowProjection:t!==b.Fragment});function Kd(t,s,n){const r=t.getProps();return x2(r,s,n!==void 0?n:r.custom,t)}const l_=t=>Array.isArray(t);function Uae(t,s,n){t.hasValue(s)?t.getValue(s).set(n):t.addValue(s,gu(n))}function Vae(t){return l_(t)?t[t.length-1]||0:t}function Wae(t,s){const n=Kd(t,s);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const l in i){const o=Vae(i[l]);Uae(t,l,o)}}function Hae(t){return!!(hr(t)&&t.add)}function o_(t,s){const n=t.getValue("willChange");if(Hae(n))return n.add(s);if(!n&&Dl.WillChange){const r=new Dl.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function DF(t){return t.props[wF]}const Gae=t=>t!==null;function Kae(t,{repeat:s,repeatType:n="loop"},r){const a=t.filter(Gae),i=s&&n!=="loop"&&s%2===1?0:a.length-1;return a[i]}const Yae={type:"spring",stiffness:500,damping:25,restSpeed:10},Qae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Jae={type:"keyframes",duration:.8},Xae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zae=(t,{keyframes:s})=>s.length>2?Jae:Wu.has(t)?t.startsWith("scale")?Qae(s[1]):Yae:Xae;function eie({when:t,delay:s,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const y2=(t,s,n,r={},a,i)=>l=>{const o=i2(r,t)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-zi(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-u,onUpdate:h=>{s.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:i?void 0:a};eie(o)||Object.assign(d,Zae(t,d)),d.duration&&(d.duration=zi(d.duration)),d.repeatDelay&&(d.repeatDelay=zi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(s_(d),d.delay===0&&(m=!0)),(Dl.instantAnimations||Dl.skipAnimations)&&(m=!0,s_(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!i&&s.get()!==void 0){const h=Kae(d.keyframes,o);if(h!==void 0){gn.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new r2(d):new jre(d)};function tie({protectedKeys:t,needsAnimating:s},n){const r=t.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,r}function OF(t,s,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...o}=s;r&&(i=r);const c=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const d in o){const m=t.getValue(d,t.latestValues[d]??null),h=o[d];if(h===void 0||u&&tie(u,d))continue;const p={delay:n,...i2(i||{},d)},g=m.get();if(g!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const j=DF(t);if(j){const w=window.MotionHandoffAnimation(j,d,gn);w!==null&&(p.startTime=w,y=!0)}}o_(t,d),m.start(y2(d,m,h,t.shouldReduceMotion&&eF.has(d)?{type:!1}:p,t,y));const v=m.animation;v&&c.push(v)}return l&&Promise.all(c).then(()=>{gn.update(()=>{l&&Wae(t,l)})}),c}function RF(t,s,n,r=0,a=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(s),l=t.size,o=(l-1)*r;return typeof n=="function"?n(i,l):a===1?i*r:o-i*r}function c_(t,s,n={}){var c;const r=Kd(t,s,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(OF(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:h}=a;return sie(t,s,u,d,m,h,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,d]=o==="beforeChildren"?[i,l]:[l,i];return u().then(()=>d())}else return Promise.all([i(),l(n.delay)])}function sie(t,s,n=0,r=0,a=0,i=1,l){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",s),o.push(c_(c,s,{...l,delay:n+(typeof r=="function"?0:r)+RF(t.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",s)));return Promise.all(o)}function nie(t,s,n={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const a=s.map(i=>c_(t,i,n));r=Promise.all(a)}else if(typeof s=="string")r=c_(t,s,n);else{const a=typeof s=="function"?Kd(t,s,n.custom):s;r=Promise.all(OF(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",s)})}function FF(t,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(s[r]!==t[r])return!1;return!0}const rie=h2.length;function LF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const s={};for(let n=0;n<rie;n++){const r=h2[n],a=t.props[r];(Om(a)||a===!1)&&(s[r]=a)}return s}const aie=[...u2].reverse(),iie=u2.length;function lie(t){return s=>Promise.all(s.map(({animation:n,options:r})=>nie(t,n,r)))}function oie(t){let s=lie(t),n=kP(),r=!0;const a=c=>(u,d)=>{var h;const m=Kd(t,d,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:g,...y}=m;u={...u,...y,...g}}return u};function i(c){s=c(t)}function l(c){const{props:u}=t,d=LF(t.parent)||{},m=[],h=new Set;let p={},g=1/0;for(let v=0;v<iie;v++){const j=aie[v],w=n[j],N=u[j]!==void 0?u[j]:d[j],_=Om(N),T=j===c?w.isActive:null;T===!1&&(g=v);let A=N===d[j]&&N!==u[j]&&_;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&T===null||!N&&!w.prevProp||S0(N)||typeof N=="boolean")continue;const P=cie(w.prevProp,N);let C=P||j===c&&w.isActive&&!A&&_||v>g&&_,R=!1;const M=Array.isArray(N)?N:[N];let k=M.reduce(a(j),{});T===!1&&(k={});const{prevResolvedValues:E={}}=w,O={...E,...k},F=U=>{C=!0,h.has(U)&&(R=!0,h.delete(U)),w.needsAnimating[U]=!0;const B=t.getValue(U);B&&(B.liveStyle=!1)};for(const U in O){const B=k[U],$=E[U];if(p.hasOwnProperty(U))continue;let L=!1;l_(B)&&l_($)?L=!FF(B,$):L=B!==$,L?B!=null?F(U):h.add(U):B!==void 0&&h.has(U)?F(U):w.protectedKeys[U]=!0}w.prevProp=N,w.prevResolvedValues=k,w.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(C=!1);const z=A&&P;C&&(!z||R)&&m.push(...M.map(U=>{const B={type:j};if(typeof U=="string"&&r&&!z&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,L=Kd($,U);if($.enteringChildren&&L){const{delayChildren:I}=L.transition||{};B.delay=RF($.enteringChildren,t,I)}}return{animation:U,options:B}}))}if(h.size){const v={};if(typeof u.initial!="boolean"){const j=Kd(t,Array.isArray(u.initial)?u.initial[0]:u.initial);j&&j.transition&&(v.transition=j.transition)}h.forEach(j=>{const w=t.getBaseTarget(j),N=t.getValue(j);N&&(N.liveStyle=!0),v[j]=w??null}),m.push({animation:v})}let y=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?s(m):Promise.resolve()}function o(c,u){var m;if(n[c].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=l(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kP()}}}function cie(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!FF(s,t):!1}function nc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kP(){return{animate:nc(!0),whileInView:nc(),whileHover:nc(),whileTap:nc(),whileDrag:nc(),whileFocus:nc(),exit:nc()}}class Bo{constructor(s){this.isMounted=!1,this.node=s}update(){}}class die extends Bo{constructor(s){super(s),s.animationState||(s.animationState=oie(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();S0(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let uie=0;class hie extends Bo{constructor(){super(...arguments),this.id=uie++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const a=this.node.animationState.setActive("exit",!s);n&&!s&&a.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const mie={animation:{Feature:die},exit:{Feature:hie}};function Fm(t,s,n,r={passive:!0}){return t.addEventListener(s,n,r),()=>t.removeEventListener(s,n)}function Cf(t){return{point:{x:t.pageX,y:t.pageY}}}const fie=t=>s=>c2(s)&&t(s,Cf(s));function um(t,s,n,r){return Fm(t,s,fie(n),r)}const IF=1e-4,pie=1-IF,xie=1+IF,BF=.01,gie=0-BF,vie=0+BF;function Er(t){return t.max-t.min}function yie(t,s,n){return Math.abs(t-s)<=n}function EP(t,s,n,r=.5){t.origin=r,t.originPoint=wn(s.min,s.max,t.origin),t.scale=Er(n)/Er(s),t.translate=wn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pie&&t.scale<=xie||isNaN(t.scale))&&(t.scale=1),(t.translate>=gie&&t.translate<=vie||isNaN(t.translate))&&(t.translate=0)}function hm(t,s,n,r){EP(t.x,s.x,n.x,r?r.originX:void 0),EP(t.y,s.y,n.y,r?r.originY:void 0)}function PP(t,s,n){t.min=n.min+s.min,t.max=t.min+Er(s)}function bie(t,s,n){PP(t.x,s.x,n.x),PP(t.y,s.y,n.y)}function TP(t,s,n){t.min=s.min-n.min,t.max=t.min+Er(s)}function mm(t,s,n){TP(t.x,s.x,n.x),TP(t.y,s.y,n.y)}function Ma(t){return[t("x"),t("y")]}const qF=({current:t})=>t?t.ownerDocument.defaultView:null,AP=(t,s)=>Math.abs(t-s);function jie(t,s){const n=AP(t.x,s.x),r=AP(t.y,s.y);return Math.sqrt(n**2+r**2)}class zF{constructor(s,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=wb(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=jie(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=h,{timestamp:v}=sr;this.history.push({...y,timestamp:v});const{onStart:j,onMove:w}=this.handlers;p||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jb(p,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=wb(h.type==="pointercancel"?this.lastMoveEventInfo:jb(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,j),y&&y(h,j)},!c2(s))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=a||window;const o=Cf(s),c=jb(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=sr;this.history=[{...u,timestamp:d}];const{onSessionStart:m}=n;m&&m(s,wb(c,this.history)),this.removeListeners=Nf(um(this.contextWindow,"pointermove",this.handlePointerMove),um(this.contextWindow,"pointerup",this.handlePointerUp),um(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function jb(t,s){return s?{point:s(t.point)}:t}function MP(t,s){return{x:t.x-s.x,y:t.y-s.y}}function wb({point:t},s){return{point:t,delta:MP(t,$F(s)),offset:MP(t,wie(s)),velocity:Nie(s,.1)}}function wie(t){return t[0]}function $F(t){return t[t.length-1]}function Nie(t,s){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=$F(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>zi(s)));)n--;if(!r)return{x:0,y:0};const i=Ia(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function _ie(t,{min:s,max:n},r){return s!==void 0&&t<s?t=r?wn(s,t,r.min):Math.max(t,s):n!==void 0&&t>n&&(t=r?wn(n,t,r.max):Math.min(t,n)),t}function DP(t,s,n){return{min:s!==void 0?t.min+s:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Sie(t,{top:s,left:n,bottom:r,right:a}){return{x:DP(t.x,n,a),y:DP(t.y,s,r)}}function OP(t,s){let n=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Cie(t,s){return{x:OP(t.x,s.x),y:OP(t.y,s.y)}}function kie(t,s){let n=.5;const r=Er(t),a=Er(s);return a>r?n=Am(s.min,s.max-r,t.min):r>a&&(n=Am(t.min,t.max-a,s.min)),Ml(0,1,n)}function Eie(t,s){const n={};return s.min!==void 0&&(n.min=s.min-t.min),s.max!==void 0&&(n.max=s.max-t.min),n}const d_=.35;function Pie(t=d_){return t===!1?t=0:t===!0&&(t=d_),{x:RP(t,"left","right"),y:RP(t,"top","bottom")}}function RP(t,s,n){return{min:FP(t,s),max:FP(t,n)}}function FP(t,s){return typeof t=="number"?t:t[s]||0}const Tie=new WeakMap;class Aie{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cf(m).point)},l=(m,h)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lre(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ma(j=>{let w=this.getAxisMotionValue(j).get()||0;if($i.test(w)){const{projection:N}=this.visualElement;if(N&&N.layout){const _=N.layout.layoutBox[j];_&&(w=Er(_)*(parseFloat(w)/100))}}this.originPoint[j]=w}),y&&gn.postRender(()=>y(m,h)),o_(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:j}=h;if(g&&this.currentDirection===null){this.currentDirection=Mie(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),v&&v(m,h)},c=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h,this.stop(m,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ma(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zF(s,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:qF(this.visualElement)})}stop(s,n){const r=s||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&gn.postRender(()=>o(r,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,r){const{drag:a}=this.getProps();if(!r||!ox(s,a,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(l=_ie(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;s&&zd(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=Sie(r.layoutBox,s):this.constraints=!1,this.elastic=Pie(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ma(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Eie(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!zd(s))return!1;const r=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Dae(r,a.root,this.visualElement.getTransformPagePoint());let l=Cie(a.layout.layoutBox,i);if(n){const o=n(Tae(l));this.hasMutatedConstraints=!!o,o&&(l=SF(o))}return l}startAnimation(s){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Ma(d=>{if(!ox(d,n,this.currentDirection))return;let m=c&&c[d]||{};l&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:r?s[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(s,n){const r=this.getAxisMotionValue(s);return o_(this.visualElement,s),r.start(y2(s,r,0,n,this.visualElement,!1))}stopAnimation(){Ma(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Ma(s=>{var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Ma(n=>{const{drag:r}=this.getProps();if(!ox(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:o}=a.layout.layoutBox[n];i.set(s[n]-wn(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zd(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ma(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();a[l]=kie({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ma(l=>{if(!ox(l,s,null))return;const o=this.getAxisMotionValue(l),{min:c,max:u}=this.constraints[l];o.set(wn(c,u,a[l]))})}addListeners(){if(!this.visualElement.current)return;Tie.set(this.visualElement,this);const s=this.visualElement.current,n=um(s,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();zd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gn.read(r);const l=Fm(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ma(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())}));return()=>{l(),n(),i(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=d_,dragMomentum:o=!0}=s;return{...s,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function ox(t,s,n){return(s===!0||s===t)&&(n===null||n===t)}function Mie(t,s=10){let n=null;return Math.abs(t.y)>s?n="y":Math.abs(t.x)>s&&(n="x"),n}class Die extends Bo{constructor(s){super(s),this.removeGroupControls=qa,this.removeListeners=qa,this.controls=new Aie(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qa}unmount(){this.removeGroupControls(),this.removeListeners()}}const LP=t=>(s,n)=>{t&&gn.postRender(()=>t(s,n))};class Oie extends Bo{constructor(){super(...arguments),this.removePointerDownListener=qa}onPointerDown(s){this.session=new zF(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qF(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:LP(s),onStart:LP(n),onMove:r,onEnd:(i,l)=>{delete this.session,a&&gn.postRender(()=>a(i,l))}}}mount(){this.removePointerDownListener=um(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IP(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const qh={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Zt.test(t))t=parseFloat(t);else return t;const n=IP(t,s.target.x),r=IP(t,s.target.y);return`${n}% ${r}%`}},Rie={correct:(t,{treeScale:s,projectionDelta:n})=>{const r=t,a=Mo.parse(t);if(a.length>5)return r;const i=Mo.createTransformer(t),l=typeof a[0]!="number"?1:0,o=n.x.scale*s.x,c=n.y.scale*s.y;a[0+l]/=o,a[1+l]/=c;const u=wn(o,c,.5);return typeof a[2+l]=="number"&&(a[2+l]/=u),typeof a[3+l]=="number"&&(a[3+l]/=u),i(a)}};let Nb=!1;class Fie extends b.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=s;rae(Lie),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),Nb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bx.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:l}=r;return l&&(l.isPresent=i,Nb=!0,a||s.layoutDependency!==n||n===void 0||s.isPresent!==i?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||gn.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),o2.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=s;Nb=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function UF(t){const[s,n]=uF(),r=b.useContext(q1);return e.jsx(Fie,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(NF),isPresent:s,safeToRemove:n})}const Lie={borderRadius:{...qh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qh,borderTopRightRadius:qh,borderBottomLeftRadius:qh,borderBottomRightRadius:qh,boxShadow:Rie};function Iie(t,s,n){const r=hr(t)?t:gu(t);return r.start(y2("",r,s,n)),r.animation}const Bie=(t,s)=>t.depth-s.depth;class qie{constructor(){this.children=[],this.isDirty=!1}add(s){U1(this.children,s),this.isDirty=!0}remove(s){V1(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(Bie),this.isDirty=!1,this.children.forEach(s)}}function zie(t,s){const n=Yr.now(),r=({timestamp:a})=>{const i=a-n;i>=s&&(Ao(r),t(i-s))};return gn.setup(r,!0),()=>Ao(r)}const VF=["TopLeft","TopRight","BottomLeft","BottomRight"],$ie=VF.length,BP=t=>typeof t=="string"?parseFloat(t):t,qP=t=>typeof t=="number"||Zt.test(t);function Uie(t,s,n,r,a,i){a?(t.opacity=wn(0,n.opacity??1,Vie(r)),t.opacityExit=wn(s.opacity??1,0,Wie(r))):i&&(t.opacity=wn(s.opacity??1,n.opacity??1,r));for(let l=0;l<$ie;l++){const o=`border${VF[l]}Radius`;let c=zP(s,o),u=zP(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||qP(c)===qP(u)?(t[o]=Math.max(wn(BP(c),BP(u),r),0),($i.test(u)||$i.test(c))&&(t[o]+="%")):t[o]=u}(s.rotate||n.rotate)&&(t.rotate=wn(s.rotate||0,n.rotate||0,r))}function zP(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const Vie=WF(0,.5,AR),Wie=WF(.5,.95,qa);function WF(t,s,n){return r=>r<t?0:r>s?1:n(Am(t,s,r))}function $P(t,s){t.min=s.min,t.max=s.max}function Ta(t,s){$P(t.x,s.x),$P(t.y,s.y)}function UP(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function VP(t,s,n,r,a){return t-=s,t=pg(t,1/n,r),a!==void 0&&(t=pg(t,1/a,r)),t}function Hie(t,s=0,n=1,r=.5,a,i=t,l=t){if($i.test(s)&&(s=parseFloat(s),s=wn(l.min,l.max,s/100)-l.min),typeof s!="number")return;let o=wn(i.min,i.max,r);t===i&&(o-=s),t.min=VP(t.min,s,n,o,a),t.max=VP(t.max,s,n,o,a)}function WP(t,s,[n,r,a],i,l){Hie(t,s[n],s[r],s[a],s.scale,i,l)}const Gie=["x","scaleX","originX"],Kie=["y","scaleY","originY"];function HP(t,s,n,r){WP(t.x,s,Gie,n?n.x:void 0,r?r.x:void 0),WP(t.y,s,Kie,n?n.y:void 0,r?r.y:void 0)}function GP(t){return t.translate===0&&t.scale===1}function HF(t){return GP(t.x)&&GP(t.y)}function KP(t,s){return t.min===s.min&&t.max===s.max}function Yie(t,s){return KP(t.x,s.x)&&KP(t.y,s.y)}function YP(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function GF(t,s){return YP(t.x,s.x)&&YP(t.y,s.y)}function QP(t){return Er(t.x)/Er(t.y)}function JP(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class Qie{constructor(){this.members=[]}add(s){U1(this.members,s),s.scheduleRender()}remove(s){if(V1(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(a=>s===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(s,n){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,n&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:r}=s;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jie(t,s,n){let r="";const a=t.x.translate/s.x,i=t.y.translate/s.y,l=(n==null?void 0:n.z)||0;if((a||i||l)&&(r=`translate3d(${a}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:h,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),m&&(r+=`rotateX(${m}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const _b=["","X","Y","Z"],Xie=1e3;let Zie=0;function Sb(t,s,n,r){const{latestValues:a}=s;a[t]&&(n[t]=a[t],s.setStaticValue(t,0),r&&(r[t]=0))}function KF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const n=DF(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gn,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KF(r)}function YF({attachResizeListener:t,defaultParent:s,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},o=s==null?void 0:s()){this.id=Zie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sle),this.nodes.forEach(ile),this.nodes.forEach(lle),this.nodes.forEach(nle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qie)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new G1),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=dF(l)&&!Ure(l),this.instance=l;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const h=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{m=window.innerWidth}),t(l,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,d&&d(),d=zie(h,250),Bx.hasAnimatedSinceResize&&(Bx.hasAnimatedSinceResize=!1,this.nodes.forEach(eT)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||hle,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),j=!this.targetLayout||!GF(this.targetLayout,p),w=!m&&h;if(this.options.layoutRoot||this.resumeFrom||w||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...i2(g,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,w)}else m||eT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ole),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ale),this.nodes.forEach(ele),this.nodes.forEach(tle)):this.nodes.forEach(ZP),this.clearAllSnapshots();const o=Yr.now();sr.delta=Ml(0,1e3/60,o-sr.timestamp),sr.timestamp=o,sr.isProcessing=!0,mb.update.process(sr),mb.preRender.process(sr),mb.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rle),this.sharedNodes.forEach(cle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Er(this.snapshot.measuredBox.x)&&!Er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!HF(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;l&&this.instance&&(o||lc(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),mle(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:l}=this.options;if(!l)return Tn();const o=l.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fle))){const{scroll:d}=this.root;d&&($d(o.x,d.offset.x),$d(o.y,d.offset.y))}return o}removeElementScroll(l){var c;const o=Tn();if(Ta(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:h}=d;d!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Ta(o,l),$d(o.x,m.offset.x),$d(o.y,m.offset.y))}return o}applyTransform(l,o=!1){const c=Tn();Ta(c,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ud(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lc(d.latestValues)&&Ud(c,d.latestValues)}return lc(this.latestValues)&&Ud(c,this.latestValues),c}removeTransform(l){const o=Tn();Ta(o,l);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!lc(u.latestValues))continue;r_(u.latestValues)&&u.updateSnapshot();const d=Tn(),m=u.measurePageBox();Ta(d,m),HP(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lc(this.latestValues)&&HP(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=sr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),mm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ta(this.target,this.layout.layoutBox),kF(this.target,this.targetDelta)):Ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),mm(this.relativeTargetOrigin,this.target,p.target),Ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||r_(this.parent.latestValues)||CF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ta(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;Mae(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tn());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UP(this.prevProjectionDelta.x,this.projectionDelta.x),UP(this.prevProjectionDelta.y,this.projectionDelta.y)),hm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!JP(this.projectionDelta.x,this.prevProjectionDelta.x)||!JP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vd(),this.projectionDelta=Vd(),this.projectionDeltaWithTransform=Vd()}setAnimationOrigin(l,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=Vd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Tn(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,v=this.getStack(),j=!v||v.members.length<=1,w=!!(y&&!j&&this.options.crossfade===!0&&!this.path.some(ule));this.animationProgress=0;let N;this.mixTargetDelta=_=>{const T=_/1e3;tT(m.x,l.x,T),tT(m.y,l.y,T),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dle(this.relativeTarget,this.relativeTargetOrigin,h,T),N&&Yie(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Tn()),Ta(N,this.relativeTarget)),y&&(this.animationValues=d,Uie(d,u,this.latestValues,T,w,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{Bx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=Iie(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=l;if(!(!o||!c||!u)){if(this!==l&&this.layout&&u&&QF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Tn();const m=Er(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const h=Er(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+h}Ta(o,c),Ud(o,d),hm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Qie),this.sharedNodes.get(l).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Sb("z",l,u,this.animationValues);for(let d=0;d<_b.length;d++)Sb(`rotate${_b[d]}`,l,u,this.animationValues),Sb(`skew${_b[d]}`,l,u,this.animationValues);l.render();for(const d in u)l.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Ix(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Ix(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lc(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=Jie(this.projectionDeltaWithTransform,this.treeScale,d);c&&(m=c(d,m)),l.transform=m;const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Rm){if(d[g]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:j}=Rm[g],w=m==="none"?d[g]:y(d[g],u);if(v){const N=v.length;for(let _=0;_<N;_++)l[v[_]]=w}else j?this.options.visualElement.renderState.vars[g]=w:l[g]=w}this.options.layoutId&&(l.pointerEvents=u===this?Ix(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(XP),this.root.sharedNodes.clear()}}}function ele(t){t.updateLayout()}function tle(t){var n;const s=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,l=s.source!==t.layout.source;i==="size"?Ma(m=>{const h=l?s.measuredBox[m]:s.layoutBox[m],p=Er(h);h.min=r[m].min,h.max=h.min+p}):QF(i,s.layoutBox,r)&&Ma(m=>{const h=l?s.measuredBox[m]:s.layoutBox[m],p=Er(r[m]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const o=Vd();hm(o,r,s.layoutBox);const c=Vd();l?hm(c,t.applyTransform(a,!0),s.measuredBox):hm(c,r,s.layoutBox);const u=!HF(o);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const g=Tn();mm(g,s.layoutBox,h.layoutBox);const y=Tn();mm(y,r,p.layoutBox),GF(g,y)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sle(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rle(t){t.clearSnapshot()}function XP(t){t.clearMeasurements()}function ZP(t){t.isLayoutDirty=!1}function ale(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function eT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ile(t){t.resolveTargetDelta()}function lle(t){t.calcProjection()}function ole(t){t.resetSkewAndRotation()}function cle(t){t.removeLeadSnapshot()}function tT(t,s,n){t.translate=wn(s.translate,0,n),t.scale=wn(s.scale,1,n),t.origin=s.origin,t.originPoint=s.originPoint}function sT(t,s,n,r){t.min=wn(s.min,n.min,r),t.max=wn(s.max,n.max,r)}function dle(t,s,n,r){sT(t.x,s.x,n.x,r),sT(t.y,s.y,n.y,r)}function ule(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hle={duration:.45,ease:[.4,0,.1,1]},nT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rT=nT("applewebkit/")&&!nT("chrome/")?Math.round:qa;function aT(t){t.min=rT(t.min),t.max=rT(t.max)}function mle(t){aT(t.x),aT(t.y)}function QF(t,s,n){return t==="position"||t==="preserve-aspect"&&!yie(QP(s),QP(n),.2)}function fle(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const ple=YF({attachResizeListener:(t,s)=>Fm(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cb={current:void 0},JF=YF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cb.current){const t=new ple({});t.mount(window),t.setOptions({layoutScroll:!0}),Cb.current=t}return Cb.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xle={pan:{Feature:Oie},drag:{Feature:Die,ProjectionNode:JF,MeasureLayout:UF}};function iT(t,s,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&gn.postRender(()=>i(s,Cf(s)))}class gle extends Bo{mount(){const{current:s}=this.node;s&&(this.unmount=Ire(s,(n,r)=>(iT(this.node,r,"Start"),a=>iT(this.node,a,"End"))))}unmount(){}}class vle extends Bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nf(Fm(this.node.current,"focus",()=>this.onFocus()),Fm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lT(t,s,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&gn.postRender(()=>i(s,Cf(s)))}class yle extends Bo{mount(){const{current:s}=this.node;s&&(this.unmount=$re(s,(n,r)=>(lT(this.node,r,"Start"),(a,{success:i})=>lT(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u_=new WeakMap,kb=new WeakMap,ble=t=>{const s=u_.get(t.target);s&&s(t)},jle=t=>{t.forEach(ble)};function wle({root:t,...s}){const n=t||document;kb.has(n)||kb.set(n,{});const r=kb.get(n),a=JSON.stringify(s);return r[a]||(r[a]=new IntersectionObserver(jle,{root:t,...s})),r[a]}function Nle(t,s,n){const r=wle(s);return u_.set(t,n),r.observe(t),()=>{u_.delete(t),r.unobserve(t)}}const _le={some:0,all:1};class Sle extends Bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=s,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:_le[a]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),h=u?d:m;h&&h(c)};return Nle(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(Cle(s,n))&&this.startObserver()}unmount(){}}function Cle({viewport:t={}},{viewport:s={}}={}){return n=>t[n]!==s[n]}const kle={inView:{Feature:Sle},tap:{Feature:yle},focus:{Feature:vle},hover:{Feature:gle}},Ele={layout:{ProjectionNode:JF,MeasureLayout:UF}},Ple={...mie,...kle,...xle,...Ele},cx=Pae(Ple,$ae);function Rc({tourGroupName:t,viewId:s,onComplete:n,onDismissPermanently:r,autoShow:a=!1}){const[i,l]=b.useState(0),[o,c]=b.useState(a),[u,d]=b.useState(a),[m,h]=b.useState(!1),[p,g]=b.useState(null),[y,v]=b.useState({top:0,left:0}),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[T,A]=b.useState(!1);console.log("[PageTour] Render - tourGroupName:",t,"viewId:",s,"autoShow:",a),console.log("[PageTour] State - isActive:",o,"showPopup:",u,"currentStep:",i);const{data:P}=me({queryKey:["tourGroup",t,s],queryFn:async()=>{const B=await K.entities.TourGroup.list();console.log("[PageTour] All tour groups from DB:",B),console.log("[PageTour] Looking for - page_name:",t,"viewId:",s);const $=B.find(L=>{const I=L.page_name===t,W=s?L.view_id===s:!L.view_id,q=L.is_active===!0;return console.log("[PageTour] Checking group:",L.id,{page_name:L.page_name,view_id:L.view_id,is_active:L.is_active,pageNameMatch:I,viewIdMatch:W,isActiveMatch:q}),I&&W&&q});return console.log("[PageTour] Found tour group:",$),$},enabled:!!t}),{data:C}=me({queryKey:["tourSteps",P==null?void 0:P.id],queryFn:async()=>{if(!(P!=null&&P.id))return console.log("[PageTour] No tour group ID, returning empty steps"),[];const B=await K.entities.TourStep.list();console.log("[PageTour] All steps from DB:",B);const $=B.filter(L=>L.tour_group_id===P.id).sort((L,I)=>L.step_order-I.step_order);return console.log("[PageTour] Filtered steps for group",P.id,":",$),$},enabled:!!(P!=null&&P.id),initialData:[]});console.log("[PageTour] Data - tourGroup:",P==null?void 0:P.id,"steps:",C.length),b.useEffect(()=>{if(console.log("[PageTour] autoShow useEffect triggered - autoShow:",a,"steps.length:",C.length),a&&C.length>0&&P){const B=setTimeout(()=>{if(P.mandatory_selector){if(console.log("[PageTour] Checking for mandatory selector:",P.mandatory_selector),!document.querySelector(P.mandatory_selector)){console.log("[PageTour] Mandatory element not found, showing error popup"),_(!0),A(!0),c(!0),d(!0),h(!0);return}console.log("[PageTour] Mandatory element found, proceeding with tour")}console.log("[PageTour] Setting isActive and showPopup to true"),_(!1),A(!0),c(!0),d(!0),l(0)},500);return()=>clearTimeout(B)}},[a,C,P]),b.useEffect(()=>{if(!o||i>=C.length||!u||C.length===0||N||!T)return;h(!1);const B=C[i];let $,L=0;const I=20;let W=null;const q=()=>{const J=B.size||"medium";return{width:{small:320,medium:384,large:512}[J]||384,height:270}},Z=()=>{const{width:J,height:Q}=q(),G=window.innerWidth,ae=window.innerHeight,se=window.pageYOffset||document.documentElement.scrollTop,de=window.pageXOffset||document.documentElement.scrollLeft,ue=B.gap||40;if(!B.target_selector){g(null);let pe=de+(G-J)/2,be=se+(ae-Q)/2;pe=Math.max(de+ue,pe),be=Math.max(se+ue,be),pe=Math.min(de+G-J-ue,pe),be=Math.min(se+ae-Q-ue,be),v({top:be,left:pe}),h(!0);return}const oe=document.querySelector(B.target_selector);if(oe){if(W=oe,g(oe),oe.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{const pe=window.pageYOffset||document.documentElement.scrollTop,be=window.pageXOffset||document.documentElement.scrollLeft,je=oe.getBoundingClientRect();let Be=0,qe=0;switch(B.placement||"bottom"){case"top":Be=je.top+pe-Q-ue,qe=je.left+be+(je.width-J)/2,Be<pe&&(Be=je.bottom+pe+ue);break;case"bottom":Be=je.bottom+pe+ue,qe=je.left+be+(je.width-J)/2,Be+Q>pe+ae&&(Be=je.top+pe-Q-ue);break;case"left":Be=je.top+pe+(je.height-Q)/2,qe=je.left+be-J-ue,qe<be&&(qe=je.right+be+ue);break;case"right":default:Be=je.top+pe+(je.height-Q)/2,qe=je.right+be+ue,qe+J>be+G&&(qe=je.left+be-J-ue);break}qe=Math.max(be+ue,qe),Be=Math.max(pe+ue,Be),qe=Math.min(be+G-J-ue,qe),Be=Math.min(pe+ae-Q-ue,Be),v({top:Be,left:qe}),h(!0)},300),oe.style.position="relative",oe.style.zIndex="10001",oe.style.backgroundColor="#fef08a",oe.style.boxShadow="0 0 0 4px rgba(234, 179, 8, 0.6)",oe.style.borderRadius="8px",oe.style.transition="all 0.3s ease",B.mode==="interactive"){const pe=()=>{R()};oe.addEventListener("click",pe),oe._tourClickHandler=pe}}else if(L<I)L++,$=setTimeout(Z,100);else{g(null);let pe=de+(G-J)/2,be=se+(ae-Q)/2;pe=Math.max(de+ue,pe),be=Math.max(se+ue,be),pe=Math.min(de+G-J-ue,pe),be=Math.min(se+ae-Q-ue,be),v({top:be,left:pe}),h(!0)}};return Z(),()=>{clearTimeout($),W&&(W._tourClickHandler&&(W.removeEventListener("click",W._tourClickHandler),delete W._tourClickHandler),W.style.position="",W.style.zIndex="",W.style.backgroundColor="",W.style.boxShadow="",W.style.borderRadius="",W.style.transition="")}},[i,o,u,C,N,T]);const R=()=>{i<C.length-1?l(i+1):E()},M=()=>{i>0&&l(i-1)},k=()=>{E()},E=()=>{c(!1),d(!1),_(!1),A(!1),j&&r?r():n&&n()};if(console.log("[PageTour] Return condition check - isActive:",o,"showPopup:",u,"mandatoryCheckComplete:",T,"mandatoryElementMissing:",N,"currentStep:",i,"steps.length:",C.length),!o||!u||!T||!N&&(i>=C.length||C.length===0))return console.log("[PageTour] Returning null - not showing tour"),null;if(console.log("[PageTour] Rendering tour UI"),N){const B=window.innerWidth,$=window.pageYOffset||document.documentElement.scrollTop,L=window.pageXOffset||document.documentElement.scrollLeft,I=384,W=40;let q=L+(B-I)/2,Z=$+W;q=Math.max(L+W,q),q=Math.min(L+B-I-W,q);const J=(P==null?void 0:P.mandatory_selector_missing_message)||"Required page elements for this tour are not currently available.";return e.jsxs(e.Fragment,{children:[u&&e.jsx(cx.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[10000] bg-black/20",onClick:k}),e.jsx(pP,{children:u&&m&&e.jsx(cx.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},style:{position:"absolute",top:`${Z}px`,left:`${q}px`,zIndex:10002},className:"w-96",children:e.jsxs(le,{className:"shadow-2xl border-2 border-red-500 bg-gradient-to-br from-white to-red-50",children:[e.jsx(Re,{className:"pb-4 border-b border-red-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(ps,{className:"h-5 w-5 text-red-600"})}),e.jsx($e,{className:"text-xl",children:"Tour Unavailable"})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7 -mt-1 -mr-2 hover:bg-red-100",onClick:k,children:e.jsx(ws,{className:"h-4 w-4"})})]})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsx("p",{className:"text-base text-slate-700 leading-relaxed",children:J}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"dont-show-again",checked:j,onChange:Q=>w(Q.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx("label",{htmlFor:"dont-show-again",className:"text-sm text-slate-700 cursor-pointer",children:"Don't show this tour automatically again"})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{size:"sm",onClick:E,className:"bg-red-600 hover:bg-red-700",children:"Close"})})]})]})})})]})}const O=C[i],F=O.mode==="interactive"&&O.target_selector,z=!O.target_selector,V=i===C.length-1,U=()=>{const B=O.size||"medium";return{small:"w-80",medium:"w-96",large:"w-[512px]"}[B]||"w-96"};return e.jsxs(e.Fragment,{children:[u&&e.jsx(cx.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[10000] ${F?"bg-black/70":"bg-black/20"}`,onClick:F?void 0:k}),e.jsx(pP,{children:u&&m&&e.jsx(cx.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},style:{position:"absolute",top:`${y.top}px`,left:`${y.left}px`,zIndex:10002},className:U(),children:e.jsxs(le,{className:"shadow-2xl border-2 border-blue-500 bg-gradient-to-br from-white to-blue-50",children:[e.jsx(Re,{className:"pb-4 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ea,{className:"h-5 w-5 text-blue-600"})}),e.jsx($e,{className:"text-xl",children:O.title})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7 -mt-1 -mr-2 hover:bg-red-100",onClick:k,children:e.jsx(ws,{className:"h-4 w-4"})})]})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsx("p",{className:"text-base text-slate-700 leading-relaxed",children:O.content}),(z||V)&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"dont-show-again",checked:j,onChange:B=>w(B.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx("label",{htmlFor:"dont-show-again",className:"text-sm text-slate-700 cursor-pointer",children:"Don't show this tour automatically again"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"flex-shrink-0",children:i>0?e.jsxs(X,{variant:"outline",size:"sm",onClick:M,className:"text-slate-600",children:[e.jsx(Un,{className:"w-4 h-4 mr-1"}),"Back"]}):e.jsx("div",{className:"w-20"})}),e.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Step ",i+1," of ",C.length]}),e.jsx("div",{className:"flex gap-1",children:C.map((B,$)=>e.jsx("div",{className:`h-2 w-2 rounded-full transition-colors ${$===i?"bg-blue-600":"bg-slate-300"}`},$))})]}),e.jsx("div",{className:"flex-shrink-0",children:F?e.jsx("div",{className:"w-20"}):e.jsx(X,{size:"sm",onClick:R,className:"bg-blue-600 hover:bg-blue-700",children:V?e.jsxs(e.Fragment,{children:["Finish",e.jsx(ys,{className:"w-4 h-4 ml-1"})]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(ys,{className:"w-4 h-4 ml-1"})]})})})]})]})]})})})]})}function Fc({onClick:t}){return e.jsxs(X,{onClick:t,variant:"outline",size:"sm",className:"gap-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100",id:"page-tour-button",children:[e.jsx(ea,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium",children:"Page Tour"})]})}function h_({organizationInfo:t,isFeatureExcluded:s,memberInfo:n,memberRole:r,reloadMemberInfo:a}){var C;const[i,l]=b.useState(""),[o,c]=b.useState("all"),[u,d]=b.useState(!1),[m,h]=b.useState(!1);console.log("[Events] Render - showTour:",u,"tourAutoShow:",m,"shouldShowTours (from memberRole):",r==null?void 0:r.show_tours);const p=(r==null?void 0:r.show_tours)!==!1,g=((C=n==null?void 0:n.page_tours_seen)==null?void 0:C.Events)===!0;console.log("[Events] shouldShowTours:",p,"hasSeenTour:",g),Ie.useEffect(()=>{console.log("[Events] Auto-show useEffect - shouldShowTours:",p,"hasSeenTour:",g,"memberInfo:",!!n),p&&!g&&n&&(console.log("[Events] Auto-showing tour"),h(!0),d(!0))},[p,g,n]);const{data:y,isLoading:v}=me({queryKey:["events"],queryFn:()=>K.entities.Event.list("-start_date"),initialData:[]}),j=["all",...new Set(y.map(R=>R.program_tag).filter(Boolean))],w=R=>t!=null&&t.program_ticket_balances&&t.program_ticket_balances[R]||0;let N=y.filter(R=>{var E,O;const M=((E=R.title)==null?void 0:E.toLowerCase().includes(i.toLowerCase()))||((O=R.description)==null?void 0:O.toLowerCase().includes(i.toLowerCase())),k=o==="all"||R.program_tag===o;return M&&k});N.sort((R,M)=>{const k=new Date(R.start_date),E=new Date(M.start_date);return k.getTime()-E.getTime()});const _=async R=>{if(console.log("[Events] updateMemberTourStatus called for:",R),n&&!n.is_team_member)try{const k=(await K.entities.Member.list()).find(E=>E.email===n.email);if(k){const E={...k.page_tours_seen||{},[R]:!0};await K.entities.Member.update(k.id,{page_tours_seen:E});const O={...n,page_tours_seen:E};sessionStorage.setItem("agcas_member",JSON.stringify(O)),console.log("[Events] Tour status updated successfully"),a&&a()}}catch(M){console.error("[Events] Failed to update tour status:",M)}},T=async()=>{console.log("[Events] handleTourComplete called"),d(!1),h(!1)},A=async()=>{console.log("[Events] handleTourDismiss called"),d(!1),h(!1),await _("Events")},P=()=>{console.log("[Events] handleStartTour called - resetting then showing tour"),d(!1),h(!1),setTimeout(()=>{console.log("[Events] Now setting showTour and tourAutoShow to true"),d(!0),h(!0)},10)};return console.log("[Events] Rendering PageTour?",u&&p),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[u&&p&&e.jsx(Rc,{tourGroupName:"Events",viewId:null,onComplete:T,onDismissPermanently:A,autoShow:m}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Register your tickets"}),p&&e.jsx(Fc,{onClick:P})]})}),!s("element_EventsSearch")&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search events by name or description...",value:i,onChange:R=>l(R.target.value),className:"pl-10"})]}),e.jsx(Yse,{programs:j,selectedProgram:o,onProgramChange:c})]})}),v?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((R,M)=>e.jsxs(le,{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]})]},M))}):e.jsxs(e.Fragment,{children:[t&&o!=="all"&&e.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-white rounded-lg border border-slate-200",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsxs("span",{className:"font-medium text-slate-700",children:["You have ",w(o)," ",w(o)===1?"ticket":"tickets"," ","available for ",o]})]}),N.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(js,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(R=>e.jsx(Kse,{event:R,organizationInfo:t,isFeatureExcluded:s},R.id))})]})]})]})}function XF(){const[t,s]=b.useState(""),[n,r]=b.useState(!1),[a,i]=b.useState(""),[l,o]=b.useState(!1),c=async u=>{var d,m;u.preventDefault(),i(""),r(!0),o(!1);try{const h=await K.functions.invoke("sendMagicLink",{email:t});h.data.success?(o(!0),s("")):i(h.data.error||"Unable to send login link")}catch(h){i(((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"An error occurred. Please try again.")}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl shadow-lg mb-4 p-2",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/6cfe73a57_agcasRoundall.jpg",alt:"AGCAS",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"AGCAS Events"}),e.jsx("p",{className:"text-slate-600",children:"Professional Development & Training Portal"})]}),e.jsxs(le,{className:"shadow-xl border-slate-200",children:[e.jsxs(Re,{className:"space-y-1 pb-4",children:[e.jsx($e,{className:"text-2xl font-bold text-center",children:"Member Access"}),e.jsx(Cs,{className:"text-center",children:"Enter your AGCAS member email to receive a secure login link"})]}),e.jsxs(ce,{children:[l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Check your email!"}),e.jsx("p",{className:"text-sm text-green-700",children:"We've sent a secure login link to your email address. Click the link to access the portal."}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"The link will expire in 30 minutes."})]})]}),e.jsx(X,{variant:"outline",onClick:()=>o(!1),className:"w-full",children:"Send another link"})]}):e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-700",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{id:"email",type:"email",placeholder:"your.email@institution.ac.uk",value:t,onChange:u=>s(u.target.value),className:"pl-10",required:!0,disabled:n})]})]}),a&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:a})]}),e.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Login Link"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Only AGCAS members can access this portal. If you're having trouble logging in, please contact your membership administrator."})})]})]}),e.jsxs("p",{className:"text-center text-sm text-slate-500 mt-6",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]})]})})}function ZF(){const[t,s]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(!1),[c,u]=b.useState(null),[d,m]=b.useState(null),[h,p]=b.useState(null),[g,y]=b.useState(null),{data:v}=me({queryKey:["zoho-tokens"],queryFn:()=>K.entities.ZohoToken.list(),initialData:[]}),{data:j}=me({queryKey:["xero-tokens"],queryFn:()=>K.entities.XeroToken.list(),initialData:[]}),w=v.length>0,N=j.length>0,_=async()=>{s(!0);try{const C=await K.functions.invoke("getZohoAuthUrl"),{authUrl:R}=C.data,M=window.open(R,"ZohoAuth","width=600,height=700");p(M);const k=setInterval(()=>{M.closed&&(clearInterval(k),p(null),s(!1),window.location.reload())},1e3)}catch(C){console.error("Auth error:",C),s(!1)}},T=async()=>{var C,R,M;i(!0),m(null);try{const k=await K.functions.invoke("testFunction",{accessToken:v.length>0?v[0].access_token:null});m(k.data)}catch(k){m({success:!1,error:((R=(C=k.response)==null?void 0:C.data)==null?void 0:R.error)||k.message,fullError:JSON.stringify(((M=k.response)==null?void 0:M.data)||k,null,2)})}finally{i(!1)}},A=async()=>{var C,R;r(!0),u(null);try{const M=await K.functions.invoke("syncBackstageEvents",{accessToken:v[0].access_token});u(M.data)}catch(M){u({success:!1,error:((R=(C=M.response)==null?void 0:C.data)==null?void 0:R.error)||M.message})}finally{r(!1)}},P=async()=>{o(!0);try{const C=await K.functions.invoke("getXeroAuthUrl"),{authUrl:R}=C.data,M=window.open(R,"XeroAuth","width=600,height=700");y(M);const k=setInterval(()=>{M.closed&&(clearInterval(k),y(null),o(!1),window.location.reload())},1e3)}catch(C){console.error("Xero auth error:",C),o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl shadow-lg mb-4",children:e.jsx(Ln,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Admin Setup"}),e.jsx("p",{className:"text-slate-600",children:"Configure Zoho and Xero integrations for AGCAS Events"})," "]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Test Function"}),e.jsx(Cs,{children:"Test that backend functions are working correctly"})]}),e.jsxs(ce,{className:"space-y-4",children:[d&&e.jsx("div",{className:`flex items-start gap-3 p-4 rounded-lg border ${d.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.success?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Test Successful"}),e.jsx("p",{className:"text-sm text-green-700",children:d.message}),d.backstageDomain&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Domain: ",d.backstageDomain]}),d.portalName&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Portal: ",d.portalName]}),d.constructedUrl&&e.jsxs("p",{className:"text-xs text-green-600 mt-1 break-all",children:["URL: ",d.constructedUrl]}),d.accessTokenPrefix&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Token: ",d.accessTokenPrefix]}),d.statusCode&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Status: ",d.statusCode]}),d.eventCount!==void 0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Events: ",d.eventCount]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:d.timestamp})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Test Failed"}),e.jsx("p",{className:"text-sm text-red-700",children:d.error}),d.fullError&&e.jsx("pre",{className:"text-xs text-red-600 mt-2 overflow-auto max-h-40 bg-red-100 p-2 rounded",children:d.fullError})]})]})}),e.jsx(X,{onClick:T,disabled:a,className:"w-full",size:"lg",children:a?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing..."]}):"Run Test Function"})]})]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Zoho Authentication"}),e.jsx(Cs,{children:"Connect your Zoho CRM and Backstage accounts to sync members and events"})]}),e.jsxs(ce,{className:"space-y-6",children:[w?e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:" Connected"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your Zoho account is connected and ready to sync data."}),e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Last updated: ",new Date(v[0].expires_at).toLocaleString()]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:" Authentication Required"}),e.jsx("br",{}),"You need to authenticate with Zoho before members can access the portal."]})}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"This will allow the app to:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Search and validate member contacts in Zoho CRM"}),e.jsx("li",{children:"Access organization and account information"}),e.jsx("li",{children:"Sync events from Zoho Backstage"}),e.jsx("li",{children:"Create registrations and manage bookings"})]})]})]}),e.jsx(X,{onClick:_,disabled:t,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:t?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Authenticating..."]}):w?e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Re-authenticate with Zoho"]}):e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Authenticate with Zoho"]})}),w&&e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"The app will automatically refresh tokens as needed. Re-authenticate only if you experience issues."})})]})]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Xero Authentication"}),e.jsx(Cs,{children:"Connect your Xero account to automatically create invoices for account charges"})]}),e.jsxs(ce,{className:"space-y-6",children:[N?e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:" Connected"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your Xero account is connected and ready to create invoices."}),j[0]&&j[0].expires_at&&e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Last updated: ",new Date(j[0].expires_at).toLocaleString()]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:" Authentication Required"}),e.jsx("br",{}),"Connect to Xero to enable automatic invoice creation for account charges."]})}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"This will allow the app to:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Create invoices in your Xero account"}),e.jsx("li",{children:"Access contact information for billing"}),e.jsx("li",{children:"Track invoice status and payments"})]})]})]}),e.jsx(X,{onClick:P,disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Authenticating..."]}):N?e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Re-authenticate with Xero"]}):e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Authenticate with Xero"]})}),N&&e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"The app will automatically refresh tokens as needed. Re-authenticate only if you experience issues."})})]})]}),w&&e.jsxs(le,{className:"shadow-xl border-slate-200",children:[e.jsxs(Re,{children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"}),"Backstage Event Sync"]}),e.jsx(Cs,{children:"Sync events from Zoho Backstage to make them available in the portal"})]}),e.jsxs(ce,{className:"space-y-4",children:[c&&e.jsx("div",{className:`flex items-start gap-3 p-4 rounded-lg border ${c.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:c.success?e.jsxs(e.Fragment,{children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Sync Complete"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Successfully synced ",c.synced," of ",c.total," events",c.errors>0&&` (${c.errors} errors)`]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Sync Failed"}),e.jsx("p",{className:"text-sm text-red-700",children:c.error})]})]})}),e.jsx(X,{onClick:A,disabled:n,className:"w-full",size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Syncing Events..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kx,{className:"w-5 h-5 mr-2"}),"Sync Events from Backstage"]})}),e.jsx("p",{className:"text-xs text-slate-500",children:"This will fetch all events from Backstage and update the portal. Existing events will be updated with latest information."})]})]})]})})}var k0="Switch",[Tle]=pr(k0),[Ale,Mle]=Tle(k0),eL=b.forwardRef((t,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:u,form:d,...m}=t,[h,p]=b.useState(null),g=fs(s,N=>p(N)),y=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[j,w]=Va({prop:a,defaultProp:i??!1,onChange:u,caller:k0});return e.jsxs(Ale,{scope:n,checked:j,disabled:o,children:[e.jsx($t.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":rL(j),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:g,onClick:jt(t.onClick,N=>{w(_=>!_),v&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),v&&e.jsx(nL,{control:h,bubbles:!y.current,name:r,value:c,checked:j,required:l,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});eL.displayName=k0;var tL="SwitchThumb",sL=b.forwardRef((t,s)=>{const{__scopeSwitch:n,...r}=t,a=Mle(tL,n);return e.jsx($t.span,{"data-state":rL(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});sL.displayName=tL;var Dle="SwitchBubbleInput",nL=b.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=b.useRef(null),o=fs(l,i),c=f0(n),u=r0(s);return b.useEffect(()=>{const d=l.current;if(!d)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[c,n,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nL.displayName=Dle;function rL(t){return t?"checked":"unchecked"}var aL=eL,Ole=sL;const ls=b.forwardRef(({className:t,...s},n)=>e.jsx(aL,{className:tt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(Ole,{className:tt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ls.displayName=aL.displayName;function Rle({attendees:t,onUpdate:s,onRemove:n,onAdd:r,memberInfo:a}){const[i,l]=b.useState({}),o=async(p,g)=>{if(!g||!g.includes("@")){s(p,"isValid",null),s(p,"validationStatus",null),s(p,"validationMessage",null);return}l(y=>({...y,[p]:!0}));try{const y=await K.functions.invoke("validateColleague",{email:g,memberEmail:a.email,organizationId:a.organization_id});y.data.valid?(s(p,"isValid",!0),s(p,"validationStatus",y.data.status),s(p,"validationMessage",y.data.message),y.data.first_name&&(s(p,"first_name",y.data.first_name),s(p,"last_name",y.data.last_name))):(s(p,"isValid",!0),s(p,"validationStatus",y.data.status),s(p,"validationMessage",y.data.error||"Could not verify. Please enter attendee details."))}catch(y){console.error("Validation error:",y),s(p,"isValid",!0),s(p,"validationStatus","external"),s(p,"validationMessage","Could not verify email. Please enter attendee details manually.")}finally{l(y=>({...y,[p]:!1}))}},c=(p,g)=>{t[p].isSelf||o(p,g)},u=p=>{if(p.isSelf)return"border-blue-200 bg-blue-50";switch(p.validationStatus){case"registered":return"border-green-200 bg-green-50";case"unregistered_domain_match":return"border-blue-200 bg-blue-50";case"external":return"border-amber-200 bg-amber-50";case"wrong_organization":case"error":return"border-red-200 bg-red-50";default:return"border-slate-200 bg-white"}},d=p=>{if(i[t.indexOf(p)])return e.jsx(vt,{className:"w-4 h-4 animate-spin text-slate-400"});switch(p.validationStatus){case"registered":return e.jsx(Kn,{className:"w-4 h-4 text-green-600"});case"unregistered_domain_match":return e.jsx(U4,{className:"w-4 h-4 text-blue-600"});case"external":return e.jsx(U4,{className:"w-4 h-4 text-amber-600"});case"wrong_organization":case"error":return e.jsx(ps,{className:"w-4 h-4 text-red-600"});default:return null}},m=p=>{switch(p){case"registered":return"text-green-700";case"unregistered_domain_match":return"text-blue-700";case"external":return"text-amber-700";case"wrong_organization":case"error":return"text-red-600";default:return"text-slate-600"}},h=p=>!p.isSelf&&(p.validationStatus==="unregistered_domain_match"||p.validationStatus==="external"||p.validationStatus==="wrong_organization");return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((p,g)=>e.jsx("div",{className:`p-4 rounded-lg border ${u(p)}`,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(he,{placeholder:"Email address",type:"email",value:p.email,onChange:y=>s(g,"email",y.target.value),onBlur:y=>c(g,y.target.value),disabled:p.isSelf,className:p.isSelf?"bg-blue-50":""}),!p.isSelf&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:d(p)})]}),h(p)&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-slate-200",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Attendee Details Required"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(he,{placeholder:"First Name *",value:p.first_name||"",onChange:y=>s(g,"first_name",y.target.value),className:"text-sm",required:!0}),e.jsx(he,{placeholder:"Last Name *",value:p.last_name||"",onChange:y=>s(g,"last_name",y.target.value),className:"text-sm",required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!p.isSelf&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>n(g),className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-8 w-8 shrink-0",children:e.jsx(is,{className:"w-4 h-4"})}),p.isSelf&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:"This is you"})]}),!p.isSelf&&p.validationStatus==="registered"&&p.first_name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsxs("span",{children:[p.first_name," ",p.last_name]})]}),!p.isSelf&&p.validationMessage&&!(p.validationStatus==="registered"&&p.first_name)&&e.jsxs("p",{className:`text-xs flex items-start gap-1 flex-1 ${m(p.validationStatus)}`,children:[d(p),e.jsx("span",{className:"flex-1",children:p.validationMessage})]})]})]})},g))})}function Fle({totalCost:t,memberInfo:s,organizationInfo:n,attendees:r,numberOfLinks:a,event:i,submitting:l,setSubmitting:o,registrationMode:c,refreshOrganizationInfo:u}){const d=c==="links"?a:r.filter(g=>g.isValid).length,m=i.program_tag&&(n!=null&&n.program_ticket_balances)&&n.program_ticket_balances[i.program_tag]||0,h=m>=d,p=async()=>{var g,y;if((c==="colleagues"||c==="self")&&r.filter(j=>!j.isSelf&&(j.validationStatus==="unregistered_domain_match"||j.validationStatus==="external")&&(!j.first_name||!j.last_name)).length>0){te.error("Please provide first and last names for all attendees");return}if(!h){te.error("Insufficient program tickets. Please purchase more tickets first.");return}if(c==="colleagues"&&r.some(v=>!v.isValid)){te.error("Please remove or fix invalid attendee emails");return}if(d===0){te.error("Please add at least one attendee or specify number of links");return}o(!0);try{const v=await K.functions.invoke("createBooking",{eventId:i.id,memberEmail:s.email,attendees:c==="colleagues"||c==="self"?r.filter(j=>j.isValid):[],registrationMode:c,numberOfLinks:c==="links"?a:0,ticketsRequired:d,programTag:i.program_tag});v.data.success?(sessionStorage.removeItem(`event_registration_${i.id}`),u&&u(),te.success("Booking confirmed!"),setTimeout(()=>{window.location.href=Ee("MyBookings")},1500)):te.error(v.data.error||"Failed to create booking")}catch(v){te.error(((y=(g=v.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to create booking")}finally{o(!1)}};return e.jsxs(le,{className:"border-slate-200 shadow-lg sticky top-8",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{className:"text-xl",children:"Booking Summary"})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[i.program_tag?e.jsxs("div",{className:"p-4 rounded-lg border-2 border-purple-200 bg-purple-50",id:"booking-summary-tickets",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-purple-900",children:"unpacked tickets"})]}),e.jsxs("span",{className:"text-xs text-purple-600",children:["Available: ",m]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Tickets Required:"}),e.jsx("span",{className:"font-bold text-purple-900",children:d})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Tickets Available:"}),e.jsx("span",{className:"font-bold text-purple-900",children:m})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-purple-700",children:"Remaining After Booking:"}),e.jsx("span",{className:`font-bold ${h?"text-green-600":"text-red-600"}`,children:Math.max(0,m-d)})]})]}),!h&&e.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600 mt-0.5 shrink-0"}),e.jsxs("div",{className:"text-xs text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Insufficient tickets"}),e.jsxs("p",{children:["You need ",d-m," more ",i.program_tag," ticket",d-m>1?"s":""," to complete this booking."]})]})]})})]}):e.jsx("div",{className:"p-4 rounded-lg border-2 border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600 shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"No Program Required"}),e.jsx("p",{children:"This event is not associated with a program and cannot be booked through this system."})]})]})}),!h&&i.program_tag&&e.jsxs(X,{variant:"outline",className:"w-full",onClick:()=>window.location.href=Ee("BuyProgramTickets"),children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Buy ",i.program_tag," Tickets"]}),e.jsx(X,{id:"confirm-booking-button",onClick:p,disabled:!h||!i.program_tag||l||d===0,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):"Confirm Booking"}),d===0&&c==="colleagues"&&e.jsx("p",{className:"text-xs text-center text-slate-500",children:"Add attendees to proceed with booking"})]})]})}function Lle({mode:t,onModeChange:s,isFeatureExcluded:n}){const a=[{id:"self",icon:Js,title:"Self Register",description:"Register yourself only",featureId:"element_SelfRegistration"},{id:"colleagues",icon:bs,title:"Register Attendees",description:"Register your attendee(s) now"}].filter(i=>i.featureId&&n?!n(i.featureId):!0);return e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(i=>{const l=i.icon,o=t===i.id;return e.jsx("button",{onClick:()=>s(i.id),className:"text-left",children:e.jsx(le,{className:`border-2 transition-all cursor-pointer hover:shadow-md ${o?"border-green-600 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${o?"bg-green-600 text-white":"bg-slate-100 text-slate-600"}`,children:e.jsx(l,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold mb-1 ${o?"text-green-900":"text-slate-900"}`,children:i.title}),e.jsx("p",{className:`text-sm ${o?"text-green-700":"text-slate-600"}`,children:i.description})]})]})})})},i.id)})})}function Ile({organizationId:t,onSelect:s,memberInfo:n}){const[r,a]=b.useState(""),[i,l]=b.useState([]),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(!1),[p,g]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[T,A]=b.useState(null);b.useEffect(()=>{t&&(async()=>{try{const F=(await K.entities.Organization.list()).find(V=>V.id===t||V.zoho_account_id===t);if(console.log("Looking for organization with ID:",t),console.log("Found organization:",F),console.log("Base44 Org ID:",F==null?void 0:F.id),console.log("Contacts synced at:",F==null?void 0:F.contacts_synced_at),!F){console.error("Organization not found");return}A(F.id),!F.contacts_synced_at||$te(new Date,new Date(F.contacts_synced_at))>15?(console.log("Contacts need syncing (never synced or older than 15 minutes)"),await P(t)):(console.log("Contacts are up to date, loading from database"),_(!0),C(F.id))}catch(O){console.error("Failed to check org sync status:",O)}})()},[t]);const P=async E=>{d(!0);try{console.log("Triggering sync for organization:",E);const O=await K.functions.invoke("syncOrganizationContacts",{organizationId:E});if(console.log("Sync response:",O.data),O.data.success){_(!0);const z=(await K.entities.Organization.list()).find(V=>V.zoho_account_id===E);z&&(A(z.id),await C(z.id))}}catch(O){console.error("Sync failed:",O)}finally{d(!1)}},C=async E=>{c(!0);try{console.log("Loading contacts for Base44 organization ID:",E);const O=await K.entities.OrganizationContact.filter({organization_id:E,is_active:!0});console.log("Loaded contacts:",O.length),console.log("Sample contact:",O[0]),l(O)}catch(O){console.error("Failed to load contacts:",O)}finally{c(!1)}},R=i.filter(E=>{var U,B,$;if(!r)return!1;const O=r.toLowerCase(),F=(U=E.first_name)==null?void 0:U.toLowerCase().includes(O),z=(B=E.last_name)==null?void 0:B.toLowerCase().includes(O),V=($=E.email)==null?void 0:$.toLowerCase().includes(O);return F||z||V}),M=E=>{s({email:E.email,first_name:E.first_name,last_name:E.last_name,zoho_contact_id:E.zoho_contact_id,isValid:!0,validationStatus:"registered"}),a(""),w(!1)},k=async()=>{if(!(!p||!p.includes("@"))){v(!0);try{const E=await K.functions.invoke("validateColleague",{email:p,memberEmail:n.email,organizationId:t});E.data.valid?s({email:p,first_name:E.data.first_name||"",last_name:E.data.last_name||"",zoho_contact_id:E.data.zoho_contact_id,isValid:!0,validationStatus:E.data.status,validationMessage:E.data.message}):s({email:p,first_name:"",last_name:"",isValid:!1,validationStatus:E.data.status,validationMessage:E.data.error}),g(""),h(!1)}catch{s({email:p,first_name:"",last_name:"",isValid:!1,validationStatus:"error",validationMessage:"Validation failed"}),g(""),h(!1)}finally{v(!1)}}};return u?e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 text-center",children:[e.jsx(vt,{className:"w-6 h-6 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Syncing organization contacts..."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This may take a moment"})]}):m?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Enter email address",type:"email",value:p,onChange:E=>g(E.target.value),onKeyPress:E=>E.key==="Enter"&&k(),disabled:y,autoFocus:!0}),e.jsx(X,{onClick:k,size:"sm",disabled:y,children:y?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):"Add"})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"text-xs",disabled:y,children:" Back to search"})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:r,onChange:E=>{a(E.target.value),w(E.target.value.length>0)},onFocus:()=>r&&w(!0),className:"pl-10",disabled:o})]}),j&&r&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o?e.jsxs("div",{className:"p-4 text-center text-slate-500",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin mx-auto mb-1"}),e.jsx("p",{className:"text-sm",children:"Loading..."})]}):R.length>0?e.jsxs(e.Fragment,{children:[R.map(E=>e.jsxs("button",{onClick:()=>M(E),className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0 transition-colors",children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[E.first_name," ",E.last_name]}),e.jsx("div",{className:"text-sm text-slate-500",children:E.email})]},E.id)),e.jsx("button",{onClick:()=>{h(!0),w(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-t border-slate-200 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Can't find them? Enter email manually"})]})})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"No matches found"}),e.jsx("button",{onClick:()=>{h(!0),w(!1)},className:"w-full px-4 py-2 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Enter email manually"})]})})]})})]})}function iL({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,isFeatureExcluded:r,memberRole:a,reloadMemberInfo:i}){var be;const[l,o]=b.useState(null),[c,u]=b.useState(!1),[d,m]=b.useState(!1),h=t||l,[p,g]=b.useState([]),[y,v]=b.useState(!1),[j,w]=b.useState("colleagues"),[N,_]=b.useState(!1),[T,A]=b.useState(!1),P=b.useRef(null),R=new URLSearchParams(window.location.search).get("id"),M=(a==null?void 0:a.show_tours)!==!1,k=((be=h==null?void 0:h.page_tours_seen)==null?void 0:be.EventDetails)===!0;Ie.useEffect(()=>{M&&!k&&h&&(m(!0),u(!0))},[M,k,h]);const E=Ie.useMemo(()=>{const Be=[{id:"self",icon:"User",title:"Self Register",description:"Register yourself only",featureId:"element_SelfRegistration"},{id:"colleagues",icon:"Users",title:"Register Attendees",description:"Register your attendee(s) now"}].filter(qe=>qe.featureId&&r?!r(qe.featureId):!0);return console.log("[EventDetails] Available registration modes:",Be.map(qe=>qe.id)),Be},[r]);b.useEffect(()=>{if(!t){const je=sessionStorage.getItem("agcas_member");o(je?JSON.parse(je):null)}},[t]),b.useEffect(()=>{if(console.log("[EventDetails] Initialization useEffect - hasInitialized.current:",P.current,"eventId:",R),P.current===R){console.log("[EventDetails] Already initialized for this eventId, skipping initialization");return}if(console.log("[EventDetails] Running initialization logic"),P.current=R,h){if(R){const je=sessionStorage.getItem(`event_registration_${R}`);if(console.log("[EventDetails] Saved registration in sessionStorage:",je?"exists":"not found"),je){let{attendees:Be,registrationMode:qe,memberAttending:ke}=JSON.parse(je);console.log("[EventDetails] Loaded saved registration - mode:",qe,"attendees:",Be.length);const Se=E.some(Ge=>Ge.id===qe);if(console.log('[EventDetails] Is saved mode "'+qe+'" still available?',Se),!Se){console.log("[EventDetails] Saved mode is no longer available - resetting to defaults"),sessionStorage.removeItem(`event_registration_${R}`);let Ge,Ke=!1,Me=[],it=!1;const _e=E.find(Ne=>Ne.id==="colleagues"),at=E.find(Ne=>Ne.id==="self");_e?(Ge="colleagues",it=!0):at?(Ge="self",Ke=!0,Me=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]):(Ge=E.length>0?E[0].id:"colleagues",Ge==="colleagues"&&(it=!0)),w(Ge),_(Ke),g(Me),A(it);return}qe==="links"&&(qe="self",ke=!0,Be=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}],console.log("[EventDetails] Converted links mode to self mode")),g(Be),w(qe),_(ke!==void 0?ke:!1),qe==="colleagues"&&Be.length===0?A(!0):A(!1)}else{console.log("[EventDetails] No saved registration - initializing defaults");let Be,qe=!1,ke=[],Se=!1;const Ge=E.find(Me=>Me.id==="colleagues"),Ke=E.find(Me=>Me.id==="self");Ge?(Be="colleagues",Se=!0):Ke?(Be="self",qe=!0,ke=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]):(Be=E.length>0?E[0].id:"colleagues",Be==="colleagues"&&(Se=!0)),w(Be),_(qe),g(ke),A(Se)}}}else{console.log("[EventDetails] No memberInfo - setting up for unauthenticated user"),g([]);const Be=E.find(qe=>qe.id==="colleagues")?"colleagues":E.length>0?E[0].id:"colleagues";w(Be),_(!1),A(Be==="colleagues")}},[R]),b.useEffect(()=>{if(R&&h&&P.current===R){const je={attendees:p,registrationMode:j,memberAttending:N};sessionStorage.setItem(`event_registration_${R}`,JSON.stringify(je))}},[p,j,N,R,h]);const{data:O,isLoading:F}=me({queryKey:["event",R],queryFn:async()=>(await K.entities.Event.list()).find(Be=>Be.id===R),enabled:!!R}),z=je=>{g(p.filter((Be,qe)=>qe!==je))},V=(je,Be,qe)=>{const ke=[...p];ke[je][Be]=qe,g(ke)},U=je=>{g([...p,{...je,isValid:!0,isSelf:!1}]),A(!1)},B=je=>{w(je),A(!1),h?je==="self"?(g([{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]),_(!0)):je==="colleagues"&&(g([]),_(!1),A(!0)):(g([]),_(!1),je==="colleagues"&&A(!0))},$=()=>{if(!h)return;const je=!N;if(_(je),je){const Be={email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0};if(!p.some(qe=>qe.isSelf))g([Be,...p]);else{const qe=p.filter(ke=>!ke.isSelf);g([Be,...qe])}}else g(p.filter(Be=>!Be.isSelf))},L=async()=>{u(!1),m(!1)},I=async()=>{u(!1),m(!1),await q("EventDetails")},W=()=>{u(!1),m(!1),setTimeout(()=>{u(!0),m(!0)},10)},q=async je=>{if(h&&!h.is_team_member)try{const qe=(await K.entities.Member.list()).find(ke=>ke.email===h.email);if(qe){const ke={...qe.page_tours_seen||{},[je]:!0};await K.entities.Member.update(qe.id,{page_tours_seen:ke});const Se={...h,page_tours_seen:ke};sessionStorage.setItem("agcas_member",JSON.stringify(Se)),i&&i()}}catch(Be){console.error("Failed to update tour status:",Be)}};if(F)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading event..."})});if(!O)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Event not found"}),e.jsx(Wt,{to:Ee("Events"),children:e.jsx(X,{children:"Back to Events"})})]})});const Z=O.start_date?new Date(O.start_date):null,J=O.end_date?new Date(O.end_date):null,Q=O.available_seats===0||O.available_seats===null,G=p.filter(je=>je.isValid).length*(O.ticket_price||0),ae=j==="links"?0:p.filter(je=>je.isValid).length,se=O.program_tag&&(s!=null&&s.program_ticket_balances)&&s.program_ticket_balances[O.program_tag]||0,de=se>=ae,ue=de&&O.program_tag&&!y&&ae>0,oe=!r||!r("element_AvailableSeatsDisplay"),pe=async()=>{var je,Be;if((j==="colleagues"||j==="self")&&p.filter(ke=>!ke.isSelf&&(ke.validationStatus==="unregistered_domain_match"||ke.validationStatus==="external")&&(!ke.first_name||!ke.last_name)).length>0){te.error("Please provide first and last names for all attendees");return}if(!de){te.error("Insufficient program tickets. Please purchase more tickets first.");return}if(j==="colleagues"&&p.some(qe=>!qe.isValid)){te.error("Please remove or fix invalid attendee emails");return}if(ae===0){te.error("Please add at least one attendee or specify number of links");return}v(!0);try{const qe=await K.functions.invoke("createBooking",{eventId:O.id,memberEmail:h.email,attendees:j==="colleagues"||j==="self"?p.filter(ke=>ke.isValid):[],registrationMode:j,numberOfLinks:0,ticketsRequired:ae,programTag:O.program_tag});qe.data.success?(sessionStorage.removeItem(`event_registration_${O.id}`),n&&n(),te.success("Booking confirmed!"),setTimeout(()=>{window.location.href=Ee("Bookings")},1500)):te.error(qe.data.error||"Failed to create booking")}catch(qe){te.error(((Be=(je=qe.response)==null?void 0:je.data)==null?void 0:Be.error)||"Failed to create booking")}finally{v(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[c&&M&&e.jsx(Rc,{tourGroupName:"EventDetails",viewId:null,onComplete:L,onDismissPermanently:I,autoShow:d}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Wt,{to:Ee("Events"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to Events"]}),M&&e.jsx(Fc,{onClick:W})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[O.image_url&&e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg",children:e.jsx("img",{src:O.image_url,alt:O.title,className:"w-full h-64 object-cover"})}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:O.title}),O.program_tag&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:O.program_tag})]}),e.jsxs("div",{className:"space-y-3 pt-4",children:[Z&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(js,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{className:"font-medium",children:At(Z,"EEEE, MMMM d, yyyy")}),J&&Z.getTime()!==J.getTime()&&e.jsxs("span",{className:"text-slate-500",children:["- ",At(J,"MMMM d, yyyy")]})]}),Z&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(en,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{children:At(Z,"h:mm a")}),J&&e.jsxs("span",{className:"text-slate-500",children:["- ",At(J,"h:mm a")]})]}),O.location&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(Tr,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{children:O.location})]}),oe&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bs,{className:"w-5 h-5 text-slate-400"}),Q?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration - No Capacity Limit"}):O.available_seats!==void 0&&O.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[O.available_seats," seats available"]}):O.available_seats!==void 0?e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"}):null]})]})]}),O.description&&e.jsxs(ce,{className:"pt-6 border-t border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"About this event"}),e.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:O.description})]})]}),j==="colleagues"&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($e,{className:"text-xl",children:"Attendees"}),e.jsxs("div",{className:"flex items-center gap-4",children:[h&&e.jsxs("div",{className:"flex items-center gap-3",id:"member-attending-toggle",children:[e.jsx(ls,{id:"member-attending",checked:N,onCheckedChange:$}),e.jsx(ee,{htmlFor:"member-attending",className:"text-sm font-medium text-slate-700 cursor-pointer",children:"I am attending"})]}),e.jsxs(X,{id:"add-colleague-button",variant:"outline",size:"sm",onClick:()=>A(!0),className:"gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add Colleague"]})]})]})}),e.jsxs(ce,{className:"pt-6 space-y-4",children:[T&&e.jsxs("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-slate-900",children:"Add Colleague"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(!1),children:"Cancel"})]}),e.jsx("div",{id:"colleague-search-input",children:e.jsx(Ile,{organizationId:h==null?void 0:h.organization_id,onSelect:U,memberInfo:h})})]}),p.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(bs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{children:"No attendees added yet"}),h&&e.jsx("p",{className:"text-sm mt-1",children:'Toggle "I am attending" or add colleagues to get started.'})]}):e.jsxs(e.Fragment,{children:[e.jsx(Rle,{attendees:p,onUpdate:V,onRemove:z,memberInfo:h}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:pe,disabled:!ue,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:y?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):"Confirm Booking"}),!de&&O.program_tag&&e.jsxs("p",{className:"text-xs text-center text-amber-600 mt-2",children:["Insufficient program tickets. You need ",ae-se," more ticket",ae-se>1?"s":"","."]}),ae===0&&e.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Add attendees to proceed with booking"})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx(Fle,{totalCost:G,memberInfo:h,organizationInfo:s,attendees:p.filter(je=>je.isValid),numberOfLinks:0,event:O,submitting:y,setSubmitting:v,registrationMode:j,refreshOrganizationInfo:n}),E.length>1&&e.jsx("div",{children:e.jsx(Lle,{mode:j,onModeChange:B,isFeatureExcluded:r})})]})]})]})]})}function Ble({organizationId:t,selectedVouchers:s,onVoucherToggle:n,maxAmount:r}){const{data:a,isLoading:i,error:l}=me({queryKey:["vouchers",t],queryFn:async()=>{if(!t)return[];console.log("[VoucherSelector] Fetching vouchers for org:",t);const d=await K.entities.Voucher.list();console.log("[VoucherSelector] All vouchers fetched:",d.length);const m=d.filter(h=>h.organization_id===t&&h.status==="active");return console.log("[VoucherSelector] Active vouchers for this org:",m.length),m},enabled:!!t,initialData:[],staleTime:5e3}),o=b.useMemo(()=>{if(!a||a.length===0)return[];console.log("[VoucherSelector] BEFORE client-side sort:",a.map(m=>({code:m.code,value:m.value,expires_at:m.expires_at,expiryTimestamp:new Date(m.expires_at).getTime()})));const d=[...a].sort((m,h)=>{const p=new Date(m.expires_at).getTime(),g=new Date(h.expires_at).getTime();return p!==g?p-g:m.value-h.value});return console.log("[VoucherSelector] AFTER client-side sort:",d.map(m=>({code:m.code,value:m.value,expires_at:m.expires_at,expiryTimestamp:new Date(m.expires_at).getTime()}))),d},[a]),c=b.useMemo(()=>{const d=new Map;if(!r||s.length===0)return d;const m=s.map(p=>o.find(g=>g.id===p)).filter(p=>p!==void 0).sort((p,g)=>{const y=new Date(p.expires_at).getTime(),v=new Date(g.expires_at).getTime();return y!==v?y-v:p.value-g.value});let h=r;for(const p of m){if(h<=0)break;const g=Math.min(p.value,h),y=g>=p.value,v=p.value-g;d.set(p.id,{amountUsed:g,isFullyUsed:y,remainingValue:v}),h-=g}return d},[o,s,r]),u=(d,m)=>{n(m?[...s,d]:s.filter(h=>h!==d))};return i?e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Loading vouchers..."})]})}):l?e.jsx("div",{className:"p-4 rounded-lg border border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-600",children:[e.jsx(ps,{className:"w-4 h-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Error loading vouchers"}),e.jsx("p",{className:"text-xs mt-1",children:l.message})]})]})}):t?o.length===0?e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[e.jsx(ps,{className:"w-4 h-4 mt-0.5"}),e.jsx("span",{children:"No active vouchers available"})]})}):e.jsxs("div",{className:"space-y-3",children:[o.length>0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Sorted by expiry date - vouchers expiring soonest are listed first"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(d=>{const m=s.includes(d.id),h=c.get(d.id),p=(h==null?void 0:h.isFullyUsed)||!1,g=(h==null?void 0:h.remainingValue)||0,y=m&&!p&&g>0,v=new Date(d.expires_at),j=Math.ceil((v-new Date)/(1e3*60*60*24)),w=j<=30;let N="bg-white";m&&p?N="bg-green-50":m&&y?N="bg-yellow-50":m&&(N="bg-blue-50");let _="border-slate-200";m&&p?_="border-green-300":m&&y?_="border-yellow-300":m&&(_="border-blue-500");let T="text-slate-400";return m&&p?T="text-green-600":m&&y?T="text-yellow-600":m&&(T="text-blue-600"),e.jsx("div",{className:`p-3 rounded-lg border transition-all ${_} ${N}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ds,{className:`w-4 h-4 shrink-0 ${T}`}),e.jsx("span",{className:"font-semibold text-slate-900 truncate",children:d.code}),e.jsxs(ve,{className:"bg-green-100 text-green-700 text-xs",children:["",d.value.toFixed(2)]})]}),d.description&&e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:d.description}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(js,{className:"w-3 h-3 text-slate-400"}),e.jsxs("span",{className:w?"text-amber-600 font-medium":"text-slate-500",children:["Expires ",At(v,"MMM d, yyyy"),w&&` (${j} days)`]})]}),y&&e.jsx("div",{className:"mt-2 pt-2 border-t border-yellow-200",children:e.jsxs("p",{className:"text-xs text-yellow-700 font-medium",children:["Remaining balance after purchase: ",g.toFixed(2)]})})]}),e.jsx(ls,{checked:m,onCheckedChange:A=>u(d.id,A),className:"shrink-0"})]})},d.id)})})]}):e.jsx("div",{className:"p-4 rounded-lg border border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-600",children:[e.jsx(ps,{className:"w-4 h-4 mt-0.5"}),e.jsx("span",{children:"Organization information not available"})]})})}var lL="clover",qle=function(s){return s===3?"v3":s},oL="https://js.stripe.com",zle="".concat(oL,"/").concat(lL,"/stripe.js"),$le=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ule=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Vle=function(s){return $le.test(s)||Ule.test(s)},Wle=function(){for(var s=document.querySelectorAll('script[src^="'.concat(oL,'"]')),n=0;n<s.length;n++){var r=s[n];if(Vle(r.src))return r}return null},oT=function(s){var n="",r=document.createElement("script");r.src="".concat(zle).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},Hle=function(s,n){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:n})},zh=null,dx=null,ux=null,Gle=function(s){return function(n){s(new Error("Failed to load Stripe.js",{cause:n}))}},Kle=function(s,n){return function(){window.Stripe?s(window.Stripe):n(new Error("Stripe.js not available"))}},Yle=function(s){return zh!==null?zh:(zh=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=Wle();if(!(a&&s)){if(!a)a=oT(s);else if(a&&ux!==null&&dx!==null){var i;a.removeEventListener("load",ux),a.removeEventListener("error",dx),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=oT(s)}}ux=Kle(n,r),dx=Gle(r),a.addEventListener("load",ux),a.addEventListener("error",dx)}catch(l){r(l);return}}),zh.catch(function(n){return zh=null,Promise.reject(n)}))},Qle=function(s,n,r){if(s===null)return null;var a=n[0],i=a.match(/^pk_test/),l=qle(s.version),o=lL;i&&l!==o&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,n);return Hle(c,r),c},$h,cL=!1,dL=function(){return $h||($h=Yle(null).catch(function(s){return $h=null,Promise.reject(s)}),$h)};Promise.resolve().then(function(){return dL()}).catch(function(t){cL||console.warn(t)});var uL=function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];cL=!0;var a=Date.now();return dL().then(function(i){return Qle(i,n,a)})},Eb={exports:{}},Pb,cT;function Jle(){if(cT)return Pb;cT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pb=t,Pb}var Tb,dT;function Xle(){if(dT)return Tb;dT=1;var t=Jle();function s(){}function n(){}return n.resetWarningCache=s,Tb=function(){function r(l,o,c,u,d,m){if(m!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:s};return i.PropTypes=i,i},Tb}var uT;function Zle(){return uT||(uT=1,Eb.exports=Xle()()),Eb.exports}var eoe=Zle();const Zs=Bc(eoe);function hT(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mT(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?hT(Object(n),!0).forEach(function(r){hL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qx(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qx=function(s){return typeof s}:qx=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},qx(t)}function hL(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function toe(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function soe(t,s){if(t==null)return{};var n=toe(t,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mL(t,s){return noe(t)||roe(t,s)||aoe(t,s)||ioe()}function noe(t){if(Array.isArray(t))return t}function roe(t,s){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],a=!0,i=!1,l,o;try{for(n=n.call(t);!(a=(l=n.next()).done)&&(r.push(l.value),!(s&&r.length===s));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function aoe(t,s){if(t){if(typeof t=="string")return fT(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fT(t,s)}}function fT(t,s){(s==null||s>t.length)&&(s=t.length);for(var n=0,r=new Array(s);n<s;n++)r[n]=t[n];return r}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nr=function(s,n,r){var a=!!r,i=Ie.useRef(r);Ie.useEffect(function(){i.current=r},[r]),Ie.useEffect(function(){if(!a||!s)return function(){};var l=function(){i.current&&i.current.apply(i,arguments)};return s.on(n,l),function(){s.off(n,l)}},[a,n,s,i])},m_=function(s){var n=Ie.useRef(s);return Ie.useEffect(function(){n.current=s},[s]),n.current},yu=function(s){return s!==null&&qx(s)==="object"},loe=function(s){return yu(s)&&typeof s.then=="function"},ooe=function(s){return yu(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},pT="[object Object]",coe=function t(s,n){if(!yu(s)||!yu(n))return s===n;var r=Array.isArray(s),a=Array.isArray(n);if(r!==a)return!1;var i=Object.prototype.toString.call(s)===pT,l=Object.prototype.toString.call(n)===pT;if(i!==l)return!1;if(!i&&!r)return s===n;var o=Object.keys(s),c=Object.keys(n);if(o.length!==c.length)return!1;for(var u={},d=0;d<o.length;d+=1)u[o[d]]=!0;for(var m=0;m<c.length;m+=1)u[c[m]]=!0;var h=Object.keys(u);if(h.length!==o.length)return!1;var p=s,g=n,y=function(j){return t(p[j],g[j])};return h.every(y)},fL=function(s,n,r){return yu(s)?Object.keys(s).reduce(function(a,i){var l=!yu(n)||!coe(s[i],n[i]);return r.includes(i)?(l&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):l?mT(mT({},a||{}),{},hL({},i,s[i])):a},null):null},pL="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",xT=function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pL;if(s===null||ooe(s))return s;throw new Error(n)},doe=function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pL;if(loe(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return xT(a,n)})};var r=xT(s,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},uoe=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},E0=Ie.createContext(null);E0.displayName="ElementsContext";var xL=function(s,n){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return s},b2=function(s){var n=s.stripe,r=s.options,a=s.children,i=Ie.useMemo(function(){return doe(n)},[n]),l=Ie.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),o=mL(l,2),c=o[0],u=o[1];Ie.useEffect(function(){var h=!0,p=function(y){u(function(v){return v.stripe?v:{stripe:y,elements:y.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&h&&p(g)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,r]);var d=m_(n);Ie.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var m=m_(r);return Ie.useEffect(function(){if(c.elements){var h=fL(r,m,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,m,c.elements]),Ie.useEffect(function(){uoe(c.stripe)},[c.stripe]),Ie.createElement(E0.Provider,{value:c},a)};b2.propTypes={stripe:Zs.any,options:Zs.object};var hoe=function(s){var n=Ie.useContext(E0);return xL(n,s)},gL=function(){var s=hoe("calls useElements()"),n=s.elements;return n};Zs.func.isRequired;var vL=Ie.createContext(null);vL.displayName="CheckoutContext";Zs.any,Zs.shape({clientSecret:Zs.oneOfType([Zs.string,Zs.instanceOf(Promise)]).isRequired,elementsOptions:Zs.object}).isRequired;var f_=function(s){var n=Ie.useContext(vL),r=Ie.useContext(E0);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return n}else return xL(r,s)},moe=["mode"],foe=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},sa=function(s,n){var r="".concat(foe(s),"Element"),a=function(c){var u=c.id,d=c.className,m=c.options,h=m===void 0?{}:m,p=c.onBlur,g=c.onFocus,y=c.onReady,v=c.onChange,j=c.onEscape,w=c.onClick,N=c.onLoadError,_=c.onLoaderStart,T=c.onNetworksChange,A=c.onConfirm,P=c.onCancel,C=c.onShippingAddressChange,R=c.onShippingRateChange,M=c.onSavedPaymentMethodRemove,k=c.onSavedPaymentMethodUpdate,E=f_("mounts <".concat(r,">")),O="elements"in E?E.elements:null,F="checkoutState"in E?E.checkoutState:null,z=(F==null?void 0:F.type)==="success"||(F==null?void 0:F.type)==="loading"?F.sdk:null,V=Ie.useState(null),U=mL(V,2),B=U[0],$=U[1],L=Ie.useRef(null),I=Ie.useRef(null);Nr(B,"blur",p),Nr(B,"focus",g),Nr(B,"escape",j),Nr(B,"click",w),Nr(B,"loaderror",N),Nr(B,"loaderstart",_),Nr(B,"networkschange",T),Nr(B,"confirm",A),Nr(B,"cancel",P),Nr(B,"shippingaddresschange",C),Nr(B,"shippingratechange",R),Nr(B,"savedpaymentmethodremove",M),Nr(B,"savedpaymentmethodupdate",k),Nr(B,"change",v);var W;y&&(s==="expressCheckout"?W=y:W=function(){y(B)}),Nr(B,"ready",W),Ie.useLayoutEffect(function(){if(L.current===null&&I.current!==null&&(O||z)){var Z=null;if(z)switch(s){case"paymentForm":Z=z.createPaymentFormElement();break;case"payment":Z=z.createPaymentElement(h);break;case"address":if("mode"in h){var J=h.mode,Q=soe(h,moe);if(J==="shipping")Z=z.createShippingAddressElement(Q);else if(J==="billing")Z=z.createBillingAddressElement(Q);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Z=z.createExpressCheckoutElement(h);break;case"currencySelector":Z=z.createCurrencySelectorElement();break;case"taxId":Z=z.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(Z=O.create(s,h));L.current=Z,$(Z),Z&&Z.mount(I.current)}},[O,z,h]);var q=m_(h);return Ie.useEffect(function(){if(L.current){var Z=fL(h,q,["paymentRequest"]);Z&&"update"in L.current&&L.current.update(Z)}},[h,q]),Ie.useLayoutEffect(function(){return function(){if(L.current&&typeof L.current.destroy=="function")try{L.current.destroy(),L.current=null}catch{}}},[]),Ie.createElement("div",{id:u,className:d,ref:I})},i=function(c){f_("mounts <".concat(r,">"));var u=c.id,d=c.className;return Ie.createElement("div",{id:u,className:d})},l=n?i:a;return l.propTypes={id:Zs.string,className:Zs.string,onChange:Zs.func,onBlur:Zs.func,onFocus:Zs.func,onReady:Zs.func,onEscape:Zs.func,onClick:Zs.func,onLoadError:Zs.func,onLoaderStart:Zs.func,onNetworksChange:Zs.func,onConfirm:Zs.func,onCancel:Zs.func,onShippingAddressChange:Zs.func,onShippingRateChange:Zs.func,onSavedPaymentMethodRemove:Zs.func,onSavedPaymentMethodUpdate:Zs.func,options:Zs.object},l.displayName=r,l.__elementType=s,l},na=typeof window>"u",poe=Ie.createContext(null);poe.displayName="EmbeddedCheckoutProviderContext";var yL=function(){var s=f_("calls useStripe()"),n=s.stripe;return n};sa("auBankAccount",na);sa("card",na);sa("cardNumber",na);sa("cardExpiry",na);sa("cardCvc",na);sa("iban",na);var bL=sa("payment",na);sa("expressCheckout",na);sa("paymentRequestButton",na);sa("linkAuthentication",na);sa("address",na);sa("shippingAddress",na);sa("paymentMethodMessaging",na);sa("taxId",na);let Ab=null;function xoe({clientSecret:t,onSuccess:s,onCancel:n,amount:r}){const a=yL(),i=gL(),[l,o]=b.useState(!1),[c,u]=b.useState(null),d=async m=>{if(m.preventDefault(),!(!a||!i)){o(!0),u(null);try{const{error:h}=await a.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});h?(u(h.message),o(!1)):s()}catch(h){console.error("Stripe confirmPayment error:",h),u(h.message),o(!1)}}};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Amount to charge:"})," ",r.toFixed(2)]})}),e.jsx("div",{children:e.jsx(bL,{options:{layout:"tabs"}})}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 mr-0.5 mt-0.5 text-red-600 shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:c})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:l,className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",disabled:!a||l,className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay ${r.toFixed(2)}`})]})]})}function jL({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,isFeatureExcluded:r,memberRole:a,reloadMemberInfo:i}){var ut;const[l,o]=b.useState(null),[c,u]=b.useState(1),[d,m]=b.useState(""),[h,p]=b.useState(!1),[g,y]=b.useState([]),[v,j]=b.useState(0),[w,N]=b.useState("account"),[_,T]=b.useState(""),[A,P]=b.useState(null),[C,R]=b.useState(!1),[M,k]=b.useState(!1),[E,O]=b.useState(null),[F,z]=b.useState(!1),[V,U]=b.useState(null),[B,$]=b.useState(null),[L,I]=b.useState(!1),[W,q]=b.useState(!1),[Z,J]=b.useState(!1),[Q,G]=b.useState(!1),ae=b.useRef(!1),se=b.useRef(!1),de=Gt(),ue=t&&!t.is_team_member&&a&&a.show_tours!==!1;b.useEffect(()=>{(async()=>{try{const Ze=await K.functions.invoke("getStripePublishableKey");Ze.data.publishableKey?Ab=uL(Ze.data.publishableKey):console.warn("Stripe publishable key not found in response.")}catch(Ze){console.error("Failed to load Stripe publishable key:",Ze)}})()},[]),b.useEffect(()=>{t&&s&&(async()=>{try{console.log("[BuyProgramTickets] Updating expired vouchers...");const Ze=await K.functions.invoke("updateExpiredVouchers");Ze.data.success&&Ze.data.updated_count>0?(console.log("[BuyProgramTickets] Updated expired vouchers:",Ze.data.updated_count),de.invalidateQueries({queryKey:["vouchers"]})):console.log("[BuyProgramTickets] No expired vouchers found or update not needed"),de.invalidateQueries({queryKey:["vouchers"]})}catch(Ze){console.error("[BuyProgramTickets] Failed to update expired vouchers:",Ze)}})()},[t,s,de]),b.useEffect(()=>{if(!ue||l!==null||ae.current)return;(t.page_tours_seen||{})["BuyProgramTickets_list"]||(ae.current=!0,J(!0),I(!0))},[t,l,ue]),b.useEffect(()=>{if(!ue||l===null||se.current)return;(t.page_tours_seen||{})["BuyProgramTickets_form"]||(se.current=!0,G(!0),q(!0))},[t,l,ue]);const{data:oe,isLoading:pe}=me({queryKey:["programs"],queryFn:()=>K.entities.Program.filter({is_active:!0}),initialData:[]}),{data:be}=me({queryKey:["events"],queryFn:()=>K.entities.Event.list(),initialData:[]}),{data:je}=me({queryKey:["vouchers",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?await K.entities.Voucher.filter({organization_id:s.id,status:"active"}):[],enabled:!!(s!=null&&s.id)&&!r("payment_training_vouchers"),initialData:[]});b.useEffect(()=>{if(l){const Pe=sessionStorage.getItem(`program_purchase_${l.id}`);if(Pe){const{selectedVouchers:Ze,trainingFund:yt,paymentMethod:ns,po:os,qty:Ys}=JSON.parse(Pe),us=(Ze||[]).filter(Dr=>je.some(vn=>vn.id===Dr));y(us),j(yt||0),N(ns||"account"),m(os||""),u(Ys||1)}else y([]),j(0),N("account"),m(""),u(1),P(null),T("")}else y([]),j(0),N("account"),m(""),u(1),P(null),T("")},[l,je]),b.useEffect(()=>{if(g.length>0&&je.length>0){const Pe=g.filter(Ze=>je.some(yt=>yt.id===Ze));Pe.length!==g.length&&(console.log("[BuyProgramTickets] Cleaning up invalid voucher IDs from state"),y(Pe))}},[je,g]),b.useEffect(()=>{if(l){const Pe={selectedVouchers:g,trainingFund:v,paymentMethod:w,po:d,qty:c};sessionStorage.setItem(`program_purchase_${l.id}`,JSON.stringify(Pe))}},[l,g,v,w,d,c]),b.useEffect(()=>{l&&(P(null),T(""))},[c,l==null?void 0:l.id]);const Be=async Pe=>{if(t&&!t.is_team_member)try{const yt=(await K.entities.Member.list()).find(ns=>ns.email===t.email);if(yt){const ns={...yt.page_tours_seen||{},[Pe]:!0};await K.entities.Member.update(yt.id,{page_tours_seen:ns});const os={...t,page_tours_seen:ns};sessionStorage.setItem("agcas_member",JSON.stringify(os)),i&&i()}}catch(Ze){console.error("Failed to update tour status:",Ze)}},qe=async()=>{I(!1),J(!1)},ke=async()=>{I(!1),J(!1),await Be("BuyProgramTickets_list")},Se=async()=>{q(!1),G(!1)},Ge=async()=>{q(!1),G(!1),await Be("BuyProgramTickets_form")},Ke=()=>{I(!0),J(!0)},Me=()=>{q(!0),G(!0)};if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const it=s.program_ticket_balances?Object.values(s.program_ticket_balances).reduce((Pe,Ze)=>Pe+Ze,0):0,_e=be.reduce((Pe,Ze)=>(Ze.program_tag&&(Pe[Ze.program_tag]=(Pe[Ze.program_tag]||0)+1),Pe),{}),at=(Pe,Ze)=>{const yt=Pe.offer_type||"none";let ns=yt;yt==="none"&&(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity?ns="bogo":Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&(ns="bulk_discount"));const os=Pe.program_ticket_price*Ze;if(ns==="bogo"){if((Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"){if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&Ze>=Pe.bogo_buy_quantity)return os}else if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&Ze>=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity){const us=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity,Dr=Math.floor(Ze/us),vn=Ze%us,Xn=Dr*Pe.bogo_buy_quantity+vn;return Pe.program_ticket_price*Xn}}else if(ns==="bulk_discount"&&Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&Ze>=Pe.bulk_discount_threshold){const Ys=os*(Pe.bulk_discount_percentage/100);return os-Ys}return os},Ne=(Pe,Ze)=>{const yt=Pe.offer_type||"none";let ns=yt;if(yt==="none"&&Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&(ns="bogo"),ns==="bogo"){if((Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"){if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&Ze>=Pe.bogo_buy_quantity)return Math.floor(Ze/Pe.bogo_buy_quantity)*Pe.bogo_get_free_quantity}else if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&Ze>=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity){const Ys=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity;return Math.floor(Ze/Ys)*Pe.bogo_get_free_quantity}}return 0},ze=(Pe,Ze)=>(Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"?Ze+Ne(Pe,Ze):Ze,nt=Pe=>{o(Pe),u(1),m(""),y([]),j(0),N("account"),P(null),T("")},dt=l?at(l,c):0,lt=A?A.totalCostAfterDiscount:dt,Ot=l?Ne(l,c):0,Xt=l?ze(l,c):0,Ls=g.reduce((Pe,Ze)=>{const yt=je.find(ns=>ns.id===Ze);return Pe+((yt==null?void 0:yt.value)||0)},0),Ns=r("payment_training_vouchers")?0:Math.min(Ls,lt),ln=r("payment_training_fund")?0:Math.min((s==null?void 0:s.training_fund_balance)||0,lt-Ns),Yt=Math.max(0,lt-Ns-v),fn=Pe=>{const Ze=Math.max(0,Math.min(ln,parseFloat(Pe)||0));j(Ze)},As=async()=>{var Pe,Ze;if(!_.trim()){te.error("Please enter a discount code");return}if(!l){te.error("Please select a program first.");return}R(!0);try{const yt=await K.functions.invoke("applyDiscountCode",{code:_.trim().toUpperCase(),totalCost:dt,programTag:l.program_tag,memberEmail:t.email});yt.data.success?(P(yt.data),te.success(yt.data.message)):(te.error(yt.data.error||"Invalid discount code"),P(null))}catch(yt){console.error("Error applying discount:",yt);const ns=((Ze=(Pe=yt.response)==null?void 0:Pe.data)==null?void 0:Ze.error)||"Invalid discount code";te.error(ns),P(null)}finally{R(!1)}},vr=()=>{P(null),T(""),te.info("Discount code removed")},Vn=Ns+v+Yt,Qe=Math.abs(Vn-lt)<.01,bt=async()=>{var Pe,Ze,yt,ns;z(!1),p(!0);try{const os=await K.functions.invoke("processProgramTicketPurchase",{memberEmail:t.email,programName:l.name,quantity:parseInt(c),purchaseOrderNumber:null,selectedVoucherIds:r("payment_training_vouchers")?[]:g,trainingFundAmount:r("payment_training_fund")?0:v,accountAmount:0,paymentMethod:"card",stripePaymentIntentId:B,appliedDiscountId:(A==null?void 0:A.discountId)||null});((Pe=os==null?void 0:os.data)==null?void 0:Pe.success)===!0?(l&&sessionStorage.removeItem(`program_purchase_${l.id}`),n&&await n(),O({programName:l.name,quantity:Xt,totalCost:lt,isSimulatedPayment:!1,paymentMethod:"card"}),k(!0),o(null),u(1),m(""),y([]),j(0),N("account"),U(null),$(null),P(null),T("")):(console.error("[BuyProgramTickets] FAILED - response.data:",os.data),te.error(((Ze=os.data)==null?void 0:Ze.error)||"Failed to process purchase"))}catch(os){console.error("[BuyProgramTickets] CAUGHT ERROR during handleStripePaymentSuccess:",os);const Ys=((ns=(yt=os.response)==null?void 0:yt.data)==null?void 0:ns.error)||os.message||"Failed to process purchase after card payment";te.error(Ys)}finally{p(!1)}},ds=async Pe=>{var Ze,yt,ns,os,Ys;if(Pe.preventDefault(),c===""||c<1){te.error("Please enter a valid quantity (at least 1)");return}if(!Qe){te.error("Please allocate the full amount across payment methods");return}if(Yt>0&&w==="account"&&!d.trim()){te.error("Please enter a purchase order number for account charges");return}if(w==="card"&&Yt>0){p(!0);try{const us=await K.functions.invoke("createStripePaymentIntent",{amount:Yt,currency:"gbp",memberEmail:t.email,metadata:{program_name:l.program_tag,quantity:c,organization_id:s.id,discount_code:(A==null?void 0:A.code)||null}});us.data.success?(U(us.data.clientSecret),$(us.data.paymentIntentId),z(!0)):te.error("Failed to initialize payment: "+(us.data.error||"Unknown error"))}catch(us){console.error("Error creating Stripe Payment Intent:",us),te.error("Failed to initialize payment")}finally{p(!1)}return}p(!0);try{const us=await K.functions.invoke("processProgramTicketPurchase",{memberEmail:t.email,programName:l.name,quantity:parseInt(c),purchaseOrderNumber:w==="account"?d.trim():null,selectedVoucherIds:r("payment_training_vouchers")?[]:g,trainingFundAmount:r("payment_training_fund")?0:v,accountAmount:w==="account"?Yt:0,paymentMethod:w,appliedDiscountId:(A==null?void 0:A.discountId)||null});console.log("[BuyProgramTickets] RAW RESPONSE:",JSON.stringify(us,null,2)),console.log("[BuyProgramTickets] response.data:",us.data),console.log("[BuyProgramTickets] response.data.success:",(Ze=us.data)==null?void 0:Ze.success),((yt=us==null?void 0:us.data)==null?void 0:yt.success)===!0?(l&&sessionStorage.removeItem(`program_purchase_${l.id}`),n&&await n(),O({programName:l.name,quantity:Xt,totalCost:lt,isSimulatedPayment:!1,paymentMethod:w}),k(!0),o(null),u(1),m(""),y([]),j(0),N("account"),P(null),T("")):(console.error("[BuyProgramTickets] FAILED - response.data:",us.data),te.error(((ns=us.data)==null?void 0:ns.error)||"Failed to process purchase"))}catch(us){console.error("[BuyProgramTickets] CAUGHT ERROR"),console.error("[BuyProgramTickets] Error object:",us),console.error("[BuyProgramTickets] Error.toString():",us.toString()),console.error("[BuyProgramTickets] JSON.stringify(error):",JSON.stringify(us,Object.getOwnPropertyNames(us)));const Dr=((Ys=(os=us.response)==null?void 0:os.data)==null?void 0:Ys.error)||us.message||"Failed to process purchase";te.error(Dr)}finally{p(!1)}},we=()=>{k(!1),O(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[L&&ue&&!l&&e.jsx(Rc,{tourGroupName:"BuyProgramTickets",viewId:"list",onComplete:qe,onDismissPermanently:ke,autoShow:Z}),W&&ue&&l&&e.jsx(Rc,{tourGroupName:"BuyProgramTickets",viewId:"form",onComplete:Se,onDismissPermanently:Ge,autoShow:Q}),e.jsx("div",{className:"max-w-7xl mx-auto",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o(null),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to Programs"]}),ue&&e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(Fc,{onClick:Me})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[l.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs(Re,{children:[e.jsx($e,{className:"text-2xl",children:l.name}),l.description&&e.jsx("p",{className:"text-slate-600 mt-2",children:l.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-xl font-bold text-purple-600",children:((ut=s.program_ticket_balances)==null?void 0:ut[l.program_tag])||0})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-xs text-slate-500",children:"This is the number of tickets your organisation has already purchased but not yet allocated to attendees"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"quantity-input",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l.bogo_logic_type==="enter_total_pay_less"?"Enter total number of tickets you want to receive":"Enter number of tickets to purchase"}),e.jsx(he,{id:"quantity-input",type:"number",min:"1",max:"1000",value:c,onChange:Pe=>{const Ze=Pe.target.value;if(Ze==="")u("");else{const yt=parseInt(Ze);!isNaN(yt)&&yt>=0&&u(yt)}},onBlur:Pe=>{const Ze=parseInt(Pe.target.value);isNaN(Ze)||Ze<1?u(1):u(Ze)},placeholder:"Enter quantity",className:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Price per Ticket:"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",l.program_ticket_price]})]}),Ot>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:l.bogo_logic_type==="enter_total_pay_less"?"Discount Applied (Free Tickets):":"Free Tickets:"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:l.bogo_logic_type==="enter_total_pay_less"?`${Ot} ticket${Ot>1?"s":""}`:`+${Ot}`})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Tickets You'll Receive:"}),e.jsx("span",{className:"text-xl font-bold text-purple-600",children:Xt})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-purple-200 pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Cost:"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["",dt.toFixed(2)]})]}),(()=>{const Pe=l.offer_type||"none";let Ze=Pe;return Pe==="none"&&(l.bogo_buy_quantity&&l.bogo_get_free_quantity?Ze="bogo":l.bulk_discount_threshold&&l.bulk_discount_percentage&&(Ze="bulk_discount")),Ze==="bogo"&&Ot>0?e.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:l.bogo_logic_type==="enter_total_pay_less"?` BOGO offer applied: You entered ${c} ticket${c>1?"s":""}, paying for ${c-Ot}!`:` Buy ${l.bogo_buy_quantity}, Get ${l.bogo_get_free_quantity} Free offer applied!`}):Ze==="bulk_discount"&&l.bulk_discount_threshold&&l.bulk_discount_percentage&&c>=l.bulk_discount_threshold?e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",l.bulk_discount_percentage,"% bulk discount applied!"]}):null})()]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(le,{id:"payment-options-card",className:"border-slate-200 shadow-lg sticky top-8",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{className:"font-semibold tracking-tight text-xl",children:"Payment Options"})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[!r("payment_training_vouchers")&&e.jsxs("div",{id:"training-vouchers-section",className:"p-4 rounded-lg border border-slate-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ds,{className:"w-4 h-4 text-blue-600"}),e.jsx(ee,{className:"text-sm font-medium",children:"Training Vouchers"})]}),e.jsx(Ble,{organizationId:s==null?void 0:s.id,selectedVouchers:g,onVoucherToggle:y,maxAmount:lt}),Ns>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Voucher Value Applied:"}),e.jsxs("span",{className:"font-bold text-blue-900",children:["",Ns.toFixed(2)]})]})})]}),!r("payment_training_fund")&&e.jsxs("div",{id:"training-fund-section",className:"p-4 rounded-lg border border-slate-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Eo,{className:"w-4 h-4 text-green-600"}),e.jsx(ee,{className:"text-sm font-medium",children:"Training Fund"})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Available: ",((s==null?void 0:s.training_fund_balance)||0).toFixed(2)]})]}),e.jsx(he,{type:"number",min:"0",max:ln,step:"0.01",placeholder:"Amount in ",value:v||"",onChange:Pe=>fn(Pe.target.value),disabled:ln===0})]}),Yt>0&&e.jsxs("div",{id:"remaining-balance-section",className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx($c,{className:"w-4 h-4 text-indigo-600"}),e.jsx(ee,{className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-sm font-medium",children:"Pay Balance"})]}),e.jsx("div",{id:"amount-due-display",className:"mb-4 p-3 bg-white rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Amount Due:"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",Yt.toFixed(2)]})]})}),e.jsx(Tm,{value:w,onValueChange:N,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[" ",e.jsxs("div",{id:"account-payment-option",className:"flex items-start space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer hover:bg-slate-100",style:{borderColor:w==="account"?"#6366f1":"#e2e8f0"},onClick:()=>N("account"),children:[e.jsx(vl,{value:"account",id:"account",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"account",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 font-medium cursor-pointer",children:"Charge to Organisation Account"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Requires purchase order number"})]})]}),w==="account"&&e.jsxs("div",{id:"purchase-order-field",className:"flex items-start gap-2 ml-2",children:[e.jsx("div",{className:"pt-6",children:e.jsx(ts,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"po-number",className:"text-xs text-slate-600 mb-1 block",children:"Purchase Order Number *"}),e.jsx(he,{id:"po-number",type:"text",value:d,onChange:Pe=>m(Pe.target.value),placeholder:"e.g., PO-2024-001",required:!0})]})]})]}),e.jsxs("div",{id:"card-payment-option",className:"flex items-start space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer hover:bg-slate-100",style:{borderColor:w==="card"?"#6366f1":"#e2e8f0"},onClick:()=>N("card"),children:[e.jsx(vl,{value:"card",id:"card",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"card",className:"font-medium cursor-pointer",children:"Credit/Debit Card"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Secure payment via Stripe"})]})]})]})})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Subtotal"}),e.jsxs("span",{className:A?"line-through text-slate-400":"font-semibold text-slate-900",children:["",dt.toFixed(2)]})]}),A?e.jsxs("div",{className:"p-4 rounded-lg border border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jc,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:A.code}),e.jsx("p",{className:"text-xs text-green-700",children:A.type==="percentage"?`${A.value}% off`:`${A.value} off`})]})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6 text-green-700 hover:text-green-900 hover:bg-green-100",onClick:vr,children:e.jsx(ws,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Discount:"}),e.jsxs("span",{className:"font-semibold text-green-900",children:["-",A.discountAmount.toFixed(2)]})]})})]}):e.jsxs("div",{id:"discount-code-section",className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(jc,{className:"w-4 h-4 text-purple-600"}),e.jsx(ee,{className:"text-sm font-medium",children:"Discount Code"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Enter code",value:_,onChange:Pe=>T(Pe.target.value.toUpperCase()),onKeyPress:Pe=>Pe.key==="Enter"&&As(),disabled:C}),e.jsx(X,{onClick:As,disabled:C||!_.trim(),size:"sm",variant:"outline",children:C?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-1 animate-spin"}),"Applying..."]}):"Apply"})]})]}),(Ns>0||v>0)&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Vouchers & Training Fund"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["-",(Ns+v).toFixed(2)]})]}),e.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Amount Due"}),e.jsxs("span",{className:`text-xl font-bold ${Yt===0?"text-green-600":"text-slate-900"}`,children:["",Yt.toFixed(2)]})]}),Yt===0&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Fully covered by vouchers & training fund"}),Yt>0&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["To be paid by ",w==="account"?"account charge":"credit/debit card"]})]})]}),e.jsx(X,{id:"complete-purchase-button",onClick:ds,disabled:!Qe||h||c==="",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",size:"lg",children:h?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vc,{className:"w-5 h-5 mr-2"}),"Complete Purchase"]})})]})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Buy unpacked tickets"})}),ue&&e.jsx(Fc,{onClick:Ke})]})}),e.jsx(le,{id:"total-tickets-summary-card",className:"border-slate-200 shadow-sm bg-gradient-to-br from-purple-50 to-blue-50 mb-8",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Available"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:it}),e.jsx("span",{className:"text-slate-600",children:"unpacked tickets"})]})]}),e.jsx("div",{className:"p-4 bg-white/50 rounded-lg",children:e.jsx(Ds,{className:"w-8 h-8 text-purple-600"})})]}),s.name&&e.jsxs("p",{className:"text-sm text-slate-500 mt-3",children:["for ",s.name]})]})}),pe?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(3).fill(0).map((Pe,Ze)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},Ze))}):oe.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ds,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Programs Available"}),e.jsx("p",{className:"text-slate-600",children:"Program tickets will be available here once programs are configured"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:oe.map((Pe,Ze)=>{var os;const yt=((os=s.program_ticket_balances)==null?void 0:os[Pe.program_tag])||0,ns=_e[Pe.program_tag]||0;return e.jsx("button",{id:Ze===0?"first-program-card":void 0,onClick:()=>nt(Pe),className:"text-left group",children:e.jsxs(le,{className:"border-slate-200 hover:border-purple-300 hover:shadow-lg transition-all overflow-hidden h-full",children:[Pe.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:Pe.image_url,alt:Pe.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx($e,{className:"text-lg group-hover:text-purple-600 transition-colors",children:"International Employability unpacked"}),e.jsxs("div",{className:"flex items-center gap-1 text-purple-600 bg-purple-50 px-2 py-1 rounded-full shrink-0",children:[e.jsx(Ds,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:yt})]})]})}),e.jsxs(ce,{className:"space-y-3",children:[Pe.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:Pe.description}),e.jsxs("div",{className:"pt-2 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500",children:[ns," ",ns===1?"event":"events"]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",Pe.program_ticket_price]}),e.jsx("span",{className:"text-xs text-slate-500",children:"per ticket"})]})]}),Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&e.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["Buy ",Pe.bogo_buy_quantity,", Get ",Pe.bogo_get_free_quantity," Free!"]}),!Pe.bogo_buy_quantity&&Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&e.jsxs("p",{className:"text-xs text-green-600",children:[Pe.bulk_discount_percentage,"% off when buying ",Pe.bulk_discount_threshold,"+ tickets"]})]})]})]})},Pe.id)})})]})}),e.jsx(St,{open:F,onOpenChange:z,children:e.jsxs(Nt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsx(kt,{children:"Enter Payment Details"}),e.jsx(fa,{children:"Complete your purchase by entering your card information below."})]}),V&&Ab&&e.jsx(b2,{stripe:Ab,options:{clientSecret:V},children:e.jsx(xoe,{clientSecret:V,onSuccess:bt,onCancel:()=>{z(!1),U(null),$(null),p(!1)},amount:Yt})})]})}),e.jsx(St,{open:M,onOpenChange:k,children:e.jsxs(Nt,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full",children:e.jsx(Kn,{className:"w-10 h-10 text-green-600"})}),e.jsx(kt,{className:"text-center text-2xl",children:"Purchase Successful!"}),e.jsx(fa,{className:"text-center pt-4",children:E&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-base text-slate-700",children:["You've successfully purchased ",e.jsx("span",{className:"font-bold text-purple-600",children:E.quantity})," ticket",E.quantity>1?"s":""," for"]}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"International Employability"}),e.jsx("p",{className:"text-sm text-slate-600 paddingTop-2",children:"Register your attendees now."})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full mt-4",children:[e.jsx(X,{onClick:()=>{we(),window.location.href=Ee("Events")},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Register"}),e.jsx(X,{variant:"outline",onClick:we,className:"w-full",children:"Buy More Tickets"})]})]})})]})}function wL(){const[t,s]=b.useState("verifying"),[n,r]=b.useState("");return b.useEffect(()=>{(async()=>{var o,c;const l=new URLSearchParams(window.location.search).get("token");if(!l){s("error"),r("Invalid or missing verification token");return}try{const u=await K.functions.invoke("verifyMagicLink",{token:l});if(u.data.success){s("success"),r("Login successful! Redirecting...");const d=new Date(Date.now()+1800*1e3).toISOString(),m={...u.data.user,sessionExpiry:d};sessionStorage.setItem("agcas_member",JSON.stringify(m));let h="Events";if(u.data.user.role_id)try{const g=(await K.entities.Role.list()).find(y=>y.id===u.data.user.role_id);g&&g.default_landing_page&&(h=g.default_landing_page)}catch(p){console.error("Error fetching role:",p)}setTimeout(()=>{window.location.href=Ee(h)},1500)}else s("error"),r(u.data.error||"Verification failed")}catch(u){s("error"),r(((c=(o=u.response)==null?void 0:o.data)==null?void 0:c.error)||"An error occurred during verification")}})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsx(le,{className:"w-full max-w-md shadow-xl border-slate-200",children:e.jsxs(ce,{className:"p-12",children:[t==="verifying"&&e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"w-16 h-16 text-blue-600 mx-auto mb-4 animate-spin"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verifying..."}),e.jsx("p",{className:"text-slate-600",children:"Please wait while we verify your login link"})]}),t==="success"&&e.jsxs("div",{className:"text-center",children:[e.jsx(Kn,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:n}),e.jsx("p",{className:"text-slate-600",children:"Taking you to your dashboard..."})]}),t==="error"&&e.jsxs("div",{className:"text-center",children:[e.jsx(ps,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-red-600 mb-6",children:n}),e.jsx("a",{href:Ee("Home"),className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Request New Link"})]})]})})})}function NL(){const[t,s]=b.useState(""),[n,r]=b.useState(!1),[a,i]=b.useState(""),[l,o]=b.useState(!1),{data:c,isLoading:u}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[]}),d=async h=>{var p,g;h.preventDefault(),i(""),r(!0),o(!1);try{console.log("[TestLogin] Calling validateUser with email:",t);const y=await K.functions.invoke("validateUser",{email:t});if(console.log("[TestLogin] Response received:",y.data),y.data.success&&y.data.user){const v={...y.data.user,sessionExpiry:new Date(Date.now()+864e5).toISOString()};if(sessionStorage.setItem("agcas_member",JSON.stringify(v)),v&&!v.is_team_member&&v.email)try{const N=(await K.entities.Member.list()).find(_=>_.email===v.email);N&&(await K.entities.Member.update(N.id,{last_login:new Date().toISOString()}),console.log("[TestLogin] Updated last_login for member:",N.email))}catch(w){console.warn("[TestLogin] Failed to update last_login:",w.message)}o(!0);let j="Events";if(v.role_id)try{const N=(await K.entities.Role.list()).find(_=>_.id===v.role_id);N&&N.default_landing_page&&(j=N.default_landing_page,console.log("[TestLogin] Using role default landing page:",j))}catch(w){console.warn("[TestLogin] Could not fetch role for landing page determination, using default Events:",w)}setTimeout(()=>{window.location.href=Ee(j)},1e3)}else i(y.data.error||"Failed to validate member")}catch(y){console.error("[TestLogin] Error:",y),i(((g=(p=y.response)==null?void 0:p.data)==null?void 0:g.error)||"An error occurred. Please try again.")}finally{r(!1)}},m=(h,p)=>{navigator.clipboard.writeText(h),te.success(`${p} copied to clipboard`)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsx("div",{className:"mb-6 p-4 bg-amber-500 text-amber-950 rounded-lg border-2 border-amber-600",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ps,{className:"w-5 h-5 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"TEST MODE ONLY"}),e.jsx("p",{className:"text-xs mt-1",children:"This page is for development testing only. Remove before production deployment."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{className:"border-slate-700 shadow-2xl bg-slate-800/50 backdrop-blur",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:e.jsx(Js,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx($e,{className:"text-2xl text-white",children:"Test Login"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Login as any member for testing"})]})]})}),e.jsxs(ce,{children:[e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"test-email",className:"text-sm font-medium text-slate-300",children:"Member Email Address"}),e.jsx(he,{id:"test-email",type:"email",placeholder:"Enter member email from Zoho CRM...",value:t,onChange:h=>s(h.target.value),required:!0,disabled:n,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),e.jsx("p",{className:"text-xs text-slate-400",children:"This will check Zoho CRM for the contact and create/update the member in Base44"})]}),a&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-950/50 border border-red-800 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:a})]}),l&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-green-950/50 border border-green-800 rounded-lg",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-green-200",children:"Login successful! Redirecting..."})]}),e.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:n||l,children:n?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating with Zoho CRM..."]}):l?"Redirecting...":"Login as Member"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"How It Works"}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-400",children:[e.jsx("p",{children:"1. Enter any email from your Zoho CRM Contacts"}),e.jsx("p",{children:"2. System validates against CRM and fetches account details"}),e.jsx("p",{children:"3. Creates/updates Member record in Base44"}),e.jsx("p",{children:"4. Logs you in as that member"})]})]})]})]}),e.jsxs(le,{className:"border-slate-700 shadow-2xl bg-slate-800/50 backdrop-blur",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(Ln,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx($e,{className:"text-2xl text-white",children:"Available Roles"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Copy role IDs to assign to members"})]})]})}),e.jsxs(ce,{children:[u?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(vt,{className:"w-6 h-6 animate-spin text-slate-400"})}):c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ln,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-slate-400",children:"No roles created yet"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Create roles in the Role entity first"})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(h=>e.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600 hover:border-slate-500 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:h.name}),h.is_admin&&e.jsx(ve,{className:"bg-amber-600 text-white text-xs",children:"Admin"}),h.is_default&&e.jsx(ve,{className:"bg-green-600 text-white text-xs",children:"Default"})]}),h.description&&e.jsx("p",{className:"text-xs text-slate-400 mb-2",children:h.description})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-xs bg-slate-900 text-blue-300 px-2 py-1 rounded overflow-x-auto",children:h.id}),e.jsx(X,{size:"sm",variant:"ghost",onClick:()=>m(h.id,"Role ID"),className:"shrink-0 text-slate-400 hover:text-white h-7",children:e.jsx(La,{className:"w-3 h-3"})})]}),h.excluded_features&&h.excluded_features.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:e.jsxs("p",{className:"text-xs text-slate-500",children:[h.excluded_features.length," feature(s) restricted"]})})]},h.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"How to Use"}),e.jsxs("ol",{className:"space-y-1 text-xs text-slate-400 list-decimal list-inside",children:[e.jsx("li",{children:"Click copy button to copy a role ID"}),e.jsx("li",{children:"Go to Dashboard  Data  Member"}),e.jsxs("li",{children:["Edit a member and paste ID into ",e.jsx("code",{className:"px-1 py-0.5 bg-slate-700 rounded",children:"role_id"})," field"]}),e.jsx("li",{children:"Save and test login with that member's email"})]})]})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("a",{href:Ee("Home"),className:"text-sm text-slate-400 hover:text-slate-300 transition-colors",children:" Back to normal login"})})]})})}function _L({memberInfo:t,organizationInfo:s}){const{data:n,isLoading:r}=me({queryKey:["vouchers",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await K.entities.Voucher.filter({organization_id:s.id,status:"active"})).sort((u,d)=>new Date(u.expires_at).getTime()-new Date(d.expires_at).getTime()):[],enabled:!!(s!=null&&s.id),initialData:[]});if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const a=n.reduce((c,u)=>c+u.value,0),i=s.program_ticket_balances||{},l=Object.keys(i).sort(),o=Object.values(i).reduce((c,u)=>c+u,0);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Account Balances"}),e.jsx("p",{className:"text-slate-600",children:"View your organization's training fund and voucher balances"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-600 rounded-lg",children:e.jsx(Eo,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx($e,{className:"text-xl",children:"Training Fund"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Available for program ticket purchases"})]})]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-4xl font-bold text-green-700",children:["",(s.training_fund_balance||0).toFixed(2)]})}),e.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"Use your training fund balance when purchasing program tickets"})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(Ds,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx($e,{className:"text-xl",children:"Training Vouchers"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active vouchers available"})]})]})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-4xl font-bold text-blue-700",children:["",a.toFixed(2)]})}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:e.jsxs("span",{children:[n.length," active ",n.length===1?"voucher":"vouchers"]})})]}),e.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"Apply vouchers when purchasing program tickets"})]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:e.jsx(Ds,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx($e,{className:"text-xl",children:"Program Tickets"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Available tickets by program"})]})]})}),e.jsx(ce,{className:"pt-6",children:l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ds,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No program tickets"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Purchase program tickets to see them here"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border-2 border-purple-200",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Total Tickets"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:o})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(c=>e.jsx(le,{className:"border-2 border-purple-200 bg-white",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:c}),e.jsx("p",{className:"text-xs text-slate-500",children:"Available tickets"})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:i[c]})})]})})},c))})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{className:"text-xl",children:"Active Vouchers"})}),e.jsx(ce,{className:"pt-6",children:r?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading vouchers..."}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ds,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No active vouchers"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Vouchers will appear here when allocated to your organization"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(c=>{const u=new Date(c.expires_at),d=Al(u,new Date),m=d<=30&&d>=0,h=d<0;return e.jsx(le,{className:`border-2 ${h?"border-red-200 bg-red-50":m?"border-amber-200 bg-amber-50":"border-blue-200 bg-blue-50"}`,children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ds,{className:`w-4 h-4 ${h?"text-red-600":m?"text-amber-600":"text-blue-600"}`}),e.jsx("h3",{className:"font-semibold text-slate-900",children:c.code})]}),c.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:c.description})]}),e.jsxs(ve,{className:"bg-green-100 text-green-700 font-semibold shrink-0 ml-2",children:["",c.value.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(js,{className:`w-3 h-3 ${h?"text-red-600":m?"text-amber-600":"text-slate-400"}`}),e.jsxs("span",{className:h?"text-red-600 font-medium":m?"text-amber-600 font-medium":"text-slate-500",children:[h?"Expired":"Expires"," ",At(u,"MMM d, yyyy"),m&&!h&&` (${d} days)`]})]}),m&&!h&&e.jsxs("div",{className:"flex items-start gap-2 mt-3 p-2 bg-amber-100 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-700 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"This voucher expires soon. Use it before it becomes invalid."})]})]})},c.id)})})})]})]})})}function SL({memberInfo:t,organizationInfo:s}){if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const n=s.program_ticket_balances?Object.values(s.program_ticket_balances).reduce((l,o)=>l+o,0):0,r=[{icon:js,title:"Browse Events",description:"Explore our comprehensive calendar of professional development events, training sessions, and networking opportunities tailored for AGCAS members.",link:Ee("Events"),linkText:"View Events",color:"blue"},{icon:$c,title:"My Bookings",description:"View and manage all your event registrations in one place. Track your upcoming events and download booking confirmations.",link:Ee("MyBookings"),linkText:"View Bookings",color:"green"},{icon:Ds,title:"Program Tickets",description:"Purchase and manage program-specific tickets that give you flexible access to events within designated training programs.",link:Ee("BuyProgramTickets"),linkText:"Buy Tickets",color:"purple"},{icon:Eo,title:"Account Balances",description:"Monitor your organization's training fund balance and available vouchers. Keep track of your professional development budget.",link:Ee("Balances"),linkText:"View Balances",color:"indigo"}],a=["Browse available events and filter by program","Check your organization's available tickets and vouchers","Register yourself or colleagues for events","Manage your bookings and track attendance"],i={blue:{bg:"from-blue-600 to-indigo-600",icon:"bg-blue-100 text-blue-600",border:"border-blue-200"},green:{bg:"from-green-600 to-emerald-600",icon:"bg-green-100 text-green-600",border:"border-green-200"},purple:{bg:"from-purple-600 to-pink-600",icon:"bg-purple-100 text-purple-600",border:"border-purple-200"},indigo:{bg:"from-indigo-600 to-blue-600",icon:"bg-indigo-100 text-indigo-600",border:"border-indigo-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16 px-4 md:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Welcome back, ",t.first_name,"!"]}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Your professional development journey starts here. Book training events, manage your tickets, and stay connected with the AGCAS community."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(Wt,{to:Ee("Events"),children:e.jsxs(X,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:["Browse Events",e.jsx(oN,{className:"w-5 h-5 ml-2"})]})}),e.jsx(Wt,{to:Ee("MyBookings"),children:e.jsx(X,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:"My Bookings"})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 -mt-8 mb-12",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Organisation"}),e.jsx("p",{className:"text-xl font-bold text-slate-900",children:s.name})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(js,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Training Fund"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",(s.training_fund_balance||0).toFixed(2)]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Eo,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Program Tickets"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:n})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Ds,{className:"w-6 h-6 text-purple-600"})})]})})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mb-12",children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{className:"border-b border-slate-200",children:[e.jsx($e,{className:"text-2xl",children:"How to Use This Portal"}),e.jsx(Cs,{className:"text-base mt-2",children:"Follow these simple steps to make the most of your AGCAS membership"})]}),e.jsx(ce,{className:"pt-6",children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map((l,o)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:o+1}),e.jsx("p",{className:"text-slate-700 pt-1",children:l})]},o))})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 pb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8",children:"Portal Features"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.map((l,o)=>{const c=l.icon,u=i[l.color];return e.jsxs(le,{className:`border-2 ${u.border} hover:shadow-xl transition-all`,children:[e.jsxs(Re,{children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:`p-3 ${u.icon} rounded-lg`,children:e.jsx(c,{className:"w-6 h-6"})})}),e.jsx($e,{className:"text-xl mb-2",children:l.title}),e.jsx(Cs,{className:"text-base text-slate-600",children:l.description})]}),e.jsx(ce,{children:e.jsx(Wt,{to:l.link,children:e.jsxs(X,{className:`w-full bg-gradient-to-r ${u.bg} hover:opacity-90`,children:[l.linkText,e.jsx(oN,{className:"w-4 h-4 ml-2"})]})})})]},o)})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 pb-16",children:e.jsx(le,{className:"border-slate-200 shadow-sm bg-gradient-to-r from-slate-50 to-blue-50",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Need Help?"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-2xl mx-auto",children:"If you have any questions about using the portal, booking events, or managing your account, please don't hesitate to contact your AGCAS membership administrator."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Easy event booking"}),e.jsx(Kn,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Flexible ticket management"}),e.jsx(Kn,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Real-time balance tracking"})]})]})})})]})}function CL(){return b.useEffect(()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://static.zohocdn.com/backstage/v1.0/styles/ticket-widget/v1.3/register-widget.min.css",document.head.appendChild(t);const s=document.createElement("script");return s.src="https://static.zohocdn.com/backstage/v1.0/javascript/ticket-widget/v1.3/register-widget.min.js",s.async=!0,s.onload=()=>{window.ZBSCheckOutWidget&&window.ZBSCheckOutWidget._createWidget({eventUrl:"https://agcasevents.zohobackstage.eu/embed/international-employability/buyTickets",modal:!1,clickableElements:[],ticketClassIdVsSelectorMap:{},skipValidation:!1,widgetOptions:{theme:{primaryButton:{backgroundColor:"#003A1A",textColor:"#ffffff",borderColor:"#FFFFFF"},eventHeader:{backgroundColor:"#003A1A",textColor:"#ffffff"}},visibilityOptions:{showEventHeader:!0,showCheckoutProgress:!0,showBSBranding:!0,showEventDate:!0,showEventVenue:!0,ticketClassIds:[]},redirectUrl:"",affiliate:"",promoCode:"",showFillInfo:!1,showRegisterModalWithInfoPage:!1,messageContents:{"lbl.closed":"closed","lbl.yet.to.start":"yet to start","lbl.sales.ended":"sales ended","lbl.unavailable":"unavailable","lbl.sold.out":"sold out","lbl.open":"register now"}},onOrderComplete:function(n){},onClose:function(n){}},"#zbs-register-widget-section")},document.body.appendChild(s),()=>{document.head.removeChild(t),document.body.removeChild(s)}},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-900 to-emerald-800 text-white py-16 px-4 md:px-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-white/10 rounded-full text-sm font-medium mb-4",children:"Unpacked Series"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"International Employability"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-100 max-w-3xl mx-auto",children:"Join us for an insightful session exploring strategies, challenges, and opportunities in international employability for students and graduates."})]})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-12",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4 text-center",children:"Event Registration"}),e.jsx("p",{className:"text-center text-slate-600 mb-8",children:"Secure your place at this exclusive AGCAS event"}),e.jsx("div",{id:"zbs-register-widget-section"})]})})}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6 mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]})})})]})}function Wc({categories:t,selectedSubcategories:s,onSubcategoryToggle:n,searchQuery:r,onSearchChange:a,onClearSearch:i,isLoading:l=!1,displayName:o="Articles"}){const[c,u]=Ie.useState({}),[d,m]=Ie.useState({}),[h,p]=Ie.useState(!0),g=w=>{u(N=>({...N,[w]:!N[w]}))},y=w=>{m(N=>({...N,[w]:!N[w]}))},v=(w,N)=>{N.stopPropagation();const _=t.find(T=>T.name===w);_&&_.subcategories&&_.subcategories.forEach(A=>{s.includes(A)&&n(A)})},j=w=>{const N=t.find(_=>_.name===w);return!N||!N.subcategories?!1:N.subcategories.some(_=>s.includes(_))};return Ie.useEffect(()=>{if(!t||t.length===0)return;const w={};t.forEach(N=>{j(N.name)&&(w[N.name]=!0)}),u(N=>({...N,...w}))},[t]),l?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."})}):!t||t.length===0?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"No categories available"})}):e.jsxs("div",{className:"space-y-0",children:[e.jsx("style",{jsx:!0,children:`
        .accordion-content {
          overflow: hidden;
          transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .accordion-content[data-state="closed"] {
          max-height: 0;
          opacity: 0;
        }
        .accordion-content[data-state="open"] {
          max-height: 1000px;
          opacity: 1;
        }
        .accordion-content[data-state="open-category"] {
          max-height: 2000px;
          opacity: 1;
        }
      `}),e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>p(!h),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold rounded-md transition-colors text-left hover:bg-slate-100 text-slate-700",children:[e.jsxs("span",{children:["Search ",o]}),h?e.jsx(Pr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(ys,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]}),e.jsx("div",{className:"accordion-content","data-state":h?"open":"closed",children:e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:r,onChange:w=>a(w.target.value),className:"pl-10 pr-10"}),r&&e.jsx("button",{onClick:i,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ws,{className:"w-4 h-4"})})]})})})]}),e.jsx("div",{children:t.map(w=>{if(!(w.subcategories&&w.subcategories.length>0))return null;const _=c[w.name],T=d[w.name],A=[...w.subcategories].sort((M,k)=>M.localeCompare(k,void 0,{sensitivity:"base"})),P=T?A:A.slice(0,8),C=A.length>8,R=j(w.name);return e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>g(w.name),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold rounded-md transition-colors text-left hover:bg-slate-100 text-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"break-words",children:w.name}),R&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:w.subcategories.filter(M=>s.includes(M)).length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[R&&e.jsx("span",{onClick:M=>v(w.name,M),className:"text-xs text-blue-600 hover:text-blue-700 hover:underline",children:"Clear"}),_?e.jsx(Pr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(ys,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]})]}),e.jsx("div",{className:"accordion-content","data-state":_?"open-category":"closed",children:e.jsxs("div",{className:"space-y-0.5 pt-1",children:[P.map(M=>{const k=s.includes(M);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 rounded-md cursor-pointer transition-colors ${k?"bg-blue-50":"hover:bg-slate-50"}`,onClick:E=>{E.target===E.currentTarget&&n(M)},children:[e.jsx(pa,{id:`article-subcategory-${M}`,checked:k,onCheckedChange:()=>n(M),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(ee,{htmlFor:`article-subcategory-${M}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${k?"text-blue-700 font-medium":"text-slate-700"}`,children:M})]},M)}),C&&e.jsx("button",{onClick:()=>y(w.name),className:"w-full text-left px-2 py-1 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",children:T?" Show less":`+ View ${A.length-8} more`})]})})]},w.id)})})]})}const goe="modulepreload",voe=function(t){return"/"+t},gT={},P0=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=l(n.map(u=>{if(u=voe(u),u in gT)return;gT[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":goe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})};function Fs({text:t,link:s,buttonStyleId:n,customBgColor:r,customTextColor:a,customBorderColor:i,openInNewTab:l=!1,size:o="medium",showArrow:c=!1,children:u,onClick:d,className:m,disabled:h=!1,icon:p,...g}){const[y,v]=Ie.useState(null);Ie.useEffect(()=>{n&&(async()=>{try{const{base44:C}=await P0(async()=>{const{base44:k}=await Promise.resolve().then(()=>$g);return{base44:k}},[]),M=(await C.entities.ButtonStyle.list()).find(k=>k.id===n);v(M)}catch(C){console.error("Failed to fetch button style:",C)}})()},[n]);const j=r||a||i,w=j?{backgroundColor:r||"transparent",color:a||"#ffffff",...i?{border:`2px solid ${i}`}:{},fontFamily:"Poppins, sans-serif"}:y?{backgroundColor:y.background_color||"transparent",color:y.text_color||"#000000",borderColor:y.border_color||"#000000",borderWidth:y.border_width?`${y.border_width}px`:"2px",borderStyle:"solid",borderRadius:y.border_radius?`${y.border_radius}px`:"0px",fontFamily:y.font_family||"Poppins, sans-serif"}:{fontFamily:"Poppins, sans-serif"},N=y!=null&&y.hover_background_color||y!=null&&y.hover_text_color?{"--hover-bg":y.hover_background_color||w.backgroundColor,"--hover-text":y.hover_text_color||w.color}:{},_={small:"px-4 py-2 text-xs",medium:"px-6 py-3 text-sm",large:"px-8 py-4 text-base",xlarge:"px-10 py-5 text-lg"},T=tt("inline-flex items-center justify-center gap-2 whitespace-nowrap",y||j?"":"rounded-none bg-transparent",_[o]||_.medium,"font-bold",y||j?"":"text-black","transition-all duration-300",y||j?"":"hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed",y||j?"agcas-styled-button":"agcas-button",m),A=s?"a":"button";return e.jsxs(A,{href:s||void 0,target:l?"_blank":void 0,rel:l?"noopener noreferrer":void 0,onClick:d,disabled:!s&&h,className:T,style:{...w,...N},...g,children:[e.jsx("style",{jsx:!0,children:`
        .agcas-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
        .agcas-button:disabled {
          background: transparent;
        }
        .agcas-styled-button:hover:not(:disabled) {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      `}),t||u,c&&e.jsx(kr,{className:"w-5 h-5 ml-0.5",strokeWidth:2.5}),p&&e.jsx(p,{className:"w-5 h-5 ml-0.5",strokeWidth:2.5})]})}function Oa({onClick:t,className:s,disabled:n=!1,...r}){return e.jsxs("button",{onClick:t,disabled:n,className:tt("inline-flex items-center justify-center","rounded-none bg-transparent","w-16 h-16 text-black","transition-all duration-300","hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed","agcas-square-button",s),style:{fontFamily:"Poppins, sans-serif"},...r,children:[e.jsx("style",{jsx:!0,children:`
        .agcas-square-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-square-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
        .agcas-square-button:disabled {
          background: transparent;
        }
      `}),e.jsx(kr,{className:"w-10 h-10",strokeWidth:2.5})]})}const yoe={ArrowUpRight:kr,Download:Qn,ExternalLink:Qs,PlayCircle:Pu,Eye:fr,FileText:ts,Mail:Ts,Plus:Et};function Hc({article:t,buttonStyles:s=[],viewPageUrl:n="ArticleView",showActions:r=!0,displayName:a="Articles"}){const i=s.find(u=>u.card_type==="article")||null,l=`${Ee(n)}?slug=${t.slug}`,o=a.endsWith("s")?a.slice(0,-1):a,c=()=>{if(!i)return e.jsx(X,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:e.jsxs(Wt,{to:l,children:[e.jsx(kr,{className:"w-4 h-4 mr-2"}),"Read ",o]})});let u=i.button_text||`Read ${o}`;u.includes("Article")&&(u=u.replace("Article",o));const d=i.button_type,m=i.icon_name&&yoe[i.icon_name];return d==="square_agcas"?e.jsx(Wt,{to:l,children:e.jsx(Oa,{})}):d==="rectangular_agcas"?e.jsx(Wt,{to:l,children:e.jsx(Fs,{icon:i.icon_name!=="none"?m:void 0,className:"w-full",children:u})}):e.jsx(X,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:e.jsxs(Wt,{to:l,children:[m&&i.icon_name!=="none"&&e.jsx(m,{className:"w-4 h-4 mr-2"}),u]})})};return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col",children:[t.feature_image_url&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:t.feature_image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-full h-[3px]",style:{backgroundColor:"#5d0d77"}})]}),e.jsxs(Re,{className:"pb-3 flex-grow",children:[e.jsx($e,{className:"text-lg line-clamp-2",children:t.title}),t.published_date&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 py-2",children:[e.jsx(js,{className:"w-3 h-3"}),e.jsx("span",{children:At(new Date(t.published_date),"MMM d, yyyy")})]}),r&&t.author_name&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 pb-3",children:[e.jsx(Js,{className:"w-3 h-3"}),e.jsxs("span",{children:["by ",t.author_name]})]}),t.summary&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:t.summary}),t.subcategories&&t.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 pt-4",children:[t.subcategories.slice(0,3).map((u,d)=>e.jsx(ve,{variant:"secondary",className:"text-xs",children:u},d)),t.subcategories.length>3&&e.jsxs(ve,{variant:"secondary",className:"text-xs",children:["+",t.subcategories.length-3]})]})]}),e.jsx(ce,{className:"pt-0 pb-4 mt-auto",children:c()})]})}function kL({memberInfo:t,memberRole:s}){const[n,r]=b.useState(""),[a,i]=b.useState([]),[l,o]=b.useState(1),[c,u]=b.useState("newest"),[d,m]=b.useState(6),[h,p]=b.useState(!1),g=Gt(),{data:y}=me({queryKey:["current-user",t==null?void 0:t.email],queryFn:async()=>await K.auth.me(),enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:v=[],isLoading:j}=me({queryKey:["published-articles"],queryFn:async()=>(await K.entities.BlogPost.list("-published_date")).filter(Z=>Z.status==="published"),staleTime:0,refetchOnWindowFocus:!0}),{data:w=[],isLoading:N}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(J=>J.is_active&&J.applies_to_content_types&&J.applies_to_content_types.includes("Articles")).sort((J,Q)=>(J.display_order||0)-(Q.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:_=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await K.entities.ArticleView.list(),staleTime:30*1e3}),{data:T=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await K.entities.ArticleReaction.list(),staleTime:30*1e3}),{data:A=[]}=me({queryKey:["buttonStyles-articles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(Z=>Z.card_type==="article"&&Z.is_active),staleTime:0,refetchOnWindowFocus:!0}),{data:P,isLoading:C}=me({queryKey:["article-display-name"],queryFn:async()=>{const Z=(await K.entities.SystemSettings.list()).find(J=>J.setting_key==="article_display_name");return(Z==null?void 0:Z.setting_value)||"Articles"},staleTime:0});Ie.useEffect(()=>{var q;if((q=y==null?void 0:y.preferences)!=null&&q.resources&&!h){const Z=y.preferences.resources.selectedSubcategories||[];i(Z),p(!0)}},[y,h]);const R=Fe({mutationFn:async()=>{const q={...(y==null?void 0:y.preferences)||{},resources:{selectedCategory:"all",selectedSubcategories:a}};await K.auth.updateMe({preferences:q})},onSuccess:()=>{g.invalidateQueries({queryKey:["current-user"]}),te.success("Filter preferences saved as default")},onError:q=>{te.error("Failed to save preferences: "+q.message)}}),M=b.useMemo(()=>{const q={};return v.forEach(Z=>{q[Z.id]={viewCount:_.filter(J=>J.article_id===Z.id).length,likeCount:T.filter(J=>J.article_id===Z.id&&J.reaction_type==="up").length}}),q},[v,_,T]),k=b.useMemo(()=>v.filter(q=>{var Q,G,ae;const Z=((Q=q.title)==null?void 0:Q.toLowerCase().includes(n.toLowerCase()))||((G=q.summary)==null?void 0:G.toLowerCase().includes(n.toLowerCase()))||((ae=q.tags)==null?void 0:ae.some(se=>se.toLowerCase().includes(n.toLowerCase()))),J=a.length===0||q.subcategories&&q.subcategories.some(se=>a.includes(se));return Z&&J}),[v,n,a]),E=b.useMemo(()=>{const q=[...k];switch(c){case"newest":q.sort((Z,J)=>new Date(J.published_date||J.created_date)-new Date(Z.published_date||Z.created_date));break;case"oldest":q.sort((Z,J)=>new Date(Z.published_date||Z.created_date)-new Date(J.published_date||Z.created_date));break;case"title-asc":q.sort((Z,J)=>Z.title.localeCompare(J.title));break;case"title-desc":q.sort((Z,J)=>J.title.localeCompare(Z.title));break;case"most-viewed":q.sort((Z,J)=>{var Q,G;return(((Q=M[J.id])==null?void 0:Q.viewCount)||0)-(((G=M[Z.id])==null?void 0:G.viewCount)||0)});break;case"most-liked":q.sort((Z,J)=>{var Q,G;return(((Q=M[J.id])==null?void 0:Q.likeCount)||0)-(((G=M[Z.id])==null?void 0:G.likeCount)||0)});break}return q},[k,c,M]),O=Math.ceil(E.length/d),F=(l-1)*d,z=F+d,V=E.slice(F,z),U=()=>{const q=[];if(O<=5)for(let J=1;J<=O;J++)q.push(J);else if(l<=3){for(let J=1;J<=4;J++)q.push(J);O>5&&q.push("..."),q.push(O)}else if(l>=O-2){q.push(1),O>5&&q.push("...");for(let J=O-3;J<=O;J++)q.push(J)}else{q.push(1),q.push("...");for(let J=l-1;J<=l+1;J++)q.push(J);q.push("..."),q.push(O)}return q};Ie.useEffect(()=>{o(1)},[a,n,c,d]);const B=q=>{i(Z=>Z.includes(q)?Z.filter(J=>J!==q):[...Z,q])},$=q=>{o(q),window.scrollTo({top:0,behavior:"smooth"})},L=()=>{R.mutate()},I=j||N||C,W=b.useMemo(()=>{var Z;if(!((Z=y==null?void 0:y.preferences)!=null&&Z.resources))return a.length>0;const q=y.preferences.resources.selectedSubcategories||[];return q.length!==a.length?!0:!q.every(J=>a.includes(J))||!a.every(J=>q.includes(J))},[y,a]);return I?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((q,Z)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},Z))})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:P}),e.jsxs("p",{className:"text-slate-600",children:["Explore ",P.toLowerCase()," shared by our community"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wc,{categories:w,selectedSubcategories:a,onSubcategoryToggle:B,searchQuery:n,onSearchChange:r,onClearSearch:()=>r(""),isLoading:N,displayName:P}),t&&W&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:L,variant:"outline",size:"sm",className:"w-full gap-2",disabled:R.isPending,children:R.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-3 h-3"}),"Save as Default"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"Apply these filters by default"})]})]})}),e.jsx("div",{className:"flex-1",children:E.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",P.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:n||a.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",F+1,"-",Math.min(z,E.length)," of ",E.length," ",P.toLowerCase()]}),e.jsxs(He,{value:c,onValueChange:u,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:V.map(q=>e.jsx(Hc,{article:q,buttonStyles:A,displayName:P},q.id))}),E.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:d.toString(),onValueChange:q=>{m(Number(q)),o(1)},children:[e.jsx(Ue,{className:"w-20",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",l," of ",O]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>$(l-1),disabled:l===1,children:e.jsx(Un,{className:"w-4 h-4"})}),U().map((q,Z)=>e.jsx(Ie.Fragment,{children:q==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:l===q?"default":"outline",size:"sm",onClick:()=>$(q),className:l===q?"bg-blue-600 hover:bg-blue-700":"",children:q})},Z)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>$(l+1),disabled:l===O,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]})})]})]})})}var Mb,vT;function boe(){if(vT)return Mb;vT=1;function t(){this.__data__=[],this.size=0}return Mb=t,Mb}var Db,yT;function EL(){if(yT)return Db;yT=1;function t(s,n){return s===n||s!==s&&n!==n}return Db=t,Db}var Ob,bT;function T0(){if(bT)return Ob;bT=1;var t=EL();function s(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return Ob=s,Ob}var Rb,jT;function joe(){if(jT)return Rb;jT=1;var t=T0(),s=Array.prototype,n=s.splice;function r(a){var i=this.__data__,l=t(i,a);if(l<0)return!1;var o=i.length-1;return l==o?i.pop():n.call(i,l,1),--this.size,!0}return Rb=r,Rb}var Fb,wT;function woe(){if(wT)return Fb;wT=1;var t=T0();function s(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return Fb=s,Fb}var Lb,NT;function Noe(){if(NT)return Lb;NT=1;var t=T0();function s(n){return t(this.__data__,n)>-1}return Lb=s,Lb}var Ib,_T;function _oe(){if(_T)return Ib;_T=1;var t=T0();function s(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Ib=s,Ib}var Bb,ST;function A0(){if(ST)return Bb;ST=1;var t=boe(),s=joe(),n=woe(),r=Noe(),a=_oe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var u=l[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Bb=i,Bb}var qb,CT;function Soe(){if(CT)return qb;CT=1;var t=A0();function s(){this.__data__=new t,this.size=0}return qb=s,qb}var zb,kT;function Coe(){if(kT)return zb;kT=1;function t(s){var n=this.__data__,r=n.delete(s);return this.size=n.size,r}return zb=t,zb}var $b,ET;function koe(){if(ET)return $b;ET=1;function t(s){return this.__data__.get(s)}return $b=t,$b}var Ub,PT;function Eoe(){if(PT)return Ub;PT=1;function t(s){return this.__data__.has(s)}return Ub=t,Ub}var Vb,TT;function PL(){if(TT)return Vb;TT=1;var t=typeof Wp=="object"&&Wp&&Wp.Object===Object&&Wp;return Vb=t,Vb}var Wb,AT;function Il(){if(AT)return Wb;AT=1;var t=PL(),s=typeof self=="object"&&self&&self.Object===Object&&self,n=t||s||Function("return this")();return Wb=n,Wb}var Hb,MT;function j2(){if(MT)return Hb;MT=1;var t=Il(),s=t.Symbol;return Hb=s,Hb}var Gb,DT;function Poe(){if(DT)return Gb;DT=1;var t=j2(),s=Object.prototype,n=s.hasOwnProperty,r=s.toString,a=t?t.toStringTag:void 0;function i(l){var o=n.call(l,a),c=l[a];try{l[a]=void 0;var u=!0}catch{}var d=r.call(l);return u&&(o?l[a]=c:delete l[a]),d}return Gb=i,Gb}var Kb,OT;function Toe(){if(OT)return Kb;OT=1;var t=Object.prototype,s=t.toString;function n(r){return s.call(r)}return Kb=n,Kb}var Yb,RT;function M0(){if(RT)return Yb;RT=1;var t=j2(),s=Poe(),n=Toe(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function l(o){return o==null?o===void 0?a:r:i&&i in Object(o)?s(o):n(o)}return Yb=l,Yb}var Qb,FT;function TL(){if(FT)return Qb;FT=1;function t(s){var n=typeof s;return s!=null&&(n=="object"||n=="function")}return Qb=t,Qb}var Jb,LT;function AL(){if(LT)return Jb;LT=1;var t=M0(),s=TL(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(o){if(!s(o))return!1;var c=t(o);return c==r||c==a||c==n||c==i}return Jb=l,Jb}var Xb,IT;function Aoe(){if(IT)return Xb;IT=1;var t=Il(),s=t["__core-js_shared__"];return Xb=s,Xb}var Zb,BT;function Moe(){if(BT)return Zb;BT=1;var t=Aoe(),s=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!s&&s in r}return Zb=n,Zb}var ej,qT;function ML(){if(qT)return ej;qT=1;var t=Function.prototype,s=t.toString;function n(r){if(r!=null){try{return s.call(r)}catch{}try{return r+""}catch{}}return""}return ej=n,ej}var tj,zT;function Doe(){if(zT)return tj;zT=1;var t=AL(),s=Moe(),n=TL(),r=ML(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,o=Object.prototype,c=l.toString,u=o.hasOwnProperty,d=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(h){if(!n(h)||s(h))return!1;var p=t(h)?d:i;return p.test(r(h))}return tj=m,tj}var sj,$T;function Ooe(){if($T)return sj;$T=1;function t(s,n){return s==null?void 0:s[n]}return sj=t,sj}var nj,UT;function Hu(){if(UT)return nj;UT=1;var t=Doe(),s=Ooe();function n(r,a){var i=s(r,a);return t(i)?i:void 0}return nj=n,nj}var rj,VT;function w2(){if(VT)return rj;VT=1;var t=Hu(),s=Il(),n=t(s,"Map");return rj=n,rj}var aj,WT;function D0(){if(WT)return aj;WT=1;var t=Hu(),s=t(Object,"create");return aj=s,aj}var ij,HT;function Roe(){if(HT)return ij;HT=1;var t=D0();function s(){this.__data__=t?t(null):{},this.size=0}return ij=s,ij}var lj,GT;function Foe(){if(GT)return lj;GT=1;function t(s){var n=this.has(s)&&delete this.__data__[s];return this.size-=n?1:0,n}return lj=t,lj}var oj,KT;function Loe(){if(KT)return oj;KT=1;var t=D0(),s="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var l=this.__data__;if(t){var o=l[i];return o===s?void 0:o}return r.call(l,i)?l[i]:void 0}return oj=a,oj}var cj,YT;function Ioe(){if(YT)return cj;YT=1;var t=D0(),s=Object.prototype,n=s.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return cj=r,cj}var dj,QT;function Boe(){if(QT)return dj;QT=1;var t=D0(),s="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?s:a,this}return dj=n,dj}var uj,JT;function qoe(){if(JT)return uj;JT=1;var t=Roe(),s=Foe(),n=Loe(),r=Ioe(),a=Boe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var u=l[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,uj=i,uj}var hj,XT;function zoe(){if(XT)return hj;XT=1;var t=qoe(),s=A0(),n=w2();function r(){this.size=0,this.__data__={hash:new t,map:new(n||s),string:new t}}return hj=r,hj}var mj,ZT;function $oe(){if(ZT)return mj;ZT=1;function t(s){var n=typeof s;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?s!=="__proto__":s===null}return mj=t,mj}var fj,eA;function O0(){if(eA)return fj;eA=1;var t=$oe();function s(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return fj=s,fj}var pj,tA;function Uoe(){if(tA)return pj;tA=1;var t=O0();function s(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return pj=s,pj}var xj,sA;function Voe(){if(sA)return xj;sA=1;var t=O0();function s(n){return t(this,n).get(n)}return xj=s,xj}var gj,nA;function Woe(){if(nA)return gj;nA=1;var t=O0();function s(n){return t(this,n).has(n)}return gj=s,gj}var vj,rA;function Hoe(){if(rA)return vj;rA=1;var t=O0();function s(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return vj=s,vj}var yj,aA;function DL(){if(aA)return yj;aA=1;var t=zoe(),s=Uoe(),n=Voe(),r=Woe(),a=Hoe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var u=l[o];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,yj=i,yj}var bj,iA;function Goe(){if(iA)return bj;iA=1;var t=A0(),s=w2(),n=DL(),r=200;function a(i,l){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!s||c.length<r-1)return c.push([i,l]),this.size=++o.size,this;o=this.__data__=new n(c)}return o.set(i,l),this.size=o.size,this}return bj=a,bj}var jj,lA;function Koe(){if(lA)return jj;lA=1;var t=A0(),s=Soe(),n=Coe(),r=koe(),a=Eoe(),i=Goe();function l(o){var c=this.__data__=new t(o);this.size=c.size}return l.prototype.clear=s,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,jj=l,jj}var wj,oA;function Yoe(){if(oA)return wj;oA=1;var t="__lodash_hash_undefined__";function s(n){return this.__data__.set(n,t),this}return wj=s,wj}var Nj,cA;function Qoe(){if(cA)return Nj;cA=1;function t(s){return this.__data__.has(s)}return Nj=t,Nj}var _j,dA;function Joe(){if(dA)return _j;dA=1;var t=DL(),s=Yoe(),n=Qoe();function r(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new t;++i<l;)this.add(a[i])}return r.prototype.add=r.prototype.push=s,r.prototype.has=n,_j=r,_j}var Sj,uA;function Xoe(){if(uA)return Sj;uA=1;function t(s,n){for(var r=-1,a=s==null?0:s.length;++r<a;)if(n(s[r],r,s))return!0;return!1}return Sj=t,Sj}var Cj,hA;function Zoe(){if(hA)return Cj;hA=1;function t(s,n){return s.has(n)}return Cj=t,Cj}var kj,mA;function OL(){if(mA)return kj;mA=1;var t=Joe(),s=Xoe(),n=Zoe(),r=1,a=2;function i(l,o,c,u,d,m){var h=c&r,p=l.length,g=o.length;if(p!=g&&!(h&&g>p))return!1;var y=m.get(l),v=m.get(o);if(y&&v)return y==o&&v==l;var j=-1,w=!0,N=c&a?new t:void 0;for(m.set(l,o),m.set(o,l);++j<p;){var _=l[j],T=o[j];if(u)var A=h?u(T,_,j,o,l,m):u(_,T,j,l,o,m);if(A!==void 0){if(A)continue;w=!1;break}if(N){if(!s(o,function(P,C){if(!n(N,C)&&(_===P||d(_,P,c,u,m)))return N.push(C)})){w=!1;break}}else if(!(_===T||d(_,T,c,u,m))){w=!1;break}}return m.delete(l),m.delete(o),w}return kj=i,kj}var Ej,fA;function ece(){if(fA)return Ej;fA=1;var t=Il(),s=t.Uint8Array;return Ej=s,Ej}var Pj,pA;function tce(){if(pA)return Pj;pA=1;function t(s){var n=-1,r=Array(s.size);return s.forEach(function(a,i){r[++n]=[i,a]}),r}return Pj=t,Pj}var Tj,xA;function sce(){if(xA)return Tj;xA=1;function t(s){var n=-1,r=Array(s.size);return s.forEach(function(a){r[++n]=a}),r}return Tj=t,Tj}var Aj,gA;function nce(){if(gA)return Aj;gA=1;var t=j2(),s=ece(),n=EL(),r=OL(),a=tce(),i=sce(),l=1,o=2,c="[object Boolean]",u="[object Date]",d="[object Error]",m="[object Map]",h="[object Number]",p="[object RegExp]",g="[object Set]",y="[object String]",v="[object Symbol]",j="[object ArrayBuffer]",w="[object DataView]",N=t?t.prototype:void 0,_=N?N.valueOf:void 0;function T(A,P,C,R,M,k,E){switch(C){case w:if(A.byteLength!=P.byteLength||A.byteOffset!=P.byteOffset)return!1;A=A.buffer,P=P.buffer;case j:return!(A.byteLength!=P.byteLength||!k(new s(A),new s(P)));case c:case u:case h:return n(+A,+P);case d:return A.name==P.name&&A.message==P.message;case p:case y:return A==P+"";case m:var O=a;case g:var F=R&l;if(O||(O=i),A.size!=P.size&&!F)return!1;var z=E.get(A);if(z)return z==P;R|=o,E.set(A,P);var V=r(O(A),O(P),R,M,k,E);return E.delete(A),V;case v:if(_)return _.call(A)==_.call(P)}return!1}return Aj=T,Aj}var Mj,vA;function rce(){if(vA)return Mj;vA=1;function t(s,n){for(var r=-1,a=n.length,i=s.length;++r<a;)s[i+r]=n[r];return s}return Mj=t,Mj}var Dj,yA;function N2(){if(yA)return Dj;yA=1;var t=Array.isArray;return Dj=t,Dj}var Oj,bA;function ace(){if(bA)return Oj;bA=1;var t=rce(),s=N2();function n(r,a,i){var l=a(r);return s(r)?l:t(l,i(r))}return Oj=n,Oj}var Rj,jA;function ice(){if(jA)return Rj;jA=1;function t(s,n){for(var r=-1,a=s==null?0:s.length,i=0,l=[];++r<a;){var o=s[r];n(o,r,s)&&(l[i++]=o)}return l}return Rj=t,Rj}var Fj,wA;function lce(){if(wA)return Fj;wA=1;function t(){return[]}return Fj=t,Fj}var Lj,NA;function oce(){if(NA)return Lj;NA=1;var t=ice(),s=lce(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(o){return r.call(l,o)}))}:s;return Lj=i,Lj}var Ij,_A;function cce(){if(_A)return Ij;_A=1;function t(s,n){for(var r=-1,a=Array(s);++r<s;)a[r]=n(r);return a}return Ij=t,Ij}var Bj,SA;function R0(){if(SA)return Bj;SA=1;function t(s){return s!=null&&typeof s=="object"}return Bj=t,Bj}var qj,CA;function dce(){if(CA)return qj;CA=1;var t=M0(),s=R0(),n="[object Arguments]";function r(a){return s(a)&&t(a)==n}return qj=r,qj}var zj,kA;function uce(){if(kA)return zj;kA=1;var t=dce(),s=R0(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(l){return s(l)&&r.call(l,"callee")&&!a.call(l,"callee")};return zj=i,zj}var rm={exports:{}},$j,EA;function hce(){if(EA)return $j;EA=1;function t(){return!1}return $j=t,$j}rm.exports;var PA;function RL(){return PA||(PA=1,(function(t,s){var n=Il(),r=hce(),a=s&&!s.nodeType&&s,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,o=l?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||r;t.exports=u})(rm,rm.exports)),rm.exports}var Uj,TA;function mce(){if(TA)return Uj;TA=1;var t=9007199254740991,s=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&s.test(r))&&r>-1&&r%1==0&&r<a}return Uj=n,Uj}var Vj,AA;function FL(){if(AA)return Vj;AA=1;var t=9007199254740991;function s(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Vj=s,Vj}var Wj,MA;function fce(){if(MA)return Wj;MA=1;var t=M0(),s=FL(),n=R0(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",o="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",m="[object Object]",h="[object RegExp]",p="[object Set]",g="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",j="[object DataView]",w="[object Float32Array]",N="[object Float64Array]",_="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",k={};k[w]=k[N]=k[_]=k[T]=k[A]=k[P]=k[C]=k[R]=k[M]=!0,k[r]=k[a]=k[v]=k[i]=k[j]=k[l]=k[o]=k[c]=k[u]=k[d]=k[m]=k[h]=k[p]=k[g]=k[y]=!1;function E(O){return n(O)&&s(O.length)&&!!k[t(O)]}return Wj=E,Wj}var Hj,DA;function pce(){if(DA)return Hj;DA=1;function t(s){return function(n){return s(n)}}return Hj=t,Hj}var am={exports:{}};am.exports;var OA;function xce(){return OA||(OA=1,(function(t,s){var n=PL(),r=s&&!s.nodeType&&s,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,l=i&&n.process,o=(function(){try{var c=a&&a.require&&a.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}})();t.exports=o})(am,am.exports)),am.exports}var Gj,RA;function LL(){if(RA)return Gj;RA=1;var t=fce(),s=pce(),n=xce(),r=n&&n.isTypedArray,a=r?s(r):t;return Gj=a,Gj}var Kj,FA;function gce(){if(FA)return Kj;FA=1;var t=cce(),s=uce(),n=N2(),r=RL(),a=mce(),i=LL(),l=Object.prototype,o=l.hasOwnProperty;function c(u,d){var m=n(u),h=!m&&s(u),p=!m&&!h&&r(u),g=!m&&!h&&!p&&i(u),y=m||h||p||g,v=y?t(u.length,String):[],j=v.length;for(var w in u)(d||o.call(u,w))&&!(y&&(w=="length"||p&&(w=="offset"||w=="parent")||g&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,j)))&&v.push(w);return v}return Kj=c,Kj}var Yj,LA;function vce(){if(LA)return Yj;LA=1;var t=Object.prototype;function s(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return Yj=s,Yj}var Qj,IA;function yce(){if(IA)return Qj;IA=1;function t(s,n){return function(r){return s(n(r))}}return Qj=t,Qj}var Jj,BA;function bce(){if(BA)return Jj;BA=1;var t=yce(),s=t(Object.keys,Object);return Jj=s,Jj}var Xj,qA;function jce(){if(qA)return Xj;qA=1;var t=vce(),s=bce(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return s(i);var l=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&l.push(o);return l}return Xj=a,Xj}var Zj,zA;function wce(){if(zA)return Zj;zA=1;var t=AL(),s=FL();function n(r){return r!=null&&s(r.length)&&!t(r)}return Zj=n,Zj}var ew,$A;function Nce(){if($A)return ew;$A=1;var t=gce(),s=jce(),n=wce();function r(a){return n(a)?t(a):s(a)}return ew=r,ew}var tw,UA;function _ce(){if(UA)return tw;UA=1;var t=ace(),s=oce(),n=Nce();function r(a){return t(a,n,s)}return tw=r,tw}var sw,VA;function Sce(){if(VA)return sw;VA=1;var t=_ce(),s=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,l,o,c,u,d){var m=o&s,h=t(i),p=h.length,g=t(l),y=g.length;if(p!=y&&!m)return!1;for(var v=p;v--;){var j=h[v];if(!(m?j in l:r.call(l,j)))return!1}var w=d.get(i),N=d.get(l);if(w&&N)return w==l&&N==i;var _=!0;d.set(i,l),d.set(l,i);for(var T=m;++v<p;){j=h[v];var A=i[j],P=l[j];if(c)var C=m?c(P,A,j,l,i,d):c(A,P,j,i,l,d);if(!(C===void 0?A===P||u(A,P,o,c,d):C)){_=!1;break}T||(T=j=="constructor")}if(_&&!T){var R=i.constructor,M=l.constructor;R!=M&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof M=="function"&&M instanceof M)&&(_=!1)}return d.delete(i),d.delete(l),_}return sw=a,sw}var nw,WA;function Cce(){if(WA)return nw;WA=1;var t=Hu(),s=Il(),n=t(s,"DataView");return nw=n,nw}var rw,HA;function kce(){if(HA)return rw;HA=1;var t=Hu(),s=Il(),n=t(s,"Promise");return rw=n,rw}var aw,GA;function Ece(){if(GA)return aw;GA=1;var t=Hu(),s=Il(),n=t(s,"Set");return aw=n,aw}var iw,KA;function Pce(){if(KA)return iw;KA=1;var t=Hu(),s=Il(),n=t(s,"WeakMap");return iw=n,iw}var lw,YA;function Tce(){if(YA)return lw;YA=1;var t=Cce(),s=w2(),n=kce(),r=Ece(),a=Pce(),i=M0(),l=ML(),o="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",m="[object WeakMap]",h="[object DataView]",p=l(t),g=l(s),y=l(n),v=l(r),j=l(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=h||s&&w(new s)!=o||n&&w(n.resolve())!=u||r&&w(new r)!=d||a&&w(new a)!=m)&&(w=function(N){var _=i(N),T=_==c?N.constructor:void 0,A=T?l(T):"";if(A)switch(A){case p:return h;case g:return o;case y:return u;case v:return d;case j:return m}return _}),lw=w,lw}var ow,QA;function Ace(){if(QA)return ow;QA=1;var t=Koe(),s=OL(),n=nce(),r=Sce(),a=Tce(),i=N2(),l=RL(),o=LL(),c=1,u="[object Arguments]",d="[object Array]",m="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function g(y,v,j,w,N,_){var T=i(y),A=i(v),P=T?d:a(y),C=A?d:a(v);P=P==u?m:P,C=C==u?m:C;var R=P==m,M=C==m,k=P==C;if(k&&l(y)){if(!l(v))return!1;T=!0,R=!1}if(k&&!R)return _||(_=new t),T||o(y)?s(y,v,j,w,N,_):n(y,v,P,j,w,N,_);if(!(j&c)){var E=R&&p.call(y,"__wrapped__"),O=M&&p.call(v,"__wrapped__");if(E||O){var F=E?y.value():y,z=O?v.value():v;return _||(_=new t),N(F,z,j,w,_)}}return k?(_||(_=new t),r(y,v,j,w,N,_)):!1}return ow=g,ow}var cw,JA;function Mce(){if(JA)return cw;JA=1;var t=Ace(),s=R0();function n(r,a,i,l,o){return r===a?!0:r==null||a==null||!s(r)&&!s(a)?r!==r&&a!==a:t(r,a,i,l,n,o)}return cw=n,cw}var dw,XA;function Dce(){if(XA)return dw;XA=1;var t=Mce();function s(n,r){return t(n,r)}return dw=s,dw}var zx={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Oce=zx.exports,ZA;function Rce(){return ZA||(ZA=1,(function(t,s){(function(r,a){t.exports=a()})(typeof self<"u"?self:Oce,function(){return(function(n){var r={};function a(i){if(r[i])return r[i].exports;var l=r[i]={i,l:!1,exports:{}};return n[i].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=n,a.c=r,a.d=function(i,l,o){a.o(i,l)||Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:o})},a.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(l,"a",l),l},a.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},a.p="",a(a.s=109)})([(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(17),l=a(18),o=a(19),c=a(45),u=a(46),d=a(47),m=a(48),h=a(49),p=a(12),g=a(32),y=a(33),v=a(31),j=a(1),w={Scope:j.Scope,create:j.create,find:j.find,query:j.query,register:j.register,Container:i.default,Format:l.default,Leaf:o.default,Embed:m.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:g.default,Style:y.default,Store:v.default}};r.default=w}),(function(n,r,a){var i=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,w){j.__proto__=w}||function(j,w){for(var N in w)w.hasOwnProperty(N)&&(j[N]=w[N])};return function(j,w){v(j,w);function N(){this.constructor=j}j.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=(function(v){i(j,v);function j(w){var N=this;return w="[Parchment] "+w,N=v.call(this,w)||this,N.message=w,N.name=N.constructor.name,N}return j})(Error);r.ParchmentError=l;var o={},c={},u={},d={};r.DATA_KEY="__blot";var m;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function h(v,j){var w=g(v);if(w==null)throw new l("Unable to create "+v+" blot");var N=w,_=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:N.create(j);return new N(_,j)}r.create=h;function p(v,j){return j===void 0&&(j=!1),v==null?null:v[r.DATA_KEY]!=null?v[r.DATA_KEY].blot:j?p(v.parentNode,j):null}r.find=p;function g(v,j){j===void 0&&(j=m.ANY);var w;if(typeof v=="string")w=d[v]||o[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)w=d.text;else if(typeof v=="number")v&m.LEVEL&m.BLOCK?w=d.block:v&m.LEVEL&m.INLINE&&(w=d.inline);else if(v instanceof HTMLElement){var N=(v.getAttribute("class")||"").split(/\s+/);for(var _ in N)if(w=c[N[_]],w)break;w=w||u[v.tagName]}return w==null?null:j&m.LEVEL&w.scope&&j&m.TYPE&w.scope?w:null}r.query=g;function y(){for(var v=[],j=0;j<arguments.length;j++)v[j]=arguments[j];if(v.length>1)return v.map(function(_){return y(_)});var w=v[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new l("Invalid definition");if(w.blotName==="abstract")throw new l("Cannot register abstract class");if(d[w.blotName||w.attrName]=w,typeof w.keyName=="string")o[w.keyName]=w;else if(w.className!=null&&(c[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(_){return _.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var N=Array.isArray(w.tagName)?w.tagName:[w.tagName];N.forEach(function(_){(u[_]==null||w.className==null)&&(u[_]=w)})}return w}r.register=y}),(function(n,r,a){var i=a(51),l=a(11),o=a(3),c=a(20),u="\0",d=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};d.prototype.insert=function(m,h){var p={};return m.length===0?this:(p.insert=m,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},d.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},d.prototype.retain=function(m,h){if(m<=0)return this;var p={retain:m};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},d.prototype.push=function(m){var h=this.ops.length,p=this.ops[h-1];if(m=o(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(m),this;if(l(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this}}return h===this.ops.length?this.ops.push(m):this.ops.splice(h,0,m),this},d.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},d.prototype.filter=function(m){return this.ops.filter(m)},d.prototype.forEach=function(m){this.ops.forEach(m)},d.prototype.map=function(m){return this.ops.map(m)},d.prototype.partition=function(m){var h=[],p=[];return this.forEach(function(g){var y=m(g)?h:p;y.push(g)}),[h,p]},d.prototype.reduce=function(m,h){return this.ops.reduce(m,h)},d.prototype.changeLength=function(){return this.reduce(function(m,h){return h.insert?m+c.length(h):h.delete?m-h.delete:m},0)},d.prototype.length=function(){return this.reduce(function(m,h){return m+c.length(h)},0)},d.prototype.slice=function(m,h){m=m||0,typeof h!="number"&&(h=1/0);for(var p=[],g=c.iterator(this.ops),y=0;y<h&&g.hasNext();){var v;y<m?v=g.next(m-y):(v=g.next(h-y),p.push(v)),y+=c.length(v)}return new d(p)},d.prototype.compose=function(m){var h=c.iterator(this.ops),p=c.iterator(m.ops),g=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var v=y.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),g.push(h.next());y.retain-v>0&&p.next(y.retain-v)}for(var j=new d(g);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")j.push(p.next());else if(h.peekType()==="delete")j.push(h.next());else{var w=Math.min(h.peekLength(),p.peekLength()),N=h.next(w),_=p.next(w);if(typeof _.retain=="number"){var T={};typeof N.retain=="number"?T.retain=w:T.insert=N.insert;var A=c.attributes.compose(N.attributes,_.attributes,typeof N.retain=="number");if(A&&(T.attributes=A),j.push(T),!p.hasNext()&&l(j.ops[j.ops.length-1],T)){var P=new d(h.rest());return j.concat(P).chop()}}else typeof _.delete=="number"&&typeof N.retain=="number"&&j.push(_)}return j.chop()},d.prototype.concat=function(m){var h=new d(this.ops.slice());return m.ops.length>0&&(h.push(m.ops[0]),h.ops=h.ops.concat(m.ops.slice(1))),h},d.prototype.diff=function(m,h){if(this.ops===m.ops)return new d;var p=[this,m].map(function(w){return w.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:u;var _=w===m?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),g=new d,y=i(p[0],p[1],h),v=c.iterator(this.ops),j=c.iterator(m.ops);return y.forEach(function(w){for(var N=w[1].length;N>0;){var _=0;switch(w[0]){case i.INSERT:_=Math.min(j.peekLength(),N),g.push(j.next(_));break;case i.DELETE:_=Math.min(N,v.peekLength()),v.next(_),g.delete(_);break;case i.EQUAL:_=Math.min(v.peekLength(),j.peekLength(),N);var T=v.next(_),A=j.next(_);l(T.insert,A.insert)?g.retain(_,c.attributes.diff(T.attributes,A.attributes)):g.push(A).delete(_);break}N-=_}}),g.chop()},d.prototype.eachLine=function(m,h){h=h||`
`;for(var p=c.iterator(this.ops),g=new d,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),j=c.length(v)-p.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(h,j)-j:-1;if(w<0)g.push(p.next());else if(w>0)g.push(p.next(w));else{if(m(g,p.next(1).attributes||{},y)===!1)return;y+=1,g=new d}}g.length()>0&&m(g,{},y)},d.prototype.transform=function(m,h){if(h=!!h,typeof m=="number")return this.transformPosition(m,h);for(var p=c.iterator(this.ops),g=c.iterator(m.ops),y=new d;p.hasNext()||g.hasNext();)if(p.peekType()==="insert"&&(h||g.peekType()!=="insert"))y.retain(c.length(p.next()));else if(g.peekType()==="insert")y.push(g.next());else{var v=Math.min(p.peekLength(),g.peekLength()),j=p.next(v),w=g.next(v);if(j.delete)continue;w.delete?y.push(w):y.retain(v,c.attributes.transform(j.attributes,w.attributes,h))}return y.chop()},d.prototype.transformPosition=function(m,h){h=!!h;for(var p=c.iterator(this.ops),g=0;p.hasNext()&&g<=m;){var y=p.peekLength(),v=p.peekType();if(p.next(),v==="delete"){m-=Math.min(y,m-g);continue}else v==="insert"&&(g<m||!h)&&(m+=y);g+=y}return m},n.exports=d}),(function(n,r){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,l=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},u=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var g=a.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!y)return!1;var v;for(v in p);return typeof v>"u"||a.call(p,v)},d=function(p,g){l&&g.name==="__proto__"?l(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},m=function(p,g){if(g==="__proto__")if(a.call(p,g)){if(o)return o(p,g).value}else return;return p[g]};n.exports=function h(){var p,g,y,v,j,w,N=arguments[0],_=1,T=arguments.length,A=!1;for(typeof N=="boolean"&&(A=N,N=arguments[1]||{},_=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});_<T;++_)if(p=arguments[_],p!=null)for(g in p)y=m(N,g),v=m(p,g),N!==v&&(A&&v&&(u(v)||(j=c(v)))?(j?(j=!1,w=y&&c(y)?y:[]):w=y&&u(y)?y:{},d(N,{name:g,newValue:h(A,w,v)})):typeof v<"u"&&d(N,{name:g,newValue:v}));return N}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=(function(){function k(E,O){for(var F=0;F<O.length;F++){var z=O[F];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}return function(E,O,F){return O&&k(E.prototype,O),F&&k(E,F),E}})(),l=function k(E,O,F){E===null&&(E=Function.prototype);var z=Object.getOwnPropertyDescriptor(E,O);if(z===void 0){var V=Object.getPrototypeOf(E);return V===null?void 0:k(V,O,F)}else{if("value"in z)return z.value;var U=z.get;return U===void 0?void 0:U.call(F)}},o=a(3),c=N(o),u=a(2),d=N(u),m=a(0),h=N(m),p=a(16),g=N(p),y=a(6),v=N(y),j=a(7),w=N(j);function N(k){return k&&k.__esModule?k:{default:k}}function _(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function T(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function A(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var P=1,C=(function(k){A(E,k);function E(){return _(this,E),T(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return i(E,[{key:"attach",value:function(){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,z){var V=h.default.query(F,h.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,z)}},{key:"formatAt",value:function(F,z,V,U){this.format(V,U)}},{key:"insertAt",value:function(F,z,V){if(typeof z=="string"&&z.endsWith(`
`)){var U=h.default.create(R.blotName);this.parent.insertBefore(U,F===0?this:this.next),U.insertAt(0,z.slice(0,-1))}else l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,F,z,V)}}]),E})(h.default.Embed);C.scope=h.default.Scope.BLOCK_BLOT;var R=(function(k){A(E,k);function E(O){_(this,E);var F=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O));return F.cache={},F}return i(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(F,z){return z.length()===0?F:F.insert(z.value(),M(z))},new d.default).insert(`
`,M(this))),this.cache.delta}},{key:"deleteAt",value:function(F,z){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,F,z),this.cache={}}},{key:"formatAt",value:function(F,z,V,U){z<=0||(h.default.query(V,h.default.Scope.BLOCK)?F+z===this.length()&&this.format(V,U):l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,F,Math.min(z,this.length()-F-1),V,U),this.cache={})}},{key:"insertAt",value:function(F,z,V){if(V!=null)return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,F,z,V);if(z.length!==0){var U=z.split(`
`),B=U.shift();B.length>0&&(F<this.length()-1||this.children.tail==null?l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var $=this;U.reduce(function(L,I){return $=$.split(L,!0),$.insertAt(0,I),I.length},F+B.length)}}},{key:"insertBefore",value:function(F,z){var V=this.children.head;l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,F,z),V instanceof g.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(F,z){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,F,z),this.cache={}}},{key:"optimize",value:function(F){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(F===0||F>=this.length()-P)){var V=this.clone();return F===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var U=l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,F,z);return this.cache={},U}}}]),E})(h.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[v.default,h.default.Embed,w.default];function M(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(E=(0,c.default)(E,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?E:M(k.parent,E)}r.bubbleFormats=M,r.BlockEmbed=C,r.default=R}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(L,I){var W=[],q=!0,Z=!1,J=void 0;try{for(var Q=L[Symbol.iterator](),G;!(q=(G=Q.next()).done)&&(W.push(G.value),!(I&&W.length===I));q=!0);}catch(ae){Z=!0,J=ae}finally{try{!q&&Q.return&&Q.return()}finally{if(Z)throw J}}return W}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return $(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function $(L,I){for(var W=0;W<I.length;W++){var q=I[W];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(L,q.key,q)}}return function(L,I,W){return I&&$(L.prototype,I),W&&$(L,W),L}})();a(50);var c=a(2),u=M(c),d=a(14),m=M(d),h=a(8),p=M(h),g=a(9),y=M(g),v=a(0),j=M(v),w=a(15),N=M(w),_=a(3),T=M(_),A=a(10),P=M(A),C=a(34),R=M(C);function M($){return $&&$.__esModule?$:{default:$}}function k($,L,I){return L in $?Object.defineProperty($,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):$[L]=I,$}function E($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}var O=(0,P.default)("quill"),F=(function(){o($,null,[{key:"debug",value:function(I){I===!0&&(I="log"),P.default.level(I)}},{key:"find",value:function(I){return I.__quill||j.default.find(I)}},{key:"import",value:function(I){return this.imports[I]==null&&O.error("Cannot import "+I+". Are you sure it was registered?"),this.imports[I]}},{key:"register",value:function(I,W){var q=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof I!="string"){var J=I.attrName||I.blotName;typeof J=="string"?this.register("formats/"+J,I,W):Object.keys(I).forEach(function(Q){q.register(Q,I[Q],W)})}else this.imports[I]!=null&&!Z&&O.warn("Overwriting "+I+" with",W),this.imports[I]=W,(I.startsWith("blots/")||I.startsWith("formats/"))&&W.blotName!=="abstract"?j.default.register(W):I.startsWith("modules")&&typeof W.register=="function"&&W.register()}}]);function $(L){var I=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,$),this.options=z(L,W),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",L);this.options.debug&&$.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=j.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new N.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(J){J===p.default.events.TEXT_CHANGE&&I.root.classList.toggle("ql-blank",I.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(J,Q){var G=I.selection.lastRange,ae=G&&G.length===0?G.index:void 0;V.call(I,function(){return I.editor.update(null,Q,ae)},J)});var Z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(Z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o($,[{key:"addContainer",value:function(I){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof I=="string"){var q=I;I=document.createElement("div"),I.classList.add(q)}return this.container.insertBefore(I,W),I}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(I,W,q){var Z=this,J=U(I,W,q),Q=l(J,4);return I=Q[0],W=Q[1],q=Q[3],V.call(this,function(){return Z.editor.deleteText(I,W)},q,I,-1*W)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(I),this.container.classList.toggle("ql-disabled",!I)}},{key:"focus",value:function(){var I=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=I,this.scrollIntoView()}},{key:"format",value:function(I,W){var q=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return V.call(this,function(){var J=q.getSelection(!0),Q=new u.default;if(J==null)return Q;if(j.default.query(I,j.default.Scope.BLOCK))Q=q.editor.formatLine(J.index,J.length,k({},I,W));else{if(J.length===0)return q.selection.format(I,W),Q;Q=q.editor.formatText(J.index,J.length,k({},I,W))}return q.setSelection(J,p.default.sources.SILENT),Q},Z)}},{key:"formatLine",value:function(I,W,q,Z,J){var Q=this,G=void 0,ae=U(I,W,q,Z,J),se=l(ae,4);return I=se[0],W=se[1],G=se[2],J=se[3],V.call(this,function(){return Q.editor.formatLine(I,W,G)},J,I,0)}},{key:"formatText",value:function(I,W,q,Z,J){var Q=this,G=void 0,ae=U(I,W,q,Z,J),se=l(ae,4);return I=se[0],W=se[1],G=se[2],J=se[3],V.call(this,function(){return Q.editor.formatText(I,W,G)},J,I,0)}},{key:"getBounds",value:function(I){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof I=="number"?q=this.selection.getBounds(I,W):q=this.selection.getBounds(I.index,I.length);var Z=this.container.getBoundingClientRect();return{bottom:q.bottom-Z.top,height:q.height,left:q.left-Z.left,right:q.right-Z.left,top:q.top-Z.top,width:q.width}}},{key:"getContents",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,q=U(I,W),Z=l(q,2);return I=Z[0],W=Z[1],this.editor.getContents(I,W)}},{key:"getFormat",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof I=="number"?this.editor.getFormat(I,W):this.editor.getFormat(I.index,I.length)}},{key:"getIndex",value:function(I){return I.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(I){return this.scroll.leaf(I)}},{key:"getLine",value:function(I){return this.scroll.line(I)}},{key:"getLines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof I!="number"?this.scroll.lines(I.index,I.length):this.scroll.lines(I,W)}},{key:"getModule",value:function(I){return this.theme.modules[I]}},{key:"getSelection",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return I&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-I,q=U(I,W),Z=l(q,2);return I=Z[0],W=Z[1],this.editor.getText(I,W)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(I,W,q){var Z=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return V.call(this,function(){return Z.editor.insertEmbed(I,W,q)},J,I)}},{key:"insertText",value:function(I,W,q,Z,J){var Q=this,G=void 0,ae=U(I,0,q,Z,J),se=l(ae,4);return I=se[0],G=se[2],J=se[3],V.call(this,function(){return Q.editor.insertText(I,W,G)},J,I,W.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(I,W,q){this.clipboard.dangerouslyPasteHTML(I,W,q)}},{key:"removeFormat",value:function(I,W,q){var Z=this,J=U(I,W,q),Q=l(J,4);return I=Q[0],W=Q[1],q=Q[3],V.call(this,function(){return Z.editor.removeFormat(I,W)},q,I)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(I){var W=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){I=new u.default(I);var Z=W.getLength(),J=W.editor.deleteText(0,Z),Q=W.editor.applyDelta(I),G=Q.ops[Q.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]===`
`&&(W.editor.deleteText(W.getLength()-1,1),Q.delete(1));var ae=J.compose(Q);return ae},q)}},{key:"setSelection",value:function(I,W,q){if(I==null)this.selection.setRange(null,W||$.sources.API);else{var Z=U(I,W,q),J=l(Z,4);I=J[0],W=J[1],q=J[3],this.selection.setRange(new w.Range(I,W),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(I){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new u.default().insert(I);return this.setContents(q,W)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,W=this.scroll.update(I);return this.selection.update(I),W}},{key:"updateContents",value:function(I){var W=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){return I=new u.default(I),W.editor.applyDelta(I,q)},q,!0)}}]),$})();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=p.default.events,F.sources=p.default.sources,F.version="1.3.7",F.imports={delta:u.default,parchment:j.default,"core/module":y.default,"core/theme":R.default};function z($,L){if(L=(0,T.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===F.DEFAULTS.theme)L.theme=R.default;else if(L.theme=F.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var I=(0,T.default)(!0,{},L.theme.DEFAULTS);[I,L].forEach(function(Z){Z.modules=Z.modules||{},Object.keys(Z.modules).forEach(function(J){Z.modules[J]===!0&&(Z.modules[J]={})})});var W=Object.keys(I.modules).concat(Object.keys(L.modules)),q=W.reduce(function(Z,J){var Q=F.import("modules/"+J);return Q==null?O.error("Cannot load "+J+" module. Are you sure you registered it?"):Z[J]=Q.DEFAULTS||{},Z},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,T.default)(!0,{},F.DEFAULTS,{modules:q},I,L),["bounds","container","scrollingContainer"].forEach(function(Z){typeof L[Z]=="string"&&(L[Z]=document.querySelector(L[Z]))}),L.modules=Object.keys(L.modules).reduce(function(Z,J){return L.modules[J]&&(Z[J]=L.modules[J]),Z},{}),L}function V($,L,I,W){if(this.options.strict&&!this.isEnabled()&&L===p.default.sources.USER)return new u.default;var q=I==null?null:this.getSelection(),Z=this.editor.delta,J=$();if(q!=null&&(I===!0&&(I=q.index),W==null?q=B(q,J,L):W!==0&&(q=B(q,I,W,L)),this.setSelection(q,p.default.sources.SILENT)),J.length()>0){var Q,G=[p.default.events.TEXT_CHANGE,J,Z,L];if((Q=this.emitter).emit.apply(Q,[p.default.events.EDITOR_CHANGE].concat(G)),L!==p.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,G)}}return J}function U($,L,I,W,q){var Z={};return typeof $.index=="number"&&typeof $.length=="number"?typeof L!="number"?(q=W,W=I,I=L,L=$.length,$=$.index):(L=$.length,$=$.index):typeof L!="number"&&(q=W,W=I,I=L,L=0),(typeof I>"u"?"undefined":i(I))==="object"?(Z=I,q=W):typeof I=="string"&&(W!=null?Z[I]=W:q=I),q=q||p.default.sources.API,[$,L,Z,q]}function B($,L,I,W){if($==null)return null;var q=void 0,Z=void 0;if(L instanceof u.default){var J=[$.index,$.index+$.length].map(function(se){return L.transformPosition(se,W!==p.default.sources.USER)}),Q=l(J,2);q=Q[0],Z=Q[1]}else{var G=[$.index,$.index+$.length].map(function(se){return se<L||se===L&&W===p.default.sources.USER?se:I>=0?se+I:Math.max(L,se+I)}),ae=l(G,2);q=ae[0],Z=ae[1]}return new w.Range(q,Z-q)}r.expandConfig=z,r.overload=U,r.default=F}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:v(T,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(7),c=m(o),u=a(0),d=m(u);function m(v){return v&&v.__esModule?v:{default:v}}function h(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function p(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function g(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var y=(function(v){g(j,v);function j(){return h(this,j),p(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"formatAt",value:function(N,_,T,A){if(j.compare(this.statics.blotName,T)<0&&d.default.query(T,d.default.Scope.BLOT)){var P=this.isolate(N,_);A&&P.wrap(T,A)}else l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,N,_,T,A)}},{key:"optimize",value:function(N){if(l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N),this.parent instanceof j&&j.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(N,_){var T=j.order.indexOf(N),A=j.order.indexOf(_);return T>=0||A>=0?T-A:N===_?0:N<_?-1:1}}]),j})(d.default.Inline);y.allowedChildren=[y,d.default.Embed,c.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default.Text);r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function w(N,_){for(var T=0;T<_.length;T++){var A=_[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,_,T){return _&&w(N.prototype,_),T&&w(N,T),N}})(),l=function w(N,_,T){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,_);if(A===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:w(P,_,T)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(T)}},o=a(54),c=m(o),u=a(10),d=m(u);function m(w){return w&&w.__esModule?w:{default:w}}function h(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function p(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function g(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var y=(0,d.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(w){document.addEventListener(w,function(){for(var N=arguments.length,_=Array(N),T=0;T<N;T++)_[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var P;(P=A.__quill.emitter).handleDOM.apply(P,_)}})})});var j=(function(w){g(N,w);function N(){h(this,N);var _=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return _.listeners={},_.on("error",y.error),_}return i(N,[{key:"emit",value:function(){y.log.apply(y,arguments),l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var A=arguments.length,P=Array(A>1?A-1:0),C=1;C<A;C++)P[C-1]=arguments[C];(this.listeners[T.type]||[]).forEach(function(R){var M=R.node,k=R.handler;(T.target===M||M.contains(T.target))&&k.apply(void 0,[T].concat(P))})}},{key:"listenDOM",value:function(T,A,P){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:A,handler:P})}}]),N})(c.default);j.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},j.sources={API:"api",SILENT:"silent",USER:"user"},r.default=j}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});function i(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function o(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,o),this.quill=c,this.options=u};l.DEFAULTS={},r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],l="warn";function o(u){if(i.indexOf(u)<=i.indexOf(l)){for(var d,m=arguments.length,h=Array(m>1?m-1:0),p=1;p<m;p++)h[p-1]=arguments[p];(d=console)[u].apply(d,h)}}function c(u){return i.reduce(function(d,m){return d[m]=o.bind(console,m,u),d},{})}o.level=c.level=function(u){l=u},r.default=c}),(function(n,r,a){var i=Array.prototype.slice,l=a(52),o=a(53),c=n.exports=function(h,p,g){return g||(g={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?g.strict?h===p:h==p:m(h,p,g)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function m(h,p,g){var y,v;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=i.call(h),p=i.call(p),c(h,p,g)):!1;if(d(h)){if(!d(p)||h.length!==p.length)return!1;for(y=0;y<h.length;y++)if(h[y]!==p[y])return!1;return!0}try{var j=l(h),w=l(p)}catch{return!1}if(j.length!=w.length)return!1;for(j.sort(),w.sort(),y=j.length-1;y>=0;y--)if(j[y]!=w[y])return!1;for(y=j.length-1;y>=0;y--)if(v=j[y],!c(h[v],p[v],g))return!1;return typeof h==typeof p}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),l=(function(){function o(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var m=i.Scope.TYPE&i.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&i.Scope.LEVEL|m:this.scope=i.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return o.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},o.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},o.prototype.canAdd=function(c,u){var d=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},o.prototype.remove=function(c){c.removeAttribute(this.keyName)},o.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},o})();r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=(function(){function C(R,M){var k=[],E=!0,O=!1,F=void 0;try{for(var z=R[Symbol.iterator](),V;!(E=(V=z.next()).done)&&(k.push(V.value),!(M&&k.length===M));E=!0);}catch(U){O=!0,F=U}finally{try{!E&&z.return&&z.return()}finally{if(O)throw F}}return k}return function(R,M){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function C(R,M){for(var k=0;k<M.length;k++){var E=M[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(R,E.key,E)}}return function(R,M,k){return M&&C(R.prototype,M),k&&C(R,k),R}})(),o=function C(R,M,k){R===null&&(R=Function.prototype);var E=Object.getOwnPropertyDescriptor(R,M);if(E===void 0){var O=Object.getPrototypeOf(R);return O===null?void 0:C(O,M,k)}else{if("value"in E)return E.value;var F=E.get;return F===void 0?void 0:F.call(k)}},c=a(2),u=w(c),d=a(0),m=w(d),h=a(4),p=w(h),g=a(6),y=w(g),v=a(7),j=w(v);function w(C){return C&&C.__esModule?C:{default:C}}function N(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function _(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:C}function T(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}var A=(function(C){T(R,C);function R(){return N(this,R),_(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R})(y.default);A.blotName="code",A.tagName="CODE";var P=(function(C){T(R,C);function R(){return N(this,R),_(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return l(R,[{key:"delta",value:function(){var k=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(O,F){return O.insert(F).insert(`
`,k.formats())},new u.default)}},{key:"format",value:function(k,E){if(!(k===this.statics.blotName&&E)){var O=this.descendant(j.default,this.length()-1),F=i(O,1),z=F[0];z!=null&&z.deleteAt(z.length()-1,1),o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,k,E)}}},{key:"formatAt",value:function(k,E,O,F){if(E!==0&&!(m.default.query(O,m.default.Scope.BLOCK)==null||O===this.statics.blotName&&F===this.statics.formats(this.domNode))){var z=this.newlineIndex(k);if(!(z<0||z>=k+E)){var V=this.newlineIndex(k,!0)+1,U=z-V+1,B=this.isolate(V,U),$=B.next;B.format(O,F),$ instanceof R&&$.formatAt(0,k-V+E-U,O,F)}}}},{key:"insertAt",value:function(k,E,O){if(O==null){var F=this.descendant(j.default,k),z=i(F,2),V=z[0],U=z[1];V.insertAt(U,E)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var O=this.domNode.textContent.slice(k).indexOf(`
`);return O>-1?k+O:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(k),E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var O=m.default.find(E);O==null?E.parentNode.removeChild(E):O instanceof m.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(k){var E=o(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,k);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),R})(p.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=A,r.default=P}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(L,I){var W=[],q=!0,Z=!1,J=void 0;try{for(var Q=L[Symbol.iterator](),G;!(q=(G=Q.next()).done)&&(W.push(G.value),!(I&&W.length===I));q=!0);}catch(ae){Z=!0,J=ae}finally{try{!q&&Q.return&&Q.return()}finally{if(Z)throw J}}return W}return function(L,I){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return $(L,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function $(L,I){for(var W=0;W<I.length;W++){var q=I[W];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(L,q.key,q)}}return function(L,I,W){return I&&$(L.prototype,I),W&&$(L,W),L}})(),c=a(2),u=E(c),d=a(20),m=E(d),h=a(0),p=E(h),g=a(13),y=E(g),v=a(24),j=E(v),w=a(4),N=E(w),_=a(16),T=E(_),A=a(21),P=E(A),C=a(11),R=E(C),M=a(3),k=E(M);function E($){return $&&$.__esModule?$:{default:$}}function O($,L,I){return L in $?Object.defineProperty($,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):$[L]=I,$}function F($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,V=(function(){function $(L){F(this,$),this.scroll=L,this.delta=this.getDelta()}return o($,[{key:"applyDelta",value:function(I){var W=this,q=!1;this.scroll.update();var Z=this.scroll.length();return this.scroll.batchStart(),I=B(I),I.reduce(function(J,Q){var G=Q.retain||Q.delete||Q.insert.length||1,ae=Q.attributes||{};if(Q.insert!=null){if(typeof Q.insert=="string"){var se=Q.insert;se.endsWith(`
`)&&q&&(q=!1,se=se.slice(0,-1)),J>=Z&&!se.endsWith(`
`)&&(q=!0),W.scroll.insertAt(J,se);var de=W.scroll.line(J),ue=l(de,2),oe=ue[0],pe=ue[1],be=(0,k.default)({},(0,w.bubbleFormats)(oe));if(oe instanceof N.default){var je=oe.descendant(p.default.Leaf,pe),Be=l(je,1),qe=Be[0];be=(0,k.default)(be,(0,w.bubbleFormats)(qe))}ae=m.default.attributes.diff(be,ae)||{}}else if(i(Q.insert)==="object"){var ke=Object.keys(Q.insert)[0];if(ke==null)return J;W.scroll.insertAt(J,ke,Q.insert[ke])}Z+=G}return Object.keys(ae).forEach(function(Se){W.scroll.formatAt(J,G,Se,ae[Se])}),J+G},0),I.reduce(function(J,Q){return typeof Q.delete=="number"?(W.scroll.deleteAt(J,Q.delete),J):J+(Q.retain||Q.insert.length||1)},0),this.scroll.batchEnd(),this.update(I)}},{key:"deleteText",value:function(I,W){return this.scroll.deleteAt(I,W),this.update(new u.default().retain(I).delete(W))}},{key:"formatLine",value:function(I,W){var q=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Z).forEach(function(J){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[J])){var Q=q.scroll.lines(I,Math.max(W,1)),G=W;Q.forEach(function(ae){var se=ae.length();if(!(ae instanceof y.default))ae.format(J,Z[J]);else{var de=I-ae.offset(q.scroll),ue=ae.newlineIndex(de+G)-de+1;ae.formatAt(de,ue,J,Z[J])}G-=se})}}),this.scroll.optimize(),this.update(new u.default().retain(I).retain(W,(0,P.default)(Z)))}},{key:"formatText",value:function(I,W){var q=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Z).forEach(function(J){q.scroll.formatAt(I,W,J,Z[J])}),this.update(new u.default().retain(I).retain(W,(0,P.default)(Z)))}},{key:"getContents",value:function(I,W){return this.delta.slice(I,I+W)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(I,W){return I.concat(W.delta())},new u.default)}},{key:"getFormat",value:function(I){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],Z=[];W===0?this.scroll.path(I).forEach(function(Q){var G=l(Q,1),ae=G[0];ae instanceof N.default?q.push(ae):ae instanceof p.default.Leaf&&Z.push(ae)}):(q=this.scroll.lines(I,W),Z=this.scroll.descendants(p.default.Leaf,I,W));var J=[q,Z].map(function(Q){if(Q.length===0)return{};for(var G=(0,w.bubbleFormats)(Q.shift());Object.keys(G).length>0;){var ae=Q.shift();if(ae==null)return G;G=U((0,w.bubbleFormats)(ae),G)}return G});return k.default.apply(k.default,J)}},{key:"getText",value:function(I,W){return this.getContents(I,W).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(I,W,q){return this.scroll.insertAt(I,W,q),this.update(new u.default().retain(I).insert(O({},W,q)))}},{key:"insertText",value:function(I,W){var q=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W=W.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(I,W),Object.keys(Z).forEach(function(J){q.scroll.formatAt(I,W.length,J,Z[J])}),this.update(new u.default().retain(I).insert(W,(0,P.default)(Z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var I=this.scroll.children.head;return I.statics.blotName!==N.default.blotName||I.children.length>1?!1:I.children.head instanceof T.default}},{key:"removeFormat",value:function(I,W){var q=this.getText(I,W),Z=this.scroll.line(I+W),J=l(Z,2),Q=J[0],G=J[1],ae=0,se=new u.default;Q!=null&&(Q instanceof y.default?ae=Q.newlineIndex(G)-G+1:ae=Q.length()-G,se=Q.delta().slice(G,G+ae-1).insert(`
`));var de=this.getContents(I,W+ae),ue=de.diff(new u.default().insert(q).concat(se)),oe=new u.default().retain(I).concat(ue);return this.applyDelta(oe)}},{key:"update",value:function(I){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Z=this.delta;if(W.length===1&&W[0].type==="characterData"&&W[0].target.data.match(z)&&p.default.find(W[0].target)){var J=p.default.find(W[0].target),Q=(0,w.bubbleFormats)(J),G=J.offset(this.scroll),ae=W[0].oldValue.replace(j.default.CONTENTS,""),se=new u.default().insert(ae),de=new u.default().insert(J.value()),ue=new u.default().retain(G).concat(se.diff(de,q));I=ue.reduce(function(oe,pe){return pe.insert?oe.insert(pe.insert,Q):oe.push(pe)},new u.default),this.delta=Z.compose(I)}else this.delta=this.getDelta(),(!I||!(0,R.default)(Z.compose(I),this.delta))&&(I=Z.diff(this.delta,q));return I}}]),$})();function U($,L){return Object.keys(L).reduce(function(I,W){return $[W]==null||(L[W]===$[W]?I[W]=L[W]:Array.isArray(L[W])?L[W].indexOf($[W])<0&&(I[W]=L[W].concat([$[W]])):I[W]=[L[W],$[W]]),I},{})}function B($){return $.reduce(function(L,I){if(I.insert===1){var W=(0,P.default)(I.attributes);return delete W.image,L.insert({image:I.attributes.image},W)}if(I.attributes!=null&&(I.attributes.list===!0||I.attributes.bullet===!0)&&(I=(0,P.default)(I),I.attributes.list?I.attributes.list="ordered":(I.attributes.list="bullet",delete I.attributes.bullet)),typeof I.insert=="string"){var q=I.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(q,I.attributes)}return L.push(I)},new u.default)}r.default=V}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=(function(){function C(R,M){var k=[],E=!0,O=!1,F=void 0;try{for(var z=R[Symbol.iterator](),V;!(E=(V=z.next()).done)&&(k.push(V.value),!(M&&k.length===M));E=!0);}catch(U){O=!0,F=U}finally{try{!E&&z.return&&z.return()}finally{if(O)throw F}}return k}return function(R,M){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function C(R,M){for(var k=0;k<M.length;k++){var E=M[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(R,E.key,E)}}return function(R,M,k){return M&&C(R.prototype,M),k&&C(R,k),R}})(),o=a(0),c=j(o),u=a(21),d=j(u),m=a(11),h=j(m),p=a(8),g=j(p),y=a(10),v=j(y);function j(C){return C&&C.__esModule?C:{default:C}}function w(C){if(Array.isArray(C)){for(var R=0,M=Array(C.length);R<C.length;R++)M[R]=C[R];return M}else return Array.from(C)}function N(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}var _=(0,v.default)("quill:selection"),T=function C(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;N(this,C),this.index=R,this.length=M},A=(function(){function C(R,M){var k=this;N(this,C),this.emitter=M,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(E,O){E===g.default.events.TEXT_CHANGE&&O.length()>0&&k.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var E=k.getNativeRange();E!=null&&E.start.node!==k.cursor.textNode&&k.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(E,O){if(O.range){var F=O.range,z=F.startNode,V=F.startOffset,U=F.endNode,B=F.endOffset;k.setNativeRange(z,V,U,B)}}),this.update(g.default.sources.SILENT)}return l(C,[{key:"handleComposition",value:function(){var M=this;this.root.addEventListener("compositionstart",function(){M.composing=!0}),this.root.addEventListener("compositionend",function(){if(M.composing=!1,M.cursor.parent){var k=M.cursor.restore();if(!k)return;setTimeout(function(){M.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var M=this;this.emitter.listenDOM("mousedown",document.body,function(){M.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){M.mouseDown=!1,M.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(M,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[M])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||c.default.query(M,c.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var O=c.default.find(E.start.node,!1);if(O==null)return;if(O instanceof c.default.Leaf){var F=O.split(E.start.offset);O.parent.insertBefore(this.cursor,F)}else O.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(M,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(M){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();M=Math.min(M,E-1),k=Math.min(M+k,E-1)-M;var O=void 0,F=this.scroll.leaf(M),z=i(F,2),V=z[0],U=z[1];if(V==null)return null;var B=V.position(U,!0),$=i(B,2);O=$[0],U=$[1];var L=document.createRange();if(k>0){L.setStart(O,U);var I=this.scroll.leaf(M+k),W=i(I,2);if(V=W[0],U=W[1],V==null)return null;var q=V.position(U,!0),Z=i(q,2);return O=Z[0],U=Z[1],L.setEnd(O,U),L.getBoundingClientRect()}else{var J="left",Q=void 0;return O instanceof Text?(U<O.data.length?(L.setStart(O,U),L.setEnd(O,U+1)):(L.setStart(O,U-1),L.setEnd(O,U),J="right"),Q=L.getBoundingClientRect()):(Q=V.domNode.getBoundingClientRect(),U>0&&(J="right")),{bottom:Q.top+Q.height,height:Q.height,left:Q[J],right:Q[J],top:Q.top,width:0}}}},{key:"getNativeRange",value:function(){var M=document.getSelection();if(M==null||M.rangeCount<=0)return null;var k=M.getRangeAt(0);if(k==null)return null;var E=this.normalizeNative(k);return _.info("getNativeRange",E),E}},{key:"getRange",value:function(){var M=this.getNativeRange();if(M==null)return[null,null];var k=this.normalizedToRange(M);return[k,M]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(M){var k=this,E=[[M.start.node,M.start.offset]];M.native.collapsed||E.push([M.end.node,M.end.offset]);var O=E.map(function(V){var U=i(V,2),B=U[0],$=U[1],L=c.default.find(B,!0),I=L.offset(k.scroll);return $===0?I:L instanceof c.default.Container?I+L.length():I+L.index(B,$)}),F=Math.min(Math.max.apply(Math,w(O)),this.scroll.length()-1),z=Math.min.apply(Math,[F].concat(w(O)));return new T(z,F-z)}},{key:"normalizeNative",value:function(M){if(!P(this.root,M.startContainer)||!M.collapsed&&!P(this.root,M.endContainer))return null;var k={start:{node:M.startContainer,offset:M.startOffset},end:{node:M.endContainer,offset:M.endOffset},native:M};return[k.start,k.end].forEach(function(E){for(var O=E.node,F=E.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>F)O=O.childNodes[F],F=0;else if(O.childNodes.length===F)O=O.lastChild,F=O instanceof Text?O.data.length:O.childNodes.length+1;else break;E.node=O,E.offset=F}),k}},{key:"rangeToNative",value:function(M){var k=this,E=M.collapsed?[M.index]:[M.index,M.index+M.length],O=[],F=this.scroll.length();return E.forEach(function(z,V){z=Math.min(F-1,z);var U=void 0,B=k.scroll.leaf(z),$=i(B,2),L=$[0],I=$[1],W=L.position(I,V!==0),q=i(W,2);U=q[0],I=q[1],O.push(U,I)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(M){var k=this.lastRange;if(k!=null){var E=this.getBounds(k.index,k.length);if(E!=null){var O=this.scroll.length()-1,F=this.scroll.line(Math.min(k.index,O)),z=i(F,1),V=z[0],U=V;if(k.length>0){var B=this.scroll.line(Math.min(k.index+k.length,O)),$=i(B,1);U=$[0]}if(!(V==null||U==null)){var L=M.getBoundingClientRect();E.top<L.top?M.scrollTop-=L.top-E.top:E.bottom>L.bottom&&(M.scrollTop+=E.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(M,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",M,k,E,O),!(M!=null&&(this.root.parentNode==null||M.parentNode==null||E.parentNode==null))){var z=document.getSelection();if(z!=null)if(M!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||F||M!==V.startContainer||k!==V.startOffset||E!==V.endContainer||O!==V.endOffset){M.tagName=="BR"&&(k=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode),E.tagName=="BR"&&(O=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var U=document.createRange();U.setStart(M,k),U.setEnd(E,O),z.removeAllRanges(),z.addRange(U)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(M){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof k=="string"&&(E=k,k=!1),_.info("setRange",M),M!=null){var O=this.rangeToNative(M);this.setNativeRange.apply(this,w(O).concat([k]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,k=this.lastRange,E=this.getRange(),O=i(E,2),F=O[0],z=O[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(k,this.lastRange)){var V;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[g.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(k),M];if((V=this.emitter).emit.apply(V,[g.default.events.EDITOR_CHANGE].concat(U)),M!==g.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,U)}}}}]),C})();function P(C,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),C.contains(R)}r.Range=T,r.default=A}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function g(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&g(y.prototype,v),j&&g(y,j),y}})(),l=function g(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(0),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return d(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"insertInto",value:function(j,w){j.children.length===0?l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,j,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y})(c.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){m(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(44),o=a(30),c=a(1),u=(function(m){i(h,m);function h(p){var g=m.call(this,p)||this;return g.build(),g}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var y=d(g);p.insertBefore(y,p.children.head||void 0)}catch(v){if(v instanceof c.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(p,g){if(p===0&&g===this.length())return this.remove();this.children.forEachAt(p,g,function(y,v,j){y.deleteAt(v,j)})},h.prototype.descendant=function(p,g){var y=this.children.find(g),v=y[0],j=y[1];return p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p?[v,j]:v instanceof h?v.descendant(p,j):[null,-1]},h.prototype.descendants=function(p,g,y){g===void 0&&(g=0),y===void 0&&(y=Number.MAX_VALUE);var v=[],j=y;return this.children.forEachAt(g,y,function(w,N,_){(p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p)&&v.push(w),w instanceof h&&(v=v.concat(w.descendants(p,N,j))),j-=_}),v},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},h.prototype.formatAt=function(p,g,y,v){this.children.forEachAt(p,g,function(j,w,N){j.formatAt(w,N,y,v)})},h.prototype.insertAt=function(p,g,y){var v=this.children.find(p),j=v[0],w=v[1];if(j)j.insertAt(w,g,y);else{var N=y==null?c.create("text",g):c.create(g,y);this.appendChild(N)}},h.prototype.insertBefore=function(p,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,g)},h.prototype.length=function(){return this.children.reduce(function(p,g){return p+g.length()},0)},h.prototype.moveChildren=function(p,g){this.children.forEach(function(y){p.insertBefore(y,g)})},h.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(p)}else this.remove()},h.prototype.path=function(p,g){g===void 0&&(g=!1);var y=this.children.find(p,g),v=y[0],j=y[1],w=[[this,p]];return v instanceof h?w.concat(v.path(j,g)):(v!=null&&w.push([v,j]),w)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),m.prototype.replace.call(this,p)},h.prototype.split=function(p,g){if(g===void 0&&(g=!1),!g){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(v,j,w){v=v.split(j,g),y.appendChild(v)}),y},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,g){var y=this,v=[],j=[];p.forEach(function(w){w.target===y.domNode&&w.type==="childList"&&(v.push.apply(v,w.addedNodes),j.push.apply(j,w.removedNodes))}),j.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var N=c.find(w);N!=null&&(N.domNode.parentNode==null||N.domNode.parentNode===y.domNode)&&N.detach()}}),v.filter(function(w){return w.parentNode==y.domNode}).sort(function(w,N){return w===N?0:w.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var N=null;w.nextSibling!=null&&(N=c.find(w.nextSibling));var _=d(w);(_.next!=N||_.next==null)&&(_.parent!=null&&_.parent.removeChild(y),y.insertBefore(_,N||void 0))})},h})(o.default);function d(m){var h=c.find(m);if(h==null)try{h=c.create(m)}catch{h=c.create(c.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(g){h.domNode.appendChild(g)}),m.parentNode&&m.parentNode.replaceChild(h.domNode,m),h.attach()}return h}r.default=u}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){m(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12),o=a(31),c=a(17),u=a(1),d=(function(m){i(h,m);function h(p){var g=m.call(this,p)||this;return g.attributes=new o.default(g.domNode),g}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,g){var y=u.query(p);y instanceof l.default?this.attributes.attribute(y,g):g&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==g)&&this.replaceWith(p,g)},h.prototype.formats=function(){var p=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(p[this.statics.blotName]=g),p},h.prototype.replaceWith=function(p,g){var y=m.prototype.replaceWith.call(this,p,g);return this.attributes.copy(y),y},h.prototype.update=function(p,g){var y=this;m.prototype.update.call(this,p,g),p.some(function(v){return v.target===y.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,g){var y=m.prototype.wrap.call(this,p,g);return y instanceof h&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},h})(c.default);r.default=d}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(30),o=a(1),c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(m){return!0},d.prototype.index=function(m,h){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(m,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},d.scope=o.Scope.INLINE_BLOT,d})(l.default);r.default=c}),(function(n,r,a){var i=a(11),l=a(3),o={attributes:{compose:function(u,d,m){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=l(!0,{},d);m||(h=Object.keys(h).reduce(function(g,y){return h[y]!=null&&(g[y]=h[y]),g},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var m=Object.keys(u).concat(Object.keys(d)).reduce(function(h,p){return i(u[p],d[p])||(h[p]=d[p]===void 0?null:d[p]),h},{});return Object.keys(m).length>0?m:void 0},transform:function(u,d,m){if(typeof u!="object")return d;if(typeof d=="object"){if(!m)return d;var h=Object.keys(d).reduce(function(p,g){return u[g]===void 0&&(p[g]=d[g]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var m=this.offset,h=o.length(d);if(u>=h-m?(u=h-m,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(m,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,m=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[m].concat(h)}else return[]},n.exports=o}),(function(n,r){var a=(function(){function i(y,v){return v!=null&&y instanceof v}var l;try{l=Map}catch{l=function(){}}var o;try{o=Set}catch{o=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(y,v,j,w,N){typeof v=="object"&&(j=v.depth,w=v.prototype,N=v.includeNonEnumerable,v=v.circular);var _=[],T=[],A=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof j>"u"&&(j=1/0);function P(C,R){if(C===null)return null;if(R===0)return C;var M,k;if(typeof C!="object")return C;if(i(C,l))M=new l;else if(i(C,o))M=new o;else if(i(C,c))M=new c(function(L,I){C.then(function(W){L(P(W,R-1))},function(W){I(P(W,R-1))})});else if(u.__isArray(C))M=[];else if(u.__isRegExp(C))M=new RegExp(C.source,g(C)),C.lastIndex&&(M.lastIndex=C.lastIndex);else if(u.__isDate(C))M=new Date(C.getTime());else{if(A&&Buffer.isBuffer(C))return Buffer.allocUnsafe?M=Buffer.allocUnsafe(C.length):M=new Buffer(C.length),C.copy(M),M;i(C,Error)?M=Object.create(C):typeof w>"u"?(k=Object.getPrototypeOf(C),M=Object.create(k)):(M=Object.create(w),k=w)}if(v){var E=_.indexOf(C);if(E!=-1)return T[E];_.push(C),T.push(M)}i(C,l)&&C.forEach(function(L,I){var W=P(I,R-1),q=P(L,R-1);M.set(W,q)}),i(C,o)&&C.forEach(function(L){var I=P(L,R-1);M.add(I)});for(var O in C){var F;k&&(F=Object.getOwnPropertyDescriptor(k,O)),!(F&&F.set==null)&&(M[O]=P(C[O],R-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(C),O=0;O<z.length;O++){var V=z[O],U=Object.getOwnPropertyDescriptor(C,V);U&&!U.enumerable&&!N||(M[V]=P(C[V],R-1),U.enumerable||Object.defineProperty(M,V,{enumerable:!1}))}if(N)for(var B=Object.getOwnPropertyNames(C),O=0;O<B.length;O++){var $=B[O],U=Object.getOwnPropertyDescriptor(C,$);U&&U.enumerable||(M[$]=P(C[$],R-1),Object.defineProperty(M,$,{enumerable:!1}))}return M}return P(y,j)}u.clonePrototype=function(v){if(v===null)return null;var j=function(){};return j.prototype=v,new j};function d(y){return Object.prototype.toString.call(y)}u.__objToStr=d;function m(y){return typeof y=="object"&&d(y)==="[object Date]"}u.__isDate=m;function h(y){return typeof y=="object"&&d(y)==="[object Array]"}u.__isArray=h;function p(y){return typeof y=="object"&&d(y)==="[object RegExp]"}u.__isRegExp=p;function g(y){var v="";return y.global&&(v+="g"),y.ignoreCase&&(v+="i"),y.multiline&&(v+="m"),v}return u.__getRegExpFlags=g,u})();typeof n=="object"&&n.exports&&(n.exports=a)}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function M(k,E){var O=[],F=!0,z=!1,V=void 0;try{for(var U=k[Symbol.iterator](),B;!(F=(B=U.next()).done)&&(O.push(B.value),!(E&&O.length===E));F=!0);}catch($){z=!0,V=$}finally{try{!F&&U.return&&U.return()}finally{if(z)throw V}}return O}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return M(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function M(k,E){for(var O=0;O<E.length;O++){var F=E[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,E,O){return E&&M(k.prototype,E),O&&M(k,O),k}})(),o=function M(k,E,O){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,E);if(F===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:M(z,E,O)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(O)}},c=a(0),u=_(c),d=a(8),m=_(d),h=a(4),p=_(h),g=a(16),y=_(g),v=a(13),j=_(v),w=a(25),N=_(w);function _(M){return M&&M.__esModule?M:{default:M}}function T(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function A(M,k){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:M}function P(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(M,k):M.__proto__=k)}function C(M){return M instanceof p.default||M instanceof h.BlockEmbed}var R=(function(M){P(k,M);function k(E,O){T(this,k);var F=A(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E));return F.emitter=O.emitter,Array.isArray(O.whitelist)&&(F.whitelist=O.whitelist.reduce(function(z,V){return z[V]=!0,z},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return l(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,F){var z=this.line(O),V=i(z,2),U=V[0],B=V[1],$=this.line(O+F),L=i($,1),I=L[0];if(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,O,F),I!=null&&U!==I&&B>0){if(U instanceof h.BlockEmbed||I instanceof h.BlockEmbed){this.optimize();return}if(U instanceof j.default){var W=U.newlineIndex(U.length(),!0);if(W>-1&&(U=U.split(W+1),U===I)){this.optimize();return}}else if(I instanceof j.default){var q=I.newlineIndex(0);q>-1&&I.split(q+1)}var Z=I.children.head instanceof y.default?null:I.children.head;U.moveChildren(I,Z),U.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,F,z,V){this.whitelist!=null&&!this.whitelist[z]||(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,O,F,z,V),this.optimize())}},{key:"insertAt",value:function(O,F,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[F])){if(O>=this.length())if(z==null||u.default.query(F,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),z==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),V.insertAt(0,F,z)}else{var U=u.default.create(F,z);this.appendChild(U)}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,F,z);this.optimize()}}},{key:"insertBefore",value:function(O,F){if(O.statics.scope===u.default.Scope.INLINE_BLOT){var z=u.default.create(this.statics.defaultChild);z.appendChild(O),O=z}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,F)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(C,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function V(U,B,$){var L=[],I=$;return U.children.forEachAt(B,$,function(W,q,Z){C(W)?L.push(W):W instanceof u.default.Container&&(L=L.concat(V(W,q,I))),I-=Z}),L};return z(this,O,F)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O,F),O.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,O,F))}},{key:"path",value:function(O){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var F=m.default.sources.USER;typeof O=="string"&&(F=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,F,O),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,F,O)}}}]),k})(u.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[p.default,h.BlockEmbed,N.default],r.default=R}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},l=(function(){function Q(G,ae){var se=[],de=!0,ue=!1,oe=void 0;try{for(var pe=G[Symbol.iterator](),be;!(de=(be=pe.next()).done)&&(se.push(be.value),!(ae&&se.length===ae));de=!0);}catch(je){ue=!0,oe=je}finally{try{!de&&pe.return&&pe.return()}finally{if(ue)throw oe}}return se}return function(G,ae){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function Q(G,ae){for(var se=0;se<ae.length;se++){var de=ae[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(G,de.key,de)}}return function(G,ae,se){return ae&&Q(G.prototype,ae),se&&Q(G,se),G}})(),c=a(21),u=M(c),d=a(11),m=M(d),h=a(3),p=M(h),g=a(2),y=M(g),v=a(20),j=M(v),w=a(0),N=M(w),_=a(5),T=M(_),A=a(10),P=M(A),C=a(9),R=M(C);function M(Q){return Q&&Q.__esModule?Q:{default:Q}}function k(Q,G,ae){return G in Q?Object.defineProperty(Q,G,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Q[G]=ae,Q}function E(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}function O(Q,G){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:Q}function F(Q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Q.prototype=Object.create(G&&G.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,G):Q.__proto__=G)}var z=(0,P.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=(function(Q){F(G,Q),o(G,null,[{key:"match",value:function(se,de){return de=J(de),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!de[ue]!==se[ue]&&de[ue]!==null})?!1:de.key===(se.which||se.keyCode)}}]);function G(ae,se){E(this,G);var de=O(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ae,se));return de.bindings={},Object.keys(de.options.bindings).forEach(function(ue){ue==="list autofill"&&ae.scroll.whitelist!=null&&!ae.scroll.whitelist.list||de.options.bindings[ue]&&de.addBinding(de.options.bindings[ue])}),de.addBinding({key:G.keys.ENTER,shiftKey:null},W),de.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(de.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},$),de.addBinding({key:G.keys.DELETE},{collapsed:!0},L)):(de.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),de.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),de.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},I),de.addBinding({key:G.keys.DELETE},{collapsed:!1},I),de.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),de.listen(),de}return o(G,[{key:"addBinding",value:function(se){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe=J(se);if(oe==null||oe.key==null)return z.warn("Attempted to add invalid keyboard binding",oe);typeof de=="function"&&(de={handler:de}),typeof ue=="function"&&(ue={handler:ue}),oe=(0,p.default)(oe,de,ue),this.bindings[oe.key]=this.bindings[oe.key]||[],this.bindings[oe.key].push(oe)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(de){if(!de.defaultPrevented){var ue=de.which||de.keyCode,oe=(se.bindings[ue]||[]).filter(function(lt){return G.match(de,lt)});if(oe.length!==0){var pe=se.quill.getSelection();if(!(pe==null||!se.quill.hasFocus())){var be=se.quill.getLine(pe.index),je=l(be,2),Be=je[0],qe=je[1],ke=se.quill.getLeaf(pe.index),Se=l(ke,2),Ge=Se[0],Ke=Se[1],Me=pe.length===0?[Ge,Ke]:se.quill.getLeaf(pe.index+pe.length),it=l(Me,2),_e=it[0],at=it[1],Ne=Ge instanceof N.default.Text?Ge.value().slice(0,Ke):"",ze=_e instanceof N.default.Text?_e.value().slice(at):"",nt={collapsed:pe.length===0,empty:pe.length===0&&Be.length()<=1,format:se.quill.getFormat(pe),offset:qe,prefix:Ne,suffix:ze},dt=oe.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==nt.collapsed||lt.empty!=null&&lt.empty!==nt.empty||lt.offset!=null&&lt.offset!==nt.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function(Ot){return nt.format[Ot]==null}))return!1}else if(i(lt.format)==="object"&&!Object.keys(lt.format).every(function(Ot){return lt.format[Ot]===!0?nt.format[Ot]!=null:lt.format[Ot]===!1?nt.format[Ot]==null:(0,m.default)(lt.format[Ot],nt.format[Ot])}))return!1;return lt.prefix!=null&&!lt.prefix.test(nt.prefix)||lt.suffix!=null&&!lt.suffix.test(nt.suffix)?!1:lt.handler.call(se,pe,nt)!==!0});dt&&de.preventDefault()}}}})}}]),G})(R.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:Z("bold"),italic:Z("italic"),underline:Z("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(G,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,ae){ae.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,T.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(G){this.quill.history.cutoff();var ae=new y.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(ae,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,T.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,ae){this.quill.format("list",!1,T.default.sources.USER),ae.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var ae=this.quill.getLine(G.index),se=l(ae,2),de=se[0],ue=se[1],oe=(0,p.default)({},de.formats(),{list:"checked"}),pe=new y.default().retain(G.index).insert(`
`,oe).retain(de.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,T.default.sources.USER),this.quill.setSelection(G.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,ae){var se=this.quill.getLine(G.index),de=l(se,2),ue=de[0],oe=de[1],pe=new y.default().retain(G.index).insert(`
`,ae.format).retain(ue.length()-oe-1).retain(1,{header:null});this.quill.updateContents(pe,T.default.sources.USER),this.quill.setSelection(G.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,ae){var se=ae.prefix.length,de=this.quill.getLine(G.index),ue=l(de,2),oe=ue[0],pe=ue[1];if(pe>se)return!0;var be=void 0;switch(ae.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText(G.index," ",T.default.sources.USER),this.quill.history.cutoff();var je=new y.default().retain(G.index-pe).delete(se+1).retain(oe.length()-2-pe).retain(1,{list:be});this.quill.updateContents(je,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-se,T.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var ae=this.quill.getLine(G.index),se=l(ae,2),de=se[0],ue=se[1],oe=new y.default().retain(G.index+de.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(oe,T.default.sources.USER)}},"embed left":B(U.keys.LEFT,!1),"embed left shift":B(U.keys.LEFT,!0),"embed right":B(U.keys.RIGHT,!1),"embed right shift":B(U.keys.RIGHT,!0)}};function B(Q,G){var ae,se=Q===U.keys.LEFT?"prefix":"suffix";return ae={key:Q,shiftKey:G,altKey:null},k(ae,se,/^$/),k(ae,"handler",function(ue){var oe=ue.index;Q===U.keys.RIGHT&&(oe+=ue.length+1);var pe=this.quill.getLeaf(oe),be=l(pe,1),je=be[0];return je instanceof N.default.Embed?(Q===U.keys.LEFT?G?this.quill.setSelection(ue.index-1,ue.length+1,T.default.sources.USER):this.quill.setSelection(ue.index-1,T.default.sources.USER):G?this.quill.setSelection(ue.index,ue.length+1,T.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,T.default.sources.USER),!1):!0}),ae}function $(Q,G){if(!(Q.index===0||this.quill.getLength()<=1)){var ae=this.quill.getLine(Q.index),se=l(ae,1),de=se[0],ue={};if(G.offset===0){var oe=this.quill.getLine(Q.index-1),pe=l(oe,1),be=pe[0];if(be!=null&&be.length()>1){var je=de.formats(),Be=this.quill.getFormat(Q.index-1,1);ue=j.default.attributes.diff(je,Be)||{}}}var qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(Q.index-qe,qe,T.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(Q.index-qe,qe,ue,T.default.sources.USER),this.quill.focus()}}function L(Q,G){var ae=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(Q.index>=this.quill.getLength()-ae)){var se={},de=0,ue=this.quill.getLine(Q.index),oe=l(ue,1),pe=oe[0];if(G.offset>=pe.length()-1){var be=this.quill.getLine(Q.index+1),je=l(be,1),Be=je[0];if(Be){var qe=pe.formats(),ke=this.quill.getFormat(Q.index,1);se=j.default.attributes.diff(qe,ke)||{},de=Be.length()}}this.quill.deleteText(Q.index,ae,T.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(Q.index+de-1,ae,se,T.default.sources.USER)}}function I(Q){var G=this.quill.getLines(Q),ae={};if(G.length>1){var se=G[0].formats(),de=G[G.length-1].formats();ae=j.default.attributes.diff(de,se)||{}}this.quill.deleteText(Q,T.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(Q.index,1,ae,T.default.sources.USER),this.quill.setSelection(Q.index,T.default.sources.SILENT),this.quill.focus()}function W(Q,G){var ae=this;Q.length>0&&this.quill.scroll.deleteAt(Q.index,Q.length);var se=Object.keys(G.format).reduce(function(de,ue){return N.default.query(ue,N.default.Scope.BLOCK)&&!Array.isArray(G.format[ue])&&(de[ue]=G.format[ue]),de},{});this.quill.insertText(Q.index,`
`,se,T.default.sources.USER),this.quill.setSelection(Q.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(de){se[de]==null&&(Array.isArray(G.format[de])||de!=="link"&&ae.quill.format(de,G.format[de],T.default.sources.USER))})}function q(Q){return{key:U.keys.TAB,shiftKey:!Q,format:{"code-block":!0},handler:function(ae){var se=N.default.query("code-block"),de=ae.index,ue=ae.length,oe=this.quill.scroll.descendant(se,de),pe=l(oe,2),be=pe[0],je=pe[1];if(be!=null){var Be=this.quill.getIndex(be),qe=be.newlineIndex(je,!0)+1,ke=be.newlineIndex(Be+je+ue),Se=be.domNode.textContent.slice(qe,ke).split(`
`);je=0,Se.forEach(function(Ge,Ke){Q?(be.insertAt(qe+je,se.TAB),je+=se.TAB.length,Ke===0?de+=se.TAB.length:ue+=se.TAB.length):Ge.startsWith(se.TAB)&&(be.deleteAt(qe+je,se.TAB.length),je-=se.TAB.length,Ke===0?de-=se.TAB.length:ue-=se.TAB.length),je+=Ge.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(de,ue,T.default.sources.SILENT)}}}}function Z(Q){return{key:Q[0].toUpperCase(),shortKey:!0,handler:function(ae,se){this.quill.format(Q,!se.format[Q],T.default.sources.USER)}}}function J(Q){if(typeof Q=="string"||typeof Q=="number")return J({key:Q});if((typeof Q>"u"?"undefined":i(Q))==="object"&&(Q=(0,u.default)(Q,!1)),typeof Q.key=="string")if(U.keys[Q.key.toUpperCase()]!=null)Q.key=U.keys[Q.key.toUpperCase()];else if(Q.key.length===1)Q.key=Q.key.toUpperCase().charCodeAt(0);else return null;return Q.shortKey&&(Q[V]=Q.shortKey,delete Q.shortKey),Q}r.default=U,r.SHORTKEY=V}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function j(w,N){var _=[],T=!0,A=!1,P=void 0;try{for(var C=w[Symbol.iterator](),R;!(T=(R=C.next()).done)&&(_.push(R.value),!(N&&_.length===N));T=!0);}catch(M){A=!0,P=M}finally{try{!T&&C.return&&C.return()}finally{if(A)throw P}}return _}return function(w,N){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return j(w,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,N);if(T===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(_)}},o=(function(){function j(w,N){for(var _=0;_<N.length;_++){var T=N[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),c=a(0),u=h(c),d=a(7),m=h(d);function h(j){return j&&j.__esModule?j:{default:j}}function p(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function g(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function y(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var v=(function(j){y(w,j),o(w,null,[{key:"value",value:function(){}}]);function w(N,_){p(this,w);var T=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N));return T.selection=_,T.textNode=document.createTextNode(w.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return o(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,T){if(this._length!==0)return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,T);for(var A=this,P=0;A!=null&&A.statics.scope!==u.default.Scope.BLOCK_BLOT;)P+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=w.CONTENTS.length,A.optimize(),A.formatAt(P,w.CONTENTS.length,_,T),this._length=0)}},{key:"index",value:function(_,T){return _===this.textNode?0:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,_,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,T=this.selection.getNativeRange(),A=void 0,P=void 0,C=void 0;if(T!=null&&T.start.node===_&&T.end.node===_){var R=[_,T.start.offset,T.end.offset];A=R[0],P=R[1],C=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var M=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof m.default?(A=this.next.domNode,this.next.insertAt(0,M),this.textNode.data=w.CONTENTS):(this.textNode.data=M,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var k=[P,C].map(function(O){return Math.max(0,Math.min(A.data.length,O-1))}),E=i(k,2);return P=E[0],C=E[1],{startNode:A,startOffset:P,endNode:A,endOffset:C}}}}},{key:"update",value:function(_,T){var A=this;if(_.some(function(C){return C.type==="characterData"&&C.target===A.textNode})){var P=this.restore();P&&(T.range=P)}}},{key:"value",value:function(){return""}}]),w})(u.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",r.default=v}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=u(i),o=a(4),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return d(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default.Container);p.allowedChildren=[c.default,o.BlockEmbed,p],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:v(T,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(0),c=u(o);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function m(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function h(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var p=(function(v){h(j,v);function j(){return d(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"value",value:function(N){var _=l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"value",this).call(this,N);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):_}}]),j})(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),y=new p("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=g,r.ColorStyle=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=(function(){function y(v,j){for(var w=0;w<j.length;w++){var N=j[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,j,w){return j&&y(v.prototype,j),w&&y(v,w),v}})(),l=function y(v,j,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,j);if(N===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,j,w)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(w)}},o=a(6),c=u(o);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){h(v,y);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(w,N){if(w!==this.statics.blotName||!N)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,N);N=this.constructor.sanitize(N),this.domNode.setAttribute("href",N)}}],[{key:"create",value:function(w){var N=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return w=this.sanitize(w),N.setAttribute("href",w),N.setAttribute("rel","noopener noreferrer"),N.setAttribute("target","_blank"),N}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return g(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),v})(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(y,v){var j=document.createElement("a");j.href=y;var w=j.href.slice(0,j.href.indexOf(":"));return v.indexOf(w)>-1}r.default=p,r.sanitize=g}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),o=a(23),c=m(o),u=a(107),d=m(u);function m(v){return v&&v.__esModule?v:{default:v}}function h(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}var p=0;function g(v,j){v.setAttribute(j,v.getAttribute(j)!=="true")}var y=(function(){function v(j){var w=this;h(this,v),this.select=j,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:w.togglePicker();break;case c.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var N=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),w.hasAttribute("value")&&_.setAttribute("data-value",w.getAttribute("value")),w.textContent&&_.setAttribute("data-label",w.textContent),_.addEventListener("click",function(){N.selectItem(_,!0)}),_.addEventListener("keydown",function(T){switch(T.keyCode){case c.default.keys.ENTER:N.selectItem(_,!0),T.preventDefault();break;case c.default.keys.ESCAPE:N.escape(),T.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=d.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,N=document.createElement("span");N.classList.add("ql-picker-options"),N.setAttribute("aria-hidden","true"),N.tabIndex="-1",N.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",N.id),this.options=N,[].slice.call(this.select.options).forEach(function(_){var T=w.buildItem(_);N.appendChild(T),_.selected===!0&&w.selectItem(T)}),this.container.appendChild(N)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(N){w.container.setAttribute(N.name,N.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(w!==_&&(_!=null&&_.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),N))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var N=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(N)}else this.selectItem(null);var _=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),v})();r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=z(i),o=a(5),c=z(o),u=a(4),d=z(u),m=a(16),h=z(m),p=a(25),g=z(p),y=a(24),v=z(y),j=a(35),w=z(j),N=a(6),_=z(N),T=a(22),A=z(T),P=a(7),C=z(P),R=a(55),M=z(R),k=a(42),E=z(k),O=a(23),F=z(O);function z(V){return V&&V.__esModule?V:{default:V}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":g.default,"blots/cursor":v.default,"blots/embed":w.default,"blots/inline":_.default,"blots/scroll":A.default,"blots/text":C.default,"modules/clipboard":M.default,"modules/history":E.default,"modules/keyboard":F.default}),l.default.register(d.default,h.default,v.default,_.default,A.default,C.default),r.default=c.default}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),l=(function(){function o(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},o.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},o.prototype.formatAt=function(c,u,d,m){var h=this.isolate(c,u);if(i.query(d,i.Scope.BLOT)!=null&&m)h.wrap(d,m);else if(i.query(d,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);h.wrap(p),p.format(d,m)}},o.prototype.insertAt=function(c,u,d){var m=d==null?i.create("text",u):i.create(u,d),h=this.split(c);this.parent.insertBefore(m,h)},o.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},o.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},o.prototype.length=function(){return 1},o.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},o.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},o.prototype.replaceWith=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return d.replace(this),d},o.prototype.split=function(c,u){return c===0?this:this.next},o.prototype.update=function(c,u){},o.prototype.wrap=function(c,u){var d=typeof c=="string"?i.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},o.blotName="abstract",o})();r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),l=a(32),o=a(33),c=a(1),u=(function(){function d(m){this.attributes={},this.domNode=m,this.build()}return d.prototype.attribute=function(m,h){h?m.add(this.domNode,h)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},d.prototype.build=function(){var m=this;this.attributes={};var h=i.default.keys(this.domNode),p=l.default.keys(this.domNode),g=o.default.keys(this.domNode);h.concat(p).concat(g).forEach(function(y){var v=c.query(y,c.Scope.ATTRIBUTE);v instanceof i.default&&(m.attributes[v.attrName]=v)})},d.prototype.copy=function(m){var h=this;Object.keys(this.attributes).forEach(function(p){var g=h.attributes[p].value(h.domNode);m.format(p,g)})},d.prototype.move=function(m){var h=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=m.attributes[p].value(m.domNode),h},{})},d})();r.default=u}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12);function o(u,d){var m=u.getAttribute("class")||"";return m.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(m,h){return this.canAdd(m,h)?(this.remove(m),m.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(m){var h=o(m,this.keyName);h.forEach(function(p){m.classList.remove(p)}),m.classList.length===0&&m.removeAttribute("class")},d.prototype.value=function(m){var h=o(m,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},d})(l.default);r.default=c}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12);function o(u){var d=u.split("-"),m=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+m}var c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},d.prototype.add=function(m,h){return this.canAdd(m,h)?(m.style[o(this.keyName)]=h,!0):!1},d.prototype.remove=function(m){m.style[o(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},d.prototype.value=function(m){var h=m.style[o(this.keyName)];return this.canAdd(m,h)?h:""},d})(l.default);r.default=c}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function c(u,d){for(var m=0;m<d.length;m++){var h=d[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,m){return d&&c(u.prototype,d),m&&c(u,m),u}})();function l(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=(function(){function c(u,d){l(this,c),this.quill=u,this.options=d,this.modules={}}return i(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(m){d.modules[m]==null&&d.addModule(m)})}},{key:"addModule",value:function(d){var m=this.quill.constructor.import("modules/"+d);return this.modules[d]=new m(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function j(w,N){for(var _=0;_<N.length;_++){var T=N[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,N);if(T===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(_)}},o=a(0),c=m(o),u=a(7),d=m(u);function m(j){return j&&j.__esModule?j:{default:j}}function h(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function p(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function g(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var y="\uFEFF",v=(function(j){g(w,j);function w(N){h(this,w);var _=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(T){_.contentNode.appendChild(T)}),_.leftGuard=document.createTextNode(y),_.rightGuard=document.createTextNode(y),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return i(w,[{key:"index",value:function(_,T){return _===this.leftGuard?0:_===this.rightGuard?1:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,_,T)}},{key:"restore",value:function(_){var T=void 0,A=void 0,P=_.data.split(y).join("");if(_===this.leftGuard)if(this.prev instanceof d.default){var C=this.prev.length();this.prev.insertAt(C,P),T={startNode:this.prev.domNode,startOffset:C+P.length}}else A=document.createTextNode(P),this.parent.insertBefore(c.default.create(A),this),T={startNode:A,startOffset:P.length};else _===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,P),T={startNode:this.next.domNode,startOffset:P.length}):(A=document.createTextNode(P),this.parent.insertBefore(c.default.create(A),this.next),T={startNode:A,startOffset:P.length}));return _.data=y,T}},{key:"update",value:function(_,T){var A=this;_.forEach(function(P){if(P.type==="characterData"&&(P.target===A.leftGuard||P.target===A.rightGuard)){var C=A.restore(P.target);C&&(T.range=C)}})}}]),w})(c.default.Embed);r.default=v}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new l.default.Attributor.Attribute("align","align",c),d=new l.default.Attributor.Class("align","ql-align",c),m=new l.default.Attributor.Style("align","text-align",c);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=a(0),l=c(i),o=a(26);function c(m){return m&&m.__esModule?m:{default:m}}var u=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),d=new o.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},u=new l.default.Attributor.Attribute("direction","dir",c),d=new l.default.Attributor.Class("direction","ql-direction",c),m=new l.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=(function(){function j(w,N){for(var _=0;_<N.length;_++){var T=N[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,N);if(T===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(_)}},o=a(0),c=u(o);function u(j){return j&&j.__esModule?j:{default:j}}function d(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function m(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function h(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",p),y=(function(j){h(w,j);function w(){return d(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"value",value:function(_){return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),w})(c.default.Attributor.Style),v=new y("font","font-family",p);r.FontStyle=v,r.FontClass=g}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=a(0),l=o(i);function o(d){return d&&d.__esModule?d:{default:d}}var c=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=u}),(function(n,r,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=(function(){function N(_,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,T,A){return T&&N(_.prototype,T),A&&N(_,A),_}})(),l=a(0),o=h(l),c=a(5),u=h(c),d=a(9),m=h(d);function h(N){return N&&N.__esModule?N:{default:N}}function p(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function g(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function y(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var v=(function(N){y(_,N);function _(T,A){p(this,_);var P=g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,T,A));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(u.default.events.EDITOR_CHANGE,function(C,R,M,k){C!==u.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||k===u.default.sources.USER?P.record(R,M):P.transform(R))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return i(_,[{key:"change",value:function(A,P){if(this.stack[A].length!==0){var C=this.stack[A].pop();this.stack[P].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[A],u.default.sources.USER),this.ignoreChange=!1;var R=w(C[A]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,P){if(A.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(P),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var M=this.stack.undo.pop();C=C.compose(M.undo),A=M.redo.compose(A)}else this.lastRecorded=R;this.stack.undo.push({redo:A,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(P){P.undo=A.transform(P.undo,!0),P.redo=A.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=A.transform(P.undo,!0),P.redo=A.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_})(m.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function j(N){var _=N.ops[N.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(T){return o.default.query(T,o.default.Scope.BLOCK)!=null}):!1}function w(N){var _=N.reduce(function(A,P){return A+=P.delete||0,A},0),T=N.length()-_;return j(N)&&(T-=1),T}r.default=v,r.getLastChangeIndex=w}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=(function(){function W(q,Z){for(var J=0;J<Z.length;J++){var Q=Z[J];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(q,Q.key,Q)}}return function(q,Z,J){return Z&&W(q.prototype,Z),J&&W(q,J),q}})(),l=function W(q,Z,J){q===null&&(q=Function.prototype);var Q=Object.getOwnPropertyDescriptor(q,Z);if(Q===void 0){var G=Object.getPrototypeOf(q);return G===null?void 0:W(G,Z,J)}else{if("value"in Q)return Q.value;var ae=Q.get;return ae===void 0?void 0:ae.call(J)}},o=a(3),c=R(o),u=a(2),d=R(u),m=a(8),h=R(m),p=a(23),g=R(p),y=a(34),v=R(y),j=a(59),w=R(j),N=a(60),_=R(N),T=a(28),A=R(T),P=a(61),C=R(P);function R(W){return W&&W.__esModule?W:{default:W}}function M(W,q){if(!(W instanceof q))throw new TypeError("Cannot call a class as a function")}function k(W,q){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:W}function E(W,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);W.prototype=Object.create(q&&q.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(W,q):W.__proto__=q)}var O=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],V=["1","2","3",!1],U=["small",!1,"large","huge"],B=(function(W){E(q,W);function q(Z,J){M(this,q);var Q=k(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,Z,J)),G=function ae(se){if(!document.body.contains(Z.root))return document.body.removeEventListener("click",ae);Q.tooltip!=null&&!Q.tooltip.root.contains(se.target)&&document.activeElement!==Q.tooltip.textbox&&!Q.quill.hasFocus()&&Q.tooltip.hide(),Q.pickers!=null&&Q.pickers.forEach(function(de){de.container.contains(se.target)||de.close()})};return Z.emitter.listenDOM("click",document.body,G),Q}return i(q,[{key:"addModule",value:function(J){var Q=l(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(Q),Q}},{key:"buildButtons",value:function(J,Q){J.forEach(function(G){var ae=G.getAttribute("class")||"";ae.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),Q[se]!=null))if(se==="direction")G.innerHTML=Q[se][""]+Q[se].rtl;else if(typeof Q[se]=="string")G.innerHTML=Q[se];else{var de=G.value||"";de!=null&&Q[se][de]&&(G.innerHTML=Q[se][de])}})})}},{key:"buildPickers",value:function(J,Q){var G=this;this.pickers=J.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&I(se,O),new _.default(se,Q.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var de=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&I(se,F,de==="background"?"#ffffff":"#000000"),new w.default(se,Q[de])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?I(se,z):se.classList.contains("ql-header")?I(se,V):se.classList.contains("ql-size")&&I(se,U)),new A.default(se)});var ae=function(){G.pickers.forEach(function(de){de.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ae)}}]),q})(v.default);B.DEFAULTS=(0,c.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,Z=this.container.querySelector("input.ql-image[type=file]");Z==null&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Z.classList.add("ql-image"),Z.addEventListener("change",function(){if(Z.files!=null&&Z.files[0]!=null){var J=new FileReader;J.onload=function(Q){var G=q.quill.getSelection(!0);q.quill.updateContents(new d.default().retain(G.index).delete(G.length).insert({image:Q.target.result}),h.default.sources.USER),q.quill.setSelection(G.index+1,h.default.sources.SILENT),Z.value=""},J.readAsDataURL(Z.files[0])}}),this.container.appendChild(Z)),Z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=(function(W){E(q,W);function q(Z,J){M(this,q);var Q=k(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,Z,J));return Q.textbox=Q.root.querySelector('input[type="text"]'),Q.listen(),Q}return i(q,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(Q){g.default.match(Q,"enter")?(J.save(),Q.preventDefault()):g.default.match(Q,"escape")&&(J.cancel(),Q.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Q!=null?this.textbox.value=Q:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,h.default.sources.USER)),this.quill.root.scrollTop=Q;break}case"video":J=L(J);case"formula":{if(!J)break;var G=this.quill.getSelection(!0);if(G!=null){var ae=G.index+G.length;this.quill.insertEmbed(ae,this.root.getAttribute("data-mode"),J,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ae+1," ",h.default.sources.USER),this.quill.setSelection(ae+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(C.default);function L(W){var q=W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||W.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=W.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":W}function I(W,q){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(J){var Q=document.createElement("option");J===Z?Q.setAttribute("selected","selected"):Q.setAttribute("value",J),W.appendChild(Q)})}r.BaseTooltip=$,r.default=B}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},l.prototype.contains=function(o){for(var c,u=this.iterator();c=u();)if(c===o)return!0;return!1},l.prototype.insertBefore=function(o,c){o&&(o.next=c,c!=null?(o.prev=c.prev,c.prev!=null&&(c.prev.next=o),c.prev=o,c===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},l.prototype.offset=function(o){for(var c=0,u=this.head;u!=null;){if(u===o)return c;c+=u.length(),u=u.next}return-1},l.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},l.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var c=o;return o!=null&&(o=o.next),c}},l.prototype.find=function(o,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var m=u.length();if(o<m||c&&o===m&&(u.next==null||u.next.length()!==0))return[u,o];o-=m}return[null,0]},l.prototype.forEach=function(o){for(var c,u=this.iterator();c=u();)o(c)},l.prototype.forEachAt=function(o,c,u){if(!(c<=0))for(var d=this.find(o),m=d[0],h=d[1],p,g=o-h,y=this.iterator(m);(p=y())&&g<o+c;){var v=p.length();o>g?u(p,o-g,Math.min(c,g+v-o)):u(p,0,Math.min(v,o+c-g)),g+=v}},l.prototype.map=function(o){return this.reduce(function(c,u){return c.push(o(u)),c},[])},l.prototype.reduce=function(o,c){for(var u,d=this.iterator();u=d();)c=o(c,u);return c},l})();r.default=i}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){m(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(17),o=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=(function(m){i(h,m);function h(p){var g=m.call(this,p)||this;return g.scroll=g,g.observer=new MutationObserver(function(y){g.update(y)}),g.observer.observe(g.domNode,c),g.attach(),g}return h.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,g){this.update(),p===0&&g===this.length()?this.children.forEach(function(y){y.remove()}):m.prototype.deleteAt.call(this,p,g)},h.prototype.formatAt=function(p,g,y,v){this.update(),m.prototype.formatAt.call(this,p,g,y,v)},h.prototype.insertAt=function(p,g,y){this.update(),m.prototype.insertAt.call(this,p,g,y)},h.prototype.optimize=function(p,g){var y=this;p===void 0&&(p=[]),g===void 0&&(g={}),m.prototype.optimize.call(this,g);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)p.push(v.pop());for(var j=function(T,A){A===void 0&&(A=!0),!(T==null||T===y)&&T.domNode.parentNode!=null&&(T.domNode[o.DATA_KEY].mutations==null&&(T.domNode[o.DATA_KEY].mutations=[]),A&&j(T.parent))},w=function(T){T.domNode[o.DATA_KEY]==null||T.domNode[o.DATA_KEY].mutations==null||(T instanceof l.default&&T.children.forEach(w),T.optimize(g))},N=p,_=0;N.length>0;_+=1){if(_>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(N.forEach(function(T){var A=o.find(T.target,!0);A!=null&&(A.domNode===T.target&&(T.type==="childList"?(j(o.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(P){var C=o.find(P,!1);j(C,!1),C instanceof l.default&&C.children.forEach(function(R){j(R,!1)})})):T.type==="attributes"&&j(A.prev)),j(A))}),this.children.forEach(w),N=[].slice.call(this.observer.takeRecords()),v=N.slice();v.length>0;)p.push(v.pop())}},h.prototype.update=function(p,g){var y=this;g===void 0&&(g={}),p=p||this.observer.takeRecords(),p.map(function(v){var j=o.find(v.target,!0);return j==null?null:j.domNode[o.DATA_KEY].mutations==null?(j.domNode[o.DATA_KEY].mutations=[v],j):(j.domNode[o.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===y||v.domNode[o.DATA_KEY]==null||v.update(v.domNode[o.DATA_KEY].mutations||[],g)}),this.domNode[o.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,g),this.optimize(p,g)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(l.default);r.default=d}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var p in h)h.hasOwnProperty(p)&&(m[p]=h[p])};return function(m,h){d(m,h);function p(){this.constructor=m}m.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(18),o=a(1);function c(d,m){if(Object.keys(d).length!==Object.keys(m).length)return!1;for(var h in d)if(d[h]!==m[h])return!1;return!0}var u=(function(d){i(m,d);function m(){return d!==null&&d.apply(this,arguments)||this}return m.formats=function(h){if(h.tagName!==m.tagName)return d.formats.call(this,h)},m.prototype.format=function(h,p){var g=this;h===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof l.default||(y=y.wrap(m.blotName,!0)),g.attributes.copy(y)}),this.unwrap()):d.prototype.format.call(this,h,p)},m.prototype.formatAt=function(h,p,g,y){if(this.formats()[g]!=null||o.query(g,o.Scope.ATTRIBUTE)){var v=this.isolate(h,p);v.format(g,y)}else d.prototype.formatAt.call(this,h,p,g,y)},m.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var g=this.next;g instanceof m&&g.prev===this&&c(p,g.formats())&&(g.moveChildren(this),g.remove())},m.blotName="inline",m.scope=o.Scope.INLINE_BLOT,m.tagName="SPAN",m})(l.default);r.default=u}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(18),o=a(1),c=(function(u){i(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(m){var h=o.query(d.blotName).tagName;if(m.tagName!==h)return u.formats.call(this,m)},d.prototype.format=function(m,h){o.query(m,o.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,m,h))},d.prototype.formatAt=function(m,h,p,g){o.query(p,o.Scope.BLOCK)!=null?this.format(p,g):u.prototype.formatAt.call(this,m,h,p,g)},d.prototype.insertAt=function(m,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)u.prototype.insertAt.call(this,m,h,p);else{var g=this.split(m),y=o.create(h,p);g.parent.insertBefore(y,g)}},d.prototype.update=function(m,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,m,h)},d.blotName="block",d.scope=o.Scope.BLOCK_BLOT,d.tagName="P",d})(l.default);r.default=c}),(function(n,r,a){var i=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var m in d)d.hasOwnProperty(m)&&(u[m]=d[m])};return function(u,d){c(u,d);function m(){this.constructor=u}u.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(19),o=(function(c){i(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,m){c.prototype.formatAt.call(this,0,this.length(),d,m)},u.prototype.formatAt=function(d,m,h,p){d===0&&m===this.length()?this.format(h,p):c.prototype.formatAt.call(this,d,m,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u})(l.default);r.default=o}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var h in m)m.hasOwnProperty(h)&&(d[h]=m[h])};return function(d,m){u(d,m);function h(){this.constructor=d}d.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(19),o=a(1),c=(function(u){i(d,u);function d(m){var h=u.call(this,m)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(m){return document.createTextNode(m)},d.value=function(m){var h=m.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(m,h){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+h)},d.prototype.index=function(m,h){return this.domNode===m?h:-1},d.prototype.insertAt=function(m,h,p){p==null?(this.text=this.text.slice(0,m)+h+this.text.slice(m),this.domNode.data=this.text):u.prototype.insertAt.call(this,m,h,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(m){u.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(m,h){return[this.domNode,m]},d.prototype.split=function(m,h){if(h===void 0&&(h=!1),!h){if(m===0)return this;if(m===this.length())return this.next}var p=o.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(m,h){var p=this;m.some(function(g){return g.type==="characterData"&&g.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=o.Scope.INLINE_BLOT,d})(l.default);r.default=c}),(function(n,r,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,c){return arguments.length>1&&!this.contains(o)==!c?c:l.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,c){return c=c||0,this.substr(c,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=o.length;var d=u.indexOf(o,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,m=arguments[1],h,p=0;p<d;p++)if(h=u[p],c.call(m,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var a=-1,i=1,l=0;function o(_,T,A){if(_==T)return _?[[l,_]]:[];(A<0||_.length<A)&&(A=null);var P=m(_,T),C=_.substring(0,P);_=_.substring(P),T=T.substring(P),P=h(_,T);var R=_.substring(_.length-P);_=_.substring(0,_.length-P),T=T.substring(0,T.length-P);var M=c(_,T);return C&&M.unshift([l,C]),R&&M.push([l,R]),g(M),A!=null&&(M=j(M,A)),M=w(M),M}function c(_,T){var A;if(!_)return[[i,T]];if(!T)return[[a,_]];var P=_.length>T.length?_:T,C=_.length>T.length?T:_,R=P.indexOf(C);if(R!=-1)return A=[[i,P.substring(0,R)],[l,C],[i,P.substring(R+C.length)]],_.length>T.length&&(A[0][0]=A[2][0]=a),A;if(C.length==1)return[[a,_],[i,T]];var M=p(_,T);if(M){var k=M[0],E=M[1],O=M[2],F=M[3],z=M[4],V=o(k,O),U=o(E,F);return V.concat([[l,z]],U)}return u(_,T)}function u(_,T){for(var A=_.length,P=T.length,C=Math.ceil((A+P)/2),R=C,M=2*C,k=new Array(M),E=new Array(M),O=0;O<M;O++)k[O]=-1,E[O]=-1;k[R+1]=0,E[R+1]=0;for(var F=A-P,z=F%2!=0,V=0,U=0,B=0,$=0,L=0;L<C;L++){for(var I=-L+V;I<=L-U;I+=2){var W=R+I,q;I==-L||I!=L&&k[W-1]<k[W+1]?q=k[W+1]:q=k[W-1]+1;for(var Z=q-I;q<A&&Z<P&&_.charAt(q)==T.charAt(Z);)q++,Z++;if(k[W]=q,q>A)U+=2;else if(Z>P)V+=2;else if(z){var J=R+F-I;if(J>=0&&J<M&&E[J]!=-1){var Q=A-E[J];if(q>=Q)return d(_,T,q,Z)}}}for(var G=-L+B;G<=L-$;G+=2){var J=R+G,Q;G==-L||G!=L&&E[J-1]<E[J+1]?Q=E[J+1]:Q=E[J-1]+1;for(var ae=Q-G;Q<A&&ae<P&&_.charAt(A-Q-1)==T.charAt(P-ae-1);)Q++,ae++;if(E[J]=Q,Q>A)$+=2;else if(ae>P)B+=2;else if(!z){var W=R+F-G;if(W>=0&&W<M&&k[W]!=-1){var q=k[W],Z=R+q-W;if(Q=A-Q,q>=Q)return d(_,T,q,Z)}}}}return[[a,_],[i,T]]}function d(_,T,A,P){var C=_.substring(0,A),R=T.substring(0,P),M=_.substring(A),k=T.substring(P),E=o(C,R),O=o(M,k);return E.concat(O)}function m(_,T){if(!_||!T||_.charAt(0)!=T.charAt(0))return 0;for(var A=0,P=Math.min(_.length,T.length),C=P,R=0;A<C;)_.substring(R,C)==T.substring(R,C)?(A=C,R=A):P=C,C=Math.floor((P-A)/2+A);return C}function h(_,T){if(!_||!T||_.charAt(_.length-1)!=T.charAt(T.length-1))return 0;for(var A=0,P=Math.min(_.length,T.length),C=P,R=0;A<C;)_.substring(_.length-C,_.length-R)==T.substring(T.length-C,T.length-R)?(A=C,R=A):P=C,C=Math.floor((P-A)/2+A);return C}function p(_,T){var A=_.length>T.length?_:T,P=_.length>T.length?T:_;if(A.length<4||P.length*2<A.length)return null;function C(U,B,$){for(var L=U.substring($,$+Math.floor(U.length/4)),I=-1,W="",q,Z,J,Q;(I=B.indexOf(L,I+1))!=-1;){var G=m(U.substring($),B.substring(I)),ae=h(U.substring(0,$),B.substring(0,I));W.length<ae+G&&(W=B.substring(I-ae,I)+B.substring(I,I+G),q=U.substring(0,$-ae),Z=U.substring($+G),J=B.substring(0,I-ae),Q=B.substring(I+G))}return W.length*2>=U.length?[q,Z,J,Q,W]:null}var R=C(A,P,Math.ceil(A.length/4)),M=C(A,P,Math.ceil(A.length/2)),k;if(!R&&!M)return null;M?R?k=R[4].length>M[4].length?R:M:k=M:k=R;var E,O,F,z;_.length>T.length?(E=k[0],O=k[1],F=k[2],z=k[3]):(F=k[0],z=k[1],E=k[2],O=k[3]);var V=k[4];return[E,O,F,z,V]}function g(_){_.push([l,""]);for(var T=0,A=0,P=0,C="",R="",M;T<_.length;)switch(_[T][0]){case i:P++,R+=_[T][1],T++;break;case a:A++,C+=_[T][1],T++;break;case l:A+P>1?(A!==0&&P!==0&&(M=m(R,C),M!==0&&(T-A-P>0&&_[T-A-P-1][0]==l?_[T-A-P-1][1]+=R.substring(0,M):(_.splice(0,0,[l,R.substring(0,M)]),T++),R=R.substring(M),C=C.substring(M)),M=h(R,C),M!==0&&(_[T][1]=R.substring(R.length-M)+_[T][1],R=R.substring(0,R.length-M),C=C.substring(0,C.length-M))),A===0?_.splice(T-P,A+P,[i,R]):P===0?_.splice(T-A,A+P,[a,C]):_.splice(T-A-P,A+P,[a,C],[i,R]),T=T-A-P+(A?1:0)+(P?1:0)+1):T!==0&&_[T-1][0]==l?(_[T-1][1]+=_[T][1],_.splice(T,1)):T++,P=0,A=0,C="",R="";break}_[_.length-1][1]===""&&_.pop();var k=!1;for(T=1;T<_.length-1;)_[T-1][0]==l&&_[T+1][0]==l&&(_[T][1].substring(_[T][1].length-_[T-1][1].length)==_[T-1][1]?(_[T][1]=_[T-1][1]+_[T][1].substring(0,_[T][1].length-_[T-1][1].length),_[T+1][1]=_[T-1][1]+_[T+1][1],_.splice(T-1,1),k=!0):_[T][1].substring(0,_[T+1][1].length)==_[T+1][1]&&(_[T-1][1]+=_[T+1][1],_[T][1]=_[T][1].substring(_[T+1][1].length)+_[T+1][1],_.splice(T+1,1),k=!0)),T++;k&&g(_)}var y=o;y.INSERT=i,y.DELETE=a,y.EQUAL=l,n.exports=y;function v(_,T){if(T===0)return[l,_];for(var A=0,P=0;P<_.length;P++){var C=_[P];if(C[0]===a||C[0]===l){var R=A+C[1].length;if(T===R)return[P+1,_];if(T<R){_=_.slice();var M=T-A,k=[C[0],C[1].slice(0,M)],E=[C[0],C[1].slice(M)];return _.splice(P,1,k,E),[P+1,_]}else A=R}}throw new Error("cursor_pos is out of bounds!")}function j(_,T){var A=v(_,T),P=A[1],C=A[0],R=P[C],M=P[C+1];if(R==null)return _;if(R[0]!==l)return _;if(M!=null&&R[1]+M[1]===M[1]+R[1])return P.splice(C,2,M,R),N(P,C,2);if(M!=null&&M[1].indexOf(R[1])===0){P.splice(C,2,[M[0],R[1]],[0,R[1]]);var k=M[1].slice(R[1].length);return k.length>0&&P.splice(C+2,0,[M[0],k]),N(P,C,3)}else return _}function w(_){for(var T=!1,A=function(M){return M.charCodeAt(0)>=56320&&M.charCodeAt(0)<=57343},P=function(M){return M.charCodeAt(M.length-1)>=55296&&M.charCodeAt(M.length-1)<=56319},C=2;C<_.length;C+=1)_[C-2][0]===l&&P(_[C-2][1])&&_[C-1][0]===a&&A(_[C-1][1])&&_[C][0]===i&&A(_[C][1])&&(T=!0,_[C-1][1]=_[C-2][1].slice(-1)+_[C-1][1],_[C][1]=_[C-2][1].slice(-1)+_[C][1],_[C-2][1]=_[C-2][1].slice(0,-1));if(!T)return _;for(var R=[],C=0;C<_.length;C+=1)_[C][1].length>0&&R.push(_[C]);return R}function N(_,T,A){for(var P=T+A-1;P>=0&&P>=T-1;P--)if(P+1<_.length){var C=_[P],R=_[P+1];C[0]===R[1]&&_.splice(P,2,[C[0],C[1]+R[1]])}return _}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(i){var l=[];for(var o in i)l.push(o);return l}}),(function(n,r){var a=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=a?i:l,r.supported=i;function i(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=l;function l(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var a=Object.prototype.hasOwnProperty,i="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(i=!1));function o(u,d,m){this.fn=u,this.context=d,this.once=m||!1}function c(){this._events=new l,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],m,h;if(this._eventsCount===0)return d;for(h in m=this._events)a.call(m,h)&&d.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},c.prototype.listeners=function(d,m){var h=i?i+d:d,p=this._events[h];if(m)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,v=new Array(y);g<y;g++)v[g]=p[g].fn;return v},c.prototype.emit=function(d,m,h,p,g,y){var v=i?i+d:d;if(!this._events[v])return!1;var j=this._events[v],w=arguments.length,N,_;if(j.fn){switch(j.once&&this.removeListener(d,j.fn,void 0,!0),w){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,h),!0;case 4:return j.fn.call(j.context,m,h,p),!0;case 5:return j.fn.call(j.context,m,h,p,g),!0;case 6:return j.fn.call(j.context,m,h,p,g,y),!0}for(_=1,N=new Array(w-1);_<w;_++)N[_-1]=arguments[_];j.fn.apply(j.context,N)}else{var T=j.length,A;for(_=0;_<T;_++)switch(j[_].once&&this.removeListener(d,j[_].fn,void 0,!0),w){case 1:j[_].fn.call(j[_].context);break;case 2:j[_].fn.call(j[_].context,m);break;case 3:j[_].fn.call(j[_].context,m,h);break;case 4:j[_].fn.call(j[_].context,m,h,p);break;default:if(!N)for(A=1,N=new Array(w-1);A<w;A++)N[A-1]=arguments[A];j[_].fn.apply(j[_].context,N)}}return!0},c.prototype.on=function(d,m,h){var p=new o(m,h||this),g=i?i+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},c.prototype.once=function(d,m,h){var p=new o(m,h||this,!0),g=i?i+d:d;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,m,h,p){var g=i?i+d:d;if(!this._events[g])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[g],this;var y=this._events[g];if(y.fn)y.fn===m&&(!p||y.once)&&(!h||y.context===h)&&(--this._eventsCount===0?this._events=new l:delete this._events[g]);else{for(var v=0,j=[],w=y.length;v<w;v++)(y[v].fn!==m||p&&!y[v].once||h&&y[v].context!==h)&&j.push(y[v]);j.length?this._events[g]=j.length===1?j[0]:j:--this._eventsCount===0?this._events=new l:delete this._events[g]}return this},c.prototype.removeAllListeners=function(d){var m;return d?(m=i?i+d:d,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof n<"u"&&(n.exports=c)}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ke){return typeof ke}:function(ke){return ke&&typeof Symbol=="function"&&ke.constructor===Symbol&&ke!==Symbol.prototype?"symbol":typeof ke},l=(function(){function ke(Se,Ge){var Ke=[],Me=!0,it=!1,_e=void 0;try{for(var at=Se[Symbol.iterator](),Ne;!(Me=(Ne=at.next()).done)&&(Ke.push(Ne.value),!(Ge&&Ke.length===Ge));Me=!0);}catch(ze){it=!0,_e=ze}finally{try{!Me&&at.return&&at.return()}finally{if(it)throw _e}}return Ke}return function(Se,Ge){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return ke(Se,Ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function ke(Se,Ge){for(var Ke=0;Ke<Ge.length;Ke++){var Me=Ge[Ke];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Se,Me.key,Me)}}return function(Se,Ge,Ke){return Ge&&ke(Se.prototype,Ge),Ke&&ke(Se,Ke),Se}})(),c=a(3),u=E(c),d=a(2),m=E(d),h=a(0),p=E(h),g=a(5),y=E(g),v=a(10),j=E(v),w=a(9),N=E(w),_=a(36),T=a(37),A=a(13),P=E(A),C=a(26),R=a(38),M=a(39),k=a(40);function E(ke){return ke&&ke.__esModule?ke:{default:ke}}function O(ke,Se,Ge){return Se in ke?Object.defineProperty(ke,Se,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):ke[Se]=Ge,ke}function F(ke,Se){if(!(ke instanceof Se))throw new TypeError("Cannot call a class as a function")}function z(ke,Se){if(!ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se&&(typeof Se=="object"||typeof Se=="function")?Se:ke}function V(ke,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Se);ke.prototype=Object.create(Se&&Se.prototype,{constructor:{value:ke,enumerable:!1,writable:!0,configurable:!0}}),Se&&(Object.setPrototypeOf?Object.setPrototypeOf(ke,Se):ke.__proto__=Se)}var U=(0,j.default)("quill:clipboard"),B="__ql-matcher",$=[[Node.TEXT_NODE,qe],[Node.TEXT_NODE,be],["br",ue],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Be],["li",pe],["b",ae.bind(ae,"bold")],["i",ae.bind(ae,"italic")],["style",oe]],L=[_.AlignAttribute,R.DirectionAttribute].reduce(function(ke,Se){return ke[Se.keyName]=Se,ke},{}),I=[_.AlignStyle,T.BackgroundStyle,C.ColorStyle,R.DirectionStyle,M.FontStyle,k.SizeStyle].reduce(function(ke,Se){return ke[Se.keyName]=Se,ke},{}),W=(function(ke){V(Se,ke);function Se(Ge,Ke){F(this,Se);var Me=z(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,Ge,Ke));return Me.quill.root.addEventListener("paste",Me.onPaste.bind(Me)),Me.container=Me.quill.addContainer("ql-clipboard"),Me.container.setAttribute("contenteditable",!0),Me.container.setAttribute("tabindex",-1),Me.matchers=[],$.concat(Me.options.matchers).forEach(function(it){var _e=l(it,2),at=_e[0],Ne=_e[1];!Ke.matchVisual&&Ne===je||Me.addMatcher(at,Ne)}),Me}return o(Se,[{key:"addMatcher",value:function(Ke,Me){this.matchers.push([Ke,Me])}},{key:"convert",value:function(Ke){if(typeof Ke=="string")return this.container.innerHTML=Ke.replace(/\>\r?\n +\</g,"><"),this.convert();var Me=this.quill.getFormat(this.quill.selection.savedRange.index);if(Me[P.default.blotName]){var it=this.container.innerText;return this.container.innerHTML="",new m.default().insert(it,O({},P.default.blotName,Me[P.default.blotName]))}var _e=this.prepareMatching(),at=l(_e,2),Ne=at[0],ze=at[1],nt=G(this.container,Ne,ze);return J(nt,`
`)&&nt.ops[nt.ops.length-1].attributes==null&&(nt=nt.compose(new m.default().retain(nt.length()-1).delete(1))),U.log("convert",this.container.innerHTML,nt),this.container.innerHTML="",nt}},{key:"dangerouslyPasteHTML",value:function(Ke,Me){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof Ke=="string")this.quill.setContents(this.convert(Ke),Me),this.quill.setSelection(0,y.default.sources.SILENT);else{var _e=this.convert(Me);this.quill.updateContents(new m.default().retain(Ke).concat(_e),it),this.quill.setSelection(Ke+_e.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(Ke){var Me=this;if(!(Ke.defaultPrevented||!this.quill.isEnabled())){var it=this.quill.getSelection(),_e=new m.default().retain(it.index),at=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){_e=_e.concat(Me.convert()).delete(it.length),Me.quill.updateContents(_e,y.default.sources.USER),Me.quill.setSelection(_e.length()-it.length,y.default.sources.SILENT),Me.quill.scrollingContainer.scrollTop=at,Me.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ke=this,Me=[],it=[];return this.matchers.forEach(function(_e){var at=l(_e,2),Ne=at[0],ze=at[1];switch(Ne){case Node.TEXT_NODE:it.push(ze);break;case Node.ELEMENT_NODE:Me.push(ze);break;default:[].forEach.call(Ke.container.querySelectorAll(Ne),function(nt){nt[B]=nt[B]||[],nt[B].push(ze)});break}}),[Me,it]}}]),Se})(N.default);W.DEFAULTS={matchers:[],matchVisual:!0};function q(ke,Se,Ge){return(typeof Se>"u"?"undefined":i(Se))==="object"?Object.keys(Se).reduce(function(Ke,Me){return q(Ke,Me,Se[Me])},ke):ke.reduce(function(Ke,Me){return Me.attributes&&Me.attributes[Se]?Ke.push(Me):Ke.insert(Me.insert,(0,u.default)({},O({},Se,Ge),Me.attributes))},new m.default)}function Z(ke){if(ke.nodeType!==Node.ELEMENT_NODE)return{};var Se="__ql-computed-style";return ke[Se]||(ke[Se]=window.getComputedStyle(ke))}function J(ke,Se){for(var Ge="",Ke=ke.ops.length-1;Ke>=0&&Ge.length<Se.length;--Ke){var Me=ke.ops[Ke];if(typeof Me.insert!="string")break;Ge=Me.insert+Ge}return Ge.slice(-1*Se.length)===Se}function Q(ke){if(ke.childNodes.length===0)return!1;var Se=Z(ke);return["block","list-item"].indexOf(Se.display)>-1}function G(ke,Se,Ge){return ke.nodeType===ke.TEXT_NODE?Ge.reduce(function(Ke,Me){return Me(ke,Ke)},new m.default):ke.nodeType===ke.ELEMENT_NODE?[].reduce.call(ke.childNodes||[],function(Ke,Me){var it=G(Me,Se,Ge);return Me.nodeType===ke.ELEMENT_NODE&&(it=Se.reduce(function(_e,at){return at(Me,_e)},it),it=(Me[B]||[]).reduce(function(_e,at){return at(Me,_e)},it)),Ke.concat(it)},new m.default):new m.default}function ae(ke,Se,Ge){return q(Ge,ke,!0)}function se(ke,Se){var Ge=p.default.Attributor.Attribute.keys(ke),Ke=p.default.Attributor.Class.keys(ke),Me=p.default.Attributor.Style.keys(ke),it={};return Ge.concat(Ke).concat(Me).forEach(function(_e){var at=p.default.query(_e,p.default.Scope.ATTRIBUTE);at!=null&&(it[at.attrName]=at.value(ke),it[at.attrName])||(at=L[_e],at!=null&&(at.attrName===_e||at.keyName===_e)&&(it[at.attrName]=at.value(ke)||void 0),at=I[_e],at!=null&&(at.attrName===_e||at.keyName===_e)&&(at=I[_e],it[at.attrName]=at.value(ke)||void 0))}),Object.keys(it).length>0&&(Se=q(Se,it)),Se}function de(ke,Se){var Ge=p.default.query(ke);if(Ge==null)return Se;if(Ge.prototype instanceof p.default.Embed){var Ke={},Me=Ge.value(ke);Me!=null&&(Ke[Ge.blotName]=Me,Se=new m.default().insert(Ke,Ge.formats(ke)))}else typeof Ge.formats=="function"&&(Se=q(Se,Ge.blotName,Ge.formats(ke)));return Se}function ue(ke,Se){return J(Se,`
`)||Se.insert(`
`),Se}function oe(){return new m.default}function pe(ke,Se){var Ge=p.default.query(ke);if(Ge==null||Ge.blotName!=="list-item"||!J(Se,`
`))return Se;for(var Ke=-1,Me=ke.parentNode;!Me.classList.contains("ql-clipboard");)(p.default.query(Me)||{}).blotName==="list"&&(Ke+=1),Me=Me.parentNode;return Ke<=0?Se:Se.compose(new m.default().retain(Se.length()-1).retain(1,{indent:Ke}))}function be(ke,Se){return J(Se,`
`)||(Q(ke)||Se.length()>0&&ke.nextSibling&&Q(ke.nextSibling))&&Se.insert(`
`),Se}function je(ke,Se){if(Q(ke)&&ke.nextElementSibling!=null&&!J(Se,`

`)){var Ge=ke.offsetHeight+parseFloat(Z(ke).marginTop)+parseFloat(Z(ke).marginBottom);ke.nextElementSibling.offsetTop>ke.offsetTop+Ge*1.5&&Se.insert(`
`)}return Se}function Be(ke,Se){var Ge={},Ke=ke.style||{};return Ke.fontStyle&&Z(ke).fontStyle==="italic"&&(Ge.italic=!0),Ke.fontWeight&&(Z(ke).fontWeight.startsWith("bold")||parseInt(Z(ke).fontWeight)>=700)&&(Ge.bold=!0),Object.keys(Ge).length>0&&(Se=q(Se,Ge)),parseFloat(Ke.textIndent||0)>0&&(Se=new m.default().insert("	").concat(Se)),Se}function qe(ke,Se){var Ge=ke.data;if(ke.parentNode.tagName==="O:P")return Se.insert(Ge.trim());if(Ge.trim().length===0&&ke.parentNode.classList.contains("ql-clipboard"))return Se;if(!Z(ke.parentNode).whiteSpace.startsWith("pre")){var Ke=function(it,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&it?" ":_e};Ge=Ge.replace(/\r\n/g," ").replace(/\n/g," "),Ge=Ge.replace(/\s\s+/g,Ke.bind(Ke,!0)),(ke.previousSibling==null&&Q(ke.parentNode)||ke.previousSibling!=null&&Q(ke.previousSibling))&&(Ge=Ge.replace(/^\s+/,Ke.bind(Ke,!1))),(ke.nextSibling==null&&Q(ke.parentNode)||ke.nextSibling!=null&&Q(ke.nextSibling))&&(Ge=Ge.replace(/\s+$/,Ke.bind(Ke,!1)))}return Se.insert(Ge)}r.default=W,r.matchAttributor=se,r.matchBlot=de,r.matchNewline=be,r.matchSpacing=je,r.matchText=qe}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function g(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&g(y.prototype,v),j&&g(y,j),y}})(),l=function g(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(6),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return d(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"optimize",value:function(j){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,j),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y})(c.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=(function(){function k(E,O){var F=[],z=!0,V=!1,U=void 0;try{for(var B=E[Symbol.iterator](),$;!(z=($=B.next()).done)&&(F.push($.value),!(O&&F.length===O));z=!0);}catch(L){V=!0,U=L}finally{try{!z&&B.return&&B.return()}finally{if(V)throw U}}return F}return function(E,O){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function k(E,O){for(var F=0;F<O.length;F++){var z=O[F];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}return function(E,O,F){return O&&k(E.prototype,O),F&&k(E,F),E}})(),o=a(2),c=j(o),u=a(0),d=j(u),m=a(5),h=j(m),p=a(10),g=j(p),y=a(9),v=j(y);function j(k){return k&&k.__esModule?k:{default:k}}function w(k,E,O){return E in k?Object.defineProperty(k,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[E]=O,k}function N(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function _(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function T(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var A=(0,g.default)("quill:toolbar"),P=(function(k){T(E,k);function E(O,F){N(this,E);var z=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,F));if(Array.isArray(z.options.container)){var V=document.createElement("div");R(V,z.options.container),O.container.parentNode.insertBefore(V,O.container),z.container=V}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var U;return U=A.error("Container required for toolbar",z.options),_(z,U)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function(B){z.addHandler(B,z.options.handlers[B])}),[].forEach.call(z.container.querySelectorAll("button, select"),function(B){z.attach(B)}),z.quill.on(h.default.events.EDITOR_CHANGE,function(B,$){B===h.default.events.SELECTION_CHANGE&&z.update($)}),z.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var B=z.quill.selection.getRange(),$=i(B,1),L=$[0];z.update(L)}),z}return l(E,[{key:"addHandler",value:function(F,z){this.handlers[F]=z}},{key:"attach",value:function(F){var z=this,V=[].find.call(F.classList,function(B){return B.indexOf("ql-")===0});if(V){if(V=V.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){A.warn("ignoring attaching to disabled format",V,F);return}if(d.default.query(V)==null){A.warn("ignoring attaching to nonexistent format",V,F);return}}var U=F.tagName==="SELECT"?"change":"click";F.addEventListener(U,function(B){var $=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var L=F.options[F.selectedIndex];L.hasAttribute("selected")?$=!1:$=L.value||!1}else F.classList.contains("ql-active")?$=!1:$=F.value||!F.hasAttribute("value"),B.preventDefault();z.quill.focus();var I=z.quill.selection.getRange(),W=i(I,1),q=W[0];if(z.handlers[V]!=null)z.handlers[V].call(z,$);else if(d.default.query(V).prototype instanceof d.default.Embed){if($=prompt("Enter "+V),!$)return;z.quill.updateContents(new c.default().retain(q.index).delete(q.length).insert(w({},V,$)),h.default.sources.USER)}else z.quill.format(V,$,h.default.sources.USER);z.update(q)}),this.controls.push([V,F])}}},{key:"update",value:function(F){var z=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(V){var U=i(V,2),B=U[0],$=U[1];if($.tagName==="SELECT"){var L=void 0;if(F==null)L=null;else if(z[B]==null)L=$.querySelector("option[selected]");else if(!Array.isArray(z[B])){var I=z[B];typeof I=="string"&&(I=I.replace(/\"/g,'\\"')),L=$.querySelector('option[value="'+I+'"]')}L==null?($.value="",$.selectedIndex=-1):L.selected=!0}else if(F==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var W=z[B]===$.getAttribute("value")||z[B]!=null&&z[B].toString()===$.getAttribute("value")||z[B]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",W)}else $.classList.toggle("ql-active",z[B]!=null)})}}]),E})(v.default);P.DEFAULTS={};function C(k,E,O){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+E),O!=null&&(F.value=O),k.appendChild(F)}function R(k,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(O){var F=document.createElement("span");F.classList.add("ql-formats"),O.forEach(function(z){if(typeof z=="string")C(F,z);else{var V=Object.keys(z)[0],U=z[V];Array.isArray(U)?M(F,V,U):C(F,V,U)}}),k.appendChild(F)})}function M(k,E,O){var F=document.createElement("select");F.classList.add("ql-"+E),O.forEach(function(z){var V=document.createElement("option");z!==!1?V.setAttribute("value",z):V.setAttribute("selected","selected"),F.appendChild(V)}),k.appendChild(F)}P.DEFAULTS={container:null,handlers:{clean:function(){var E=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(z){d.default.query(z,d.default.Scope.INLINE)!=null&&E.quill.format(z,!1)})}else this.quill.removeFormat(O,h.default.sources.USER)},direction:function(E){var O=this.quill.getFormat().align;E==="rtl"&&O==null?this.quill.format("align","right",h.default.sources.USER):!E&&O==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",E,h.default.sources.USER)},indent:function(E){var O=this.quill.getSelection(),F=this.quill.getFormat(O),z=parseInt(F.indent||0);if(E==="+1"||E==="-1"){var V=E==="+1"?1:-1;F.direction==="rtl"&&(V*=-1),this.quill.format("indent",z+V,h.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,h.default.sources.USER)},list:function(E){var O=this.quill.getSelection(),F=this.quill.getFormat(O);E==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",E,h.default.sources.USER)}}},r.default=P,r.addControls=R}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function g(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&g(y.prototype,v),j&&g(y,j),y}})(),l=function g(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(28),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(v,j){d(this,y);var w=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.label.innerHTML=j,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(N){N.classList.add("ql-primary")}),w}return i(y,[{key:"buildItem",value:function(j){var w=l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,j);return w.style.backgroundColor=j.getAttribute("value")||"",w}},{key:"selectItem",value:function(j,w){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,j,w);var N=this.label.querySelector(".ql-color-label"),_=j&&j.getAttribute("data-value")||"";N&&(N.tagName==="line"?N.style.stroke=_:N.style.fill=_)}}]),y})(c.default);r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function g(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&g(y.prototype,v),j&&g(y,j),y}})(),l=function g(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(28),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(v,j){d(this,y);var w=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(N){N.innerHTML=j[N.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return i(y,[{key:"selectItem",value:function(j,w){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,j,w),j=j||this.defaultItem,this.label.innerHTML=j.innerHTML}}]),y})(c.default);r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function c(u,d){for(var m=0;m<d.length;m++){var h=d[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,m){return d&&c(u.prototype,d),m&&c(u,m),u}})();function l(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=(function(){function c(u,d){var m=this;l(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var m=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),y=0;if(g.right>p.right&&(y=p.right-g.right,this.root.style.left=m+y+"px"),g.left<p.left&&(y=p.left-g.left,this.root.style.left=m+y+"px"),g.bottom>p.bottom){var v=g.bottom-g.top,j=d.bottom-d.top+v;this.root.style.top=h-j+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c})();r.default=o}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function M(k,E){var O=[],F=!0,z=!1,V=void 0;try{for(var U=k[Symbol.iterator](),B;!(F=(B=U.next()).done)&&(O.push(B.value),!(E&&O.length===E));F=!0);}catch($){z=!0,V=$}finally{try{!F&&U.return&&U.return()}finally{if(z)throw V}}return O}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return M(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function M(k,E,O){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,E);if(F===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:M(z,E,O)}else{if("value"in F)return F.value;var V=F.get;return V===void 0?void 0:V.call(O)}},o=(function(){function M(k,E){for(var O=0;O<E.length;O++){var F=E[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,E,O){return E&&M(k.prototype,E),O&&M(k,O),k}})(),c=a(3),u=N(c),d=a(8),m=N(d),h=a(43),p=N(h),g=a(27),y=N(g),v=a(15),j=a(41),w=N(j);function N(M){return M&&M.__esModule?M:{default:M}}function _(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function T(M,k){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:M}function A(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(M,k):M.__proto__=k)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=(function(M){A(k,M);function k(E,O){_(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=P);var F=T(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,O));return F.quill.container.classList.add("ql-snow"),F}return o(k,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),w.default),this.tooltip=new R(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,z){O.handlers.link.call(O,!z.format.link)})}}]),k})(p.default);C.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var E=this.quill.getSelection();if(E==null||E.length==0)return;var O=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var F=this.quill.theme.tooltip;F.edit("link",O)}else this.quill.format("link",!1)}}}}});var R=(function(M){A(k,M);function k(E,O){_(this,k);var F=T(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,O));return F.preview=F.root.querySelector("a.ql-preview"),F}return o(k,[{key:"listen",value:function(){var O=this;l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(O.linkRange!=null){var z=O.linkRange;O.restoreFocus(),O.quill.formatText(z,"link",!1,m.default.sources.USER),delete O.linkRange}F.preventDefault(),O.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(F,z,V){if(F!=null){if(F.length===0&&V===m.default.sources.USER){var U=O.quill.scroll.descendant(y.default,F.index),B=i(U,2),$=B[0],L=B[1];if($!=null){O.linkRange=new v.Range(F.index-L,$.length());var I=y.default.formats($.domNode);O.preview.textContent=I,O.preview.setAttribute("href",I),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k})(h.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(29),l=Me(i),o=a(36),c=a(38),u=a(64),d=a(65),m=Me(d),h=a(66),p=Me(h),g=a(67),y=Me(g),v=a(37),j=a(26),w=a(39),N=a(40),_=a(56),T=Me(_),A=a(68),P=Me(A),C=a(27),R=Me(C),M=a(69),k=Me(M),E=a(70),O=Me(E),F=a(71),z=Me(F),V=a(72),U=Me(V),B=a(73),$=Me(B),L=a(13),I=Me(L),W=a(74),q=Me(W),Z=a(75),J=Me(Z),Q=a(57),G=Me(Q),ae=a(41),se=Me(ae),de=a(28),ue=Me(de),oe=a(59),pe=Me(oe),be=a(60),je=Me(be),Be=a(61),qe=Me(Be),ke=a(108),Se=Me(ke),Ge=a(62),Ke=Me(Ge);function Me(it){return it&&it.__esModule?it:{default:it}}l.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":j.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":N.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":j.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":N.SizeStyle},!0),l.default.register({"formats/align":o.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":j.ColorStyle,"formats/font":w.FontClass,"formats/size":N.SizeClass,"formats/blockquote":m.default,"formats/code-block":I.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":T.default,"formats/code":L.Code,"formats/italic":P.default,"formats/link":R.default,"formats/script":k.default,"formats/strike":O.default,"formats/underline":z.default,"formats/image":U.default,"formats/video":$.default,"formats/list/item":g.ListItem,"modules/formula":q.default,"modules/syntax":J.default,"modules/toolbar":G.default,"themes/bubble":Se.default,"themes/snow":Ke.default,"ui/icons":se.default,"ui/picker":ue.default,"ui/icon-picker":je.default,"ui/color-picker":pe.default,"ui/tooltip":qe.default},!0),r.default=l.default}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=(function(){function y(v,j){for(var w=0;w<j.length;w++){var N=j[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,j,w){return j&&y(v.prototype,j),w&&y(v,w),v}})(),l=function y(v,j,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,j);if(N===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,j,w)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(w)}},o=a(0),c=u(o);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){h(v,y);function v(){return d(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"add",value:function(w,N){if(N==="+1"||N==="-1"){var _=this.value(w)||0;N=N==="+1"?_+1:_-1}return N===0?(this.remove(w),!0):l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,w,N)}},{key:"canAdd",value:function(w,N){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,N)||l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,parseInt(N))}},{key:"value",value:function(w){return parseInt(l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w))||void 0}}]),v})(c.default.Attributor.Class),g=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(4),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function p(g,y){for(var v=0;v<y.length;v++){var j=y[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(g,j.key,j)}}return function(g,y,v){return y&&p(g.prototype,y),v&&p(g,v),g}})(),l=a(4),o=c(l);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function m(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=(function(p){m(g,p);function g(){return u(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),g})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=(function(){function _(T,A){for(var P=0;P<A.length;P++){var C=A[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,A,P){return A&&_(T.prototype,A),P&&_(T,P),T}})(),l=function _(T,A,P){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,A);if(C===void 0){var R=Object.getPrototypeOf(T);return R===null?void 0:_(R,A,P)}else{if("value"in C)return C.value;var M=C.get;return M===void 0?void 0:M.call(P)}},o=a(0),c=p(o),u=a(4),d=p(u),m=a(25),h=p(m);function p(_){return _&&_.__esModule?_:{default:_}}function g(_,T,A){return T in _?Object.defineProperty(_,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):_[T]=A,_}function y(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function v(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function j(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var w=(function(_){j(T,_);function T(){return y(this,T),v(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"format",value:function(P,C){P===N.blotName&&!C?this.replaceWith(c.default.create(this.statics.scope)):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,P,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,C){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,C),this):(this.parent.unwrap(),l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,P,C))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:l(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,P)}}]),T})(d.default);w.blotName="list-item",w.tagName="LI";var N=(function(_){j(T,_),i(T,null,[{key:"create",value:function(P){var C=P==="ordered"?"OL":"UL",R=l(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,C);return(P==="checked"||P==="unchecked")&&R.setAttribute("data-checked",P==="checked"),R}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(A){y(this,T);var P=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A)),C=function(M){if(M.target.parentNode===A){var k=P.statics.formats(A),E=c.default.find(M.target);k==="checked"?E.format("list","unchecked"):k==="unchecked"&&E.format("list","checked")}};return A.addEventListener("touchstart",C),A.addEventListener("mousedown",C),P}return i(T,[{key:"format",value:function(P,C){this.children.length>0&&this.children.tail.format(P,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,C){if(P instanceof w)l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,P,C);else{var R=C==null?this.length():C.offset(this),M=this.split(R);M.parent.insertBefore(P,M)}}},{key:"optimize",value:function(P){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var C=c.default.create(this.statics.defaultChild);P.moveChildren(C),this.appendChild(C)}l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,P)}}]),T})(h.default);N.blotName="list",N.scope=c.default.Scope.BLOCK_BLOT,N.tagName=["OL","UL"],N.defaultChild="list-item",N.allowedChildren=[w],r.ListItem=w,r.default=N}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(56),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function g(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&g(y.prototype,v),j&&g(y,j),y}})(),l=function g(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(6),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function m(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=(function(g){h(y,g);function y(){return d(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(j){return j==="super"?document.createElement("sup"):j==="sub"?document.createElement("sub"):l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,j)}},{key:"formats",value:function(j){if(j.tagName==="SUB")return"sub";if(j.tagName==="SUP")return"super"}}]),y})(c.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="strike",m.tagName="S",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){d(p,h);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="underline",m.tagName="U",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:v(T,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(0),c=d(o),u=a(27);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function h(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function p(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var g=["alt","height","width"],y=(function(v){p(j,v);function j(){return m(this,j),h(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"format",value:function(N,_){g.indexOf(N)>-1?_?this.domNode.setAttribute(N,_):this.domNode.removeAttribute(N):l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,_)}}],[{key:"create",value:function(N){var _=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,N);return typeof N=="string"&&_.setAttribute("src",this.sanitize(N)),_}},{key:"formats",value:function(N){return g.reduce(function(_,T){return N.hasAttribute(T)&&(_[T]=N.getAttribute(T)),_},{})}},{key:"match",value:function(N){return/\.(jpe?g|gif|png)$/.test(N)||/^data:image\/.+;base64/.test(N)}},{key:"sanitize",value:function(N){return(0,u.sanitize)(N,["http","https","data"])?N:"//:0"}},{key:"value",value:function(N){return N.getAttribute("src")}}]),j})(c.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var T=Object.getPrototypeOf(j);return T===null?void 0:v(T,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(4),c=a(27),u=d(c);function d(v){return v&&v.__esModule?v:{default:v}}function m(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function h(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function p(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var g=["height","width"],y=(function(v){p(j,v);function j(){return m(this,j),h(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"format",value:function(N,_){g.indexOf(N)>-1?_?this.domNode.setAttribute(N,_):this.domNode.removeAttribute(N):l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,_)}}],[{key:"create",value:function(N){var _=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,N);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(N)),_}},{key:"formats",value:function(N){return g.reduce(function(_,T){return N.hasAttribute(T)&&(_[T]=N.getAttribute(T)),_},{})}},{key:"sanitize",value:function(N){return u.default.sanitize(N)}},{key:"value",value:function(N){return N.getAttribute("src")}}]),j})(o.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=(function(){function N(_,T){for(var A=0;A<T.length;A++){var P=T[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,T,A){return T&&N(_.prototype,T),A&&N(_,A),_}})(),l=function N(_,T,A){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,T);if(P===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:N(C,T,A)}else{if("value"in P)return P.value;var R=P.get;return R===void 0?void 0:R.call(A)}},o=a(35),c=p(o),u=a(5),d=p(u),m=a(9),h=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function g(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function y(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function v(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var j=(function(N){v(_,N);function _(){return g(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,null,[{key:"create",value:function(A){var P=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",A)),P}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),_})(c.default);j.blotName="formula",j.className="ql-formula",j.tagName="SPAN";var w=(function(N){v(_,N),i(_,null,[{key:"register",value:function(){d.default.register(j,!0)}}]);function _(){g(this,_);var T=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return _})(h.default);r.FormulaBlot=j,r.default=w}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=(function(){function A(P,C){for(var R=0;R<C.length;R++){var M=C[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,C,R){return C&&A(P.prototype,C),R&&A(P,R),P}})(),l=function A(P,C,R){P===null&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,C);if(M===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:A(k,C,R)}else{if("value"in M)return M.value;var E=M.get;return E===void 0?void 0:E.call(R)}},o=a(0),c=y(o),u=a(5),d=y(u),m=a(9),h=y(m),p=a(13),g=y(p);function y(A){return A&&A.__esModule?A:{default:A}}function v(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function j(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function w(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var N=(function(A){w(P,A);function P(){return v(this,P),j(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var M=this.domNode.textContent;this.cachedText!==M&&((M.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(M),this.domNode.normalize(),this.attach()),this.cachedText=M)}}]),P})(g.default);N.className="ql-syntax";var _=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),T=(function(A){w(P,A),i(P,null,[{key:"register",value:function(){d.default.register(_,!0),d.default.register(N,!0)}}]);function P(C,R){v(this,P);var M=j(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,C,R));if(typeof M.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return M.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){M.highlight(),k=null},M.options.interval)}),M.highlight(),M}return i(P,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var M=this.quill.getSelection();this.quill.scroll.descendants(N).forEach(function(k){k.highlight(R.options.highlight)}),this.quill.update(d.default.sources.SILENT),M!=null&&this.quill.setSelection(M,d.default.sources.SILENT)}}}]),P})(h.default);T.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(A){var P=window.hljs.highlightAuto(A);return P.value}})(),interval:1e3},r.CodeBlock=N,r.CodeToken=_,r.default=T}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function P(C,R,M){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,R);if(k===void 0){var E=Object.getPrototypeOf(C);return E===null?void 0:P(E,R,M)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(M)}},l=(function(){function P(C,R){for(var M=0;M<R.length;M++){var k=R[M];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,R,M){return R&&P(C.prototype,R),M&&P(C,M),C}})(),o=a(3),c=v(o),u=a(8),d=v(u),m=a(43),h=v(m),p=a(15),g=a(41),y=v(g);function v(P){return P&&P.__esModule?P:{default:P}}function j(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function w(P,C){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:P}function N(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(P,C):P.__proto__=C)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=(function(P){N(C,P);function C(R,M){j(this,C),M.modules.toolbar!=null&&M.modules.toolbar.container==null&&(M.modules.toolbar.container=_);var k=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,M));return k.quill.container.classList.add("ql-bubble"),k}return l(C,[{key:"extendToolbar",value:function(M){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(M.container),this.buildButtons([].slice.call(M.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(M.container.querySelectorAll("select")),y.default)}}]),C})(h.default);T.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=(function(P){N(C,P);function C(R,M){j(this,C);var k=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,M));return k.quill.on(d.default.events.EDITOR_CHANGE,function(E,O,F,z){if(E===d.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&z===d.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var V=k.quill.getLines(O.index,O.length);if(V.length===1)k.position(k.quill.getBounds(O));else{var U=V[V.length-1],B=k.quill.getIndex(U),$=Math.min(U.length()-1,O.index+O.length-B),L=k.quill.getBounds(new p.Range(B,$));k.position(L)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return l(C,[{key:"listen",value:function(){var M=this;i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){M.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!M.root.classList.contains("ql-hidden")){var k=M.quill.getSelection();k!=null&&M.position(M.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(M){var k=i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,M),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",k===0)return k;E.style.marginLeft=-1*k-E.offsetWidth/2+"px"}}]),C})(m.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=A,r.default=T}),(function(n,r,a){n.exports=a(63)})]).default})})(zx)),zx.exports}var ei,eM;function Fce(){if(eM)return ei;eM=1;var t=ei&&ei.__extends||(function(){var d=function(m,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var y in g)g.hasOwnProperty(y)&&(p[y]=g[y])},d(m,h)};return function(m,h){d(m,h);function p(){this.constructor=m}m.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),s=ei&&ei.__assign||function(){return s=Object.assign||function(d){for(var m,h=1,p=arguments.length;h<p;h++){m=arguments[h];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])}return d},s.apply(this,arguments)},n=ei&&ei.__spreadArrays||function(){for(var d=0,m=0,h=arguments.length;m<h;m++)d+=arguments[m].length;for(var p=Array(d),g=0,m=0;m<h;m++)for(var y=arguments[m],v=0,j=y.length;v<j;v++,g++)p[g]=y[v];return p},r=ei&&ei.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},a=r(Zm()),i=r(G_()),l=r(Dce()),o=r(Rce()),c=(function(d){t(m,d);function m(h){var p=d.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(y,v,j,w){var N,_,T,A;y==="text-change"?(_=(N=p).onEditorChangeText)===null||_===void 0||_.call(N,p.editor.root.innerHTML,v,w,p.unprivilegedEditor):y==="selection-change"&&((A=(T=p).onEditorChangeSelection)===null||A===void 0||A.call(T,v,w,p.unprivilegedEditor))};var g=p.isControlled()?h.value:h.defaultValue;return p.value=g??"",p}return m.prototype.validateProps=function(h){var p;if(a.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(a.default.Children.count(h.children)){var g=a.default.Children.only(h.children);if(((p=g)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(h,p){var g=this,y;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var v=this.getEditorContents(),j=(y=h.value,y??"");this.isEqualValue(j,v)||this.setEditorContents(this.editor,j)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(w){return!l.default(h[w],g.props[w])})},m.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(g){return!l.default(h[g],p.props[g])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(h,p){var g=this;if(this.editor&&this.shouldComponentRegenerate(h)){var y=this.editor.getContents(),v=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:v},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var j=this.regenerationSnapshot,y=j.delta,w=j.selection;delete this.regenerationSnapshot,this.instantiateEditor();var N=this.editor;N.setContents(y),u(function(){return g.setEditorSelection(N,w)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(h,p){var g=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(g,p.tabIndex),this.hookEditor(g),g},m.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(h){return h&&h.ops},m.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?l.default(h.ops,p.ops):l.default(h,p)},m.prototype.setEditorContents=function(h,p){var g=this;this.value=p;var y=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),u(function(){return g.setEditorSelection(h,y)})},m.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var g=h.getLength();p.index=Math.max(0,Math.min(p.index,g-1)),p.length=Math.max(0,Math.min(p.length,g-1-p.index)),h.setSelection(p)}},m.prototype.setEditorTabIndex=function(h,p){var g,y;!((y=(g=h)===null||g===void 0?void 0:g.scroll)===null||y===void 0)&&y.domNode&&(h.scroll.domNode.tabIndex=p)},m.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},m.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=i.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},m.prototype.renderEditingArea=function(){var h=this,p=this.props,g=p.children,y=p.preserveWhitespace,v=this.state.generation,j={key:v,ref:function(w){h.editingArea=w}};return a.default.Children.count(g)?a.default.cloneElement(a.default.Children.only(g),j):y?a.default.createElement("pre",s({},j)):a.default.createElement("div",s({},j))},m.prototype.render=function(){var h;return a.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(h,p,g,y){var v,j;if(this.editor){var w=this.isDelta(this.value)?y.getContents():y.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=w,(j=(v=this.props).onChange)===null||j===void 0||j.call(v,h,p,g,y))}},m.prototype.onEditorChangeSelection=function(h,p,g){var y,v,j,w,N,_;if(this.editor){var T=this.getEditorSelection(),A=!T&&h,P=T&&!h;l.default(h,T)||(this.selection=h,(v=(y=this.props).onChangeSelection)===null||v===void 0||v.call(y,h,p,g),A?(w=(j=this.props).onFocus)===null||w===void 0||w.call(j,h,p,g):P&&((_=(N=this.props).onBlur)===null||_===void 0||_.call(N,T,p,g)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=o.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(a.default.Component);function u(d){Promise.resolve().then(d)}return ei=c,ei}var Lce=Fce();const _2=Bc(Lce);function IL({tags:t,setTags:s}){const[n,r]=b.useState(""),a=l=>{l.key==="Enter"&&n.trim()&&(l.preventDefault(),t.includes(n.trim())||s([...t,n.trim()]),r(""))},i=l=>{s(t.filter(o=>o!==l))};return e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Tags"})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsx(he,{value:n,onChange:l=>r(l.target.value),onKeyDown:a,placeholder:"Type and press Enter...",className:"text-sm"}),t.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((l,o)=>e.jsxs(ve,{variant:"secondary",className:"gap-1",children:[l,e.jsx("button",{onClick:()=>i(l),className:"hover:text-red-600",children:e.jsx(ws,{className:"w-3 h-3"})})]},o))})]})]})}function BL({categories:t,selectedSubcategories:s,onChange:n}){const[r,a]=Ie.useState({}),[i,l]=Ie.useState(""),o=d=>{a(m=>({...m,[d]:!m[d]}))},c=d=>{const m=s.includes(d)?s.filter(h=>h!==d):[...s,d];n(m)},u=Ie.useMemo(()=>{if(!i.trim())return t;const d=i.toLowerCase();return t.map(m=>{if(!m.subcategories||m.subcategories.length===0)return null;const h=m.subcategories.filter(g=>g.toLowerCase().includes(d)),p=m.name.toLowerCase().includes(d);return h.length===0&&!p?null:{...m,subcategories:h.length>0?h:m.subcategories}}).filter(Boolean)},[t,i]);return Ie.useEffect(()=>{const d={};t.forEach(m=>{var h;(h=m.subcategories)!=null&&h.some(p=>s.includes(p))&&(d[m.name]=!0)}),a(m=>({...m,...d}))},[t,s]),!t||t.length===0?e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{children:"Categories"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search categories...",value:i,onChange:d=>l(d.target.value),className:"pl-10 pr-10"}),i&&e.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ws,{className:"w-4 h-4"})})]}),s.length>0&&e.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:[s.length," selected"]}),e.jsx("div",{className:"border border-slate-200 rounded-lg max-h-64 overflow-y-auto",children:u.map(d=>{if(!(d.subcategories&&d.subcategories.length>0))return null;const h=r[d.name],p=[...d.subcategories].sort((g,y)=>g.localeCompare(y,void 0,{sensitivity:"base"}));return e.jsxs("div",{className:"border-b border-slate-200 last:border-b-0",children:[e.jsxs("button",{onClick:()=>o(d.name),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-semibold hover:bg-slate-50 text-purple-700",children:[e.jsx("span",{children:d.name}),h?e.jsx(Pr,{className:"w-4 h-4"}):e.jsx(ys,{className:"w-4 h-4"})]}),h&&e.jsx("div",{className:"px-3 pb-2 space-y-1",children:p.map(g=>{const y=s.includes(g);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 rounded cursor-pointer transition-colors ${y?"bg-blue-50":"hover:bg-slate-50"}`,onClick:()=>c(g),children:[e.jsx(pa,{id:`editor-sub-${g}`,checked:y,onCheckedChange:()=>c(g),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(ee,{htmlFor:`editor-sub-${g}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${y?"text-blue-700 font-medium":"text-slate-700"}`,children:g})]},g)})})]},d.id)})}),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-blue-50 rounded-lg",children:s.map((d,m)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:[d,e.jsx("button",{onClick:()=>c(d),className:"hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(ws,{className:"w-3 h-3"})})]},m))})]})}function qL({status:t,setStatus:s}){var r,a;const n={draft:{label:"Draft",color:"bg-amber-100 text-amber-700"},published:{label:"Published",color:"bg-green-100 text-green-700"},archived:{label:"Archived",color:"bg-slate-100 text-slate-700"}};return e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($e,{className:"text-base",children:"Status"}),e.jsx(ve,{className:(r=n[t])==null?void 0:r.color,children:(a=n[t])==null?void 0:a.label})]})}),e.jsxs(ce,{children:[e.jsxs(He,{value:t,onValueChange:s,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"draft",children:"Draft"}),e.jsx(re,{value:"published",children:"Published"}),e.jsx(re,{value:"archived",children:"Archived"})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[t==="draft"&&"Only visible to you",t==="published"&&"Visible to all members",t==="archived"&&"Hidden from listings"]})]})]})}function zL({seoTitle:t,onSeoTitleChange:s,seoDescription:n,onSeoDescriptionChange:r,defaultTitle:a,defaultDescription:i}){return e.jsx(NN,{children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs(_N,{className:"flex items-center justify-between w-full hover:opacity-70",children:[e.jsx($e,{className:"text-base",children:"SEO Settings"}),e.jsx(Pr,{className:"w-4 h-4 transition-transform ui-open:rotate-180"})]})}),e.jsx(SN,{children:e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"seo-title",className:"text-sm",children:"SEO Title"}),e.jsx(he,{id:"seo-title",value:t,onChange:l=>s(l.target.value),placeholder:a||"Article title for search engines...",className:"mt-2"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length||(a==null?void 0:a.length)||0," / 60 characters recommended"]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"seo-desc",className:"text-sm",children:"SEO Description"}),e.jsx(Ht,{id:"seo-desc",value:n,onChange:l=>r(l.target.value),placeholder:i||"Brief description for search results...",className:"mt-2 min-h-[80px]"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.length||(i==null?void 0:i.length)||0," / 160 characters recommended"]})]})]})})]})})}function $L({memberInfo:t}){const n=new URLSearchParams(window.location.search).get("id"),r=!!n,a=Gt(),i=b.useRef(null),[l,o]=b.useState(""),[c,u]=b.useState(""),[d,m]=b.useState(""),[h,p]=b.useState(""),[g,y]=b.useState(""),[v,j]=b.useState([]),[w,N]=b.useState([]),[_,T]=b.useState("draft"),[A,P]=b.useState(""),[C,R]=b.useState(""),[M,k]=b.useState(new Date().toISOString()),[E,O]=b.useState(!1),[F,z]=b.useState(!1),[V,U]=b.useState(null),[B,$]=b.useState("member"),[L,I]=b.useState(null),{data:W}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await K.entities.Member.list()).find(Be=>Be.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:q=[]}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(qe=>qe.is_active&&qe.applies_to_content_types&&qe.applies_to_content_types.includes("Articles")).sort((qe,ke)=>(qe.display_order||0)-(ke.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:Z=[]}=me({queryKey:["guest-writers-active"],queryFn:async()=>(await K.entities.GuestWriter.list()).filter(Be=>Be.is_active),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:J,isLoading:Q}=me({queryKey:["article",n],queryFn:async()=>(await K.entities.BlogPost.list()).find(Be=>Be.id===n),enabled:r});b.useEffect(()=>{if(J){if(o(J.title||""),J.guest_writer_id)$("guest"),I(J.guest_writer_id),u(J.slug||"");else if(W!=null&&W.handle){$("member");const je=`-by-${W.handle}`;let Be=J.slug||"";Be.endsWith(je)&&(Be=Be.slice(0,-je.length)),u(Be)}m(J.summary||""),p(J.content||""),y(J.feature_image_url||""),j(J.subcategories||[]),N(J.tags||[]),T(J.status||"draft"),k(J.published_date||new Date().toISOString()),P(J.seo_title||""),R(J.seo_description||"")}},[J,W]),b.useEffect(()=>{if(l&&!r){const je=l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");u(je)}},[l,r]),b.useEffect(()=>{if(!t||!l||!(W!=null&&W.handle))return;const je=setTimeout(async()=>{if(r){z(!0);try{const Be=`${c}-by-${W.handle}`;await K.entities.BlogPost.update(n,{title:l,slug:Be,summary:d,content:h,feature_image_url:g,subcategories:v,tags:w,status:_,published_date:M,seo_title:A,seo_description:C}),U(new Date)}catch(Be){console.error("Auto-save failed:",Be)}finally{z(!1)}}},3e3);return()=>clearTimeout(je)},[l,c,d,h,g,v,w,_,M,A,C,r,n,t,W]);const G=Fe({mutationFn:async(je=!1)=>{if(!t)throw new Error("Member information not available");if(!W)throw new Error("Member record not found");let Be,qe;if(B==="guest"){if(!L)throw new Error("Please select a guest writer");const ke=Z.find(Se=>Se.id===L);if(!ke)throw new Error("Selected guest writer not found");Be=c,qe={title:l,slug:Be,author_id:null,guest_writer_id:L,author_name:ke.full_name,summary:d,content:h,feature_image_url:g,subcategories:v,tags:w,status:je?"published":_,published_date:M,seo_title:A,seo_description:C}}else{if(!W.handle)throw new Error("You need a handle to publish articles. Please contact an administrator.");Be=`${c}-by-${W.handle}`,qe={title:l,slug:Be,author_id:W.id,guest_writer_id:null,author_name:`${t.first_name} ${t.last_name}`,summary:d,content:h,feature_image_url:g,subcategories:v,tags:w,status:je?"published":_,published_date:M,seo_title:A,seo_description:C}}return r?await K.entities.BlogPost.update(n,qe):await K.entities.BlogPost.create(qe)},onSuccess:(je,Be)=>{a.invalidateQueries({queryKey:["articles"]}),te.success(Be?"Article published successfully!":"Article saved successfully!"),U(new Date),r||(window.location.href=`${Ee("ArticleEditor")}?id=${je.id}`)},onError:je=>{te.error(je.message||"Failed to save article")}}),ae=Fe({mutationFn:()=>K.entities.BlogPost.delete(n),onSuccess:()=>{a.invalidateQueries({queryKey:["articles"]}),te.success("Article deleted successfully"),window.location.href=Ee("Articles")},onError:()=>{te.error("Failed to delete article")}}),se=async je=>{var qe;const Be=(qe=je.target.files)==null?void 0:qe[0];if(Be){O(!0);try{const{file_url:ke}=await K.integrations.Core.UploadFile({file:Be});y(ke),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{O(!1)}}},de=()=>{const je=document.createElement("input");je.type="file",je.accept="image/*",je.onchange=async Be=>{var ke,Se;const qe=(ke=Be.target.files)==null?void 0:ke[0];if(qe)try{const{file_url:Ge}=await K.integrations.Core.UploadFile({file:qe}),Ke=(Se=i.current)==null?void 0:Se.getEditor();if(Ke){const Me=Ke.getSelection(!0);Ke.insertEmbed(Me.index,"image",Ge)}te.success("Image inserted")}catch{te.error("Failed to upload image")}},je.click()},ue=b.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:de}}}),[]),oe=()=>{window.confirm("Are you sure you want to delete this article? This action cannot be undone.")&&ae.mutate()};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});if(r&&(Q||!W))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading article..."})});if(!(W!=null&&W.handle))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Handle Required"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You need a unique handle to create or edit articles. This handle will be part of your article URLs."}),e.jsx("p",{className:"text-sm text-slate-500",children:"Please contact an administrator to get a handle assigned to your account."})]})})})});const pe=B==="guest"?c:`${c}-by-${W.handle}`,be=Z.find(je=>je.id===L);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Wt,{to:Ee("Articles"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to Articles"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[F&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),V&&!F&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(Kn,{className:"w-4 h-4 text-green-600"}),"Saved ",At(V,"h:mm a")]}),e.jsxs(X,{variant:"outline",onClick:()=>G.mutate(!1),disabled:G.isPending||!l||!c,className:"gap-2",children:[e.jsx(un,{className:"w-4 h-4"}),"Save Draft"]}),e.jsx(X,{onClick:()=>G.mutate(!0),disabled:G.isPending||!l||!c,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:_==="published"?"Update":"Publish"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",className:"text-base font-semibold",children:"Article Title"}),e.jsx(he,{id:"title",placeholder:"Enter your article title...",value:l,onChange:je=>o(je.target.value),className:"text-2xl font-bold border-0 px-0 focus-visible:ring-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{className:"text-sm",children:"Article Author"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"authorType",value:"member",checked:B==="member",onChange:je=>$(je.target.value),className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Me (",t.first_name," ",t.last_name,")"]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"authorType",value:"guest",checked:B==="guest",onChange:je=>$(je.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Guest Writer"})]})]})]}),B==="guest"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"guestWriter",children:"Select Guest Writer"}),e.jsxs("select",{id:"guestWriter",value:L||"",onChange:je=>I(je.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a guest writer..."}),Z.map(je=>e.jsxs("option",{value:je.id,children:[je.full_name," ",je.organization?`(${je.organization})`:""]},je.id))]}),be&&e.jsxs("p",{className:"text-xs text-slate-500",children:[be.email," ",be.job_title&&` ${be.job_title}`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"slug",className:"text-sm",children:["URL Slug",B==="member"&&(W==null?void 0:W.handle)&&e.jsxs("span",{className:"text-slate-500 font-normal ml-2",children:["(Your handle: @",W.handle,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"/articles/"}),e.jsx(he,{id:"slug",placeholder:"article-url-slug",value:c,onChange:je=>u(je.target.value),className:"flex-1"})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Final URL: ",e.jsxs("span",{className:"font-mono text-blue-600",children:["/articles/",pe]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"summary",children:"Summary / Excerpt"}),e.jsx(Ht,{id:"summary",placeholder:"Brief description of the article (shown in listings)...",value:d,onChange:je=>m(je.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Content"}),e.jsx("div",{style:{height:"500px"},children:e.jsx(_2,{ref:i,theme:"snow",value:h,onChange:p,modules:ue,placeholder:"Start writing your article content here...",style:{height:"450px"}})})]})]})})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Feature Image"})}),e.jsx(ce,{className:"space-y-4",children:g?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g,alt:"Feature",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>y(""),children:e.jsx(ws,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"hidden",disabled:E}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-slate-400 transition-colors",children:[E?e.jsx(vt,{className:"w-8 h-8 text-slate-400 mx-auto mb-2 animate-spin"}):e.jsx(Gs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:E?"Uploading...":"Click to upload"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Organization"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(BL,{categories:q,selectedSubcategories:v,onChange:j}),e.jsx(IL,{tags:w,onChange:N})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Publishing"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(qL,{value:_,onChange:T}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"published-date",children:"Published Date & Time"}),e.jsx(he,{id:"published-date",type:"datetime-local",value:M?new Date(M).toISOString().slice(0,16):"",onChange:je=>{const Be=je.target.value?new Date(je.target.value).toISOString():new Date().toISOString();k(Be)}}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set a future date to schedule the article. Past dates show when it was originally published."}),M&&new Date(M)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(en,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["Scheduled for ",At(new Date(M),"MMM d, yyyy h:mm a")]})]})]})]})]}),e.jsx(zL,{seoTitle:A,seoDescription:C,onSeoTitleChange:P,onSeoDescriptionChange:R}),r&&e.jsxs(X,{variant:"destructive",onClick:oe,disabled:ae.isPending,className:"w-full gap-2",children:[e.jsx(is,{className:"w-4 h-4"}),"Delete Article"]})]})]})]})})}function Ice({articleId:t,memberInfo:s,showThumbsUp:n=!0,showThumbsDown:r=!0}){const[a,i]=b.useState(""),[l,o]=b.useState(""),[c,u]=b.useState(""),[d,m]=b.useState(!1),h=Gt();b.useEffect(()=>{if(s)u(s.email);else{let A=sessionStorage.getItem("public_user_id");A||(A=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",A)),u(A)}},[s]);const{data:p=[],isLoading:g}=me({queryKey:["article-comments",t],queryFn:async()=>(await K.entities.ArticleComment.list("-created_date")).filter(P=>P.article_id===t),enabled:!!t}),{data:y=[]}=me({queryKey:["user-reactions",c],queryFn:async()=>c?(await K.entities.CommentReaction.list()).filter(P=>P.user_identifier===c):[],enabled:!!c}),v=Fe({mutationFn:async A=>await K.entities.ArticleComment.create(A),onSuccess:()=>{h.invalidateQueries({queryKey:["article-comments",t]}),i(""),o(""),te.success("Comment added successfully")},onError:()=>{te.error("Failed to add comment")}}),j=Fe({mutationFn:async({commentId:A,reactionType:P,currentReaction:C})=>{const R=p.find(k=>k.id===A);if(!R)throw new Error("Comment not found");if(C&&C.reaction_type===P){await K.entities.CommentReaction.delete(C.id);const k=P==="up"?{thumbs_up_count:Math.max(0,(R.thumbs_up_count||0)-1)}:{thumbs_down_count:Math.max(0,(R.thumbs_down_count||0)-1)};return await K.entities.ArticleComment.update(A,k),{action:"removed",reactionType:P}}if(C&&C.reaction_type!==P){await K.entities.CommentReaction.update(C.id,{reaction_type:P});const k=P==="up"?{thumbs_up_count:(R.thumbs_up_count||0)+1,thumbs_down_count:Math.max(0,(R.thumbs_down_count||0)-1)}:{thumbs_down_count:(R.thumbs_down_count||0)+1,thumbs_up_count:Math.max(0,(R.thumbs_up_count||0)-1)};return await K.entities.ArticleComment.update(A,k),{action:"switched",reactionType:P}}await K.entities.CommentReaction.create({comment_id:A,reaction_type:P,user_identifier:c,is_member:!!s});const M=P==="up"?{thumbs_up_count:(R.thumbs_up_count||0)+1}:{thumbs_down_count:(R.thumbs_down_count||0)+1};return await K.entities.ArticleComment.update(A,M),{action:"added",reactionType:P}},onSuccess:()=>{h.invalidateQueries({queryKey:["article-comments",t]}),h.invalidateQueries({queryKey:["user-reactions",c]})},onError:()=>{te.error("Failed to update reaction")}}),w=async A=>{if(A.preventDefault(),!a.trim()){te.error("Please enter a comment");return}if(!s&&!l.trim()){te.error("Please enter your name");return}m(!0);try{if(!(await K.integrations.Core.InvokeLLM({prompt:`You are a content moderation system. Analyze the following comment for inappropriate content including profanity, hate speech, sexually explicit material, threats, or harassment. 

Comment to analyze: "${a.trim()}"

Respond with your analysis.`,response_json_schema:{type:"object",properties:{is_safe:{type:"boolean",description:"true if content is appropriate, false if it contains inappropriate content"},reason:{type:"string",description:"Brief explanation of why content was flagged (empty if safe)"}}}})).is_safe){m(!1),te.error(e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Y4,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Comment blocked"}),e.jsx("p",{className:"text-sm",children:"Your comment contains inappropriate content and cannot be posted. Please revise and try again."})]})]})}),{duration:5e3});return}const C={article_id:t,content:a.trim(),author_name:s?`${s.first_name} ${s.last_name}`:l.trim(),author_member_id:(s==null?void 0:s.email)||null,is_member:!!s,thumbs_up_count:0,thumbs_down_count:0};v.mutate(C)}catch(P){console.error("Content moderation error:",P),te.error("Failed to verify comment content. Please try again.")}finally{m(!1)}},N=(A,P)=>{const C=y.find(R=>R.comment_id===A);j.mutate({commentId:A,reactionType:P,currentReaction:C})},_=A=>y.find(P=>P.comment_id===A),T=v.isPending||d;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H4,{className:"w-5 h-5 text-slate-600"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Comments (",p.length,")"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"pt-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Your Name *"}),e.jsx(he,{id:"name",placeholder:"Enter your name",value:l,onChange:A=>o(A.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"comment",children:s?"Add a comment":"Your Comment *"}),e.jsx(Ht,{id:"comment",placeholder:"Share your thoughts...",value:a,onChange:A=>i(A.target.value),rows:3,required:!0}),e.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(Y4,{className:"w-3 h-3"}),"Comments are automatically checked for inappropriate content"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{type:"submit",disabled:T,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking content..."]}):v.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K6,{className:"w-4 h-4"}),"Post Comment"]})})})]})})}),g?e.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((A,P)=>e.jsx(le,{className:"border-slate-200 animate-pulse",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"})]})},P))}):p.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(H4,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No comments yet. Be the first to share your thoughts!"})]})}):e.jsx("div",{className:"space-y-4",children:p.map(A=>{const P=_(A.id),C=(P==null?void 0:P.reaction_type)==="up",R=(P==null?void 0:P.reaction_type)==="down";return e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold flex-shrink-0",children:A.is_member?e.jsx(Js,{className:"w-5 h-5"}):A.author_name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:A.author_name}),A.is_member&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Member"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[" ",At(new Date(A.created_date),"MMM d, yyyy")]})]}),e.jsx("p",{className:"text-slate-700 mb-3 whitespace-pre-wrap break-words",children:A.content}),(n||r)&&e.jsxs("div",{className:"flex items-center gap-4",children:[n&&e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>N(A.id,"up"),disabled:j.isPending,className:`gap-1 ${C?"text-blue-600 bg-blue-50":"text-slate-600"} hover:text-blue-600 hover:bg-blue-50`,children:[e.jsx(Q6,{className:`w-4 h-4 ${C?"fill-blue-600":""}`}),e.jsx("span",{className:"text-sm font-medium",children:A.thumbs_up_count||0})]}),r&&e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>N(A.id,"down"),disabled:j.isPending,className:`gap-1 ${R?"text-red-600 bg-red-50":"text-slate-600"} hover:text-red-600 hover:bg-red-50`,children:[e.jsx(Y6,{className:`w-4 h-4 ${R?"fill-red-600":""}`}),e.jsx("span",{className:"text-sm font-medium",children:A.thumbs_down_count||0})]})]})]})]})})},A.id)})})]})}function Bce({articleId:t,memberInfo:s,showThumbsUp:n=!0,showThumbsDown:r=!0}){const[a,i]=b.useState(""),l=Gt();b.useEffect(()=>{if(s)i(s.email);else{let y=sessionStorage.getItem("public_user_id");y||(y=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",y)),i(y)}},[s]);const{data:o=[]}=me({queryKey:["article-reactions",t],queryFn:async()=>(await K.entities.ArticleReaction.list()).filter(v=>v.article_id===t),enabled:!!t}),{data:c}=me({queryKey:["user-article-reaction",t,a],queryFn:async()=>a?(await K.entities.ArticleReaction.list()).find(v=>v.article_id===t&&v.user_identifier===a):null,enabled:!!t&&!!a}),u=o.filter(y=>y.reaction_type==="up").length,d=o.filter(y=>y.reaction_type==="down").length,m=Fe({mutationFn:async y=>c&&c.reaction_type===y?(await K.entities.ArticleReaction.delete(c.id),{action:"removed"}):c&&c.reaction_type!==y?(await K.entities.ArticleReaction.update(c.id,{reaction_type:y}),{action:"switched"}):(await K.entities.ArticleReaction.create({article_id:t,reaction_type:y,user_identifier:a,is_member:!!s}),{action:"added"}),onSuccess:()=>{l.invalidateQueries({queryKey:["article-reactions",t]}),l.invalidateQueries({queryKey:["user-article-reaction",t,a]})},onError:()=>{te.error("Failed to update reaction")}}),h=y=>{m.mutate(y)},p=(c==null?void 0:c.reaction_type)==="up",g=(c==null?void 0:c.reaction_type)==="down";return e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsxs(X,{variant:"outline",size:"lg",onClick:()=>h("up"),disabled:m.isPending,className:`gap-2 ${p?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700"} transition-all`,children:[e.jsx(Q6,{className:`w-5 h-5 ${p?"fill-blue-700":""}`}),e.jsx("span",{className:"text-lg font-semibold",children:u})]}),r&&e.jsxs(X,{variant:"outline",size:"lg",onClick:()=>h("down"),disabled:m.isPending,className:`gap-2 ${g?"bg-red-50 border-red-300 text-red-700 hover:bg-red-100":"hover:bg-red-50 hover:border-red-300 hover:text-red-700"} transition-all`,children:[e.jsx(Y6,{className:`w-5 h-5 ${g?"fill-red-700":""}`}),e.jsx("span",{className:"text-lg font-semibold",children:d})]})]})}function UL({memberInfo:t}){console.log("[ArticleView] Component initialized"),console.log("[ArticleView] window.location.href:",window.location.href),console.log("[ArticleView] window.location.search:",window.location.search),console.log("[ArticleView] window.location.hash:",window.location.hash),console.log("[ArticleView] window.location.pathname:",window.location.pathname);const s=new URLSearchParams(window.location.search);console.log("[ArticleView] urlParams created from window.location.search");const n=s.get("slug");console.log("[ArticleView] slug extracted from urlParams:",n);const[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(!1),{data:u}=me({queryKey:["article-settings"],queryFn:async()=>{const V=await K.entities.SystemSettings.list();console.log("[ArticleView] All settings fetched:",V.length);const U=V.find(G=>G.setting_key==="article_show_view_count"),B=V.find(G=>G.setting_key==="article_show_author_bio"),$=V.find(G=>G.setting_key==="article_show_awards_label"),L=V.find(G=>G.setting_key==="article_show_about_author_label"),I=V.find(G=>G.setting_key==="article_show_author_organization"),W=V.find(G=>G.setting_key==="article_show_author_email"),q=V.find(G=>G.setting_key==="article_show_author_photo"),Z=V.find(G=>G.setting_key==="article_show_thumbs_up"),J=V.find(G=>G.setting_key==="article_show_thumbs_down");console.log("[ArticleView] Photo setting found:",q);const Q={showViewCount:(U==null?void 0:U.setting_value)!=="false",showAuthorBio:(B==null?void 0:B.setting_value)!=="false",showAwardsLabel:($==null?void 0:$.setting_value)!=="false",showAboutAuthorLabel:(L==null?void 0:L.setting_value)!=="false",showAuthorOrganization:(I==null?void 0:I.setting_value)!=="false",showAuthorEmail:(W==null?void 0:W.setting_value)!=="false",showAuthorPhoto:(q==null?void 0:q.setting_value)!=="false",showThumbsUp:(Z==null?void 0:Z.setting_value)!=="false",showThumbsDown:(J==null?void 0:J.setting_value)!=="false"};return console.log("[ArticleView] Parsed settings:",Q),Q},initialData:{showViewCount:!0,showAuthorBio:!0,showAwardsLabel:!0,showAboutAuthorLabel:!0,showAuthorOrganization:!0,showAuthorEmail:!0,showAuthorPhoto:!0,showThumbsUp:!0,showThumbsDown:!0},refetchOnMount:!0}),d=!!sessionStorage.getItem("agcas_member");b.useEffect(()=>{if(t)a(t.email);else{let V=sessionStorage.getItem("public_user_id");V||(V=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",V)),a(V)}},[t]);const{data:m,isLoading:h}=me({queryKey:["article-by-slug",n],queryFn:async()=>{console.log("[ArticleView] Fetching article for slug:",n);const U=(await K.entities.BlogPost.list()).find(B=>B.slug===n);return console.log("[ArticleView] Article found:",!!U),console.log("[ArticleView] Article author_id:",U==null?void 0:U.author_id),U},enabled:!!n}),{data:p=0}=me({queryKey:["article-view-count",m==null?void 0:m.id],queryFn:async()=>(await K.entities.ArticleView.list()).filter(U=>U.article_id===m.id).length,enabled:!!(m!=null&&m.id),staleTime:10*1e3}),{data:g}=me({queryKey:["author-member",m==null?void 0:m.author_id],queryFn:async()=>{if(!(m!=null&&m.author_id))return null;const U=(await K.entities.Member.list()).find(B=>B.id===m.author_id);return console.log("[ArticleView] authorMember found:",U),console.log("[ArticleView] authorMember.organization_id:",U==null?void 0:U.organization_id),U},enabled:!!(m!=null&&m.author_id)}),{data:y}=me({queryKey:["guest-writer",m==null?void 0:m.guest_writer_id],queryFn:async()=>m!=null&&m.guest_writer_id?(await K.entities.GuestWriter.list()).find(U=>U.id===m.guest_writer_id):null,enabled:!!(m!=null&&m.guest_writer_id)}),v=y||g,j=!!y,{data:w,isLoading:N,isError:_}=me({queryKey:["author-organization",g==null?void 0:g.organization_id],queryFn:async()=>{if(console.log("[ArticleView] Fetching organization for Zoho ID:",g==null?void 0:g.organization_id),!(g!=null&&g.organization_id))return console.log("[ArticleView] No organization_id, returning null"),null;const V=await K.entities.Organization.list();console.log("[ArticleView] All organizations:",V.length),console.log("[ArticleView] Looking for org with zoho_account_id:",g.organization_id);const U=V.find(B=>B.zoho_account_id===g.organization_id);return console.log("[ArticleView] Found organization:",U),U},enabled:!!(g!=null&&g.organization_id)&&!j,staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1});console.log("[ArticleView] Query state - orgLoading:",N,"orgError:",_,"authorOrganization:",w);const T=j?y==null?void 0:y.organization:w==null?void 0:w.name,{data:A}=me({queryKey:["author-stats",g==null?void 0:g.id],queryFn:async()=>{if(!(g!=null&&g.id))return{eventsAttended:0,articlesWritten:0,jobsPosted:0};const[V,U,B]=await Promise.all([K.entities.Booking.list(),K.entities.BlogPost.list(),K.entities.JobPosting.list()]),$=V.filter(W=>W.member_id===g.id&&W.status==="confirmed").length,L=U.filter(W=>W.author_id===g.id&&W.status==="published").length,I=B.filter(W=>W.posted_by_member_id===g.id).length;return{eventsAttended:$,articlesWritten:L,jobsPosted:I}},enabled:!!(g!=null&&g.id)&&!j}),{data:P=[]}=me({queryKey:["awards"],queryFn:async()=>(await K.entities.Award.list()).filter(U=>U.is_active).sort((U,B)=>(U.level||0)-(B.level||0))}),{data:C=[]}=me({queryKey:["author-offline-assignments",g==null?void 0:g.id],queryFn:async()=>g!=null&&g.id?(await K.entities.OfflineAwardAssignment.list()).filter(U=>U.member_id===g.id):[],enabled:!!(g!=null&&g.id)}),{data:R=[]}=me({queryKey:["offlineAwards"],queryFn:async()=>(await K.entities.OfflineAward.list()).filter(U=>U.is_active)}),M=Ie.useMemo(()=>!A||!P||P.length===0?[]:P.filter(V=>(V.award_type==="events_attended"?A.eventsAttended:V.award_type==="articles_published"?A.articlesWritten:V.award_type==="jobs_posted"?A.jobsPosted:0)>=V.threshold),[A,P]),k=Ie.useMemo(()=>!C||C.length===0||!R?[]:C.map(V=>R.find(U=>U.id===V.offline_award_id)).filter(Boolean).sort((V,U)=>(V.level||0)-(U.level||0)),[C,R]),E=Fe({mutationFn:async()=>{if(!m||!r||i)return;(await K.entities.ArticleView.list()).some(B=>B.article_id===m.id&&B.user_identifier===r)||(await K.entities.ArticleView.create({article_id:m.id,user_identifier:r,is_member:!!t}),l(!0))}});b.useEffect(()=>{m&&r&&!i&&E.mutate()},[m,r,i]);const O=()=>{const U=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;window.open(U,"_blank","width=600,height=600")},F=()=>{const V=encodeURIComponent((m==null?void 0:m.title)||"Check out this article"),U=encodeURIComponent(`I thought you might find this article interesting:

${(m==null?void 0:m.title)||""}

${(m==null?void 0:m.summary)||""}

${window.location.href}`);window.location.href=`mailto:?subject=${V}&body=${U}`};if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading article..."})});if(!m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Article not found"}),e.jsx(Wt,{to:Ee(d?"Articles":"PublicArticles"),children:e.jsx(X,{children:"Back to Articles"})})]})});const z=t&&m.author_id===t.id;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs(Wt,{to:Ee(d?"Articles":"PublicArticles"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to Articles"]}),z&&e.jsx(Wt,{to:`${Ee("ArticleEditor")}?id=${m.id}`,children:e.jsxs(X,{variant:"outline",className:"gap-2",children:[e.jsx(ci,{className:"w-4 h-4"}),"Edit"]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-lg mb-8",children:[m.feature_image_url&&e.jsx("div",{className:"h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:m.feature_image_url,alt:m.title,className:"w-full h-full object-cover"})}),e.jsxs(ce,{className:"pt-8 pb-12 px-8 md:px-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 mb-6",children:[m.subcategories&&m.subcategories.length>0&&e.jsxs(e.Fragment,{children:[m.subcategories.slice(0,3).map((V,U)=>e.jsx(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:V},U)),m.subcategories.length>3&&e.jsxs(ve,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:["+",m.subcategories.length-3," more"]})]}),(u==null?void 0:u.showViewCount)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fr,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:"font-medium",children:[p," ",p===1?"view":"views"]})]}),m.published_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4"}),e.jsx("span",{children:At(new Date(m.published_date),"MMMM d, yyyy")})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:m.title}),m.summary&&e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:m.summary}),v&&e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[(u==null?void 0:u.showAboutAuthorLabel)&&e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-4",children:"About the author"}),e.jsxs("div",{className:"flex items-start gap-4",children:[(u==null?void 0:u.showAuthorPhoto)&&e.jsx("div",{className:"flex-shrink-0",children:v.profile_photo_url?e.jsx("img",{src:v.profile_photo_url,alt:j?v.full_name:`${v.first_name} ${v.last_name}`,className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Js,{className:"w-10 h-10 text-slate-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:j?v.full_name:`${v.first_name} ${v.last_name}`}),(u==null?void 0:u.showAuthorOrganization)&&T&&e.jsx("p",{className:"text-sm text-blue-700 font-medium mt-0.5",children:T}),v.job_title&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.job_title}),(u==null?void 0:u.showAuthorEmail)&&v.email&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.email})]})}),(u==null?void 0:u.showAuthorBio)&&v.biography&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:`text-sm text-slate-700 leading-relaxed ${o?"":"line-clamp-3"}`,children:v.biography}),e.jsx("button",{onClick:()=>c(!o),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 mt-2 font-medium",children:o?e.jsxs(e.Fragment,{children:["Hide ",e.jsx(Vg,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:["Read More ",e.jsx(Pr,{className:"w-4 h-4"})]})})]}),!j&&(M.length>0||k.length>0)&&e.jsxs("div",{className:"mt-4",children:[(u==null?void 0:u.showAwardsLabel)&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-xs font-semibold text-slate-700",children:"Awards"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.slice(0,4).map(V=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200",title:V.description,children:[V.image_url?e.jsx("img",{src:V.image_url,alt:V.name,className:"w-5 h-5 object-contain"}):e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-slate-900",children:V.name})]},V.id)),k.slice(0,4).map(V=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",title:V.description,children:[V.image_url?e.jsx("img",{src:V.image_url,alt:V.name,className:"w-5 h-5 object-contain"}):e.jsx(Fn,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-slate-900",children:V.name})]},V.id)),M.length+k.length>4&&e.jsx("div",{className:"px-3 py-1.5 bg-slate-100 rounded-lg border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",M.length+k.length-4," more"]})})]})]})]})]})]}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none",dangerouslySetInnerHTML:{__html:m.content}}),m.tags&&m.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(jc,{className:"w-4 h-4 text-slate-400"}),m.tags.map(V=>e.jsx(ve,{variant:"outline",className:"text-sm",children:V},V))]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[((u==null?void 0:u.showThumbsUp)||(u==null?void 0:u.showThumbsDown))&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Was this article helpful?"}),e.jsx(Bce,{articleId:m.id,memberInfo:t,showThumbsUp:u==null?void 0:u.showThumbsUp,showThumbsDown:u==null?void 0:u.showThumbsDown})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 pt-4 border-t border-slate-200",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Share this article:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"lg",onClick:O,className:"gap-2 hover:bg-[#0077B5] hover:text-white hover:border-[#0077B5] transition-all",children:[e.jsx(cu,{className:"w-5 h-5"}),e.jsx("span",{children:"LinkedIn"})]}),e.jsxs(X,{variant:"outline",size:"lg",onClick:F,className:"gap-2 hover:bg-slate-700 hover:text-white hover:border-slate-700 transition-all",children:[e.jsx(Ts,{className:"w-5 h-5"}),e.jsx("span",{children:"Email"})]})]})]})]})})]})]}),e.jsx(Ice,{articleId:m.id,memberInfo:t,showThumbsUp:u==null?void 0:u.showThumbsUp,showThumbsDown:u==null?void 0:u.showThumbsDown})]})})}function VL(){const t=[{icon:bs,title:"Community",description:"Bringing together careers professionals across UK and Ireland higher education institutions."},{icon:eK,title:"Excellence",description:"Setting high standards for careers guidance and employability support in higher education."},{icon:QW,title:"Innovation",description:"Championing best practices and innovative approaches to careers education."},{icon:JH,title:"Support",description:"Providing professional development and networking opportunities for our members."}];return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About AGCAS"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"The Association of Graduate Careers Advisory Services represents careers and employability services in higher education across the UK and Ireland."})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Our Mission"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-8",children:"AGCAS exists to support career development and employability professionals working in higher education. We provide a platform for professional development, networking, and knowledge sharing that enables our members to deliver outstanding support to students and graduates."}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"What We Do"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-8",children:"We offer a comprehensive range of services including professional development training, research and best practice guidance, networking events, and advocacy for the careers and employability sector. Our members benefit from access to a supportive community of professionals who share knowledge, resources, and expertise."})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Our Values"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,n)=>{const r=s.icon;return e.jsx(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:e.jsxs(ce,{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(r,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:s.title}),e.jsx("p",{className:"text-slate-600 text-sm",children:s.description})]})},n)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 rounded-2xl p-8 md:p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Membership"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"AGCAS membership is open to individuals and institutions involved in careers education, information, advice and guidance in higher education. Our members include careers advisers, employability professionals, academics, and other professionals committed to supporting student career development."}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"Join a community of over 1,000 careers professionals and gain access to exclusive training events, research publications, networking opportunities, and much more."})]})]})]})}function WL(){const[t,s]=b.useState({name:"",email:"",subject:"",message:""}),[n,r]=b.useState(!1),a=async i=>{i.preventDefault(),r(!0),setTimeout(()=>{te.success("Thank you for your message! We'll be in touch soon."),s({name:"",email:"",subject:"",message:""}),r(!1)},1e3)};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"Get in touch with the AGCAS team. We're here to help with any questions about membership, events, or our services."})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{children:"Get In Touch"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ts,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Email"}),e.jsx("a",{href:"mailto:info@agcas.org.uk",className:"text-blue-600 hover:text-blue-700",children:"info@agcas.org.uk"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Hg,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Phone"}),e.jsx("a",{href:"tel:+441142515750",className:"text-blue-600 hover:text-blue-700",children:"+44 (0)114 251 5750"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Tr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Address"}),e.jsxs("p",{className:"text-slate-600",children:["AGCAS",e.jsx("br",{}),"Sheffield",e.jsx("br",{}),"United Kingdom"]})]})]})]})]}),e.jsx(le,{className:"border-slate-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Office Hours"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Monday - Friday",e.jsx("br",{}),"9:00 AM - 5:00 PM (GMT)"]})]})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{children:"Send Us a Message"})}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",value:t.name,onChange:i=>s({...t,name:i.target.value}),placeholder:"Your name",required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:t.email,onChange:i=>s({...t,email:i.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subject",children:"Subject *"}),e.jsx(he,{id:"subject",value:t.subject,onChange:i=>s({...t,subject:i.target.value}),placeholder:"What is this regarding?",required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"message",children:"Message *"}),e.jsx(Ht,{id:"message",value:t.message,onChange:i=>s({...t,message:i.target.value}),placeholder:"Tell us how we can help...",rows:6,required:!0})]}),e.jsx(X,{type:"submit",disabled:n,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700",children:n?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(K6,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]})})]})})]})}function HL(){const{data:t,isLoading:s}=me({queryKey:["public-events"],queryFn:()=>K.entities.Event.filter({status:"published"},"-start_date",50),initialData:[]});return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Upcoming Events"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"Discover professional development opportunities, training sessions, and networking events for careers professionals in higher education."})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:s?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((n,r)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},r))}):t.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(js,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Upcoming Events"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Check back soon for new professional development opportunities"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>{const r=n.start_date?new Date(n.start_date):null,a=n.available_seats===0||n.available_seats===null;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow overflow-hidden",children:[n.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),e.jsxs(Re,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx($e,{className:"text-lg",children:n.title}),n.program_tag&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:n.program_tag})]}),n.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:n.description})]}),e.jsxs(ce,{className:"space-y-3",children:[r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(js,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(r,"MMM d, yyyy")})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(r,"h:mm a")})]}),n.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:n.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(bs,{className:"w-4 h-4 text-slate-400"}),a?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration"}):n.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[n.available_seats," seats available"]}):e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-100",children:e.jsx(X,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href=Ee("Home"),children:"Member Login to Book"})})]})]},n.id)})})})]})}const qce=[{id:"page_user_BuyProgramTickets",label:"Buy Tickets",category:"User Navigation"},{id:"page_user_Events",label:"Browse Events",category:"User Navigation"},{id:"page_user_Bookings",label:"Bookings",category:"User Navigation"},{id:"page_user_MyTickets",label:"My Tickets",category:"User Navigation"},{id:"page_user_Balances",label:"Balances",category:"User Navigation"},{id:"page_user_History",label:"History",category:"User Navigation"},{id:"page_user_Team",label:"Team",category:"User Navigation"},{id:"page_user_MemberDirectory",label:"Member Directory",category:"User Navigation"},{id:"page_user_OrganisationDirectory",label:"Organisation Directory",category:"User Navigation"},{id:"page_user_Resources",label:"Resources",category:"User Navigation"},{id:"page_user_ArticlesSection",label:"Articles Section (Parent)",category:"User Navigation"},{id:"page_user_MyArticles",label:"My Articles",category:"User Navigation"},{id:"page_user_Articles",label:"Articles",category:"User Navigation"},{id:"page_user_News",label:"News",category:"User Navigation"},{id:"page_user_MyJobPostings",label:"My Job Postings",category:"User Navigation"},{id:"page_user_Preferences",label:"Preferences",category:"User Navigation"},{id:"page_user_Support",label:"Support",category:"User Navigation"},{id:"page_admin_NewsSection",label:"News Section (Parent)",category:"Admin Navigation"},{id:"page_admin_MyNews",label:"News Management",category:"Admin Navigation"},{id:"page_admin_NewsSettings",label:"News Settings",category:"Admin Navigation"},{id:"page_admin_ArticlesSection",label:"Articles Section (Parent)",category:"Admin Navigation"},{id:"page_admin_ArticleManagement",label:"All Articles",category:"Admin Navigation"},{id:"page_admin_ArticlesSettings",label:"Articles Settings",category:"Admin Navigation"},{id:"page_admin_RoleManagement",label:"Role Management",category:"Admin Navigation"},{id:"page_admin_MemberRoleAssignment",label:"Assign Member Roles",category:"Admin Navigation"},{id:"page_admin_TeamMemberManagement",label:"Team Members",category:"Admin Navigation"},{id:"page_admin_MemberHandleManagement",label:"Member Handle Management",category:"Admin Navigation"},{id:"page_admin_MemberDirectorySettings",label:"Member Directory Settings",category:"Admin Navigation"},{id:"page_admin_DiscountCodeManagement",label:"Discount Codes",category:"Admin Navigation"},{id:"page_admin_EventSettings",label:"Event Settings",category:"Admin Navigation"},{id:"page_admin_TicketSalesAnalytics",label:"Ticket Sales Analytics",category:"Admin Navigation"},{id:"page_admin_AwardManagement",label:"Award Management",category:"Admin Navigation"},{id:"page_admin_CategoryManagement",label:"Category Management",category:"Admin Navigation"},{id:"page_admin_ResourceSettings",label:"Category Setup",category:"Admin Navigation"},{id:"page_admin_ResourcesSection",label:"Resource Management Section (Parent)",category:"Admin Navigation"},{id:"page_admin_ResourceManagement",label:"Resources",category:"Admin Navigation"},{id:"page_admin_TagManagement",label:"Tags",category:"Admin Navigation"},{id:"page_admin_FileManagement",label:"File Repository",category:"Admin Navigation"},{id:"page_admin_JobBoardSection",label:"Job Board Section (Parent)",category:"Admin Navigation"},{id:"page_admin_JobPostingManagement",label:"Job Postings",category:"Admin Navigation"},{id:"page_admin_JobBoardSettings",label:"Job Board Settings",category:"Admin Navigation"},{id:"page_admin_PageBuilder",label:"Page Builder Section (Parent)",category:"Admin Navigation"},{id:"page_admin_IEditPageManagement",label:"Pages",category:"Admin Navigation"},{id:"page_admin_IEditTemplateManagement",label:"Element Templates",category:"Admin Navigation"},{id:"page_admin_PageBannerManagement",label:"Page Banners",category:"Admin Navigation"},{id:"page_admin_NavigationManagement",label:"Navigation Items",category:"Admin Navigation"},{id:"page_admin_ButtonElements",label:"Buttons",category:"Admin Navigation"},{id:"page_admin_ButtonStyleManagement",label:"Button Styles",category:"Admin Navigation"},{id:"page_admin_WallOfFameManagement",label:"Wall of Fame",category:"Admin Navigation"},{id:"page_admin_InstalledFonts",label:"Installed Fonts",category:"Admin Navigation"},{id:"page_admin_FormsSection",label:"Forms Section (Parent)",category:"Admin Navigation"},{id:"page_admin_FormManagement",label:"Form Management",category:"Admin Navigation"},{id:"page_admin_FormSubmissions",label:"View Submissions",category:"Admin Navigation"},{id:"page_admin_FloaterManagement",label:"Floater Management",category:"Admin Navigation"},{id:"page_admin_TeamInviteSettings",label:"Team Invite Settings",category:"Admin Navigation"},{id:"page_admin_DataExport",label:"Data Export",category:"Admin Navigation"},{id:"page_admin_SiteMap",label:"Site Map",category:"Admin Navigation"},{id:"page_admin_SupportManagement",label:"Support Management",category:"Admin Navigation"},{id:"page_admin_PortalNavigationManagement",label:"Portal Navigation (Legacy)",category:"Admin Navigation"},{id:"page_admin_PortalMenuManagement",label:"Portal Menu Management",category:"Admin Navigation"},{id:"page_admin_TourManagement",label:"Tour Management",category:"Admin Navigation"},{id:"page_admin_MemberGroupManagement",label:"Member Groups",category:"Admin Navigation"},{id:"page_Dashboard",label:"Dashboard Page",category:"Standalone Pages"},{id:"page_EventDetails",label:"Event Details Page",category:"Standalone Pages"},{id:"page_ArticleEditor",label:"Article Editor Page",category:"Standalone Pages"},{id:"page_ArticleView",label:"Article View Page",category:"Standalone Pages"},{id:"page_NewsEditor",label:"News Editor Page",category:"Standalone Pages"},{id:"page_NewsView",label:"News View Page",category:"Standalone Pages"},{id:"page_IEditPageEditor",label:"Page Builder Editor",category:"Standalone Pages"},{id:"page_GuestWriterManagement",label:"Guest Writer Management",category:"Standalone Pages"},{id:"page_OrganisationDirectorySettings",label:"Organisation Directory Settings",category:"Standalone Pages"},{id:"element_EventDescription",label:"Event Description Element",category:"UI Elements"},{id:"element_EventsPageDescription",label:"Events Page Description",category:"UI Elements"},{id:"element_EventsSearch",label:"Events Page Search & Filters",category:"UI Elements"},{id:"element_SelfRegistration",label:"Self Registration for Events",category:"UI Elements"},{id:"element_PurchaseButton",label:"Purchase Button",category:"UI Elements"},{id:"element_AvailableSeatsDisplay",label:"Event Available Seats Display",category:"UI Elements"},{id:"element_FloatersDisplay",label:"Floater Elements Display",category:"UI Elements"},{id:"element_NewsTickerBar",label:"News Ticker Bar",category:"UI Elements"},{id:"payment_training_vouchers",label:"Use Training Vouchers for Purchases",category:"Payment Options"},{id:"payment_training_fund",label:"Use Training Fund for Purchases",category:"Payment Options"}];function GL({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(null),m=Gt();b.useEffect(()=>{s!=null&&(!t||n("page_RoleManagement"))&&(window.location.href=Ee("Events"))},[t,s,n]);const{data:h,isLoading:p}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[]}),g=Fe({mutationFn:P=>K.entities.Role.create(P),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),l(!1),a(null),te.success("Role created successfully")},onError:P=>{te.error("Failed to create role: "+P.message)}}),y=Fe({mutationFn:({id:P,roleData:C})=>K.entities.Role.update(P,C),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),l(!1),a(null),te.success("Role updated successfully")},onError:P=>{te.error("Failed to update role: "+P.message)}}),v=Fe({mutationFn:P=>K.entities.Role.delete(P),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),c(!1),d(null),te.success("Role deleted successfully")},onError:P=>{te.error("Failed to delete role: "+P.message)}}),j=()=>{a({name:"",description:"",excluded_features:[],is_default:!1,is_admin:!1,show_tours:!0,default_landing_page:"Events",layout_theme:"default"}),l(!0)},w=P=>{a({...P}),l(!0)},N=P=>{d(P),c(!0)},_=()=>{if(!r.name.trim()){te.error("Role name is required");return}r.id?y.mutate({id:r.id,roleData:{name:r.name,description:r.description,excluded_features:r.excluded_features,is_default:r.is_default,is_admin:r.is_admin,show_tours:r.show_tours,default_landing_page:r.default_landing_page||"Events",layout_theme:r.layout_theme||"default",requires_effective_from_date:r.requires_effective_from_date||!1}}):g.mutate({name:r.name,description:r.description,excluded_features:r.excluded_features,is_default:r.is_default,is_admin:r.is_admin,show_tours:r.show_tours,default_landing_page:r.default_landing_page||"Events",layout_theme:r.layout_theme||"default",requires_effective_from_date:r.requires_effective_from_date||!1})},T=P=>{const C=r.excluded_features||[],R=C.includes(P)?C.filter(M=>M!==P):[...C,P];a({...r,excluded_features:R})},A=qce.reduce((P,C)=>(P[C.category]||(P[C.category]=[]),P[C.category].push(C),P),{});return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_RoleManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Role Management"}),e.jsx("p",{className:"text-slate-600",children:"Define roles and control what features members can access"})]}),e.jsxs(X,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading roles..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ln,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Roles Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first role to start managing member access"}),e.jsxs(X,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Role"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(P=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ln,{className:"w-5 h-5 text-blue-600"}),e.jsx($e,{className:"text-lg",children:P.name})]}),e.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[P.is_default&&e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Default Role"}),P.is_admin&&e.jsx(ve,{className:"bg-amber-100 text-amber-700",children:"Administrator"}),P.show_tours&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:"Tours Enabled"}),P.requires_effective_from_date&&e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:"Effective From Required"})]})]})})}),e.jsxs(ce,{className:"pt-4",children:[P.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:P.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase",children:"Restrictions"}),P.excluded_features&&P.excluded_features.length>0?e.jsxs("div",{className:"text-sm text-slate-700",children:[P.excluded_features.length," feature",P.excluded_features.length>1?"s":""," restricted"]}):e.jsx("div",{className:"text-sm text-green-600",children:"Full access"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(P),className:"flex-1",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>N(P),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},P.id))}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:r!=null&&r.id?"Edit Role":"Create New Role"})}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"role-name",children:"Role Name *"}),e.jsx(he,{id:"role-name",value:r.name,onChange:P=>a({...r,name:P.target.value}),placeholder:"e.g., Standard Member"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"role-description",children:"Description"}),e.jsx(Ht,{id:"role-description",value:r.description||"",onChange:P=>a({...r,description:P.target.value}),placeholder:"Describe what this role includes...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"landing-page",children:"Default Landing Page"}),e.jsxs(He,{value:r.default_landing_page||"Events",onValueChange:P=>a({...r,default_landing_page:P}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select landing page"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Events",children:"Browse Events"}),e.jsx(re,{value:"Dashboard",children:"Dashboard"}),e.jsx(re,{value:"Bookings",children:"Bookings"}),e.jsx(re,{value:"Balances",children:"Balances"}),e.jsx(re,{value:"BuyProgramTickets",children:"Buy Program Tickets"}),e.jsx(re,{value:"History",children:"History"}),e.jsx(re,{value:"Resources",children:"Resources"}),e.jsx(re,{value:"Articles",children:"Articles"}),e.jsx(re,{value:"MyArticles",children:"My Articles"}),e.jsx(re,{value:"MyJobPostings",children:"My Job Postings"}),e.jsx(re,{value:"Team",children:"Team"}),e.jsx(re,{value:"MemberDirectory",children:"Member Directory"}),e.jsx(re,{value:"OrganisationDirectory",children:"Organisation Directory"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"The page users with this role will see after logging in"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"layout-theme",children:"Layout Theme"}),e.jsxs(He,{value:r.layout_theme||"default",onValueChange:P=>a({...r,layout_theme:P}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select theme"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"default",children:"Default Theme"}),e.jsx(re,{value:"new_header",children:"New Header Theme"}),e.jsx(re,{value:"bare_home",children:"Bare Home Page Layout"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Visual theme/layout to apply for users with this role"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is-default",checked:r.is_default||!1,onCheckedChange:P=>a({...r,is_default:P})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-default",className:"cursor-pointer",children:"Default Role"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Automatically assign this role to new members"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx(ls,{id:"is-admin",checked:r.is_admin||!1,onCheckedChange:P=>a({...r,is_admin:P})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-admin",className:"cursor-pointer font-medium text-amber-900",children:"Administrator Role"}),e.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Grant full admin access to manage roles and members"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(ls,{id:"show-tours",checked:r.show_tours!==!1,onCheckedChange:P=>a({...r,show_tours:P})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"show-tours",className:"cursor-pointer font-medium text-purple-900",children:"Enable Page Tours"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Show guided tours to users with this role"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(ls,{id:"requires-effective-from",checked:r.requires_effective_from_date||!1,onCheckedChange:P=>a({...r,requires_effective_from_date:P})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"requires-effective-from",className:"cursor-pointer font-medium text-blue-900",children:"Requires Effective From Date"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:'Require an "Effective From" date when assigning this role (e.g., for Alumni)'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-base",children:"Feature Restrictions"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"Select features that members with this role should NOT have access to"})]}),Object.entries(A).map(([P,C])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:P}),e.jsx("div",{className:"space-y-2 pl-4",children:C.map(R=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsx(ls,{id:R.id,checked:(r.excluded_features||[]).includes(R.id),onCheckedChange:()=>T(R.id)}),e.jsx(ee,{htmlFor:R.id,className:"flex-1 cursor-pointer",children:R.label})]},R.id))})]},P))]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:_,disabled:g.isPending||y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:r!=null&&r.id?"Update Role":"Create Role"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Role"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',u==null?void 0:u.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Members assigned to this role will lose their role assignment."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),d(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>u&&v.mutate(u.id),disabled:v.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Role"})]})]})})]})})}function zce(t){const s=$ce(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(Vce);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function $ce(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=Hce(a),o=Wce(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Uce=Symbol("radix.slottable");function Vce(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Uce}function Wce(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Hce(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var F0="Popover",[KL]=pr(F0,[Fo]),kf=Fo(),[Gce,qo]=KL(F0),YL=t=>{const{__scopePopover:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!1}=t,o=kf(s),c=b.useRef(null),[u,d]=b.useState(!1),[m,h]=Va({prop:r,defaultProp:a??!1,onChange:i,caller:F0});return e.jsx(a0,{...o,children:e.jsx(Gce,{scope:s,contentId:$n(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:l,children:n})})};YL.displayName=F0;var QL="PopoverAnchor",Kce=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=qo(QL,n),i=kf(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return b.useEffect(()=>(l(),()=>o()),[l,o]),e.jsx(vf,{...i,...r,ref:s})});Kce.displayName=QL;var JL="PopoverTrigger",XL=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=qo(JL,n),i=kf(n),l=fs(s,a.triggerRef),o=e.jsx($t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nI(a.open),...r,ref:l,onClick:jt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:e.jsx(vf,{asChild:!0,...i,children:o})});XL.displayName=JL;var S2="PopoverPortal",[Yce,Qce]=KL(S2,{forceMount:void 0}),ZL=t=>{const{__scopePopover:s,forceMount:n,children:r,container:a}=t,i=qo(S2,s);return e.jsx(Yce,{scope:s,forceMount:n,children:e.jsx(xr,{present:n||i.open,children:e.jsx(Ru,{asChild:!0,container:a,children:r})})})};ZL.displayName=S2;var bu="PopoverContent",eI=b.forwardRef((t,s)=>{const n=Qce(bu,t.__scopePopover),{forceMount:r=n.forceMount,...a}=t,i=qo(bu,t.__scopePopover);return e.jsx(xr,{present:r||i.open,children:i.modal?e.jsx(Xce,{...a,ref:s}):e.jsx(Zce,{...a,ref:s})})});eI.displayName=bu;var Jce=zce("PopoverContent.RemoveScroll"),Xce=b.forwardRef((t,s)=>{const n=qo(bu,t.__scopePopover),r=b.useRef(null),a=fs(s,r),i=b.useRef(!1);return b.useEffect(()=>{const l=r.current;if(l)return Yg(l)},[]),e.jsx(ff,{as:Jce,allowPinchZoom:!0,children:e.jsx(tI,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:jt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Zce=b.forwardRef((t,s)=>{const n=qo(bu,t.__scopePopover),r=b.useRef(!1),a=b.useRef(!1);return e.jsx(tI,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tI=b.forwardRef((t,s)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...m}=t,h=qo(bu,n),p=kf(n);return Gg(),e.jsx(mf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:e.jsx(i0,{"data-state":nI(h.open),role:"dialog",id:h.contentId,...p,...m,ref:s,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sI="PopoverClose",ede=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=qo(sI,n);return e.jsx($t.button,{type:"button",...r,ref:s,onClick:jt(t.onClick,()=>a.onOpenChange(!1))})});ede.displayName=sI;var tde="PopoverArrow",sde=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=kf(n);return e.jsx(l0,{...a,...r,ref:s})});sde.displayName=tde;function nI(t){return t?"open":"closed"}var nde=YL,rde=XL,ade=ZL,rI=eI;const aI=nde,iI=rde,C2=b.forwardRef(({className:t,align:s="center",sideOffset:n=4,...r},a)=>e.jsx(ade,{children:e.jsx(rI,{ref:a,align:s,sideOffset:n,className:tt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));C2.displayName=rI.displayName;var es=function(){return es=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},es.apply(this,arguments)};function ide(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function lI(t,s,n){for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}function Ef(t){return t.mode==="multiple"}function Pf(t){return t.mode==="range"}function L0(t){return t.mode==="single"}var lde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ode(t,s){return At(t,"LLLL y",s)}function cde(t,s){return At(t,"d",s)}function dde(t,s){return At(t,"LLLL",s)}function ude(t){return"".concat(t)}function hde(t,s){return At(t,"cccccc",s)}function mde(t,s){return At(t,"yyyy",s)}var fde=Object.freeze({__proto__:null,formatCaption:ode,formatDay:cde,formatMonthCaption:dde,formatWeekNumber:ude,formatWeekdayName:hde,formatYearCaption:mde}),pde=function(t,s,n){return At(t,"do MMMM (EEEE)",n)},xde=function(){return"Month: "},gde=function(){return"Go to next month"},vde=function(){return"Go to previous month"},yde=function(t,s){return At(t,"cccc",s)},bde=function(t){return"Week n. ".concat(t)},jde=function(){return"Year: "},wde=Object.freeze({__proto__:null,labelDay:pde,labelMonthDropdown:xde,labelNext:gde,labelPrevious:vde,labelWeekNumber:bde,labelWeekday:yde,labelYearDropdown:jde});function Nde(){var t="buttons",s=lde,n=I1,r={},a={},i=1,l={},o=new Date;return{captionLayout:t,classNames:s,formatters:fde,labels:wde,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:l,today:o,mode:"default"}}function _de(t){var s=t.fromYear,n=t.toYear,r=t.fromMonth,a=t.toMonth,i=t.fromDate,l=t.toDate;return r?i=Xr(r):s&&(i=new Date(s,0,1)),a?l=w0(a):n&&(l=new Date(n,11,31)),{fromDate:i?fu(i):void 0,toDate:l?fu(l):void 0}}var oI=b.createContext(void 0);function Sde(t){var s,n=t.initialProps,r=Nde(),a=_de(n),i=a.fromDate,l=a.toDate,o=(s=n.captionLayout)!==null&&s!==void 0?s:r.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(L0(n)||Ef(n)||Pf(n))&&(c=n.onSelect);var u=es(es(es({},r),n),{captionLayout:o,classNames:es(es({},r.classNames),n.classNames),components:es({},n.components),formatters:es(es({},r.formatters),n.formatters),fromDate:i,labels:es(es({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:es(es({},r.modifiers),n.modifiers),modifiersClassNames:es(es({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:es(es({},r.styles),n.styles),toDate:l});return e.jsx(oI.Provider,{value:u,children:t.children})}function an(){var t=b.useContext(oI);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function cI(t){var s=an(),n=s.locale,r=s.classNames,a=s.styles,i=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function Cde(t){return e.jsx("svg",es({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function dI(t){var s,n,r=t.onChange,a=t.value,i=t.children,l=t.caption,o=t.className,c=t.style,u=an(),d=(n=(s=u.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&n!==void 0?n:Cde;return e.jsxs("div",{className:o,style:c,children:[e.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:r,children:i}),e.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[l,e.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function kde(t){var s,n=an(),r=n.fromDate,a=n.toDate,i=n.styles,l=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var m=[];if(Gse(r,a))for(var h=Xr(r),p=r.getMonth();p<=a.getMonth();p++)m.push(hb(h,p));else for(var h=Xr(new Date),p=0;p<=11;p++)m.push(hb(h,p));var g=function(v){var j=Number(v.target.value),w=hb(Xr(t.displayMonth),j);t.onChange(w)},y=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:dI;return e.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:l}),children:m.map(function(v){return e.jsx("option",{value:v.getMonth(),children:o(v,{locale:l})},v.getMonth())})})}function Ede(t){var s,n=t.displayMonth,r=an(),a=r.fromDate,i=r.toDate,l=r.locale,o=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,h=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),y=p;y<=g;y++)h.push(GE(mR(new Date),y));var v=function(w){var N=GE(Xr(n),Number(w.target.value));t.onChange(N)},j=(s=u==null?void 0:u.Dropdown)!==null&&s!==void 0?s:dI;return e.jsx(j,{name:"years","aria-label":m(),className:c.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:l}),children:h.map(function(w){return e.jsx("option",{value:w.getFullYear(),children:d(w,{locale:l})},w.getFullYear())})})}function Pde(t,s){var n=b.useState(t),r=n[0],a=n[1],i=s===void 0?r:s;return[i,a]}function Tde(t){var s=t.month,n=t.defaultMonth,r=t.today,a=s||n||r||new Date,i=t.toDate,l=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(i&&xu(i,a)<0){var u=-1*(c-1);a=hi(i,u)}return l&&xu(a,l)<0&&(a=l),Xr(a)}function Ade(){var t=an(),s=Tde(t),n=Pde(s,t.month),r=n[0],a=n[1],i=function(l){var o;if(!t.disableNavigation){var c=Xr(l);a(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[r,i]}function Mde(t,s){for(var n=s.reverseMonths,r=s.numberOfMonths,a=Xr(t),i=Xr(hi(a,r)),l=xu(i,a),o=[],c=0;c<l;c++){var u=hi(a,c);o.push(u)}return n&&(o=o.reverse()),o}function Dde(t,s){if(!s.disableNavigation){var n=s.toDate,r=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=r?i:1,o=Xr(t);if(!n)return hi(o,l);var c=xu(n,t);if(!(c<i))return hi(o,l)}}function Ode(t,s){if(!s.disableNavigation){var n=s.fromDate,r=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=r?i:1,o=Xr(t);if(!n)return hi(o,-l);var c=xu(o,n);if(!(c<=0))return hi(o,-l)}}var uI=b.createContext(void 0);function Rde(t){var s=an(),n=Ade(),r=n[0],a=n[1],i=Mde(r,s),l=Dde(r,s),o=Ode(r,s),c=function(m){return i.some(function(h){return B1(m,h)})},u=function(m,h){c(m)||(h&&dg(m,h)?a(hi(m,1+s.numberOfMonths*-1)):a(m))},d={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:o,nextMonth:l,isDateDisplayed:c};return e.jsx(uI.Provider,{value:d,children:t.children})}function Tf(){var t=b.useContext(uI);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function tM(t){var s,n=an(),r=n.classNames,a=n.styles,i=n.components,l=Tf().goToMonth,o=function(d){l(hi(d,t.displayIndex?-t.displayIndex:0))},c=(s=i==null?void 0:i.CaptionLabel)!==null&&s!==void 0?s:cI,u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:u}),e.jsx(kde,{onChange:o,displayMonth:t.displayMonth}),e.jsx(Ede,{onChange:o,displayMonth:t.displayMonth})]})}function Fde(t){return e.jsx("svg",es({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Lde(t){return e.jsx("svg",es({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var xg=b.forwardRef(function(t,s){var n=an(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var l=i.join(" "),o=es(es({},a.button_reset),a.button);return t.style&&Object.assign(o,t.style),e.jsx("button",es({},t,{ref:s,type:"button",className:l,style:o}))});function Ide(t){var s,n,r=an(),a=r.dir,i=r.locale,l=r.classNames,o=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,m=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var h=u(t.previousMonth,{locale:i}),p=[l.nav_button,l.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:i}),y=[l.nav_button,l.nav_button_next].join(" "),v=(s=m==null?void 0:m.IconRight)!==null&&s!==void 0?s:Lde,j=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:Fde;return e.jsxs("div",{className:l.nav,style:o.nav,children:[!t.hidePrevious&&e.jsx(xg,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(v,{className:l.nav_icon,style:o.nav_icon}):e.jsx(j,{className:l.nav_icon,style:o.nav_icon})}),!t.hideNext&&e.jsx(xg,{name:"next-month","aria-label":g,className:y,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(j,{className:l.nav_icon,style:o.nav_icon}):e.jsx(v,{className:l.nav_icon,style:o.nav_icon})})]})}function sM(t){var s=an().numberOfMonths,n=Tf(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,l=n.displayMonths,o=l.findIndex(function(g){return B1(t.displayMonth,g)}),c=o===0,u=o===l.length-1,d=s>1&&(c||!u),m=s>1&&(u||!c),h=function(){r&&i(r)},p=function(){a&&i(a)};return e.jsx(Ide,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:h,onNextClick:p})}function Bde(t){var s,n=an(),r=n.classNames,a=n.disableNavigation,i=n.styles,l=n.captionLayout,o=n.components,c=(s=o==null?void 0:o.CaptionLabel)!==null&&s!==void 0?s:cI,u;return a?u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?u=e.jsx(tM,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?u=e.jsxs(e.Fragment,{children:[e.jsx(tM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(sM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(sM,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:i.caption,children:u})}function qde(t){var s=an(),n=s.footer,r=s.styles,a=s.classNames.tfoot;return n?e.jsx("tfoot",{className:a,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:n})})}):e.jsx(e.Fragment,{})}function zde(t,s,n){for(var r=n?Oc(new Date):Wi(new Date,{locale:t,weekStartsOn:s}),a=[],i=0;i<7;i++){var l=cr(r,i);a.push(l)}return a}function $de(){var t=an(),s=t.classNames,n=t.styles,r=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,l=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=zde(a,i,l);return e.jsxs("tr",{style:n.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:n.head_cell,className:s.head_cell}),u.map(function(d,m){return e.jsx("th",{scope:"col",className:s.head_cell,style:n.head_cell,"aria-label":c(d,{locale:a}),children:o(d,{locale:a})},m)})]})}function Ude(){var t,s=an(),n=s.classNames,r=s.styles,a=s.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:$de;return e.jsx("thead",{style:r.head,className:n.head,children:e.jsx(i,{})})}function Vde(t){var s=an(),n=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:n})})}var k2=b.createContext(void 0);function Wde(t){if(!Ef(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(k2.Provider,{value:s,children:t.children})}return e.jsx(Hde,{initialProps:t.initialProps,children:t.children})}function Hde(t){var s=t.initialProps,n=t.children,r=s.selected,a=s.min,i=s.max,l=function(u,d,m){var h,p;(h=s.onDayClick)===null||h===void 0||h.call(s,u,d,m);var g=!!(d.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var y=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!y){var v=r?lI([],r):[];if(d.selected){var j=v.findIndex(function(w){return Kr(u,w)});v.splice(j,1)}else v.push(u);(p=s.onSelect)===null||p===void 0||p.call(s,v,u,d,m)}}},o={disabled:[]};r&&o.disabled.push(function(u){var d=i&&r.length>i-1,m=r.some(function(h){return Kr(h,u)});return!!(d&&!m)});var c={selected:r,onDayClick:l,modifiers:o};return e.jsx(k2.Provider,{value:c,children:n})}function E2(){var t=b.useContext(k2);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Gde(t,s){var n=s||{},r=n.from,a=n.to;return r&&a?Kr(a,t)&&Kr(r,t)?void 0:Kr(a,t)?{from:a,to:void 0}:Kr(r,t)?void 0:VN(r,t)?{from:t,to:a}:{from:r,to:t}:a?VN(t,a)?{from:a,to:t}:{from:t,to:a}:r?dg(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var P2=b.createContext(void 0);function Kde(t){if(!Pf(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(P2.Provider,{value:s,children:t.children})}return e.jsx(Yde,{initialProps:t.initialProps,children:t.children})}function Yde(t){var s=t.initialProps,n=t.children,r=s.selected,a=r||{},i=a.from,l=a.to,o=s.min,c=s.max,u=function(p,g,y){var v,j;(v=s.onDayClick)===null||v===void 0||v.call(s,p,g,y);var w=Gde(p,r);(j=s.onSelect)===null||j===void 0||j.call(s,w,p,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],l?(d.range_end=[l],Kr(i,l)||(d.range_middle=[{after:i,before:l}])):d.range_end=[i]):l&&(d.range_start=[l],d.range_end=[l]),o&&(i&&!l&&d.disabled.push({after:ub(i,o-1),before:cr(i,o-1)}),i&&l&&d.disabled.push({after:i,before:cr(i,o-1)}),!i&&l&&d.disabled.push({after:ub(l,o-1),before:cr(l,o-1)})),c){if(i&&!l&&(d.disabled.push({before:cr(i,-c+1)}),d.disabled.push({after:cr(i,c-1)})),i&&l){var m=ai(l,i)+1,h=c-m;d.disabled.push({before:ub(i,h)}),d.disabled.push({after:cr(l,h)})}!i&&l&&(d.disabled.push({before:cr(l,-c+1)}),d.disabled.push({after:cr(l,c-1)}))}return e.jsx(P2.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function T2(){var t=b.useContext(P2);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function $x(t){return Array.isArray(t)?lI([],t):t!==void 0?[t]:[]}function Qde(t){var s={};return Object.entries(t).forEach(function(n){var r=n[0],a=n[1];s[r]=$x(a)}),s}var mi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(mi||(mi={}));var Jde=mi.Selected,ul=mi.Disabled,Xde=mi.Hidden,Zde=mi.Today,uw=mi.RangeEnd,hw=mi.RangeMiddle,mw=mi.RangeStart,eue=mi.Outside;function tue(t,s,n){var r,a=(r={},r[Jde]=$x(t.selected),r[ul]=$x(t.disabled),r[Xde]=$x(t.hidden),r[Zde]=[t.today],r[uw]=[],r[hw]=[],r[mw]=[],r[eue]=[],r);return t.fromDate&&a[ul].push({before:t.fromDate}),t.toDate&&a[ul].push({after:t.toDate}),Ef(t)?a[ul]=a[ul].concat(s.modifiers[ul]):Pf(t)&&(a[ul]=a[ul].concat(n.modifiers[ul]),a[mw]=n.modifiers[mw],a[hw]=n.modifiers[hw],a[uw]=n.modifiers[uw]),a}var hI=b.createContext(void 0);function sue(t){var s=an(),n=E2(),r=T2(),a=tue(s,n,r),i=Qde(s.modifiers),l=es(es({},a),i);return e.jsx(hI.Provider,{value:l,children:t.children})}function mI(){var t=b.useContext(hI);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function nue(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function rue(t){return!!(t&&typeof t=="object"&&"from"in t)}function aue(t){return!!(t&&typeof t=="object"&&"after"in t)}function iue(t){return!!(t&&typeof t=="object"&&"before"in t)}function lue(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function oue(t,s){var n,r=s.from,a=s.to;if(r&&a){var i=ai(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var l=ai(t,r)>=0&&ai(a,t)>=0;return l}return a?Kr(a,t):r?Kr(r,t):!1}function cue(t){return F1(t)}function due(t){return Array.isArray(t)&&t.every(F1)}function uue(t,s){return s.some(function(n){if(typeof n=="boolean")return n;if(cue(n))return Kr(t,n);if(due(n))return n.includes(t);if(rue(n))return oue(t,n);if(lue(n))return n.dayOfWeek.includes(t.getDay());if(nue(n)){var r=ai(n.before,t),a=ai(n.after,t),i=r>0,l=a<0,o=VN(n.before,n.after);return o?l&&i:i||l}return aue(n)?ai(t,n.after)>0:iue(n)?ai(n.before,t)>0:typeof n=="function"?n(t):!1})}function A2(t,s,n){var r=Object.keys(s).reduce(function(i,l){var o=s[l];return uue(t,o)&&i.push(l),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!B1(t,n)&&(a.outside=!0),a}function hue(t,s){for(var n=Xr(t[0]),r=w0(t[t.length-1]),a,i,l=n;l<=r;){var o=A2(l,s),c=!o.disabled&&!o.hidden;if(!c){l=cr(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),a||(a=l),l=cr(l,1)}return i||a}var mue=365;function fI(t,s){var n=s.moveBy,r=s.direction,a=s.context,i=s.modifiers,l=s.retry,o=l===void 0?{count:0,lastFocused:t}:l,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,m=a.locale,h={day:cr,week:UN,month:hi,year:Fte,startOfWeek:function(v){return a.ISOWeek?Oc(v):Wi(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?fR(v):L1(v,{locale:m,weekStartsOn:c})}},p=h[n](t,r==="after"?1:-1);r==="before"&&u?p=Lte([u,p]):r==="after"&&d&&(p=Ite([d,p]));var g=!0;if(i){var y=A2(p,i);g=!y.disabled&&!y.hidden}return g?p:o.count>mue?o.lastFocused:fI(p,{moveBy:n,direction:r,context:a,modifiers:i,retry:es(es({},o),{count:o.count+1})})}var pI=b.createContext(void 0);function fue(t){var s=Tf(),n=mI(),r=b.useState(),a=r[0],i=r[1],l=b.useState(),o=l[0],c=l[1],u=hue(s.displayMonths,n),d=a??(o&&s.isDateDisplayed(o))?o:u,m=function(){c(a),i(void 0)},h=function(v){i(v)},p=an(),g=function(v,j){if(a){var w=fI(a,{moveBy:v,direction:j,context:p,modifiers:n});Kr(a,w)||(s.goToDate(w,a),h(w))}},y={focusedDay:a,focusTarget:d,blur:m,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return e.jsx(pI.Provider,{value:y,children:t.children})}function M2(){var t=b.useContext(pI);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function pue(t,s){var n=mI(),r=A2(t,n,s);return r}var D2=b.createContext(void 0);function xue(t){if(!L0(t.initialProps)){var s={selected:void 0};return e.jsx(D2.Provider,{value:s,children:t.children})}return e.jsx(gue,{initialProps:t.initialProps,children:t.children})}function gue(t){var s=t.initialProps,n=t.children,r=function(i,l,o){var c,u,d;if((c=s.onDayClick)===null||c===void 0||c.call(s,i,l,o),l.selected&&!s.required){(u=s.onSelect)===null||u===void 0||u.call(s,void 0,i,l,o);return}(d=s.onSelect)===null||d===void 0||d.call(s,i,i,l,o)},a={selected:s.selected,onDayClick:r};return e.jsx(D2.Provider,{value:a,children:n})}function xI(){var t=b.useContext(D2);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function vue(t,s){var n=an(),r=xI(),a=E2(),i=T2(),l=M2(),o=l.focusDayAfter,c=l.focusDayBefore,u=l.focusWeekAfter,d=l.focusWeekBefore,m=l.blur,h=l.focus,p=l.focusMonthBefore,g=l.focusMonthAfter,y=l.focusYearBefore,v=l.focusYearAfter,j=l.focusStartOfWeek,w=l.focusEndOfWeek,N=function(U){var B,$,L,I;L0(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,t,s,U):Ef(n)?($=a.onDayClick)===null||$===void 0||$.call(a,t,s,U):Pf(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,t,s,U):(I=n.onDayClick)===null||I===void 0||I.call(n,t,s,U)},_=function(U){var B;h(t),(B=n.onDayFocus)===null||B===void 0||B.call(n,t,s,U)},T=function(U){var B;m(),(B=n.onDayBlur)===null||B===void 0||B.call(n,t,s,U)},A=function(U){var B;(B=n.onDayMouseEnter)===null||B===void 0||B.call(n,t,s,U)},P=function(U){var B;(B=n.onDayMouseLeave)===null||B===void 0||B.call(n,t,s,U)},C=function(U){var B;(B=n.onDayPointerEnter)===null||B===void 0||B.call(n,t,s,U)},R=function(U){var B;(B=n.onDayPointerLeave)===null||B===void 0||B.call(n,t,s,U)},M=function(U){var B;(B=n.onDayTouchCancel)===null||B===void 0||B.call(n,t,s,U)},k=function(U){var B;(B=n.onDayTouchEnd)===null||B===void 0||B.call(n,t,s,U)},E=function(U){var B;(B=n.onDayTouchMove)===null||B===void 0||B.call(n,t,s,U)},O=function(U){var B;(B=n.onDayTouchStart)===null||B===void 0||B.call(n,t,s,U)},F=function(U){var B;(B=n.onDayKeyUp)===null||B===void 0||B.call(n,t,s,U)},z=function(U){var B;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?y():p();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():g();break;case"Home":U.preventDefault(),U.stopPropagation(),j();break;case"End":U.preventDefault(),U.stopPropagation(),w();break}(B=n.onDayKeyDown)===null||B===void 0||B.call(n,t,s,U)},V={onClick:N,onFocus:_,onBlur:T,onKeyDown:z,onKeyUp:F,onMouseEnter:A,onMouseLeave:P,onPointerEnter:C,onPointerLeave:R,onTouchCancel:M,onTouchEnd:k,onTouchMove:E,onTouchStart:O};return V}function yue(){var t=an(),s=xI(),n=E2(),r=T2(),a=L0(t)?s.selected:Ef(t)?n.selected:Pf(t)?r.selected:void 0;return a}function bue(t){return Object.values(mi).includes(t)}function jue(t,s){var n=[t.classNames.day];return Object.keys(s).forEach(function(r){var a=t.modifiersClassNames[r];if(a)n.push(a);else if(bue(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function wue(t,s){var n=es({},t.styles.day);return Object.keys(s).forEach(function(r){var a;n=es(es({},n),(a=t.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Nue(t,s,n){var r,a,i,l=an(),o=M2(),c=pue(t,s),u=vue(t,c),d=yue(),m=!!(l.onDayClick||l.mode!=="default");b.useEffect(function(){var A;c.outside||o.focusedDay&&m&&Kr(o.focusedDay,t)&&((A=n.current)===null||A===void 0||A.focus())},[o.focusedDay,t,n,m,c.outside]);var h=jue(l,c).join(" "),p=wue(l,c),g=!!(c.outside&&!l.showOutsideDays||c.hidden),y=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Vde,v=e.jsx(y,{date:t,displayMonth:s,activeModifiers:c}),j={style:p,className:h,children:v,role:"gridcell"},w=o.focusTarget&&Kr(o.focusTarget,t)&&!c.outside,N=o.focusedDay&&Kr(o.focusedDay,t),_=es(es(es({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=N||w?0:-1,r)),u),T={isButton:m,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:j};return T}function _ue(t){var s=b.useRef(null),n=Nue(t.date,t.displayMonth,s);return n.isHidden?e.jsx("div",{role:"gridcell"}):n.isButton?e.jsx(xg,es({name:"day",ref:s},n.buttonProps)):e.jsx("div",es({},n.divProps))}function Sue(t){var s=t.number,n=t.dates,r=an(),a=r.onWeekNumberClick,i=r.styles,l=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(s),{locale:o});if(!a)return e.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:d});var m=c(Number(s),{locale:o}),h=function(p){a(s,n,p)};return e.jsx(xg,{name:"week-number","aria-label":m,className:l.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Cue(t){var s,n,r=an(),a=r.styles,i=r.classNames,l=r.showWeekNumber,o=r.components,c=(s=o==null?void 0:o.Day)!==null&&s!==void 0?s:_ue,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:Sue,d;return l&&(d=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(u,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(m){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:m})},Vse(m))})]})}function nM(t,s,n){for(var r=n!=null&&n.ISOWeek?fR(s):L1(s,n),a=n!=null&&n.ISOWeek?Oc(t):Wi(t,n),i=ai(r,a),l=[],o=0;o<=i;o++)l.push(cr(a,o));var c=l.reduce(function(u,d){var m=n!=null&&n.ISOWeek?pR(d):gR(d,n),h=u.find(function(p){return p.weekNumber===m});return h?(h.dates.push(d),u):(u.push({weekNumber:m,dates:[d]}),u)},[]);return c}function kue(t,s){var n=nM(Xr(t),w0(t),s);if(s!=null&&s.useFixedWeeks){var r=Hse(t,s);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],l=UN(i,6-r),o=nM(UN(i,1),l,s);n.push.apply(n,o)}}return n}function Eue(t){var s,n,r,a=an(),i=a.locale,l=a.classNames,o=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,g=kue(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),y=(s=d==null?void 0:d.Head)!==null&&s!==void 0?s:Ude,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Cue,j=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:qde;return e.jsxs("table",{id:t.id,className:l.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(y,{}),e.jsx("tbody",{className:l.tbody,style:o.tbody,children:g.map(function(w){return e.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),e.jsx(j,{displayMonth:t.displayMonth})]})}function Pue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Tue=Pue()?b.useLayoutEffect:b.useEffect,fw=!1,Aue=0;function rM(){return"react-day-picker-".concat(++Aue)}function Mue(t){var s,n=t??(fw?rM():null),r=b.useState(n),a=r[0],i=r[1];return Tue(function(){a===null&&i(rM())},[]),b.useEffect(function(){fw===!1&&(fw=!0)},[]),(s=t??a)!==null&&s!==void 0?s:void 0}function Due(t){var s,n,r=an(),a=r.dir,i=r.classNames,l=r.styles,o=r.components,c=Tf().displayMonths,u=Mue(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],h=l.month,p=t.displayIndex===0,g=t.displayIndex===c.length-1,y=!p&&!g;a==="rtl"&&(s=[p,g],g=s[0],p=s[1]),p&&(m.push(i.caption_start),h=es(es({},h),l.caption_start)),g&&(m.push(i.caption_end),h=es(es({},h),l.caption_end)),y&&(m.push(i.caption_between),h=es(es({},h),l.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:Bde;return e.jsxs("div",{className:m.join(" "),style:h,children:[e.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Eue,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Oue(t){var s=an(),n=s.classNames,r=s.styles;return e.jsx("div",{className:n.months,style:r.months,children:t.children})}function Rue(t){var s,n,r=t.initialProps,a=an(),i=M2(),l=Tf(),o=b.useState(!1),c=o[0],u=o[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var m=es(es({},a.styles.root),a.style),h=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var v;return es(es({},g),(v={},v[y]=r[y],v))},{}),p=(n=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&n!==void 0?n:Oue;return e.jsx("div",es({className:d.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:e.jsx(p,{children:l.displayMonths.map(function(g,y){return e.jsx(Due,{displayIndex:y,displayMonth:g},y)})})}))}function Fue(t){var s=t.children,n=ide(t,["children"]);return e.jsx(Sde,{initialProps:n,children:e.jsx(Rde,{children:e.jsx(xue,{initialProps:n,children:e.jsx(Wde,{initialProps:n,children:e.jsx(Kde,{initialProps:n,children:e.jsx(sue,{children:e.jsx(fue,{children:s})})})})})})})}function Lue(t){return e.jsx(Fue,es({},t,{children:e.jsx(Rue,{initialProps:t})}))}function O2({className:t,classNames:s,showOutsideDays:n=!0,...r}){return e.jsx(Lue,{showOutsideDays:n,className:tt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:tt(Nm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:tt("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:tt(Nm({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:a,...i})=>e.jsx(Un,{className:tt("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>e.jsx(ys,{className:tt("h-4 w-4",a),...i})},...r})}O2.displayName="Calendar";function gI({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(""),[i,l]=b.useState("all"),[o,c]=b.useState(null),[u,d]=b.useState(null),m=Gt();b.useEffect(()=>{s!=null&&(!t||n("page_MemberRoleAssignment"))&&(window.location.href=Ee("Events"))},[t,s,n]);const{data:h,isLoading:p}=me({queryKey:["members"],queryFn:()=>K.entities.Member.list(),initialData:[]}),{data:g,isLoading:y}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[]}),v=Fe({mutationFn:({memberId:A,roleId:P,effectiveFrom:C})=>K.entities.Member.update(A,{role_id:P,role_effective_from:C||null}),onSuccess:()=>{m.invalidateQueries({queryKey:["members"]}),te.success("Member role updated successfully"),c(null),d(null)},onError:A=>{te.error("Failed to update member role: "+A.message)}}),j=(A,P)=>{if(P==="none"||!P){v.mutate({memberId:A,roleId:null,effectiveFrom:null});return}const C=g.find(R=>R.id===P);C!=null&&C.requires_effective_from_date?(c({memberId:A,roleId:P,requiresDate:!0}),d(null)):v.mutate({memberId:A,roleId:P,effectiveFrom:null})},w=()=>{if(o){if(!u){te.error("Please select an Effective From date");return}v.mutate({memberId:o.memberId,roleId:o.roleId,effectiveFrom:At(u,"yyyy-MM-dd")})}},N=h.filter(A=>{var M,k,E;const P=r.toLowerCase(),C=((M=A.email)==null?void 0:M.toLowerCase().includes(P))||((k=A.first_name)==null?void 0:k.toLowerCase().includes(P))||((E=A.last_name)==null?void 0:E.toLowerCase().includes(P)),R=i==="all"||i==="none"&&!A.role_id||A.role_id===i;return C&&R}),_=A=>{const P=g.find(C=>C.id===A);return(P==null?void 0:P.name)||"No Role"},T=p||y;return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_MemberRoleAssignment")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Assign Member Roles"}),e.jsx("p",{className:"text-slate-600",children:"Assign roles to members to control their access to features"})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search members by name or email...",value:r,onChange:A=>a(A.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-64",children:e.jsxs(He,{value:i,onValueChange:l,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Filter by role"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Roles"}),e.jsx(re,{value:"none",children:"No Role Assigned"}),g.map(A=>e.jsx(re,{value:A.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-3 h-3"}),A.name]})},A.id))]})]})})]})})}),T?e.jsx("div",{className:"text-center py-12",children:"Loading members..."}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-slate-600",children:r?"Try adjusting your search":"No members in the system yet"})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{children:["Members (",N.length,")"]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:N.map(A=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 truncate",children:[A.first_name," ",A.last_name]}),A.role_id&&e.jsx(ve,{variant:"outline",className:"text-xs",children:_(A.role_id)}),A.role_effective_from&&e.jsxs(ve,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:["Effective: ",At(new Date(A.role_effective_from),"dd MMM yyyy")]})]}),e.jsx("p",{className:"text-sm text-slate-600 truncate",children:A.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-48",children:e.jsxs(He,{value:A.role_id||"none",onValueChange:P=>j(A.id,P==="none"?null:P),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select role"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:e.jsx("span",{className:"text-slate-500",children:"No Role"})}),g.map(P=>e.jsx(re,{value:P.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-3 h-3"}),P.name,P.is_default&&e.jsx("span",{className:"text-xs text-green-600",children:"(Default)"})]})},P.id))]})]})}),A.role_id&&e.jsx(Kn,{className:"w-5 h-5 text-green-600"}),(o==null?void 0:o.memberId)===A.id&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{className:"text-xs text-blue-700 mb-1 block",children:"Effective From Date *"}),e.jsxs(aI,{children:[e.jsx(iI,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-40 justify-start text-left font-normal",children:[e.jsx(js,{className:"mr-2 h-4 w-4"}),u?At(u,"dd MMM yyyy"):e.jsx("span",{className:"text-slate-500",children:"Pick a date"})]})}),e.jsx(C2,{className:"w-auto p-0",align:"start",children:e.jsx(O2,{mode:"single",selected:u,onSelect:d,initialFocus:!0})})]})]}),e.jsx(X,{size:"sm",onClick:w,disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm"}),e.jsx(X,{size:"sm",variant:"outline",onClick:()=>{c(null),d(null)},children:"Cancel"})]})]})]},A.id))})})]})]})})}function vI({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(""),p=Gt();b.useEffect(()=>{s!=null&&(!t||n("page_TeamMemberManagement"))&&(window.location.href=Ee("Events"))},[t,s,n]);const{data:g,isLoading:y}=me({queryKey:["team-members"],queryFn:()=>K.entities.TeamMember.list(),initialData:[]}),{data:v,isLoading:j}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[]}),w=Fe({mutationFn:O=>K.entities.TeamMember.create(O),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),l(!1),a(null),te.success("Team member created successfully")},onError:O=>{te.error("Failed to create team member: "+O.message)}}),N=Fe({mutationFn:({id:O,teamMemberData:F})=>K.entities.TeamMember.update(O,F),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),l(!1),a(null),te.success("Team member updated successfully")},onError:O=>{te.error("Failed to update team member: "+O.message)}}),_=Fe({mutationFn:O=>K.entities.TeamMember.delete(O),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),c(!1),d(null),te.success("Team member deleted successfully")},onError:O=>{te.error("Failed to delete team member: "+O.message)}}),T=()=>{a({email:"",first_name:"",last_name:"",role_id:"",is_active:!0}),l(!0)},A=O=>{a({...O}),l(!0)},P=O=>{d(O),c(!0)},C=()=>{if(!r.email||!r.email.trim()){te.error("Email is required");return}if(!r.first_name||!r.first_name.trim()){te.error("First name is required");return}if(!r.last_name||!r.last_name.trim()){te.error("Last name is required");return}if(!r.role_id){te.error("Role is required");return}const O={email:r.email.trim(),first_name:r.first_name.trim(),last_name:r.last_name.trim(),role_id:r.role_id,is_active:r.is_active};r.id?N.mutate({id:r.id,teamMemberData:O}):w.mutate(O)},R=O=>{const F=v.find(z=>z.id===O);return(F==null?void 0:F.name)||"Unknown Role"},M=O=>{const F=v.find(z=>z.id===O);return(F==null?void 0:F.is_admin)||!1},k=g.filter(O=>{var z,V,U;const F=m.toLowerCase();return((z=O.email)==null?void 0:z.toLowerCase().includes(F))||((V=O.first_name)==null?void 0:V.toLowerCase().includes(F))||((U=O.last_name)==null?void 0:U.toLowerCase().includes(F))}),E=y||j;return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_TeamMemberManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Team Member Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage internal team members and administrators"})]}),e.jsxs(X,{onClick:T,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:m,onChange:O=>h(O.target.value),className:"pl-10"})]})})}),E?e.jsx("div",{className:"text-center py-12",children:"Loading team members..."}):k.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:m?"No Team Members Found":"No Team Members Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:m?"Try adjusting your search":"Create your first team member to get started"}),!m&&e.jsxs(X,{onClick:T,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{children:["Team Members (",k.length,")"]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:k.map(O=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 truncate",children:[O.first_name," ",O.last_name]}),!O.is_active&&e.jsx(ve,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Inactive"}),O.is_active&&e.jsx(ve,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),e.jsx("p",{className:"text-sm text-slate-600 truncate mb-1",children:O.email}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"text-xs text-slate-600",children:R(O.role_id)}),M(O.role_id)&&e.jsx(ve,{className:"bg-amber-100 text-amber-700 text-xs",children:"Admin"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(O),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>P(O),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]},O.id))})})]}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{children:r!=null&&r.id?"Edit Team Member":"Add New Team Member"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"first-name",children:"First Name *"}),e.jsx(he,{id:"first-name",value:r.first_name,onChange:O=>a({...r,first_name:O.target.value}),placeholder:"John"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"last-name",children:"Last Name *"}),e.jsx(he,{id:"last-name",value:r.last_name,onChange:O=>a({...r,last_name:O.target.value}),placeholder:"Doe"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email Address *"}),e.jsx(he,{id:"email",type:"email",value:r.email,onChange:O=>a({...r,email:O.target.value}),placeholder:"john.doe@example.com",disabled:!!r.id}),r.id&&e.jsx("p",{className:"text-xs text-slate-500",children:"Email cannot be changed after creation"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"role",children:"Role *"}),e.jsxs(He,{value:r.role_id,onValueChange:O=>a({...r,role_id:O}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a role"})}),e.jsx(Ve,{children:v.map(O=>e.jsx(re,{value:O.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-3 h-3"}),O.name,O.is_admin&&e.jsx("span",{className:"text-xs text-amber-600",children:"(Admin)"})]})},O.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is-active",checked:r.is_active,onCheckedChange:O=>a({...r,is_active:O})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-active",className:"cursor-pointer",children:"Active Account"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Inactive accounts cannot log in"})]})]}),!r.id&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 text-blue-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-800",children:"After creating this team member, they can log in using the magic link system on the home page."})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:C,disabled:w.isPending||N.isPending,className:"bg-indigo-600 hover:bg-indigo-700",children:r!=null&&r.id?"Update Team Member":"Create Team Member"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Team Member"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-900 font-medium",children:"Are you sure you want to delete this team member?"}),u&&e.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[u.first_name," ",u.last_name," (",u.email,")"]}),e.jsx("p",{className:"text-xs text-red-700 mt-2",children:"This action cannot be undone. They will no longer be able to access the system."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),d(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>u&&_.mutate(u.id),disabled:_.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Team Member"})]})]})})]})})}function yI({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(null),m=Gt(),{data:h,isLoading:p}=me({queryKey:["discount-codes"],queryFn:()=>K.entities.DiscountCode.list("-created_date"),initialData:[]}),{data:g}=me({queryKey:["organizations"],queryFn:()=>K.entities.Organization.list(),initialData:[]}),{data:y}=me({queryKey:["programs"],queryFn:()=>K.entities.Program.list(),initialData:[]}),{data:v}=me({queryKey:["discount-usage"],queryFn:()=>K.entities.DiscountCodeUsage.list(),initialData:[]}),j=Fe({mutationFn:E=>K.entities.DiscountCode.create(E),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),l(!1),a(null),te.success("Discount code created successfully")},onError:E=>{te.error("Failed to create discount code: "+E.message)}}),w=Fe({mutationFn:({id:E,codeData:O})=>K.entities.DiscountCode.update(E,O),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),l(!1),a(null),te.success("Discount code updated successfully")},onError:E=>{te.error("Failed to update discount code: "+E.message)}}),N=Fe({mutationFn:E=>K.entities.DiscountCode.delete(E),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),c(!1),d(null),te.success("Discount code deleted successfully")},onError:E=>{te.error("Failed to delete discount code: "+E.message)}}),_=E=>{if(E.organization_id){const O=v.find(F=>F.discount_code_id===E.id&&F.organization_id===E.organization_id);return!O||O.usage_count===0}else return(E.current_usage_count||0)===0},T=()=>{a({code:"",type:"percentage",value:0,description:"",is_active:!1,expires_at:"",min_purchase_amount:0,max_usage_count:null,program_tag:"",organization_id:""}),l(!0)},A=E=>{a({...E,expires_at:E.expires_at?At(new Date(E.expires_at),"yyyy-MM-dd'T'HH:mm"):"",organization_id:E.organization_id||"",program_tag:E.program_tag||"",max_usage_count:E.max_usage_count||null}),l(!0)},P=E=>{a({...E,id:void 0,code:E.code+"_COPY",is_active:!1,current_usage_count:0,expires_at:E.expires_at?At(new Date(E.expires_at),"yyyy-MM-dd'T'HH:mm"):"",organization_id:E.organization_id||"",program_tag:E.program_tag||""}),l(!0)},C=E=>{if(!_(E)){te.error("Cannot delete a discount code that has been used");return}d(E),c(!0)},R=async E=>{try{await K.entities.DiscountCode.update(E.id,{is_active:!E.is_active}),m.invalidateQueries({queryKey:["discount-codes"]}),te.success(`Discount code ${E.is_active?"deactivated":"activated"}`)}catch(O){te.error("Failed to update status: "+O.message)}},M=()=>{if(!r.code.trim()){te.error("Code is required");return}if(r.value<=0){te.error("Value must be greater than 0");return}if(r.type==="percentage"&&r.value>100){te.error("Percentage cannot exceed 100%");return}const E={code:r.code.toUpperCase().trim(),type:r.type,value:parseFloat(r.value),description:r.description||"",is_active:r.is_active,expires_at:r.expires_at?new Date(r.expires_at).toISOString():null,min_purchase_amount:parseFloat(r.min_purchase_amount)||0,max_usage_count:r.max_usage_count?parseInt(r.max_usage_count):null,program_tag:r.program_tag||null,organization_id:r.organization_id||null};r.id?w.mutate({id:r.id,codeData:E}):j.mutate(E)},k=E=>{if(E.organization_id){const O=v.find(z=>z.discount_code_id===E.id&&z.organization_id===E.organization_id);return{used:(O==null?void 0:O.usage_count)||0,max:E.max_usage_count,hasMax:!!E.max_usage_count}}else return{used:E.current_usage_count||0,max:E.max_usage_count,hasMax:!!E.max_usage_count}};return!t||n("page_DiscountCodeManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Discount Code Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage discount codes for program ticket purchases"})]}),e.jsxs(X,{onClick:T,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Code"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading discount codes..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ds,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Discount Codes Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first discount code to start offering promotions"}),e.jsxs(X,{onClick:T,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Code"]})]})}):e.jsx("div",{className:"grid gap-6",children:h.map(E=>{const O=k(E),F=E.organization_id?g.find(V=>V.id===E.organization_id):null,z=E.expires_at&&new Date(E.expires_at)<new Date;return e.jsxs(le,{className:`border-2 ${E.is_active?z?"border-red-200 bg-red-50":"border-slate-200":"border-slate-200 bg-slate-50"}`,children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-blue-600"}),e.jsx($e,{className:"text-2xl font-bold",children:E.code}),E.is_active?e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Active"}):e.jsx(ve,{className:"bg-slate-200 text-slate-700",children:"Draft"}),z&&e.jsx(ve,{className:"bg-red-100 text-red-700",children:"Expired"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[E.type==="percentage"?e.jsxs(ve,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[E.value,"% OFF"]}):e.jsxs(ve,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:["",E.value.toFixed(2)," OFF"]}),E.organization_id?e.jsxs(ve,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(va,{className:"w-3 h-3 mr-1"}),(F==null?void 0:F.name)||"Organization"]}):e.jsxs(ve,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(W6,{className:"w-3 h-3 mr-1"}),"Global"]}),E.program_tag&&e.jsx(ve,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:E.program_tag})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(E),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>P(E),children:[e.jsx(La,{className:"w-3 h-3 mr-1"}),"Copy"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>R(E),children:E.is_active?"Deactivate":"Activate"}),_(E)&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(E),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]})}),e.jsx(ce,{className:"pt-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[E.description&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-700",children:E.description})]}),E.min_purchase_amount>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Minimum Purchase"}),e.jsxs("p",{className:"text-sm text-slate-700",children:["",E.min_purchase_amount.toFixed(2)]})]}),E.expires_at&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Expires"}),e.jsx("p",{className:`text-sm ${z?"text-red-600 font-medium":"text-slate-700"}`,children:At(new Date(E.expires_at),"MMM d, yyyy h:mm a")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Usage"}),O.hasMax?e.jsxs("p",{className:"text-sm text-slate-700",children:[O.used," / ",O.max," times used"]}):e.jsxs("p",{className:"text-sm text-slate-700",children:[O.used," times used (no limit)"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Created"}),e.jsx("p",{className:"text-sm text-slate-700",children:At(new Date(E.created_date),"MMM d, yyyy")})]})]})]})})]},E.id)})}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:r!=null&&r.id?"Edit Discount Code":"Create New Discount Code"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"code",children:"Code *"}),e.jsx(he,{id:"code",value:r.code,onChange:E=>a({...r,code:E.target.value.toUpperCase()}),placeholder:"e.g., SUMMER20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"type",children:"Type *"}),e.jsxs(He,{value:r.type,onValueChange:E=>a({...r,type:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"percentage",children:"Percentage"}),e.jsx(re,{value:"fixed",children:"Fixed Amount"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{htmlFor:"value",children:["Value * ",r.type==="percentage"?"(%)":"()"]}),e.jsx(he,{id:"value",type:"number",step:"0.01",min:"0",max:r.type==="percentage"?"100":void 0,value:r.value,onChange:E=>a({...r,value:E.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:r.description,onChange:E=>a({...r,description:E.target.value}),placeholder:"Internal description for this code...",rows:2})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"organization",children:"Organization (Optional)"}),e.jsxs(He,{value:r.organization_id,onValueChange:E=>a({...r,organization_id:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Global (all organizations)"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"Global (all organizations)"}),g.map(E=>e.jsx(re,{value:E.id,children:E.name},E.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"program",children:"Program (Optional)"}),e.jsxs(He,{value:r.program_tag,onValueChange:E=>a({...r,program_tag:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"All programs"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"All programs"}),y.map(E=>e.jsx(re,{value:E.program_tag,children:E.name},E.id))]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"min-purchase",children:"Minimum Purchase ()"}),e.jsx(he,{id:"min-purchase",type:"number",step:"0.01",min:"0",value:r.min_purchase_amount,onChange:E=>a({...r,min_purchase_amount:E.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"max-usage",children:"Max Uses (Optional)"}),e.jsx(he,{id:"max-usage",type:"number",min:"1",value:r.max_usage_count||"",onChange:E=>a({...r,max_usage_count:E.target.value}),placeholder:"Unlimited"}),e.jsx("p",{className:"text-xs text-slate-500",children:r.organization_id?"Per organization":"Total across all organizations"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"expires",children:"Expiry Date (Optional)"}),e.jsx(he,{id:"expires",type:"datetime-local",value:r.expires_at,onChange:E=>a({...r,expires_at:E.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is-active",checked:r.is_active,onCheckedChange:E=>a({...r,is_active:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-active",className:"cursor-pointer font-medium",children:"Active"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Only active codes can be used by members"})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:M,disabled:j.isPending||w.isPending,className:"bg-blue-600 hover:bg-blue-700",children:r!=null&&r.id?"Update Code":"Create Code"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Discount Code"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',u==null?void 0:u.code,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This action cannot be undone."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),d(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>u&&N.mutate(u.id),disabled:N.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Code"})]})]})})]})})}var Iue=Symbol("radix.slottable");function Bue(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=Iue,s}var bI="AlertDialog",[que]=pr(bI,[E5]),Bl=E5(),jI=t=>{const{__scopeAlertDialog:s,...n}=t,r=Bl(s);return e.jsx(Jg,{...r,...n,modal:!0})};jI.displayName=bI;var zue="AlertDialogTrigger",$ue=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Bl(n);return e.jsx(aJ,{...a,...r,ref:s})});$ue.displayName=zue;var Uue="AlertDialogPortal",wI=t=>{const{__scopeAlertDialog:s,...n}=t,r=Bl(s);return e.jsx(Xg,{...r,...n})};wI.displayName=Uue;var Vue="AlertDialogOverlay",NI=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Bl(n);return e.jsx(Fu,{...a,...r,ref:s})});NI.displayName=Vue;var Yd="AlertDialogContent",[Wue,Hue]=que(Yd),Gue=Bue("AlertDialogContent"),_I=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:r,...a}=t,i=Bl(n),l=b.useRef(null),o=fs(s,l),c=b.useRef(null);return e.jsx(tJ,{contentName:Yd,titleName:SI,docsSlug:"alert-dialog",children:e.jsx(Wue,{scope:n,cancelRef:c,children:e.jsxs(Lu,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:jt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(Gue,{children:r}),e.jsx(Yue,{contentRef:l})]})})})});_I.displayName=Yd;var SI="AlertDialogTitle",CI=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Bl(n);return e.jsx(pf,{...a,...r,ref:s})});CI.displayName=SI;var kI="AlertDialogDescription",EI=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Bl(n);return e.jsx(xf,{...a,...r,ref:s})});EI.displayName=kI;var Kue="AlertDialogAction",PI=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Bl(n);return e.jsx(Zg,{...a,...r,ref:s})});PI.displayName=Kue;var TI="AlertDialogCancel",AI=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:a}=Hue(TI,n),i=Bl(n),l=fs(s,a);return e.jsx(Zg,{...i,...r,ref:l})});AI.displayName=TI;var Yue=({contentRef:t})=>{const s=`\`${Yd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yd}\` by passing a \`${kI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Que=jI,Jue=wI,MI=NI,DI=_I,OI=PI,RI=AI,FI=CI,LI=EI;const yl=Que,Xue=Jue,II=b.forwardRef(({className:t,...s},n)=>e.jsx(MI,{className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));II.displayName=MI.displayName;const Di=b.forwardRef(({className:t,...s},n)=>e.jsxs(Xue,{children:[e.jsx(II,{}),e.jsx(DI,{ref:n,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Di.displayName=DI.displayName;const Oi=({className:t,...s})=>e.jsx("div",{className:tt("flex flex-col space-y-2 text-center sm:text-left",t),...s});Oi.displayName="AlertDialogHeader";const Ri=({className:t,...s})=>e.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ri.displayName="AlertDialogFooter";const Fi=b.forwardRef(({className:t,...s},n)=>e.jsx(FI,{ref:n,className:tt("text-lg font-semibold",t),...s}));Fi.displayName=FI.displayName;const Li=b.forwardRef(({className:t,...s},n)=>e.jsx(LI,{ref:n,className:tt("text-sm text-muted-foreground",t),...s}));Li.displayName=LI.displayName;const Ii=b.forwardRef(({className:t,...s},n)=>e.jsx(OI,{ref:n,className:tt(Nm(),t),...s}));Ii.displayName=OI.displayName;const Bi=b.forwardRef(({className:t,...s},n)=>e.jsx(RI,{ref:n,className:tt(Nm({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Bi.displayName=RI.displayName;function BI({memberInfo:t,memberRole:s,reloadMemberInfo:n}){var B;const[r,a]=Ie.useState(null),[i,l]=Ie.useState(!1),[o,c]=Ie.useState(null),[u,d]=Ie.useState(new Set),[m,h]=Ie.useState(!1),[p,g]=Ie.useState(!1),y=Ie.useRef(!1),v=(s==null?void 0:s.show_tours)!==!1,j=((B=t==null?void 0:t.page_tours_seen)==null?void 0:B.MyTickets)===!0;Ie.useEffect(()=>{v&&!j&&t&&!y.current&&(y.current=!0,g(!0),h(!0))},[v,j,t]);const{data:w,isLoading:N}=me({queryKey:["my-tickets",t==null?void 0:t.email],queryFn:async()=>t!=null&&t.email?(await K.entities.Booking.list("-created_date")).filter(L=>L.attendee_email===t.email):[],enabled:!!(t!=null&&t.email),initialData:[]}),{data:_,isLoading:T}=me({queryKey:["events"],queryFn:()=>K.entities.Event.list(),initialData:[]}),{data:A,isLoading:P}=me({queryKey:["members"],queryFn:()=>K.entities.Member.list(),initialData:[]}),C=async()=>{h(!1),g(!1)},R=async()=>{h(!1),g(!1),await k("MyTickets")},M=()=>{h(!1),g(!1),setTimeout(()=>{h(!0),g(!0)},10)},k=async $=>{if(t&&!t.is_team_member)try{const L=await K.entities.Member.get(t.id);if(L){const I={...L.page_tours_seen||{},[$]:!0};await K.entities.Member.update(L.id,{page_tours_seen:I});const W={...t,page_tours_seen:I};sessionStorage.setItem("agcas_member",JSON.stringify(W)),n&&n()}}catch(L){console.error("Failed to update tour status:",L)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const E=N||T||P,O=$=>{switch($){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},F=$=>$?new Date($).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z":"",z=($,L)=>{const I=$.start_date?new Date($.start_date):null,W=$.end_date?new Date($.end_date):null;if(!I)return;const q=W||new Date(I.getTime()+3600*1e3),Z=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//AGCAS Events//iConnect//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${L.id}@agcas-events.com`,`DTSTAMP:${F(new Date)}`,`DTSTART:${F(I)}`,`DTEND:${F(q)}`,`SUMMARY:${$.title}`,$.description?`DESCRIPTION:${$.description.replace(/\n/g,"\\n")}`:"",$.location?`LOCATION:${$.location}`:"",`STATUS:${L.status==="confirmed"?"CONFIRMED":"TENTATIVE"}`,"END:VEVENT","END:VCALENDAR"].filter(ae=>ae).join(`\r
`),J=new Blob([Z],{type:"text/calendar;charset=utf-8"}),Q=window.URL.createObjectURL(J),G=document.createElement("a");G.href=Q,G.download=`${$.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(Q)},V=$=>{c($),l(!0)},U=async()=>{if(!o||!o.backstage_order_id){te.error("Unable to cancel: Missing ticket information"),l(!1);return}a(o.id),l(!1);try{const L=(await K.entities.Member.list()).find(W=>W.email===t.email);if(!L){te.error("Unable to verify member identity"),a(null),c(null);return}const I=await K.functions.invoke("cancelTicketViaFlow",{orderId:o.backstage_order_id,cancelReason:"Cancelled by member via iConnect",memberId:L.id});if(I.data.success)d(W=>new Set([...W,o.id])),te.success("Ticket cancelled successfully"),setTimeout(()=>{window.location.reload()},1500);else throw new Error(I.data.error||"Failed to cancel ticket")}catch($){console.error("Cancellation error:",$),te.error("Failed to cancel ticket. Please try again or contact support.")}finally{a(null),c(null)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[m&&v&&e.jsx(Rc,{tourGroupName:"MyTickets",viewId:null,onComplete:C,onDismissPermanently:R,autoShow:p}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"My Tickets"}),v&&e.jsx(Fc,{onClick:M})]}),e.jsx("p",{className:"text-slate-600",children:"Events you are registered to attend"})]}),E?e.jsx("div",{className:"space-y-6",children:Array(4).fill(0).map(($,L)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})]},L))}):w.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ds,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No tickets yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have any event tickets registered in your name yet"}),e.jsx(Wt,{to:Ee("Events"),children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Browse Events"})})]})}):e.jsx("div",{className:"space-y-6",children:w.map(($,L)=>{const I=_.find(G=>G.id===$.event_id),W=A.find(G=>G.id===$.member_id);if(!I)return null;const q=I.start_date?new Date(I.start_date):null,Z=$.member_id===t.id||t.email===$.attendee_email,J=$.status==="cancelled"||u.has($.id),Q=I.backstage_public_url||null;return e.jsxs(le,{id:L===0?"first-my-ticket-card":void 0,className:`border-slate-200 shadow-sm hover:shadow-md transition-shadow ${J?"opacity-75 border-red-300 bg-red-50/30":""}`,children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx($e,{className:`text-xl ${J?"line-through text-slate-500":""}`,children:I.title}),I.program_tag&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 border-blue-200",children:I.program_tag})]}),e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(ve,{id:L===0?"first-ticket-status-badge":void 0,className:O(J?"cancelled":$.status),children:J?"cancelled":$.status})}),!Z&&W&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-2",children:[e.jsx(Js,{className:"w-3 h-3"}),e.jsxs("span",{children:["Booked by ",W.first_name," ",W.last_name]})]})]}),I.image_url&&e.jsx("img",{src:I.image_url,alt:I.title,className:`w-24 h-24 object-cover rounded-lg shrink-0 ${J?"grayscale":""}`})]})}),e.jsxs(ce,{className:"pt-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[q&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${J?"text-slate-400":"text-slate-600"}`,children:[e.jsx(js,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(q,"EEEE, MMMM d, yyyy")})]}),q&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${J?"text-slate-400":"text-slate-600"}`,children:[e.jsx(en,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(q,"h:mm a")})]}),I.location&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${J?"text-slate-400":"text-slate-600"}`,children:[e.jsx(Tr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:I.location})]})]}),e.jsxs("div",{className:"space-y-3",children:[$.backstage_order_id&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(Ds,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-slate-600",children:"Ticket ID:"}),e.jsx("span",{className:"font-mono text-purple-600 bg-purple-50 px-2 py-0.5 rounded",children:$.backstage_order_id})]}),$.booking_reference&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("span",{className:"text-slate-600",children:"Booking Ref:"}),e.jsx("span",{className:"font-semibold text-slate-900",children:$.booking_reference})]}),!J&&q&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{id:L===0?"add-to-calendar-button":void 0,variant:"outline",size:"sm",onClick:()=>z(I,$),className:"flex-1",children:[e.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Add to Calendar"]}),$.backstage_order_id&&e.jsx(X,{id:L===0?"cancel-ticket-button":void 0,variant:"outline",size:"sm",onClick:()=>V($),disabled:r===$.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ps,{className:"w-4 h-4"})})]}),Q&&e.jsx(X,{id:L===0?"go-to-event-page-button":void 0,variant:"outline",size:"sm",asChild:!0,className:"w-full",children:e.jsxs("a",{href:Q,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Go to Event Page"]})})]}),J&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 text-red-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-red-800 font-medium",children:"This ticket has been cancelled"})]})]})]}),$.status==="pending"&&!J&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg mt-4",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"This ticket is pending confirmation. Please check your email for the confirmation link."})]})]})]},$.id)})})]}),e.jsx(yl,{open:i,onOpenChange:l,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{className:"text-lg font-semibold",children:"Cancel Registration?"}),e.jsx(Li,{className:"text-sm text-muted-foreground",children:"Cancelling this registration will make the ticket available for reallocation."})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"No, keep registration"}),e.jsx(Ii,{onClick:U,className:"bg-red-600 hover:bg-red-700",children:"Yes, cancel registration"})]})]})})]})}function qI({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(24),[i,l]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState(null),[m,h]=b.useState(null),[p,g]=b.useState(""),[y,v]=b.useState(""),[j,w]=b.useState(!1),[N,_]=b.useState(null),[T,A]=b.useState(null),[P,C]=b.useState(null),[R,M]=b.useState(""),[k,E]=b.useState("none"),[O,F]=b.useState("buy_x_get_y_free"),[z,V]=b.useState(""),[U,B]=b.useState(""),[$,L]=b.useState(""),[I,W]=b.useState(""),[q,Z]=b.useState(!1),J=Gt();b.useEffect(()=>{s!=null&&(!t||n("page_EventSettings"))&&(window.location.href=Ee("Events"))},[t,s,n]);const{data:Q,isLoading:G}=me({queryKey:["events"],queryFn:()=>K.entities.Event.list("-start_date"),initialData:[]}),{data:ae,isLoading:se}=me({queryKey:["system-settings"],queryFn:()=>K.entities.SystemSettings.list(),initialData:[]}),{data:de,isLoading:ue}=me({queryKey:["programs"],queryFn:()=>K.entities.Program.filter({is_active:!0}),initialData:[]});b.useEffect(()=>{const _e=ae.find(at=>at.setting_key==="cancellation_deadline_hours");_e&&a(parseInt(_e.setting_value)||0)},[ae]);const oe=Fe({mutationFn:()=>K.functions.invoke("syncBackstageEvents",{}),onSuccess:()=>{J.invalidateQueries({queryKey:["events"]}),te.success("Events synced successfully")},onError:_e=>{te.error("Failed to sync events: "+_e.message)}}),pe=async()=>{l(!0);try{const _e=ae.find(at=>at.setting_key==="cancellation_deadline_hours");_e?await K.entities.SystemSettings.update(_e.id,{setting_value:r.toString(),description:"Number of hours before event start that cancellations are allowed"}):await K.entities.SystemSettings.create({setting_key:"cancellation_deadline_hours",setting_value:r.toString(),description:"Number of hours before event start that cancellations are allowed"}),J.invalidateQueries({queryKey:["system-settings"]}),te.success("Settings saved successfully")}catch(_e){te.error("Failed to save settings: "+_e.message)}finally{l(!1)}},be=()=>{oe.mutate()},je=_e=>{c(_e),d(null),h(null),g(_e.description||""),v(_e.backstage_public_url||"")},Be=_e=>{const at=_e.target.files[0];if(at){d(at);const Ne=new FileReader;Ne.onloadend=()=>{h(Ne.result)},Ne.readAsDataURL(at)}},qe=async()=>{if(!o)return;const _e=u!==null,at=p!==(o.description||""),Ne=y!==(o.backstage_public_url||"");if(!_e&&!at&&!Ne){te.error("No changes to save");return}w(!0);try{const ze=sessionStorage.getItem("agcas_member"),nt=ze?JSON.parse(ze):null;if(!nt||!nt.email)throw new Error("User session not found. Please log in again.");const dt={eventId:o.id,userEmail:nt.email,description:p,backstagePublicUrl:y};if(_e){const Ot=new FileReader;Ot.readAsDataURL(u),await new Promise((Xt,Ls)=>{Ot.onload=()=>{dt.imageBase64=Ot.result,dt.fileName=u.name,Xt()},Ot.onerror=()=>{Ls(new Error("Failed to read image file"))}})}const lt=await K.functions.invoke("updateEventImage",dt);if(lt.data&&lt.data.success)J.invalidateQueries({queryKey:["events"]}),te.success("Event updated successfully"),c(null),d(null),h(null),g(""),v("");else throw new Error(lt.data?lt.data.error:"Failed to update event")}catch(ze){console.error("Event update error:",ze),te.error("Failed to update event: "+ze.message)}finally{w(!1)}},ke=_e=>{_(_e),A(null),C(null),M(_e.description||"");let at=_e.offer_type||"none";_e.offer_type||(_e.bogo_buy_quantity!==null&&_e.bogo_get_free_quantity!==null?at="bogo":_e.bulk_discount_threshold!==null&&_e.bulk_discount_percentage!==null&&(at="bulk_discount")),E(at),F(_e.bogo_logic_type||"buy_x_get_y_free"),V(_e.bogo_buy_quantity===null||_e.bogo_buy_quantity===void 0?"":_e.bogo_buy_quantity.toString()),B(_e.bogo_get_free_quantity===null||_e.bogo_get_free_quantity===void 0?"":_e.bogo_get_free_quantity.toString()),L(_e.bulk_discount_threshold===null||_e.bulk_discount_threshold===void 0?"":_e.bulk_discount_threshold.toString()),W(_e.bulk_discount_percentage===null||_e.bulk_discount_percentage===void 0?"":_e.bulk_discount_percentage.toString())},Se=_e=>{const at=_e.target.files[0];if(at){A(at);const Ne=new FileReader;Ne.onloadend=()=>{C(Ne.result)},Ne.readAsDataURL(at)}},Ge=(_e,at,Ne,ze,nt,dt)=>{const lt={offerType:_e,bogoBuyQuantity:null,bogoGetFreeQuantity:null,bogoLogicType:null,bulkDiscountThreshold:null,bulkDiscountPercentage:null};return _e==="bogo"?(lt.bogoBuyQuantity=at===""||at===null?null:parseInt(at),lt.bogoGetFreeQuantity=Ne===""||Ne===null?null:parseInt(Ne),lt.bogoLogicType=ze):_e==="bulk_discount"&&(lt.bulkDiscountThreshold=nt===""||nt===null?null:parseInt(nt),lt.bulkDiscountPercentage=dt===""||dt===null?null:parseFloat(dt)),lt},Ke=async()=>{if(!N)return;const _e=T!==null,at=R!==(N.description||"");let Ne=N.offer_type||"none";N.offer_type||(N.bogo_buy_quantity!==null&&N.bogo_get_free_quantity!==null?Ne="bogo":N.bulk_discount_threshold!==null&&N.bulk_discount_percentage!==null&&(Ne="bulk_discount"));const ze=Ge(Ne,N.bogo_buy_quantity,N.bogo_get_free_quantity,N.bogo_logic_type,N.bulk_discount_threshold,N.bulk_discount_percentage),nt=Ge(k,z,U,O,$,I),dt=JSON.stringify(ze)!==JSON.stringify(nt);if(!_e&&!at&&!dt){te.error("No changes to save");return}if(k==="bogo"){if(!z||!U){te.error("Please enter both BOGO buy and free quantities");return}const lt=parseInt(z),Ot=parseInt(U);if(isNaN(lt)||lt<1||isNaN(Ot)||Ot<1){te.error("BOGO quantities must be positive integers");return}}if(k==="bulk_discount"){if(!$||!I){te.error("Please enter both bulk discount threshold and percentage");return}const lt=parseInt($),Ot=parseFloat(I);if(isNaN(lt)||lt<2){te.error("Bulk discount threshold must be an integer of at least 2");return}if(isNaN(Ot)||Ot<0||Ot>100){te.error("Bulk discount percentage must be a number between 0 and 100");return}}Z(!0);try{const lt=sessionStorage.getItem("agcas_member"),Ot=lt?JSON.parse(lt):null;if(!Ot||!Ot.email)throw new Error("User session not found. Please log in again.");const Xt={programId:N.id,userEmail:Ot.email,description:R,offerType:k};if(k==="bogo"?(Xt.bogoBuyQuantity=parseInt(z),Xt.bogoGetFreeQuantity=parseInt(U),Xt.bogoLogicType=O,Xt.bulkDiscountThreshold=null,Xt.bulkDiscountPercentage=null):k==="bulk_discount"?(Xt.bulkDiscountThreshold=parseInt($),Xt.bulkDiscountPercentage=parseFloat(I),Xt.bogoBuyQuantity=null,Xt.bogoGetFreeQuantity=null,Xt.bogoLogicType=null):(Xt.bogoBuyQuantity=null,Xt.bogoGetFreeQuantity=null,Xt.bogoLogicType=null,Xt.bulkDiscountThreshold=null,Xt.bulkDiscountPercentage=null),_e){const Ns=new FileReader;Ns.readAsDataURL(T),await new Promise((ln,Yt)=>{Ns.onload=()=>{Xt.imageBase64=Ns.result,Xt.fileName=T.name,ln()},Ns.onerror=()=>{Yt(new Error("Failed to read image file"))}})}const Ls=await K.functions.invoke("updateProgramDetails",Xt);if(Ls.data&&Ls.data.success)J.invalidateQueries({queryKey:["programs"]}),te.success("Program updated successfully"),_(null),A(null),C(null),M(""),E("none"),F("buy_x_get_y_free"),V(""),B(""),L(""),W("");else throw new Error(Ls.data?Ls.data.error:"Failed to update program")}catch(lt){console.error("Program update error:",lt),te.error("Failed to update program: "+lt.message)}finally{Z(!1)}};if(s==null)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});if(!t||n("page_EventSettings"))return null;const Me=Q.filter(_e=>_e.start_date?new Date(_e.start_date)>new Date:!1),it=Q.filter(_e=>_e.start_date?new Date(_e.start_date)<=new Date:!1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Event Settings"}),e.jsx("p",{className:"text-slate-600",children:"Manage synced events and system configuration"})]}),e.jsxs(X,{onClick:be,disabled:oe.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(kx,{className:`w-4 h-4 mr-2 ${oe.isPending?"animate-spin":""}`}),"Sync Events"]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5 text-amber-600"}),e.jsx($e,{children:"Cancellation Settings"})]})}),e.jsx(ce,{className:"pt-6",children:e.jsx("div",{className:"max-w-2xl space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"cancellation-deadline",children:"Cancellation Deadline (Hours Before Event)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{id:"cancellation-deadline",type:"number",min:"0",step:"1",value:r,onChange:_e=>a(parseInt(_e.target.value)||0),className:"w-32"}),e.jsx("span",{className:"text-sm text-slate-600",children:"hours"}),e.jsxs(X,{onClick:pe,disabled:i,className:"ml-auto",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Members will not be able to cancel tickets within this timeframe before the event starts. Set to 0 to allow cancellations up until the event start time."})]})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsx($e,{children:"Programs"})]})}),e.jsx(ce,{className:"pt-6",children:de.length===0?e.jsx("p",{className:"text-center text-slate-500 py-8",children:"No active programs found"}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(_e=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[_e.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:_e.image_url,alt:_e.name,className:"w-full h-full object-cover"})}),e.jsxs(Re,{className:"border-b border-slate-200",children:[e.jsx($e,{className:"text-base",children:_e.name}),_e.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mt-2",children:_e.description})]}),e.jsx(ce,{className:"pt-4",children:e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>ke(_e),className:"w-full",children:[e.jsx(ri,{className:"w-3 h-3 mr-2"}),"Edit Program"]})})]},_e.id))})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(js,{className:"w-6 h-6 text-blue-600"}),"Upcoming Events (",Me.length,")"]}),Me.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-8 text-center text-slate-500",children:"No upcoming events synced"})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Me.map(_e=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[_e.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:_e.image_url,alt:_e.title,className:"w-full h-full object-cover"})}),e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx($e,{className:"text-base line-clamp-2",children:_e.title}),_e.program_tag&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:_e.program_tag})]})}),e.jsxs(ce,{className:"pt-4 space-y-2",children:[_e.start_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(en,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:At(new Date(_e.start_date),"MMM d, yyyy h:mm a")})]}),_e.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(Tr,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:_e.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(Ds,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:_e.available_seats===0||_e.available_seats===null?"Unlimited seats":`${_e.available_seats} seats available`})]}),_e.ticket_price>0&&e.jsx("div",{className:"pt-2 mt-2 border-t border-slate-200",children:e.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["",_e.ticket_price.toFixed(2)]})}),e.jsx("div",{className:"pt-2",children:e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>je(_e),className:"w-full",children:[e.jsx(ri,{className:"w-3 h-3 mr-2"}),"Edit Event"]})})]})]},_e.id))})]}),it.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(js,{className:"w-6 h-6 text-slate-400"}),"Past Events (",it.length,")"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:it.map(_e=>e.jsxs(le,{className:"border-slate-200 shadow-sm opacity-60",children:[_e.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:_e.image_url,alt:_e.title,className:"w-full h-full object-cover"})}),e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx($e,{className:"text-base line-clamp-2",children:_e.title}),_e.program_tag&&e.jsx(ve,{variant:"outline",className:"shrink-0",children:_e.program_tag})]})}),e.jsxs(ce,{className:"pt-4 space-y-2",children:[_e.start_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(en,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:At(new Date(_e.start_date),"MMM d, yyyy h:mm a")})]}),_e.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(Tr,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:_e.location})]})]})]},_e.id))})]})]})]}),e.jsx(St,{open:!!o,onOpenChange:_e=>{_e||(c(null),d(null),h(null),g(""),v(""))},children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Edit Event Details"})}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:o.title}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update the image, description, and public event link"})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Current Image"}),o.image_url?e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:o.image_url,alt:"Current event image",className:"w-full h-48 object-cover"})}):e.jsxs("div",{className:"border border-slate-200 rounded-lg p-8 text-center bg-slate-50",children:[e.jsx(ri,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No image set"})]})]}),m&&e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"New Image Preview"}),e.jsx("div",{className:"border border-blue-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:m,alt:"Preview",className:"w-full h-48 object-cover"})})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"image-upload",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select New Image (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{id:"image-upload",type:"file",accept:"image/*",onChange:Be,className:"flex-1"}),u&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{d(null),h(null)},children:e.jsx(ws,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"event-description",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Event Description"}),e.jsx(Ht,{id:"event-description",value:p,onChange:_e=>g(_e.target.value),placeholder:"Enter event description...",rows:6,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This description will override the synced description from Backstage"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"event-public-url",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Public Event Page URL"}),e.jsx(he,{id:"event-public-url",type:"url",value:y,onChange:_e=>v(_e.target.value),placeholder:"https://agcasevents.zohobackstage.eu/event/...",className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Paste the public Backstage event link that attendees will use to view event details"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(null),d(null),h(null),g(""),v("")},disabled:j,children:"Cancel"}),e.jsx(X,{onClick:qe,disabled:j,className:"bg-blue-600 hover:bg-blue-700",children:j?e.jsxs(e.Fragment,{children:[e.jsx(kx,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})}),e.jsx(St,{open:!!N,onOpenChange:_e=>{_e||(_(null),A(null),C(null),M(""),E("none"),F("buy_x_get_y_free"),V(""),B(""),L(""),W(""))},children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Edit Program Details"})}),N&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:N.name}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update the image, description, and offer details for this program"})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Current Image"}),N.image_url?e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:N.image_url,alt:"Current program image",className:"w-full h-48 object-cover"})}):e.jsxs("div",{className:"border border-slate-200 rounded-lg p-8 text-center bg-slate-50",children:[e.jsx(ri,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No image set"})]})]}),P&&e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"New Image Preview"}),e.jsx("div",{className:"border border-blue-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:P,alt:"Preview",className:"w-full h-48 object-cover"})})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"program-image-upload",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select New Image (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{id:"program-image-upload",type:"file",accept:"image/*",onChange:Se,className:"flex-1"}),T&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{A(null),C(null)},children:e.jsx(ws,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"program-description",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Program Description"}),e.jsx(Ht,{id:"program-description",value:R,onChange:_e=>M(_e.target.value),placeholder:"Enter program description...",rows:6,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This description will be displayed on the program cards"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-3 block",children:"Offer Type"}),e.jsx(Tm,{value:k,onValueChange:E,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="none"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>E("none"),children:[e.jsx(vl,{value:"none",id:"offer-none",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"offer-none",className:"font-medium cursor-pointer",children:"No Offer"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Standard pricing with no discounts"})]})]}),e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="bogo"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>E("bogo"),children:[e.jsx(vl,{value:"bogo",id:"offer-bogo",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"offer-bogo",className:"font-medium cursor-pointer",children:"BOGO (Buy X Get Y Free)"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Customers receive free tickets with their purchase"})]})]}),e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="bulk_discount"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>E("bulk_discount"),children:[e.jsx(vl,{value:"bulk_discount",id:"offer-bulk",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"offer-bulk",className:"font-medium cursor-pointer",children:"Bulk Discount"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Percentage discount when buying multiple tickets"})]})]})]})})]}),k==="bogo"&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-300",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"BOGO Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bogo-buy-qty",className:"text-xs text-slate-600 mb-1 block",children:"Buy Quantity"}),e.jsx(he,{id:"bogo-buy-qty",type:"number",min:"1",value:z,onChange:_e=>V(_e.target.value),placeholder:"e.g., 4"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bogo-free-qty",className:"text-xs text-slate-600 mb-1 block",children:"Get Free Quantity"}),e.jsx(he,{id:"bogo-free-qty",type:"number",min:"1",value:U,onChange:_e=>B(_e.target.value),placeholder:"e.g., 1"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"BOGO Logic Type"}),e.jsx(Tm,{value:O,onValueChange:F,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vl,{value:"buy_x_get_y_free",id:"logic-legacy",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"logic-legacy",className:"text-sm cursor-pointer",children:"Buy X, Get Y Free (Legacy)"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["User enters ",z||"X","  Receives ",z&&U?parseInt(z)+parseInt(U):"X+Y","  Pays for ",z||"X"]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vl,{value:"enter_total_pay_less",id:"logic-new",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"logic-new",className:"text-sm cursor-pointer",children:"Enter Total, Pay for Fewer"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["User enters ",z&&U?parseInt(z)+parseInt(U):"X+Y","  Receives ",z&&U?parseInt(z)+parseInt(U):"X+Y","  Pays for ",z||"X"]})]})]})]})})]})]}),k==="bulk_discount"&&e.jsx("div",{className:"space-y-4 pt-4 border-t border-slate-300",children:e.jsxs("div",{children:[e.jsx(ee,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Bulk Discount Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bulk-threshold",className:"text-xs text-slate-600 mb-1 block",children:"Minimum Tickets"}),e.jsx(he,{id:"bulk-threshold",type:"number",min:"2",value:$,onChange:_e=>L(_e.target.value),placeholder:"e.g., 10"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bulk-percentage",className:"text-xs text-slate-600 mb-1 block",children:"Discount %"}),e.jsx(he,{id:"bulk-percentage",type:"number",min:"0",max:"100",step:"0.1",value:I,onChange:_e=>W(_e.target.value),placeholder:"e.g., 15"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:$&&I?`Customers buying ${$}+ tickets will receive ${I}% off`:"Enter values to see preview"})]})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{_(null),A(null),C(null),M(""),E("none"),F("buy_x_get_y_free"),V(""),B(""),L(""),W("")},disabled:q,children:"Cancel"}),e.jsx(X,{onClick:Ke,disabled:q,className:"bg-blue-600 hover:bg-blue-700",children:q?e.jsxs(e.Fragment,{children:[e.jsx(kx,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})})]})}function zI({memberInfo:t,memberRole:s}){var F;const[n,r]=Ie.useState(null),[a,i]=Ie.useState(!1),[l,o]=Ie.useState(null),[c,u]=Ie.useState(new Set),[d,m]=Ie.useState(!1),[h,p]=Ie.useState(!1),g=Ie.useRef(!1),y=(s==null?void 0:s.show_tours)!==!1,v=((F=t==null?void 0:t.page_tours_seen)==null?void 0:F.Bookings)===!0;Ie.useEffect(()=>{y&&!v&&t&&!g.current&&(g.current=!0,p(!0),m(!0))},[y,v,t]);const{data:j,isLoading:w}=me({queryKey:["my-bookings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const V=(await K.entities.Member.list()).find(B=>B.email===t.email);return V?(await K.entities.Booking.list("-created_date")).filter(B=>B.member_id===V.id):[]},enabled:!!(t!=null&&t.email),initialData:[]}),{data:N,isLoading:_}=me({queryKey:["events"],queryFn:()=>K.entities.Event.list(),initialData:[]}),T=async()=>{m(!1),p(!1)},A=async()=>{m(!1),p(!1),await C("Bookings")},P=()=>{m(!1),p(!1),setTimeout(()=>{m(!0),p(!0)},10)},C=async z=>{if(t&&!t.is_team_member)try{const U=(await K.entities.Member.list()).find(B=>B.email===t.email);if(U){const B={...U.page_tours_seen||{},[z]:!0};await K.entities.Member.update(U.id,{page_tours_seen:B});const $={...t,page_tours_seen:B};sessionStorage.setItem("agcas_member",JSON.stringify($))}}catch(V){console.error("Failed to update tour status:",V)}},R=z=>{o(z),i(!0)},M=async()=>{if(!l||!l.backstage_order_id){te.error("Unable to cancel: Missing ticket information"),i(!1);return}r(l.id),i(!1);try{const V=(await K.entities.Member.list()).find(B=>B.email===t.email);if(!V){te.error("Unable to verify member identity"),r(null),o(null);return}const U=await K.functions.invoke("cancelTicketViaFlow",{orderId:l.backstage_order_id,cancelReason:"Cancelled by member via iConnect",memberId:V.id});if(U.data.success)u(B=>new Set([...B,l.id])),te.success("Ticket cancelled successfully"),setTimeout(()=>{window.location.reload()},1500);else throw new Error(U.data.error||"Failed to cancel ticket")}catch(z){console.error("Cancellation error:",z),te.error("Failed to cancel ticket. Please try again or contact support.")}finally{r(null),o(null)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const k=w||_,E=j.reduce((z,V)=>{const U=V.booking_reference||"unknown";return z[U]||(z[U]=[]),z[U].push(V),z},{}),O=z=>{switch(z){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[d&&y&&e.jsx(Rc,{tourGroupName:"Bookings",viewId:null,onComplete:T,onDismissPermanently:A,autoShow:h}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Bookings"}),y&&e.jsx(Fc,{onClick:P})]}),e.jsx("p",{className:"text-slate-600",children:"View and manage your event registrations"})]}),k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((z,V)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})]},V))}):j.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(js,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No bookings yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Your event registrations will appear here once you book tickets"}),e.jsx(Wt,{to:Ee("Events"),children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Browse Events"})})]})}):e.jsx("div",{className:"space-y-6",children:Object.entries(E).map(([z,V],U)=>{const B=V[0],$=N.find(I=>I.id===B.event_id);if(!$)return null;const L=$.start_date?new Date($.start_date):null;return e.jsxs(le,{id:U===0?"first-booking-card":void 0,className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($e,{className:"text-xl",children:$.title}),$.program_tag&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 border-blue-200",children:$.program_tag})]}),e.jsxs("div",{className:"space-y-2",children:[L&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(js,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(L,"EEEE, MMMM d, yyyy")})]}),L&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:At(L,"h:mm a")})]}),$.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:$.location})]})]})]}),$.image_url&&e.jsx("img",{src:$.image_url,alt:$.title,className:"w-24 h-24 object-cover rounded-lg"})]})}),e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ds,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-600",children:"Booking Reference:"}),e.jsx("span",{className:"font-semibold text-slate-900",children:z})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:["Attendees (",V.length,")"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:V.map((I,W)=>{const q=I.status==="cancelled"||c.has(I.id);return e.jsxs("div",{id:U===0&&W===0?"first-ticket-card":void 0,className:`flex flex-col gap-2 p-3 rounded-lg border ${q?"bg-red-50/50 border-red-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(Js,{className:"w-4 h-4 text-slate-400 shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1 min-w-0",children:I.attendee_first_name&&I.attendee_last_name?e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm font-medium truncate ${q?"line-through text-slate-500":"text-slate-900"}`,children:[I.attendee_first_name," ",I.attendee_last_name]}),e.jsx("p",{className:`text-xs truncate ${q?"text-slate-400":"text-slate-500"}`,children:I.attendee_email})]}):I.attendee_email?e.jsx("p",{className:`text-sm truncate ${q?"line-through text-slate-500":"text-slate-700"}`,children:I.attendee_email}):e.jsx("p",{className:"text-sm text-slate-500 italic",children:"Pending confirmation"})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(ve,{className:`${O(q?"cancelled":I.status)}`,children:q?"cancelled":I.status}),!q&&I.backstage_order_id&&e.jsx(X,{id:U===0&&W===0?"first-ticket-edit-button":void 0,variant:"ghost",size:"icon",className:"h-6 w-6 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>R(I),disabled:n===I.id,children:e.jsx(Ps,{className:"w-3 h-3"})})]})]}),I.backstage_order_id&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 pl-6",children:[e.jsx(Ds,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"font-mono text-purple-600 bg-purple-50 px-2 py-0.5 rounded",children:I.backstage_order_id})]})]},I.id)})})]}),V.some(I=>I.status==="pending")&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"Some bookings are pending confirmation. Confirmation links have been sent to the attendees' email addresses."})]})]})})]},z)})})]}),e.jsx(yl,{open:a,onOpenChange:i,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Cancel Registration?"}),e.jsx(Li,{children:"Cancelling this registration will make the ticket available for reallocation."})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"No, keep registration"}),e.jsx(Ii,{onClick:M,className:"bg-red-600 hover:bg-red-700",children:"Yes, cancel registration"})]})]})})]})}function $I({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(null),[i,l]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(""),[p,g]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(""),[N,_]=b.useState(""),T=Gt(),A=[{value:"Events",label:"Events"},{value:"BuyProgramTickets",label:"Buy Program Tickets"},{value:"EventDetails",label:"Event Details"},{value:"Bookings",label:"Bookings"},{value:"MyTickets",label:"My Tickets"},{value:"History",label:"History"},{value:"Dashboard",label:"Dashboard"},{value:"Articles",label:"Articles"},{value:"ArticleEditor",label:"Article Editor"},{value:"ArticleView",label:"Article View"},{value:"RoleManagement",label:"Role Management"},{value:"MemberRoleAssignment",label:"Member Role Assignment"},{value:"TeamMemberManagement",label:"Team Member Management"},{value:"DiscountCodeManagement",label:"Discount Code Management"},{value:"EventSettings",label:"Event Settings"},{value:"TourManagement",label:"Tour Management"},{value:"PublicEvents",label:"Public Events"},{value:"PublicAbout",label:"Public About"},{value:"PublicContact",label:"Public Contact"}].sort((Z,J)=>Z.label.localeCompare(J.label)),P=[{value:"none",label:"No specific view (single page tour)",description:"Use this for pages with just one view"},{value:"list",label:"List View",description:"Use for listing/browsing views (e.g., program cards, event list)"},{value:"form",label:"Form View",description:"Use for form/detail views (e.g., purchase form, registration form)"}],C=[{group:"Navigation",label:"Buy Tickets Menu Item",selector:"#buy-tickets-menu-item",page:"all"},{group:"Navigation",label:"Events Menu Item",selector:"a[href*='Events']",page:"all"},{group:"Navigation",label:"Bookings Menu Item",selector:"a[href*='Bookings']",page:"all"},{group:"Navigation",label:"My Tickets Menu Item",selector:"a[href*='MyTickets']",page:"all"},{group:"Buy Program Tickets",label:"Total Tickets Summary Card",selector:"#total-tickets-summary-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"First Program Card",selector:"#first-program-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Quantity Input Field",selector:"#quantity-input",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Payment Options Card",selector:"#payment-options-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Training Vouchers Section",selector:"#training-vouchers-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Training Fund Section",selector:"#training-fund-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Remaining Balance Section",selector:"#remaining-balance-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Amount Due Display",selector:"#amount-due-display",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Account Payment Option",selector:"#account-payment-option",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Card Payment Option",selector:"#card-payment-option",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Purchase Order Field",selector:"#purchase-order-field",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Discount Code Section",selector:"#discount-code-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Complete Purchase Button",selector:"#complete-purchase-button",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Page Tour Button",selector:"#page-tour-button",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"All Program Cards",selector:".grid button",page:"BuyProgramTickets"},{group:"Events",label:"Search Input",selector:"input[placeholder*='Search']",page:"Events"},{group:"Events",label:"First Event Card",selector:".grid > div:first-child",page:"Events"},{group:"Events",label:"Event Cards Grid",selector:".grid",page:"Events"},{group:"Event Details",label:"Event Title",selector:"h1",page:"EventDetails"},{group:"Event Details",label:"Booking Summary - Tickets Card",selector:"#booking-summary-tickets",page:"EventDetails"},{group:"Event Details",label:"Confirm Booking Button",selector:"#confirm-booking-button",page:"EventDetails"},{group:"Event Details",label:"I Am Attending Toggle",selector:"#member-attending-toggle",page:"EventDetails"},{group:"Event Details",label:"Add Colleague Button",selector:"#add-colleague-button",page:"EventDetails"},{group:"Event Details",label:"Colleague Search Input",selector:"#colleague-search-input",page:"EventDetails"},{group:"Event Details",label:"Attendee List",selector:"#attendee-list",page:"EventDetails"},{group:"Bookings",label:"First Booking Card",selector:"#first-booking-card",page:"Bookings"},{group:"Bookings",label:"First Ticket Card",selector:"#first-ticket-card",page:"Bookings"},{group:"Bookings",label:"First Ticket Edit Button",selector:"#first-ticket-edit-button",page:"Bookings"},{group:"Bookings",label:"Bookings Table",selector:"table",page:"Bookings"},{group:"Bookings",label:"First Booking Row",selector:"table tbody tr:first-child",page:"Bookings"},{group:"My Tickets",label:"First My Ticket Card",selector:"#first-my-ticket-card",page:"MyTickets"},{group:"My Tickets",label:"First Ticket Status Badge",selector:"#first-ticket-status-badge",page:"MyTickets"},{group:"My Tickets",label:"Add to Calendar Button",selector:"#add-to-calendar-button",page:"MyTickets"},{group:"My Tickets",label:"Cancel Ticket Button",selector:"#cancel-ticket-button",page:"MyTickets"},{group:"My Tickets",label:"Go to Event Page Button",selector:"#go-to-event-page-button",page:"MyTickets"},{group:"General",label:"Page Heading (H1)",selector:"h1",page:"all"},{group:"General",label:"Main Content Area",selector:"main",page:"all"},{group:"General",label:"Primary Action Button",selector:"button[type='submit']",page:"all"},{group:"General",label:"First Card",selector:".grid > div:first-child",page:"all"},{group:"Custom",label:"Enter Custom Selector...",selector:"custom",page:"all"}],R=()=>{const Z=(r==null?void 0:r.page_name)||(s==null?void 0:s.page_name);return Z?C.filter(J=>J.page==="all"||J.page===Z):C},M=()=>R().reduce((J,Q)=>(J[Q.group]||(J[Q.group]=[]),J[Q.group].push(Q),J),{}),{data:k,isLoading:E}=me({queryKey:["tourGroups"],queryFn:()=>K.entities.TourGroup.list(),initialData:[]}),{data:O,isLoading:F}=me({queryKey:["tourSteps",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await K.entities.TourStep.list()).filter(J=>J.tour_group_id===s.id).sort((J,Q)=>J.step_order-Q.step_order):[],enabled:!!(s!=null&&s.id),initialData:[]}),z=Fe({mutationFn:Z=>K.entities.TourGroup.create(Z),onSuccess:()=>{T.invalidateQueries({queryKey:["tourGroups"]}),c(!1),a(null),te.success("Tour group created")}}),V=Fe({mutationFn:({id:Z,data:J})=>K.entities.TourGroup.update(Z,J),onSuccess:()=>{T.invalidateQueries({queryKey:["tourGroups"]}),c(!1),a(null),te.success("Tour group updated")}}),U=Fe({mutationFn:Z=>K.entities.TourGroup.delete(Z),onSuccess:()=>{T.invalidateQueries({queryKey:["tourGroups"]}),n(null),te.success("Tour group deleted")}}),B=Fe({mutationFn:Z=>K.entities.TourStep.create(Z),onSuccess:()=>{T.invalidateQueries({queryKey:["tourSteps"]}),d(!1),l(null),te.success("Tour step created")}}),$=Fe({mutationFn:({id:Z,data:J})=>K.entities.TourStep.update(Z,J),onSuccess:()=>{T.invalidateQueries({queryKey:["tourSteps"]}),d(!1),l(null),te.success("Tour step updated")}}),L=Fe({mutationFn:Z=>K.entities.TourStep.delete(Z),onSuccess:()=>{T.invalidateQueries({queryKey:["tourSteps"]}),te.success("Tour step deleted")}});if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(le,{className:"border-red-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-red-700",children:"Only administrators can manage tours."})]})})})});const I=Z=>{Z.preventDefault();const J=new FormData(Z.target),Q=J.get("view_id");let G=null;j&&(j==="custom"?G=N||null:G=j);const ae={name:J.get("name"),page_name:J.get("page_name"),view_id:Q==="none"?null:Q,description:J.get("description")||null,is_active:J.get("is_active")==="on",mandatory_selector:G,mandatory_selector_missing_message:J.get("mandatory_selector_missing_message")||null};r!=null&&r.id?V.mutate({id:r.id,data:ae}):z.mutate(ae)},W=Z=>{Z.preventDefault();let J=null;if(!y&&(p==="custom"?J=m:J=p,!J)){te.error("Please select or enter a target selector, or mark this as a welcome step.");return}const Q=new FormData(Z.target),G={tour_group_id:s.id,step_order:parseInt(Q.get("step_order")),target_selector:J,title:Q.get("title"),content:Q.get("content"),placement:Q.get("placement"),mode:Q.get("mode"),size:Q.get("size")||"medium",gap:parseInt(Q.get("gap"))||40};i!=null&&i.id?$.mutate({id:i.id,data:G}):B.mutate(G)},q=async(Z,J)=>{const Q=O.findIndex(de=>de.id===Z);if(Q===-1||J==="up"&&Q===0||J==="down"&&Q===O.length-1)return;const G=J==="up"?Q-1:Q+1,ae=O[Q],se=O[G];await K.entities.TourStep.update(ae.id,{step_order:se.step_order}),await K.entities.TourStep.update(se.id,{step_order:ae.step_order}),T.invalidateQueries({queryKey:["tourSteps"]})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Tour Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage guided tours for your app pages"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(le,{className:"lg:col-span-1 border-slate-200",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($e,{className:"text-lg",children:"Tour Groups"}),e.jsxs(X,{size:"sm",onClick:()=>{a(null),c(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"New"]})]})}),e.jsx(ce,{className:"p-4",children:E?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading..."}):k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ea,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"No tour groups yet"})]}):e.jsx("div",{className:"space-y-2",children:k.map(Z=>e.jsx("button",{onClick:()=>n(Z),className:`w-full text-left p-3 rounded-lg border-2 transition-all ${(s==null?void 0:s.id)===Z.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:Z.name}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[Z.page_name,Z.view_id?` (${Z.view_id})`:""]})]}),e.jsx(ve,{variant:Z.is_active?"default":"secondary",className:"shrink-0",children:Z.is_active?"Active":"Inactive"})]})},Z.id))})})]}),e.jsxs(le,{className:"lg:col-span-2 border-slate-200",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($e,{className:"text-lg",children:s?`Steps: ${s.name}`:"Select a Tour Group"}),s&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{a(s),c(!0)},children:[e.jsx(ci,{className:"w-4 h-4 mr-1"}),"Edit Group"]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{confirm("Delete this tour group and all its steps?")&&U.mutate(s.id)},className:"text-red-600 hover:text-red-700",children:[e.jsx(is,{className:"w-4 h-4 mr-1"}),"Delete"]}),e.jsxs(X,{size:"sm",onClick:()=>{l(null),v(!1),g(""),h(""),d(!0)},className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"Add Step"]})]})]})}),e.jsx(ce,{className:"p-4",children:s?F?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading steps..."}):O.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"No steps yet for this tour"}),e.jsxs(X,{onClick:()=>{l(null),v(!1),g(""),h(""),d(!0)},className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Step"]})]}):e.jsx("div",{className:"space-y-3",children:O.map((Z,J)=>e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>q(Z.id,"up"),disabled:J===0,children:e.jsx(z6,{className:"w-4 h-4"})}),e.jsx(ve,{variant:"outline",className:"w-6 h-6 flex items-center justify-center p-0",children:Z.step_order}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>q(Z.id,"down"),disabled:J===O.length-1,children:e.jsx(q6,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:Z.title}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:Z.content}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Z.target_selector?e.jsx(ve,{variant:"outline",className:"text-xs",children:Z.target_selector}):e.jsx(ve,{variant:"default",className:"text-xs bg-blue-100 text-blue-700 border-blue-200",children:"Welcome Step"}),e.jsx(ve,{variant:"outline",className:"text-xs",children:Z.placement}),e.jsx(ve,{variant:"outline",className:"text-xs",children:Z.mode}),Z.gap!==void 0&&e.jsxs(ve,{variant:"outline",className:"text-xs",children:["Gap: ",Z.gap,"px"]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{if(l(Z),Z.target_selector===null)v(!0),g(""),h("");else{v(!1);const Q=C.find(G=>G.selector===Z.target_selector);Q?(g(Q.selector),h("")):(g("custom"),h(Z.target_selector))}d(!0)},children:e.jsx(ci,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this step?")&&L.mutate(Z.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(is,{className:"w-4 h-4"})})]})]})},Z.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ea,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Select a tour group to view and edit its steps"})]})})]})]}),e.jsx(St,{open:o,onOpenChange:Z=>{c(Z),Z?r&&r.mandatory_selector?C.find(Q=>Q.selector===r.mandatory_selector)?(w(r.mandatory_selector),_("")):(w("custom"),_(r.mandatory_selector)):(w(""),_("")):(w(""),_(""),a(null))},children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:r?"Edit Tour Group":"New Tour Group"})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",name:"name",defaultValue:r==null?void 0:r.name,placeholder:"e.g., Buy Program Tickets - List View",required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"page_name",children:"Page Name *"}),e.jsxs(He,{name:"page_name",defaultValue:r==null?void 0:r.page_name,required:!0,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a page"})}),e.jsx(Ve,{children:A.map(Z=>e.jsx(re,{value:Z.value,children:Z.label},Z.value))})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"The page this tour will appear on"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"view_id",children:"View ID"}),e.jsxs(He,{name:"view_id",defaultValue:(r==null?void 0:r.view_id)||"none",children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a view type"})}),e.jsx(Ve,{children:P.map(Z=>e.jsx(re,{value:Z.value,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:Z.label}),e.jsx("span",{className:"text-xs text-slate-500",children:Z.description})]})},Z.value))})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use this to create different tours for different views of the same page"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Ht,{id:"description",name:"description",defaultValue:r==null?void 0:r.description,placeholder:"What does this tour cover?",rows:3})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[e.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Tour Requirements (Optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"mandatory_selector",children:"Mandatory Element CSS Selector"}),e.jsxs(He,{value:j===null?"":j,onValueChange:Z=>{w(Z),Z!=="custom"&&_("")},children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select an element (optional)"})}),e.jsxs(Ve,{className:"max-h-[400px]",children:[e.jsx(re,{value:null,children:"None (no mandatory element)"}),Object.entries(M()).map(([Z,J])=>e.jsxs(Ie.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-slate-500 bg-slate-50 sticky top-0",children:Z}),J.map(Q=>e.jsxs(re,{value:Q.selector,children:[Q.label,Q.selector!=="custom"&&e.jsx("span",{className:"text-xs text-slate-400 ml-2",children:Q.selector})]},Q.selector))]},Z))]})]}),j==="custom"&&e.jsx("div",{className:"mt-2",children:e.jsx(he,{placeholder:"Enter CSS selector (e.g., #my-element, .my-class)",value:N,onChange:Z=>_(Z.target.value)})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"If specified, this element must be present on the page for the tour to start"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"mandatory_selector_missing_message",children:"Message if Element Missing"}),e.jsx(Ht,{id:"mandatory_selector_missing_message",name:"mandatory_selector_missing_message",defaultValue:r==null?void 0:r.mandatory_selector_missing_message,placeholder:"e.g., Please add at least one program before viewing this tour.",rows:2}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Custom message shown when the mandatory element is not found"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{id:"is_active",name:"is_active",defaultChecked:(r==null?void 0:r.is_active)!==!1}),e.jsx(ee,{htmlFor:"is_active",children:"Active"})]}),e.jsxs(qt,{children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:r?"Update":"Create"})]})]})]})}),e.jsx(St,{open:u,onOpenChange:Z=>{d(Z),Z||(v(!1),g(""),h(""))},children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{children:i?"Edit Tour Step":"New Tour Step"})}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"step_order",children:"Step Order *"}),e.jsx(he,{id:"step_order",name:"step_order",type:"number",min:"1",defaultValue:(i==null?void 0:i.step_order)||O.length+1,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"is_welcome_step",checked:y,onChange:Z=>{v(Z.target.checked),Z.target.checked&&(g(""),h(""))},className:"h-4 w-4 rounded border-gray-300"}),e.jsx(ee,{htmlFor:"is_welcome_step",className:"cursor-pointer flex-1",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:"Welcome/Info Step"}),e.jsx("div",{className:"text-xs text-blue-700",children:"No element to highlight - displays centered popup with 'don't show again' option"})]})})]}),y&&e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"size",children:"Card Size"}),e.jsxs(He,{name:"size",defaultValue:(i==null?void 0:i.size)||"medium",children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"small",children:"Small (320px)"}),e.jsx(re,{value:"medium",children:"Medium (384px)"}),e.jsx(re,{value:"large",children:"Large (512px)"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Choose the width of the welcome card"})]}),!y&&e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"target_selector",children:"Target Element *"}),e.jsxs(He,{value:p||"",onValueChange:Z=>{g(Z),Z!=="custom"&&h("")},children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a target element"})}),e.jsx(Ve,{className:"max-h-[400px]",children:Object.entries(M()).map(([Z,J])=>e.jsxs(Ie.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-slate-500 bg-slate-50 sticky top-0",children:Z}),J.map(Q=>e.jsxs(re,{value:Q.selector,children:[Q.label,Q.selector!=="custom"&&e.jsx("span",{className:"text-xs text-slate-400 ml-2",children:Q.selector})]},Q.selector))]},Z))})]}),p==="custom"&&e.jsx("div",{className:"mt-2",children:e.jsx(he,{placeholder:"Enter CSS selector (e.g., #my-element, .my-class)",value:m,onChange:Z=>h(Z.target.value)})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s!=null&&s.page_name?`Showing elements for "${s.page_name}" page and general elements`:'Select a common element or choose "Custom" to enter your own CSS selector'})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",name:"title",defaultValue:i==null?void 0:i.title,placeholder:y?"e.g., Welcome to Buy Program Tickets":"e.g., Select a Program",required:!0})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"content",children:"Content *"}),e.jsx(Ht,{id:"content",name:"content",defaultValue:i==null?void 0:i.content,placeholder:y?"This is your first time here! Let us guide you through the process.":"Explain what the user should do or provide welcome information...",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"placement",children:"Placement"}),e.jsxs(He,{name:"placement",defaultValue:(i==null?void 0:i.placement)||"bottom",children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"top",children:"Top"}),e.jsx(re,{value:"bottom",children:"Bottom"}),e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"right",children:"Right"})]})]}),y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Not used for welcome steps (always centered)"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"mode",children:"Mode"}),e.jsxs(He,{name:"mode",defaultValue:(i==null?void 0:i.mode)||"standard",children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"standard",children:"Standard"}),e.jsx(re,{value:"interactive",children:"Interactive"})]})]}),y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Not used for welcome steps (always standard)"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"gap",children:"Spacing Gap (pixels)"}),e.jsx(he,{id:"gap",name:"gap",type:"number",min:"0",max:"100",defaultValue:(i==null?void 0:i.gap)||40,placeholder:"40"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Distance between the popup and the target element (or screen edge for welcome steps). Default: 40px"})]}),e.jsxs(qt,{children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>{d(!1),v(!1),g(""),h("")},children:"Cancel"}),e.jsx(X,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:i?"Update":"Create"})]})]})]})})]})})}function UI({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,memberRole:r,reloadMemberInfo:a}){var U;const[i,l]=b.useState(null),[o,c]=b.useState(null),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,g]=b.useState(null),[y,v]=b.useState(!1),[j,w]=b.useState(!1),N=(r==null?void 0:r.show_tours)!==!1,_=((U=t==null?void 0:t.page_tours_seen)==null?void 0:U.History)===!0;b.useEffect(()=>{N&&!_&&t&&(w(!0),v(!0))},[N,_,t]);const{data:T,isLoading:A}=me({queryKey:["program-transactions",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await K.entities.ProgramTicketTransaction.list("-created_date")).filter($=>$.organization_id===s.id):[],enabled:!!(s!=null&&s.id),initialData:[]});if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const P=s.program_ticket_balances||{},C=Object.keys(P).sort(),R=i?T.filter(B=>B.program_name===i):T,M=async B=>{if(t&&!t.is_team_member)try{const L=(await K.entities.Member.list()).find(I=>I.email===t.email);if(L){const I={...L.page_tours_seen||{},[B]:!0};await K.entities.Member.update(L.id,{page_tours_seen:I});const W={...t,page_tours_seen:I};sessionStorage.setItem("agcas_member",JSON.stringify(W)),a&&a()}}catch($){console.error("Failed to update tour status:",$)}},k=async()=>{v(!1),w(!1)},E=async()=>{v(!1),w(!1),await M("History")},O=()=>{v(!1),w(!1),setTimeout(()=>{v(!0),w(!0)},10)},F=async B=>{if(!B.xero_invoice_pdf_uri){te.error("Invoice not available");return}c(B.id);try{const $=await K.integrations.Core.CreateFileSignedUrl({file_uri:B.xero_invoice_pdf_uri,expires_in:300});if($.signed_url){const I=await(await fetch($.signed_url)).arrayBuffer(),W=new Blob([I],{type:"application/pdf"}),Z=`${URL.createObjectURL(W)}#view=Fit&navpanes=0&toolbar=0`;h(Z),g(B.xero_invoice_number),d(!0)}else te.error("Failed to generate invoice link")}catch($){console.error("Error loading invoice:",$),te.error("Failed to load invoice")}finally{c(null)}},z=()=>{if(!m)return;const B=document.createElement("a");B.href=m,B.download=`invoice-${p||"download"}.pdf`,document.body.appendChild(B),B.click(),document.body.removeChild(B),te.success("Downloading invoice...")},V=B=>{if(!B&&m){const $=m.split("#")[0];URL.revokeObjectURL($),h(null),g(null)}d(B)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[y&&N&&e.jsx(Rc,{tourGroupName:"History",viewId:null,onComplete:k,onDismissPermanently:E,autoShow:j}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",id:"history-page-title",children:"History"}),N&&e.jsx(Fc,{onClick:O})]}),e.jsx("p",{className:"text-slate-600",children:"View your organisation's program ticket balances and transaction history"})]}),C.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",id:"program-balance-cards",children:C.map(B=>e.jsx("button",{onClick:()=>l(i===B?null:B),className:"text-left",children:e.jsxs(le,{className:`border-2 transition-all hover:shadow-lg cursor-pointer ${i===B?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:`w-5 h-5 ${i===B?"text-purple-600":"text-slate-400"}`}),e.jsx($e,{className:"text-lg",children:B})]}),i===B&&e.jsx(ve,{className:"bg-purple-600",children:"Selected"})]})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:P[B]}),e.jsx("span",{className:"text-slate-600",children:"tickets"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Click to view transactions"})]})]})},B))}),e.jsxs(le,{className:"border-slate-200 shadow-sm",id:"transaction-history-card",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{className:"flex items-center gap-2",children:i?e.jsxs(e.Fragment,{children:["Transaction History: ",i,e.jsx("button",{onClick:()=>l(null),className:"ml-auto text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}):"All Transactions"})}),e.jsx(ce,{className:"pt-6",children:A?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading transactions..."}):R.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ds,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No transactions yet"})]}):e.jsx("div",{className:"space-y-3",children:R.map(B=>{let $,L,I;B.transaction_type==="purchase"?($=Vc,L="bg-green-100 text-green-600",I="Purchase"):B.transaction_type==="refund"?($=Yy,L="bg-blue-100 text-blue-600",I="Return to balance"):($=js,L="bg-purple-100 text-purple-600",I="Used for Event");const W=$;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:`p-3 rounded-lg ${L}`,children:e.jsx(W,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:I}),e.jsx(ve,{variant:"outline",className:"text-xs",children:B.program_name})]}),B.transaction_type==="purchase"?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["PO: ",B.purchase_order_number,"  ",B.quantity," ticket",B.quantity>1?"s":""]}),B.xero_invoice_number&&e.jsxs("p",{className:"text-xs text-slate-500",children:["Invoice: ",B.xero_invoice_number]})]}):B.transaction_type==="refund"?e.jsxs("p",{className:"text-sm text-slate-600",children:[B.event_name,"  ",B.quantity," ticket",B.quantity>1?"s":""," returned",B.booking_reference&&`  ${B.booking_reference}`]}):e.jsxs("p",{className:"text-sm text-slate-600",children:[B.event_name,"  ",B.quantity," ticket",B.quantity>1?"s":"",B.booking_reference&&`  ${B.booking_reference}`]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:At(new Date(B.created_date),"MMM d, yyyy  h:mm a")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`flex items-center gap-1 font-semibold ${B.transaction_type==="purchase"?"text-green-600":B.transaction_type==="refund"?"text-blue-600":"text-purple-600"}`,children:[B.transaction_type==="purchase"?e.jsx(Yy,{className:"w-4 h-4"}):B.transaction_type==="refund"?e.jsx(Yy,{className:"w-4 h-4"}):e.jsx(mH,{className:"w-4 h-4"}),e.jsxs("span",{children:[B.transaction_type==="usage"?"-":"+",B.quantity]})]}),B.xero_invoice_pdf_uri&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>F(B),disabled:o===B.id,className:"shrink-0",children:o===B.id?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Invoice"]})})]})]},B.id)})})})]})]}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ds,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Program Tickets Yet"}),e.jsx("p",{className:"text-slate-600",children:"Purchase program tickets to get started"})]})})]}),e.jsx(St,{open:u,onOpenChange:V,children:e.jsxs(Nt,{className:"max-w-4xl h-[90vh] p-0 flex flex-col",children:[e.jsx(Ct,{className:"p-6 pb-4 border-b border-slate-200 shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(kt,{children:["Invoice ",p||"Preview"]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:z,className:"gap-2",children:[e.jsx(Qn,{className:"w-4 h-4"}),"Download"]})]})}),e.jsx("div",{className:"flex-1 min-h-0",children:m?e.jsx("iframe",{src:m,className:"w-full h-full border-0",title:"Invoice PDF"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-slate-400"})})})]})})]})}function Zue({organizationId:t,organizationName:s,programNameFilter:n,memberInfo:r,onClose:a,onTransactionUpdated:i}){const[l,o]=b.useState(null),[c,u]=b.useState(null),[d,m]=b.useState(""),h=Gt(),{data:p,isLoading:g}=me({queryKey:["organization-transactions",t,n],queryFn:async()=>{let R=(await K.entities.ProgramTicketTransaction.list()).filter(M=>M.organization_id===t);return n&&n!=="all"&&(R=R.filter(M=>M.program_name===n)),R.sort((M,k)=>new Date(k.created_date).getTime()-new Date(M.created_date).getTime())},enabled:!!t,initialData:[]}),y=Fe({mutationFn:async({transactionId:C,quantity:R})=>(await K.functions.invoke("cancelProgramTicketTransaction",{transactionId:C,quantityToCancel:R,adminEmail:r.email})).data,onSuccess:C=>{h.invalidateQueries({queryKey:["organization-transactions"]}),h.invalidateQueries({queryKey:["all-transactions"]}),h.invalidateQueries({queryKey:["all-organizations"]}),o(null),m(""),te.success(C.message||"Transaction cancelled successfully"),i&&i()},onError:C=>{var M,k;const R=((k=(M=C.response)==null?void 0:M.data)==null?void 0:k.error)||C.message||"Failed to cancel transaction";te.error(R)}}),v=Fe({mutationFn:async({transactionId:C})=>(await K.functions.invoke("reinstateProgramTicketTransaction",{transactionId:C,adminEmail:r.email})).data,onSuccess:C=>{h.invalidateQueries({queryKey:["organization-transactions"]}),h.invalidateQueries({queryKey:["all-transactions"]}),h.invalidateQueries({queryKey:["all-organizations"]}),u(null),te.success(C.message||"Transaction reinstated successfully"),i&&i()},onError:C=>{var M,k;const R=((k=(M=C.response)==null?void 0:M.data)==null?void 0:k.error)||C.message||"Failed to reinstate transaction";te.error(R)}}),j=C=>{const R=C.original_quantity||C.quantity,M=C.cancelled_quantity||0,k=R-M;o(C),m(k.toString())},w=()=>{const C=parseInt(d);if(isNaN(C)||C<=0){te.error("Please enter a valid quantity");return}const R=l.original_quantity||l.quantity,M=l.cancelled_quantity||0,k=R-M;if(C>k){te.error(`Cannot cancel more than ${k} ticket(s)`);return}y.mutate({transactionId:l.id,quantity:C})},N=C=>{u(C)},_=()=>{v.mutate({transactionId:c.id})},T=async C=>{if(!C.xero_invoice_pdf_uri){te.error("No invoice PDF available");return}try{const R=await K.integrations.Core.CreateFileSignedUrl({file_uri:C.xero_invoice_pdf_uri,expires_in:300});R.signed_url&&window.open(R.signed_url,"_blank")}catch(R){te.error("Failed to download invoice"),console.error("Invoice download error:",R)}},A=C=>{switch(C){case"purchase":return"bg-green-100 text-green-700";case"usage":return"bg-blue-100 text-blue-700";case"refund":return"bg-purple-100 text-purple-700";case"cancellation_void":return"bg-red-100 text-red-700";case"reinstatement":return"bg-emerald-100 text-emerald-700";default:return"bg-slate-100 text-slate-700"}},P=C=>{switch(C){case"purchase":return"Purchase";case"usage":return"Usage";case"refund":return"Refund";case"cancellation_void":return"Cancelled";case"reinstatement":return"Reinstated";default:return C}};return e.jsxs(e.Fragment,{children:[e.jsx(St,{open:!0,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsxs(kt,{className:"text-xl",children:["Transaction History - ",s,n&&n!=="all"&&e.jsxs("span",{className:"text-slate-500 font-normal ml-2",children:["(",n,")"]})]})}),g?e.jsx("div",{className:"py-12 text-center text-slate-600",children:"Loading transactions..."}):p.length===0?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No transactions found"})}):e.jsx("div",{className:"space-y-3",children:p.map(C=>{const R=C.original_quantity||C.quantity||0,M=C.cancelled_quantity||0,k=R-M,E=C.transaction_type==="purchase",O=!C.status||C.status==="active",F=C.status==="cancelled",z=E&&O&&k>0,V=E&&M>0;return console.log("[OrganizationTransactionsModal] Transaction:",{id:C.id,type:C.transaction_type,status:C.status,originalQty:R,cancelledQty:M,remainingQty:k,isPurchase:E,isActive:O,isCancelled:F,canBeCancelled:z,canBeReinstated:V}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx(ve,{className:A(C.transaction_type),children:P(C.transaction_type)}),C.status==="cancelled"&&e.jsx(ve,{className:"bg-red-100 text-red-700",children:"Fully Cancelled"}),E&&M>0&&C.status!=="cancelled"&&e.jsx(ve,{className:"bg-amber-100 text-amber-700",children:"Partially Cancelled"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Program:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.program_name})]}),E?e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Quantity:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:M>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-600",children:R}),e.jsx("span",{className:"text-slate-400 mx-1",children:"-"}),e.jsx("span",{className:"text-red-600",children:M}),e.jsx("span",{className:"text-slate-400 mx-1",children:"="}),e.jsx("span",{className:"text-blue-600",children:k})]}):R})]}):e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Quantity:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.quantity})]}),C.member_email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Member:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.member_email})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"text-slate-600",children:At(new Date(C.created_date),"MMM d, yyyy HH:mm")})]}),C.purchase_order_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"PO Number:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.purchase_order_number})]}),C.booking_reference&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Booking Ref:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.booking_reference})]}),C.event_name&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Event:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.event_name})]}),C.xero_invoice_number&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-600",children:"Invoice:"}),e.jsx("span",{className:"font-medium text-slate-900",children:C.xero_invoice_number}),C.xero_invoice_pdf_uri&&e.jsx(X,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>T(C),children:e.jsx(Qn,{className:"w-3 h-3"})})]}),C.total_cost_before_discount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Value:"}),e.jsxs("span",{className:"font-medium text-slate-900 ml-2",children:["",C.total_cost_before_discount.toFixed(2)]})]})]}),C.notes&&e.jsx("div",{className:"mt-2 text-sm text-slate-600 italic",children:C.notes})]}),e.jsxs("div",{className:"flex-shrink-0 flex gap-2",children:[z&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>j(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50 whitespace-nowrap",children:"Cancel Tickets"}),V&&e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>N(C),className:"text-green-600 hover:text-green-700 hover:bg-green-50 whitespace-nowrap",children:[e.jsx(K4,{className:"w-3 h-3 mr-1"}),"Reinstate"]})]})]})})},C.id)})}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:a,children:"Close"})})]})}),l&&e.jsx(St,{open:!0,onOpenChange:()=>o(null),children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Cancel Tickets"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-amber-900 mb-1",children:"Important:"}),e.jsx("p",{className:"text-amber-800",children:"This will void the selected tickets from this purchase. The tickets will be removed from the organization's available balance. You can reinstate them later if needed."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Original Purchase:"}),e.jsxs("span",{className:"font-semibold text-slate-900 ml-2",children:[l.original_quantity||l.quantity," ticket(s)"]})]}),(l.cancelled_quantity||0)>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Already Cancelled:"}),e.jsxs("span",{className:"font-semibold text-red-600 ml-2",children:[l.cancelled_quantity," ticket(s)"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Available to Cancel:"}),e.jsxs("span",{className:"font-semibold text-blue-600 ml-2",children:[(l.original_quantity||l.quantity)-(l.cancelled_quantity||0)," ticket(s)"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"cancel-quantity",children:"Quantity to Cancel *"}),e.jsx(he,{id:"cancel-quantity",type:"number",min:"1",max:(l.original_quantity||l.quantity)-(l.cancelled_quantity||0),value:d,onChange:C=>m(C.target.value),placeholder:"Enter number of tickets to cancel"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>o(null),disabled:y.isPending,children:"Cancel"}),e.jsx(X,{onClick:w,disabled:y.isPending||!d,className:"bg-red-600 hover:bg-red-700",children:y.isPending?"Cancelling...":"Confirm Cancellation"})]})]})}),c&&e.jsx(St,{open:!0,onOpenChange:()=>u(null),children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Reinstate Cancelled Tickets"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K4,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-green-900 mb-1",children:"Reinstate Transaction"}),e.jsx("p",{className:"text-green-800",children:"This will reverse the cancellation and restore the tickets back to the organization's available balance."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Program:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:c.program_name})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Tickets to Reinstate:"}),e.jsxs("span",{className:"font-semibold text-green-600 ml-2",children:[c.cancelled_quantity||0," ticket(s)"]})]}),c.purchase_order_number&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"PO Number:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:c.purchase_order_number})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>u(null),disabled:v.isPending,children:"Cancel"}),e.jsx(X,{onClick:_,disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:v.isPending?"Reinstating...":"Confirm Reinstatement"})]})]})})]})}function VI({isAdmin:t,memberRole:s,memberInfo:n,isFeatureExcluded:r}){const[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,u]=b.useState("tickets_desc"),[d,m]=b.useState(null);Ie.useEffect(()=>{s!=null&&(!t||r("page_TicketSalesAnalytics"))&&(window.location.href=Ee("Events"))},[t,s,r]);const{data:h,isLoading:p}=me({queryKey:["all-transactions"],queryFn:()=>K.entities.ProgramTicketTransaction.list(),initialData:[]}),{data:g,isLoading:y}=me({queryKey:["all-organizations"],queryFn:()=>K.entities.Organization.list(),initialData:[]}),v=p||y,j=b.useMemo(()=>[...new Set(h.map(P=>P.program_name).filter(Boolean))].sort(),[h]),w=b.useMemo(()=>{const A=new Map;return(l==="all"?h:h.filter(C=>C.program_name===l)).forEach(C=>{const R=C.organization_id;if(!R)return;if(!A.has(R)){const k=g.find(E=>E.id===R);A.set(R,{organization_id:R,organization_name:(k==null?void 0:k.name)||"Unknown Organization",total_tickets_purchased:0,total_tickets_used:0,total_tickets_refunded:0,net_tickets:0,total_sales_value:0,programs:new Set,transaction_count:0})}const M=A.get(R);if(M.transaction_count++,C.program_name&&M.programs.add(C.program_name),C.transaction_type==="purchase"){const k=C.original_quantity||C.quantity,E=C.cancelled_quantity||0,O=k-E;M.total_tickets_purchased+=O,M.net_tickets+=O;const F=C.total_cost_before_discount||0;M.total_sales_value+=F}else C.transaction_type==="refund"?(M.total_tickets_refunded+=C.quantity||0,M.net_tickets+=C.quantity||0):C.transaction_type==="usage"&&(M.total_tickets_used+=C.quantity||0)}),Array.from(A.values())},[h,g,l]),N=b.useMemo(()=>{let A=w.filter(P=>P.organization_name.toLowerCase().includes(a.toLowerCase()));return A.sort((P,C)=>{switch(c){case"tickets_desc":return C.total_tickets_purchased-P.total_tickets_purchased;case"tickets_asc":return P.total_tickets_purchased-C.total_tickets_purchased;case"value_desc":return C.total_sales_value-P.total_sales_value;case"value_asc":return P.total_sales_value-C.total_sales_value;case"name_asc":return P.organization_name.localeCompare(C.organization_name);case"name_desc":return C.organization_name.localeCompare(P.organization_name);default:return 0}}),A},[w,a,c]),_=b.useMemo(()=>N.reduce((A,P)=>({tickets:A.tickets+P.total_tickets_purchased,value:A.value+P.total_sales_value,organizations:A.organizations+1}),{tickets:0,value:0,organizations:0}),[N]),T=()=>{const A=["Organization","Tickets Purchased","Tickets Used","Tickets Refunded","Net Tickets","Sales Value ()","Programs","Transactions"],P=N.map(E=>[E.organization_name,E.total_tickets_purchased,E.total_tickets_used,E.total_tickets_refunded,E.net_tickets,E.total_sales_value.toFixed(2),Array.from(E.programs).join("; "),E.transaction_count]),C=[A.join(","),...P.map(E=>E.map(O=>`"${O}"`).join(","))].join(`
`),R=new Blob([C],{type:"text/csv"}),M=window.URL.createObjectURL(R),k=document.createElement("a");k.href=M,k.download=`ticket-sales-${At(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(M),k.remove()};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||r("page_TicketSalesAnalytics")?null:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Eu,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Ticket Sales Analytics"})]}),e.jsx("p",{className:"text-slate-600",children:"Overview of ticket sales across all organizations"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"pb-3",children:e.jsx($e,{className:"text-sm font-medium text-slate-600",children:"Total Organizations"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-3xl font-bold text-slate-900",children:_.organizations})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"pb-3",children:e.jsx($e,{className:"text-sm font-medium text-slate-600",children:"Total Tickets Sold"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-3xl font-bold text-slate-900",children:_.tickets})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"pb-3",children:e.jsx($e,{className:"text-sm font-medium text-slate-600",children:"Total Sales Value"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(TH,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-3xl font-bold text-slate-900",children:["",_.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search organizations...",value:a,onChange:A=>i(A.target.value),className:"pl-10"})]}),e.jsxs(He,{value:l,onValueChange:o,children:[e.jsx(Ue,{className:"w-full md:w-[200px]",children:e.jsx(Ye,{placeholder:"Filter by program"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Programs"}),j.map(A=>e.jsx(re,{value:A,children:A},A))]})]}),e.jsxs(He,{value:c,onValueChange:u,children:[e.jsx(Ue,{className:"w-full md:w-[200px]",children:e.jsx(Ye,{placeholder:"Sort by"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"tickets_desc",children:"Tickets (High to Low)"}),e.jsx(re,{value:"tickets_asc",children:"Tickets (Low to High)"}),e.jsx(re,{value:"value_desc",children:"Value (High to Low)"}),e.jsx(re,{value:"value_asc",children:"Value (Low to High)"}),e.jsx(re,{value:"name_asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name_desc",children:"Name (Z-A)"})]})]}),e.jsxs(X,{variant:"outline",onClick:T,className:"gap-2",disabled:N.length===0,children:[e.jsx(Qn,{className:"w-4 h-4"}),"Export CSV"]})]})})}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{children:"Sales by Organization"})}),e.jsx(ce,{className:"p-0",children:v?e.jsx("div",{className:"p-12 text-center text-slate-600",children:"Loading sales data..."}):N.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(iK,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No sales data found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Organization"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Purchased"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Used"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Refunded"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Net Balance"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Sales Value"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Programs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Transactions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:N.map(A=>e.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>m(A),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-900",children:A.organization_name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"font-semibold text-green-600",children:A.total_tickets_purchased})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-slate-600",children:A.total_tickets_used}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-slate-600",children:A.total_tickets_refunded}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`font-semibold ${A.net_tickets>0?"text-blue-600":"text-slate-600"}`,children:A.net_tickets})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold text-slate-900",children:["",A.total_sales_value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:A.programs.size})}),e.jsx("td",{className:"px-6 py-4 text-center text-slate-600",children:A.transaction_count})]},A.organization_id))})]})})})]})]}),d&&e.jsx(Zue,{organizationId:d.organization_id,organizationName:d.organization_name,programNameFilter:l,memberInfo:n,onClose:()=>m(null),onTransactionUpdated:()=>{m(null)}})]})}function R2({categories:t,selectedSubcategories:s,onSubcategoryToggle:n,searchQuery:r,onSearchChange:a,onClearSearch:i,isLoading:l=!1}){const[o,c]=Ie.useState({}),[u,d]=Ie.useState({}),[m,h]=Ie.useState(!0),p=j=>{c(w=>({...w,[j]:!w[j]}))},g=j=>{d(w=>({...w,[j]:!w[j]}))},y=(j,w)=>{w.stopPropagation();const N=t.find(_=>_.name===j);N&&N.subcategories&&N.subcategories.forEach(T=>{s.includes(T)&&n(T)})},v=j=>{const w=t.find(N=>N.name===j);return!w||!w.subcategories?!1:w.subcategories.some(N=>s.includes(N))};return Ie.useEffect(()=>{if(!t||t.length===0)return;const j={};t.forEach(w=>{v(w.name)&&(j[w.name]=!0)}),c(w=>({...w,...j}))},[t]),l?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."})}):!t||t.length===0?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"No categories available"})}):e.jsxs("div",{className:"space-y-0",children:[e.jsx("style",{jsx:!0,children:`
        .accordion-content {
          overflow: hidden;
          transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .accordion-content[data-state="closed"] {
          max-height: 0;
          opacity: 0;
        }
        .accordion-content[data-state="open"] {
          max-height: 1000px;
          opacity: 1;
        }
        .accordion-content[data-state="open-category"] {
          max-height: 2000px;
          opacity: 1;
        }
      `}),e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>h(!m),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold transition-colors text-left hover:bg-slate-100 text-slate-700",children:[e.jsx("span",{children:"Search Resources"}),m?e.jsx(Pr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(ys,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]}),e.jsx("div",{className:"accordion-content","data-state":m?"open":"closed",children:e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:r,onChange:j=>a(j.target.value),className:"pl-10 pr-10 rounded-none"}),r&&e.jsx("button",{onClick:i,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ws,{className:"w-4 h-4"})})]})})})]}),e.jsx("div",{children:t.map(j=>{if(!(j.subcategories&&j.subcategories.length>0))return null;const N=o[j.name],_=u[j.name],T=[...j.subcategories].sort((R,M)=>R.localeCompare(M,void 0,{sensitivity:"base"})),A=_?T:T.slice(0,8),P=T.length>8,C=v(j.name);return e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>p(j.name),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold transition-colors text-left hover:bg-slate-100 text-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"break-words",children:j.name}),C&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 font-medium",children:j.subcategories.filter(R=>s.includes(R)).length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx("span",{onClick:R=>y(j.name,R),className:"text-xs text-blue-600 hover:text-blue-700 hover:underline",children:"Clear"}),N?e.jsx(Pr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(ys,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]})]}),e.jsx("div",{className:"accordion-content","data-state":N?"open-category":"closed",children:e.jsxs("div",{className:"space-y-0.5 pt-1",children:[A.map(R=>{const M=s.includes(R);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 cursor-pointer transition-colors ${M?"bg-blue-50":"hover:bg-slate-50"}`,onClick:k=>{k.target===k.currentTarget&&n(R)},children:[e.jsx(pa,{id:`subcategory-${R}`,checked:M,onCheckedChange:()=>n(R),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 rounded-none"}),e.jsx(ee,{htmlFor:`subcategory-${R}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${M?"text-blue-700 font-medium":"text-slate-700"}`,children:R})]},R)}),P&&e.jsx("button",{onClick:()=>g(j.name),className:"w-full text-left px-2 py-1 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",children:_?" Show less":`+ View ${T.length-8} more`})]})})]},j.id)})})]})}function ehe(t){const s=the(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(nhe);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function the(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=ahe(a),o=rhe(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Ar(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var she=Symbol("radix.slottable");function nhe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===she}function rhe(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function ahe(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var p_=["Enter"," "],ihe=["ArrowDown","PageUp","Home"],WI=["ArrowUp","PageDown","End"],lhe=[...ihe,...WI],ohe={ltr:[...p_,"ArrowRight"],rtl:[...p_,"ArrowLeft"]},che={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Af="Menu",[Lm,dhe,uhe]=P1(Af),[Gc,HI]=pr(Af,[uhe,Fo,qu]),I0=Fo(),GI=qu(),[hhe,Kc]=Gc(Af),[mhe,Mf]=Gc(Af),KI=t=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:l=!0}=t,o=I0(s),[c,u]=b.useState(null),d=b.useRef(!1),m=Ui(i),h=bf(a);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(a0,{...o,children:e.jsx(hhe,{scope:s,open:n,onOpenChange:m,content:c,onContentChange:u,children:e.jsx(mhe,{scope:s,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:d,dir:h,modal:l,children:r})})})};KI.displayName=Af;var fhe="MenuAnchor",F2=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=I0(n);return e.jsx(vf,{...a,...r,ref:s})});F2.displayName=fhe;var L2="MenuPortal",[phe,YI]=Gc(L2,{forceMount:void 0}),QI=t=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=t,i=Kc(L2,s);return e.jsx(phe,{scope:s,forceMount:n,children:e.jsx(xr,{present:n||i.open,children:e.jsx(Ru,{asChild:!0,container:a,children:r})})})};QI.displayName=L2;var za="MenuContent",[xhe,I2]=Gc(za),JI=b.forwardRef((t,s)=>{const n=YI(za,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=Kc(za,t.__scopeMenu),l=Mf(za,t.__scopeMenu);return e.jsx(Lm.Provider,{scope:t.__scopeMenu,children:e.jsx(xr,{present:r||i.open,children:e.jsx(Lm.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(ghe,{...a,ref:s}):e.jsx(vhe,{...a,ref:s})})})})}),ghe=b.forwardRef((t,s)=>{const n=Kc(za,t.__scopeMenu),r=b.useRef(null),a=fs(s,r);return b.useEffect(()=>{const i=r.current;if(i)return Yg(i)},[]),e.jsx(B2,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:jt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vhe=b.forwardRef((t,s)=>{const n=Kc(za,t.__scopeMenu);return e.jsx(B2,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yhe=ehe("MenuContent.ScrollLock"),B2=b.forwardRef((t,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...y}=t,v=Kc(za,n),j=Mf(za,n),w=I0(n),N=GI(n),_=dhe(n),[T,A]=b.useState(null),P=b.useRef(null),C=fs(s,P,v.onContentChange),R=b.useRef(0),M=b.useRef(""),k=b.useRef(0),E=b.useRef(null),O=b.useRef("right"),F=b.useRef(0),z=g?ff:b.Fragment,V=g?{as:yhe,allowPinchZoom:!0}:void 0,U=$=>{var G,ae;const L=M.current+$,I=_().filter(se=>!se.disabled),W=document.activeElement,q=(G=I.find(se=>se.ref.current===W))==null?void 0:G.textValue,Z=I.map(se=>se.textValue),J=Ahe(Z,L,q),Q=(ae=I.find(se=>se.textValue===J))==null?void 0:ae.ref.current;(function se(de){M.current=de,window.clearTimeout(R.current),de!==""&&(R.current=window.setTimeout(()=>se(""),1e3))})(L),Q&&setTimeout(()=>Q.focus())};b.useEffect(()=>()=>window.clearTimeout(R.current),[]),Gg();const B=b.useCallback($=>{var I,W;return O.current===((I=E.current)==null?void 0:I.side)&&Dhe($,(W=E.current)==null?void 0:W.area)},[]);return e.jsx(xhe,{scope:n,searchRef:M,onItemEnter:b.useCallback($=>{B($)&&$.preventDefault()},[B]),onItemLeave:b.useCallback($=>{var L;B($)||((L=P.current)==null||L.focus(),A(null))},[B]),onTriggerLeave:b.useCallback($=>{B($)&&$.preventDefault()},[B]),pointerGraceTimerRef:k,onPointerGraceIntentChange:b.useCallback($=>{E.current=$},[]),children:e.jsx(z,{...V,children:e.jsx(mf,{asChild:!0,trapped:a,onMountAutoFocus:jt(i,$=>{var L;$.preventDefault(),(L=P.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Ou,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:e.jsx(T1,{asChild:!0,...N,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:A,onEntryFocus:jt(c,$=>{j.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(i0,{role:"menu","aria-orientation":"vertical","data-state":mB(v.open),"data-radix-menu-content":"",dir:j.dir,...w,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:jt(y.onKeyDown,$=>{const I=$.target.closest("[data-radix-menu-content]")===$.currentTarget,W=$.ctrlKey||$.altKey||$.metaKey,q=$.key.length===1;I&&($.key==="Tab"&&$.preventDefault(),!W&&q&&U($.key));const Z=P.current;if($.target!==Z||!lhe.includes($.key))return;$.preventDefault();const Q=_().filter(G=>!G.disabled).map(G=>G.ref.current);WI.includes($.key)&&Q.reverse(),Phe(Q)}),onBlur:jt(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),M.current="")}),onPointerMove:jt(t.onPointerMove,Im($=>{const L=$.target,I=F.current!==$.clientX;if($.currentTarget.contains(L)&&I){const W=$.clientX>F.current?"right":"left";O.current=W,F.current=$.clientX}}))})})})})})})});JI.displayName=za;var bhe="MenuGroup",q2=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx($t.div,{role:"group",...r,ref:s})});q2.displayName=bhe;var jhe="MenuLabel",XI=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx($t.div,{...r,ref:s})});XI.displayName=jhe;var gg="MenuItem",aM="menu.itemSelect",B0=b.forwardRef((t,s)=>{const{disabled:n=!1,onSelect:r,...a}=t,i=b.useRef(null),l=Mf(gg,t.__scopeMenu),o=I2(gg,t.__scopeMenu),c=fs(s,i),u=b.useRef(!1),d=()=>{const m=i.current;if(!n&&m){const h=new CustomEvent(aM,{bubbles:!0,cancelable:!0});m.addEventListener(aM,p=>r==null?void 0:r(p),{once:!0}),p5(m,h),h.defaultPrevented?u.current=!1:l.onClose()}};return e.jsx(ZI,{...a,ref:c,disabled:n,onClick:jt(t.onClick,d),onPointerDown:m=>{var h;(h=t.onPointerDown)==null||h.call(t,m),u.current=!0},onPointerUp:jt(t.onPointerUp,m=>{var h;u.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:jt(t.onKeyDown,m=>{const h=o.searchRef.current!=="";n||h&&m.key===" "||p_.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});B0.displayName=gg;var ZI=b.forwardRef((t,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=t,l=I2(gg,n),o=GI(n),c=b.useRef(null),u=fs(s,c),[d,m]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),e.jsx(Lm.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:e.jsx(A1,{asChild:!0,...o,focusable:!r,children:e.jsx($t.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:jt(t.onPointerMove,Im(g=>{r?l.onItemLeave(g):(l.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:jt(t.onPointerLeave,Im(g=>l.onItemLeave(g))),onFocus:jt(t.onFocus,()=>m(!0)),onBlur:jt(t.onBlur,()=>m(!1))})})})}),whe="MenuCheckboxItem",eB=b.forwardRef((t,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return e.jsx(aB,{scope:t.__scopeMenu,checked:n,children:e.jsx(B0,{role:"menuitemcheckbox","aria-checked":vg(n)?"mixed":n,...a,ref:s,"data-state":$2(n),onSelect:jt(a.onSelect,()=>r==null?void 0:r(vg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eB.displayName=whe;var tB="MenuRadioGroup",[Nhe,_he]=Gc(tB,{value:void 0,onValueChange:()=>{}}),sB=b.forwardRef((t,s)=>{const{value:n,onValueChange:r,...a}=t,i=Ui(r);return e.jsx(Nhe,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(q2,{...a,ref:s})})});sB.displayName=tB;var nB="MenuRadioItem",rB=b.forwardRef((t,s)=>{const{value:n,...r}=t,a=_he(nB,t.__scopeMenu),i=n===a.value;return e.jsx(aB,{scope:t.__scopeMenu,checked:i,children:e.jsx(B0,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":$2(i),onSelect:jt(r.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,n)},{checkForDefaultPrevented:!1})})})});rB.displayName=nB;var z2="MenuItemIndicator",[aB,She]=Gc(z2,{checked:!1}),iB=b.forwardRef((t,s)=>{const{__scopeMenu:n,forceMount:r,...a}=t,i=She(z2,n);return e.jsx(xr,{present:r||vg(i.checked)||i.checked===!0,children:e.jsx($t.span,{...a,ref:s,"data-state":$2(i.checked)})})});iB.displayName=z2;var Che="MenuSeparator",lB=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx($t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});lB.displayName=Che;var khe="MenuArrow",oB=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=I0(n);return e.jsx(l0,{...a,...r,ref:s})});oB.displayName=khe;var Ehe="MenuSub",[iCe,cB]=Gc(Ehe),im="MenuSubTrigger",dB=b.forwardRef((t,s)=>{const n=Kc(im,t.__scopeMenu),r=Mf(im,t.__scopeMenu),a=cB(im,t.__scopeMenu),i=I2(im,t.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),e.jsx(F2,{asChild:!0,...u,children:e.jsx(ZI,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":mB(n.open),...t,ref:Ar(s,a.onTriggerChange),onClick:m=>{var h;(h=t.onClick)==null||h.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:jt(t.onPointerMove,Im(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:jt(t.onPointerLeave,Im(m=>{var p,g;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const y=(g=n.content)==null?void 0:g.dataset.side,v=y==="right",j=v?-5:5,w=h[v?"left":"right"],N=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:w,y:h.top},{x:N,y:h.top},{x:N,y:h.bottom},{x:w,y:h.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:jt(t.onKeyDown,m=>{var p;const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||ohe[r.dir].includes(m.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),m.preventDefault())})})})});dB.displayName=im;var uB="MenuSubContent",hB=b.forwardRef((t,s)=>{const n=YI(za,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=Kc(za,t.__scopeMenu),l=Mf(za,t.__scopeMenu),o=cB(uB,t.__scopeMenu),c=b.useRef(null),u=fs(s,c);return e.jsx(Lm.Provider,{scope:t.__scopeMenu,children:e.jsx(xr,{present:r||i.open,children:e.jsx(Lm.Slot,{scope:t.__scopeMenu,children:e.jsx(B2,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:jt(t.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:jt(t.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:jt(t.onKeyDown,d=>{var p;const m=d.currentTarget.contains(d.target),h=che[l.dir].includes(d.key);m&&h&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});hB.displayName=uB;function mB(t){return t?"open":"closed"}function vg(t){return t==="indeterminate"}function $2(t){return vg(t)?"indeterminate":t?"checked":"unchecked"}function Phe(t){const s=document.activeElement;for(const n of t)if(n===s||(n.focus(),document.activeElement!==s))return}function The(t,s){return t.map((n,r)=>t[(s+r)%t.length])}function Ahe(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let l=The(t,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const c=l.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function Mhe(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i],c=s[l],u=o.x,d=o.y,m=c.x,h=c.y;d>r!=h>r&&n<(m-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function Dhe(t,s){if(!s)return!1;const n={x:t.clientX,y:t.clientY};return Mhe(n,s)}function Im(t){return s=>s.pointerType==="mouse"?t(s):void 0}var Ohe=KI,Rhe=F2,Fhe=QI,Lhe=JI,Ihe=q2,Bhe=XI,qhe=B0,zhe=eB,$he=sB,Uhe=rB,Vhe=iB,Whe=lB,Hhe=oB,Ghe=dB,Khe=hB,q0="DropdownMenu",[Yhe]=pr(q0,[HI]),Mr=HI(),[Qhe,fB]=Yhe(q0),pB=t=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Mr(s),u=b.useRef(null),[d,m]=Va({prop:a,defaultProp:i??!1,onChange:l,caller:q0});return e.jsx(Qhe,{scope:s,triggerId:$n(),triggerRef:u,contentId:$n(),open:d,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(h=>!h),[m]),modal:o,children:e.jsx(Ohe,{...c,open:d,onOpenChange:m,dir:r,modal:o,children:n})})};pB.displayName=q0;var xB="DropdownMenuTrigger",gB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,i=fB(xB,n),l=Mr(n);return e.jsx(Rhe,{asChild:!0,...l,children:e.jsx($t.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ar(s,i.triggerRef),onPointerDown:jt(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:jt(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});gB.displayName=xB;var Jhe="DropdownMenuPortal",vB=t=>{const{__scopeDropdownMenu:s,...n}=t,r=Mr(s);return e.jsx(Fhe,{...r,...n})};vB.displayName=Jhe;var yB="DropdownMenuContent",bB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=fB(yB,n),i=Mr(n),l=b.useRef(!1);return e.jsx(Lhe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:jt(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:jt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bB.displayName=yB;var Xhe="DropdownMenuGroup",Zhe=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Ihe,{...a,...r,ref:s})});Zhe.displayName=Xhe;var eme="DropdownMenuLabel",jB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Bhe,{...a,...r,ref:s})});jB.displayName=eme;var tme="DropdownMenuItem",wB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(qhe,{...a,...r,ref:s})});wB.displayName=tme;var sme="DropdownMenuCheckboxItem",NB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(zhe,{...a,...r,ref:s})});NB.displayName=sme;var nme="DropdownMenuRadioGroup",rme=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx($he,{...a,...r,ref:s})});rme.displayName=nme;var ame="DropdownMenuRadioItem",_B=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Uhe,{...a,...r,ref:s})});_B.displayName=ame;var ime="DropdownMenuItemIndicator",SB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Vhe,{...a,...r,ref:s})});SB.displayName=ime;var lme="DropdownMenuSeparator",CB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Whe,{...a,...r,ref:s})});CB.displayName=lme;var ome="DropdownMenuArrow",cme=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Hhe,{...a,...r,ref:s})});cme.displayName=ome;var dme="DropdownMenuSubTrigger",kB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Ghe,{...a,...r,ref:s})});kB.displayName=dme;var ume="DropdownMenuSubContent",EB=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Mr(n);return e.jsx(Khe,{...a,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EB.displayName=ume;var hme=pB,mme=gB,fme=vB,PB=bB,TB=jB,AB=wB,MB=NB,DB=_B,OB=SB,RB=CB,FB=kB,LB=EB;const hx=hme,mx=mme,pme=b.forwardRef(({className:t,inset:s,children:n,...r},a)=>e.jsxs(FB,{ref:a,className:tt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r,children:[n,e.jsx(ys,{className:"ml-auto"})]}));pme.displayName=FB.displayName;const xme=b.forwardRef(({className:t,...s},n)=>e.jsx(LB,{ref:n,className:tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));xme.displayName=LB.displayName;const lm=b.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(fme,{children:e.jsx(PB,{ref:r,sideOffset:s,className:tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lm.displayName=PB.displayName;const ua=b.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(AB,{ref:r,className:tt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",t),...n}));ua.displayName=AB.displayName;const gme=b.forwardRef(({className:t,children:s,checked:n,...r},a)=>e.jsxs(MB,{ref:a,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(OB,{children:e.jsx(cf,{className:"h-4 w-4"})})}),s]}));gme.displayName=MB.displayName;const vme=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(DB,{ref:r,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(OB,{children:e.jsx(U6,{className:"h-2 w-2 fill-current"})})}),s]}));vme.displayName=DB.displayName;const yme=b.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(TB,{ref:r,className:tt("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));yme.displayName=TB.displayName;const bme=b.forwardRef(({className:t,...s},n)=>e.jsx(RB,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...s}));bme.displayName=RB.displayName;const jme={ArrowUpRight:kr,Download:Qn,ExternalLink:Qs,PlayCircle:Pu,Eye:fr,FileText:ts,Mail:Ts,Plus:Et};function IB({resource:t,isLocked:s=!1,buttonStyles:n=[],enabledSocialIcons:r=["x","linkedin","email"]}){const a=n.find(d=>d.resource_type===t.resource_type)||null,i=d=>{switch(d){case"download":return e.jsx(Qn,{className:"w-4 h-4"});case"video":return e.jsx(Pu,{className:"w-4 h-4"});case"external_link":return e.jsx(Qs,{className:"w-4 h-4"});default:return e.jsx(Qs,{className:"w-4 h-4"})}},l=d=>{switch(d){case"download":return"Download";case"video":return"Watch Video";case"external_link":return"Visit Site";default:return"View Resource"}},o=()=>{window.open(t.target_url,"_blank","noopener,noreferrer")},c=d=>{const m=encodeURIComponent(t.target_url),h=encodeURIComponent(t.title),p=encodeURIComponent(t.description||"");switch(d){case"x":window.open(`https://twitter.com/intent/tweet?text=${h}&url=${m}`,"_blank","noopener,noreferrer");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${m}`,"_blank","noopener,noreferrer");break;case"email":window.location.href=`mailto:?subject=${h}&body=${p}%0A%0A${m}`;break}},u=()=>{if(!a)return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:o,className:`bg-blue-600 hover:bg-blue-700 ${t.is_public?"flex-1":"w-full"}`,children:[i(t.resource_type),e.jsx("span",{className:"ml-2",children:l(t.resource_type)})]}),t.is_public&&e.jsxs(hx,{children:[e.jsx(mx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(hc,{className:"w-4 h-4"})})}),e.jsxs(lm,{align:"end",children:[r.includes("x")&&e.jsxs(ua,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ua,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ua,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]});const d=a.button_text||l(t.resource_type),m=a.button_type,h=a.icon_name&&jme[a.icon_name];return m==="square_agcas"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Oa,{onClick:o,className:"shrink-0"}),t.is_public&&e.jsxs(hx,{children:[e.jsx(mx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(hc,{className:"w-4 h-4"})})}),e.jsxs(lm,{align:"end",children:[r.includes("x")&&e.jsxs(ua,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ua,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ua,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]}):m==="rectangular_agcas"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Fs,{onClick:o,icon:h&&a.icon_name!=="none"?h:void 0,className:t.is_public?"flex-1":"w-full",children:d}),t.is_public&&e.jsxs(hx,{children:[e.jsx(mx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(hc,{className:"w-4 h-4"})})}),e.jsxs(lm,{align:"end",children:[r.includes("x")&&e.jsxs(ua,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ua,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ua,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:o,className:`bg-blue-600 hover:bg-blue-700 ${t.is_public?"flex-1":"w-full"}`,children:[h&&a.icon_name!=="none"?e.jsx(h,{className:"w-4 h-4 mr-2"}):i(t.resource_type),d]}),t.is_public&&e.jsxs(hx,{children:[e.jsx(mx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(hc,{className:"w-4 h-4"})})}),e.jsxs(lm,{align:"end",children:[r.includes("x")&&e.jsxs(ua,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ua,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ua,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]})};return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col rounded-none relative",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-share-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-share-button:hover {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
      `}),s&&e.jsx("div",{className:"absolute top-0 right-0 z-10 bg-slate-900 p-2 shadow-lg",children:e.jsx(cN,{className:"w-5 h-5 text-white"})}),t.image_url&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100 relative",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-full h-[3px]",style:{backgroundColor:"#5d0d77"}})]}),e.jsxs(Re,{className:"pb-3 flex-grow",children:[e.jsx($e,{className:"text-lg line-clamp-2",children:t.title}),(t.published_date||t.created_date)&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 py-3",children:[e.jsx(js,{className:"w-3 h-3"}),e.jsx("span",{children:At(new Date(t.published_date||t.created_date),"dd MMM yyyy")})]}),t.author_name&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 mt-2",children:[e.jsx(Js,{className:"w-3 h-3"}),e.jsxs("span",{children:["by ",t.author_name]})]}),t.description&&e.jsx("p",{className:"text-sm text-slate-600",children:t.description}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 pt-4",children:t.tags.map((d,m)=>e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-none",children:d},m))})]}),e.jsx(ce,{className:"pt-0 pb-4 mt-auto",children:s?e.jsxs(X,{onClick:()=>window.location.href=Ee("Home"),variant:"outline",className:"w-full border-slate-300 hover:bg-slate-50 rounded-none",children:[e.jsx(cN,{className:"w-4 h-4 mr-2 text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"Member only content - click to login"})]}):u()})]})}function BB({memberInfo:t,memberRole:s,isAdmin:n}){const[r,a]=b.useState(""),[i,l]=b.useState([]),[o,c]=b.useState(1),[u,d]=b.useState("newest"),[m,h]=b.useState(12),[p,g]=b.useState(!1),y=Gt(),{data:v}=me({queryKey:["current-user",t==null?void 0:t.email],queryFn:async()=>await K.auth.me(),enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j=[],isLoading:w}=me({queryKey:["resources"],queryFn:async()=>{console.log("[Resources] Fetching at:",new Date().toISOString());const $=await K.entities.Resource.list("-published_date");console.log("[Resources Debug] Raw resources from DB:",$.length,$[0]);const L=$.filter(I=>I.status==="draft"?!1:n||I.is_public===!0?!0:s?!I.allowed_role_ids||I.allowed_role_ids.length===0?!0:I.allowed_role_ids.includes(s.id):!1);return console.log("[Resources Debug] Filtered resources:",L.length),L},enabled:!!s||n===!0,initialData:[],refetchOnWindowFocus:!1}),{data:N=[],isLoading:_}=me({queryKey:["resourceCategories-resources"],queryFn:async()=>{const $=await K.entities.ResourceCategory.list();console.log("[Resources Debug] Raw categories from DB:",$.length,$[0]);const I=$.filter(W=>W.is_active&&W.applies_to_content_types&&W.applies_to_content_types.includes("Resources")).sort((W,q)=>(W.display_order||0)-(q.display_order||0));return console.log("[Resources Debug] Active sorted resource categories:",I.length,I),I},staleTime:0,refetchOnWindowFocus:!0}),{data:T=[]}=me({queryKey:["buttonStyles-resources"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(L=>L.card_type==="resource"&&L.is_active),staleTime:0,refetchOnWindowFocus:!0});Ie.useEffect(()=>{var $;if(($=v==null?void 0:v.preferences)!=null&&$.resources&&!p){const L=v.preferences.resources.selectedSubcategories||[];l(L),g(!0)}},[v,p]);const A=Fe({mutationFn:async()=>{const $={...(v==null?void 0:v.preferences)||{},resources:{selectedCategory:"all",selectedSubcategories:i}};await K.auth.updateMe({preferences:$})},onSuccess:()=>{y.invalidateQueries({queryKey:["current-user"]}),te.success("Filter preferences saved as default")},onError:$=>{te.error("Failed to save preferences: "+$.message)}}),P=b.useMemo(()=>j.filter($=>{var W,q,Z;const L=!r.trim()||((W=$.title)==null?void 0:W.toLowerCase().includes(r.toLowerCase()))||((q=$.description)==null?void 0:q.toLowerCase().includes(r.toLowerCase()))||((Z=$.tags)==null?void 0:Z.some(J=>J.toLowerCase().includes(r.toLowerCase()))),I=i.length===0||$.subcategories&&Array.isArray($.subcategories)&&$.subcategories.some(J=>i.includes(J));return L&&I}),[j,r,i]),C=b.useMemo(()=>{const $=[...P];switch(u){case"newest":$.sort((L,I)=>new Date(I.published_date||I.created_date)-new Date(L.published_date||L.created_date));break;case"oldest":$.sort((L,I)=>new Date(L.published_date||L.created_date)-new Date(I.published_date||L.created_date));break;case"title-asc":$.sort((L,I)=>L.title.localeCompare(I.title));break;case"title-desc":$.sort((L,I)=>I.title.localeCompare(L.title));break}return $},[P,u]),R=Math.ceil(C.length/m),M=(o-1)*m,k=M+m,E=C.slice(M,k),O=()=>{const $=[];if(R<=5)for(let I=1;I<=R;I++)$.push(I);else if(o<=3){for(let I=1;I<=4;I++)$.push(I);R>5&&$.push("..."),$.push(R)}else if(o>=R-2){$.push(1),R>5&&$.push("...");for(let I=R-3;I<=R;I++)$.push(I)}else{$.push(1),$.push("...");for(let I=o-1;I<=o+1;I++)$.push(I);$.push("..."),$.push(R)}return $};Ie.useEffect(()=>{c(1)},[i,r,u,m]);const F=$=>{l(L=>L.includes($)?L.filter(I=>I!==$):[...L,$])},z=$=>{c($),window.scrollTo({top:0,behavior:"smooth"})},V=()=>{A.mutate()},U=w||_,B=b.useMemo(()=>{var L;if(!((L=v==null?void 0:v.preferences)!=null&&L.resources))return i.length>0;const $=v.preferences.resources.selectedSubcategories||[];return $.length!==i.length?!0:!$.every(I=>i.includes(I))||!i.every(I=>$.includes(I))},[v,i]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-pagination-button {
          box-shadow: inset 0 0 0 2px black;
          background: transparent;
          border: none;
          border-radius: 0;
          transition: all 0.3s;
        }
        .agcas-pagination-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button.active {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Resources"}),e.jsx("p",{className:"text-slate-600",children:"Explore helpful resources curated for you"})]}),e.jsxs(X,{onClick:()=>{y.invalidateQueries({queryKey:["resources"]}),te.success("Refreshing resources...")},variant:"outline",className:"gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Refresh"]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-none shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(R2,{categories:N,selectedSubcategories:i,onSubcategoryToggle:F,searchQuery:r,onSearchChange:a,onClearSearch:()=>a(""),isLoading:_}),t&&B&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:V,variant:"outline",size:"sm",className:"w-full gap-2 rounded-none",disabled:A.isPending,children:A.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-3 h-3"}),"Save as Default"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"Apply these filters by default"})]})]})}),e.jsx("div",{className:"flex-1",children:U?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(12).fill(0).map(($,L)=>e.jsxs(le,{className:"animate-pulse border-slate-200 rounded-none",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},L))}):C.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm rounded-none",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-slate-600",children:r||i.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",M+1,"-",Math.min(k,C.length)," of ",C.length," resources"]}),e.jsxs(He,{value:u,onValueChange:d,children:[e.jsxs(Ue,{className:"w-48 rounded-none",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{className:"rounded-none",children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:E.map($=>e.jsx(IB,{resource:$,buttonStyles:T},$.id))}),e.jsx(le,{className:"border-slate-200 shadow-sm rounded-none",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:m.toString(),onValueChange:$=>{h(Number($)),c(1)},children:[e.jsx(Ue,{className:"w-20 rounded-none",children:e.jsx(Ye,{})}),e.jsxs(Ve,{className:"rounded-none",children:[e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",o," of ",R]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>z(o-1),disabled:o===1,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Un,{className:"w-4 h-4"})}),O().map(($,L)=>e.jsx(Ie.Fragment,{children:$==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx("button",{onClick:()=>z($),className:`agcas-pagination-button px-3 py-2 min-w-[2.5rem] ${o===$?"active":""}`,children:$})},L)),e.jsx("button",{onClick:()=>z(o+1),disabled:o===R,className:"agcas-pagination-button px-3 py-2",children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]})})]})]})]})}function qB(){const[t,s]=b.useState("all"),[n,r]=b.useState([]),[a,i]=b.useState(""),[l,o]=b.useState(1),[c,u]=b.useState("newest"),[d,m]=b.useState(6),h=b.useMemo(()=>{const E=sessionStorage.getItem("agcas_member");if(!E)return!1;const O=JSON.parse(E);return!(O.sessionExpiry&&new Date(O.sessionExpiry)<new Date)},[]),{data:p=[],isLoading:g}=me({queryKey:["public-resources"],queryFn:async()=>(console.log("[PublicResources] Fetching at:",new Date().toISOString()),(await K.entities.Resource.list("-published_date")).filter(O=>O.status!=="draft")),initialData:[],refetchOnWindowFocus:!1}),{data:y=[],isLoading:v}=me({queryKey:["resourceCategories-public"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(F=>F.is_active&&F.applies_to_content_types&&F.applies_to_content_types.includes("Resources")).sort((F,z)=>(F.display_order||0)-(z.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:j=[]}=me({queryKey:["buttonStyles-resources"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(O=>O.card_type==="resource"&&O.is_active),staleTime:0,refetchOnWindowFocus:!0}),w=b.useMemo(()=>p.filter(E=>{var z,V,U;const O=((z=E.title)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))||((V=E.description)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||((U=E.tags)==null?void 0:U.some(B=>B.toLowerCase().includes(a.toLowerCase()))),F=n.length===0||E.subcategories&&E.subcategories.some(B=>n.includes(B));return O&&F}),[p,a,n]),N=b.useMemo(()=>{const E=[...w];switch(c){case"newest":E.sort((O,F)=>new Date(F.published_date||F.created_date)-new Date(O.published_date||O.created_date));break;case"oldest":E.sort((O,F)=>new Date(O.published_date||O.created_date)-new Date(F.published_date||O.created_date));break;case"title-asc":E.sort((O,F)=>O.title.localeCompare(F.title));break;case"title-desc":E.sort((O,F)=>F.title.localeCompare(O.title));break}return E},[w,c]),_=Math.ceil(N.length/d),T=(l-1)*d,A=T+d,P=N.slice(T,A),C=()=>{const E=[];if(_<=5)for(let F=1;F<=_;F++)E.push(F);else if(l<=3){for(let F=1;F<=4;F++)E.push(F);_>5&&E.push("..."),E.push(_)}else if(l>=_-2){E.push(1),_>5&&E.push("...");for(let F=_-3;F<=_;F++)E.push(F)}else{E.push(1),E.push("...");for(let F=l-1;F<=l+1;F++)E.push(F);E.push("..."),E.push(_)}return E};Ie.useEffect(()=>{o(1)},[n,a,c,d]);const R=E=>{r(O=>O.includes(E)?O.filter(F=>F!==E):[...O,E])},M=E=>{o(E),window.scrollTo({top:0,behavior:"smooth"})},k=g||v;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-pagination-button {
          box-shadow: inset 0 0 0 2px black;
          background: transparent;
          border: none;
          border-radius: 0;
          transition: all 0.3s;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-weight: 500;
          color: #334155; /* slate-700 */
        }
        .agcas-pagination-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button.active {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Resources & Materials"}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Access our comprehensive library of resources, guides, and materials to support your work"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(R2,{categories:y,selectedSubcategories:n,onSubcategoryToggle:R,searchQuery:a,onSearchChange:i,onClearSearch:()=>i(""),isLoading:v})})}),e.jsx("div",{className:"flex-1",children:k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((E,O)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},O))}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-slate-600",children:a||n.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",T+1,"-",Math.min(A,N.length)," of ",N.length," resources"]}),e.jsxs(He,{value:c,onValueChange:u,children:[e.jsxs(Ue,{className:"w-48 rounded-none",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:P.map(E=>e.jsx(IB,{resource:E,isLocked:!E.is_public&&!h,buttonStyles:j},E.id))}),N.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:d.toString(),onValueChange:E=>{m(Number(E)),o(1)},children:[e.jsx(Ue,{className:"w-20 rounded-none",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",l," of ",_]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(l-1),disabled:l===1,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Un,{className:"w-4 h-4"})}),C().map((E,O)=>e.jsx(Ie.Fragment,{children:E==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx("button",{onClick:()=>M(E),className:`agcas-pagination-button px-3 py-2 min-w-[2.5rem] ${l===E?"active":""}`,children:E})},O)),e.jsx("button",{onClick:()=>M(l+1),disabled:l===_,className:"agcas-pagination-button px-3 py-2",children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]})})]})})]})}function zB({isAdmin:t}){const s=Gt(),{data:n,isLoading:r}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[]}),{data:a,isLoading:i}=me({queryKey:["resource-author-settings"],queryFn:async()=>{const N=await K.entities.ResourceAuthorSettings.list();return N.length>0?N[0]:null}}),[l,o]=b.useState([]),[c,u]=b.useState(500),[d,m]=b.useState(!0),[h,p]=b.useState(["x","linkedin","email"]);Ie.useEffect(()=>{a&&(o(a.author_role_ids||[]),u(a.description_character_limit||500),m(a.show_folders!==!1),p(a.enabled_social_icons||["x","linkedin","email"]))},[a]);const g=Fe({mutationFn:async({roleIds:N,limit:_,showFolders:T,socialIcons:A})=>a?await K.entities.ResourceAuthorSettings.update(a.id,{author_role_ids:N,description_character_limit:_,show_folders:T,enabled_social_icons:A}):await K.entities.ResourceAuthorSettings.create({author_role_ids:N,description_character_limit:_,show_folders:T,enabled_social_icons:A}),onSuccess:()=>{s.invalidateQueries({queryKey:["resource-author-settings"]}),te.success("Settings saved successfully")},onError:N=>{te.error("Failed to save settings: "+N.message)}}),y=N=>{o(_=>_.includes(N)?_.filter(T=>T!==N):[..._,N])},v=N=>{p(_=>_.includes(N)?_.filter(T=>T!==N):[..._,N])},j=()=>{const N=parseInt(c);if(isNaN(N)||N<1){te.error("Description limit must be a positive number");return}g.mutate({roleIds:l,limit:N,showFolders:d,socialIcons:h})};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})});const w=r||i;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Resource Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure resource management preferences"})]}),w?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Loading settings..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(bH,{className:"w-5 h-5 text-blue-600"}),"Author Roles"]})}),e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Select the roles whose members can be assigned as authors when creating or editing resources. This includes both regular members and team members with the selected roles."})}),n.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-slate-600",children:"No roles available. Create roles first in Role Management."})}):e.jsx("div",{className:"space-y-2",children:n.map(N=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>y(N.id),children:[e.jsx(pa,{id:`role-${N.id}`,checked:l.includes(N.id),onCheckedChange:()=>y(N.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(ee,{htmlFor:`role-${N.id}`,className:"flex-1 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900",children:N.name}),N.is_admin&&e.jsx(ve,{className:"bg-amber-100 text-amber-700 text-xs",children:"Admin"})]}),N.description&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.description})]})]},N.id))})]}),l.length>0&&e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900 mb-2",children:["Selected: ",l.length," ",l.length===1?"role":"roles"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(N=>{const _=n.find(T=>T.id===N);return _?e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:_.name},N):null})})]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-blue-600"}),"Folder Management"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(pa,{id:"show-folders",checked:d,onCheckedChange:m,className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"show-folders",className:"cursor-pointer font-medium",children:"Show Folder Management"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enable folder organization in the Resource Management page"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(hc,{className:"w-5 h-5 text-blue-600"}),"Social Sharing Icons"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Choose which social sharing icons to display on public resource cards. Users will be able to share resources on the selected platforms."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("x"),children:[e.jsx(pa,{id:"icon-x",checked:h.includes("x"),onCheckedChange:()=>v("x"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(ee,{htmlFor:"icon-x",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),e.jsx("span",{className:"font-medium text-slate-900",children:"X (Twitter)"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("linkedin"),children:[e.jsx(pa,{id:"icon-linkedin",checked:h.includes("linkedin"),onCheckedChange:()=>v("linkedin"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(ee,{htmlFor:"icon-linkedin",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{className:"font-medium text-slate-900",children:"LinkedIn"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("email"),children:[e.jsx(pa,{id:"icon-email",checked:h.includes("email"),onCheckedChange:()=>v("email"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(ee,{htmlFor:"icon-email",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-slate-900",children:"Email"})]})]})]}),h.length>0&&e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-slate-900 mb-2",children:["Selected: ",h.length," ",h.length===1?"platform":"platforms"]})})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-blue-600"}),"Description Character Limit"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Set the maximum number of characters allowed for resource descriptions. This helps maintain consistent formatting and prevents overly long descriptions."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description-limit",children:"Maximum Characters"}),e.jsx(he,{id:"description-limit",type:"number",min:"1",value:c,onChange:N=>u(N.target.value),placeholder:"500",className:"max-w-xs"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Recommended: 500 characters (approximately 75-100 words)"})]}),c&&e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-slate-700",children:["Current limit: ",e.jsx("span",{className:"font-semibold text-blue-600",children:c})," characters"]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(X,{onClick:j,disabled:g.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),g.isPending?"Saving...":"Save All Settings"]})})]})]})})}function $B({isAdmin:t}){var Ul,Wf,ad;const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(""),[o,c]=b.useState("all"),[u,d]=b.useState(""),[m,h]=b.useState(null),[p,g]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(""),[T,A]=b.useState(!1),[P,C]=b.useState(null),[R,M]=b.useState(!1),[k,E]=b.useState(null),[O,F]=b.useState(!1),[z,V]=b.useState(!1),[U,B]=b.useState(null),[$,L]=b.useState([]),[I,W]=b.useState(!1),[q,Z]=b.useState({}),[J,Q]=b.useState(null),[G,ae]=b.useState({}),[se,de]=b.useState([]),[ue,oe]=b.useState(null),[pe,be]=b.useState(null),[je,Be]=b.useState(1),[qe,ke]=b.useState(9),Se=Gt(),{data:Ge,isLoading:Ke}=me({queryKey:["admin-resources"],queryFn:()=>K.entities.Resource.list("-created_date"),initialData:[],refetchOnWindowFocus:!1}),{data:Me}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(De=>De.is_active).sort((De,We)=>(De.display_order||0)-(We.display_order||0)),initialData:[],refetchOnWindowFocus:!1}),{data:it}=me({queryKey:["file-repository"],queryFn:()=>K.entities.FileRepository.list("-created_date"),initialData:[],refetchOnWindowFocus:!1}),{data:_e}=me({queryKey:["file-repository-folders"],queryFn:()=>K.entities.FileRepositoryFolder.list("display_order"),initialData:[],refetchOnWindowFocus:!1}),{data:at}=me({queryKey:["roles"],queryFn:()=>K.entities.Role.list(),initialData:[],refetchOnWindowFocus:!1}),{data:Ne}=me({queryKey:["resource-author-settings"],queryFn:async()=>{const ie=await K.entities.ResourceAuthorSettings.list();return ie.length>0?ie[0]:null},refetchOnWindowFocus:!1}),{data:ze}=me({queryKey:["members"],queryFn:()=>K.entities.Member.list(),initialData:[],refetchOnWindowFocus:!1}),{data:nt}=me({queryKey:["team-members"],queryFn:()=>K.entities.TeamMember.list(),initialData:[],refetchOnWindowFocus:!1}),{data:dt,isLoading:lt}=me({queryKey:["resource-folders"],queryFn:()=>K.entities.ResourceFolder.list("display_order"),initialData:[],refetchOnWindowFocus:!1}),Ot=b.useMemo(()=>{if(!Ne||!Ne.author_role_ids||Ne.author_role_ids.length===0)return[];const ie=Ne.author_role_ids,De=ze.filter(wt=>wt.role_id&&ie.includes(wt.role_id)).map(wt=>({id:wt.id,name:`${wt.first_name} ${wt.last_name}`,email:wt.email,type:"member"})),We=nt.filter(wt=>wt.role_id&&ie.includes(wt.role_id)).map(wt=>({id:wt.id,name:`${wt.first_name} ${wt.last_name}`,email:wt.email,type:"team_member"}));return[...De,...We].sort((wt,Ss)=>wt.name.localeCompare(Ss.name))},[Ne,ze,nt]),Xt=b.useMemo(()=>{const ie=new Set;return Ge.forEach(De=>{De.tags&&Array.isArray(De.tags)&&De.tags.forEach(We=>ie.add(We))}),Array.from(ie).sort()},[Ge]),Ls=b.useMemo(()=>{if(!u.trim())return[];const ie=u.toLowerCase();return Xt.filter(De=>De.toLowerCase().includes(ie)&&!((s==null?void 0:s.tags)||[]).includes(De))},[u,Xt,s==null?void 0:s.tags]),Ns=b.useMemo(()=>{const ie=De=>dt.filter(We=>We.parent_folder_id===De).sort((We,wt)=>(We.display_order||0)-(wt.display_order||0)).map(We=>({...We,children:ie(We.id)}));return ie(null)},[dt]),ln=b.useMemo(()=>{const ie=De=>_e.filter(We=>We.parent_folder_id===De).sort((We,wt)=>(We.display_order||0)-(wt.display_order||0)).map(We=>({...We,children:ie(We.id)}));return ie(null)},[_e]),Yt=ie=>{if(!ie)return[];const De=[];let We=ie;for(;We;){const wt=dt.find(Ss=>Ss.id===We);if(wt)De.unshift(wt),We=wt.parent_folder_id;else break}return De},fn=ie=>{if(!ie)return[];const De=[];let We=ie;for(;We;){const wt=_e.find(Ss=>Ss.id===We);if(wt)De.unshift(wt),We=wt.parent_folder_id;else break}return De},As=b.useMemo(()=>Yt(P),[P,dt]),vr=b.useMemo(()=>fn(J),[J,_e]),Vn=ie=>{const De=[ie];return dt.filter(wt=>wt.parent_folder_id===ie).forEach(wt=>{De.push(...Vn(wt.id))}),De},Qe=b.useMemo(()=>{if(!p.trim())return Me;const ie=p.toLowerCase();return Me.map(De=>{if(!De.subcategories||De.subcategories.length===0)return null;const We=De.subcategories.filter(Ss=>Ss.toLowerCase().includes(ie)),wt=De.name.toLowerCase().includes(ie);return We.length===0&&!wt?null:{...De,subcategories:We.length>0?We:De.subcategories}}).filter(Boolean)},[Me,p]),bt=b.useMemo(()=>Ge.filter(ie=>{var Ss,br;const De=P===null?!ie.folder_id:ie.folder_id===P,We=o==="all"||ie.subcategories&&ie.subcategories.some(Ga=>{const _n=Me.find(yn=>yn.subcategories&&yn.subcategories.includes(Ga));return(_n==null?void 0:_n.name)===o}),wt=!i||((Ss=ie.title)==null?void 0:Ss.toLowerCase().includes(i.toLowerCase()))||((br=ie.description)==null?void 0:br.toLowerCase().includes(i.toLowerCase()));return De&&We&&wt}),[Ge,P,o,i,Me]),ds=b.useMemo(()=>it.filter(ie=>{const De=J===null?!ie.folder_id:ie.folder_id===J;return m==="image"?De&&ie.file_type==="image":De}),[it,J,m]);b.useEffect(()=>{Be(1)},[i,o,P,qe]);const we=Math.ceil(bt.length/qe),ut=(je-1)*qe,Pe=ut+qe,Ze=bt.slice(ut,Pe),yt=()=>{const ie=[];if(we<=5)for(let We=1;We<=we;We++)ie.push(We);else if(je<=3){for(let We=1;We<=4;We++)ie.push(We);we>5&&ie.push("..."),ie.push(we)}else if(je>=we-2){ie.push(1),we>5&&ie.push("...");for(let We=we-3;We<=we;We++)ie.push(We)}else{ie.push(1),ie.push("...");for(let We=je-1;We<=je+1;We++)ie.push(We);ie.push(we)}return ie},ns=ie=>Ge.filter(De=>De.folder_id===ie).length,os=ie=>it.filter(We=>m==="image"?We.file_type==="image":!0).filter(We=>We.folder_id===ie).length,Ys=Fe({mutationFn:ie=>K.entities.ResourceFolder.create(ie),onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),M(!1),E(null),te.success("Folder created successfully")},onError:ie=>{te.error("Failed to create folder: "+ie.message)}}),us=Fe({mutationFn:({id:ie,data:De})=>K.entities.ResourceFolder.update(ie,De),onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),M(!1),E(null),te.success("Folder updated successfully")},onError:ie=>{te.error("Failed to update folder: "+ie.message)}}),Dr=Fe({mutationFn:async ie=>{const De=Vn(ie),We=Ge.filter(Ss=>De.includes(Ss.folder_id));for(const Ss of We)await K.entities.Resource.update(Ss.id,{folder_id:null});const wt=dt.filter(Ss=>De.includes(Ss.id)).sort((Ss,br)=>Yt(br.id).length-Yt(Ss.id).length);for(const Ss of wt)await K.entities.ResourceFolder.delete(Ss.id)},onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),Se.invalidateQueries({queryKey:["admin-resources"]}),C(null),te.success("Folder and its subfolders deleted, resources moved to root")},onError:ie=>{te.error("Failed to delete folder: "+ie.message)}}),vn=Fe({mutationFn:async({folderId:ie,newParentId:De})=>{if(De&&Vn(ie).includes(De))throw new Error("Cannot move a folder into its own subfolder");await K.entities.ResourceFolder.update(ie,{parent_folder_id:De})},onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),V(!1),B(null),te.success("Folder moved successfully")},onError:ie=>{te.error("Failed to move folder: "+ie.message)}}),Xn=Fe({mutationFn:ie=>K.entities.Resource.create(ie),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after create"),a(!1),n(null),te.success("Resource created successfully")},onError:ie=>{te.error("Failed to create resource: "+ie.message)}}),Or=Fe({mutationFn:({id:ie,data:De})=>K.entities.Resource.update(ie,De),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after update"),a(!1),n(null),te.success("Resource updated successfully")},onError:ie=>{te.error("Failed to update resource: "+ie.message)}}),ia=Fe({mutationFn:ie=>K.entities.Resource.delete(ie),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after delete"),te.success("Resource deleted successfully")},onError:ie=>{te.error("Failed to delete resource: "+ie.message)}}),ge=Fe({mutationFn:async({resourceIds:ie,folderId:De})=>{for(const We of ie)await K.entities.Resource.update(We,{folder_id:De})},onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after move"),F(!1),L([]),W(!1),te.success("Resources moved successfully")},onError:ie=>{te.error("Failed to move resources: "+ie.message)}}),ft=(ie,De)=>{if(I&&$.includes(De.id)){de($),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",JSON.stringify($));const We=document.createElement("div");We.className="bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg font-medium",We.textContent=`Moving ${$.length} resource${$.length>1?"s":""}`,We.style.position="absolute",We.style.top="-1000px",document.body.appendChild(We),setTimeout(()=>document.body.removeChild(We),0)}else de([De.id]),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",JSON.stringify([De.id]))},xt=()=>{de([]),oe(null),pe&&(clearTimeout(pe),be(null))},Pt=(ie,De)=>{if(ie.preventDefault(),ie.stopPropagation(),ie.dataTransfer.dropEffect="move",ue!==De&&(oe(De),pe&&clearTimeout(pe),De&&!q[De])){const We=setTimeout(()=>{Z(wt=>({...wt,[De]:!0}))},800);be(We)}},_s=ie=>{ie.preventDefault();const De=ie.currentTarget.getBoundingClientRect(),We=ie.clientX,wt=ie.clientY;(We<De.left||We>=De.right||wt<De.top||wt>=De.bottom)&&(oe(null),pe&&(clearTimeout(pe),be(null)))},Rr=async(ie,De)=>{ie.preventDefault(),ie.stopPropagation(),pe&&(clearTimeout(pe),be(null)),oe(null);try{const We=JSON.parse(ie.dataTransfer.getData("text/plain"));We&&We.length>0&&await ge.mutateAsync({resourceIds:We,folderId:De==="root"?null:De})}catch(We){console.error("Drop error:",We)}de([])},yi=()=>{$.length===bt.length?L([]):L(bt.map(ie=>ie.id))},En=()=>{E({name:"",description:"",parent_folder_id:P,display_order:dt.filter(ie=>ie.parent_folder_id===P).length}),M(!0)},Xc=ie=>{E(ie),M(!0)},Zc=()=>{if(!k.name.trim()){te.error("Folder name is required");return}const ie={name:k.name,description:k.description||"",parent_folder_id:k.parent_folder_id||null,display_order:k.display_order||0};k.id?us.mutate({id:k.id,data:ie}):Ys.mutate(ie)},ed=ie=>{dt.find(Ss=>Ss.id===ie);const wt=dt.filter(Ss=>Ss.parent_folder_id===ie).length>0?"This folder contains subfolders. All subfolders and their resources will be moved to root. Continue?":"Are you sure you want to delete this folder? Resources will be moved to root.";confirm(wt)&&Dr.mutate(ie)},th=ie=>{B(ie),V(!0)},$o=ie=>{U&&vn.mutate({folderId:U.id,newParentId:ie==="root"?null:ie})},tn=ie=>{Z(De=>({...De,[ie]:!De[ie]}))},sh=ie=>{L(De=>De.includes(ie)?De.filter(We=>We!==ie):[...De,ie])},$l=()=>{if($.length===0){te.error("Please select resources to move");return}F(!0)},el=ie=>{ge.mutate({resourceIds:$,folderId:ie==="root"?null:ie})},Fr=(ie,De)=>{ge.mutate({resourceIds:[ie],folderId:De==="root"?null:De})},td=()=>{n({title:"",description:"",subcategories:[],resource_type:"external_link",target_url:"",open_in_new_tab:!0,image_url:"",release_date:new Date().toISOString(),is_public:!0,allowed_role_ids:[],tags:[],author_id:"",author_name:"",folder_id:P,status:"active"}),v(!1),w(!1),_(""),a(!0)},sd=ie=>{n({...ie,subcategories:ie.subcategories||[],allowed_role_ids:ie.allowed_role_ids||[],open_in_new_tab:ie.open_in_new_tab!==!1,author_id:ie.author_id||"",author_name:ie.author_name||"",status:ie.status||"active",release_date:ie.release_date||ie.published_date||new Date().toISOString()});const De=ie.image_url?it.some(We=>We.file_url===ie.image_url):!1;if(v(De),ie.resource_type==="download"&&ie.target_url){const We=it.find(wt=>wt.file_url===ie.target_url);We?(w(!0),_(We.file_name)):(w(!1),_(""))}else w(!1),_("");a(!0)},tl=()=>{if(!s.title.trim()){te.error("Title is required");return}if(!s.target_url.trim()){te.error(s.resource_type==="video"?"Embed code is required":"Target URL is required");return}if(!s.subcategories||s.subcategories.length===0){te.error("Please select at least one subcategory");return}const ie=(Ne==null?void 0:Ne.description_character_limit)||500;if(s.description&&s.description.length>ie){te.error(`Description must be ${ie} characters or less (currently ${s.description.length})`);return}const De={title:s.title,description:s.description,subcategories:s.subcategories||[],resource_type:s.resource_type,target_url:s.target_url,open_in_new_tab:s.open_in_new_tab,image_url:s.image_url,release_date:s.release_date,is_public:s.is_public,allowed_role_ids:s.allowed_role_ids||[],tags:s.tags||[],author_id:s.author_id||"",author_name:s.author_name||"",folder_id:s.folder_id||null,status:s.status||"active"};s.id?Or.mutate({id:s.id,data:De}):Xn.mutate(De)},yr=(ie,De,We="")=>{De==="image"?(n({...s,image_url:ie}),v(!0)):De==="target"&&(n({...s,target_url:ie}),w(!0),_(We)),h(null),Q(null),ae({})},nd=()=>{n({...s,image_url:""}),v(!1)},xe=()=>{n({...s,target_url:""}),w(!1),_("")},zt=ie=>{n({...s,image_url:ie.target.value}),v(!1)},et=ie=>{n({...s,target_url:ie.target.value}),w(!1),_("")},zs=()=>{if(u.trim()){if(s.tags.includes(u.trim())){te.error("Tag already exists");return}n({...s,tags:[...s.tags,u.trim()]}),d(""),A(!1)}},Rt=ie=>{if(s.tags.includes(ie)){te.error("Tag already exists");return}n({...s,tags:[...s.tags,ie]}),d(""),A(!1)},Zn=ie=>{n({...s,tags:s.tags.filter(De=>De!==ie)})},Lr=ie=>{const De=s.allowed_role_ids||[],We=De.includes(ie)?De.filter(wt=>wt!==ie):[...De,ie];n({...s,allowed_role_ids:We})},bi=ie=>{const De=s.subcategories||[],We=De.includes(ie)?De.filter(wt=>wt!==ie):[...De,ie];n({...s,subcategories:We})},cv=ie=>{const De=Ot.find(We=>We.id===ie);n(De?{...s,author_id:De.id,author_name:De.name}:{...s,author_id:"",author_name:""})},Uf=(ie,De=0)=>ie.map(We=>{const wt=q[We.id],Ss=We.children&&We.children.length>0,br=P===We.id,Ga=ue===We.id;return e.jsxs("div",{children:[e.jsx("div",{className:"relative group",onDragOver:_n=>Pt(_n,We.id),onDrop:_n=>Rr(_n,We.id),children:e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${br?"bg-blue-100":"hover:bg-slate-100"} ${Ga?"bg-blue-200 ring-2 ring-blue-400":""}`,style:{paddingLeft:`${De*20+12}px`},children:[Ss?e.jsx("button",{onClick:_n=>{_n.stopPropagation(),tn(We.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(ys,{className:`w-4 h-4 transition-transform ${wt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(gl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>C(We.id),className:"flex-1 text-sm",children:We.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",ns(We.id),")"]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:_n=>{_n.stopPropagation(),Xc(We)},className:"p-1 hover:bg-slate-200 rounded",title:"Edit folder",children:e.jsx(Ps,{className:"w-3 h-3 text-slate-600"})}),e.jsx("button",{onClick:_n=>{_n.stopPropagation(),th(We)},className:"p-1 hover:bg-blue-100 rounded",title:"Move folder",children:e.jsx(Ei,{className:"w-3 h-3 text-blue-600"})}),e.jsx("button",{onClick:_n=>{_n.stopPropagation(),ed(We.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete folder",children:e.jsx(is,{className:"w-3 h-3 text-red-600"})})]})]})}),Ss&&wt&&e.jsx("div",{children:Uf(We.children,De+1)})]},We.id)}),Uo=(ie,De=null,We=0)=>ie.map(wt=>(De?Vn(De):[]).includes(wt.id)?null:e.jsxs("div",{children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start mb-1",onClick:()=>{z?$o(wt.id):el(wt.id)},style:{paddingLeft:`${We*20+16}px`},children:[e.jsx(gl,{className:"w-4 h-4 mr-2"}),wt.name]}),wt.children&&wt.children.length>0&&e.jsxs("div",{className:"ml-4",children:[" ",Uo(wt.children,De,We+1)]})]},wt.id)),Vf=ie=>{ae(De=>({...De,[ie]:!De[ie]}))},rd=(ie,De=0)=>ie.map(We=>{const wt=G[We.id],Ss=We.children&&We.children.length>0,br=J===We.id;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${br?"bg-blue-100":"hover:bg-slate-100"}`,style:{paddingLeft:`${De*20+12}px`},children:[Ss?e.jsx("button",{onClick:Ga=>{Ga.stopPropagation(),Vf(We.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(ys,{className:`w-4 h-4 transition-transform ${wt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(gl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>Q(We.id),className:"flex-1 text-sm",children:We.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",os(We.id),")"]})]}),Ss&&wt&&e.jsx("div",{children:rd(We.children,De+1)})]},We.id)});return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Manage Resources"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage resource library content  Drag resources to folders"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:En,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[e.jsx(V6,{className:"w-4 h-4 mr-2"}),P?"New Subfolder":"New Folder"]}),e.jsxs(X,{onClick:td,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Resource"]})]})]}),(Ne==null?void 0:Ne.show_folders)!==!1&&I&&e.jsx(le,{className:"border-blue-500 bg-blue-50 shadow-md mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white rounded-full p-2",children:e.jsx(Ei,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Bulk Move Mode Active"}),e.jsx("p",{className:"text-sm text-blue-700",children:$.length===0?"Select resources below or drag them to folders":`${$.length} resource${$.length>1?"s":""} selected  Drag to move`})]})]}),e.jsxs("div",{className:"flex gap-2",children:[bt.length>0&&e.jsx(X,{onClick:yi,size:"sm",variant:"outline",className:"bg-white",children:$.length===bt.length?"Deselect All":"Select All"}),$.length>0&&e.jsxs(X,{onClick:$l,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Move ",$.length," Selected"]}),e.jsx(X,{onClick:()=>{W(!1),L([])},size:"sm",variant:"ghost",children:"Cancel"})]})]})})}),(Ne==null?void 0:Ne.show_folders)!==!1&&e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"w-5 h-5 text-slate-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Folders"}),e.jsx(ve,{variant:"outline",className:"ml-2 text-xs",children:"Drag & Drop Enabled"})]}),!I&&e.jsxs(X,{onClick:()=>W(!0),size:"sm",variant:"outline",children:[e.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Bulk Move Mode"]})]}),(As.length>0||P===null)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>C(null),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900",children:[e.jsx(wm,{className:"w-4 h-4"}),"Root"]}),As.map((ie,De)=>e.jsxs(Ie.Fragment,{children:[e.jsx(ys,{className:"w-4 h-4 text-slate-400"}),e.jsx("button",{onClick:()=>C(ie.id),className:`text-sm ${De===As.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ie.name})]},ie.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",onDragLeave:_s,children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${P===null?"bg-blue-100":"hover:bg-slate-100"} ${ue==="root"?"bg-blue-200 ring-2 ring-blue-400":""}`,onClick:()=>C(null),onDragOver:ie=>Pt(ie,"root"),onDrop:ie=>Rr(ie,"root"),children:[e.jsx(fo,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",Ge.filter(ie=>!ie.folder_id).length,")"]})]}),Uf(Ns)]})]})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search resources...",value:i,onChange:ie=>l(ie.target.value),className:"pl-10"})]}),e.jsxs(He,{value:o,onValueChange:c,children:[e.jsx(Ue,{className:"w-full md:w-48",children:e.jsx(Ye,{placeholder:"Filter by category"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Categories"},"all"),Me.map(ie=>e.jsx(re,{value:ie.name,children:ie.name},ie.id))]})]})]})})}),Ke?e.jsx("div",{className:"text-center py-12",children:"Loading resources..."}):bt.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ts,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Resources Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:i||o!=="all"||P?"Try adjusting your filters":"Create your first resource to get started"}),!i&&o==="all"&&e.jsxs(X,{onClick:td,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Resource"]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Ze.map(ie=>{var _n;const De=((_n=ie.allowed_role_ids)==null?void 0:_n.length)||0,We=ie.is_public?"Public":De===0?"All Members":`${De} Role${De>1?"s":""}`,wt=$.includes(ie.id),Ss=se.includes(ie.id),br=ie.release_date||ie.published_date,Ga=br&&new Date(br)>new Date;return e.jsxs(le,{draggable:!0,onDragStart:yn=>ft(yn,ie),onDragEnd:xt,className:`border-slate-200 shadow-sm hover:shadow-md transition-all relative ${I?"cursor-pointer":"cursor-grab"} ${wt?"ring-4 ring-blue-500 bg-blue-50":""} ${Ss?"opacity-50":""}`,onClick:()=>{I&&sh(ie.id)},children:[e.jsx("div",{className:"absolute top-2 right-2 z-10 p-1 bg-slate-100 rounded hover:bg-slate-200 cursor-grab",children:e.jsx(Uc,{className:"w-4 h-4 text-slate-400"})}),I&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${wt?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:wt&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),ie.image_url&&e.jsx("div",{className:"h-40 overflow-hidden bg-slate-100",children:e.jsx("img",{src:ie.image_url,alt:ie.title,className:"w-full h-full object-cover"})}),e.jsxs(Re,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[ie.subcategories&&ie.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[ie.subcategories.slice(0,2).map((yn,ji)=>e.jsx(ve,{className:"bg-blue-100 text-blue-700 text-xs",children:yn},ji)),ie.subcategories.length>2&&e.jsxs(ve,{variant:"outline",className:"text-xs",children:["+",ie.subcategories.length-2]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsxs(ve,{variant:"outline",children:[e.jsx(Ln,{className:"w-3 h-3 mr-1"}),We]}),ie.status==="draft"&&e.jsx(ve,{className:"bg-amber-100 text-amber-700",children:"Draft"}),Ga&&e.jsxs(ve,{className:"bg-purple-100 text-purple-700",children:[e.jsx(en,{className:"w-3 h-3 mr-1"}),"Scheduled"]})]})]}),e.jsx($e,{className:"text-lg line-clamp-2",children:ie.title}),ie.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-2",children:ie.description}),Ga&&e.jsxs("p",{className:"text-xs text-purple-600 mt-2 flex items-center gap-1",children:[e.jsx(js,{className:"w-3 h-3"}),"Releases: ",At(new Date(br),"MMM d, yyyy h:mm a")]})]}),e.jsx(ce,{className:"pt-0",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:yn=>{yn.stopPropagation(),sd(ie)},className:"flex-1",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),!I&&e.jsxs(He,{value:ie.folder_id||"root",onValueChange:yn=>{Fr(ie.id,yn)},children:[e.jsx(Ue,{className:"w-28",onClick:yn=>yn.stopPropagation(),children:e.jsx(Ei,{className:"w-3 h-3 mr-1"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"root",children:"Root"}),dt.map(yn=>e.jsx(re,{value:yn.id,children:yn.name},yn.id))]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:yn=>{yn.stopPropagation(),ia.mutate(ie.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})})]},ie.id)})}),we>1&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:qe.toString(),onValueChange:ie=>{ke(Number(ie)),Be(1)},children:[e.jsx(Ue,{className:"w-20",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"9",children:"9"}),e.jsx(re,{value:"18",children:"18"}),e.jsx(re,{value:"36",children:"36"}),e.jsx(re,{value:"72",children:"72"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",ut+1,"-",Math.min(Pe,bt.length)," of ",bt.length," resources"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Be(ie=>Math.max(1,ie-1)),disabled:je===1,children:e.jsx(Un,{className:"w-4 h-4"})}),yt().map((ie,De)=>e.jsx(Ie.Fragment,{children:ie==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:je===ie?"default":"outline",size:"sm",onClick:()=>Be(ie),className:je===ie?"bg-blue-600 hover:bg-blue-700":"",children:ie})},De)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Be(ie=>Math.min(we,ie+1)),disabled:je===we,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]}),e.jsx(St,{open:R,onOpenChange:ie=>{M(ie),ie||E(null)},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:k!=null&&k.id?"Edit Folder":P?"Create New Subfolder":"Create New Folder"})}),k&&e.jsxs("div",{className:"space-y-4",children:[k.parent_folder_id&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Parent Folder: "}),((Ul=dt.find(ie=>ie.id===k.parent_folder_id))==null?void 0:Ul.name)||"Root"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"folder-name",children:"Folder Name *"}),e.jsx(he,{id:"folder-name",value:k.name,onChange:ie=>E({...k,name:ie.target.value}),placeholder:"e.g., Training Materials"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"folder-description",children:"Description (Optional)"}),e.jsx(Ht,{id:"folder-description",value:k.description||"",onChange:ie=>E({...k,description:ie.target.value}),placeholder:"Brief description of this folder...",rows:3})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),e.jsx(X,{onClick:Zc,disabled:Ys.isPending||us.isPending,className:"bg-blue-600 hover:bg-blue-700",children:k!=null&&k.id?"Update Folder":"Create Folder"})]})]})}),e.jsx(St,{open:O,onOpenChange:ie=>{F(ie)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Move Resources to Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a folder to move ",$.length," selected resource",$.length>1?"s":""," to:"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>el("root"),children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),"Root (No Folder)"]}),Uo(Ns)]})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>F(!1),children:"Cancel"})})]})}),e.jsx(St,{open:z,onOpenChange:ie=>{V(ie),ie||B(null)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Move Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a destination for ",e.jsx("strong",{children:U==null?void 0:U.name}),":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>$o("root"),children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),"Root (Top Level)"]}),Uo(Ns,U==null?void 0:U.id)]})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>{V(!1),B(null)},children:"Cancel"})})]})}),e.jsx(St,{open:r,onOpenChange:ie=>{a(ie),ie||(g(""),v(!1),w(!1),_(""),A(!1))},children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:s!=null&&s.id?"Edit Resource":"Create New Resource"})}),s&&e.jsxs("div",{className:"space-y-6",children:[s.folder_id&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx(gl,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-900",children:["Folder: ",((Wf=dt.find(ie=>ie.id===s.folder_id))==null?void 0:Wf.name)||"Unknown Folder"]})]}),!s.folder_id&&P&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx(fo,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"Folder: Root"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",value:s.title,onChange:ie=>n({...s,title:ie.target.value}),placeholder:"Resource title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:s.description||"",onChange:ie=>n({...s,description:ie.target.value}),placeholder:"Brief description...",rows:3,maxLength:(Ne==null?void 0:Ne.description_character_limit)||500}),e.jsxs("p",{className:"text-xs text-slate-500",children:[((ad=s.description)==null?void 0:ad.length)||0," / ",(Ne==null?void 0:Ne.description_character_limit)||500," characters"]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"status-toggle",checked:s.status==="active",onCheckedChange:ie=>n({...s,status:ie?"active":"draft"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"status-toggle",className:"cursor-pointer font-medium",children:s.status==="active"?"Active":"Draft"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.status==="active"?"This resource is visible to users":"This resource is hidden from users (draft mode)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"resource-type",children:"Resource Type *"}),e.jsxs(He,{value:s.resource_type,onValueChange:ie=>{n({...s,resource_type:ie}),ie!=="download"&&(w(!1),_(""))},children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"download",children:"Download"}),e.jsx(re,{value:"video",children:"Video"}),e.jsx(re,{value:"external_link",children:"External Link"})]})]})]}),Me.some(ie=>ie.subcategories&&ie.subcategories.length>0)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Categories & Subcategories *"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Select any categories and subcategories that apply to this resource"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search categories and subcategories...",value:p,onChange:ie=>g(ie.target.value),className:"pl-10 pr-10"}),p&&e.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ws,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-slate-200 rounded-lg p-3 space-y-3",children:Qe.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsx("p",{className:"text-sm",children:"No matching categories or subcategories found"})}):Qe.map(ie=>!ie.subcategories||ie.subcategories.length===0?null:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider",children:ie.name}),e.jsx("div",{className:"space-y-1 pl-2",children:ie.subcategories.map(De=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded cursor-pointer",onClick:()=>bi(De),children:[e.jsx(pa,{id:`sub-${ie.name}-${De}`,checked:(s.subcategories||[]).includes(De),onCheckedChange:()=>bi(De),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(ee,{htmlFor:`sub-${ie.name}-${De}`,className:"flex-1 cursor-pointer text-sm",children:De})]},De))})]},ie.id))}),s.subcategories&&s.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-xs font-medium text-blue-900 w-full mb-1",children:["Selected: ",s.subcategories.length]}),s.subcategories.map((ie,De)=>e.jsxs(ve,{className:"bg-blue-100 text-blue-700 pr-1",children:[ie,e.jsx("button",{onClick:()=>bi(ie),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(ws,{className:"w-3 h-3"})})]},De))]})]}),s.resource_type==="video"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"embed-code",children:"Video Embed Code *"}),e.jsx(Ht,{id:"embed-code",value:s.target_url,onChange:et,placeholder:"Paste your video embed code here (e.g., YouTube or Vimeo embed code)",rows:4,className:"font-mono text-sm"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Paste the complete embed code from your video platform"})]}):s.resource_type==="download"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"download-url",children:"Download File *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"download-url",value:j?"":s.target_url||"",onChange:et,placeholder:j?"File selected from repository":"https://... or select from repository",className:"flex-1"}),e.jsxs(X,{type:"button",variant:"outline",onClick:()=>h("target"),children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Select from Repository"]})]}),s.target_url&&e.jsxs("div",{className:"mt-2 p-3 border border-slate-200 rounded-lg bg-slate-50 relative",children:[e.jsxs("div",{className:"flex items-center gap-2 pr-10",children:[e.jsx(ts,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("p",{className:"text-sm text-slate-700 flex-1 truncate",children:j?N:"External file URL"})]}),e.jsx("button",{onClick:xe,className:"absolute bottom-2 right-2 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove file",children:e.jsx(is,{className:"w-3 h-3"})})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"external-url",children:"External Link URL *"}),e.jsx(he,{id:"external-url",value:s.target_url,onChange:et,placeholder:"https://example.com",className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg mt-2",children:[e.jsx(ls,{id:"open-new-tab",checked:s.open_in_new_tab,onCheckedChange:ie=>n({...s,open_in_new_tab:ie})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"open-new-tab",className:"cursor-pointer text-sm",children:"Open in new tab"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"When enabled, the link will open in a new browser tab"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"image-url",children:"Image URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"image-url",value:y?"":s.image_url||"",onChange:zt,placeholder:y?"Image selected from repository":"https://... or select from repository",className:"flex-1"}),e.jsxs(X,{type:"button",variant:"outline",onClick:()=>h("image"),children:[e.jsx(ri,{className:"w-4 h-4 mr-2"}),"Select from Repository"]})]}),s.image_url&&e.jsxs("div",{className:"mt-2 p-2 border border-slate-200 rounded-lg relative",children:[e.jsx("img",{src:s.image_url,alt:"Preview",className:"w-full h-32 object-cover rounded"}),e.jsx("button",{onClick:nd,className:"absolute bottom-3 right-3 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove image",children:e.jsx(is,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Tags"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add tag",value:u,onChange:ie=>{d(ie.target.value),A(!0)},onKeyPress:ie=>{ie.key==="Enter"&&(ie.preventDefault(),zs())},onFocus:()=>A(!0),onBlur:()=>{setTimeout(()=>A(!1),200)}}),e.jsx(X,{onClick:zs,size:"sm",children:e.jsx(Et,{className:"w-4 h-4"})})]}),T&&Ls.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Ls.map((ie,De)=>e.jsx("button",{type:"button",onClick:()=>Rt(ie),className:"w-full text-left px-3 py-2 hover:bg-blue-50 transition-colors text-sm",children:ie},De))})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 rounded-lg",children:s.tags.map((ie,De)=>e.jsxs(ve,{className:"bg-slate-200 text-slate-700 pr-1",children:[ie,e.jsx("button",{onClick:()=>Zn(ie),className:"ml-2 hover:bg-slate-300 rounded-full p-0.5",children:e.jsx(ws,{className:"w-3 h-3"})})]},De))})]}),Ot.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"author",children:"Author (Optional)"}),e.jsxs(He,{value:s.author_id||"none",onValueChange:ie=>cv(ie==="none"?"":ie),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select an author..."})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:"No author"}),Ot.map(ie=>e.jsxs(re,{value:ie.id,children:[ie.name," (",ie.email,")"]},ie.id))]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Select from members and team members with designated author roles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"release-date",children:"Release Date & Time"}),e.jsx(he,{id:"release-date",type:"datetime-local",value:s.release_date?new Date(s.release_date).toISOString().slice(0,16):"",onChange:ie=>{const De=ie.target.value?new Date(ie.target.value).toISOString():new Date().toISOString();n({...s,release_date:De})},className:"flex-1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set a future date to schedule the resource release. Past dates show when the resource was originally published."}),s.release_date&&new Date(s.release_date)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(en,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["This resource is scheduled for release on ",At(new Date(s.release_date),"MMMM d, yyyy")," at ",At(new Date(s.release_date),"h:mm a")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is-public",checked:s.is_public,onCheckedChange:ie=>n({...s,is_public:ie})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-public",className:"cursor-pointer font-medium",children:"Public Resource"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Make this resource visible to non-members"})]})]}),!s.is_public&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-4 h-4 text-blue-600"}),e.jsx(ee,{className:"font-medium text-blue-900",children:"Role Access Control"})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"Select which roles can access this resource. Leave all unchecked to allow all member roles."}),e.jsx("div",{className:"space-y-2",children:at.map(ie=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>Lr(ie.id),children:[e.jsx(pa,{id:`role-${ie.id}`,checked:(s.allowed_role_ids||[]).includes(ie.id),onCheckedChange:()=>Lr(ie.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(ee,{htmlFor:`role-${ie.id}`,className:"flex-1 cursor-pointer text-sm",children:[ie.name,ie.is_admin&&e.jsx(ve,{className:"ml-2 bg-amber-100 text-amber-700 text-xs",children:"Admin"})]})]},ie.id))})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),n(null),d(""),g(""),v(!1),w(!1),_(""),A(!1)},children:"Cancel"}),e.jsx(X,{onClick:tl,disabled:Xn.isPending||Or.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update Resource":"Create Resource"})]})]})}),e.jsx(St,{open:!!m,onOpenChange:()=>{h(null),Q(null),ae({})},children:e.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] grid grid-rows-[auto_1fr_auto] gap-4",children:[e.jsx(Ct,{children:e.jsxs(kt,{children:["Select ",m==="image"?"Image":"File"," from Repository"]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 py-4",children:[e.jsxs("div",{className:"md:col-span-1 border-r border-slate-200 pr-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Folders"}),e.jsxs("div",{className:"mb-3 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>Q(null),className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-900",children:[e.jsx(wm,{className:"w-3 h-3"}),"Root"]}),vr.map((ie,De)=>e.jsxs(Ie.Fragment,{children:[e.jsx(ys,{className:"w-3 h-3 text-slate-400 inline-block mx-1"}),e.jsx("button",{onClick:()=>Q(ie.id),className:`text-xs ${De===vr.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ie.name})]},ie.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${J===null?"bg-blue-100":"hover:bg-slate-100"}`,onClick:()=>Q(null),children:[e.jsx(fo,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",it.filter(ie=>!ie.folder_id&&(m==="image"?ie.file_type==="image":!0)).length,")"]})]}),rd(ln)]})]}),e.jsx("div",{className:"md:col-span-3 overflow-y-auto",children:ds.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ts,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"No files in this folder"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:J?"Try selecting a different folder":"Upload files in the File Repository page"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:ds.map(ie=>e.jsxs("button",{onClick:()=>yr(ie.file_url,m,ie.file_name),className:"text-left border-2 border-slate-200 rounded-lg hover:border-blue-500 transition-colors p-2",children:[ie.file_type==="image"?e.jsx("img",{src:ie.file_url,alt:ie.file_name,className:"w-full h-32 object-cover rounded mb-2"}):e.jsx("div",{className:"w-full h-32 bg-slate-100 rounded flex items-center justify-center mb-2",children:e.jsx(ts,{className:"w-12 h-12 text-slate-400"})}),e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:ie.file_name}),ie.description&&e.jsx("p",{className:"text-xs text-slate-500 truncate mt-1",children:ie.description})]},ie.id))})})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>{h(null),Q(null),ae({})},children:"Cancel"})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function UB({isAdmin:t,memberInfo:s}){var ia;const[n,r]=b.useState(!1),[a,i]=b.useState(null),[l,o]=b.useState(!1),[c,u]=b.useState(""),[d,m]=b.useState("all"),[h,p]=b.useState(""),[g,y]=b.useState(null),[v,j]=b.useState(!1),[w,N]=b.useState(null),[_,T]=b.useState(!1),[A,P]=b.useState(!1),[C,R]=b.useState(null),[M,k]=b.useState([]),[E,O]=b.useState(!1),[F,z]=b.useState({}),[V,U]=b.useState([]),[B,$]=b.useState(null),[L,I]=b.useState(null),[W,q]=b.useState(1),[Z,J]=b.useState(12),Q=Gt(),{data:G,isLoading:ae}=me({queryKey:["file-repository"],queryFn:()=>K.entities.FileRepository.list("-created_date"),initialData:[]}),{data:se,isLoading:de}=me({queryKey:["file-repository-folders"],queryFn:()=>K.entities.FileRepositoryFolder.list("display_order"),initialData:[]}),ue=b.useMemo(()=>{const ge=ft=>se.filter(xt=>xt.parent_folder_id===ft).sort((xt,Pt)=>(xt.display_order||0)-(Pt.display_order||0)).map(xt=>({...xt,children:ge(xt.id)}));return ge(null)},[se]),oe=ge=>{if(!ge)return[];const ft=[];let xt=ge;for(;xt;){const Pt=se.find(_s=>_s.id===xt);if(Pt)ft.unshift(Pt),xt=Pt.parent_folder_id;else break}return ft},pe=b.useMemo(()=>oe(g),[g,se]),be=ge=>{const ft=[ge];return se.filter(Pt=>Pt.parent_folder_id===ge).forEach(Pt=>{ft.push(...be(Pt.id))}),ft},je=ge=>G.filter(ft=>ft.folder_id===ge).length,Be=Fe({mutationFn:ge=>K.entities.FileRepositoryFolder.create(ge),onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository-folders"]}),j(!1),N(null),te.success("Folder created successfully")},onError:ge=>{te.error("Failed to create folder: "+ge.message)}}),qe=Fe({mutationFn:({id:ge,data:ft})=>K.entities.FileRepositoryFolder.update(ge,ft),onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository-folders"]}),j(!1),N(null),te.success("Folder updated successfully")},onError:ge=>{te.error("Failed to update folder: "+ge.message)}}),ke=Fe({mutationFn:async ge=>{const ft=be(ge),xt=G.filter(_s=>ft.includes(_s.folder_id));for(const _s of xt)await K.entities.FileRepository.update(_s.id,{folder_id:null});const Pt=se.filter(_s=>ft.includes(_s.id)).sort((_s,Rr)=>oe(Rr.id).length-oe(_s.id).length);for(const _s of Pt)await K.entities.FileRepositoryFolder.delete(_s.id)},onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository-folders"]}),Q.invalidateQueries({queryKey:["file-repository"]}),y(null),te.success("Folder and its subfolders deleted, files moved to root")},onError:ge=>{te.error("Failed to delete folder: "+ge.message)}}),Se=Fe({mutationFn:async({folderId:ge,newParentId:ft})=>{if(ft&&be(ge).includes(ft))throw new Error("Cannot move a folder into its own subfolder");await K.entities.FileRepositoryFolder.update(ge,{parent_folder_id:ft})},onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository-folders"]}),P(!1),R(null),te.success("Folder moved successfully")},onError:ge=>{te.error("Failed to move folder: "+ge.message)}}),Ge=Fe({mutationFn:ge=>K.entities.FileRepository.delete(ge),onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository"]}),te.success("File deleted successfully")},onError:ge=>{te.error("Failed to delete file: "+ge.message)}}),Ke=Fe({mutationFn:({id:ge,data:ft})=>K.entities.FileRepository.update(ge,ft),onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository"]}),o(!1),i(null),te.success("File updated successfully")},onError:ge=>{te.error("Failed to update file: "+ge.message)}}),Me=Fe({mutationFn:async({fileIds:ge,folderId:ft})=>{for(const xt of ge)await K.entities.FileRepository.update(xt,{folder_id:ft})},onSuccess:()=>{Q.invalidateQueries({queryKey:["file-repository"]}),T(!1),k([]),O(!1),te.success("Files moved successfully")},onError:ge=>{te.error("Failed to move files: "+ge.message)}}),it=b.useMemo(()=>G.filter(ge=>{var _s,Rr,yi;const ft=g===null?!ge.folder_id:ge.folder_id===g,xt=!c||((_s=ge.file_name)==null?void 0:_s.toLowerCase().includes(c.toLowerCase()))||((Rr=ge.description)==null?void 0:Rr.toLowerCase().includes(c.toLowerCase()))||((yi=ge.tags)==null?void 0:yi.some(En=>En.toLowerCase().includes(c.toLowerCase()))),Pt=d==="all"||ge.file_type===d;return ft&&xt&&Pt}),[G,g,c,d]);b.useEffect(()=>{q(1)},[c,d,g,Z]);const _e=Math.ceil(it.length/Z),at=(W-1)*Z,Ne=at+Z,ze=it.slice(at,Ne),nt=()=>{const ge=[];if(_e<=5)for(let xt=1;xt<=_e;xt++)ge.push(xt);else if(W<=3){for(let xt=1;xt<=4;xt++)ge.push(xt);_e>5&&ge.push("..."),ge.push(_e)}else if(W>=_e-2){ge.push(1),_e>5&&ge.push("...");for(let xt=_e-3;xt<=_e;xt++)ge.push(xt)}else{ge.push(1),ge.push("...");for(let xt=W-1;xt<=W+1;xt++)ge.push(xt);ge.push("..."),ge.push(_e)}return ge},dt=ge=>{q(ge),window.scrollTo({top:0,behavior:"smooth"})},lt=(ge,ft)=>{if(E&&M.includes(ft.id)){U(M),ge.dataTransfer.effectAllowed="move",ge.dataTransfer.setData("text/plain",JSON.stringify(M));const xt=document.createElement("div");xt.className="bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg font-medium",xt.textContent=`Moving ${M.length} file${M.length>1?"s":""}`,xt.style.position="absolute",xt.style.top="-1000px",document.body.appendChild(xt),ge.dataTransfer.setDragImage(xt,0,0),setTimeout(()=>document.body.removeChild(xt),0)}else U([ft.id]),ge.dataTransfer.effectAllowed="move",ge.dataTransfer.setData("text/plain",JSON.stringify([ft.id]))},Ot=()=>{U([]),$(null),L&&(clearTimeout(L),I(null))},Xt=(ge,ft)=>{if(ge.preventDefault(),ge.stopPropagation(),ge.dataTransfer.dropEffect="move",B!==ft&&($(ft),L&&clearTimeout(L),ft&&!F[ft])){const xt=setTimeout(()=>{z(Pt=>({...Pt,[ft]:!0}))},800);I(xt)}},Ls=ge=>{ge.preventDefault();const ft=ge.currentTarget.getBoundingClientRect(),xt=ge.clientX,Pt=ge.clientY;(xt<ft.left||xt>=ft.right||Pt<ft.top||Pt>=ft.bottom)&&($(null),L&&(clearTimeout(L),I(null)))},Ns=async(ge,ft)=>{ge.preventDefault(),ge.stopPropagation(),L&&(clearTimeout(L),I(null)),$(null);try{const xt=JSON.parse(ge.dataTransfer.getData("text/plain"));xt&&xt.length>0&&await Me.mutateAsync({fileIds:xt,folderId:ft==="root"?null:ft})}catch(xt){console.error("Drop error:",xt)}U([])},ln=async ge=>{var xt;const ft=(xt=ge.target.files)==null?void 0:xt[0];if(ft){r(!0);try{const{file_url:Pt}=await K.integrations.Core.UploadFile({file:ft});let _s="other";ft.type.startsWith("image/")?_s="image":ft.type.startsWith("video/")?_s="video":(ft.type.includes("pdf")||ft.type.includes("document"))&&(_s="document"),await K.entities.FileRepository.create({file_name:ft.name,file_url:Pt,file_type:_s,mime_type:ft.type,file_size:ft.size,uploaded_by:(s==null?void 0:s.email)||"unknown",folder_id:g}),Q.invalidateQueries({queryKey:["file-repository"]}),te.success("File uploaded successfully"),ge.target.value=""}catch(Pt){te.error("Failed to upload file: "+Pt.message)}finally{r(!1)}}},Yt=ge=>{i({...ge}),o(!0)},fn=()=>{a&&Ke.mutate({id:a.id,data:{description:a.description||"",tags:a.tags||[]}})},As=()=>{var ge;if(!(!h.trim()||!a)){if((ge=a.tags)!=null&&ge.includes(h.trim())){te.error("Tag already exists");return}i({...a,tags:[...a.tags||[],h.trim()]}),p("")}},vr=ge=>{a&&i({...a,tags:(a.tags||[]).filter(ft=>ft!==ge)})},Vn=ge=>{navigator.clipboard.writeText(ge),te.success("URL copied to clipboard")},Qe=()=>{N({name:"",description:"",parent_folder_id:g,display_order:se.filter(ge=>ge.parent_folder_id===g).length}),j(!0)},bt=ge=>{N(ge),j(!0)},ds=()=>{if(!w.name.trim()){te.error("Folder name is required");return}const ge={name:w.name,description:w.description||"",parent_folder_id:w.parent_folder_id||null,display_order:w.display_order||0};w.id?qe.mutate({id:w.id,data:ge}):Be.mutate(ge)},we=ge=>{se.find(_s=>_s.id===ge);const Pt=se.filter(_s=>_s.parent_folder_id===ge).length>0?"This folder contains subfolders. All subfolders and their files will be moved to root. Continue?":"Are you sure you want to delete this folder? Files will be moved to root.";confirm(Pt)&&ke.mutate(ge)},ut=ge=>{R(ge),P(!0)},Pe=ge=>{C&&Se.mutate({folderId:C.id,newParentId:ge==="root"?null:ge})},Ze=ge=>{z(ft=>({...ft,[ge]:!ft[ge]}))},yt=ge=>{k(ft=>ft.includes(ge)?ft.filter(xt=>xt!==ge):[...ft,ge])},ns=()=>{M.length===it.length?k([]):k(it.map(ge=>ge.id))},os=()=>{if(M.length===0){te.error("Please select files to move");return}T(!0)},Ys=ge=>{Me.mutate({fileIds:M,folderId:ge==="root"?null:ge})},us=(ge,ft)=>{Me.mutate({fileIds:[ge],folderId:ft==="root"?null:ft})},Dr=(ge,ft=0)=>ge.map(xt=>{const Pt=F[xt.id],_s=xt.children&&xt.children.length>0,Rr=g===xt.id,yi=B===xt.id;return e.jsxs("div",{children:[e.jsx("div",{className:"relative group",onDragOver:En=>Xt(En,xt.id),onDrop:En=>Ns(En,xt.id),children:e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${Rr?"bg-blue-100":"hover:bg-slate-100"} ${yi?"bg-blue-200 ring-2 ring-blue-400":""}`,style:{paddingLeft:`${ft*20+12}px`},children:[_s?e.jsx("button",{onClick:En=>{En.stopPropagation(),Ze(xt.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(ys,{className:`w-4 h-4 transition-transform ${Pt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(gl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>y(xt.id),className:"flex-1 text-sm",children:xt.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",je(xt.id),")"]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:En=>{En.stopPropagation(),bt(xt)},className:"p-1 hover:bg-slate-200 rounded",title:"Edit folder",children:e.jsx(Ps,{className:"w-3 h-3 text-slate-600"})}),e.jsx("button",{onClick:En=>{En.stopPropagation(),ut(xt)},className:"p-1 hover:bg-blue-100 rounded",title:"Move folder",children:e.jsx(Ei,{className:"w-3 h-3 text-blue-600"})}),e.jsx("button",{onClick:En=>{En.stopPropagation(),we(xt.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete folder",children:e.jsx(is,{className:"w-3 h-3 text-red-600"})})]})]})}),_s&&Pt&&e.jsx("div",{children:Dr(xt.children,ft+1)})]},xt.id)}),vn=(ge,ft=null,xt=0)=>ge.map(Pt=>(ft?be(ft):[]).includes(Pt.id)?null:e.jsxs("div",{children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start mb-1",onClick:()=>{A?Pe(Pt.id):Ys(Pt.id)},style:{paddingLeft:`${xt*20+16}px`},children:[e.jsx(gl,{className:"w-4 h-4 mr-2"}),Pt.name]}),Pt.children&&Pt.children.length>0&&e.jsx("div",{className:"ml-4",children:vn(Pt.children,ft,xt+1)})]},Pt.id)),Xn=ge=>{switch(ge){case"image":return e.jsx(ri,{className:"w-8 h-8 text-blue-600"});case"video":return e.jsx(vK,{className:"w-8 h-8 text-purple-600"});case"document":return e.jsx(ts,{className:"w-8 h-8 text-green-600"});default:return e.jsx(zH,{className:"w-8 h-8 text-slate-600"})}},Or=ge=>ge<1024?ge+" B":ge<1024*1024?(ge/1024).toFixed(1)+" KB":(ge/(1024*1024)).toFixed(1)+" MB";return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"File Repository"}),e.jsx("p",{className:"text-slate-600",children:"Upload and manage files  Drag files to folders"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:Qe,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[e.jsx(V6,{className:"w-4 h-4 mr-2"}),g?"New Subfolder":"New Folder"]}),e.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:ln,disabled:n}),e.jsxs(X,{onClick:()=>{var ge;return(ge=document.getElementById("file-upload"))==null?void 0:ge.click()},disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Upload File"]})]})]}),E&&e.jsx(le,{className:"border-blue-500 bg-blue-50 shadow-md mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white rounded-full p-2",children:e.jsx(Ei,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Bulk Move Mode Active"}),e.jsx("p",{className:"text-sm text-blue-700",children:M.length===0?"Select files below or drag them to folders":`${M.length} file${M.length>1?"s":""} selected  Drag to move`})]})]}),e.jsxs("div",{className:"flex gap-2",children:[it.length>0&&e.jsx(X,{onClick:ns,size:"sm",variant:"outline",className:"bg-white",children:M.length===it.length?"Deselect All":"Select All"}),M.length>0&&e.jsxs(X,{onClick:os,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Move ",M.length," Selected"]}),e.jsx(X,{onClick:()=>{O(!1),k([])},size:"sm",variant:"ghost",children:"Cancel"})]})]})})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"w-5 h-5 text-slate-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Folders"}),e.jsx(ve,{variant:"outline",className:"ml-2 text-xs",children:"Drag & Drop Enabled"})]}),!E&&e.jsxs(X,{onClick:()=>O(!0),size:"sm",variant:"outline",children:[e.jsx(Ei,{className:"w-4 h-4 mr-2"}),"Bulk Move Mode"]})]}),(pe.length>0||g===null)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>y(null),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900",children:[e.jsx(wm,{className:"w-4 h-4"}),"Root"]}),pe.map((ge,ft)=>e.jsxs(Ie.Fragment,{children:[e.jsx(ys,{className:"w-4 h-4 text-slate-400"}),e.jsx("button",{onClick:()=>y(ge.id),className:`text-sm ${ft===pe.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ge.name})]},ge.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",onDragLeave:Ls,children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${g===null?"bg-blue-100":"hover:bg-slate-100"} ${B==="root"?"bg-blue-200 ring-2 ring-blue-400":""}`,onClick:()=>y(null),onDragOver:ge=>Xt(ge,"root"),onDrop:ge=>Ns(ge,"root"),children:[e.jsx(fo,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",G.filter(ge=>!ge.folder_id).length,")"]})]}),Dr(ue)]})]})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search files...",value:c,onChange:ge=>u(ge.target.value),className:"pl-10"})]}),e.jsx(j0,{value:d,onValueChange:m,className:"w-full md:w-auto",children:e.jsxs(wf,{children:[e.jsx(ur,{value:"all",children:"All"}),e.jsx(ur,{value:"image",children:"Images"}),e.jsx(ur,{value:"document",children:"Documents"}),e.jsx(ur,{value:"video",children:"Videos"}),e.jsx(ur,{value:"other",children:"Other"})]})})]})})}),ae?e.jsx("div",{className:"text-center py-12",children:"Loading files..."}):it.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Gs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Files Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:c||d!=="all"||g?"Try adjusting your filters":"Upload your first file to get started"}),!c&&d==="all"&&e.jsxs(X,{onClick:()=>{var ge;return(ge=document.getElementById("file-upload"))==null?void 0:ge.click()},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload File"]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 text-sm text-slate-600",children:["Showing ",at+1,"-",Math.min(Ne,it.length)," of ",it.length," files"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ze.map(ge=>{const ft=M.includes(ge.id),xt=V.includes(ge.id);return e.jsxs(le,{draggable:!0,onDragStart:Pt=>lt(Pt,ge),onDragEnd:Ot,className:`border-slate-200 shadow-sm hover:shadow-md transition-all relative ${E?"cursor-pointer":"cursor-grab"} ${ft?"ring-4 ring-blue-500 bg-blue-50":""} ${xt?"opacity-50":""}`,onClick:()=>{E&&yt(ge.id)},children:[e.jsx("div",{className:"absolute top-2 right-2 z-10 p-1 bg-slate-100 rounded hover:bg-slate-200 cursor-grab",children:e.jsx(Uc,{className:"w-4 h-4 text-slate-400"})}),E&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${ft?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:ft&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsxs(Re,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:ge.file_type==="image"?e.jsx("div",{className:"w-full h-40 mb-3 rounded-lg overflow-hidden bg-slate-100",children:e.jsx("img",{src:ge.file_url,alt:ge.file_name,className:"w-full h-full object-cover"})}):e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Xn(ge.file_type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx($e,{className:"text-sm truncate",children:ge.file_name}),e.jsx("p",{className:"text-xs text-slate-500",children:Or(ge.file_size)})]})]})}),ge.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2 mt-2",children:ge.description}),ge.tags&&ge.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:ge.tags.map((Pt,_s)=>e.jsx(ve,{variant:"secondary",className:"text-xs",children:Pt},_s))})]}),e.jsxs(ce,{className:"pt-0",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),Vn(ge.file_url)},className:"flex-1",children:[e.jsx(La,{className:"w-3 h-3 mr-1"}),"Copy URL"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),window.open(ge.file_url,"_blank")},children:e.jsx(Qs,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),Yt(ge)},className:"flex-1",children:"Edit Info"}),!E&&e.jsxs(He,{value:ge.folder_id||"root",onValueChange:Pt=>{us(ge.id,Pt)},children:[e.jsx(Ue,{className:"w-28",onClick:Pt=>Pt.stopPropagation(),children:e.jsx(Ei,{className:"w-3 h-3 mr-1"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"root",children:"Root"}),se.map(Pt=>e.jsx(re,{value:Pt.id,children:Pt.name},Pt.id))]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),Ge.mutate(ge.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Uploaded ",At(new Date(ge.created_date),"MMM d, yyyy")]})]})]},ge.id)})}),it.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:Z.toString(),onValueChange:ge=>{J(Number(ge)),q(1)},children:[e.jsx(Ue,{className:"w-20",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"}),e.jsx(re,{value:"96",children:"96"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",W," of ",_e]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>dt(W-1),disabled:W===1,children:e.jsx(Un,{className:"w-4 h-4"})}),nt().map((ge,ft)=>e.jsx(Ie.Fragment,{children:ge==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:W===ge?"default":"outline",size:"sm",onClick:()=>dt(ge),className:W===ge?"bg-blue-600 hover:bg-blue-700":"",children:ge})},ft)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>dt(W+1),disabled:W===_e,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]}),e.jsx(St,{open:v,onOpenChange:ge=>{j(ge),ge||N(null)},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:w!=null&&w.id?"Edit Folder":g?"Create New Subfolder":"Create New Folder"})}),w&&e.jsxs("div",{className:"space-y-4",children:[w.parent_folder_id&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Parent Folder: "}),((ia=se.find(ge=>ge.id===w.parent_folder_id))==null?void 0:ia.name)||"Root"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"folder-name",children:"Folder Name *"}),e.jsx(he,{id:"folder-name",value:w.name,onChange:ge=>N({...w,name:ge.target.value}),placeholder:"e.g., Marketing Assets"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"folder-description",children:"Description (Optional)"}),e.jsx(Ht,{id:"folder-description",value:w.description||"",onChange:ge=>N({...w,description:ge.target.value}),placeholder:"Brief description of this folder...",rows:3})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(X,{onClick:ds,disabled:Be.isPending||qe.isPending,className:"bg-blue-600 hover:bg-blue-700",children:w!=null&&w.id?"Update Folder":"Create Folder"})]})]})}),e.jsx(St,{open:_,onOpenChange:ge=>{T(ge)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Move Files to Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a folder to move ",M.length," selected file",M.length>1?"s":""," to:"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>Ys("root"),children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),"Root (No Folder)"]}),vn(ue)]})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>T(!1),children:"Cancel"})})]})}),e.jsx(St,{open:A,onOpenChange:ge=>{P(ge),ge||R(null)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Move Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a destination for ",e.jsx("strong",{children:C==null?void 0:C.name}),":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>Pe("root"),children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),"Root (Top Level)"]}),vn(ue,C==null?void 0:C.id)]})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>{P(!1),R(null)},children:"Cancel"})})]})}),e.jsx(St,{open:l,onOpenChange:o,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Edit File Information"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.file_name}),e.jsx("p",{className:"text-xs text-slate-500",children:Or(a.file_size)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"file-description",children:"Description"}),e.jsx(Ht,{id:"file-description",value:a.description||"",onChange:ge=>i({...a,description:ge.target.value}),placeholder:"Add a description...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add tag",value:h,onChange:ge=>p(ge.target.value),onKeyPress:ge=>ge.key==="Enter"&&(ge.preventDefault(),As())}),e.jsx(X,{onClick:As,size:"sm",children:e.jsx(Gs,{className:"w-4 h-4"})})]}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 rounded-lg",children:a.tags.map((ge,ft)=>e.jsxs(ve,{className:"bg-slate-200 text-slate-700 pr-1",children:[ge,e.jsx("button",{onClick:()=>vr(ge),className:"ml-2 hover:bg-slate-300 rounded-full p-0.5",children:e.jsx(ws,{className:"w-3 h-3"})})]},ft))})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{o(!1),i(null),p("")},children:"Cancel"}),e.jsx(X,{onClick:fn,disabled:Ke.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function VB({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(null),u=Gt(),{data:d,isLoading:m}=me({queryKey:["admin-resources"],queryFn:()=>K.entities.Resource.list("-created_date"),initialData:[]}),h=b.useMemo(()=>{const w=new Map;return d.forEach(N=>{N.tags&&Array.isArray(N.tags)&&N.tags.forEach(_=>{w.has(_)?w.set(_,{count:w.get(_).count+1,resourceIds:[...w.get(_).resourceIds,N.id]}):w.set(_,{count:1,resourceIds:[N.id]})})}),Array.from(w.entries()).map(([N,_])=>({tag:N,..._})).sort((N,_)=>N.tag.localeCompare(_.tag))},[d]),p=b.useMemo(()=>{if(!r.trim())return h;const w=r.toLowerCase();return h.filter(N=>N.tag.toLowerCase().includes(w))},[h,r]),g=Fe({mutationFn:async w=>{const N=d.filter(_=>_.tags&&_.tags.includes(w));await Promise.all(N.map(_=>K.entities.Resource.update(_.id,{..._,tags:_.tags.filter(T=>T!==w)})))},onSuccess:()=>{u.invalidateQueries({queryKey:["admin-resources"]}),l(!1),c(null),te.success("Tag removed from all resources")},onError:w=>{te.error("Failed to remove tag: "+w.message)}}),y=()=>{const w=s.trim();if(!w){te.error("Tag name cannot be empty");return}if(h.some(N=>N.tag===w)){te.error("Tag already exists");return}te.success(`Tag "${w}" is now available for use`),n("")},v=w=>{c(w),l(!0)},j=()=>{o&&g.mutate(o)};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Manage Tags"}),e.jsx("p",{className:"text-slate-600",children:"View, add, and remove tags used across resources"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsx($e,{className:"text-lg",children:"Add New Tag"})}),e.jsxs(ce,{className:"pt-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"new-tag",className:"sr-only",children:"New Tag Name"}),e.jsx(he,{id:"new-tag",placeholder:"Enter tag name...",value:s,onChange:w=>n(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y())}})]}),e.jsxs(X,{onClick:y,disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Tag"]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"New tags will be available for use when creating or editing resources"})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search tags...",value:r,onChange:w=>a(w.target.value),className:"pl-10 pr-10"}),r&&e.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ws,{className:"w-4 h-4"})})]})})}),m?e.jsx("div",{className:"text-center py-12",children:"Loading tags..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(jc,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Tags Yet"}),e.jsx("p",{className:"text-slate-600",children:"Tags will appear here once they're used on resources"})]})}):p.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(jc,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Tags Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search query"})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{children:["All Tags (",p.length,")"]}),e.jsxs(ve,{variant:"outline",className:"text-slate-600",children:[h.length," total"]})]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:p.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(jc,{className:"w-4 h-4 text-blue-600 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:w.tag}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Used in ",w.count," ",w.count===1?"resource":"resources"]})]})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(w.tag),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(is,{className:"w-3 h-3 mr-1"}),"Remove"]})]},w.tag))})})]}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Remove Tag"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to remove the tag "',o,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-2",children:"This will remove this tag from all resources that currently use it. This action cannot be undone."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),c(null)},children:"Cancel"}),e.jsx(X,{onClick:j,disabled:g.isPending,className:"bg-red-600 hover:bg-red-700",children:g.isPending?"Removing...":"Remove Tag"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function WB(){const[t,s]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState("all"),[c,u]=b.useState("posted-newest"),{data:d,isLoading:m}=me({queryKey:["public-jobs"],queryFn:async()=>{const v=await K.entities.JobPosting.filter({status:"active"}),j=new Date;return v.filter(w=>w.closing_date?new Date(w.closing_date)>j:!0)},initialData:[]}),{data:h}=me({queryKey:["job-type-settings"],queryFn:async()=>{const j=(await K.entities.SystemSettings.list()).find(w=>w.setting_key==="job_types");if(j)try{return JSON.parse(j.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:p}=me({queryKey:["hours-settings"],queryFn:async()=>{const j=(await K.entities.SystemSettings.list()).find(w=>w.setting_key==="job_hours");if(j)try{return JSON.parse(j.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),g=b.useMemo(()=>{let v=d.filter(j=>{var A,P,C,R;const w=!t||((A=j.title)==null?void 0:A.toLowerCase().includes(t.toLowerCase()))||((P=j.company_name)==null?void 0:P.toLowerCase().includes(t.toLowerCase()))||((C=j.description)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),N=!n||((R=j.location)==null?void 0:R.toLowerCase().includes(n.toLowerCase())),_=a==="all"||j.job_type===a,T=l==="all"||j.hours===l;return w&&N&&_&&T});return v.sort((j,w)=>{if(j.featured&&!w.featured)return-1;if(!j.featured&&w.featured)return 1;switch(c){case"posted-newest":return new Date(w.created_date)-new Date(j.created_date);case"posted-oldest":return new Date(j.created_date)-new Date(w.created_date);case"closing-soonest":return!j.closing_date&&!w.closing_date?0:j.closing_date?w.closing_date?new Date(j.closing_date)-new Date(w.closing_date):-1:1;case"closing-latest":return!j.closing_date&&!w.closing_date?0:j.closing_date?w.closing_date?new Date(w.closing_date)-new Date(j.closing_date):-1:1;default:return new Date(w.created_date)-new Date(j.created_date)}}),v},[d,t,n,a,l,c]),y=v=>{if(!v)return!1;const j=Al(new Date(v),new Date);return j>=0&&j<=7};return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Career Opportunities"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mb-8",children:"Find your next career opportunity in careers education, information, advice and guidance"}),e.jsxs(X,{onClick:()=>window.location.href=Ee("PostJob"),size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),"Post a Job"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsx(le,{className:"border-slate-200 shadow-sm mb-8",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search jobs or companies...",value:t,onChange:v=>s(v.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"City or Town...",value:n,onChange:v=>r(v.target.value),className:"pl-10"})]}),e.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"all",children:"All Job Types"}),h.map(v=>e.jsx("option",{value:v,children:v},v))]}),e.jsxs("select",{value:l,onChange:v=>o(v.target.value),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"all",children:"All Hours"}),p.map(v=>e.jsx("option",{value:v,children:v},v))]}),e.jsxs("div",{className:"relative",children:[e.jsx(r1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{value:c,onChange:v=>u(v.target.value),className:"w-full h-10 pl-10 pr-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"posted-newest",children:"Posted: Newest First"}),e.jsx("option",{value:"posted-oldest",children:"Posted: Oldest First"}),e.jsx("option",{value:"closing-soonest",children:"Closing: Soonest First"}),e.jsx("option",{value:"closing-latest",children:"Closing: Latest First"})]})]})]})})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-slate-600 font-medium",children:[g.length," ",g.length===1?"job":"jobs"," found"]})}),m?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((v,j)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},j))}):g.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(kn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Jobs Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search filters"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:g.map(v=>{var N;const j=v.closing_date&&y(v.closing_date),w=v.closing_date?Al(new Date(v.closing_date),new Date):null;return e.jsx(Wt,{to:Ee(`JobDetails?id=${v.id}`),children:e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all cursor-pointer h-full group ${j?"border-l-4 border-l-amber-500 hover:border-amber-300":"hover:border-blue-300"}`,children:e.jsxs(ce,{className:"p-6",children:[j&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",w===0?"today":`in ${w} ${w===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200 group-hover:border-blue-200 transition-colors",children:e.jsx("img",{src:v.company_logo_url,alt:v.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(va,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 group-hover:text-blue-600 transition-colors",children:v.title}),v.featured&&e.jsx(i1,{className:"w-5 h-5 text-amber-500 fill-amber-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm font-medium text-slate-700 mt-1",children:v.company_name})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:v.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",At(new Date(v.created_date),"d MMM, yyyy")]})]}),v.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:j?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",At(new Date(v.closing_date),"d MMM, yyyy")]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[v.job_type&&e.jsx(ve,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:v.job_type}),v.hours&&e.jsx(ve,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200",children:v.hours}),v.salary_range&&e.jsx(ve,{variant:"outline",className:"border-slate-300",children:v.salary_range})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-3 leading-relaxed",children:[(N=v.description)==null?void 0:N.substring(0,180),"..."]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("span",{className:"text-sm font-medium text-blue-600 group-hover:text-blue-700 inline-flex items-center gap-1",children:["View Details",e.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})},v.id)})})]})]})}function HB(){const s=new URLSearchParams(window.location.search).get("id");b.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]);const{data:n,isLoading:r}=me({queryKey:["job",s],queryFn:async()=>(await K.entities.JobPosting.list()).find(m=>m.id===s),enabled:!!s});if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Job not found"})})})});if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-8",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})})})});if(!n||n.status!=="active")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-slate-600",children:"This job posting is no longer available"}),e.jsx(X,{onClick:()=>window.location.href=Ee("JobBoard"),className:"mt-4",children:"Back to Job Board"})]})})});const a=()=>{n.application_method==="email"?window.location.href=`mailto:${n.application_value}?subject=Application for ${n.title}`:window.open(n.application_value,"_blank","noopener,noreferrer")},i=n.closing_date&&Al(new Date(n.closing_date),new Date)<=7,l=n.closing_date?Al(new Date(n.closing_date),new Date):null,o=typeof window<"u"?window.location.href:"";`${n.title}${n.company_name}${n.location}`;const c=()=>{const d=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(o)}`;window.open(d,"_blank","noopener,noreferrer,width=600,height=600")},u=()=>{const d=encodeURIComponent(`Job Opportunity: ${n.title}`),m=encodeURIComponent(`I found this job opportunity that might interest you:

${n.title}
${n.company_name}
Location: ${n.location}

View details: ${o}`);window.location.href=`mailto:?subject=${d}&body=${m}`};return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs(X,{variant:"ghost",onClick:()=>window.location.href=Ee("JobBoard"),className:"text-white hover:bg-white/10 mb-6",children:[e.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Back to Job Board"]}),e.jsxs("div",{className:"flex items-start gap-6",children:[n.company_logo_url&&e.jsx("img",{src:n.company_logo_url,alt:n.company_name,className:"w-24 h-24 object-contain bg-white rounded-lg p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:n.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"w-5 h-5"}),e.jsx("span",{children:n.company_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tr,{className:"w-5 h-5"}),e.jsx("span",{children:n.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(en,{className:"w-5 h-5"}),e.jsxs("span",{children:["Posted ",At(new Date(n.created_date),"d MMM, yyyy")]})]})]})]})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i&&n.closing_date&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-amber-900",children:["Applications closing ",l===0?"today":`in ${l} ${l===1?"day":"days"}`]}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Submit your application before ",At(new Date(n.closing_date),"d MMM, yyyy")]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{children:"Job Description"})}),e.jsx(ce,{className:"prose prose-slate max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:n.description})})]}),n.attachment_urls&&n.attachment_urls.length>0&&e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5"}),"Additional Documents"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-2",children:n.attachment_urls.map((d,m)=>e.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ts,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 group-hover:text-blue-600 transition-colors",children:n.attachment_names&&n.attachment_names[m]?n.attachment_names[m]:`Document ${m+1}`}),e.jsx("p",{className:"text-xs text-slate-500",children:"Click to download"})]})]}),e.jsx(Qn,{className:"w-5 h-5 text-slate-400 group-hover:text-blue-600 transition-colors"})]},m))})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(le,{className:"border-slate-200 sticky top-8",children:e.jsxs(ce,{className:"p-6 space-y-4",children:[e.jsx(X,{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",children:n.application_method==="email"?e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-5 h-5 mr-2"}),"Apply via Email"]}):e.jsxs(e.Fragment,{children:[e.jsx(Qs,{className:"w-5 h-5 mr-2"}),"Apply Now"]})}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Job Details"}),n.job_type&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(kn,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Job Type"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.job_type})]})]}),n.hours&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(en,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Hours"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.hours})]})]}),n.salary_range&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(MG,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Salary"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.salary_range})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Tr,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"City or Town"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.location})]})]}),n.closing_date&&e.jsxs("div",{className:`flex items-start gap-3 -mx-1 -my-0.5 px-1 py-0.5 rounded-lg transition-colors ${i?"bg-amber-50 border-2 border-amber-200":""}`,children:[e.jsx(en,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i?"text-amber-600":"text-slate-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-xs ${i?"text-amber-700 font-medium":"text-slate-500"}`,children:"Application Deadline"}),e.jsx("div",{className:`text-sm font-medium ${i?"text-amber-900":"text-slate-900"}`,children:At(new Date(n.closing_date),"d MMM, yyyy")}),i&&l!==null&&e.jsx("div",{className:"text-xs text-amber-700 mt-1",children:l===0?"Closes today!":`${l} ${l===1?"day":"days"} remaining`})]})]}),n.attachment_urls&&n.attachment_urls.length>0&&e.jsx("div",{className:"pt-2 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsxs("span",{children:[n.attachment_urls.length," ",n.attachment_urls.length===1?"document":"documents"," attached"]})]})})]}),n.featured&&e.jsx(ve,{className:"w-full justify-center bg-amber-100 text-amber-700",children:"Featured Position"}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(hc,{className:"w-4 h-4"}),"Share this job"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-[#0A66C2] hover:bg-[#004182] text-white rounded-lg transition-colors",title:"Share on LinkedIn",children:[e.jsx(cu,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"LinkedIn"})]}),e.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-600 hover:bg-slate-700 text-white rounded-lg transition-colors",title:"Share via Email",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Email"})]})]})]})]})})})]})]})]})}let pw=null;function wme({clientSecret:t,onSuccess:s,onCancel:n,amount:r}){const a=yL(),i=gL(),[l,o]=b.useState(!1),[c,u]=b.useState(null),d=async m=>{if(m.preventDefault(),!(!a||!i)){o(!0),u(null);try{const{error:h}=await a.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}${Ee("JobPostSuccess")}`},redirect:"if_required"});h?(u(h.message),o(!1)):s()}catch(h){console.error("Stripe confirmPayment error:",h),u(h.message),o(!1)}}};return e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Amount to charge:"})," ",r.toFixed(2)]}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"90-day job listing on the Graduate Futures Job Board"})]}),e.jsx("div",{children:e.jsx(bL,{options:{layout:"tabs"}})}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4 mr-0.5 mt-0.5 text-red-600 shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:c})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:l,className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",disabled:!a||l,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay ${r.toFixed(2)}`})]})]})}function GB({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState("email"),[a,i]=b.useState(""),[l,o]=b.useState(!1),[c,u]=b.useState(!1),[d,m]=b.useState(!1),[h,p]=b.useState(!1),[g,y]=b.useState(!1),[v,j]=b.useState(!1),[w,N]=b.useState(!1),[_,T]=b.useState(!1),[A,P]=b.useState(null),[C,R]=b.useState(null),[M,k]=b.useState(null),[E,O]=b.useState(50),[F,z]=b.useState({title:"",description:"",company_name:"",company_logo_url:"",location:"",salary_range:"",job_type:"",hours:"",closing_date:"",application_method:"email",application_value:"",contact_name:"",attachment_urls:[],attachment_names:[]});b.useEffect(()=>{(async()=>{try{const G=await K.functions.invoke("getStripePublishableKey");G.data.publishableKey?pw=uL(G.data.publishableKey):console.warn("Stripe publishable key not found in response.")}catch(G){console.error("Failed to load Stripe publishable key:",G)}})()},[]);const{data:V}=me({queryKey:["job-type-settings"],queryFn:async()=>{const G=(await K.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_types");if(G)try{return JSON.parse(G.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:U}=me({queryKey:["hours-settings"],queryFn:async()=>{const G=(await K.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_hours");if(G)try{return JSON.parse(G.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),{data:B}=me({queryKey:["job-posting-price"],queryFn:async()=>{const G=(await K.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_posting_price");if(G)try{return parseFloat(G.setting_value)}catch{return 50}return 50},initialData:50});b.useEffect(()=>{B&&O(B)},[B]),b.useEffect(()=>{if(t)m(!0),u(!0),i(t.email),r("form"),z(Q=>({...Q,company_name:(s==null?void 0:s.name)||"",contact_name:`${t.first_name} ${t.last_name}`,job_type:V[0]||"",hours:U[0]||""}));else{const Q=sessionStorage.getItem("agcas_member");if(Q){const G=JSON.parse(Q);m(!0),u(!0),i(G.email),r("form"),(async()=>{if(G.organization_id)try{const de=(await K.entities.Organization.list()).find(ue=>ue.id===G.organization_id);de&&z(ue=>({...ue,company_name:de.name,contact_name:`${G.first_name} ${G.last_name}`,job_type:V[0]||"",hours:U[0]||""}))}catch(se){console.error("Failed to fetch organization:",se)}})()}}},[t,s,V,U]);const $=async Q=>{Q.preventDefault(),o(!0);try{(await K.functions.invoke("checkMemberStatusByEmail",{email:a})).data.is_member?(u(!0),te.info("Please log in to post your job for free"),setTimeout(()=>{window.location.href=Ee("Home")+"?returnTo="+encodeURIComponent(window.location.pathname)},2e3)):(u(!1),z(ae=>({...ae,job_type:V[0]||"",hours:U[0]||""})),r("form"))}catch{te.error("Failed to verify email. Please try again.")}finally{o(!1)}},L=async Q=>{const G=Q.target.files[0];if(!G)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(G.type)){te.error("Only image files (JPEG, PNG, GIF, WebP) are allowed");return}if(G.size>5*1024*1024){te.error("Image must be smaller than 5MB");return}y(!0);try{const se=await K.integrations.Core.UploadFile({file:G});z(de=>({...de,company_logo_url:se.file_url})),te.success("Logo uploaded successfully")}catch{te.error("Failed to upload logo. Please try again.")}finally{y(!1)}},I=()=>{z(Q=>({...Q,company_logo_url:""}))},W=async Q=>{const G=Array.from(Q.target.files);if(G.length===0)return;const ae=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(G.filter(ue=>!ae.includes(ue.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(G.filter(ue=>ue.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}p(!0);try{const ue=G.map(async pe=>({url:(await K.integrations.Core.UploadFile({file:pe})).file_url,name:pe.name})),oe=await Promise.all(ue);z(pe=>({...pe,attachment_urls:[...pe.attachment_urls,...oe.map(be=>be.url)],attachment_names:[...pe.attachment_names,...oe.map(be=>be.name)]})),te.success(`${G.length} ${G.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{p(!1)}},q=Q=>{z(G=>({...G,attachment_urls:G.attachment_urls.filter((ae,se)=>se!==Q),attachment_names:G.attachment_names.filter((ae,se)=>se!==Q)}))},Z=async Q=>{if(Q.preventDefault(),!F.closing_date){te.error("Please select a closing date");return}if(!v){te.error("Please agree to the Terms and Conditions");return}r("submitting");try{if(d){const G=await K.functions.invoke("createJobPostingMember",{...F,memberEmail:a});if(G.data.success)te.success("Job posting submitted successfully!"),setTimeout(()=>{window.location.href=Ee("MyJobPostings")},500);else throw new Error(G.data.error||"Failed to create job posting")}else{const G=await K.functions.invoke("createJobPostingNonMember",{...F,contact_email:a});if(G.data.success){P(G.data.job_id);const ae=await K.functions.invoke("createJobPostingPaymentIntent",{amount:E,currency:"gbp",metadata:{job_posting_id:G.data.job_id,contact_email:a,company_name:F.company_name,job_title:F.title}});if(ae.data.success)R(ae.data.clientSecret),k(ae.data.paymentIntentId),T(!0),r("form");else throw new Error("Failed to initialize payment: "+(ae.data.error||"Unknown error"))}else throw new Error(G.data.error||"Failed to create job posting")}}catch(G){te.error(G.message||"Failed to submit job posting"),r("form")}},J=async()=>{T(!1),te.success("Payment successful! Your job posting has been submitted for approval."),setTimeout(()=>{window.location.href=Ee("JobPostSuccess")},1500)};return!d&&n==="email"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsxs(le,{className:"max-w-md w-full border-slate-200 shadow-xl",children:[e.jsxs(Re,{children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),e.jsx($e,{children:"Post a Job"}),e.jsx(Cs,{children:"Enter your email to get started. AGCAS members can post for free!"})]}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email Address"}),e.jsx(he,{id:"email",type:"email",placeholder:"your.email@example.com",value:a,onChange:Q=>i(Q.target.value),required:!0})]}),e.jsx(X,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:["Continue",e.jsx(oN,{className:"w-4 h-4 ml-2"})]})})]})})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(le,{className:"border-slate-200 shadow-xl",children:[e.jsxs(Re,{children:[e.jsx($e,{children:d?"Post a Job (Free for Members)":"Post a Job"}),e.jsx(Cs,{children:d?"Fill in the details below to post your job listing":"Complete the form below. Payment will be processed after submission."})]}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",placeholder:"e.g., Senior Careers Adviser",value:F.title,onChange:Q=>z({...F,title:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"company_name",children:"Company/Organization *"}),e.jsx(he,{id:"company_name",placeholder:"e.g., University of Example",value:F.company_name,onChange:Q=>z({...F,company_name:Q.target.value}),disabled:d&&s,className:d&&s?"bg-slate-100 cursor-not-allowed":"",required:!0}),d&&s&&e.jsx("p",{className:"text-xs text-slate-500",children:"Your organization details are automatically filled from your member profile"})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Company Logo"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload your company logo (max 5MB, images only)"})]}),F.company_logo_url?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:F.company_logo_url,alt:"Company logo",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Logo uploaded successfully"})}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:I,className:"text-red-600 hover:text-red-700 hover:bg-red-50 flex-shrink-0",children:e.jsx(ws,{className:"w-4 h-4"})})]}),e.jsxs(ee,{htmlFor:"logo-change",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-slate-300 rounded-md hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change Logo"})]}),e.jsx("input",{id:"logo-change",type:"file",accept:"image/*",onChange:L,className:"hidden",disabled:g})]})]}):e.jsxs(ee,{htmlFor:"logo-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:g?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-8 h-8 text-blue-600 animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ri,{className:"w-8 h-8 text-slate-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Upload Company Logo"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Click to browse or drag and drop"})]})]})}),e.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:L,className:"hidden",disabled:g})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:"City or Town *"}),e.jsx(he,{id:"location",placeholder:"e.g., London, UK or Remote",value:F.location,onChange:Q=>z({...F,location:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"salary_range",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Salary Range (Optional - please state currency)"}),e.jsx(he,{id:"salary_range",placeholder:"e.g., 30,000 - 40,000",value:F.salary_range,onChange:Q=>z({...F,salary_range:Q.target.value})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_type",children:"Job Type"}),e.jsxs(He,{value:F.job_type,onValueChange:Q=>z({...F,job_type:Q}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select job type"})}),e.jsx(Ve,{children:V.map(Q=>e.jsx(re,{value:Q,children:Q},Q))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"hours",children:"Hours"}),e.jsxs(He,{value:F.hours,onValueChange:Q=>z({...F,hours:Q}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select hours"})}),e.jsx(Ve,{children:U.map(Q=>e.jsx(re,{value:Q,children:Q},Q))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"closing_date",children:"Application Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:F.closing_date?F.closing_date.split("T")[0]:"",onChange:Q=>z({...F,closing_date:Q.target.value+"T23:59:59Z"}),min:new Date().toISOString().split("T")[0],required:!0}),e.jsx("p",{className:"text-xs text-slate-500",children:"When should applications close for this position?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Job Description *"}),e.jsx(Ht,{id:"description",placeholder:"Describe the role, responsibilities, requirements, etc.",rows:10,value:F.description,onChange:Q=>z({...F,description:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload job packs, PDFs, or Word documents (max 10MB each)"})]}),e.jsxs(ee,{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:W,className:"hidden",disabled:h})]})]}),h&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),F.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:F.attachment_names.map((Q,G)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:Q})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(G),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ws,{className:"w-4 h-4"})})]},G))})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Application Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"How should candidates apply? *"}),e.jsxs(He,{value:F.application_method,onValueChange:Q=>z({...F,application_method:Q}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"email",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Email Application"]})}),e.jsx(re,{value:"url",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"External Application URL"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"application_value",children:F.application_method==="email"?"Application Email *":"Application URL *"}),e.jsx(he,{id:"application_value",type:F.application_method==="email"?"email":"url",placeholder:F.application_method==="email"?"jobs@example.com":"https://example.com/apply",value:F.application_value,onChange:Q=>z({...F,application_value:Q.target.value}),required:!0})]})]}),!d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"contact_name",children:"Your Name *"}),e.jsx(he,{id:"contact_name",placeholder:"Your full name",value:F.contact_name,onChange:Q=>z({...F,contact_name:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(FH,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:"Terms and Conditions"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pa,{id:"terms",checked:v,onCheckedChange:j,className:"mt-1"}),e.jsx("div",{className:"flex-1",children:e.jsxs(ee,{htmlFor:"terms",className:"text-sm text-slate-700 cursor-pointer",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-blue-600 hover:text-blue-700 underline font-medium",children:"Graduate Futures Job Advertising Terms and Conditions"})," ","*"]})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>window.location.href=Ee("JobBoard"),className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:n==="submitting"||h||g||!v,children:n==="submitting"?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):d?"Submit for Approval":"Continue to Payment"})]}),!d&&e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"You'll enter payment details in a secure modal window"})]})})]})}),e.jsx(St,{open:_,onOpenChange:T,children:e.jsxs(Nt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{className:"flex items-center gap-2",children:[e.jsx($c,{className:"w-5 h-5 text-blue-600"}),"Enter Payment Details"]}),e.jsx(fa,{children:"Complete your job posting by entering your card information below."})]}),C&&pw&&e.jsx(b2,{stripe:pw,options:{clientSecret:C},children:e.jsx(wme,{clientSecret:C,onSuccess:J,onCancel:()=>{T(!1),R(null),k(null),r("form"),te.info("Payment cancelled. You can complete payment later from My Job Postings.")},amount:E})})]})}),e.jsx(St,{open:w,onOpenChange:N,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{className:"text-2xl",children:"Graduate Futures Job Advertising Terms and Conditions"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Effective date:"})," January 2026"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last reviewed:"})," January 2026"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"1. Introduction"}),e.jsxs("div",{className:"text-slate-700 space-y-2",children:[e.jsx("p",{children:'These Terms apply to all job advertisements placed on the Graduate Futures website ("Job Board").'}),e.jsx("p",{children:"By submitting a vacancy, you agree to these Terms and the Privacy Policy."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"2. Eligibility and Content"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Graduate Futures will only publish job vacancies directly relevant to the higher education careers and employability sector."}),e.jsx("li",{children:"Graduate Futures reserves the right to edit or decline any advert that does not meet these criteria."}),e.jsx("li",{children:"The Client is responsible for ensuring that all job descriptions and information are true, accurate, and non-discriminatory."}),e.jsx("li",{children:"The Client agrees that all job advertisements submitted to the Graduate Futures Job Board comply with applicable UK employment legislation, including but not limited to the Equality Act 2010."}),e.jsx("li",{children:"All data submitted by the client must comply with the UK GDPR and Graduate Futures Privacy Policy."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"3. Submission and Publication"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Job adverts can be submitted online via the GRADUATE FUTURES Job Board."}),e.jsx("li",{children:"Publication is subject to GRADUATE FUTURES approval and full payment (where applicable)."}),e.jsx("li",{children:"GRADUATE FUTURES aims to publish approved adverts within 24 hours."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"4. Fees and Payment"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Non-member adverts are subject to the published rate (currently 515 + VAT)."}),e.jsx("li",{children:"Members may post vacancies in accordance with their membership benefits."}),e.jsx("li",{children:"Payment must be made by credit/debit card."}),e.jsx("li",{children:"All fees are payable in pounds sterling and exclusive of VAT."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"5. Duration and Removal"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Adverts will remain live on the website until the specified closing date, unless otherwise agreed."}),e.jsx("li",{children:"Graduate Futures reserves the right to remove adverts early if they breach these Terms or upon the Client's written request."}),e.jsx("li",{children:"Fees are non-refundable once an advert has gone live."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"6. Refunds"}),e.jsxs("div",{className:"text-slate-700 space-y-2",children:[e.jsx("p",{children:"Refunds may only be issued where an advert cannot be published due to Graduate Futures error or technical failure."}),e.jsxs("p",{children:["Requests should be made in writing to ",e.jsx("a",{href:"mailto:info@graduatefutures.org.uk",className:"text-blue-600 hover:underline",children:"info@graduatefutures.org.uk"}),"."]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"7. Liability"}),e.jsx("p",{className:"text-slate-700 mb-2",children:"Graduate Futures accepts no responsibility for:"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Errors in content supplied by the Client;"}),e.jsx("li",{children:"Failure of an advert to attract candidates; or"}),e.jsx("li",{children:"Any indirect or consequential loss."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"8. Contact"}),e.jsx("p",{className:"text-slate-700",children:e.jsx("a",{href:"mailto:info@graduatefutures.org.uk",className:"text-blue-600 hover:underline",children:"info@graduatefutures.org.uk"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"9. Right to amend"}),e.jsx("p",{className:"text-slate-700",children:"Graduate Futures reserves the right to amend these Terms at any time."})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(X,{onClick:()=>{j(!0),N(!1)},className:"bg-blue-600 hover:bg-blue-700",children:"I Agree to Terms"}),e.jsx(X,{variant:"outline",onClick:()=>N(!1),children:"Close"})]})]})})]})}function KB(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md w-full border-slate-200 shadow-xl",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(df,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Thank you for your payment. Your job posting has been submitted and is pending approval. You'll receive an email confirmation shortly, and another email once your posting is approved and live on the job board."}),e.jsx(X,{onClick:()=>window.location.href=Ee("JobBoard"),className:"bg-blue-600 hover:bg-blue-700",children:"View Job Board"})]})})})}function YB({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState("50"),[i,l]=b.useState(["Full-time","Part-time","Contract","Temporary","Internship"]),[o,c]=b.useState(["Full-time","Part-time","Flexible"]),[u,d]=b.useState(""),[m,h]=b.useState(""),p=Gt(),g=b.useMemo(()=>t&&!n("page_JobBoardSettings"),[t,n]);b.useEffect(()=>{s!=null&&(g||(window.location.href=Ee("Events")))},[s,g]);const{data:y}=me({queryKey:["job-board-price-settings"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(k=>k.setting_key==="job_posting_price")}),{data:v}=me({queryKey:["job-type-settings"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(k=>k.setting_key==="job_types")}),{data:j}=me({queryKey:["hours-settings"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(k=>k.setting_key==="job_hours")});b.useEffect(()=>{if(y!=null&&y.setting_value&&a(y.setting_value),v!=null&&v.setting_value)try{const M=JSON.parse(v.setting_value);l(M)}catch(M){console.error("Failed to parse job types:",M)}if(j!=null&&j.setting_value)try{const M=JSON.parse(j.setting_value);c(M)}catch(M){console.error("Failed to parse hours:",M)}},[y,v,j]);const w=Fe({mutationFn:async M=>y?await K.entities.SystemSettings.update(y.id,{setting_value:M}):await K.entities.SystemSettings.create({setting_key:"job_posting_price",setting_value:M,description:"Price in GBP for non-member job postings"}),onSuccess:()=>{p.invalidateQueries({queryKey:["job-board-price-settings"]}),te.success("Job posting price updated successfully")},onError:M=>{te.error("Failed to update price: "+M.message)}}),N=Fe({mutationFn:async M=>{const k=JSON.stringify(M);return v?await K.entities.SystemSettings.update(v.id,{setting_value:k}):await K.entities.SystemSettings.create({setting_key:"job_types",setting_value:k,description:"Available job type options for job postings"})},onSuccess:()=>{p.invalidateQueries({queryKey:["job-type-settings"]}),te.success("Job types updated successfully")},onError:M=>{te.error("Failed to update job types: "+M.message)}}),_=Fe({mutationFn:async M=>{const k=JSON.stringify(M);return j?await K.entities.SystemSettings.update(j.id,{setting_value:k}):await K.entities.SystemSettings.create({setting_key:"job_hours",setting_value:k,description:"Available hours options for job postings"})},onSuccess:()=>{p.invalidateQueries({queryKey:["hours-settings"]}),te.success("Hours options updated successfully")},onError:M=>{te.error("Failed to update hours options: "+M.message)}}),T=()=>{const M=parseFloat(r);if(isNaN(M)||M<0){te.error("Please enter a valid price");return}w.mutate(r)},A=()=>{if(!u.trim())return;if(i.includes(u.trim())){te.error("This job type already exists");return}const M=[...i,u.trim()];l(M),d(""),N.mutate(M)},P=M=>{const k=i.filter(E=>E!==M);l(k),N.mutate(k)},C=()=>{if(!m.trim())return;if(o.includes(m.trim())){te.error("This hours option already exists");return}const M=[...o,m.trim()];c(M),h(""),_.mutate(M)},R=M=>{const k=o.filter(E=>E!==M);c(k),_.mutate(k)};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Job Board Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure pricing and dropdown options for the job board"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{className:"flex items-center gap-2",children:"Non-Member Job Posting Price"}),e.jsx(Cs,{children:"Set the price in GBP that non-members must pay to post a job listing"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"price",children:"Price (GBP)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-lg font-semibold text-slate-400",children:""}),e.jsx(he,{id:"price",type:"number",step:"0.01",min:"0",value:r,onChange:M=>a(M.target.value),className:"pl-10",placeholder:"50.00"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"AGCAS members can always post jobs for free"})]}),e.jsxs(X,{onClick:T,disabled:w.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),w.isPending?"Saving...":"Save Price"]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5"}),"Job Type Options"]}),e.jsx(Cs,{children:'Configure the available options for the "Job Type" dropdown'})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add new job type...",value:u,onChange:M=>d(M.target.value),onKeyPress:M=>M.key==="Enter"&&A()}),e.jsx(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2",children:i.map(M=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-slate-700",children:M}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>P(M),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ws,{className:"w-4 h-4"})})]},M))})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5"}),"Hours Options"]}),e.jsx(Cs,{children:'Configure the available options for the "Hours" dropdown'})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add new hours option...",value:m,onChange:M=>h(M.target.value),onKeyPress:M=>M.key==="Enter"&&C()}),e.jsx(X,{onClick:C,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2",children:o.map(M=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-slate-700",children:M}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>R(M),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ws,{className:"w-4 h-4"})})]},M))})]})]})]})]})}):null}function QB({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(""),[i,l]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,g]=b.useState("pending"),[y,v]=b.useState(!1),[j,w]=b.useState("all"),[N,_]=b.useState(1),[T,A]=b.useState(6),P=Gt(),C=b.useMemo(()=>t&&!n("page_JobPostingManagement"),[t,n]);b.useEffect(()=>{s!=null&&(C||(window.location.href=Ee("Events")))},[s,C]);const{data:R,isLoading:M}=me({queryKey:["admin-job-postings"],queryFn:()=>K.entities.JobPosting.list("-created_date"),initialData:[]}),{data:k}=me({queryKey:["organizations"],queryFn:()=>K.entities.Organization.list(),initialData:[]}),{data:E}=me({queryKey:["job-type-settings"],queryFn:async()=>{const pe=(await K.entities.SystemSettings.list()).find(be=>be.setting_key==="job_types");if(pe)try{return JSON.parse(pe.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:O}=me({queryKey:["hours-settings"],queryFn:async()=>{const pe=(await K.entities.SystemSettings.list()).find(be=>be.setting_key==="job_hours");if(pe)try{return JSON.parse(pe.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),F=Fe({mutationFn:oe=>K.entities.JobPosting.update(oe,{status:"active"}),onSuccess:()=>{P.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting approved and is now live"),c(!1)},onError:oe=>{te.error("Failed to approve job posting: "+oe.message)}}),z=Fe({mutationFn:oe=>K.entities.JobPosting.update(oe,{status:"rejected"}),onSuccess:()=>{P.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting rejected"),c(!1)},onError:oe=>{te.error("Failed to reject job posting: "+oe.message)}}),V=Fe({mutationFn:({id:oe,data:pe})=>K.entities.JobPosting.update(oe,pe),onSuccess:()=>{P.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting updated successfully"),d(!1),h(null)},onError:oe=>{te.error("Failed to update job posting: "+oe.message)}}),U=Fe({mutationFn:oe=>K.entities.JobPosting.delete(oe),onSuccess:()=>{P.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting deleted"),c(!1)},onError:oe=>{te.error("Failed to delete job posting: "+oe.message)}}),B=oe=>{const pe={pending_approval:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",expired:"bg-slate-100 text-slate-700",rejected:"bg-red-100 text-red-700",pending_payment:"bg-blue-100 text-blue-700"};return e.jsx(ve,{className:pe[oe],children:oe.replace(/_/g," ")})},$=b.useMemo(()=>R.filter(oe=>{var Be,qe;const pe=!r||((Be=oe.title)==null?void 0:Be.toLowerCase().includes(r.toLowerCase()))||((qe=oe.company_name)==null?void 0:qe.toLowerCase().includes(r.toLowerCase())),be=p==="pending"&&oe.status==="pending_approval"||p==="active"&&oe.status==="active"||p==="rejected"&&oe.status==="rejected"||p==="all",je=j==="all"||j==="non-member"&&!oe.is_member_post||oe.posted_by_organization_id===j;return pe&&be&&je}),[R,r,p,j]),L=Math.ceil($.length/T),I=(N-1)*T,W=I+T,q=$.slice(I,W),Z=()=>{const oe=[];if(L<=5)for(let be=1;be<=L;be++)oe.push(be);else if(N<=3){for(let be=1;be<=4;be++)oe.push(be);L>5&&oe.push("..."),oe.push(L)}else if(N>=L-2){oe.push(1),L>5&&oe.push("...");for(let be=L-3;be<=L;be++)oe.push(be)}else{oe.push(1),oe.push("...");for(let be=N-1;be<=N+1;be++)oe.push(be);oe.push("..."),oe.push(L)}return oe};b.useEffect(()=>{_(1)},[r,p,j,T]);const J=oe=>{_(oe),window.scrollTo({top:0,behavior:"smooth"})},Q=oe=>{h({...oe,attachment_urls:oe.attachment_urls||[],attachment_names:oe.attachment_names||[]}),d(!0)},G=async oe=>{const pe=Array.from(oe.target.files);if(pe.length===0)return;const be=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(pe.filter(qe=>!be.includes(qe.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(pe.filter(qe=>qe.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}v(!0);try{const qe=pe.map(async Se=>({url:(await K.integrations.Core.UploadFile({file:Se})).file_url,name:Se.name})),ke=await Promise.all(qe);h(Se=>({...Se,attachment_urls:[...Se.attachment_urls||[],...ke.map(Ge=>Ge.url)],attachment_names:[...Se.attachment_names||[],...ke.map(Ge=>Ge.name)]})),te.success(`${pe.length} ${pe.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{v(!1)}},ae=oe=>{h(pe=>({...pe,attachment_urls:pe.attachment_urls.filter((be,je)=>je!==oe),attachment_names:pe.attachment_names.filter((be,je)=>je!==oe)}))},se=()=>{if(!m.title||!m.company_name||!m.closing_date){te.error("Please fill in all required fields");return}V.mutate({id:m.id,data:m})},de=oe=>{if(!oe)return!1;const pe=Al(new Date(oe),new Date);return pe>=0&&pe<=7},ue=b.useMemo(()=>{const oe=[...new Set(R.filter(pe=>pe.posted_by_organization_id).map(pe=>pe.posted_by_organization_id))];return k.filter(pe=>oe.includes(pe.id))},[R,k]);return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):C?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Job Posting Management"}),e.jsx("p",{className:"text-slate-600",children:"Review and manage job postings on the board"})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by job title or company...",value:r,onChange:oe=>a(oe.target.value),className:"pl-10"})]}),e.jsxs(He,{value:j,onValueChange:w,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Filter by organization"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Organizations"}),e.jsx(re,{value:"non-member",children:"Non-Member Posts"}),ue.map(oe=>e.jsx(re,{value:oe.id,children:oe.name},oe.id))]})]})]})})}),e.jsxs(j0,{value:p,onValueChange:g,children:[e.jsxs(wf,{className:"mb-6",children:[e.jsxs(ur,{value:"pending",children:["Pending (",R.filter(oe=>oe.status==="pending_approval").length,")"]}),e.jsxs(ur,{value:"active",children:["Active (",R.filter(oe=>oe.status==="active").length,")"]}),e.jsxs(ur,{value:"rejected",children:["Rejected (",R.filter(oe=>oe.status==="rejected").length,")"]}),e.jsx(ur,{value:"all",children:"All"})]}),e.jsx(jo,{value:p,children:M?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((oe,pe)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},pe))}):$.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(kn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Jobs Found"}),e.jsx("p",{className:"text-slate-600",children:"No job postings match your current filters"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 text-sm text-slate-600",children:["Showing ",I+1,"-",Math.min(W,$.length)," of ",$.length," job postings"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:q.map(oe=>{var Be;const pe=oe.closing_date&&de(oe.closing_date),be=oe.closing_date?Al(new Date(oe.closing_date),new Date):null,je=oe.attachment_urls&&oe.attachment_urls.length>0;return e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all h-full ${pe?"border-l-4 border-l-amber-500":""}`,children:e.jsxs(ce,{className:"p-6",children:[pe&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",be===0?"today":`in ${be} ${be===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[oe.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:oe.company_logo_url,alt:oe.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(va,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 mb-2",children:oe.title}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:oe.company_name})]}),e.jsx("div",{className:"flex flex-col gap-2",children:oe.featured&&e.jsx(i1,{className:"w-5 h-5 text-amber-500 fill-amber-500"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[B(oe.status),oe.is_member_post?e.jsxs(ve,{className:"bg-purple-100 text-purple-700",children:["Member: ",oe.contact_email]}):e.jsx(ve,{className:"bg-slate-100 text-slate-700",children:"Non-Member"}),oe.payment_status==="paid"&&e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Paid"}),oe.job_type&&e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:oe.job_type}),oe.hours&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:oe.hours}),je&&e.jsxs(ve,{className:"bg-slate-100 text-slate-700 flex items-center gap-1",children:[e.jsx(ts,{className:"w-3 h-3"}),oe.attachment_urls.length]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:oe.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",At(new Date(oe.created_date),"MMM d, yyyy")]})]}),oe.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:pe?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",At(new Date(oe.closing_date),"MMM d, yyyy")]})]}),oe.salary_range&&e.jsxs("div",{className:"text-sm text-slate-600",children:[" ",oe.salary_range]})]}),e.jsxs("div",{className:"text-xs text-slate-500 mb-4 p-3 bg-slate-50 rounded",children:["Posted by ",oe.contact_name||"Unknown"," (",oe.contact_email,")"]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed mb-4",children:[(Be=oe.description)==null?void 0:Be.substring(0,150),"..."]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{l(oe),c(!0)},className:"flex-1",children:"View Details"}),oe.status==="active"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Q(oe),className:"text-blue-600 hover:text-blue-700",children:e.jsx(Ps,{className:"w-4 h-4"})})]})]})},oe.id)})}),$.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:T.toString(),onValueChange:oe=>{A(Number(oe)),_(1)},children:[e.jsx(Ue,{className:"w-20",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",N," of ",L]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>J(N-1),disabled:N===1,children:e.jsx(Un,{className:"w-4 h-4"})}),Z().map((oe,pe)=>e.jsx(Ie.Fragment,{children:oe==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:N===oe?"default":"outline",size:"sm",onClick:()=>J(oe),className:N===oe?"bg-blue-600 hover:bg-blue-700":"",children:oe})},pe)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>J(N+1),disabled:N===L,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]})})]}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Review Job Posting"})}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:i.title}),e.jsx("p",{className:"text-slate-600 mb-4",children:i.company_name}),e.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[B(i.status),i.is_member_post?e.jsxs(ve,{className:"bg-purple-100 text-purple-700",children:["Member: ",i.contact_email]}):e.jsx(ve,{className:"bg-slate-100 text-slate-700",children:"Non-Member Post"}),i.payment_status==="paid"&&e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Paid"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"City or Town"}),e.jsx("p",{className:"font-medium",children:i.location})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Job Type"}),e.jsx("p",{className:"font-medium",children:i.job_type||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Hours"}),e.jsx("p",{className:"font-medium",children:i.hours||"Not specified"})]}),i.salary_range&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Salary"}),e.jsx("p",{className:"font-medium",children:i.salary_range})]}),i.closing_date&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Closing Date"}),e.jsx("p",{className:"font-medium",children:At(new Date(i.closing_date),"MMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Application Method"}),e.jsx("p",{className:"font-medium",children:i.application_method})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Application Contact"}),e.jsx("p",{className:"font-medium break-all",children:i.application_value})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Posted By"}),e.jsxs("p",{className:"font-medium",children:[i.contact_name," (",i.contact_email,")"]})]}),i.posted_by_organization_name&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Member Organization"}),e.jsx("p",{className:"font-medium",children:i.posted_by_organization_name})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Job Description"}),e.jsx("div",{className:"prose prose-slate max-w-none bg-slate-50 p-4 rounded-lg",children:e.jsx("div",{className:"whitespace-pre-wrap",children:i.description})})]}),i.attachment_urls&&i.attachment_urls.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4"}),"Attached Documents (",i.attachment_urls.length,")"]}),e.jsx("div",{className:"space-y-2",children:i.attachment_names.map((oe,pe)=>e.jsxs("a",{href:i.attachment_urls[pe],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsx(ts,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:oe})]},pe))})]})]}),e.jsxs(qt,{children:[(i==null?void 0:i.status)==="pending_approval"&&e.jsxs(e.Fragment,{children:[e.jsxs(X,{variant:"outline",onClick:()=>z.mutate(i.id),disabled:z.isPending,className:"text-red-600 hover:text-red-700",children:[e.jsx(wH,{className:"w-4 h-4 mr-2"}),"Reject"]}),e.jsxs(X,{onClick:()=>F.mutate(i.id),disabled:F.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(df,{className:"w-4 h-4 mr-2"}),"Approve & Publish"]})]}),(i==null?void 0:i.status)==="active"&&e.jsxs(e.Fragment,{children:[e.jsxs(X,{variant:"outline",onClick:()=>Q(i),className:"text-blue-600 hover:text-blue-700",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(X,{variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this job posting?")&&U.mutate(i.id)},disabled:U.isPending,className:"text-red-600 hover:text-red-700",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Delete"]})]}),e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Close"})]})]})}),e.jsx(St,{open:u,onOpenChange:d,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Edit Job Posting"})}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",value:m.title,onChange:oe=>h({...m,title:oe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"company_name",children:"Company Name *"}),e.jsx(he,{id:"company_name",value:m.company_name,onChange:oe=>h({...m,company_name:oe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:"Location *"}),e.jsx(he,{id:"location",value:m.location,onChange:oe=>h({...m,location:oe.target.value})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_type",children:"Job Type"}),e.jsxs("select",{id:"job_type",value:m.job_type||"",onChange:oe=>h({...m,job_type:oe.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),E.map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"hours",children:"Hours"}),e.jsxs("select",{id:"hours",value:m.hours||"",onChange:oe=>h({...m,hours:oe.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),O.map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"salary_range",children:"Salary Range"}),e.jsx(he,{id:"salary_range",value:m.salary_range||"",onChange:oe=>h({...m,salary_range:oe.target.value}),placeholder:"e.g., 30,000 - 40,000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"closing_date",children:"Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:m.closing_date?m.closing_date.split("T")[0]:"",onChange:oe=>h({...m,closing_date:oe.target.value+"T23:59:59Z"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"company_logo_url",children:"Company Logo URL"}),e.jsx(he,{id:"company_logo_url",value:m.company_logo_url||"",onChange:oe=>h({...m,company_logo_url:oe.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Job Description *"}),e.jsx(Ht,{id:"description",value:m.description,onChange:oe=>h({...m,description:oe.target.value}),rows:10})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload or remove job-related documents"})]}),e.jsxs(ee,{htmlFor:"edit-file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"edit-file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:G,className:"hidden",disabled:y})]})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),m.attachment_urls&&m.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:m.attachment_names.map((oe,pe)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:oe})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ws,{className:"w-4 h-4"})})]},pe))}),(!m.attachment_urls||m.attachment_urls.length===0)&&!y&&e.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No documents attached"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:m.featured||!1,onChange:oe=>h({...m,featured:oe.target.checked}),className:"rounded border-slate-300"}),e.jsx(ee,{htmlFor:"featured",children:"Featured Position"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{d(!1),h(null)},children:"Cancel"}),e.jsx(X,{onClick:se,disabled:V.isPending||y,className:"bg-blue-600 hover:bg-blue-700",children:V.isPending?"Saving...":"Save Changes"})]})]})})]})}):null}function JB({memberInfo:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState("all"),u=Gt(),{data:d,isLoading:m}=me({queryKey:["my-job-postings",t==null?void 0:t.email],queryFn:async()=>t!=null&&t.email?(await K.entities.JobPosting.filter({contact_email:t.email})).sort((C,R)=>new Date(R.created_date)-new Date(C.created_date)):[],enabled:!!(t!=null&&t.email),initialData:[]}),{data:h}=me({queryKey:["job-type-settings"],queryFn:async()=>{const C=(await K.entities.SystemSettings.list()).find(R=>R.setting_key==="job_types");if(C)try{return JSON.parse(C.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:p}=me({queryKey:["hours-settings"],queryFn:async()=>{const C=(await K.entities.SystemSettings.list()).find(R=>R.setting_key==="job_hours");if(C)try{return JSON.parse(C.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),g=Fe({mutationFn:({id:P,data:C})=>K.entities.JobPosting.update(P,C),onSuccess:()=>{u.invalidateQueries({queryKey:["my-job-postings"]}),te.success("Job posting updated successfully"),n(!1),a(null)},onError:P=>{te.error("Failed to update job posting: "+P.message)}}),y=P=>{const C={pending_approval:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",expired:"bg-slate-100 text-slate-700",rejected:"bg-red-100 text-red-700",pending_payment:"bg-blue-100 text-blue-700"},R={pending_approval:"Pending Approval",active:"Active",expired:"Expired",rejected:"Rejected",pending_payment:"Pending Payment"};return e.jsx(ve,{className:C[P],children:R[P]})},v=P=>{a({...P,attachment_urls:P.attachment_urls||[],attachment_names:P.attachment_names||[]}),n(!0)},j=async P=>{const C=Array.from(P.target.files);if(C.length===0)return;const R=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(C.filter(E=>!R.includes(E.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(C.filter(E=>E.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}l(!0);try{const E=C.map(async F=>({url:(await K.integrations.Core.UploadFile({file:F})).file_url,name:F.name})),O=await Promise.all(E);a(F=>({...F,attachment_urls:[...F.attachment_urls||[],...O.map(z=>z.url)],attachment_names:[...F.attachment_names||[],...O.map(z=>z.name)]})),te.success(`${C.length} ${C.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{l(!1)}},w=P=>{a(C=>({...C,attachment_urls:C.attachment_urls.filter((R,M)=>M!==P),attachment_names:C.attachment_names.filter((R,M)=>M!==P)}))},N=()=>{if(!r.title||!r.company_name||!r.closing_date){te.error("Please fill in all required fields");return}g.mutate({id:r.id,data:r})},_=P=>{if(!P)return!1;const C=Al(new Date(P),new Date);return C>=0&&C<=7},T=b.useMemo(()=>({pending:d.filter(P=>P.status==="pending_approval"),active:d.filter(P=>P.status==="active"),rejected:d.filter(P=>P.status==="rejected"),expired:d.filter(P=>P.status==="expired")}),[d]),A=b.useMemo(()=>o==="all"?d:T[o]||[],[d,T,o]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"My Job Postings"}),e.jsxs(X,{onClick:()=>window.location.href=Ee("PostJob"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),"Post New Job"]})]}),e.jsx("p",{className:"text-slate-600",children:"Manage your organization's job postings"})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-8",children:[e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="pending"?"ring-2 ring-yellow-500 bg-yellow-50":""}`,onClick:()=>c("pending"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:T.pending.length})]}),e.jsx(en,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="active"?"ring-2 ring-green-500 bg-green-50":""}`,onClick:()=>c("active"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.active.length})]}),e.jsx(kn,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="rejected"?"ring-2 ring-red-500 bg-red-50":""}`,onClick:()=>c("rejected"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.rejected.length})]}),e.jsx(ps,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="expired"?"ring-2 ring-slate-500 bg-slate-50":""}`,onClick:()=>c("expired"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Expired"}),e.jsx("p",{className:"text-2xl font-bold text-slate-600",children:T.expired.length})]}),e.jsx(en,{className:"w-8 h-8 text-slate-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="all"?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>c("all"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"All Jobs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:d.length})]}),e.jsx(kn,{className:"w-8 h-8 text-slate-900"})]})})})]}),m?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((P,C)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},C))}):d.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(kn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Job Postings Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You haven't posted any jobs yet. Get started by posting your first job!"}),e.jsxs(X,{onClick:()=>window.location.href=Ee("PostJob"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),"Post Your First Job"]})]})}):A.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(kn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",o==="pending"?"pending approval":o," job postings"]}),e.jsxs("p",{className:"text-slate-600",children:["There are no job postings in the ",o==="pending"?"pending approval":o," category."]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:A.map(P=>{var E;const C=P.closing_date&&_(P.closing_date),R=P.closing_date?Al(new Date(P.closing_date),new Date):null,M=P.attachment_urls&&P.attachment_urls.length>0,k=P.status==="pending_approval"||P.status==="active";return e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all h-full ${C&&P.status==="active"?"border-l-4 border-l-amber-500":""}`,children:e.jsxs(ce,{className:"p-6",children:[C&&P.status==="active"&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",R===0?"today":`in ${R} ${R===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[P.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:P.company_logo_url,alt:P.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(va,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 mb-2",children:P.title}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:P.company_name})]}),P.featured&&e.jsx(i1,{className:"w-5 h-5 text-amber-500 fill-amber-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y(P.status),P.job_type&&e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:P.job_type}),P.hours&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:P.hours}),M&&e.jsxs(ve,{className:"bg-slate-100 text-slate-700 flex items-center gap-1",children:[e.jsx(ts,{className:"w-3 h-3"}),P.attachment_urls.length]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Tr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:P.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",At(new Date(P.created_date),"MMM d, yyyy")]})]}),P.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(en,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:C&&P.status==="active"?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",At(new Date(P.closing_date),"MMM d, yyyy")]})]})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed mb-4",children:[(E=P.description)==null?void 0:E.substring(0,150),"..."]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[P.status==="active"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.open(Ee(`JobDetails?id=${P.id}`),"_blank"),className:"flex-1 text-blue-600 hover:text-blue-700",children:"View Live"}),k&&e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(P),className:`${P.status==="active"?"":"flex-1"} text-slate-600 hover:text-slate-700`,children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})},P.id)})}),e.jsx(St,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Edit Job Posting"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",value:r.title,onChange:P=>a({...r,title:P.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"company_name",children:"Company Name *"}),e.jsx(he,{id:"company_name",value:r.company_name,onChange:P=>a({...r,company_name:P.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:"City or Town *"}),e.jsx(he,{id:"location",value:r.location,onChange:P=>a({...r,location:P.target.value})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_type",children:"Job Type"}),e.jsxs("select",{id:"job_type",value:r.job_type||"",onChange:P=>a({...r,job_type:P.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),h.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"hours",children:"Hours"}),e.jsxs("select",{id:"hours",value:r.hours||"",onChange:P=>a({...r,hours:P.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),p.map(P=>e.jsx("option",{value:P,children:P},P))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"salary_range",children:"Salary Range"}),e.jsx(he,{id:"salary_range",value:r.salary_range||"",onChange:P=>a({...r,salary_range:P.target.value}),placeholder:"e.g., 30,000 - 40,000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"closing_date",children:"Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:r.closing_date?r.closing_date.split("T")[0]:"",onChange:P=>a({...r,closing_date:P.target.value+"T23:59:59Z"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"company_logo_url",children:"Company Logo URL"}),e.jsx(he,{id:"company_logo_url",value:r.company_logo_url||"",onChange:P=>a({...r,company_logo_url:P.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Job Description *"}),e.jsx(Ht,{id:"description",value:r.description,onChange:P=>a({...r,description:P.target.value}),rows:10})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload or remove job-related documents"})]}),e.jsxs(ee,{htmlFor:"edit-file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"edit-file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:j,className:"hidden",disabled:i})]})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),r.attachment_urls&&r.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:r.attachment_names.map((P,C)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:P})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ws,{className:"w-4 h-4"})})]},C))}),(!r.attachment_urls||r.attachment_urls.length===0)&&!i&&e.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No documents attached"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{n(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:N,disabled:g.isPending||i,className:"bg-blue-600 hover:bg-blue-700",children:g.isPending?"Saving...":"Save Changes"})]})]})})]})})}const iM=[{value:"Home",label:"Home Page"},{value:"JobBoard",label:"Job Board"},{value:"JobDetails",label:"Job Details"},{value:"PostJob",label:"Post Job"},{value:"PublicEvents",label:"Public Events"},{value:"PublicAbout",label:"About Us"},{value:"PublicContact",label:"Contact Us"},{value:"PublicResources",label:"Public Resources"}];function XB({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(!1),[i,l]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,g]=b.useState(null),y=Gt(),v=b.useMemo(()=>t&&!n("page_PageBannerManagement"),[t,n]);b.useEffect(()=>{s!=null&&(v||(window.location.href=Ee("Events")))},[s,v]);const{data:j,isLoading:w}=me({queryKey:["page-banners"],queryFn:()=>K.entities.PageBanner.list("-display_order"),initialData:[]}),N=Fe({mutationFn:E=>K.entities.PageBanner.create(E),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),a(!1),l(null),te.success("Banner created successfully")},onError:E=>{te.error("Failed to create banner: "+E.message)}}),_=Fe({mutationFn:({id:E,bannerData:O})=>K.entities.PageBanner.update(E,O),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),a(!1),l(null),te.success("Banner updated successfully")},onError:E=>{te.error("Failed to update banner: "+E.message)}}),T=Fe({mutationFn:E=>K.entities.PageBanner.delete(E),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),d(!1),h(null),te.success("Banner deleted successfully")},onError:E=>{te.error("Failed to delete banner: "+E.message)}}),A=()=>{l({name:"",image_url:"",alt_text:"",size:"full-width",height:"medium",position:"center",associated_pages:[],display_order:0,is_active:!0}),a(!0)},P=E=>{l({...E}),a(!0)},C=E=>{h(E),d(!0)},R=async E=>{const O=E.target.files[0];if(!O)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(O.type)){te.error("Only image files (JPEG, PNG, GIF, WebP) are allowed");return}if(O.size>5*1024*1024){te.error("Image must be smaller than 5MB");return}c(!0);try{const z=await K.integrations.Core.UploadFile({file:O});l(V=>({...V,image_url:z.file_url})),te.success("Image uploaded successfully")}catch(z){te.error("Failed to upload image: "+z.message)}finally{c(!1)}},M=()=>{if(!i.name.trim()){te.error("Banner name is required");return}if(!i.image_url){te.error("Please upload an image");return}if(i.associated_pages.length===0){te.error("Please select at least one page");return}i.id?_.mutate({id:i.id,bannerData:i}):N.mutate(i)},k=E=>{const O=i.associated_pages||[],F=O.includes(E)?O.filter(z=>z!==E):[...O,E];l({...i,associated_pages:F})};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Page Banner Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage hero banners for public pages"})]}),e.jsxs(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Banner"]})]}),w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vt,{className:"w-8 h-8 animate-spin text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading banners..."})]}):j.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ri,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Banners Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first banner to enhance your public pages"}),e.jsxs(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Banner"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(E=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"p-0",children:e.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",children:[e.jsx("img",{src:E.image_url,alt:E.alt_text||E.name,className:"w-full h-full object-cover"}),!E.is_active&&e.jsx("div",{className:"absolute inset-0 bg-slate-900/50 flex items-center justify-center",children:e.jsx(ve,{className:"bg-slate-700 text-white",children:"Inactive"})})]})}),e.jsxs(ce,{className:"pt-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:E.name}),e.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[e.jsx(ve,{variant:"outline",className:"text-xs",children:E.size}),e.jsx(ve,{variant:"outline",className:"text-xs",children:E.height}),E.is_active&&e.jsx(ve,{className:"bg-green-100 text-green-700 text-xs",children:"Active"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase",children:"Appears On"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[E.associated_pages&&E.associated_pages.length>0?E.associated_pages.slice(0,3).map(O=>{var F;return e.jsx(ve,{className:"bg-blue-100 text-blue-700 text-xs",children:((F=iM.find(z=>z.value===O))==null?void 0:F.label)||O},O)}):e.jsx("span",{className:"text-xs text-slate-500",children:"No pages selected"}),E.associated_pages&&E.associated_pages.length>3&&e.jsxs(ve,{className:"bg-slate-100 text-slate-700 text-xs",children:["+",E.associated_pages.length-3," more"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>g(E),className:"flex-1",children:[e.jsx(fr,{className:"w-3 h-3 mr-1"}),"Preview"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>P(E),children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(E),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},E.id))}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:i!=null&&i.id?"Edit Banner":"Create New Banner"})}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"banner-name",children:"Banner Name *"}),e.jsx(he,{id:"banner-name",value:i.name,onChange:E=>l({...i,name:E.target.value}),placeholder:"e.g., Homepage Hero Banner"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"alt-text",children:"Alternative Text"}),e.jsx(he,{id:"alt-text",value:i.alt_text||"",onChange:E=>l({...i,alt_text:E.target.value}),placeholder:"Describe the image for accessibility"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for screen readers and SEO"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Banner Image *"}),i.image_url?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative h-40 bg-slate-100 rounded-lg overflow-hidden border border-slate-200",children:e.jsx("img",{src:i.image_url,alt:"Preview",className:"w-full h-full object-cover"})}),e.jsxs(ee,{htmlFor:"change-image",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-slate-300 rounded-md hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change Image"})]}),e.jsx("input",{id:"change-image",type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:o})]})]}):e.jsxs(ee,{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-8 h-8 text-blue-600 animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ri,{className:"w-8 h-8 text-slate-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Upload Banner Image"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Click to browse (max 5MB)"})]})]})}),e.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:o})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"size",children:"Banner Width"}),e.jsxs(He,{value:i.size,onValueChange:E=>l({...i,size:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"full-width",children:"Full Width"}),e.jsx(re,{value:"contained",children:"Contained"}),e.jsx(re,{value:"wide",children:"Wide"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"height",children:"Banner Height"}),e.jsxs(He,{value:i.height,onValueChange:E=>l({...i,height:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"small",children:"Small"}),e.jsx(re,{value:"medium",children:"Medium"}),e.jsx(re,{value:"large",children:"Large"}),e.jsx(re,{value:"auto",children:"Auto"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"position",children:"Image Position"}),e.jsxs(He,{value:i.position,onValueChange:E=>l({...i,position:E}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"top",children:"Top"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"bottom",children:"Bottom"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Vertical positioning of the image within the banner container"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"display-order",children:"Display Order"}),e.jsx(he,{id:"display-order",type:"number",value:i.display_order,onChange:E=>l({...i,display_order:parseInt(E.target.value)||0})}),e.jsx("p",{className:"text-xs text-slate-500",children:"Lower numbers appear first if multiple banners on same page"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{children:"Show Banner On (Select Pages) *"}),e.jsx("div",{className:"border border-slate-200 rounded-lg p-4 space-y-2 max-h-60 overflow-y-auto",children:iM.map(E=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded transition-colors",children:[e.jsx(ls,{id:`page-${E.value}`,checked:(i.associated_pages||[]).includes(E.value),onCheckedChange:()=>k(E.value)}),e.jsx(ee,{htmlFor:`page-${E.value}`,className:"flex-1 cursor-pointer",children:E.label})]},E.value))})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is-active",checked:i.is_active,onCheckedChange:E=>l({...i,is_active:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"is-active",className:"cursor-pointer",children:"Active"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Inactive banners won't be displayed on any pages"})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),l(null)},children:"Cancel"}),e.jsx(X,{onClick:M,disabled:N.isPending||_.isPending||o,className:"bg-blue-600 hover:bg-blue-700",children:i!=null&&i.id?"Update Banner":"Create Banner"})]})]})}),e.jsx(St,{open:!!p,onOpenChange:()=>g(null),children:e.jsxs(Nt,{className:"max-w-5xl",children:[e.jsx(Ct,{children:e.jsxs(kt,{children:["Banner Preview: ",p==null?void 0:p.name]})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:p.image_url,alt:p.alt_text||p.name,className:"w-full h-auto"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Width:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Height:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.height})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Position:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.position})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.is_active?"Active":"Inactive"})]})]})]})]})}),e.jsx(St,{open:u,onOpenChange:d,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Banner"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',m==null?void 0:m.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This banner will be removed from all associated pages."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{d(!1),h(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>m&&T.mutate(m.id),disabled:T.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Banner"})]})]})})]})}):null}function ZB({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState({title:"",slug:"",description:"",layout_type:"public",status:"draft"}),m=Y_(),h=Gt(),{data:p,isLoading:g}=me({queryKey:["iedit-pages"],queryFn:()=>K.entities.IEditPage.list("-updated_date"),initialData:[]}),y=Fe({mutationFn:P=>K.entities.IEditPage.create(P),onSuccess:P=>{h.invalidateQueries({queryKey:["iedit-pages"]}),a(!1),d({title:"",slug:"",description:"",layout_type:"public",status:"draft"}),te.success("Page created successfully"),m(Ee("IEditPageEditor")+`?pageId=${P.id}`)},onError:P=>{te.error("Failed to create page: "+P.message)}}),v=Fe({mutationFn:async P=>{const C=await K.entities.IEditPageElement.filter({page_id:P});for(const R of C)await K.entities.IEditPageElement.delete(R.id);await K.entities.IEditPage.delete(P)},onSuccess:()=>{h.invalidateQueries({queryKey:["iedit-pages"]}),l(!1),c(null),te.success("Page deleted successfully")},onError:P=>{te.error("Failed to delete page: "+P.message)}}),j=Fe({mutationFn:async P=>{await K.integrations.Core.SendEmail({to:"developers@isaasi.co.uk",subject:`Top-Level URL Request: /${P.slug}`,body:`
A request has been made to convert the following page to a top-level URL:

Page Title: ${P.title}
Slug: ${P.slug}
Layout Type: ${P.layout_type}
Status: ${P.status}
Page ID: ${P.id}

Current URL: ${window.location.origin}${Ee("content")}?page=${P.slug}
Requested URL: ${window.location.origin}/${P.slug}

Please create a physical page file for this slug to enable top-level routing.
        `})},onSuccess:()=>{te.success("Request sent to developers")},onError:P=>{te.error("Failed to send request: "+P.message)}}),w=()=>{if(!u.title.trim()||!u.slug.trim()){te.error("Title and slug are required");return}if(!/^[a-z0-9-]+$/.test(u.slug)){te.error("Slug must be lowercase with hyphens only (no spaces or special characters)");return}y.mutate(u)},N=()=>{o&&v.mutate(o.id)},_=p.filter(P=>{var C,R,M;return((C=P.title)==null?void 0:C.toLowerCase().includes(s.toLowerCase()))||((R=P.slug)==null?void 0:R.toLowerCase().includes(s.toLowerCase()))||((M=P.description)==null?void 0:M.toLowerCase().includes(s.toLowerCase()))}),T=P=>{const C={draft:"bg-slate-100 text-slate-700",published:"bg-green-100 text-green-700",archived:"bg-amber-100 text-amber-700"};return C[P]||C.draft},A=P=>Ee("content")+`?page=${P}`;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Page Editor"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage custom pages with drag-and-drop elements"})]}),e.jsxs(X,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"New Page"]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search pages by title, slug, or description...",value:s,onChange:P=>n(P.target.value),className:"pl-10"})]})}),g?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((P,C)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},C))}):_.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(uf,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s?"No Pages Found":"No Pages Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:s?"Try adjusting your search query":"Create your first custom page to get started"}),!s&&e.jsxs(X,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Page"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(P=>e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsxs(Re,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx($e,{className:"text-lg",children:P.title}),e.jsx(ve,{className:T(P.status),children:P.status})]}),P.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:P.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Slug:"}),e.jsxs("span",{className:"ml-2 font-mono text-slate-700",children:["/",P.slug]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Layout:"}),e.jsx("span",{className:"ml-2 text-slate-700 capitalize",children:P.layout_type})]}),P.updated_date&&e.jsxs("div",{className:"text-xs text-slate-500",children:["Updated ",At(new Date(P.updated_date),"MMM d, yyyy")]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>m(Ee("IEditPageEditor")+`?pageId=${P.id}`),className:"flex-1",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),P.status==="published"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.open(A(P.slug),"_blank"),title:"View Published Page",children:e.jsx(Qs,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{c(P),l(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>j.mutate(P),disabled:j.isPending,className:"w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[e.jsx(uN,{className:"w-3 h-3 mr-1"}),"Request Top-Level URL (/",P.slug,")"]})]})]},P.id))}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Create New Page"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"title",children:"Page Title *"}),e.jsx(he,{id:"title",value:u.title,onChange:P=>{const C=P.target.value;d({...u,title:C,slug:u.slug===""?C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""):u.slug})},placeholder:"e.g., About Our Organization"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(he,{id:"slug",value:u.slug,onChange:P=>d({...u,slug:P.target.value.toLowerCase()}),placeholder:"e.g., about-our-organization"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lowercase letters, numbers, and hyphens only"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Ht,{id:"description",value:u.description,onChange:P=>d({...u,description:P.target.value}),placeholder:"Brief description for admin reference...",rows:3})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"layout_type",children:"Layout Type"}),e.jsxs(He,{value:u.layout_type,onValueChange:P=>d({...u,layout_type:P}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"public",children:"Public (With header/footer)"}),e.jsx(re,{value:"member",children:"Member Portal (With sidebar)"})]})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:w,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Create & Edit"})]})]})}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Page"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:o==null?void 0:o.title}),"? This will also delete all elements on this page. This action cannot be undone."]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:N,disabled:v.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Page"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function e8({isAdmin:t}){var N;const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(null),u=Gt(),{data:d,isLoading:m}=me({queryKey:["iedit-templates"],queryFn:()=>K.entities.IEditElementTemplate.list("display_order"),initialData:[]}),h=Fe({mutationFn:_=>K.entities.IEditElementTemplate.create(_),onSuccess:()=>{u.invalidateQueries({queryKey:["iedit-templates"]}),n(!1),a(null),te.success("Template created successfully")},onError:_=>{te.error("Failed to create template: "+_.message)}}),p=Fe({mutationFn:({id:_,templateData:T})=>K.entities.IEditElementTemplate.update(_,T),onSuccess:()=>{u.invalidateQueries({queryKey:["iedit-templates"]}),n(!1),a(null),te.success("Template updated successfully")},onError:_=>{te.error("Failed to update template: "+_.message)}}),g=Fe({mutationFn:_=>K.entities.IEditElementTemplate.delete(_),onSuccess:()=>{u.invalidateQueries({queryKey:["iedit-templates"]}),l(!1),c(null),te.success("Template deleted successfully")},onError:_=>{te.error("Failed to delete template: "+_.message)}}),y=()=>{a({name:"",element_type:"",description:"",icon:"Square",category:"content",default_content:{},available_variants:["default"],content_schema:{},is_active:!0,display_order:d.length}),n(!0)},v=_=>{a({..._}),n(!0)},j=()=>{if(!r.name.trim()||!r.element_type.trim()){te.error("Name and element type are required");return}r.id?p.mutate({id:r.id,templateData:r}):h.mutate(r)},w=_=>{const T={layout:"bg-purple-100 text-purple-700",content:"bg-blue-100 text-blue-700",media:"bg-green-100 text-green-700",interactive:"bg-amber-100 text-amber-700"};return T[_]||T.content};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Element Templates"}),e.jsx("p",{className:"text-slate-600",children:"Manage reusable element templates for the page editor"})]}),e.jsxs(X,{onClick:y,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"New Template"]})]}),m?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((_,T)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},T))}):d.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(nG,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Templates Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first element template to start building custom pages"}),e.jsxs(X,{onClick:y,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Template"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(_=>{var T;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsxs(Re,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx($e,{className:"text-lg",children:_.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ve,{className:w(_.category),children:_.category}),!_.is_active&&e.jsx(ve,{className:"bg-slate-100 text-slate-700",children:"Inactive"})]})]}),_.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:_.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-mono text-slate-700",children:_.element_type})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Variants:"}),e.jsx("span",{className:"ml-2 text-slate-700",children:((T=_.available_variants)==null?void 0:T.join(", "))||"default"})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(_),className:"flex-1",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{c(_),l(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},_.id)})}),e.jsx(St,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:r!=null&&r.id?"Edit Template":"Create New Template"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"name",children:"Template Name *"}),e.jsx(he,{id:"name",value:r.name,onChange:_=>a({...r,name:_.target.value}),placeholder:"e.g., Hero Banner"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"element_type",children:"Element Type *"}),e.jsx(he,{id:"element_type",value:r.element_type,onChange:_=>a({...r,element_type:_.target.value}),placeholder:"e.g., hero_banner (lowercase, underscores)"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Unique identifier for this element type"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:r.description||"",onChange:_=>a({...r,description:_.target.value}),placeholder:"What does this element do?",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"icon",children:"Icon Name"}),e.jsx(he,{id:"icon",value:r.icon||"Square",onChange:_=>a({...r,icon:_.target.value}),placeholder:"Lucide icon name"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"category",children:"Category"}),e.jsxs(He,{value:r.category,onValueChange:_=>a({...r,category:_}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"layout",children:"Layout"}),e.jsx(re,{value:"content",children:"Content"}),e.jsx(re,{value:"media",children:"Media"}),e.jsx(re,{value:"interactive",children:"Interactive"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"variants",children:"Available Variants (comma-separated)"}),e.jsx(he,{id:"variants",value:((N=r.available_variants)==null?void 0:N.join(", "))||"default",onChange:_=>a({...r,available_variants:_.target.value.split(",").map(T=>T.trim()).filter(Boolean)}),placeholder:"default, dark, accent"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:r.is_active,onChange:_=>a({...r,is_active:_.target.checked}),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (available in element palette)"})]}),e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-900",children:[e.jsx("strong",{children:"Note:"})," After creating a template, you'll need to implement the corresponding React component in ",e.jsx("code",{className:"bg-white px-1 rounded",children:"components/iedit/elements/"})," to render this element type."]})})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsxs(X,{onClick:j,disabled:h.isPending||p.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[r!=null&&r.id?"Update":"Create"," Template"]})]})]})}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Template"})}),e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:o==null?void 0:o.name}),"? This action cannot be undone."]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>o&&g.mutate(o.id),disabled:g.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function Sr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nme=typeof Symbol=="function"&&Symbol.observable||"@@observable",lM=Nme,oM=()=>Math.random().toString(36).substring(7).split("").join("."),_me={INIT:`@@redux/INIT${oM()}`,REPLACE:`@@redux/REPLACE${oM()}`},cM=_me;function Sme(t){if(typeof t!="object"||t===null)return!1;let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s||Object.getPrototypeOf(t)===null}function t8(t,s,n){if(typeof t!="function")throw new Error(Sr(2));if(typeof s=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof s=="function"&&typeof n>"u"&&(n=s,s=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sr(1));return n(t8)(t,s)}let r=t,a=s,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((v,j)=>{l.set(j,v)}))}function d(){if(c)throw new Error(Sr(3));return a}function m(v){if(typeof v!="function")throw new Error(Sr(4));if(c)throw new Error(Sr(5));let j=!0;u();const w=o++;return l.set(w,v),function(){if(j){if(c)throw new Error(Sr(6));j=!1,u(),l.delete(w),i=null}}}function h(v){if(!Sme(v))throw new Error(Sr(7));if(typeof v.type>"u")throw new Error(Sr(8));if(typeof v.type!="string")throw new Error(Sr(17));if(c)throw new Error(Sr(9));try{c=!0,a=r(a,v)}finally{c=!1}return(i=l).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(Sr(10));r=v,h({type:cM.REPLACE})}function g(){const v=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Sr(11));function w(){const _=j;_.next&&_.next(d())}return w(),{unsubscribe:v(w)}},[lM](){return this}}}return h({type:cM.INIT}),{dispatch:h,subscribe:m,getState:d,replaceReducer:p,[lM]:g}}function dM(t,s){return function(...n){return s(t.apply(this,n))}}function uM(t,s){if(typeof t=="function")return dM(t,s);if(typeof t!="object"||t===null)throw new Error(Sr(16));const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=dM(a,s))}return n}function s8(...t){return t.length===0?s=>s:t.length===1?t[0]:t.reduce((s,n)=>(...r)=>s(n(...r)))}function Cme(...t){return s=>(n,r)=>{const a=s(n,r);let i=()=>{throw new Error(Sr(15))};const l={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=t.map(c=>c(l));return i=s8(...o)(a.dispatch),{...a,dispatch:i}}}var xw={exports:{}},gw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hM;function kme(){if(hM)return gw;hM=1;var t=Zm();function s(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:s,r=t.useSyncExternalStore,a=t.useRef,i=t.useEffect,l=t.useMemo,o=t.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(c,u,d,m,h){var p=a(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=l(function(){function v(T){if(!j){if(j=!0,w=T,T=m(T),h!==void 0&&g.hasValue){var A=g.value;if(h(A,T))return N=A}return N=T}if(A=N,n(w,T))return A;var P=m(T);return h!==void 0&&h(A,P)?(w=T,A):(w=T,N=P)}var j=!1,w,N,_=d===void 0?null:d;return[function(){return v(u())},_===null?void 0:function(){return v(_())}]},[u,d,m,h]);var y=r(c,p[0],p[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),o(y),y},gw}var mM;function Eme(){return mM||(mM=1,xw.exports=kme()),xw.exports}Eme();var Pme=b.version.startsWith("19"),Tme=Symbol.for(Pme?"react.transitional.element":"react.element"),Ame=Symbol.for("react.portal"),Mme=Symbol.for("react.fragment"),Dme=Symbol.for("react.strict_mode"),Ome=Symbol.for("react.profiler"),Rme=Symbol.for("react.consumer"),Fme=Symbol.for("react.context"),n8=Symbol.for("react.forward_ref"),Lme=Symbol.for("react.suspense"),Ime=Symbol.for("react.suspense_list"),U2=Symbol.for("react.memo"),Bme=Symbol.for("react.lazy"),qme=n8,zme=U2;function $me(t){if(typeof t=="object"&&t!==null){const{$$typeof:s}=t;switch(s){case Tme:switch(t=t.type,t){case Mme:case Ome:case Dme:case Lme:case Ime:return t;default:switch(t=t&&t.$$typeof,t){case Fme:case n8:case Bme:case U2:return t;case Rme:return t;default:return s}}case Ame:return s}}}function Ume(t){return $me(t)===U2}function Vme(t,s,n,r,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:l}){let o=!1,c,u,d,m,h;function p(w,N){return c=w,u=N,d=t(c,u),m=s(r,u),h=n(d,m,u),o=!0,h}function g(){return d=t(c,u),s.dependsOnOwnProps&&(m=s(r,u)),h=n(d,m,u),h}function y(){return t.dependsOnOwnProps&&(d=t(c,u)),s.dependsOnOwnProps&&(m=s(r,u)),h=n(d,m,u),h}function v(){const w=t(c,u),N=!l(w,d);return d=w,N&&(h=n(d,m,u)),h}function j(w,N){const _=!i(N,u),T=!a(w,c,N,u);return c=w,u=N,_&&T?g():_?y():T?v():h}return function(N,_){return o?j(N,_):p(N,_)}}function Wme(t,{initMapStateToProps:s,initMapDispatchToProps:n,initMergeProps:r,...a}){const i=s(t,a),l=n(t,a),o=r(t,a);return Vme(i,l,o,t,a)}function Hme(t,s){const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=(...i)=>s(a(...i)))}return n}function x_(t){return function(n){const r=t(n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function fM(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function r8(t,s){return function(r,{displayName:a}){const i=function(o,c){return i.dependsOnOwnProps?i.mapToProps(o,c):i.mapToProps(o,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,c){i.mapToProps=t,i.dependsOnOwnProps=fM(t);let u=i(o,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=fM(u),u=i(o,c)),u},i}}function V2(t,s){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${s} argument when connecting component ${r.wrappedComponentName}.`)}}function Gme(t){return t&&typeof t=="object"?x_(s=>Hme(t,s)):t?typeof t=="function"?r8(t):V2(t,"mapDispatchToProps"):x_(s=>({dispatch:s}))}function Kme(t){return t?typeof t=="function"?r8(t):V2(t,"mapStateToProps"):x_(()=>({}))}function Yme(t,s,n){return{...n,...t,...s}}function Qme(t){return function(n,{displayName:r,areMergedPropsEqual:a}){let i=!1,l;return function(c,u,d){const m=t(c,u,d);return i?a(m,l)||(l=m):(i=!0,l=m),l}}}function Jme(t){return t?typeof t=="function"?Qme(t):V2(t,"mergeProps"):()=>Yme}function Xme(t){t()}function Zme(){let t=null,s=null;return{clear(){t=null,s=null},notify(){Xme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=s={callback:n,next:null,prev:s};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:s=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var pM={notify(){},get:()=>[]};function a8(t,s){let n,r=pM,a=0,i=!1;function l(y){d();const v=r.subscribe(y);let j=!1;return()=>{j||(j=!0,v(),m())}}function o(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,n||(n=s?s.addNestedSub(c):t.subscribe(c),r=Zme())}function m(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=pM)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,m())}const g={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var efe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tfe=efe(),sfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nfe=sfe(),rfe=()=>tfe||nfe?b.useLayoutEffect:b.useEffect,yg=rfe();function xM(t,s){return t===s?t!==0||s!==0||1/t===1/s:t!==t&&s!==s}function vw(t,s){if(xM(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;const n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(s,n[a])||!xM(t[n[a]],s[n[a]]))return!1;return!0}var afe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ife={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lfe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ofe={[qme]:lfe,[zme]:i8};function gM(t){return Ume(t)?i8:ofe[t.$$typeof]||afe}var cfe=Object.defineProperty,dfe=Object.getOwnPropertyNames,vM=Object.getOwnPropertySymbols,ufe=Object.getOwnPropertyDescriptor,hfe=Object.getPrototypeOf,yM=Object.prototype;function g_(t,s){if(typeof s!="string"){if(yM){const i=hfe(s);i&&i!==yM&&g_(t,i)}let n=dfe(s);vM&&(n=n.concat(vM(s)));const r=gM(t),a=gM(s);for(let i=0;i<n.length;++i){const l=n[i];if(!ife[l]&&!(a&&a[l])&&!(r&&r[l])){const o=ufe(s,l);try{cfe(t,l,o)}catch{}}}}return t}var yw=Symbol.for("react-redux-context"),bw=typeof globalThis<"u"?globalThis:{};function mfe(){if(!b.createContext)return{};const t=bw[yw]??(bw[yw]=new Map);let s=t.get(b.createContext);return s||(s=b.createContext(null),t.set(b.createContext,s)),s}var l8=mfe(),ffe=[null,null];function pfe(t,s,n){yg(()=>t(...s),n)}function xfe(t,s,n,r,a,i){t.current=r,n.current=!1,a.current&&(a.current=null,i())}function gfe(t,s,n,r,a,i,l,o,c,u,d){if(!t)return()=>{};let m=!1,h=null;const p=()=>{if(m||!o.current)return;const y=s.getState();let v,j;try{v=r(y,a.current)}catch(w){j=w,h=w}j||(h=null),v===i.current?l.current||u():(i.current=v,c.current=v,l.current=!0,d())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function vfe(t,s){return t===s}function yfe(t,s,n,{pure:r,areStatesEqual:a=vfe,areOwnPropsEqual:i=vw,areStatePropsEqual:l=vw,areMergedPropsEqual:o=vw,forwardRef:c=!1,context:u=l8}={}){const d=u,m=Kme(t),h=Gme(s),p=Jme(n),g=!!t;return v=>{const j=v.displayName||v.name||"Component",w=`Connect(${j})`,N={shouldHandleStateChanges:g,displayName:w,wrappedComponentName:j,WrappedComponent:v,initMapStateToProps:m,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:a,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:o};function _(P){const[C,R,M]=b.useMemo(()=>{const{reactReduxForwardedRef:oe,...pe}=P;return[P.context,oe,pe]},[P]),k=b.useMemo(()=>{let oe=d;return C!=null&&C.Consumer,oe},[C,d]),E=b.useContext(k),O=!!P.store&&!!P.store.getState&&!!P.store.dispatch,F=!!E&&!!E.store,z=O?P.store:E.store,V=F?E.getServerState:z.getState,U=b.useMemo(()=>Wme(z.dispatch,N),[z]),[B,$]=b.useMemo(()=>{if(!g)return ffe;const oe=a8(z,O?void 0:E.subscription),pe=oe.notifyNestedSubs.bind(oe);return[oe,pe]},[z,O,E]),L=b.useMemo(()=>O?E:{...E,subscription:B},[O,E,B]),I=b.useRef(void 0),W=b.useRef(M),q=b.useRef(void 0),Z=b.useRef(!1),J=b.useRef(!1),Q=b.useRef(void 0);yg(()=>(J.current=!0,()=>{J.current=!1}),[]);const G=b.useMemo(()=>()=>q.current&&M===W.current?q.current:U(z.getState(),M),[z,M]),ae=b.useMemo(()=>pe=>B?gfe(g,z,B,U,W,I,Z,J,q,$,pe):()=>{},[B]);pfe(xfe,[W,I,Z,M,q,$]);let se;try{se=b.useSyncExternalStore(ae,G,V?()=>U(V(),M):G)}catch(oe){throw Q.current&&(oe.message+=`
The error may be correlated with this previous error:
${Q.current.stack}

`),oe}yg(()=>{Q.current=void 0,q.current=void 0,I.current=se});const de=b.useMemo(()=>b.createElement(v,{...se,ref:R}),[R,v,se]);return b.useMemo(()=>g?b.createElement(k.Provider,{value:L},de):de,[k,de,L])}const A=b.memo(_);if(A.WrappedComponent=v,A.displayName=_.displayName=w,c){const C=b.forwardRef(function(M,k){return b.createElement(A,{...M,reactReduxForwardedRef:k})});return C.displayName=w,C.WrappedComponent=v,g_(C,v)}return g_(A,v)}}var o8=yfe;function bfe(t){const{children:s,context:n,serverState:r,store:a}=t,i=b.useMemo(()=>{const c=a8(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),l=b.useMemo(()=>a.getState(),[a]);yg(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=n||l8;return b.createElement(o.Provider,{value:i},s)}var jfe=bfe,wfe="Invariant failed";function Nfe(t,s){throw new Error(wfe)}var ii=function(s){var n=s.top,r=s.right,a=s.bottom,i=s.left,l=r-i,o=a-n,c={top:n,right:r,bottom:a,left:i,width:l,height:o,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return c},W2=function(s,n){return{top:s.top-n.top,left:s.left-n.left,bottom:s.bottom+n.bottom,right:s.right+n.right}},bM=function(s,n){return{top:s.top+n.top,left:s.left+n.left,bottom:s.bottom-n.bottom,right:s.right-n.right}},_fe=function(s,n){return{top:s.top+n.y,left:s.left+n.x,bottom:s.bottom+n.y,right:s.right+n.x}},jw={top:0,right:0,bottom:0,left:0},H2=function(s){var n=s.borderBox,r=s.margin,a=r===void 0?jw:r,i=s.border,l=i===void 0?jw:i,o=s.padding,c=o===void 0?jw:o,u=ii(W2(n,a)),d=ii(bM(n,l)),m=ii(bM(d,c));return{marginBox:u,borderBox:ii(n),paddingBox:d,contentBox:m,margin:a,border:l,padding:c}},Aa=function(s){var n=s.slice(0,-2),r=s.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&Nfe(),a},Sfe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},bg=function(s,n){var r=s.borderBox,a=s.border,i=s.margin,l=s.padding,o=_fe(r,n);return H2({borderBox:o,border:a,margin:i,padding:l})},jg=function(s,n){return n===void 0&&(n=Sfe()),bg(s,n)},c8=function(s,n){var r={top:Aa(n.marginTop),right:Aa(n.marginRight),bottom:Aa(n.marginBottom),left:Aa(n.marginLeft)},a={top:Aa(n.paddingTop),right:Aa(n.paddingRight),bottom:Aa(n.paddingBottom),left:Aa(n.paddingLeft)},i={top:Aa(n.borderTopWidth),right:Aa(n.borderRightWidth),bottom:Aa(n.borderBottomWidth),left:Aa(n.borderLeftWidth)};return H2({borderBox:s,margin:r,padding:a,border:i})},d8=function(s){var n=s.getBoundingClientRect(),r=window.getComputedStyle(s);return c8(n,r)},Bm=function(s){var n=[],r=null,a=function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];n=o,!r&&(r=requestAnimationFrame(function(){r=null,s.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(null,arguments)}function u8(t,s){}u8.bind(null,"warn");u8.bind(null,"error");function So(){}function Cfe(t,s){return{...t,...s}}function Ba(t,s,n){const r=s.map(a=>{const i=Cfe(n,a.options);return t.addEventListener(a.eventName,a.fn,i),function(){t.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(i=>{i()})}}const kfe="Invariant failed";class Ng extends Error{}Ng.prototype.toString=function(){return this.message};function gt(t,s){throw new Ng(kfe)}class Efe extends Ie.Component{constructor(...s){super(...s),this.callbacks=null,this.unbind=So,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ng&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ba(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(s){if(s instanceof Ng){this.setState({});return}throw s}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Pfe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,_g=t=>t+1,Tfe=t=>`
  You have lifted an item in position ${_g(t.source.index)}
`,h8=(t,s)=>{const n=t.droppableId===s.droppableId,r=_g(t.index),a=_g(s.index);return n?`
      You have moved the item from position ${r}
      to position ${a}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${s.droppableId}
    in position ${a}
  `},m8=(t,s,n)=>s.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${s.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Afe=t=>{const s=t.destination;if(s)return h8(t.source,s);const n=t.combine;return n?m8(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},jM=t=>`
  The item has returned to its starting position
  of ${_g(t.index)}
`,Mfe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${jM(t.source)}
    `;const s=t.destination,n=t.combine;return s?`
      You have dropped the item.
      ${h8(t.source,s)}
    `:n?`
      You have dropped the item.
      ${m8(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jM(t.source)}
  `},Ux={dragHandleUsageInstructions:Pfe,onDragStart:Tfe,onDragUpdate:Afe,onDragEnd:Mfe};function Dfe(t,s){return!!(t===s||Number.isNaN(t)&&Number.isNaN(s))}function f8(t,s){if(t.length!==s.length)return!1;for(let n=0;n<t.length;n++)if(!Dfe(t[n],s[n]))return!1;return!0}function Ms(t,s){const n=b.useState(()=>({inputs:s,result:t()}))[0],r=b.useRef(!0),a=b.useRef(n),l=r.current||!!(s&&a.current.inputs&&f8(s,a.current.inputs))?a.current:{inputs:s,result:t()};return b.useEffect(()=>{r.current=!1,a.current=l},[l]),l.result}function Vt(t,s){return Ms(()=>t,s)}const Jn={x:0,y:0},nr=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),xa=(t,s)=>({x:t.x-s.x,y:t.y-s.y}),Co=(t,s)=>t.x===s.x&&t.y===s.y,Gu=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Lc=(t,s,n=0)=>t==="x"?{x:s,y:n}:{x:n,y:s},qm=(t,s)=>Math.sqrt((s.x-t.x)**2+(s.y-t.y)**2),wM=(t,s)=>Math.min(...s.map(n=>qm(t,n))),p8=t=>s=>({x:t(s.x),y:t(s.y)});var Ofe=(t,s)=>{const n=ii({top:Math.max(s.top,t.top),right:Math.min(s.right,t.right),bottom:Math.min(s.bottom,t.bottom),left:Math.max(s.left,t.left)});return n.width<=0||n.height<=0?null:n};const Df=(t,s)=>({top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}),NM=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Rfe={top:0,right:0,bottom:0,left:0},Ffe=(t,s)=>s?Df(t,s.scroll.diff.displacement):t,Lfe=(t,s,n)=>n&&n.increasedBy?{...t,[s.end]:t[s.end]+n.increasedBy[s.line]}:t,Ife=(t,s)=>s&&s.shouldClipSubject?Ofe(s.pageMarginBox,t):ii(t);var ju=({page:t,withPlaceholder:s,axis:n,frame:r})=>{const a=Ffe(t.marginBox,r),i=Lfe(a,n,s),l=Ife(i,r);return{page:t,withPlaceholder:s,active:l}},G2=(t,s)=>{t.frame||gt();const n=t.frame,r=xa(s,n.scroll.initial),a=Gu(r),i={...n,scroll:{initial:n.scroll.initial,current:s,diff:{value:r,displacement:a},max:n.scroll.max}},l=ju({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:l}};function Yn(t,s=f8){let n=null;function r(...a){if(n&&n.lastThis===this&&s(a,n.lastArgs))return n.lastResult;const i=t.apply(this,a);return n={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){n=null},r}const x8=Yn(t=>t.reduce((s,n)=>(s[n.descriptor.id]=n,s),{})),g8=Yn(t=>t.reduce((s,n)=>(s[n.descriptor.id]=n,s),{})),z0=Yn(t=>Object.values(t)),Bfe=Yn(t=>Object.values(t));var Ku=Yn((t,s)=>Bfe(s).filter(r=>t===r.descriptor.droppableId).sort((r,a)=>r.descriptor.index-a.descriptor.index));function K2(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function $0(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var U0=Yn((t,s)=>s.filter(n=>n.descriptor.id!==t.descriptor.id)),qfe=({isMovingForward:t,draggable:s,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled||!K2(a))return null;function l(p){const g={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...a,at:g}}const o=a.displaced.all,c=o.length?o[0]:null;if(t)return c?l(c):null;const u=U0(s,r);if(!c){if(!u.length)return null;const p=u[u.length-1];return l(p.descriptor.id)}const d=u.findIndex(p=>p.descriptor.id===c);d===-1&&gt();const m=d-1;if(m<0)return null;const h=u[m];return l(h.descriptor.id)},Yu=(t,s)=>t.descriptor.droppableId===s.descriptor.id;const v8={point:Jn,value:0},zm={invisible:{},visible:{},all:[]},zfe={displaced:zm,displacedBy:v8,at:null};var $a=(t,s)=>n=>t<=n&&n<=s,y8=t=>{const s=$a(t.top,t.bottom),n=$a(t.left,t.right);return r=>{if(s(r.top)&&s(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=s(r.top)||s(r.bottom),l=n(r.left)||n(r.right);if(i&&l)return!0;const c=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right;return c&&u?!0:c&&l||u&&i}},$fe=t=>{const s=$a(t.top,t.bottom),n=$a(t.left,t.right);return r=>s(r.top)&&s(r.bottom)&&n(r.left)&&n(r.right)};const Y2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},b8={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ufe=t=>s=>{const n=$a(s.top,s.bottom),r=$a(s.left,s.right);return a=>t===Y2?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)};const Vfe=(t,s)=>{const n=s.frame?s.frame.scroll.diff.displacement:Jn;return Df(t,n)},Wfe=(t,s,n)=>s.subject.active?n(s.subject.active)(t):!1,Hfe=(t,s,n)=>n(s)(t),Q2=({target:t,destination:s,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const i=r?Vfe(t,s):t;return Wfe(i,s,a)&&Hfe(i,n,a)},Gfe=t=>Q2({...t,isVisibleThroughFrameFn:y8}),j8=t=>Q2({...t,isVisibleThroughFrameFn:$fe}),Kfe=t=>Q2({...t,isVisibleThroughFrameFn:Ufe(t.destination.axis)}),Yfe=(t,s,n)=>{if(typeof n=="boolean")return n;if(!s)return!0;const{invisible:r,visible:a}=s;if(r[t])return!1;const i=a[t];return i?i.shouldAnimate:!0};function Qfe(t,s){const n=t.page.marginBox,r={top:s.point.y,right:0,bottom:0,left:s.point.x};return ii(W2(n,r))}function $m({afterDragging:t,destination:s,displacedBy:n,viewport:r,forceShouldAnimate:a,last:i}){return t.reduce(function(o,c){const u=Qfe(c,n),d=c.descriptor.id;if(o.all.push(d),!Gfe({target:u,destination:s,viewport:r,withDroppableDisplacement:!0}))return o.invisible[c.descriptor.id]=!0,o;const h=Yfe(d,i,a),p={draggableId:d,shouldAnimate:h};return o.visible[d]=p,o},{all:[],visible:{},invisible:{}})}function Jfe(t,s){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return s.inHomeList?n:n+1}function _M({insideDestination:t,inHomeList:s,displacedBy:n,destination:r}){const a=Jfe(t,{inHomeList:s});return{displaced:zm,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function Sg({draggable:t,insideDestination:s,destination:n,viewport:r,displacedBy:a,last:i,index:l,forceShouldAnimate:o}){const c=Yu(t,n);if(l==null)return _M({insideDestination:s,inHomeList:c,displacedBy:a,destination:n});const u=s.find(g=>g.descriptor.index===l);if(!u)return _M({insideDestination:s,inHomeList:c,displacedBy:a,destination:n});const d=U0(t,s),m=s.indexOf(u),h=d.slice(m);return{displaced:$m({afterDragging:h,destination:n,displacedBy:a,last:i,viewport:r.frame,forceShouldAnimate:o}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Do(t,s){return!!s.effected[t]}var Xfe=({isMovingForward:t,destination:s,draggables:n,combine:r,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const i=r.draggableId,o=n[i].descriptor.index;return Do(i,a)?t?o:o-1:t?o+1:o},Zfe=({isMovingForward:t,isInHomeList:s,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,i=t?a+1:a-1,l=n[0].descriptor.index,o=n[n.length-1].descriptor.index,c=s?o:o+1;return i<l||i>c?null:i},epe=({isMovingForward:t,isInHomeList:s,draggable:n,draggables:r,destination:a,insideDestination:i,previousImpact:l,viewport:o,afterCritical:c})=>{const u=l.at;if(u||gt(),u.type==="REORDER"){const m=Zfe({isMovingForward:t,isInHomeList:s,location:u.destination,insideDestination:i});return m==null?null:Sg({draggable:n,insideDestination:i,destination:a,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:m})}const d=Xfe({isMovingForward:t,destination:a,displaced:l.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:Sg({draggable:n,insideDestination:i,destination:a,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:d})},tpe=({displaced:t,afterCritical:s,combineWith:n,displacedBy:r})=>{const a=!!(t.visible[n]||t.invisible[n]);return Do(n,s)?a?Jn:Gu(r.point):a?r.point:Jn},spe=({afterCritical:t,impact:s,draggables:n})=>{const r=$0(s);r||gt();const a=r.draggableId,i=n[a].page.borderBox.center,l=tpe({displaced:s.displaced,afterCritical:t,combineWith:a,displacedBy:s.displacedBy});return nr(i,l)};const w8=(t,s)=>s.margin[t.start]+s.borderBox[t.size]/2,npe=(t,s)=>s.margin[t.end]+s.borderBox[t.size]/2,J2=(t,s,n)=>s[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,SM=({axis:t,moveRelativeTo:s,isMoving:n})=>Lc(t.line,s.marginBox[t.end]+w8(t,n),J2(t,s.marginBox,n)),CM=({axis:t,moveRelativeTo:s,isMoving:n})=>Lc(t.line,s.marginBox[t.start]-npe(t,n),J2(t,s.marginBox,n)),rpe=({axis:t,moveInto:s,isMoving:n})=>Lc(t.line,s.contentBox[t.start]+w8(t,n),J2(t,s.contentBox,n));var ape=({impact:t,draggable:s,draggables:n,droppable:r,afterCritical:a})=>{const i=Ku(r.descriptor.id,n),l=s.page,o=r.axis;if(!i.length)return rpe({axis:o,moveInto:r.page,isMoving:l});const{displaced:c,displacedBy:u}=t,d=c.all[0];if(d){const h=n[d];if(Do(d,a))return CM({axis:o,moveRelativeTo:h.page,isMoving:l});const p=bg(h.page,u.point);return CM({axis:o,moveRelativeTo:p,isMoving:l})}const m=i[i.length-1];if(m.descriptor.id===s.descriptor.id)return l.borderBox.center;if(Do(m.descriptor.id,a)){const h=bg(m.page,Gu(a.displacedBy.point));return SM({axis:o,moveRelativeTo:h,isMoving:l})}return SM({axis:o,moveRelativeTo:m.page,isMoving:l})},v_=(t,s)=>{const n=t.frame;return n?nr(s,n.scroll.diff.displacement):s};const ipe=({impact:t,draggable:s,droppable:n,draggables:r,afterCritical:a})=>{const i=s.page.borderBox.center,l=t.at;return!n||!l?i:l.type==="REORDER"?ape({impact:t,draggable:s,draggables:r,droppable:n,afterCritical:a}):spe({impact:t,draggables:r,afterCritical:a})};var V0=t=>{const s=ipe(t),n=t.droppable;return n?v_(n,s):s},N8=(t,s)=>{const n=xa(s,t.scroll.initial),r=Gu(n);return{frame:ii({top:s.y,bottom:s.y+t.frame.height,left:s.x,right:s.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:s,diff:{value:n,displacement:r}}}};function kM(t,s){return t.map(n=>s[n])}function lpe(t,s){for(let n=0;n<s.length;n++){const r=s[n].visible[t];if(r)return r}return null}var ope=({impact:t,viewport:s,destination:n,draggables:r,maxScrollChange:a})=>{const i=N8(s,nr(s.scroll.current,a)),l=n.frame?G2(n,nr(n.frame.scroll.current,a)):n,o=t.displaced,c=$m({afterDragging:kM(o.all,r),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:o,forceShouldAnimate:!1}),u=$m({afterDragging:kM(o.all,r),destination:l,displacedBy:t.displacedBy,viewport:s.frame,last:o,forceShouldAnimate:!1}),d={},m={},h=[o,c,u];return o.all.forEach(g=>{const y=lpe(g,h);if(y){m[g]=y;return}d[g]=!0}),{...t,displaced:{all:o.all,invisible:d,visible:m}}},cpe=(t,s)=>nr(t.scroll.diff.displacement,s),X2=({pageBorderBoxCenter:t,draggable:s,viewport:n})=>{const r=cpe(n,t),a=xa(r,s.page.borderBox.center);return nr(s.client.borderBox.center,a)},_8=({draggable:t,destination:s,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const l=xa(n,t.page.borderBox.center),c={target:Df(t.page.borderBox,l),destination:s,withDroppableDisplacement:a,viewport:r};return i?Kfe(c):j8(c)},dpe=({isMovingForward:t,draggable:s,destination:n,draggables:r,previousImpact:a,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:o,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Ku(n.descriptor.id,r),d=Yu(s,n),m=qfe({isMovingForward:t,draggable:s,destination:n,insideDestination:u,previousImpact:a})||epe({isMovingForward:t,isInHomeList:d,draggable:s,draggables:r,destination:n,insideDestination:u,previousImpact:a,viewport:i,afterCritical:c});if(!m)return null;const h=V0({impact:m,draggable:s,droppable:n,draggables:r,afterCritical:c});if(_8({draggable:s,destination:n,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:X2({pageBorderBoxCenter:h,draggable:s,viewport:i}),impact:m,scrollJumpRequest:null};const g=xa(h,l),y=ope({impact:m,viewport:i,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:o,impact:y,scrollJumpRequest:g}};const _r=t=>{const s=t.subject.active;return s||gt(),s};var upe=({isMovingForward:t,pageBorderBoxCenter:s,source:n,droppables:r,viewport:a})=>{const i=n.subject.active;if(!i)return null;const l=n.axis,o=$a(i[l.start],i[l.end]),c=z0(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>y8(a.frame)(_r(d))).filter(d=>{const m=_r(d);return t?i[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<i[l.crossAxisStart]}).filter(d=>{const m=_r(d),h=$a(m[l.start],m[l.end]);return o(m[l.start])||o(m[l.end])||h(i[l.start])||h(i[l.end])}).sort((d,m)=>{const h=_r(d)[l.crossAxisStart],p=_r(m)[l.crossAxisStart];return t?h-p:p-h}).filter((d,m,h)=>_r(d)[l.crossAxisStart]===_r(h[0])[l.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>$a(_r(d)[l.start],_r(d)[l.end])(s[l.line]));return u.length===1?u[0]:u.length>1?u.sort((d,m)=>_r(d)[l.start]-_r(m)[l.start])[0]:c.sort((d,m)=>{const h=wM(s,NM(_r(d))),p=wM(s,NM(_r(m)));return h!==p?h-p:_r(d)[l.start]-_r(m)[l.start]})[0]};const EM=(t,s)=>{const n=t.page.borderBox.center;return Do(t.descriptor.id,s)?xa(n,s.displacedBy.point):n},hpe=(t,s)=>{const n=t.page.borderBox;return Do(t.descriptor.id,s)?Df(n,Gu(s.displacedBy.point)):n};var mpe=({pageBorderBoxCenter:t,viewport:s,destination:n,insideDestination:r,afterCritical:a})=>r.filter(l=>j8({target:hpe(l,a),destination:n,viewport:s.frame,withDroppableDisplacement:!0})).sort((l,o)=>{const c=qm(t,v_(n,EM(l,a))),u=qm(t,v_(n,EM(o,a)));return c<u?-1:u<c?1:l.descriptor.index-o.descriptor.index})[0]||null,Of=Yn(function(s,n){const r=n[s.line];return{value:r,point:Lc(s.line,r)}});const fpe=(t,s,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Lc(r.line,s[r.line]);const a=t.subject.page.contentBox[r.size],c=Ku(t.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+s[r.line]-a;return c<=0?null:Lc(r.line,c)},S8=(t,s)=>({...t,scroll:{...t.scroll,max:s}}),C8=(t,s,n)=>{const r=t.frame;Yu(s,t)&&gt(),t.subject.withPlaceholder&&gt();const a=Of(t.axis,s.displaceBy).point,i=fpe(t,a,n),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=ju({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:d}}const o=i?nr(r.scroll.max,i):r.scroll.max,c=S8(r,o),u=ju({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:c});return{...t,subject:u,frame:c}},ppe=t=>{const s=t.subject.withPlaceholder;s||gt();const n=t.frame;if(!n){const l=ju({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const r=s.oldFrameMaxScroll;r||gt();const a=S8(n,r),i=ju({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:i,frame:a}};var xpe=({previousPageBorderBoxCenter:t,moveRelativeTo:s,insideDestination:n,draggable:r,draggables:a,destination:i,viewport:l,afterCritical:o})=>{if(!s){if(n.length)return null;const m={displaced:zm,displacedBy:v8,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},h=V0({impact:m,draggable:r,droppable:i,draggables:a,afterCritical:o}),p=Yu(r,i)?i:C8(i,r,a);return _8({draggable:r,destination:p,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const c=t[i.axis.line]<=s.page.borderBox.center[i.axis.line],u=(()=>{const m=s.descriptor.index;return s.descriptor.id===r.descriptor.id||c?m:m+1})(),d=Of(i.axis,r.displaceBy);return Sg({draggable:r,insideDestination:n,destination:i,viewport:l,displacedBy:d,last:zm,index:u})},gpe=({isMovingForward:t,previousPageBorderBoxCenter:s,draggable:n,isOver:r,draggables:a,droppables:i,viewport:l,afterCritical:o})=>{const c=upe({isMovingForward:t,pageBorderBoxCenter:s,source:r,droppables:i,viewport:l});if(!c)return null;const u=Ku(c.descriptor.id,a),d=mpe({pageBorderBoxCenter:s,viewport:l,destination:c,insideDestination:u,afterCritical:o}),m=xpe({previousPageBorderBoxCenter:s,destination:c,draggable:n,draggables:a,moveRelativeTo:d,insideDestination:u,viewport:l,afterCritical:o});if(!m)return null;const h=V0({impact:m,draggable:n,droppable:c,draggables:a,afterCritical:o});return{clientSelection:X2({pageBorderBoxCenter:h,draggable:n,viewport:l}),impact:m,scrollJumpRequest:null}},ja=t=>{const s=t.at;return s?s.type==="REORDER"?s.destination.droppableId:s.combine.droppableId:null};const vpe=(t,s)=>{const n=ja(t);return n?s[n]:null};var ype=({state:t,type:s})=>{const n=vpe(t.impact,t.dimensions.droppables),r=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,l=i.axis.direction,o=l==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||l==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(o&&!r)return null;const c=s==="MOVE_DOWN"||s==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:m,droppables:h}=t.dimensions;return o?dpe({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):gpe({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:i,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function oc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function k8(t){const s=$a(t.top,t.bottom),n=$a(t.left,t.right);return function(a){return s(a.y)&&n(a.x)}}function bpe(t,s){return t.left<s.right&&t.right>s.left&&t.top<s.bottom&&t.bottom>s.top}function jpe({pageBorderBox:t,draggable:s,candidates:n}){const r=s.page.borderBox.center,a=n.map(i=>{const l=i.axis,o=Lc(i.axis.line,t.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:qm(r,o)}}).sort((i,l)=>l.distance-i.distance);return a[0]?a[0].id:null}function wpe({pageBorderBox:t,draggable:s,droppables:n}){const r=z0(n).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!bpe(t,i))return!1;if(k8(i)(t.center))return!0;const l=a.axis,o=i.center[l.crossAxisLine],c=t[l.crossAxisStart],u=t[l.crossAxisEnd],d=$a(i[l.crossAxisStart],i[l.crossAxisEnd]),m=d(c),h=d(u);return!m&&!h?!0:m?c<o:u>o});return r.length?r.length===1?r[0].descriptor.id:jpe({pageBorderBox:t,draggable:s,candidates:r}):null}const E8=(t,s)=>ii(Df(t,s));var Npe=(t,s)=>{const n=t.frame;return n?E8(s,n.scroll.diff.value):s};function P8({displaced:t,id:s}){return!!(t.visible[s]||t.invisible[s])}function _pe({draggable:t,closest:s,inHomeList:n}){return s?n&&s.descriptor.index>t.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var Spe=({pageBorderBoxWithDroppableScroll:t,draggable:s,destination:n,insideDestination:r,last:a,viewport:i,afterCritical:l})=>{const o=n.axis,c=Of(n.axis,s.displaceBy),u=c.value,d=t[o.start],m=t[o.end],p=U0(s,r).find(y=>{const v=y.descriptor.id,j=y.page.borderBox.center[o.line],w=Do(v,l),N=P8({displaced:a,id:v});return w?N?m<=j:d<j-u:N?m<=j+u:d<j})||null,g=_pe({draggable:s,closest:p,inHomeList:Yu(s,n)});return Sg({draggable:s,insideDestination:r,destination:n,viewport:i,last:a,displacedBy:c,index:g})};const Cpe=4;var kpe=({draggable:t,pageBorderBoxWithDroppableScroll:s,previousImpact:n,destination:r,insideDestination:a,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const l=r.axis,o=Of(r.axis,t.displaceBy),c=o.value,u=s[l.start],d=s[l.end],h=U0(t,a).find(g=>{const y=g.descriptor.id,v=g.page.borderBox,w=v[l.size]/Cpe,N=Do(y,i),_=P8({displaced:n.displaced,id:y});return N?_?d>v[l.start]+w&&d<v[l.end]-w:u>v[l.start]-c+w&&u<v[l.end]-c-w:_?d>v[l.start]+c+w&&d<v[l.end]+c-w:u>v[l.start]+w&&u<v[l.end]-w});return h?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}}:null},T8=({pageOffset:t,draggable:s,draggables:n,droppables:r,previousImpact:a,viewport:i,afterCritical:l})=>{const o=E8(s.page.borderBox,t),c=wpe({pageBorderBox:o,draggable:s,droppables:r});if(!c)return zfe;const u=r[c],d=Ku(u.descriptor.id,n),m=Npe(u,o);return kpe({pageBorderBoxWithDroppableScroll:m,draggable:s,previousImpact:a,destination:u,insideDestination:d,afterCritical:l})||Spe({pageBorderBoxWithDroppableScroll:m,draggable:s,destination:u,insideDestination:d,last:a.displaced,viewport:i,afterCritical:l})},Z2=(t,s)=>({...t,[s.descriptor.id]:s});const Epe=({previousImpact:t,impact:s,droppables:n})=>{const r=ja(t),a=ja(s);if(!r||r===a)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const l=ppe(i);return Z2(n,l)};var Ppe=({draggable:t,draggables:s,droppables:n,previousImpact:r,impact:a})=>{const i=Epe({previousImpact:r,impact:a,droppables:n}),l=ja(a);if(!l)return i;const o=n[l];if(Yu(t,o)||o.subject.withPlaceholder)return i;const c=C8(o,t,s);return Z2(i,c)},fm=({state:t,clientSelection:s,dimensions:n,viewport:r,impact:a,scrollJumpRequest:i})=>{const l=r||t.viewport,o=n||t.dimensions,c=s||t.current.client.selection,u=xa(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:nr(t.initial.client.borderBoxCenter,u)},m={selection:nr(d.selection,l.scroll.current),borderBoxCenter:nr(d.borderBoxCenter,l.scroll.current),offset:nr(d.offset,l.scroll.diff.value)},h={client:d,page:m};if(t.phase==="COLLECTING")return{...t,dimensions:o,viewport:l,current:h};const p=o.draggables[t.critical.draggable.id],g=a||T8({pageOffset:m.offset,draggable:p,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=Ppe({draggable:p,impact:g,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return{...t,current:h,dimensions:{draggables:o.draggables,droppables:y},impact:g,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function Tpe(t,s){return t.map(n=>s[n])}var A8=({impact:t,viewport:s,draggables:n,destination:r,forceShouldAnimate:a})=>{const i=t.displaced,l=Tpe(i.all,n),o=$m({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:a,last:i});return{...t,displaced:o}},M8=({impact:t,draggable:s,droppable:n,draggables:r,viewport:a,afterCritical:i})=>{const l=V0({impact:t,draggable:s,draggables:r,droppable:n,afterCritical:i});return X2({pageBorderBoxCenter:l,draggable:s,viewport:a})},D8=({state:t,dimensions:s,viewport:n})=>{t.movementMode!=="SNAP"&&gt();const r=t.impact,a=n||t.viewport,i=s||t.dimensions,{draggables:l,droppables:o}=i,c=l[t.critical.draggable.id],u=ja(r);u||gt();const d=o[u],m=A8({impact:r,viewport:a,destination:d,draggables:l}),h=M8({impact:m,draggable:c,droppable:d,draggables:l,viewport:a,afterCritical:t.afterCritical});return fm({impact:m,clientSelection:h,state:t,dimensions:i,viewport:a})},Ape=t=>({index:t.index,droppableId:t.droppableId}),O8=({draggable:t,home:s,draggables:n,viewport:r})=>{const a=Of(s.axis,t.displaceBy),i=Ku(s.descriptor.id,n),l=i.indexOf(t);l===-1&&gt();const o=i.slice(l+1),c=o.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),u={inVirtualList:s.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:$m({afterDragging:o,destination:s,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:Ape(t.descriptor)}},afterCritical:u}},Mpe=(t,s)=>({draggables:t.draggables,droppables:Z2(t.droppables,s)}),Dpe=({draggable:t,offset:s,initialWindowScroll:n})=>{const r=bg(t.client,s),a=jg(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:a}},Ope=t=>{const s=t.frame;return s||gt(),s},Rpe=({additions:t,updatedDroppables:s,viewport:n})=>{const r=n.scroll.diff.value;return t.map(a=>{const i=a.descriptor.droppableId,l=s[i],c=Ope(l).scroll.diff.value,u=nr(r,c);return Dpe({draggable:a,offset:u,initialWindowScroll:n.scroll.initial})})},Fpe=({state:t,published:s})=>{const n=s.modified.map(j=>{const w=t.dimensions.droppables[j.droppableId];return G2(w,j.scroll)}),r={...t.dimensions.droppables,...x8(n)},a=g8(Rpe({additions:s.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...a};s.removals.forEach(j=>{delete i[j]});const l={droppables:r,draggables:i},o=ja(t.impact),c=o?l.droppables[o]:null,u=l.draggables[t.critical.draggable.id],d=l.droppables[t.critical.droppable.id],{impact:m,afterCritical:h}=O8({draggable:u,home:d,draggables:i,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:m,g=T8({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:p,viewport:t.viewport,afterCritical:h}),y={...t,phase:"DRAGGING",impact:g,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const y_=t=>t.movementMode==="SNAP",ww=(t,s,n)=>{const r=Mpe(t.dimensions,s);return!y_(t)||n?fm({state:t,dimensions:r}):D8({state:t,dimensions:r})};function Nw(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const PM={phase:"IDLE",completed:null,shouldFlush:!1};var Lpe=(t=PM,s)=>{if(s.type==="FLUSH")return{...PM,shouldFlush:!0};if(s.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&gt();const{critical:n,clientSelection:r,viewport:a,dimensions:i,movementMode:l}=s.payload,o=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],u={selection:r,borderBoxCenter:o.client.borderBox.center,offset:Jn},d={client:u,page:{selection:nr(u.selection,a.scroll.initial),borderBoxCenter:nr(u.selection,a.scroll.initial),offset:nr(u.selection,a.scroll.diff.value)}},m=z0(i.droppables).every(y=>!y.isFixedOnPage),{impact:h,afterCritical:p}=O8({draggable:o,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:i,initial:d,current:d,isWindowScrollAllowed:m,impact:h,afterCritical:p,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(s.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&gt(),{...t,phase:"COLLECTING"});if(s.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||gt(),Fpe({state:t,published:s.payload});if(s.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;oc(t)||gt();const{client:n}=s.payload;return Co(n,t.current.client.selection)?t:fm({state:t,clientSelection:n,impact:y_(t)?t.impact:null})}if(s.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Nw(t);oc(t)||gt();const{id:n,newScroll:r}=s.payload,a=t.dimensions.droppables[n];if(!a)return t;const i=G2(a,r);return ww(t,i,!1)}if(s.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;oc(t)||gt();const{id:n,isEnabled:r}=s.payload,a=t.dimensions.droppables[n];a||gt(),a.isEnabled===r&&gt();const i={...a,isEnabled:r};return ww(t,i,!0)}if(s.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;oc(t)||gt();const{id:n,isCombineEnabled:r}=s.payload,a=t.dimensions.droppables[n];a||gt(),a.isCombineEnabled===r&&gt();const i={...a,isCombineEnabled:r};return ww(t,i,!0)}if(s.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;oc(t)||gt(),t.isWindowScrollAllowed||gt();const n=s.payload.newScroll;if(Co(t.viewport.scroll.current,n))return Nw(t);const r=N8(t.viewport,n);return y_(t)?D8({state:t,viewport:r}):fm({state:t,viewport:r})}if(s.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!oc(t))return t;const n=s.payload.maxScroll;if(Co(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(s.type==="MOVE_UP"||s.type==="MOVE_DOWN"||s.type==="MOVE_LEFT"||s.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&gt();const n=ype({state:t,type:s.type});return n?fm({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(s.type==="DROP_PENDING"){const n=s.payload.reason;return t.phase!=="COLLECTING"&&gt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(s.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:a}=s.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||gt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:t.dimensions}}if(s.type==="DROP_COMPLETE"){const{completed:n}=s.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Vs(t,s){return t instanceof Object&&"type"in t&&t.type===s}const Ipe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),Bpe=t=>({type:"LIFT",payload:t}),qpe=t=>({type:"INITIAL_PUBLISH",payload:t}),zpe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),$pe=()=>({type:"COLLECTION_STARTING",payload:null}),Upe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Vpe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Wpe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),R8=t=>({type:"MOVE",payload:t}),Hpe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Gpe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Kpe=()=>({type:"MOVE_UP",payload:null}),Ype=()=>({type:"MOVE_DOWN",payload:null}),Qpe=()=>({type:"MOVE_RIGHT",payload:null}),Jpe=()=>({type:"MOVE_LEFT",payload:null}),eS=()=>({type:"FLUSH",payload:null}),Xpe=t=>({type:"DROP_ANIMATE",payload:t}),tS=t=>({type:"DROP_COMPLETE",payload:t}),F8=t=>({type:"DROP",payload:t}),Zpe=t=>({type:"DROP_PENDING",payload:t}),L8=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var exe=t=>({getState:s,dispatch:n})=>r=>a=>{if(!Vs(a,"LIFT")){r(a);return}const{id:i,clientSelection:l,movementMode:o}=a.payload,c=s();c.phase==="DROP_ANIMATING"&&n(tS({completed:c.completed})),s().phase!=="IDLE"&&gt(),n(eS()),n(Ipe({draggableId:i,movementMode:o}));const d={draggableId:i,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:m,dimensions:h,viewport:p}=t.startPublishing(d);n(qpe({critical:m,dimensions:h,clientSelection:l,movementMode:o,viewport:p}))},txe=t=>()=>s=>n=>{Vs(n,"INITIAL_PUBLISH")&&t.dragging(),Vs(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Vs(n,"FLUSH")||Vs(n,"DROP_COMPLETE"))&&t.resting(),s(n)};const sS={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Um={opacity:{drop:0,combining:.7},scale:{drop:.75}},I8={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},rc=`${I8.outOfTheWay}s ${sS.outOfTheWay}`,pm={fluid:`opacity ${rc}`,snap:`transform ${rc}, opacity ${rc}`,drop:t=>{const s=`${t}s ${sS.drop}`;return`transform ${s}, opacity ${s}`},outOfTheWay:`transform ${rc}`,placeholder:`height ${rc}, width ${rc}, margin ${rc}`},TM=t=>Co(t,Jn)?void 0:`translate(${t.x}px, ${t.y}px)`,b_={moveTo:TM,drop:(t,s)=>{const n=TM(t);if(n)return s?`${n} scale(${Um.scale.drop})`:n}},{minDropTime:j_,maxDropTime:B8}=I8,sxe=B8-j_,AM=1500,nxe=.6;var rxe=({current:t,destination:s,reason:n})=>{const r=qm(t,s);if(r<=0)return j_;if(r>=AM)return B8;const a=r/AM,i=j_+sxe*a,l=n==="CANCEL"?i*nxe:i;return Number(l.toFixed(2))},axe=({impact:t,draggable:s,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:i,droppables:l}=n,o=ja(t),c=o?l[o]:null,u=l[s.descriptor.droppableId],d=M8({impact:t,draggable:s,draggables:i,afterCritical:a,droppable:c||u,viewport:r});return xa(d,s.client.borderBox.center)},ixe=({draggables:t,reason:s,lastImpact:n,home:r,viewport:a,onLiftImpact:i})=>!n.at||s!=="DROP"?{impact:A8({draggables:t,impact:i,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:zm},didDropInsideDroppable:!0};const lxe=({getState:t,dispatch:s})=>n=>r=>{if(!Vs(r,"DROP")){n(r);return}const a=t(),i=r.payload.reason;if(a.phase==="COLLECTING"){s(Zpe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&gt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||gt();const o=a.critical,c=a.dimensions,u=c.draggables[a.critical.draggable.id],{impact:d,didDropInsideDroppable:m}=ixe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=m?K2(d):null,p=m?$0(d):null,g={index:o.draggable.index,droppableId:o.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:g,reason:i,mode:a.movementMode,destination:h,combine:p},v=axe({impact:d,draggable:u,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:y,impact:d};if(!(!Co(a.current.client.offset,v)||!!y.combine)){s(tS({completed:j}));return}const N=rxe({current:a.current.client.offset,destination:v,reason:i});s(Xpe({newHomeClientOffset:v,dropDuration:N,completed:j}))};var q8=()=>({x:window.pageXOffset,y:window.pageYOffset});function oxe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:s=>{s.target!==window&&s.target!==window.document||t()}}}function cxe({onWindowScroll:t}){function s(){t(q8())}const n=Bm(s),r=oxe(n);let a=So;function i(){return a!==So}function l(){i()&&gt(),a=Ba(window,[r])}function o(){i()||gt(),n.cancel(),a(),a=So}return{start:l,stop:o,isActive:i}}const dxe=t=>Vs(t,"DROP_COMPLETE")||Vs(t,"DROP_ANIMATE")||Vs(t,"FLUSH"),uxe=t=>{const s=cxe({onWindowScroll:n=>{t.dispatch(Hpe({newScroll:n}))}});return n=>r=>{!s.isActive()&&Vs(r,"INITIAL_PUBLISH")&&s.start(),s.isActive()&&dxe(r)&&s.stop(),n(r)}};var hxe=t=>{let s=!1,n=!1;const r=setTimeout(()=>{n=!0}),a=i=>{s||n||(s=!0,t(i),clearTimeout(r))};return a.wasCalled=()=>s,a},mxe=()=>{const t=[],s=a=>{const i=t.findIndex(o=>o.timerId===a);i===-1&&gt();const[l]=t.splice(i,1);l.callback()};return{add:a=>{const i=setTimeout(()=>s(i)),l={timerId:i,callback:a};t.push(l)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const fxe=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.droppableId===s.droppableId&&t.index===s.index,pxe=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.draggableId===s.draggableId&&t.droppableId===s.droppableId,xxe=(t,s)=>{if(t===s)return!0;const n=t.draggable.id===s.draggable.id&&t.draggable.droppableId===s.draggable.droppableId&&t.draggable.type===s.draggable.type&&t.draggable.index===s.draggable.index,r=t.droppable.id===s.droppable.id&&t.droppable.type===s.droppable.type;return n&&r},Uh=(t,s)=>{s()},fx=(t,s)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:s});function _w(t,s,n,r){if(!t){n(r(s));return}const a=hxe(n);t(s,{announce:a}),a.wasCalled()||n(r(s))}var gxe=(t,s)=>{const n=mxe();let r=null;const a=(m,h)=>{r&&gt(),Uh("onBeforeCapture",()=>{const p=t().onBeforeCapture;p&&p({draggableId:m,mode:h})})},i=(m,h)=>{r&&gt(),Uh("onBeforeDragStart",()=>{const p=t().onBeforeDragStart;p&&p(fx(m,h))})},l=(m,h)=>{r&&gt();const p=fx(m,h);r={mode:h,lastCritical:m,lastLocation:p.source,lastCombine:null},n.add(()=>{Uh("onDragStart",()=>_w(t().onDragStart,p,s,Ux.onDragStart))})},o=(m,h)=>{const p=K2(h),g=$0(h);r||gt();const y=!xxe(m,r.lastCritical);y&&(r.lastCritical=m);const v=!fxe(r.lastLocation,p);v&&(r.lastLocation=p);const j=!pxe(r.lastCombine,g);if(j&&(r.lastCombine=g),!y&&!v&&!j)return;const w={...fx(m,r.mode),combine:g,destination:p};n.add(()=>{Uh("onDragUpdate",()=>_w(t().onDragUpdate,w,s,Ux.onDragUpdate))})},c=()=>{r||gt(),n.flush()},u=m=>{r||gt(),r=null,Uh("onDragEnd",()=>_w(t().onDragEnd,m,s,Ux.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:l,update:o,flush:c,drop:u,abort:()=>{if(!r)return;const m={...fx(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(m)}}},vxe=(t,s)=>{const n=gxe(t,s);return r=>a=>i=>{if(Vs(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Vs(i,"INITIAL_PUBLISH")){const o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(Vs(i,"DROP_COMPLETE")){const o=i.payload.completed.result;n.flush(),a(i),n.drop(o);return}if(a(i),Vs(i,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const yxe=t=>s=>n=>{if(!Vs(n,"DROP_ANIMATION_FINISHED")){s(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&gt(),t.dispatch(tS({completed:r.completed}))},bxe=t=>{let s=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),s&&(s(),s=null)}return a=>i=>{if((Vs(i,"FLUSH")||Vs(i,"DROP_COMPLETE")||Vs(i,"DROP_ANIMATION_FINISHED"))&&r(),a(i),!Vs(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(L8())}};n=requestAnimationFrame(()=>{n=null,s=Ba(window,[l])})}};var jxe=t=>()=>s=>n=>{(Vs(n,"DROP_COMPLETE")||Vs(n,"FLUSH")||Vs(n,"DROP_ANIMATE"))&&t.stopPublishing(),s(n)},wxe=t=>{let s=!1;return()=>n=>r=>{if(Vs(r,"INITIAL_PUBLISH")){s=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!s){if(Vs(r,"FLUSH")){s=!1,t.tryRestoreFocusRecorded();return}if(Vs(r,"DROP_COMPLETE")){s=!1;const a=r.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const Nxe=t=>Vs(t,"DROP_COMPLETE")||Vs(t,"DROP_ANIMATE")||Vs(t,"FLUSH");var _xe=t=>s=>n=>r=>{if(Nxe(r)){t.stop(),n(r);return}if(Vs(r,"INITIAL_PUBLISH")){n(r);const a=s.getState();a.phase!=="DRAGGING"&&gt(),t.start(a);return}n(r),t.scroll(s.getState())};const Sxe=t=>s=>n=>{if(s(n),!Vs(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(F8({reason:r.reason})))},Cxe=s8;var kxe=({dimensionMarshal:t,focusMarshal:s,styleMarshal:n,getResponders:r,announce:a,autoScroller:i})=>t8(Lpe,Cxe(Cme(txe(n),jxe(t),exe(t),lxe,yxe,bxe,Sxe,_xe(i),uxe,wxe(s),vxe(r,a))));const Sw=()=>({additions:{},removals:{},modified:{}});function Exe({registry:t,callbacks:s}){let n=Sw(),r=null;const a=()=>{r||(s.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,m=Object.keys(c).map(g=>t.draggable.getById(g).getDimension(Jn)).sort((g,y)=>g.descriptor.index-y.descriptor.index),h=Object.keys(d).map(g=>{const v=t.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:v}}),p={additions:m,removals:Object.keys(u),modified:h};n=Sw(),s.publish(p)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],a()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Sw())}}}var z8=({scrollHeight:t,scrollWidth:s,height:n,width:r})=>{const a=xa({x:s,y:t},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},$8=()=>{const t=document.documentElement;return t||gt(),t},U8=()=>{const t=$8();return z8({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},Pxe=()=>{const t=q8(),s=U8(),n=t.y,r=t.x,a=$8(),i=a.clientWidth,l=a.clientHeight,o=r+i,c=n+l;return{frame:ii({top:n,left:r,right:o,bottom:c}),scroll:{initial:t,current:t,max:s,diff:{value:Jn,displacement:Jn}}}},Txe=({critical:t,scrollOptions:s,registry:n})=>{const r=Pxe(),a=r.scroll.current,i=t.droppable,l=n.droppable.getAllByType(i.type).map(d=>d.callbacks.getDimensionAndWatchScroll(a,s)),o=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(a));return{dimensions:{draggables:g8(o),droppables:x8(l)},critical:t,viewport:r}};function MM(t,s,n){return!(n.descriptor.id===s.id||n.descriptor.type!==s.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Axe=(t,s)=>{let n=null;const r=Exe({callbacks:{publish:s.publishWhileDragging,collectionStarting:s.collectionStarting},registry:t}),a=(h,p)=>{t.droppable.exists(h)||gt(),n&&s.updateDroppableIsEnabled({id:h,isEnabled:p})},i=(h,p)=>{n&&(t.droppable.exists(h)||gt(),s.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},l=(h,p)=>{n&&(t.droppable.exists(h)||gt(),s.updateDroppableScroll({id:h,newScroll:p}))},o=(h,p)=>{n&&t.droppable.getById(h).callbacks.scroll(p)},c=()=>{if(!n)return;r.stop();const h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},u=h=>{n||gt();const p=n.critical.draggable;h.type==="ADDITION"&&MM(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&MM(t,p,h.value)&&r.remove(h.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:l,startPublishing:h=>{n&&gt();const p=t.draggable.getById(h.draggableId),g=t.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:g.descriptor},v=t.subscribe(u);return n={critical:y,unsubscribe:v},Txe({critical:y,registry:t,scrollOptions:h.scrollOptions})},stopPublishing:c}},V8=(t,s)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===s?!1:t.completed.result.reason==="DROP",Mxe=t=>{window.scrollBy(t.x,t.y)};const Dxe=Yn(t=>z0(t).filter(s=>!(!s.isEnabled||!s.frame))),Oxe=(t,s)=>Dxe(s).find(r=>(r.frame||gt(),k8(r.frame.pageMarginBox)(t)))||null;var Rxe=({center:t,destination:s,droppables:n})=>{if(s){const a=n[s];return a.frame?a:null}return Oxe(t,n)};const Vm={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Fxe=(t,s,n=()=>Vm)=>{const r=n(),a=t[s.size]*r.startFromPercentage,i=t[s.size]*r.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},W8=({startOfRange:t,endOfRange:s,current:n})=>{const r=s-t;return r===0?0:(n-t)/r},nS=1,Lxe=(t,s,n=()=>Vm)=>{const r=n();if(t>s.startScrollingFrom)return 0;if(t<=s.maxScrollValueAt)return r.maxPixelScroll;if(t===s.startScrollingFrom)return nS;const i=1-W8({startOfRange:s.maxScrollValueAt,endOfRange:s.startScrollingFrom,current:t}),l=r.maxPixelScroll*r.ease(i);return Math.ceil(l)},Ixe=(t,s,n)=>{const r=n(),a=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,l=s,o=i,u=Date.now()-l;if(u>=i)return t;if(u<a)return nS;const d=W8({startOfRange:a,endOfRange:o,current:u}),m=t*r.ease(d);return Math.ceil(m)},DM=({distanceToEdge:t,thresholds:s,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const i=Lxe(t,s,a);return i===0?0:r?Math.max(Ixe(i,n,a),nS):i},OM=({container:t,distanceToEdges:s,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=Fxe(t,r,i);return s[r.end]<s[r.start]?DM({distanceToEdge:s[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*DM({distanceToEdge:s[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},Bxe=({container:t,subject:s,proposedScroll:n})=>{const r=s.height>t.height,a=s.width>t.width;return!a&&!r?n:a&&r?null:{x:a?0:n.x,y:r?0:n.y}};const qxe=p8(t=>t===0?0:t);var H8=({dragStartTime:t,container:s,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l={top:r.y-s.top,right:s.right-r.x,bottom:s.bottom-r.y,left:r.x-s.left},o=OM({container:s,distanceToEdges:l,dragStartTime:t,axis:Y2,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=OM({container:s,distanceToEdges:l,dragStartTime:t,axis:b8,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),u=qxe({x:c,y:o});if(Co(u,Jn))return null;const d=Bxe({container:s,subject:n,proposedScroll:u});return d?Co(d,Jn)?null:d:null};const zxe=p8(t=>t===0?0:t>0?1:-1),rS=(()=>{const t=(s,n)=>s<0?s:s>n?s-n:0;return({current:s,max:n,change:r})=>{const a=nr(s,r),i={x:t(a.x,n.x),y:t(a.y,n.y)};return Co(i,Jn)?null:i}})(),G8=({max:t,current:s,change:n})=>{const r={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},a=zxe(n),i=rS({max:r,current:s,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},aS=(t,s)=>G8({current:t.scroll.current,max:t.scroll.max,change:s}),$xe=(t,s)=>{if(!aS(t,s))return null;const n=t.scroll.max,r=t.scroll.current;return rS({current:r,max:n,change:s})},iS=(t,s)=>{const n=t.frame;return n?G8({current:n.scroll.current,max:n.scroll.max,change:s}):!1},Uxe=(t,s)=>{const n=t.frame;return!n||!iS(t,s)?null:rS({current:n.scroll.current,max:n.scroll.max,change:s})};var Vxe=({viewport:t,subject:s,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=H8({dragStartTime:r,container:t.frame,subject:s,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&aS(t,l)?l:null},Wxe=({droppable:t,subject:s,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=t.frame;if(!l)return null;const o=H8({dragStartTime:r,container:l.pageMarginBox,subject:s,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&iS(t,o)?o:null},RM=({state:t,dragStartTime:s,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:i})=>{const l=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const m=t.viewport,h=Vxe({dragStartTime:s,viewport:m,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(h){r(h);return}}const u=Rxe({center:l,destination:ja(t.impact),droppables:t.dimensions.droppables});if(!u)return;const d=Wxe({dragStartTime:s,droppable:u,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:i});d&&a(u.descriptor.id,d)},Hxe=({scrollWindow:t,scrollDroppable:s,getAutoScrollerOptions:n=()=>Vm})=>{const r=Bm(t),a=Bm(s);let i=null;const l=u=>{i||gt();const{shouldUseTimeDampening:d,dragStartTime:m}=i;RM({state:u,scrollWindow:r,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{i&&gt();const d=Date.now();let m=!1;const h=()=>{m=!0};RM({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:n}),i={dragStartTime:d,shouldUseTimeDampening:m},m&&l(u)},stop:()=>{i&&(r.cancel(),a.cancel(),i=null)},scroll:l}},Gxe=({move:t,scrollDroppable:s,scrollWindow:n})=>{const r=(o,c)=>{const u=nr(o.current.client.selection,c);t({client:u})},a=(o,c)=>{if(!iS(o,c))return c;const u=Uxe(o,c);if(!u)return s(o.descriptor.id,c),null;const d=xa(c,u);return s(o.descriptor.id,d),xa(c,d)},i=(o,c,u)=>{if(!o||!aS(c,u))return u;const d=$xe(c,u);if(!d)return n(u),null;const m=xa(u,d);return n(m),xa(u,m)};return o=>{const c=o.scrollJumpRequest;if(!c)return;const u=ja(o.impact);u||gt();const d=a(o.dimensions.droppables[u],c);if(!d)return;const m=o.viewport,h=i(o.isWindowScrollAllowed,m,d);h&&r(o,h)}},Kxe=({scrollDroppable:t,scrollWindow:s,move:n,getAutoScrollerOptions:r})=>{const a=Hxe({scrollWindow:s,scrollDroppable:t,getAutoScrollerOptions:r}),i=Gxe({move:n,scrollWindow:s,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const wu="data-rfd",Nu=(()=>{const t=`${wu}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),w_=(()=>{const t=`${wu}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Yxe=(()=>{const t=`${wu}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),FM={contextId:`${wu}-scroll-container-context-id`},Qxe=t=>s=>`[${s}="${t}"]`,Vh=(t,s)=>t.map(n=>{const r=n.styles[s];return r?`${n.selector} { ${r} }`:""}).join(" "),Jxe="pointer-events: none;";var Xxe=t=>{const s=Qxe(t),n=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:s(Nu.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Jxe,dropAnimating:o}}})(),r=(()=>{const o=`
      transition: ${pm.outOfTheWay};
    `;return{selector:s(w_.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),a={selector:s(Yxe.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Vh(l,"always"),resting:Vh(l,"resting"),dragging:Vh(l,"dragging"),dropAnimating:Vh(l,"dropAnimating"),userCancel:Vh(l,"userCancel")}};const wa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,Cw=()=>{const t=document.querySelector("head");return t||gt(),t},LM=t=>{const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.type="text/css",s};function Zxe(t,s){const n=Ms(()=>Xxe(t),[t]),r=b.useRef(null),a=b.useRef(null),i=Vt(Yn(m=>{const h=a.current;h||gt(),h.textContent=m}),[]),l=Vt(m=>{const h=r.current;h||gt(),h.textContent=m},[]);wa(()=>{!r.current&&!a.current||gt();const m=LM(s),h=LM(s);return r.current=m,a.current=h,m.setAttribute(`${wu}-always`,t),h.setAttribute(`${wu}-dynamic`,t),Cw().appendChild(m),Cw().appendChild(h),l(n.always),i(n.resting),()=>{const p=g=>{const y=g.current;y||gt(),Cw().removeChild(y),g.current=null};p(r),p(a)}},[s,l,i,n.always,n.resting,t]);const o=Vt(()=>i(n.dragging),[i,n.dragging]),c=Vt(m=>{if(m==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=Vt(()=>{a.current&&i(n.resting)},[i,n.resting]);return Ms(()=>({dragging:o,dropping:c,resting:u}),[o,c,u])}function K8(t,s){return Array.from(t.querySelectorAll(s))}var Y8=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function W0(t){return t instanceof Y8(t).HTMLElement}function ege(t,s){const n=`[${Nu.contextId}="${t}"]`,r=K8(document,n);if(!r.length)return null;const a=r.find(i=>i.getAttribute(Nu.draggableId)===s);return!a||!W0(a)?null:a}function tge(t){const s=b.useRef({}),n=b.useRef(null),r=b.useRef(null),a=b.useRef(!1),i=Vt(function(h,p){const g={id:h,focus:p};return s.current[h]=g,function(){const v=s.current;v[h]!==g&&delete v[h]}},[]),l=Vt(function(h){const p=ege(t,h);p&&p!==document.activeElement&&p.focus()},[t]),o=Vt(function(h,p){n.current===h&&(n.current=p)},[]),c=Vt(function(){r.current||a.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const h=n.current;h&&l(h)}))},[l]),u=Vt(function(h){n.current=null;const p=document.activeElement;p&&p.getAttribute(Nu.draggableId)===h&&(n.current=h)},[]);return wa(()=>(a.current=!0,function(){a.current=!1;const h=r.current;h&&cancelAnimationFrame(h)}),[]),Ms(()=>({register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:o}),[i,u,c,o])}function sge(){const t={draggables:{},droppables:{}},s=[];function n(m){return s.push(m),function(){const p=s.indexOf(m);p!==-1&&s.splice(p,1)}}function r(m){s.length&&s.forEach(h=>h(m))}function a(m){return t.draggables[m]||null}function i(m){const h=a(m);return h||gt(),h}const l={register:m=>{t.draggables[m.descriptor.id]=m,r({type:"ADDITION",value:m})},update:(m,h)=>{const p=t.draggables[h.descriptor.id];p&&p.uniqueId===m.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[m.descriptor.id]=m)},unregister:m=>{const h=m.descriptor.id,p=a(h);p&&m.uniqueId===p.uniqueId&&(delete t.draggables[h],t.droppables[m.descriptor.droppableId]&&r({type:"REMOVAL",value:m}))},getById:i,findById:a,exists:m=>!!a(m),getAllByType:m=>Object.values(t.draggables).filter(h=>h.descriptor.type===m)};function o(m){return t.droppables[m]||null}function c(m){const h=o(m);return h||gt(),h}const u={register:m=>{t.droppables[m.descriptor.id]=m},unregister:m=>{const h=o(m.descriptor.id);h&&m.uniqueId===h.uniqueId&&delete t.droppables[m.descriptor.id]},getById:c,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(t.droppables).filter(h=>h.descriptor.type===m)};function d(){t.draggables={},t.droppables={},s.length=0}return{draggable:l,droppable:u,subscribe:n,clean:d}}function nge(){const t=Ms(sge,[]);return b.useEffect(()=>function(){t.clean()},[t]),t}var lS=Ie.createContext(null),Cg=()=>{const t=document.body;return t||gt(),t};const rge={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},age=t=>`rfd-announcement-${t}`;function ige(t){const s=Ms(()=>age(t),[t]),n=b.useRef(null);return b.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=s,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),wg(i.style,rge),Cg().appendChild(i),function(){setTimeout(function(){const c=Cg();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[s]),Vt(a=>{const i=n.current;if(i){i.textContent=a;return}},[])}const lge={separator:"::"};function oS(t,s=lge){const n=Ie.useId();return Ms(()=>`${t}${s.separator}${n}`,[s.separator,t,n])}function oge({contextId:t,uniqueId:s}){return`rfd-hidden-text-${t}-${s}`}function cge({contextId:t,text:s}){const n=oS("hidden-text",{separator:"-"}),r=Ms(()=>oge({contextId:t,uniqueId:n}),[n,t]);return b.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=s,i.style.display="none",Cg().appendChild(i),function(){const o=Cg();o.contains(i)&&o.removeChild(i)}},[r,s]),r}var H0=Ie.createContext(null);function Q8(t){const s=b.useRef(t);return b.useEffect(()=>{s.current=t}),s}function dge(){let t=null;function s(){return!!t}function n(l){return l===t}function r(l){t&&gt();const o={abandon:l};return t=o,o}function a(){t||gt(),t=null}function i(){t&&(t.abandon(),a())}return{isClaimed:s,isActive:n,claim:r,release:a,tryAbandon:i}}function Wm(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const uge=9,hge=13,cS=27,J8=32,mge=33,fge=34,pge=35,xge=36,gge=37,vge=38,yge=39,bge=40,jge={[hge]:!0,[uge]:!0};var X8=t=>{jge[t.keyCode]&&t.preventDefault()};const G0=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),Z8=0,IM=5;function wge(t,s){return Math.abs(s.x-t.x)>=IM||Math.abs(s.y-t.y)>=IM}const BM={type:"IDLE"};function Nge({cancel:t,completed:s,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:l,clientY:o}=a;if(i!==Z8)return;const c={x:l,y:o},u=n();if(u.type==="DRAGGING"){a.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&gt();const d=u.point;if(!wge(d,c))return;a.preventDefault();const m=u.actions.fluidLift(c);r({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:a=>{const i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===cS){a.preventDefault(),t();return}X8(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=n();if(i.type==="IDLE"&&gt(),i.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:G0,fn:t}]}function _ge(t){const s=b.useRef(BM),n=b.useRef(So),r=Ms(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==Z8||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const h=t.findClosestDraggableId(m);if(!h)return;const p=t.tryGetLock(h,l,{sourceEvent:m});if(!p)return;m.preventDefault();const g={x:m.clientX,y:m.clientY};n.current(),u(p,g)}}),[t]),a=Ms(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const m=t.findClosestDraggableId(d);if(!m)return;const h=t.findOptionsForDraggable(m);h&&(h.shouldRespectForcePress||t.canGetLock(m)&&d.preventDefault())}}),[t]),i=Vt(function(){const m={passive:!1,capture:!0};n.current=Ba(window,[a,r],m)},[a,r]),l=Vt(()=>{s.current.type!=="IDLE"&&(s.current=BM,n.current(),i())},[i]),o=Vt(()=>{const d=s.current;l(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[l]),c=Vt(function(){const m={capture:!0,passive:!1},h=Nge({cancel:o,completed:l,getPhase:()=>s.current,setPhase:p=>{s.current=p}});n.current=Ba(window,h,m)},[o,l]),u=Vt(function(m,h){s.current.type!=="IDLE"&&gt(),s.current={type:"PENDING",point:h,actions:m},c()},[c]);wa(function(){return i(),function(){n.current()}},[i])}function Sge(){}const Cge={[fge]:!0,[mge]:!0,[xge]:!0,[pge]:!0};function kge(t,s){function n(){s(),t.cancel()}function r(){s(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===cS){a.preventDefault(),n();return}if(a.keyCode===J8){a.preventDefault(),r();return}if(a.keyCode===bge){a.preventDefault(),t.moveDown();return}if(a.keyCode===vge){a.preventDefault(),t.moveUp();return}if(a.keyCode===yge){a.preventDefault(),t.moveRight();return}if(a.keyCode===gge){a.preventDefault(),t.moveLeft();return}if(Cge[a.keyCode]){a.preventDefault();return}X8(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:G0,fn:n}]}function Ege(t){const s=b.useRef(Sge),n=Ms(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==J8)return;const l=t.findClosestDraggableId(i);if(!l)return;const o=t.tryGetLock(l,d,{sourceEvent:i});if(!o)return;i.preventDefault();let c=!0;const u=o.snapLift();s.current();function d(){c||gt(),c=!1,s.current(),r()}s.current=Ba(window,kge(u,d),{capture:!0,passive:!1})}}),[t]),r=Vt(function(){const i={passive:!1,capture:!0};s.current=Ba(window,[n],i)},[n]);wa(function(){return r(),function(){s.current()}},[r])}const kw={type:"IDLE"},Pge=120,Tge=.15;function Age({cancel:t,getPhase:s}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(s().type!=="DRAGGING"){t();return}n.keyCode===cS&&n.preventDefault(),t()}},{eventName:G0,fn:t}]}function Mge({cancel:t,completed:s,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:i,clientY:l}=r.touches[0],o={x:i,y:l};r.preventDefault(),a.actions.move(o)}},{eventName:"touchend",fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const a=n();a.type==="IDLE"&&gt();const i=r.touches[0];if(!i||!(i.force>=Tge))return;const o=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){o&&t();return}if(o){if(a.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:G0,fn:t}]}function Dge(t){const s=b.useRef(kw),n=b.useRef(So),r=Vt(function(){return s.current},[]),a=Vt(function(p){s.current=p},[]),i=Ms(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const g=t.findClosestDraggableId(p);if(!g)return;const y=t.tryGetLock(g,o,{sourceEvent:p});if(!y)return;const v=p.touches[0],{clientX:j,clientY:w}=v,N={x:j,y:w};n.current(),m(y,N)}}),[t]),l=Vt(function(){const p={capture:!0,passive:!1};n.current=Ba(window,[i],p)},[i]),o=Vt(()=>{const h=s.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(kw),n.current(),l())},[l,a]),c=Vt(()=>{const h=s.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=Vt(function(){const p={capture:!0,passive:!1},g={cancel:c,completed:o,getPhase:r},y=Ba(window,Mge(g),p),v=Ba(window,Age(g),p);n.current=function(){y(),v()}},[c,r,o]),d=Vt(function(){const p=r();p.type!=="PENDING"&&gt();const g=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:g,hasMoved:!1})},[r,a]),m=Vt(function(p,g){r().type!=="IDLE"&&gt();const y=setTimeout(d,Pge);a({type:"PENDING",point:g,actions:p,longPressTimerId:y}),u()},[u,r,a,d]);wa(function(){return l(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),a(kw))}},[r,l,a]),wa(function(){return Ba(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Oge=["input","button","textarea","select","option","optgroup","video","audio"];function e7(t,s){if(s==null)return!1;if(Oge.includes(s.tagName.toLowerCase()))return!0;const r=s.getAttribute("contenteditable");return r==="true"||r===""?!0:s===t?!1:e7(t,s.parentElement)}function Rge(t,s){const n=s.target;return W0(n)?e7(t,n):!1}var Fge=t=>ii(t.getBoundingClientRect()).center;function Lge(t){return t instanceof Y8(t).Element}const Ige=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function t7(t,s){return t==null?null:t[Ige](s)?t:t7(t.parentElement,s)}function Bge(t,s){return t.closest?t.closest(s):t7(t,s)}function qge(t){return`[${Nu.contextId}="${t}"]`}function zge(t,s){const n=s.target;if(!Lge(n))return null;const r=qge(t),a=Bge(n,r);return!a||!W0(a)?null:a}function $ge(t,s){const n=zge(t,s);return n?n.getAttribute(Nu.draggableId):null}function Uge(t,s){const n=`[${w_.contextId}="${t}"]`,a=K8(document,n).find(i=>i.getAttribute(w_.id)===s);return!a||!W0(a)?null:a}function Vge(t){t.preventDefault()}function px({expected:t,phase:s,isLockActive:n,shouldWarn:r}){return!(!n()||t!==s)}function s7({lockAPI:t,store:s,registry:n,draggableId:r}){if(t.isClaimed())return!1;const a=n.draggable.findById(r);return!(!a||!a.options.isEnabled||!V8(s.getState(),r))}function Wge({lockAPI:t,contextId:s,store:n,registry:r,draggableId:a,forceSensorStop:i,sourceEvent:l}){if(!s7({lockAPI:t,store:n,registry:r,draggableId:a}))return null;const c=r.draggable.getById(a),u=Uge(s,c.descriptor.id);if(!u||l&&!c.options.canDragInteractiveElements&&Rge(u,l))return null;const d=t.claim(i||So);let m="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function p(){return t.isActive(d)}function g(T,A){px({expected:T,phase:m,isLockActive:p,shouldWarn:!0})&&n.dispatch(A())}const y=g.bind(null,"DRAGGING");function v(T){function A(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(A(),gt()),n.dispatch(Bpe(T.liftActionArgs)),m="DRAGGING";function P(C,R={shouldBlockNextClick:!1}){if(T.cleanup(),R.shouldBlockNextClick){const M=Ba(window,[{eventName:"click",fn:Vge,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}A(),n.dispatch(F8({reason:C}))}return{isActive:()=>px({expected:"DRAGGING",phase:m,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:C=>P("DROP",C),cancel:C=>P("CANCEL",C),...T.actions}}function j(T){const A=Bm(C=>{y(()=>R8({client:C}))});return{...v({liftActionArgs:{id:a,clientSelection:T,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function w(){const T={moveUp:()=>y(Kpe),moveRight:()=>y(Qpe),moveDown:()=>y(Ype),moveLeft:()=>y(Jpe)};return v({liftActionArgs:{id:a,clientSelection:Fge(u),movementMode:"SNAP"},cleanup:So,actions:T})}function N(){px({expected:"PRE_DRAG",phase:m,isLockActive:p,shouldWarn:!0})&&t.release()}return{isActive:()=>px({expected:"PRE_DRAG",phase:m,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:j,snapLift:w,abort:N}}const Hge=[_ge,Ege,Dge];function Gge({contextId:t,store:s,registry:n,customSensors:r,enableDefaultSensors:a}){const i=[...a?Hge:[],...r||[]],l=b.useState(()=>dge())[0],o=Vt(function(v,j){Wm(v)&&!Wm(j)&&l.tryAbandon()},[l]);wa(function(){let v=s.getState();return s.subscribe(()=>{const w=s.getState();o(v,w),v=w})},[l,s,o]),wa(()=>l.tryAbandon,[l.tryAbandon]);const c=Vt(y=>s7({lockAPI:l,registry:n,store:s,draggableId:y}),[l,n,s]),u=Vt((y,v,j)=>Wge({lockAPI:l,registry:n,contextId:t,store:s,draggableId:y,forceSensorStop:v||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[t,l,n,s]),d=Vt(y=>$ge(t,y),[t]),m=Vt(y=>{const v=n.draggable.findById(y);return v?v.options:null},[n.draggable]),h=Vt(function(){l.isClaimed()&&(l.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(eS()))},[l,s]),p=Vt(()=>l.isClaimed(),[l]),g=Ms(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:m,tryReleaseLock:h,isLockClaimed:p}),[c,u,d,m,h,p]);for(let y=0;y<i.length;y++)i[y](g)}const Kge=t=>({onBeforeCapture:s=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(s)};qc.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),Yge=t=>({...Vm,...t.autoScrollerOptions,durationDampening:{...Vm.durationDampening,...t.autoScrollerOptions}});function Wh(t){return t.current||gt(),t.current}function Qge(t){const{contextId:s,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:i}=t,l=b.useRef(null),o=Q8(t),c=Vt(()=>Kge(o.current),[o]),u=Vt(()=>Yge(o.current),[o]),d=ige(s),m=cge({contextId:s,text:i}),h=Zxe(s,a),p=Vt(M=>{Wh(l).dispatch(M)},[]),g=Ms(()=>uM({publishWhileDragging:zpe,updateDroppableScroll:Upe,updateDroppableIsEnabled:Vpe,updateDroppableIsCombineEnabled:Wpe,collectionStarting:$pe},p),[p]),y=nge(),v=Ms(()=>Axe(y,g),[y,g]),j=Ms(()=>Kxe({scrollWindow:Mxe,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:u,...uM({move:R8},p)}),[v.scrollDroppable,p,u]),w=tge(s),N=Ms(()=>kxe({announce:d,autoScroller:j,dimensionMarshal:v,focusMarshal:w,getResponders:c,styleMarshal:h}),[d,j,v,w,c,h]);l.current=N;const _=Vt(()=>{const M=Wh(l);M.getState().phase!=="IDLE"&&M.dispatch(eS())},[]),T=Vt(()=>{const M=Wh(l).getState();return M.phase==="DROP_ANIMATING"?!0:M.phase==="IDLE"?!1:M.isDragging},[]),A=Ms(()=>({isDragging:T,tryAbort:_}),[T,_]);n(A);const P=Vt(M=>V8(Wh(l).getState(),M),[]),C=Vt(()=>oc(Wh(l).getState()),[]),R=Ms(()=>({marshal:v,focus:w,contextId:s,canLift:P,isMovementAllowed:C,dragHandleUsageInstructionsId:m,registry:y}),[s,v,m,w,P,C,y]);return Gge({contextId:s,store:N,registry:y,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),b.useEffect(()=>_,[_]),Ie.createElement(H0.Provider,{value:R},Ie.createElement(jfe,{context:lS,store:N},t.children))}function Jge(){return Ie.useId()}function Rf(t){const s=Jge(),n=t.dragHandleUsageInstructions||Ux.dragHandleUsageInstructions;return Ie.createElement(Efe,null,r=>Ie.createElement(Qge,{nonce:t.nonce,contextId:s,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const qM={dragging:5e3,dropAnimating:4500},Xge=(t,s)=>s?pm.drop(s.duration):t?pm.snap:pm.fluid,Zge=(t,s)=>{if(t)return s?Um.opacity.drop:Um.opacity.combining},e0e=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function t0e(t){const n=t.dimension.client,{offset:r,combineWith:a,dropping:i}=t,l=!!a,o=e0e(t),c=!!i,u=c?b_.drop(r,l):b_.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Xge(o,i),transform:u,opacity:Zge(l,c),zIndex:c?qM.dropAnimating:qM.dragging,pointerEvents:"none"}}function s0e(t){return{transform:b_.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function n0e(t){return t.type==="DRAGGING"?t0e(t):s0e(t)}function r0e(t,s,n=Jn){const r=window.getComputedStyle(s),a=s.getBoundingClientRect(),i=c8(a,r),l=jg(i,n),o={client:i,tagName:s.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:o,displaceBy:c,client:i,page:l}}function a0e(t){const s=oS("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}=t,c=Ms(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}),[i,o,l]),u=Vt(p=>{const g=a();return g||gt(),r0e(n,g,p)},[n,a]),d=Ms(()=>({uniqueId:s,descriptor:n,options:c,getDimension:u}),[n,u,c,s]),m=b.useRef(d),h=b.useRef(!0);wa(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),wa(()=>{if(h.current){h.current=!1;return}const p=m.current;m.current=d,r.draggable.update(d,p)},[d,r.draggable])}var dS=Ie.createContext(null);function kg(t){const s=b.useContext(t);return s||gt(),s}function i0e(t){t.preventDefault()}const l0e=t=>{const s=b.useRef(null),n=Vt((A=null)=>{s.current=A},[]),r=Vt(()=>s.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:l}=kg(H0),{type:o,droppableId:c}=kg(dS),u=Ms(()=>({id:t.draggableId,index:t.index,type:o,droppableId:c}),[t.draggableId,t.index,o,c]),{children:d,draggableId:m,isEnabled:h,shouldRespectForcePress:p,canDragInteractiveElements:g,isClone:y,mapped:v,dropAnimationFinished:j}=t;if(!y){const A=Ms(()=>({descriptor:u,registry:l,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:p,isEnabled:h}),[u,l,r,g,p,h]);a0e(A)}const w=Ms(()=>h?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:i0e}:null,[a,i,m,h]),N=Vt(A=>{v.type==="DRAGGING"&&v.dropping&&A.propertyName==="transform"&&qc.flushSync(j)},[j,v]),_=Ms(()=>{const A=n0e(v),P=v.type==="DRAGGING"&&v.dropping?N:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":m,style:A,onTransitionEnd:P},dragHandleProps:w}},[a,w,m,v,N,n]),T=Ms(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Ie.createElement(Ie.Fragment,null,d(_,v.snapshot,T))};var n7=(t,s)=>t===s,r7=t=>{const{combine:s,destination:n}=t;return n?n.droppableId:s?s.droppableId:null};const o0e=t=>t.combine?t.combine.draggableId:null,c0e=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function d0e(){const t=Yn((a,i)=>({x:a,y:i})),s=Yn((a,i,l=null,o=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:l,combineWith:o,combineTargetFor:null})),n=Yn((a,i,l,o,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:l,forceShouldAnimate:d,snapshot:s(i,o,c,u,null)}}));return(a,i)=>{if(Wm(a)){if(a.critical.draggable.id!==i.draggableId)return null;const l=a.current.client.offset,o=a.dimensions.draggables[i.draggableId],c=ja(a.impact),u=c0e(a.impact),d=a.forceShouldAnimate;return n(t(l.x,l.y),a.movementMode,o,i.isClone,c,u,d)}if(a.phase==="DROP_ANIMATING"){const l=a.completed;if(l.result.draggableId!==i.draggableId)return null;const o=i.isClone,c=a.dimensions.draggables[i.draggableId],u=l.result,d=u.mode,m=r7(u),h=o0e(u),g={duration:a.dropDuration,curve:sS.drop,moveTo:a.newHomeClientOffset,opacity:h?Um.opacity.drop:null,scale:h?Um.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:g,draggingOver:m,combineWith:h,mode:d,forceShouldAnimate:null,snapshot:s(d,o,m,h,g)}}}return null}}function a7(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const u0e={mapped:{type:"SECONDARY",offset:Jn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:a7(null)}};function h0e(){const t=Yn((l,o)=>({x:l,y:o})),s=Yn(a7),n=Yn((l,o=null,c)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:s(o)}})),r=l=>l?n(Jn,l,!0):null,a=(l,o,c,u)=>{const d=c.displaced.visible[l],m=!!(u.inVirtualList&&u.effected[l]),h=$0(c),p=h&&h.draggableId===l?o:null;if(!d){if(!m)return r(p);if(c.displaced.invisible[l])return null;const v=Gu(u.displacedBy.point),j=t(v.x,v.y);return n(j,p,!0)}if(m)return r(p);const g=c.displacedBy.point,y=t(g.x,g.y);return n(y,p,d.shouldAnimate)};return(l,o)=>{if(Wm(l))return l.critical.draggable.id===o.draggableId?null:a(o.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const c=l.completed;return c.result.draggableId===o.draggableId?null:a(o.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const m0e=()=>{const t=d0e(),s=h0e();return(r,a)=>t(r,a)||s(r,a)||u0e},f0e={dropAnimationFinished:L8},p0e=o8(m0e,f0e,null,{context:lS,areStatePropsEqual:n7})(l0e);function i7(t){return kg(dS).isUsingCloneFor===t.draggableId&&!t.isClone?null:Ie.createElement(p0e,t)}function _c(t){const s=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Ie.createElement(i7,wg({},t,{isClone:!1,isEnabled:s,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const l7=t=>s=>t===s,x0e=l7("scroll"),g0e=l7("auto"),zM=(t,s)=>s(t.overflowX)||s(t.overflowY),v0e=t=>{const s=window.getComputedStyle(t),n={overflowX:s.overflowX,overflowY:s.overflowY};return zM(n,x0e)||zM(n,g0e)},y0e=()=>!1,o7=t=>t==null?null:t===document.body?y0e()?t:null:t===document.documentElement?null:v0e(t)?t:o7(t.parentElement);var N_=t=>({x:t.scrollLeft,y:t.scrollTop});const c7=t=>t?window.getComputedStyle(t).position==="fixed"?!0:c7(t.parentElement):!1;var b0e=t=>{const s=o7(t),n=c7(t);return{closestScrollable:s,isFixedOnPage:n}},j0e=({descriptor:t,isEnabled:s,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:i,page:l,closest:o})=>{const c=(()=>{if(!o)return null;const{scrollSize:h,client:p}=o,g=z8({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:g,diff:{value:Jn,displacement:Jn}}}})(),u=a==="vertical"?Y2:b8,d=ju({page:l,withPlaceholder:null,axis:u,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:s,client:i,page:l,frame:c,subject:d}};const w0e=(t,s)=>{const n=d8(t);if(!s||t!==s)return n;const r=n.paddingBox.top-s.scrollTop,a=n.paddingBox.left-s.scrollLeft,i=r+s.scrollHeight,l=a+s.scrollWidth,c=W2({top:r,right:l,bottom:i,left:a},n.border);return H2({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var N0e=({ref:t,descriptor:s,env:n,windowScroll:r,direction:a,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:o})=>{const c=n.closestScrollable,u=w0e(t,c),d=jg(u,r),m=(()=>{if(!c)return null;const p=d8(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:jg(p,r),scroll:N_(c),scrollSize:g,shouldClipSubject:o}})();return j0e({descriptor:s,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:u,page:d,closest:m})};const _0e={passive:!1},S0e={passive:!0};var $M=t=>t.shouldPublishImmediately?_0e:S0e;const xx=t=>t&&t.env.closestScrollable||null;function C0e(t){const s=b.useRef(null),n=kg(H0),r=oS("droppable"),{registry:a,marshal:i}=n,l=Q8(t),o=Ms(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=b.useRef(o),u=Ms(()=>Yn((_,T)=>{s.current||gt();const A={x:_,y:T};i.updateDroppableScroll(o.id,A)}),[o.id,i]),d=Vt(()=>{const _=s.current;return!_||!_.env.closestScrollable?Jn:N_(_.env.closestScrollable)},[]),m=Vt(()=>{const _=d();u(_.x,_.y)},[d,u]),h=Ms(()=>Bm(m),[m]),p=Vt(()=>{const _=s.current,T=xx(_);if(_&&T||gt(),_.scrollOptions.shouldPublishImmediately){m();return}h()},[h,m]),g=Vt((_,T)=>{s.current&&gt();const A=l.current,P=A.getDroppableRef();P||gt();const C=b0e(P),R={ref:P,descriptor:o,env:C,scrollOptions:T};s.current=R;const M=N0e({ref:P,descriptor:o,env:C,windowScroll:_,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),k=C.closestScrollable;return k&&(k.setAttribute(FM.contextId,n.contextId),k.addEventListener("scroll",p,$M(R.scrollOptions))),M},[n.contextId,o,p,l]),y=Vt(()=>{const _=s.current,T=xx(_);return _&&T||gt(),N_(T)},[]),v=Vt(()=>{const _=s.current;_||gt();const T=xx(_);s.current=null,T&&(h.cancel(),T.removeAttribute(FM.contextId),T.removeEventListener("scroll",p,$M(_.scrollOptions)))},[p,h]),j=Vt(_=>{const T=s.current;T||gt();const A=xx(T);A||gt(),A.scrollTop+=_.y,A.scrollLeft+=_.x},[]),w=Ms(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:v,scroll:j}),[v,g,y,j]),N=Ms(()=>({uniqueId:r,descriptor:o,callbacks:w}),[w,o,r]);wa(()=>(c.current=N.descriptor,a.droppable.register(N),()=>{s.current&&v(),a.droppable.unregister(N)}),[w,o,v,N,i,a.droppable]),wa(()=>{s.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),wa(()=>{s.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function Ew(){}const UM={width:0,height:0,margin:Rfe},k0e=({isAnimatingOpenOnMount:t,placeholder:s,animate:n})=>t||n==="close"?UM:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin},E0e=({isAnimatingOpenOnMount:t,placeholder:s,animate:n})=>{const r=k0e({isAnimatingOpenOnMount:t,placeholder:s,animate:n});return{display:s.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?pm.placeholder:null}},P0e=t=>{const s=b.useRef(null),n=Vt(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{animate:r,onTransitionEnd:a,onClose:i,contextId:l}=t,[o,c]=b.useState(t.animate==="open");b.useEffect(()=>o?r!=="open"?(n(),c(!1),Ew):s.current?Ew:(s.current=setTimeout(()=>{s.current=null,c(!1)}),n):Ew,[r,o,n]);const u=Vt(m=>{m.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),d=E0e({isAnimatingOpenOnMount:o,animate:t.animate,placeholder:t.placeholder});return Ie.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":l,onTransitionEnd:u,ref:t.innerRef})};var T0e=Ie.memo(P0e);class A0e extends Ie.PureComponent{constructor(...s){super(...s),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(s,n){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)}}const M0e=t=>{const s=b.useContext(H0);s||gt();const{contextId:n,isMovementAllowed:r}=s,a=b.useRef(null),i=b.useRef(null),{children:l,droppableId:o,type:c,mode:u,direction:d,ignoreContainerClipping:m,isDropDisabled:h,isCombineEnabled:p,snapshot:g,useClone:y,updateViewportMaxScroll:v,getContainerForClone:j}=t,w=Vt(()=>a.current,[]),N=Vt((k=null)=>{a.current=k},[]);Vt(()=>i.current,[]);const _=Vt((k=null)=>{i.current=k},[]),T=Vt(()=>{r()&&v({maxScroll:U8()})},[r,v]);C0e({droppableId:o,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:m,getDroppableRef:w});const A=Ms(()=>Ie.createElement(A0e,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:k,data:E,animate:O})=>Ie.createElement(T0e,{placeholder:E,onClose:k,innerRef:_,animate:O,contextId:n,onTransitionEnd:T})),[n,T,t.placeholder,t.shouldAnimatePlaceholder,_]),P=Ms(()=>({innerRef:N,placeholder:A,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}}),[n,o,A,N]),C=y?y.dragging.draggableId:null,R=Ms(()=>({droppableId:o,type:c,isUsingCloneFor:C}),[o,C,c]);function M(){if(!y)return null;const{dragging:k,render:E}=y,O=Ie.createElement(i7,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(F,z)=>E(F,z,k));return f6.createPortal(O,j())}return Ie.createElement(dS.Provider,{value:R},l(P,g),M())};function D0e(){return document.body||gt(),document.body}const VM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:D0e},d7=t=>{let s={...t},n;for(n in VM)t[n]===void 0&&(s={...s,[n]:VM[n]});return s},Pw=(t,s)=>t===s.droppable.type,WM=(t,s)=>s.draggables[t.draggable.id],O0e=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s={...t,shouldAnimatePlaceholder:!1},n=Yn(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Yn((i,l,o,c,u,d)=>{const m=u.descriptor.id;if(u.descriptor.droppableId===i){const g=d?{render:d,dragging:n(u.descriptor)}:null,y={isDraggingOver:o,draggingOverWith:o?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!l)return s;if(!c)return t;const p={isDraggingOver:o,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(i,l)=>{const o=d7(l),c=o.droppableId,u=o.type,d=!o.isDropDisabled,m=o.renderClone;if(Wm(i)){const h=i.critical;if(!Pw(u,h))return s;const p=WM(h,i.dimensions),g=ja(i.impact)===c;return r(c,d,g,g,p,m)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(!Pw(u,h.critical))return s;const p=WM(h.critical,i.dimensions);return r(c,d,r7(h.result)===c,ja(h.impact)===c,p,m)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const h=i.completed;if(!Pw(u,h.critical))return s;const p=ja(h.impact)===c,g=!!(h.impact.at&&h.impact.at.type==="COMBINE"),y=h.critical.droppable.id===c;return p?g?t:s:y?t:s}return s}},R0e={updateViewportMaxScroll:Gpe},Sc=o8(O0e,R0e,(t,s,n)=>({...d7(n),...t,...s}),{context:lS,areStatePropsEqual:n7})(M0e);function F0e({onClose:t,onSelectTemplate:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),{data:l,isLoading:o}=me({queryKey:["iedit-templates"],queryFn:()=>K.entities.IEditElementTemplate.filter({is_active:!0},"display_order"),initialData:[]}),c=[{id:"all",label:"All",icon:Qy},{id:"layout",label:"Layout",icon:Qy},{id:"content",label:"Content",icon:Zx},{id:"media",label:"Media",icon:ri},{id:"interactive",label:"Interactive",icon:uN}],u=l.filter(h=>{var y,v;const p=((y=h.name)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((v=h.description)==null?void 0:v.toLowerCase().includes(n.toLowerCase())),g=a==="all"||h.category===a;return p&&g}),d={Type:Zx,Image:ri,Layout:Qy,Zap:uN,Square:Q4},m=h=>{const p=d[h]||Q4;return e.jsx(p,{className:"w-8 h-8"})};return e.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white border-l border-slate-200 shadow-xl z-50 flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Add Element"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:t,children:e.jsx(ws,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search elements...",value:n,onChange:h=>r(h.target.value),className:"pl-10"})]})]}),e.jsx("div",{className:"flex gap-1 p-4 border-b border-slate-200 overflow-x-auto",children:c.map(h=>{const p=h.icon;return e.jsxs("button",{onClick:()=>i(h.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm whitespace-nowrap transition-colors ${a===h.id?"bg-blue-100 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,children:[e.jsx(p,{className:"w-4 h-4"}),h.label]},h.id)})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading templates..."}):u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-slate-600 mb-2",children:"No elements found"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:"space-y-2",children:u.map(h=>e.jsx(le,{className:"border-slate-200 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>s(h),children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-600",children:m(h.icon)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:h.name}),h.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:h.description}),h.available_variants&&h.available_variants.length>1&&e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[h.available_variants.length," variants available"]})]})]})})},h.id))})})]})}function L0e({element:t,isDragging:s,onEdit:n,onDelete:r,onDuplicate:a}){var i,l,o;return e.jsx(le,{className:`border-slate-200 transition-shadow ${s?"shadow-2xl":"hover:shadow-md"}`,children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600",children:e.jsx(Uc,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-slate-900 capitalize",children:t.element_type.replace(/_/g," ")}),t.style_variant&&t.style_variant!=="default"&&e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-0.5 rounded",children:t.style_variant})]}),e.jsx("div",{className:"text-sm text-slate-600 truncate",children:((i=t.content)==null?void 0:i.heading)||((l=t.content)==null?void 0:l.title)||((o=t.content)==null?void 0:o.text)||"No content"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:n,className:"hover:bg-blue-50 hover:text-blue-700",children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:a,className:"hover:bg-slate-100",children:e.jsx(La,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:r,className:"hover:bg-red-50 hover:text-red-700",children:e.jsx(is,{className:"w-4 h-4"})})]})]})})})}function I0e({sectionId:t}){const[s,n]=b.useState(null),[r,a]=b.useState(null),{data:i,isLoading:l}=me({queryKey:["wall-of-fame-section",t],queryFn:async()=>(await K.entities.WallOfFameSection.list()).find(v=>v.id===t),enabled:!!t}),{data:o=[],isLoading:c}=me({queryKey:["wall-of-fame-categories",t],queryFn:async()=>(await K.entities.WallOfFameCategory.list()).filter(v=>v.section_id===t&&v.is_active).sort((v,j)=>(v.display_order||0)-(j.display_order||0)),enabled:!!t}),{data:u=[],isLoading:d}=me({queryKey:["wall-of-fame-people",s==null?void 0:s.id],queryFn:async()=>(await K.entities.WallOfFamePerson.list()).filter(v=>v.category_id===s.id&&v.is_active).sort((v,j)=>(v.display_order||0)-(j.display_order||0)),enabled:!!s}),{data:m}=me({queryKey:["wall-of-fame-photo-size"],queryFn:async()=>{const v=(await K.entities.SystemSettings.list()).find(j=>j.setting_key==="wall_of_fame_photo_size");return(v==null?void 0:v.setting_value)||"medium"},staleTime:300*1e3}),h=m||"medium",p={small:"w-24 h-24",medium:"w-32 h-32",large:"w-40 h-40"};return l||c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):i?e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:i.name}),i.description&&e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:i.description})]}),s?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(X,{variant:"outline",onClick:()=>{n(null),a(null)},className:"mb-4",children:" Back to Categories"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:s.name}),s.description&&e.jsx("p",{className:"text-slate-600",children:s.description})]}),d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(y=>e.jsx("div",{className:"perspective-1000",style:{perspective:"1000px"},children:e.jsxs("div",{className:`relative w-full h-96 transition-all duration-700 cursor-pointer transform-style-3d ${r===y.id?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d",transform:r===y.id?"rotateY(180deg)":"rotateY(0deg)"},onClick:()=>a(r===y.id?null:y.id),children:[e.jsx("div",{className:"absolute w-full h-full backface-hidden",style:{backfaceVisibility:"hidden"},children:e.jsxs(le,{className:"w-full h-full p-6 flex flex-col items-center justify-center text-center border-2 border-slate-200 hover:border-blue-500 transition-colors bg-white",children:[e.jsx("div",{className:`${p[h]} rounded-full bg-slate-100 flex items-center justify-center overflow-hidden mb-4 flex-shrink-0 aspect-square`,style:{minWidth:h==="large"?"10rem":h==="medium"?"8rem":"6rem",minHeight:h==="large"?"10rem":h==="medium"?"8rem":"6rem"},children:y.profile_photo_url?e.jsx("img",{src:y.profile_photo_url,alt:`${y.first_name} ${y.last_name}`,className:"w-full h-full object-cover",style:{borderRadius:"50%"}}):e.jsx(Js,{className:`${h==="large"?"w-20 h-20":h==="medium"?"w-16 h-16":"w-12 h-12"} text-slate-400`})}),e.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-1",children:[y.first_name," ",y.last_name]}),y.job_title&&e.jsx("p",{className:"text-sm text-slate-600",children:y.job_title}),(y.secondary_organisation||y.secondary_job_title)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-px bg-slate-300 mx-auto my-2"}),y.secondary_job_title&&e.jsx("p",{className:"text-xs text-slate-600",children:y.secondary_job_title}),y.secondary_organisation&&e.jsx("p",{className:"text-xs text-slate-500",children:y.secondary_organisation})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Click to view details"})]})}),e.jsx("div",{className:"absolute w-full h-full backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsx(le,{className:"w-full h-full p-6 overflow-y-auto border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-white",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-1",children:[y.first_name," ",y.last_name]}),y.job_title&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:y.job_title}),(y.secondary_organisation||y.secondary_job_title)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-px bg-slate-300 mx-auto my-2"}),y.secondary_job_title&&e.jsx("p",{className:"text-xs text-slate-700",children:y.secondary_job_title}),y.secondary_organisation&&e.jsx("p",{className:"text-xs text-slate-600",children:y.secondary_organisation})]})]}),y.biography&&e.jsx("div",{className:"flex-1 overflow-y-auto mb-4",children:e.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:y.biography})}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[y.email&&e.jsxs("a",{href:`mailto:${y.email}`,className:"flex items-center justify-center gap-2 px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",onClick:v=>v.stopPropagation(),children:[e.jsx(Ts,{className:"w-4 h-4"}),"Email"]}),y.linkedin_url&&e.jsxs("a",{href:y.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:v=>v.stopPropagation(),children:[e.jsx(cu,{className:"w-4 h-4"}),"LinkedIn"]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Click to flip back"})]})})})]})},y.id))})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(y=>e.jsx(le,{className:"p-8 cursor-pointer hover:shadow-xl transition-all duration-300 border-2 border-slate-200 hover:border-blue-500 bg-white",onClick:()=>n(y),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:e.jsx(Js,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-slate-600",children:y.description})]})},y.id))})]})}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-600",children:"Section not found"})})}function B0e({element:t,onChange:s}){var i;const{data:n=[]}=me({queryKey:["wall-of-fame-sections-selector"],queryFn:()=>K.entities.WallOfFameSection.list()}),r=n.filter(l=>l.is_active).sort((l,o)=>(l.display_order||0)-(o.display_order||0)),a=l=>{s({...t,content:{...t.content,section_id:l}})};return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Wall of Fame Section"}),e.jsxs(He,{value:((i=t.content)==null?void 0:i.section_id)||"",onValueChange:a,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a section to display"})}),e.jsx(Ve,{children:r.length===0?e.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No sections available"}):r.map(l=>e.jsx(re,{value:l.id,children:l.name},l.id))})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Choose which Wall of Fame section to display on this page"})]})})}function q0e({element:t,content:s}){var r;const n=((r=t.content)==null?void 0:r.section_id)||(s==null?void 0:s.section_id);return n?e.jsx(I0e,{sectionId:n}):e.jsx("div",{className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Please select a Wall of Fame section to display"})})}function z0e({element:t,onChange:s}){const n=t.content||{},r=(i,l)=>{s({...t,content:{...n,[i]:l}})},a=async i=>{var o;const l=(o=i.target.files)==null?void 0:o[0];if(l)try{const{file_url:c}=await K.integrations.Core.UploadFile({file:l});r("backgroundImage",c)}catch(c){console.error("Failed to upload image:",c)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{children:"Background Image"}),n.backgroundImage?e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:n.backgroundImage,alt:"Background",className:"w-full h-32 object-cover rounded-lg"}),e.jsx(X,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>r("backgroundImage",""),children:e.jsx(ws,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-slate-400 transition-colors",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Gs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload image"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:a})]})})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"header",children:"Header"}),e.jsx(he,{id:"header",value:n.header||"",onChange:i=>r("header",i.target.value),placeholder:"Enter header text"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"text",children:"Text Content"}),e.jsx(Ht,{id:"text",value:n.text||"",onChange:i=>r("text",i.target.value),placeholder:"Enter text content",rows:4})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Text Position"}),e.jsxs(He,{value:n.textPosition||"left",onValueChange:i=>r("textPosition",i),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Border Style"}),e.jsxs(He,{value:n.borderStyle||"none",onValueChange:i=>r("borderStyle",i),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"solid",children:"Solid"}),e.jsx(re,{value:"dashed",children:"Dashed"}),e.jsx(re,{value:"dotted",children:"Dotted"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"borderColor",children:"Border Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"borderColor",type:"color",value:n.borderColor||"#000000",onChange:i=>r("borderColor",i.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.borderColor||"#000000",onChange:i=>r("borderColor",i.target.value),placeholder:"#000000"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"backgroundColor",type:"color",value:n.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value),placeholder:"#ffffff"})]})]}),e.jsxs("div",{children:[e.jsxs(ee,{htmlFor:"opacity",children:["Background Opacity (",Math.round((n.opacity!==void 0?n.opacity:1)*100),"%)"]}),e.jsx(he,{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:n.opacity!==void 0?n.opacity:1,onChange:i=>r("opacity",parseFloat(i.target.value))})]})]})}function $0e({element:t}){const s=t.content||{},n=s.textPosition||"left",r=s.borderStyle||"none",a=s.borderColor||"#000000",i=s.backgroundColor||"#ffffff",l=s.opacity!==void 0?s.opacity:1,o={backgroundColor:i,opacity:l,border:r!=="none"?`2px ${r} ${a}`:"none"};return e.jsx("div",{className:"relative w-full min-h-[400px] flex items-center justify-center",style:{backgroundImage:s.backgroundImage?`url(${s.backgroundImage})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:s.backgroundImage?void 0:"#f1f5f9"},children:e.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 py-12",children:e.jsx("div",{className:`max-w-xl ${n==="right"?"ml-auto":"mr-auto"}`,children:e.jsxs("div",{className:"p-8 rounded-lg",style:o,children:[s.header&&e.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-900",children:s.header}),s.text&&e.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap",children:s.text})]})})})})}function U0e({element:t,onChange:s}){const n=t.content||{rows:2,cols:2,cells:{},cellTypes:{},columnWidths:{},tableWidth:"full",tableAlign:"center",header:"",description:"",backgroundImage:"",backgroundColor:"#ffffff",sectionWidth:"full"},[r,a]=b.useState({}),i=(N,_)=>{s({...t,content:{...n,[N]:_}})},l=(N,_,T)=>{var C;const A=`${N}-${_}`;if(((C=n.cells)==null?void 0:C[A])===T)return;const P={...n.cells};P[A]=T,i("cells",P)},o=(N,_,T)=>{const A={...n.cellTypes};A[`${N}-${_}`]=T,i("cellTypes",A)},c=(N,_)=>{const T={...n.columnWidths};T[N]=parseFloat(_)||0,i("columnWidths",T)},u=async(N,_,T)=>{if(!T)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(T.type)){te.error("Please upload a valid image file");return}if(T.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}const P=`${N}-${_}`;a({...r,[P]:!0});try{const C=await K.integrations.Core.UploadFile({file:T});l(N,_,C.file_url),te.success("Image uploaded")}catch(C){te.error("Upload failed: "+C.message)}finally{a(C=>({...C,[P]:!1}))}},d=N=>{const _=Math.max(1,parseInt(N)||1);i("rows",_)},m=N=>{const _=Math.max(1,parseInt(N)||1);i("cols",_)},h=n.rows||2,p=n.cols||2,g=n.cells||{},y=n.cellTypes||{},v=n.columnWidths||{},j=n.tableWidth||"full",w=n.tableAlign||"center";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"header",children:"Section Header"}),e.jsx(he,{id:"header",value:n.header||"",onChange:N=>i("header",N.target.value),placeholder:"Optional header text"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Section Description"}),e.jsx(Ht,{id:"description",value:n.description||"",onChange:N=>i("description",N.target.value),placeholder:"Optional description text",rows:3})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"sectionWidth",children:"Section Width"}),e.jsxs(He,{value:n.sectionWidth||"full",onValueChange:N=>i("sectionWidth",N),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"full",children:"Full Width"}),e.jsx(re,{value:"contained",children:"Contained (max-w-7xl)"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundImage",children:"Background Image URL"}),e.jsx(he,{id:"backgroundImage",value:n.backgroundImage||"",onChange:N=>i("backgroundImage",N.target.value),placeholder:"Optional background image URL"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"backgroundColor",type:"color",value:n.backgroundColor||"#ffffff",onChange:N=>i("backgroundColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.backgroundColor||"#ffffff",onChange:N=>i("backgroundColor",N.target.value),placeholder:"#ffffff"})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsx("h3",{className:"font-semibold mb-4",children:"Table Settings"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"rows",children:"Rows"}),e.jsx(he,{id:"rows",type:"number",min:"1",max:"10",value:h,onChange:N=>d(N.target.value)})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"cols",children:"Columns"}),e.jsx(he,{id:"cols",type:"number",min:"1",max:"10",value:p,onChange:N=>m(N.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"tableWidth",children:"Table Width"}),e.jsxs(He,{value:j,onValueChange:N=>i("tableWidth",N),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"full",children:"Full Width"}),e.jsx(re,{value:"half",children:"Half Width"})]})]})]}),j==="half"&&e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"tableAlign",children:"Table Alignment"}),e.jsxs(He,{value:w,onValueChange:N=>i("tableAlign",N),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"borderStyle",children:"Border Style"}),e.jsxs(He,{value:n.borderStyle||"solid",onValueChange:N=>i("borderStyle",N),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"solid",children:"Solid"}),e.jsx(re,{value:"dashed",children:"Dashed"}),e.jsx(re,{value:"dotted",children:"Dotted"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"borderWidth",children:"Border Width (px)"}),e.jsx(he,{id:"borderWidth",type:"number",min:"0",max:"10",value:n.borderWidth||1,onChange:N=>i("borderWidth",parseInt(N.target.value)||0)})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"borderColor",children:"Border Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"borderColor",type:"color",value:n.borderColor||"#e2e8f0",onChange:N=>i("borderColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.borderColor||"#e2e8f0",onChange:N=>i("borderColor",N.target.value),placeholder:"#e2e8f0"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"headerBgColor",children:"Header Cell Background"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"headerBgColor",type:"color",value:n.headerBgColor||"#f8fafc",onChange:N=>i("headerBgColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.headerBgColor||"#f8fafc",onChange:N=>i("headerBgColor",N.target.value),placeholder:"#f8fafc"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ee,{children:"Column Widths (%)"}),e.jsx("div",{className:"mt-2 grid gap-2",style:{gridTemplateColumns:`repeat(${p}, 1fr)`},children:Array.from({length:p}).map((N,_)=>e.jsxs("div",{children:[e.jsxs(ee,{className:"text-xs",children:["Col ",_+1]}),e.jsx(he,{type:"number",min:"0",max:"100",value:v[_]||"",onChange:T=>c(_,T.target.value),placeholder:"Auto",className:"text-xs h-8"})]},_))}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave blank for auto width. Total should equal 100%."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ee,{children:"Table Preview"}),e.jsx("div",{className:"mt-2 p-4 bg-slate-50 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",style:{borderColor:n.borderColor||"#e2e8f0",borderStyle:n.borderStyle||"solid",borderWidth:`${n.borderWidth||1}px`},children:[e.jsx("colgroup",{children:Array.from({length:p}).map((N,_)=>e.jsx("col",{style:{width:v[_]?`${v[_]}%`:"auto"}},_))}),e.jsx("tbody",{children:Array.from({length:h}).map((N,_)=>e.jsx("tr",{children:Array.from({length:p}).map((T,A)=>{const P=`${_}-${A}`,C=y[P]||"text",R=C==="header",M=R?"th":"td",k=g[P]||"";return e.jsx(M,{className:"p-2 text-xs",style:{border:n.borderStyle==="none"?"none":void 0,borderColor:n.borderColor||"#e2e8f0",borderStyle:n.borderStyle||"solid",borderWidth:`${n.borderWidth||1}px`,backgroundColor:R?n.headerBgColor||"#f8fafc":"white",fontWeight:R?"600":"400",textAlign:"left"},children:C==="image"?k?e.jsx("img",{src:k,alt:"Preview",className:"w-full h-auto max-h-16 object-contain"}):e.jsx("span",{className:"text-slate-400",children:"No image"}):e.jsx("div",{className:"truncate",children:k||`${_+1},${A+1}`})},A)})},_))})]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(ee,{children:"Cell Configuration"}),e.jsx("div",{className:"mt-2 space-y-4 max-h-96 overflow-y-auto",children:Array.from({length:h}).map((N,_)=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-600 mb-2",children:["Row ",_+1]}),e.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${p}, 1fr)`},children:Array.from({length:p}).map((T,A)=>{const P=`${_}-${A}`,C=y[P]||"text";return e.jsxs("div",{className:"space-y-2 p-2 bg-slate-50 rounded",children:[e.jsxs(He,{value:C,onValueChange:R=>o(_,A,R),children:[e.jsx(Ue,{className:"h-8 text-xs",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"text",children:"Text"}),e.jsx(re,{value:"header",children:"Header"}),e.jsx(re,{value:"image",children:"Image"})]})]}),C==="image"?e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ee,{htmlFor:`upload-${P}`,className:"cursor-pointer w-full",children:[e.jsx("div",{className:`flex items-center justify-center h-8 rounded-md text-white transition-colors ${r[P]?"bg-slate-400":"bg-blue-600 hover:bg-blue-700"}`,children:r[P]?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-3 h-3 animate-spin mr-1"}),e.jsx("span",{className:"text-xs",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Upload Image"})]})}),e.jsx("input",{id:`upload-${P}`,type:"file",accept:"image/*",onChange:R=>{var k;const M=(k=R.target.files)==null?void 0:k[0];M&&u(_,A,M),R.target.value=""},className:"hidden",disabled:r[P]})]}),g[P]&&e.jsx("img",{src:g[P],alt:"Preview",className:"w-full h-12 object-contain rounded bg-slate-100"})]}):e.jsx("div",{className:"text-xs",children:e.jsx(_2,{value:g[P]||"",onChange:R=>l(_,A,R),placeholder:C==="header"?"Header text":"Content",theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},className:"bg-white rounded"},P)},`quill-${P}`)]},A)})})]},_))})]})]})}function V0e({element:t}){const s=t.content||{rows:2,cols:2,cells:{},cellTypes:{},columnWidths:{},tableWidth:"full",tableAlign:"center"},n=s.rows||2,r=s.cols||2,a=s.cells||{},i=s.cellTypes||{},l=s.columnWidths||{},o=s.borderColor||"#e2e8f0",c=s.borderStyle||"solid",u=s.borderWidth||1,d=s.headerBgColor||"#f8fafc",m=s.tableWidth||"full",h=s.tableAlign||"center",p=s.header||"",g=s.description||"",y=s.backgroundImage||"",v=s.backgroundColor||"#ffffff",j=s.sectionWidth||"full",w={left:"mr-auto",center:"mx-auto",right:"ml-auto"}[h]||"mx-auto",N=m==="half"?"w-1/2":"w-full",_=j==="contained"?"max-w-7xl mx-auto px-4":"w-full px-4",T={backgroundColor:v,...y&&{backgroundImage:`url(${y})`,backgroundSize:"cover",backgroundPosition:"center"}},A=j==="full"?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] py-8":"w-full py-8";return e.jsx("div",{className:A,style:T,children:e.jsxs("div",{className:_,children:[(p||g)&&e.jsxs("div",{className:"mb-8 text-center",children:[p&&e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3",children:p}),g&&e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:g})]}),e.jsx("div",{className:`overflow-x-auto ${N} ${w}`,children:e.jsxs("table",{className:"w-full border-collapse",style:{borderColor:o,borderStyle:c,borderWidth:`${u}px`},children:[e.jsx("colgroup",{children:Array.from({length:r}).map((P,C)=>e.jsx("col",{style:{width:l[C]?`${l[C]}%`:"auto"}},C))}),e.jsx("tbody",{children:Array.from({length:n}).map((P,C)=>e.jsx("tr",{children:Array.from({length:r}).map((R,M)=>{const k=`${C}-${M}`,E=a[k]||"",O=i[k]||"text",F=O==="header",z=F?"th":"td";return e.jsx(z,{className:"p-4",style:{border:c==="none"?"none":void 0,borderColor:o,borderStyle:c,borderWidth:`${u}px`,backgroundColor:F?d:"white",fontWeight:F?"600":"400",textAlign:"left"},children:O==="image"?E?e.jsx("img",{src:E,alt:"Cell content",className:"w-full h-auto object-contain",style:{maxHeight:"150px"}}):e.jsx("div",{className:"text-slate-400 text-sm",children:"No image"}):e.jsx("div",{className:"text-slate-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:E}})},M)})},C))})]})})]})})}function W0e({element:t,onChange:s}){const n=t.content||{banners:[]},[r,a]=b.useState(null),i=(h,p)=>{s({...t,content:{...n,[h]:p}})},l=()=>{const h={id:`banner-${Date.now()}`,headerText:"",paragraphText:"",ctaText:"",ctaLink:"",backgroundImage:""};i("banners",[...n.banners||[],h])},o=h=>{const p=[...n.banners||[]];p.splice(h,1),i("banners",p)},c=h=>{const p=[...n.banners||[]],g={...p[h],id:`banner-${Date.now()}`};p.splice(h+1,0,g),i("banners",p),te.success("Banner duplicated")},u=(h,p,g)=>{const y=[...n.banners||[]];y[h]={...y[h],[p]:g},i("banners",y)},d=async(h,p)=>{if(!p)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(p.type)){te.error("Please upload a valid image file");return}if(p.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}a(h);try{const y=await K.integrations.Core.UploadFile({file:p});u(h,"backgroundImage",y.file_url),te.success("Image uploaded")}catch(y){te.error("Upload failed: "+y.message)}finally{a(null)}},m=h=>{if(!h.destination)return;const p=Array.from(n.banners||[]),[g]=p.splice(h.source.index,1);p.splice(h.destination.index,0,g),i("banners",p)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{children:["Banners (",(n.banners||[]).length,")"]}),e.jsxs(X,{onClick:l,size:"sm",type:"button",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"Add Banner"]})]}),!n.banners||n.banners.length===0?e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"No banners yet"}),e.jsxs(X,{onClick:l,size:"sm",type:"button",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),"Add First Banner"]})]}):e.jsx(Rf,{onDragEnd:m,children:e.jsx(Sc,{droppableId:"banners",children:h=>e.jsxs("div",{...h.droppableProps,ref:h.innerRef,className:"space-y-3",children:[n.banners.map((p,g)=>e.jsx(_c,{draggableId:p.id,index:g,children:y=>e.jsxs("div",{ref:y.innerRef,...y.draggableProps,className:"border border-slate-200 rounded-lg p-4 bg-slate-50 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{...y.dragHandleProps,children:e.jsx(Uc,{className:"w-4 h-4 text-slate-400 cursor-grab"})}),e.jsxs("span",{className:"font-medium text-sm text-slate-700",children:["Banner ",g+1]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{onClick:()=>c(g),size:"sm",variant:"ghost",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",type:"button",children:e.jsx(La,{className:"w-4 h-4"})}),e.jsx(X,{onClick:()=>o(g),size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",type:"button",children:e.jsx(is,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`header-${g}`,children:"Header Text"}),e.jsx(he,{id:`header-${g}`,value:p.headerText||"",onChange:v=>u(g,"headerText",v.target.value),placeholder:"Main heading"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`paragraph-${g}`,children:"Paragraph Text"}),e.jsx(Ht,{id:`paragraph-${g}`,value:p.paragraphText||"",onChange:v=>u(g,"paragraphText",v.target.value),placeholder:"Description text",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`cta-text-${g}`,children:"CTA Button Text"}),e.jsx(he,{id:`cta-text-${g}`,value:p.ctaText||"",onChange:v=>u(g,"ctaText",v.target.value),placeholder:"Learn More"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`cta-link-${g}`,children:"CTA Button Link"}),e.jsx(he,{id:`cta-link-${g}`,value:p.ctaLink||"",onChange:v=>u(g,"ctaLink",v.target.value),placeholder:"/page-url"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`bg-image-${g}`,children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:`bg-image-${g}`,value:p.backgroundImage||"",onChange:v=>u(g,"backgroundImage",v.target.value),placeholder:"Image URL",className:"flex-1"}),e.jsxs(ee,{htmlFor:`upload-${g}`,className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${r===g?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r===g?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx("input",{id:`upload-${g}`,type:"file",accept:"image/*",onChange:v=>{var w;const j=(w=v.target.files)==null?void 0:w[0];j&&d(g,j),v.target.value=""},className:"hidden",disabled:r===g})]})]}),p.backgroundImage&&e.jsx("img",{src:p.backgroundImage,alt:"Preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})},p.id)),h.placeholder]})})}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"autoplay",children:"Autoplay Interval (seconds)"}),e.jsx(he,{id:"autoplay",type:"number",min:"0",value:n.autoplayInterval||5,onChange:h=>i("autoplayInterval",parseInt(h.target.value)||5),placeholder:"5"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0 to disable autoplay"})]})]})}function H0e({element:t}){const s=t.content||{banners:[],autoplayInterval:5},[n,r]=b.useState(0),a=s.banners||[],i=s.autoplayInterval||5;b.useEffect(()=>{if(a.length===0||i===0)return;const d=setInterval(()=>{r(m=>(m+1)%a.length)},i*1e3);return()=>clearInterval(d)},[a.length,i]);const l=()=>{r(d=>(d+1)%a.length)},o=()=>{r(d=>(d-1+a.length)%a.length)},c=d=>{r(d)};if(!a||a.length===0)return e.jsx("div",{className:"bg-slate-100 py-24 text-center",children:e.jsx("p",{className:"text-slate-500",children:"No banners configured"})});const u=a[n];return e.jsxs("div",{className:"relative w-full overflow-hidden",children:[e.jsxs("div",{className:"relative h-[500px] md:h-[600px]",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-700",style:{backgroundImage:u.backgroundImage?`url(${u.backgroundImage})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})}),e.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-white",children:[u.headerText&&e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 animate-fade-in",children:u.headerText}),u.paragraphText&&e.jsx("p",{className:"text-lg md:text-xl mb-8 max-w-2xl mx-auto opacity-90 animate-fade-in",children:u.paragraphText}),u.ctaText&&u.ctaLink&&e.jsx("a",{href:u.ctaLink,className:"inline-block px-8 py-4 bg-white text-slate-900 font-semibold rounded-lg hover:bg-slate-100 transition-colors shadow-lg animate-fade-in",children:u.ctaText})]})}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center transition-colors","aria-label":"Previous banner",children:e.jsx(Un,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center transition-colors","aria-label":"Next banner",children:e.jsx(ys,{className:"w-6 h-6 text-white"})})]}),a.length>1&&e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:a.map((d,m)=>e.jsx("button",{onClick:()=>c(m),className:`w-3 h-3 rounded-full transition-all ${m===n?"bg-white w-8":"bg-white/50 hover:bg-white/70"}`,"aria-label":`Go to banner ${m+1}`},m))})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})}function G0e({index:t,card:s,onUpdate:n}){const{data:r="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const o=(await K.entities.SystemSettings.list()).find(c=>c.setting_key==="article_display_name");return(o==null?void 0:o.setting_value)||"Articles"},staleTime:3e5}),{data:a=[]}=me({queryKey:["showcase-items",s.contentType],queryFn:async()=>{switch(s.contentType){case"news":return(await K.entities.NewsPost.list("-published_date")).filter(u=>u.status==="published");case"resources":return await K.entities.Resource.list("-created_date");case"articles":return(await K.entities.BlogPost.list("-published_date")).filter(u=>u.status==="published");case"jobs":return(await K.entities.JobPosting.list("-created_date")).filter(u=>u.status==="active");default:return[]}},staleTime:60*1e3}),i=l=>{switch(l){case"news":return"News";case"resources":return"Resource";case"articles":return(r==null?void 0:r.slice(0,-1))||"Article";case"jobs":return"Job";default:return""}};return e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 bg-slate-50",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-600 mb-2",children:["Card ",t+1]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(He,{value:s.contentType,onValueChange:l=>n(t,"contentType",l),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"news",children:"News"}),e.jsx(re,{value:"resources",children:"Resources"}),e.jsx(re,{value:"articles",children:r}),e.jsx(re,{value:"jobs",children:"Jobs"})]})]}),e.jsxs(He,{value:s.itemId||"",onValueChange:l=>n(t,"itemId",l),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{placeholder:"Select item..."})}),e.jsx(Ve,{children:a.length===0?e.jsx("div",{className:"p-2 text-xs text-slate-500",children:"No items available"}):a.map(l=>e.jsx(re,{value:l.id,children:l.title||l.name},l.id))})]}),e.jsxs("div",{className:"pt-2 border-t border-slate-300 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`showLabel-${t}`,checked:s.showLabel??!0,onChange:l=>n(t,"showLabel",l.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:`showLabel-${t}`,className:"cursor-pointer text-xs",children:"Show Label"})]}),s.showLabel!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`labelText-${t}`,className:"text-xs",children:"Label Text"}),e.jsx(he,{id:`labelText-${t}`,value:s.labelText||i(s.contentType),onChange:l=>n(t,"labelText",l.target.value),placeholder:"Custom label...",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`labelBg-${t}`,className:"text-xs",children:"Background"}),e.jsx("input",{id:`labelBg-${t}`,type:"color",value:s.labelBgColor||"#2563eb",onChange:l=>n(t,"labelBgColor",l.target.value),className:"w-full h-8 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:`labelText-${t}`,className:"text-xs",children:"Text Color"}),e.jsx("input",{id:`labelTextColor-${t}`,type:"color",value:s.labelTextColor||"#ffffff",onChange:l=>n(t,"labelTextColor",l.target.value),className:"w-full h-8 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]})]})]})}function K0e({element:t,onChange:s}){var u;const[n,r]=Ie.useState(!1),a=t.content||{headerText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"center",subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,text_align:"center",padding_left:16,padding_right:16,backgroundImage:"",backgroundColor:"#ffffff",cardCount:4,cardHeight:400,imageHeightPercent:50,cardBorderRadius:8,descriptionLineClamp:3,showPublishedDate:!1,showImageBorder:!1,imageBorderWeight:3,imageBorderColor:"#2563eb",showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonArrowColor:"#ffffff",ctaButtonMargin:16,card_text_align:"left",cards:[{contentType:"news",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"resources",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"articles",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"jobs",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"}]},i=a.cardCount||4;if(!a.cards||a.cards.length!==i){const d=[],m=["news","resources","articles","jobs"];for(let h=0;h<i;h++)d.push(((u=a.cards)==null?void 0:u[h])||{contentType:m[h]||"news",itemId:""});a.cards=d}const l=(d,m)=>{const h={...a,[d]:m};s({...t,content:h})},o=(d,m,h)=>{const p=[...a.cards];p[d]={...p[d],[m]:h},m==="contentType"&&(p[d].itemId=""),l("cards",p)},c=async d=>{if(!d)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(d.type)){te.error("Please upload a valid image file");return}if(d.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}r(!0);try{const h=await K.integrations.Core.UploadFile({file:d});l("backgroundImage",h.file_url),te.success("Image uploaded")}catch(h){te.error("Upload failed: "+h.message)}finally{r(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"headerText",children:"Header Title"}),e.jsx(he,{id:"headerText",value:a.headerText||"",onChange:d=>l("headerText",d.target.value),placeholder:"Section title"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"descriptionText",children:"Description"}),e.jsx(Ht,{id:"descriptionText",value:a.descriptionText||"",onChange:d=>l("descriptionText",d.target.value),placeholder:"Section description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_font_family",children:"Heading Font"}),e.jsxs(He,{value:a.heading_font_family||"Poppins",onValueChange:d=>l("heading_font_family",d),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_font_size",children:"Heading Size (px)"}),e.jsx(he,{id:"heading_font_size",type:"number",value:a.heading_font_size||48,onChange:d=>l("heading_font_size",parseInt(d.target.value)||48),min:"12",max:"200"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_letter_spacing",children:"Heading Letter Spacing (px)"}),e.jsx(he,{id:"heading_letter_spacing",type:"number",step:"0.5",value:a.heading_letter_spacing||0,onChange:d=>l("heading_letter_spacing",parseFloat(d.target.value)||0),min:"-5",max:"20"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_color",children:"Heading Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"heading_color",type:"color",value:a.heading_color||"#0f172a",onChange:d=>l("heading_color",d.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.heading_color||"#0f172a",onChange:d=>l("heading_color",d.target.value),placeholder:"#0f172a",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"heading_underline_enabled",checked:a.heading_underline_enabled||!1,onChange:d=>l("heading_underline_enabled",d.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"heading_underline_enabled",className:"cursor-pointer",children:"Show line below heading"})]}),a.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_color",children:"Line Color"}),e.jsx("input",{id:"heading_underline_color",type:"color",value:a.heading_underline_color||"#000000",onChange:d=>l("heading_underline_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_width",children:"Line Width (px)"}),e.jsx(he,{id:"heading_underline_width",type:"number",value:a.heading_underline_width||100,onChange:d=>l("heading_underline_width",parseInt(d.target.value)||0),min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_weight",children:"Line Weight (px)"}),e.jsx(he,{id:"heading_underline_weight",type:"number",value:a.heading_underline_weight||2,onChange:d=>l("heading_underline_weight",parseInt(d.target.value)||1),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_spacing",children:"Spacing from Header (px)"}),e.jsx(he,{id:"heading_underline_spacing",type:"number",value:a.heading_underline_spacing||16,onChange:d=>l("heading_underline_spacing",parseInt(d.target.value)||0),min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_alignment",children:"Line Alignment"}),e.jsxs(He,{value:a.heading_underline_alignment||"center",onValueChange:d=>l("heading_underline_alignment",d),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_to_content_spacing",children:"Spacing to Content (px)"}),e.jsx(he,{id:"heading_underline_to_content_spacing",type:"number",value:a.heading_underline_to_content_spacing||24,onChange:d=>l("heading_underline_to_content_spacing",parseInt(d.target.value)||0),min:"0",max:"100"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_font_family",children:"Description Font"}),e.jsxs(He,{value:a.subheading_font_family||"Poppins",onValueChange:d=>l("subheading_font_family",d),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_font_size",children:"Size (px)"}),e.jsx(he,{id:"subheading_font_size",type:"number",value:a.subheading_font_size||20,onChange:d=>l("subheading_font_size",parseInt(d.target.value)||20),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_line_height",children:"Line Height"}),e.jsx(he,{id:"subheading_line_height",type:"number",step:"0.1",value:a.subheading_line_height||1.5,onChange:d=>l("subheading_line_height",parseFloat(d.target.value)||1.5),min:"1",max:"3"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description_color",children:"Description Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"description_color",type:"color",value:a.description_color||"#475569",onChange:d=>l("description_color",d.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.description_color||"#475569",onChange:d=>l("description_color",d.target.value),placeholder:"#475569",className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"text_align",children:"Header Text Alignment"}),e.jsxs(He,{value:a.text_align||"center",onValueChange:d=>l("text_align",d),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"card_text_align",children:"Card Text Alignment"}),e.jsxs(He,{value:a.card_text_align||"left",onValueChange:d=>l("card_text_align",d),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"padding_left",children:"Left Padding (px)"}),e.jsx(he,{id:"padding_left",type:"number",value:a.padding_left||16,onChange:d=>l("padding_left",parseInt(d.target.value)||0),min:"0"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"padding_right",children:"Right Padding (px)"}),e.jsx(he,{id:"padding_right",type:"number",value:a.padding_right||16,onChange:d=>l("padding_right",parseInt(d.target.value)||0),min:"0"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"cardCount",children:"Number of Cards"}),e.jsxs(He,{value:String(a.cardCount||4),onValueChange:d=>l("cardCount",parseInt(d)),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"1",children:"1 Card"}),e.jsx(re,{value:"2",children:"2 Cards"}),e.jsx(re,{value:"3",children:"3 Cards"}),e.jsx(re,{value:"4",children:"4 Cards"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"backgroundColor",type:"color",value:a.backgroundColor||"#ffffff",onChange:d=>l("backgroundColor",d.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.backgroundColor||"#ffffff",onChange:d=>l("backgroundColor",d.target.value),placeholder:"#ffffff",className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"cardHeight",children:"Card Height (px)"}),e.jsx(he,{id:"cardHeight",type:"number",value:a.cardHeight||400,onChange:d=>l("cardHeight",parseInt(d.target.value)||400),min:"200",max:"800"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"imageHeightPercent",children:"Image Height (% of card)"}),e.jsx(he,{id:"imageHeightPercent",type:"number",value:a.imageHeightPercent||50,onChange:d=>l("imageHeightPercent",parseInt(d.target.value)||50),min:"20",max:"80"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"cardBorderRadius",children:"Card Border Radius (px)"}),e.jsx(he,{id:"cardBorderRadius",type:"number",value:a.cardBorderRadius??8,onChange:d=>{const m=d.target.value===""?0:parseInt(d.target.value);l("cardBorderRadius",isNaN(m)?0:m)},min:"0",max:"50"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"descriptionLineClamp",children:"Description Lines"}),e.jsxs(He,{value:String(a.descriptionLineClamp??3),onValueChange:d=>l("descriptionLineClamp",d==="none"?"none":parseInt(d)),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"1",children:"1 Line"}),e.jsx(re,{value:"2",children:"2 Lines"}),e.jsx(re,{value:"3",children:"3 Lines"}),e.jsx(re,{value:"4",children:"4 Lines"}),e.jsx(re,{value:"5",children:"5 Lines"}),e.jsx(re,{value:"none",children:"No Limit"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPublishedDate",checked:a.showPublishedDate||!1,onChange:d=>l("showPublishedDate",d.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"showPublishedDate",className:"cursor-pointer",children:"Show Published Date"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showImageBorder",checked:a.showImageBorder||!1,onChange:d=>l("showImageBorder",d.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"showImageBorder",className:"cursor-pointer",children:"Show Line Below Image"})]}),a.showImageBorder&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"imageBorderWeight",children:"Line Weight (px)"}),e.jsx(he,{id:"imageBorderWeight",type:"number",value:a.imageBorderWeight||3,onChange:d=>l("imageBorderWeight",parseInt(d.target.value)||3),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"imageBorderColor",children:"Line Color"}),e.jsx("input",{id:"imageBorderColor",type:"color",value:a.imageBorderColor||"#2563eb",onChange:d=>l("imageBorderColor",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showCTAButton",checked:a.showCTAButton??!0,onChange:d=>l("showCTAButton",d.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"showCTAButton",className:"cursor-pointer",children:"Show CTA Button"})]}),a.showCTAButton!==!1&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonSize",children:"Button Size (px)"}),e.jsx(he,{id:"ctaButtonSize",type:"number",value:a.ctaButtonSize||48,onChange:d=>l("ctaButtonSize",parseInt(d.target.value)||48),min:"24",max:"80"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonMargin",children:"Margin (px)"}),e.jsx(he,{id:"ctaButtonMargin",type:"number",value:a.ctaButtonMargin??16,onChange:d=>l("ctaButtonMargin",parseInt(d.target.value)??0),min:"0",max:"50"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonBgColor",children:"Background"}),e.jsx("input",{id:"ctaButtonBgColor",type:"color",value:a.ctaButtonBgColor||"#2563eb",onChange:d=>l("ctaButtonBgColor",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonArrowColor",children:"Arrow Color"}),e.jsx("input",{id:"ctaButtonArrowColor",type:"color",value:a.ctaButtonArrowColor||"#ffffff",onChange:d=>l("ctaButtonArrowColor",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Card Slots"}),e.jsx("div",{className:"space-y-4 mt-2",children:a.cards.map((d,m)=>e.jsx(G0e,{index:m,card:d,onUpdate:o},m))})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundImage",children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"backgroundImage",value:a.backgroundImage||"",onChange:d=>l("backgroundImage",d.target.value),placeholder:"Background image URL",className:"flex-1"}),e.jsxs(ee,{htmlFor:"bg-upload",className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${n?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx("input",{id:"bg-upload",type:"file",accept:"image/*",onChange:d=>{var h;const m=(h=d.target.files)==null?void 0:h[0];m&&c(m),d.target.value=""},className:"hidden",disabled:n})]}),a.backgroundImage&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l("backgroundImage",""),className:"text-red-600",type:"button",children:e.jsx(is,{className:"w-4 h-4"})})]}),a.backgroundImage&&e.jsx("img",{src:a.backgroundImage,alt:"Background preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})}function Y0e({element:t,settings:s}){var y,v,j,w;const n=t.content||{headerText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"center",subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,description_color:"#475569",text_align:"center",padding_left:16,padding_right:16,backgroundImage:"",backgroundColor:"#ffffff",cardCount:4,cardHeight:400,imageHeightPercent:50,cardBorderRadius:8,descriptionLineClamp:3,showPublishedDate:!1,showImageBorder:!1,imageBorderWeight:3,imageBorderColor:"#2563eb",showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonArrowColor:"#ffffff",ctaButtonMargin:16,card_text_align:"left",cards:[]},r=s==null?void 0:s.fullWidth,{data:a="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const _=(await K.entities.SystemSettings.list()).find(T=>T.setting_key==="article_display_name");return(_==null?void 0:_.setting_value)||"Articles"},staleTime:300*1e3}),{data:i=[]}=me({queryKey:["showcase-news"],queryFn:async()=>(await K.entities.NewsPost.list()).filter(_=>_.status==="published"),enabled:(y=n.cards)==null?void 0:y.some(N=>N.contentType==="news"&&N.itemId),staleTime:60*1e3}),{data:l=[]}=me({queryKey:["showcase-resources"],queryFn:()=>K.entities.Resource.list(),enabled:(v=n.cards)==null?void 0:v.some(N=>N.contentType==="resources"&&N.itemId),staleTime:60*1e3}),{data:o=[]}=me({queryKey:["showcase-articles"],queryFn:async()=>(await K.entities.BlogPost.list()).filter(_=>_.status==="published"),enabled:(j=n.cards)==null?void 0:j.some(N=>N.contentType==="articles"&&N.itemId),staleTime:60*1e3}),{data:c=[]}=me({queryKey:["showcase-jobs"],queryFn:async()=>(await K.entities.JobPosting.list()).filter(_=>_.status==="active"),enabled:(w=n.cards)==null?void 0:w.some(N=>N.contentType==="jobs"&&N.itemId),staleTime:60*1e3}),u=Ie.useMemo(()=>n.cards?n.cards.map(N=>{if(!N.itemId)return null;let _;switch(N.contentType){case"news":_=i.find(T=>T.id===N.itemId);break;case"resources":_=l.find(T=>T.id===N.itemId);break;case"articles":_=o.find(T=>T.id===N.itemId);break;case"jobs":_=c.find(T=>T.id===N.itemId);break}return _?{..._,_contentType:N.contentType,_cardConfig:N}:null}).filter(Boolean):[],[n.cards,i,l,o,c]),d=N=>{switch(N._contentType){case"news":return Ee(`NewsView?id=${N.id}`);case"resources":return N.download_url||N.content_url||"#";case"articles":return Ee(`ArticleView?slug=${N.slug}`);case"jobs":return Ee(`JobDetails?id=${N.id}`);default:return"#"}},m=N=>{switch(N){case"news":return"News";case"resources":return"Resource";case"articles":return(a==null?void 0:a.slice(0,-1))||"Article";case"jobs":return"Job";default:return""}},h=n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:n.backgroundColor||"#ffffff"},p=r?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]":"w-full",g={paddingLeft:`${n.padding_left||16}px`,paddingRight:`${n.padding_right||16}px`,textAlign:n.text_align||"center"};return e.jsx("div",{className:`${p} py-16 relative`,style:h,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",style:g,children:[(n.headerText||n.descriptionText)&&e.jsxs("div",{style:{marginBottom:"48px"},children:[n.headerText&&e.jsxs("div",{children:[e.jsx("h2",{style:{fontWeight:"bold",fontFamily:n.heading_font_family||"Poppins",fontSize:`${n.heading_font_size||48}px`,letterSpacing:`${n.heading_letter_spacing||0}px`,marginBottom:n.heading_underline_enabled?`${n.heading_underline_spacing||16}px`:"24px",color:n.heading_color||"#0f172a"},children:n.headerText}),n.heading_underline_enabled&&e.jsx("div",{style:{width:`${n.heading_underline_width||100}px`,height:`${n.heading_underline_weight||2}px`,backgroundColor:n.heading_underline_color||"#000000",marginLeft:(n.heading_underline_alignment||"center")==="center"||(n.heading_underline_alignment||"center")==="right"?"auto":"0",marginRight:(n.heading_underline_alignment||"center")==="center"?"auto":"0",marginBottom:`${n.heading_underline_to_content_spacing||24}px`,display:"block"}})]}),n.descriptionText&&e.jsx("p",{style:{fontFamily:n.subheading_font_family||"Poppins",fontSize:`${n.subheading_font_size||20}px`,lineHeight:n.subheading_line_height||1.5,maxWidth:"48rem",margin:"0 auto",color:n.description_color||"#475569"},children:n.descriptionText})]}),u.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/90 rounded-lg",children:[e.jsx(ts,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500",children:"No items selected"})]}):e.jsx("div",{className:`grid grid-cols-1 ${n.cardCount>=2?"md:grid-cols-2":""} ${n.cardCount>=4?"lg:grid-cols-4":n.cardCount===3?"lg:grid-cols-3":""} gap-6`,children:u.map(N=>{var M,k,E,O;const _=N._contentType==="resources"&&(N.download_url||N.content_url),T=d(N),A=Math.round((n.cardHeight||400)*((n.imageHeightPercent||50)/100)),P=n.ctaButtonSize||48,C=n.ctaButtonMargin??16,R=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",style:{height:`${A}px`},children:[(N.image_url||N.feature_image_url)&&e.jsx("img",{src:N.image_url||N.feature_image_url,alt:N.title||N.name,className:"w-full h-full object-cover"}),((M=N._cardConfig)==null?void 0:M.showLabel)!==!1&&e.jsx(ve,{className:"absolute top-0 left-0 text-xs font-semibold rounded-none px-3 py-1",style:{backgroundColor:((k=N._cardConfig)==null?void 0:k.labelBgColor)||"#2563eb",color:((E=N._cardConfig)==null?void 0:E.labelTextColor)||"#ffffff"},children:((O=N._cardConfig)==null?void 0:O.labelText)||m(N._contentType)})]}),n.showImageBorder&&e.jsx("div",{style:{height:`${n.imageBorderWeight||3}px`,backgroundColor:n.imageBorderColor||"#2563eb"}}),e.jsxs("div",{className:"p-4 flex-1 overflow-hidden relative",style:{textAlign:n.card_text_align||"left"},children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2 line-clamp-2",children:N.title||N.name}),(N.summary||N.description)&&e.jsx("p",{className:`text-sm text-slate-600 ${n.descriptionLineClamp==="none"?"":`line-clamp-${n.descriptionLineClamp??3}`}`,children:N.summary||N.description}),n.showPublishedDate&&N.published_date&&e.jsxs("div",{className:"flex items-center gap-1 mt-3 text-xs text-slate-500",style:{justifyContent:n.card_text_align==="center"?"center":n.card_text_align==="right"?"flex-end":"flex-start"},children:[e.jsx(js,{className:"w-3 h-3"}),new Date(N.published_date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]}),n.showCTAButton!==!1&&e.jsx("div",{className:"absolute flex items-center justify-center transition-transform hover:scale-110",style:{width:`${P}px`,height:`${P}px`,backgroundColor:n.ctaButtonBgColor||"#2563eb",borderRadius:`${n.cardBorderRadius??8}px`,bottom:`${C}px`,right:`${C}px`},children:e.jsx(kr,{style:{width:`${P*.5}px`,height:`${P*.5}px`,color:n.ctaButtonArrowColor||"#ffffff"}})})]})]});return _?e.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"bg-white shadow-xl overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-300 block flex flex-col",style:{height:`${n.cardHeight||400}px`,borderRadius:`${n.cardBorderRadius??8}px`},children:R},N.id):e.jsx(Wt,{to:T,className:"bg-white shadow-xl overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-300 block flex flex-col",style:{height:`${n.cardHeight||400}px`,borderRadius:`${n.cardBorderRadius??8}px`},children:R},N.id)})})]})})}function Q0e({element:t,onChange:s}){const[n,r]=Ie.useState(!1),a={headerText:"",subheaderText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"left",subheading_font_family:"Poppins",subheading_font_size:24,subheading_color:"#475569",description_font_family:"Poppins",description_font_size:16,description_color:"#64748b",description_line_height:1.6,button_text:"Learn More",button_link:"",button_style_id:"",button_custom_bg_color:"",button_custom_text_color:"",button_custom_border_color:"",button_size:"default",button_show_arrow:!0,backgroundImage:"",backgroundColor:"#ffffff",cardBorderRadius:8,first_column_right_padding:0,showResourceDescription:!0,resourceTitleFontSize:20,showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonIconColor:"#ffffff",ctaButtonMargin:16,resourceIds:["","","",""]},[i,l]=Ie.useState({...a,...t.content||{}}),{data:o=[]}=me({queryKey:["resources-list"],queryFn:()=>K.entities.Resource.list("-created_date"),staleTime:60*1e3}),{data:c=[]}=me({queryKey:["button-styles"],queryFn:()=>K.entities.ButtonStyle.list(),staleTime:300*1e3}),u=(h,p)=>{const g={...i,[h]:p};l(g),s({...t,content:g})},d=(h,p)=>{const g=Array.isArray(i.resourceIds)?[...i.resourceIds]:["","","",""];g[h]=p,u("resourceIds",g)},m=async h=>{if(!h)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(h.type)){te.error("Please upload a valid image file");return}if(h.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}r(!0);try{const g=await K.integrations.Core.UploadFile({file:h});u("backgroundImage",g.file_url),te.success("Image uploaded")}catch(g){te.error("Upload failed: "+g.message)}finally{r(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"headerText",children:"Header Text"}),e.jsx(he,{id:"headerText",value:i.headerText||"",onChange:h=>u("headerText",h.target.value),placeholder:"Main heading"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_font_family",children:"Heading Font"}),e.jsxs(He,{value:i.heading_font_family||"Poppins",onValueChange:h=>u("heading_font_family",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_font_size",children:"Heading Size (px)"}),e.jsx(he,{id:"heading_font_size",type:"number",value:i.heading_font_size||48,onChange:h=>u("heading_font_size",parseInt(h.target.value)||48),min:"12",max:"200"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_letter_spacing",children:"Letter Spacing (px)"}),e.jsx(he,{id:"heading_letter_spacing",type:"number",step:"0.5",value:i.heading_letter_spacing||0,onChange:h=>u("heading_letter_spacing",parseFloat(h.target.value)||0),min:"-5",max:"20"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_color",children:"Heading Color"}),e.jsx("input",{id:"heading_color",type:"color",value:i.heading_color||"#0f172a",onChange:h=>u("heading_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"heading_underline_enabled",checked:i.heading_underline_enabled||!1,onChange:h=>u("heading_underline_enabled",h.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"heading_underline_enabled",className:"cursor-pointer",children:"Show line below heading"})]}),i.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_color",children:"Line Color"}),e.jsx("input",{id:"heading_underline_color",type:"color",value:i.heading_underline_color||"#000000",onChange:h=>u("heading_underline_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_width",children:"Line Width (px)"}),e.jsx(he,{id:"heading_underline_width",type:"number",value:i.heading_underline_width||100,onChange:h=>u("heading_underline_width",parseInt(h.target.value)||0),min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_weight",children:"Weight (px)"}),e.jsx(he,{id:"heading_underline_weight",type:"number",value:i.heading_underline_weight||2,onChange:h=>u("heading_underline_weight",parseInt(h.target.value)||1),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_spacing",children:"Spacing (px)"}),e.jsx(he,{id:"heading_underline_spacing",type:"number",value:i.heading_underline_spacing||16,onChange:h=>u("heading_underline_spacing",parseInt(h.target.value)||0),min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_to_content_spacing",children:"To Content (px)"}),e.jsx(he,{id:"heading_underline_to_content_spacing",type:"number",value:i.heading_underline_to_content_spacing||24,onChange:h=>u("heading_underline_to_content_spacing",parseInt(h.target.value)||0),min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"heading_underline_alignment",children:"Line Alignment"}),e.jsxs(He,{value:i.heading_underline_alignment||"left",onValueChange:h=>u("heading_underline_alignment",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheaderText",children:"Subheader Text"}),e.jsx(he,{id:"subheaderText",value:i.subheaderText||"",onChange:h=>u("subheaderText",h.target.value),placeholder:"Subheading"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_font_family",children:"Subheader Font"}),e.jsxs(He,{value:i.subheading_font_family||"Poppins",onValueChange:h=>u("subheading_font_family",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_font_size",children:"Size (px)"}),e.jsx(he,{id:"subheading_font_size",type:"number",value:i.subheading_font_size||24,onChange:h=>u("subheading_font_size",parseInt(h.target.value)||24),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"subheading_color",children:"Color"}),e.jsx("input",{id:"subheading_color",type:"color",value:i.subheading_color||"#475569",onChange:h=>u("subheading_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"descriptionText",children:"Description Text"}),e.jsx(Ht,{id:"descriptionText",value:i.descriptionText||"",onChange:h=>u("descriptionText",h.target.value),placeholder:"Description text",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description_font_family",children:"Description Font"}),e.jsxs(He,{value:i.description_font_family||"Poppins",onValueChange:h=>u("description_font_family",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description_font_size",children:"Size (px)"}),e.jsx(he,{id:"description_font_size",type:"number",value:i.description_font_size||16,onChange:h=>u("description_font_size",parseInt(h.target.value)||16),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description_line_height",children:"Line Height"}),e.jsx(he,{id:"description_line_height",type:"number",step:"0.1",value:i.description_line_height||1.6,onChange:h=>u("description_line_height",parseFloat(h.target.value)||1.6),min:"1",max:"3"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description_color",children:"Color"}),e.jsx("input",{id:"description_color",type:"color",value:i.description_color||"#64748b",onChange:h=>u("description_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm",children:"CTA Button"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_text",children:"Button Text"}),e.jsx(he,{id:"button_text",value:i.button_text||"",onChange:h=>u("button_text",h.target.value),placeholder:"Button text"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_link",children:"Button Link"}),e.jsx(he,{id:"button_link",value:i.button_link||"",onChange:h=>u("button_link",h.target.value),placeholder:"URL or page name"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_style_id",children:"Button Style"}),e.jsxs(He,{value:i.button_style_id||"",onValueChange:h=>u("button_style_id",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{placeholder:"Select a style..."})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"No Style (Use Custom Colors)"}),c.map(h=>e.jsx(re,{value:h.id,children:h.name},h.id))]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"button_transparent_bg",checked:i.button_custom_bg_color==="transparent",onChange:h=>u("button_custom_bg_color",h.target.checked?"transparent":"#2563eb"),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"button_transparent_bg",className:"cursor-pointer",children:"Transparent Background"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_custom_bg_color",children:"Custom Background"}),e.jsx("input",{id:"button_custom_bg_color",type:"color",value:i.button_custom_bg_color==="transparent"?"#2563eb":i.button_custom_bg_color||"#2563eb",onChange:h=>u("button_custom_bg_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer",disabled:i.button_custom_bg_color==="transparent"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_custom_text_color",children:"Custom Text"}),e.jsx("input",{id:"button_custom_text_color",type:"color",value:i.button_custom_text_color||"#ffffff",onChange:h=>u("button_custom_text_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_custom_border_color",children:"Custom Border"}),e.jsx("input",{id:"button_custom_border_color",type:"color",value:i.button_custom_border_color||"#2563eb",onChange:h=>u("button_custom_border_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"button_size",children:"Button Size"}),e.jsxs(He,{value:i.button_size||"default",onValueChange:h=>u("button_size",h),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"sm",children:"Small"}),e.jsx(re,{value:"default",children:"Default"}),e.jsx(re,{value:"lg",children:"Large"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"button_show_arrow",checked:i.button_show_arrow??!0,onChange:h=>u("button_show_arrow",h.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"button_show_arrow",className:"cursor-pointer",children:"Show Arrow"})]})})]})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Select Resources (up to 4)"}),e.jsx("div",{className:"space-y-2 mt-2",children:[0,1,2,3].map(h=>e.jsxs(He,{value:Array.isArray(i.resourceIds)&&i.resourceIds[h]||"",onValueChange:p=>d(h,p),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{placeholder:`Resource ${h+1} (optional)`})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"None"}),o.map(p=>e.jsx(re,{value:p.id,children:p.title},p.id))]})]},h))})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"gradient_enabled",checked:i.gradient_enabled||!1,onChange:h=>u("gradient_enabled",h.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"gradient_enabled",className:"cursor-pointer",children:"Use Gradient Background"})]}),i.gradient_enabled?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"gradient_start_color",children:"Start Color"}),e.jsx("input",{id:"gradient_start_color",type:"color",value:i.gradient_start_color||"#3b82f6",onChange:h=>u("gradient_start_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"gradient_end_color",children:"End Color"}),e.jsx("input",{id:"gradient_end_color",type:"color",value:i.gradient_end_color||"#8b5cf6",onChange:h=>u("gradient_end_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"gradient_angle",children:"Angle (degrees)"}),e.jsx(he,{id:"gradient_angle",type:"number",value:i.gradient_angle||135,onChange:h=>u("gradient_angle",parseInt(h.target.value)||0),min:"0",max:"360"})]})]}):e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"backgroundColor",type:"color",value:i.backgroundColor||"#ffffff",onChange:h=>u("backgroundColor",h.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:i.backgroundColor||"#ffffff",onChange:h=>u("backgroundColor",h.target.value),placeholder:"#ffffff",className:"flex-1"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"cardBorderRadius",children:"Card Border Radius (px)"}),e.jsx(he,{id:"cardBorderRadius",type:"number",value:i.cardBorderRadius??8,onChange:h=>{const p=h.target.value===""?0:parseInt(h.target.value);u("cardBorderRadius",isNaN(p)?0:p)},min:"0",max:"50"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"first_column_right_padding",children:"First Column Right Padding (px)"}),e.jsx(he,{id:"first_column_right_padding",type:"number",value:i.first_column_right_padding??0,onChange:h=>u("first_column_right_padding",parseInt(h.target.value)||0),min:"0",max:"200"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"resourceTitleFontSize",children:"Resource Title Font Size (px)"}),e.jsx(he,{id:"resourceTitleFontSize",type:"number",value:i.resourceTitleFontSize??20,onChange:h=>u("resourceTitleFontSize",parseInt(h.target.value)||20),min:"12",max:"60"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showResourceDescription",checked:i.showResourceDescription??!0,onChange:h=>u("showResourceDescription",h.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"showResourceDescription",className:"cursor-pointer",children:"Show Resource Description"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showCTAButton",checked:i.showCTAButton??!0,onChange:h=>u("showCTAButton",h.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"showCTAButton",className:"cursor-pointer",children:"Show CTA Button on Cards"})]}),i.showCTAButton!==!1&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonSize",children:"Button Size (px)"}),e.jsx(he,{id:"ctaButtonSize",type:"number",value:i.ctaButtonSize||48,onChange:h=>u("ctaButtonSize",parseInt(h.target.value)||48),min:"24",max:"80"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonMargin",children:"Margin (px)"}),e.jsx(he,{id:"ctaButtonMargin",type:"number",value:i.ctaButtonMargin??16,onChange:h=>u("ctaButtonMargin",parseInt(h.target.value)??0),min:"0",max:"50"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonBgColor",children:"Background"}),e.jsx("input",{id:"ctaButtonBgColor",type:"color",value:i.ctaButtonBgColor||"#2563eb",onChange:h=>u("ctaButtonBgColor",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"ctaButtonIconColor",children:"Icon Color"}),e.jsx("input",{id:"ctaButtonIconColor",type:"color",value:i.ctaButtonIconColor||"#ffffff",onChange:h=>u("ctaButtonIconColor",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"backgroundImage",children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"backgroundImage",value:i.backgroundImage||"",onChange:h=>u("backgroundImage",h.target.value),placeholder:"Background image URL",className:"flex-1"}),e.jsxs(ee,{htmlFor:"bg-upload",className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${n?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx("input",{id:"bg-upload",type:"file",accept:"image/*",onChange:h=>{var g;const p=(g=h.target.files)==null?void 0:g[0];p&&m(p),h.target.value=""},className:"hidden",disabled:n})]}),i.backgroundImage&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>u("backgroundImage",""),className:"text-red-600",type:"button",children:e.jsx(is,{className:"w-4 h-4"})})]}),i.backgroundImage&&e.jsx("img",{src:i.backgroundImage,alt:"Background preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})}function J0e({element:t,settings:s}){const r={...{headerText:"",subheaderText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"left",subheading_font_family:"Poppins",subheading_font_size:24,subheading_color:"#475569",description_font_family:"Poppins",description_font_size:16,description_color:"#64748b",description_line_height:1.6,button_text:"Learn More",button_link:"",button_style_id:"",button_custom_bg_color:"",button_custom_text_color:"",button_custom_border_color:"",button_size:"default",button_show_arrow:!0,backgroundImage:"",backgroundColor:"#ffffff",gradient_enabled:!1,gradient_start_color:"#3b82f6",gradient_end_color:"#8b5cf6",gradient_angle:135,cardBorderRadius:8,first_column_right_padding:0,showResourceDescription:!0,resourceTitleFontSize:20,showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonIconColor:"#ffffff",ctaButtonMargin:16,resourceIds:["","","",""]},...t.content||{}},a=s==null?void 0:s.fullWidth,{data:i=[]}=me({queryKey:["resources-showcase"],queryFn:()=>K.entities.Resource.list(),enabled:Array.isArray(r.resourceIds)&&r.resourceIds.some(u=>u),staleTime:60*1e3}),l=Ie.useMemo(()=>Array.isArray(r.resourceIds)?r.resourceIds.map(u=>u?i.find(d=>d.id===u):null).filter(Boolean):[],[r.resourceIds,i]),o=r.gradient_enabled?{background:`linear-gradient(${r.gradient_angle||135}deg, ${r.gradient_start_color||"#3b82f6"}, ${r.gradient_end_color||"#8b5cf6"})`,...r.backgroundImage&&{backgroundImage:`url(${r.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}}:{backgroundColor:r.backgroundColor||"#ffffff",...r.backgroundImage&&{backgroundImage:`url(${r.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}},c=a?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]":"w-full";return e.jsx("div",{className:`${c} py-16 relative`,style:o,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",style:{paddingRight:`${r.first_column_right_padding||0}px`},children:[r.headerText&&e.jsxs("div",{children:[e.jsx("h2",{style:{fontWeight:"bold",fontFamily:r.heading_font_family||"Poppins",fontSize:`${r.heading_font_size||48}px`,letterSpacing:`${r.heading_letter_spacing||0}px`,marginBottom:r.heading_underline_enabled?`${r.heading_underline_spacing||16}px`:"24px",color:r.heading_color||"#0f172a"},children:r.headerText}),r.heading_underline_enabled&&e.jsx("div",{style:{width:`${r.heading_underline_width||100}px`,height:`${r.heading_underline_weight||2}px`,backgroundColor:r.heading_underline_color||"#000000",marginLeft:(r.heading_underline_alignment||"left")==="center"||(r.heading_underline_alignment||"left")==="right"?"auto":"0",marginRight:(r.heading_underline_alignment||"left")==="center"?"auto":"0",marginBottom:`${r.heading_underline_to_content_spacing||24}px`,display:"block"}})]}),r.subheaderText&&e.jsx("h3",{style:{fontFamily:r.subheading_font_family||"Poppins",fontSize:`${r.subheading_font_size||24}px`,fontWeight:"600",color:r.subheading_color||"#475569",marginBottom:"16px"},children:r.subheaderText}),r.descriptionText&&e.jsx("p",{style:{fontFamily:r.description_font_family||"Poppins",fontSize:`${r.description_font_size||16}px`,lineHeight:r.description_line_height||1.6,color:r.description_color||"#64748b",marginBottom:"24px"},children:r.descriptionText}),r.button_text&&e.jsx(Fs,{text:r.button_text,link:r.button_link,buttonStyleId:r.button_style_id,customBgColor:r.button_custom_bg_color,customTextColor:r.button_custom_text_color,customBorderColor:r.button_custom_border_color,size:r.button_size,showArrow:r.button_show_arrow})]}),e.jsx("div",{className:"lg:col-span-2",children:l.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/90 rounded-lg",children:[e.jsx(ts,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500",children:"No resources selected"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:l.map(u=>e.jsxs("a",{href:u.target_url,target:u.open_in_new_tab?"_blank":"_self",rel:u.open_in_new_tab?"noopener noreferrer":void 0,className:"bg-white p-6 shadow-lg hover:shadow-xl transition-shadow group aspect-square flex flex-col justify-between relative",style:{borderRadius:`${r.cardBorderRadius??8}px`},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3 group-hover:text-blue-600 transition-colors",style:{fontSize:`${r.resourceTitleFontSize||20}px`},children:u.title}),(r.showResourceDescription??!0)&&u.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-4",children:u.description})]}),r.showCTAButton!==!1&&e.jsx("div",{className:"absolute flex items-center justify-center transition-transform hover:scale-110",style:{width:`${r.ctaButtonSize||48}px`,height:`${r.ctaButtonSize||48}px`,backgroundColor:r.ctaButtonBgColor||"#2563eb",borderRadius:`${r.cardBorderRadius??8}px`,bottom:`${r.ctaButtonMargin??16}px`,right:`${r.ctaButtonMargin??16}px`},children:u.is_public?e.jsx(hG,{style:{width:`${(r.ctaButtonSize||48)*.5}px`,height:`${(r.ctaButtonSize||48)*.5}px`,color:r.ctaButtonIconColor||"#ffffff"}}):e.jsx(cN,{style:{width:`${(r.ctaButtonSize||48)*.5}px`,height:`${(r.ctaButtonSize||48)*.5}px`,color:r.ctaButtonIconColor||"#ffffff"}})})]},u.id))})})]})})})}function X0e({content:t,variant:s,settings:n}){const{header:r,header_alignment:a="center",background_color:i="#ffffff",header_font_family:l="Poppins",header_font_size:o="32",header_color:c="#000000",button_gap:u="16",buttons:d=[]}=t,m={left:"text-left",center:"text-center",right:"text-right"},h=m[a]||m.center,p=d.filter(g=>(g==null?void 0:g.text)&&(g==null?void 0:g.text.trim())!=="");return e.jsx("div",{className:"py-12 px-4",style:{backgroundColor:i},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[r&&e.jsx("h2",{className:`${h} mb-8 font-bold`,style:{fontFamily:l,fontSize:`${o}px`,color:c},children:r}),e.jsx("div",{className:`flex flex-wrap ${a==="center"?"justify-center":a==="right"?"justify-end":"justify-start"}`,style:{gap:`${u}px`},children:p.map((g,y)=>e.jsx(Fs,{text:g.text,link:g.link,buttonStyleId:g.button_style_id,customBgColor:g.custom_bg_color,customTextColor:g.custom_text_color,customBorderColor:g.custom_border_color,openInNewTab:g.open_in_new_tab,size:g.size||"medium",showArrow:g.show_arrow},y))})]})})}function Z0e({element:t,onChange:s}){const n={text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"medium",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""},r=t.content?{header:t.content.header??"",header_alignment:t.content.header_alignment??"center",background_color:t.content.background_color??"#ffffff",header_font_family:t.content.header_font_family??"Poppins",header_font_size:t.content.header_font_size??"32",header_color:t.content.header_color??"#000000",button_gap:t.content.button_gap??"16",buttons:(t.content.buttons||[n]).map(d=>({...n,...d}))}:{header:"",header_alignment:"center",background_color:"#ffffff",header_font_family:"Poppins",header_font_size:"32",header_color:"#000000",button_gap:"16",buttons:[n]},a=(d,m)=>{s({...t,content:{...r,[d]:m}})},i=(d,m,h)=>{const p=[...r.buttons||[]];p[d]={...p[d],[m]:h},a("buttons",p)},l=()=>{(r.buttons||[]).length<4&&a("buttons",[...r.buttons||[],{text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"medium",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""}])},o=d=>{const m=[...r.buttons||[]];m.splice(d,1),a("buttons",m)},[c,u]=Ie.useState([]);return Ie.useEffect(()=>{(async()=>{try{const{base44:m}=await P0(async()=>{const{base44:p}=await Promise.resolve().then(()=>$g);return{base44:p}},void 0),h=await m.entities.ButtonStyle.list();u(h.filter(p=>p.is_active))}catch(m){console.error("Failed to fetch button styles:",m)}})()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Header Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Text"}),e.jsx("input",{type:"text",value:r.header||"",onChange:d=>a("header",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter header text..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alignment"}),e.jsxs("select",{value:r.header_alignment||"center",onChange:d=>a("header_alignment",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font"}),e.jsxs("select",{value:r.header_font_family||"Poppins",onChange:d=>a("header_font_family",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Size (px)"}),e.jsx("input",{type:"number",value:r.header_font_size||32,onChange:d=>a("header_font_size",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"72"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Color"}),e.jsx("input",{type:"color",value:r.header_color||"#000000",onChange:d=>a("header_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background Color"}),e.jsx("input",{type:"color",value:r.background_color||"#ffffff",onChange:d=>a("background_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Gap (px)"}),e.jsx("input",{type:"number",value:r.button_gap||16,onChange:d=>a("button_gap",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-sm",children:["Buttons (",(r.buttons||[]).length,"/4)"]}),(r.buttons||[]).length<4&&e.jsx("button",{onClick:l,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:"+ Add Button"})]}),(r.buttons||[]).map((d,m)=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Button ",m+1]}),e.jsx("button",{onClick:()=>o(m),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Text *"}),e.jsx("input",{type:"text",value:d.text||"",onChange:h=>i(m,"text",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"e.g., Learn More"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link URL *"}),e.jsx("input",{type:"text",value:d.link||"",onChange:h=>i(m,"link",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Style"}),e.jsxs("select",{value:d.button_style_id||"",onChange:h=>i(m,"button_style_id",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"",children:"Default Style"}),c.map(h=>e.jsx("option",{value:h.id,children:h.name},h.id))]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Or use custom colors below"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background"}),e.jsx("input",{type:"color",value:d.custom_bg_color||"#000000",onChange:h=>i(m,"custom_bg_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text"}),e.jsx("input",{type:"color",value:d.custom_text_color||"#ffffff",onChange:h=>i(m,"custom_text_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Border (opt.)"}),e.jsx("input",{type:"color",value:d.custom_border_color||"",onChange:h=>i(m,"custom_border_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Size"}),e.jsxs("select",{value:d.size||"medium",onChange:h=>i(m,"size",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"xlarge",children:"Extra Large"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`arrow-${m}`,checked:d.show_arrow||!1,onChange:h=>i(m,"show_arrow",h.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:`arrow-${m}`,className:"text-sm cursor-pointer",children:"Show arrow icon "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`new-tab-${m}`,checked:d.open_in_new_tab||!1,onChange:h=>i(m,"open_in_new_tab",h.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:`new-tab-${m}`,className:"text-sm cursor-pointer",children:"Open in new tab"})]})]},m)),(r.buttons||[]).length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:'No buttons added yet. Click "Add Button" to get started.'})]})]})}function eve({content:t,variant:s,settings:n,isFirst:r}){const{image_url:a,header_text:i,header_position:l="left",header_font_family:o="Poppins",header_font_size:c="48",header_color:u="#ffffff",text_alignment:d="left",padding_vertical:m="80",padding_horizontal:h="16",line_spacing:p="1.2",text_padding_left:g="0",text_padding_right:y="0",text_padding_top:v="0",text_padding_bottom:j="0",height_type:w="auto",custom_height:N="400",image_fit:_="cover"}=t,T={left:"text-left",center:"text-center",right:"text-right"}[d]||"text-left",A=()=>_==="original"?{}:w==="full"?{height:"100vh"}:w==="custom"?{height:`${N}px`}:{minHeight:"400px"};return e.jsxs("div",{className:"relative w-full overflow-hidden",style:A(),children:[a&&e.jsx("img",{src:a,alt:i||"Hero image",className:_==="original"?"w-full h-auto block":"absolute inset-0 w-full h-full",style:_==="original"?{}:{objectFit:_}}),e.jsx("div",{className:`${_==="original"?"absolute inset-0 flex items-center":"relative h-full flex items-center"} max-w-7xl mx-auto`,style:{paddingLeft:`${h}px`,paddingRight:`${h}px`},children:e.jsx("div",{className:`max-w-2xl ${l==="right"?"ml-auto":"mr-auto"} ${T}`,style:{paddingLeft:`${g}px`,paddingRight:`${y}px`,paddingTop:`${v}px`,paddingBottom:`${j}px`},children:i&&e.jsx("h1",{className:"whitespace-pre-line",style:{fontFamily:o,fontSize:`${c}px`,color:u,lineHeight:p},children:i})})})]})}function tve({element:t,onChange:s}){const n=t.content||{image_url:"",header_text:"",header_position:"left",header_font_family:"Poppins",header_font_size:"48",header_color:"#ffffff",text_alignment:"left",padding_vertical:"80",padding_horizontal:"16",line_spacing:"1.2",text_padding_left:"0",text_padding_right:"0",text_padding_top:"0",text_padding_bottom:"0",height_type:"auto",custom_height:"400",image_fit:"cover"},[r,a]=Ie.useState(!1),i=(o,c)=>{s({...t,content:{...n,[o]:c}})},l=async o=>{if(!o)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(o.type)){alert("Please upload a valid image file");return}if(o.size>10*1024*1024){alert("Image must be smaller than 10MB");return}a(!0);try{const{base44:u}=await P0(async()=>{const{base44:m}=await Promise.resolve().then(()=>$g);return{base44:m}},void 0),d=await u.integrations.Core.UploadFile({file:o});i("image_url",d.file_url)}catch(u){alert("Failed to upload image: "+u.message)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hero Image *"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"inline-block",children:[e.jsx("div",{className:`px-4 py-2 rounded-md text-sm font-medium cursor-pointer ${r?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"Uploading...":" Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:o=>{var u;const c=(u=o.target.files)==null?void 0:u[0];c&&l(c),o.target.value=""},className:"hidden",disabled:r})]})}),n.image_url&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:n.image_url,alt:"Preview",className:"w-full h-32 object-cover rounded",onError:o=>{o.target.style.display="none"}}),e.jsx("button",{onClick:()=>i("image_url",""),className:"absolute bottom-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded",type:"button",children:"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Text *"}),e.jsx("textarea",{value:n.header_text||"",onChange:o=>i("header_text",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter header text...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Position"}),e.jsxs("select",{value:n.header_position||"left",onChange:o=>i("header_position",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image Display"}),e.jsxs("select",{value:n.image_fit||"cover",onChange:o=>i("image_fit",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"cover",children:"Cover (Fill & Crop)"}),e.jsx("option",{value:"contain",children:"Contain (Fit Within)"}),e.jsx("option",{value:"original",children:"Original (Full Width, Natural Height)"})]})]}),n.image_fit!=="original"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Container Height"}),e.jsxs("select",{value:n.height_type||"auto",onChange:o=>i("height_type",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"auto",children:"Auto (Min 400px)"}),e.jsx("option",{value:"full",children:"Full Viewport"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),n.height_type==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custom Height (px)"}),e.jsx("input",{type:"number",value:n.custom_height||400,onChange:o=>i("custom_height",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Family"}),e.jsxs("select",{value:n.header_font_family||"Poppins",onChange:o=>i("header_font_family",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Size (px)"}),e.jsx("input",{type:"number",value:n.header_font_size||48,onChange:o=>i("header_font_size",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"16",max:"96"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Color"}),e.jsx("input",{type:"color",value:n.header_color||"#ffffff",onChange:o=>i("header_color",o.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text Alignment"}),e.jsxs("select",{value:n.text_alignment||"left",onChange:o=>i("text_alignment",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Spacing"}),e.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"3",value:n.line_spacing||1.2,onChange:o=>i("line_spacing",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Container Padding"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vertical (px)"}),e.jsx("input",{type:"number",value:n.padding_vertical||80,onChange:o=>i("padding_vertical",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horizontal (px)"}),e.jsx("input",{type:"number",value:n.padding_horizontal||16,onChange:o=>i("padding_horizontal",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Text Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Left (px)"}),e.jsx("input",{type:"number",value:n.text_padding_left||0,onChange:o=>i("text_padding_left",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Right (px)"}),e.jsx("input",{type:"number",value:n.text_padding_right||0,onChange:o=>i("text_padding_right",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Top (px)"}),e.jsx("input",{type:"number",value:n.text_padding_top||0,onChange:o=>i("text_padding_top",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Bottom (px)"}),e.jsx("input",{type:"number",value:n.text_padding_bottom||0,onChange:o=>i("text_padding_bottom",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]})]})]})}function sve({content:t,variant:s,settings:n}){const{heading_font_family:r="Poppins",heading_font_size:a=48,heading_letter_spacing:i=0,heading_underline_enabled:l=!1,heading_underline_color:o="#000000",heading_underline_width:c=100,heading_underline_weight:u=2,heading_underline_spacing:d=16,heading_underline_to_content_spacing:m=24,subheading_font_family:h="Poppins",subheading_font_size:p=20,subheading_line_height:g=1.5,text_align:y="center",background_color:v,padding_left:j=16,padding_right:w=16,button_top_margin:N=32,button:_}=t,T={default:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",dark:"bg-slate-900 text-white",light:"bg-slate-50 text-slate-900"},A=T[s]||T.default,P=v?{backgroundColor:v}:{},C={paddingLeft:`${j}px`,paddingRight:`${w}px`,textAlign:y};return e.jsx("div",{className:v?"py-20":`${A} py-20`,style:P,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",style:C,children:[t.heading&&e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold",style:{fontFamily:r,fontSize:`${a}px`,letterSpacing:`${i}px`,marginBottom:l?`${d}px`:"24px"},children:t.heading}),l&&e.jsx("div",{style:{width:`${c}px`,height:`${u}px`,backgroundColor:o,margin:y==="center"?"0 auto":y==="right"?"0 0 0 auto":"0",marginBottom:`${m}px`}})]}),t.subheading&&e.jsx("p",{className:"mb-8 opacity-90",style:{fontFamily:h,fontSize:`${p}px`,lineHeight:g},children:t.subheading}),_&&_.text&&e.jsx("div",{style:{marginTop:`${N}px`},children:e.jsx(Fs,{text:_.text,link:_.link,buttonStyleId:_.button_style_id,customBgColor:_.custom_bg_color,customTextColor:_.custom_text_color,customBorderColor:_.custom_border_color,openInNewTab:_.open_in_new_tab,size:_.size||"large",showArrow:_.show_arrow})})]})})}function nve({element:t,onChange:s}){const n={text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"large",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""},r=t.content||{heading:"",subheading:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,text_align:"center",background_color:"",padding_left:16,padding_right:16,button_top_margin:32,button:n},a=(u,d)=>{s({...t,content:{...r,[u]:d}})},i=(u,d)=>{const m=r.button||n;a("button",{...m,[u]:d})},[l,o]=Ie.useState([]);Ie.useEffect(()=>{(async()=>{try{const{base44:d}=await P0(async()=>{const{base44:h}=await Promise.resolve().then(()=>$g);return{base44:h}},void 0),m=await d.entities.ButtonStyle.list();o(m.filter(h=>h.is_active))}catch(d){console.error("Failed to fetch button styles:",d)}})()},[]);const c=r.button||n;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading"}),e.jsx("input",{type:"text",value:r.heading||"",onChange:u=>a("heading",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter heading..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Font"}),e.jsxs("select",{value:r.heading_font_family||"Poppins",onChange:u=>a("heading_font_family",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Size (px)"}),e.jsx("input",{type:"number",value:r.heading_font_size||48,onChange:u=>a("heading_font_size",parseInt(u.target.value)||48),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Letter Spacing (px)"}),e.jsx("input",{type:"number",step:"0.5",value:r.heading_letter_spacing||0,onChange:u=>a("heading_letter_spacing",parseFloat(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"-5",max:"20"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"underline-enabled",checked:r.heading_underline_enabled||!1,onChange:u=>a("heading_underline_enabled",u.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"underline-enabled",className:"text-sm font-medium cursor-pointer",children:"Show line below heading"})]}),r.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Color"}),e.jsx("input",{type:"color",value:r.heading_underline_color||"#000000",onChange:u=>a("heading_underline_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Width (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_width||100,onChange:u=>a("heading_underline_width",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Weight (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_weight||2,onChange:u=>a("heading_underline_weight",parseInt(u.target.value)||1),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spacing from Header (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_spacing||16,onChange:u=>a("heading_underline_spacing",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spacing to Content (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_to_content_spacing||24,onChange:u=>a("heading_underline_to_content_spacing",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subheading"}),e.jsx("textarea",{value:r.subheading||"",onChange:u=>a("subheading",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",rows:"3",placeholder:"Enter subheading..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subheading Font"}),e.jsxs("select",{value:r.subheading_font_family||"Poppins",onChange:u=>a("subheading_font_family",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size (px)"}),e.jsx("input",{type:"number",value:r.subheading_font_size||20,onChange:u=>a("subheading_font_size",parseInt(u.target.value)||20),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Height"}),e.jsx("input",{type:"number",step:"0.1",value:r.subheading_line_height||1.5,onChange:u=>a("subheading_line_height",parseFloat(u.target.value)||1.5),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"1",max:"3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text Alignment"}),e.jsxs("select",{value:r.text_align||"center",onChange:u=>a("text_align",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background Color"}),e.jsx("input",{type:"color",value:r.background_color||"#3b82f6",onChange:u=>a("background_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty to use variant style"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Left Padding (px)"}),e.jsx("input",{type:"number",value:r.padding_left||16,onChange:u=>a("padding_left",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Right Padding (px)"}),e.jsx("input",{type:"number",value:r.padding_right||16,onChange:u=>a("padding_right",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Top Margin (px)"}),e.jsx("input",{type:"number",value:r.button_top_margin||32,onChange:u=>a("button_top_margin",parseInt(u.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"200"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Space between text and button"})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Button Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Text"}),e.jsx("input",{type:"text",value:c.text||"",onChange:u=>i("text",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"e.g., Get Started"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link URL"}),e.jsx("input",{type:"text",value:c.link||"",onChange:u=>i("link",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Style"}),e.jsxs("select",{value:c.button_style_id||"",onChange:u=>i("button_style_id",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"",children:"Default Style"}),l.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Or use custom colors below"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background"}),e.jsx("input",{type:"color",value:c.custom_bg_color||"#000000",onChange:u=>i("custom_bg_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text"}),e.jsx("input",{type:"color",value:c.custom_text_color||"#ffffff",onChange:u=>i("custom_text_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Border"}),e.jsx("input",{type:"color",value:c.custom_border_color||"",onChange:u=>i("custom_border_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Size"}),e.jsxs("select",{value:c.size||"large",onChange:u=>i("size",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"xlarge",children:"Extra Large"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"arrow-hero",checked:c.show_arrow||!1,onChange:u=>i("show_arrow",u.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"arrow-hero",className:"text-sm cursor-pointer",children:"Show arrow icon "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"new-tab-hero",checked:c.open_in_new_tab||!1,onChange:u=>i("open_in_new_tab",u.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"new-tab-hero",className:"text-sm cursor-pointer",children:"Open in new tab"})]})]})]})]})}function rve({element:t,onClose:s,onSave:n}){const[r,a]=b.useState(t.content||{}),[i,l]=b.useState(t.style_variant||"default"),[o,c]=b.useState(t.settings||{}),[u,d]=b.useState({}),[m,h]=b.useState(!1);b.useEffect(()=>{a(t.content||{}),l(t.style_variant||"default"),c(t.settings||{})},[t]);const{data:p}=me({queryKey:["iedit-template",t.element_type],queryFn:async()=>(await K.entities.IEditElementTemplate.list()).find(U=>U.element_type===t.element_type)}),g=()=>{n({content:r,style_variant:i,settings:o})},y=(V,U)=>{a({...r,[V]:U})},v=(V,U)=>{c({...o,[V]:U})},j=async(V,U)=>{if(!U)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(U.type)){te.error("Please upload a valid image file (JPEG, PNG, GIF, WebP, or SVG)");return}if(U.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}d({...u,[V]:!0});try{const $=await K.integrations.Core.UploadFile({file:U});y(V,$.file_url),te.success("Image uploaded successfully")}catch($){te.error("Failed to upload image: "+$.message)}finally{d({...u,[V]:!1})}},w=V=>{y(V,"")},N=t.element_type==="image_hero",_=t.element_type==="wall_of_fame",T=t.element_type==="text_overlay_image",A=t.element_type==="table",P=t.element_type==="banner_carousel",C=t.element_type==="showcase",R=t.element_type==="resources_showcase",M=t.element_type==="button_block",k=t.element_type==="page_header_hero",E=t.element_type==="hero",O=t.element_type==="form",{data:F=[]}=me({queryKey:["forms-list"],queryFn:async()=>(await K.entities.Form.list()).filter(U=>U.is_active),enabled:O}),z=()=>{var U;if(!((U=p==null?void 0:p.content_schema)!=null&&U.properties))return e.jsx("div",{className:"space-y-4",children:Object.keys(r).map(B=>e.jsxs("div",{children:[e.jsx(ee,{htmlFor:B,className:"capitalize",children:B.replace(/_/g," ")}),typeof r[B]=="string"&&r[B].length>100?e.jsx(Ht,{id:B,value:r[B],onChange:$=>y(B,$.target.value),rows:4}):e.jsx(he,{id:B,value:r[B],onChange:$=>y(B,$.target.value)})]},B))});const V=p.content_schema.properties;return e.jsx("div",{className:"space-y-4",children:Object.entries(V).map(([B,$])=>{var q,Z;const L=O&&B==="form_slug",I=$.format==="uri"&&(B.toLowerCase().includes("image")||B.toLowerCase().includes("url")||((q=$.title)==null?void 0:q.toLowerCase().includes("image"))),W=u[B];return e.jsxs("div",{children:[e.jsxs(ee,{htmlFor:B,className:"capitalize",children:[$.title||B.replace(/_/g," "),((Z=p.content_schema.required)==null?void 0:Z.includes(B))&&" *"]}),$.description&&e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:$.description}),L?e.jsxs(He,{value:r[B]||"",onValueChange:J=>y(B,J),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a form..."})}),e.jsx(Ve,{children:F.length===0?e.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No active forms available"}):F.map(J=>e.jsx(re,{value:J.slug,children:J.name},J.id))})]}):I?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:B,type:"text",value:r[B]||"",onChange:J=>y(B,J.target.value),placeholder:"Enter image URL or upload...",className:"flex-1"}),e.jsxs(ee,{htmlFor:`${B}-upload`,className:"cursor-pointer",children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${W?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[W?e.jsx(vt,{className:"w-4 h-4 animate-spin"}):e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:W?"Uploading...":"Upload"})]}),e.jsx("input",{id:`${B}-upload`,type:"file",accept:"image/*",onChange:J=>{var G;const Q=(G=J.target.files)==null?void 0:G[0];Q&&j(B,Q),J.target.value=""},className:"hidden",disabled:W})]})]}),r[B]&&e.jsxs("div",{className:"relative mt-2 p-2 border border-slate-200 rounded-lg bg-slate-50",children:[e.jsx("img",{src:r[B],alt:"Preview",className:"w-full h-32 object-cover rounded",onError:J=>{J.target.style.display="none"}}),e.jsx("button",{onClick:()=>w(B),className:"absolute bottom-3 right-3 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove image",type:"button",children:e.jsx(is,{className:"w-3 h-3"})})]})]}):$.type==="string"&&$.format==="textarea"?e.jsx(Ht,{id:B,value:r[B]||"",onChange:J=>y(B,J.target.value),rows:4,placeholder:$.placeholder}):$.type==="string"&&$.enum?e.jsxs(He,{value:r[B]||"",onValueChange:J=>y(B,J),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select..."})}),e.jsx(Ve,{children:$.enum.map(J=>e.jsx(re,{value:J,children:J},J))})]}):$.type==="boolean"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:B,checked:r[B]||!1,onChange:J=>y(B,J.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:B,className:"cursor-pointer",children:$.description||"Enable"})]}):$.type==="number"?e.jsx(he,{id:B,type:"number",value:r[B]||"",onChange:J=>y(B,parseFloat(J.target.value)||0),placeholder:$.placeholder,min:$.minimum,max:$.maximum}):e.jsx(he,{id:B,type:"text",value:r[B]||"",onChange:J=>y(B,J.target.value),placeholder:$.placeholder})]},B)})})};return e.jsxs("div",{className:`fixed inset-y-0 right-0 bg-white border-l border-slate-200 shadow-xl z-50 flex flex-col transition-all ${m?"w-[calc(100%-4rem)]":"w-96"}`,children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Edit Element"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(!m),title:m?"Collapse":"Expand",children:m?"":""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(ws,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-slate-600 capitalize",children:t.element_type.replace(/_/g," ")})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(p==null?void 0:p.available_variants)&&p.available_variants.length>1&&e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"variant",children:"Style Variant"}),e.jsxs(He,{value:i,onValueChange:l,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsx(Ve,{children:p.available_variants.map(V=>e.jsx(re,{value:V,children:V},V))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Content"}),_?e.jsx(B0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):T?e.jsx(z0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):A?e.jsx(U0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):P?e.jsx(W0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):C?e.jsx(K0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):R?e.jsx(Q0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):M?e.jsx(Z0e,{element:{...t,content:r},onChange:V=>a(V.content||{})}):k?e.jsx(tve,{element:{...t,content:r},onChange:V=>a(V.content||{})}):E?e.jsx(nve,{element:{...t,content:r},onChange:V=>a(V.content||{})}):z()]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"fullWidth",checked:o.fullWidth||!1,onChange:V=>v("fullWidth",V.target.checked),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"fullWidth",className:"cursor-pointer",children:"Full Width"})]}),N&&o.fullWidth&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[e.jsx("strong",{children:"Full Width Mode:"}),` Height is automatically determined by the background image's aspect ratio. The "Hero Height" setting is not used.`]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"paddingTop",children:"Padding Top (px)"}),e.jsx(he,{id:"paddingTop",type:"number",value:o.paddingTop??32,onChange:V=>v("paddingTop",parseInt(V.target.value)||0),min:"0",max:"200"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"paddingBottom",children:"Padding Bottom (px)"}),e.jsx(he,{id:"paddingBottom",type:"number",value:o.paddingBottom??32,onChange:V=>v("paddingBottom",parseInt(V.target.value)||0),min:"0",max:"200"})]})]})]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),e.jsxs(X,{onClick:g,className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:Object.values(u).some(V=>V),children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save"]})]})})]})}function ave({page:t,onClose:s,onSave:n}){const[r,a]=b.useState({...t}),i=()=>{n(r)};return e.jsx(St,{open:!0,onOpenChange:s,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Page Settings"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"title",children:"Page Title *"}),e.jsx(he,{id:"title",value:r.title,onChange:l=>a({...r,title:l.target.value})})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(he,{id:"slug",value:r.slug,onChange:l=>a({...r,slug:l.target.value})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lowercase letters, numbers, and hyphens only"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:r.description||"",onChange:l=>a({...r,description:l.target.value}),rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Publication"}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"status",children:"Status"}),e.jsxs(He,{value:r.status,onValueChange:l=>a({...r,status:l,published_at:l==="published"&&!r.published_at?new Date().toISOString():r.published_at}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"draft",children:"Draft"}),e.jsx(re,{value:"published",children:"Published"}),e.jsx(re,{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"layout_type",children:"Layout Type"}),e.jsxs(He,{value:r.layout_type,onValueChange:l=>a({...r,layout_type:l}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"public",children:"Public (With header/footer)"}),e.jsx(re,{value:"member",children:"Member Portal (With sidebar)"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"SEO (Optional)"}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"meta_title",children:"Meta Title"}),e.jsx(he,{id:"meta_title",value:r.meta_title||"",onChange:l=>a({...r,meta_title:l.target.value}),placeholder:"Leave empty to use page title"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"meta_description",children:"Meta Description"}),e.jsx(Ht,{id:"meta_description",value:r.meta_description||"",onChange:l=>a({...r,meta_description:l.target.value}),rows:3,placeholder:"Brief description for search engines"})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(X,{onClick:i,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})})}function ive(t,s){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lve=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ove=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cve={};function HM(t,s){return(cve.jsx?ove:lve).test(t)}const dve=/[ \t\n\f\r]/g;function uve(t){return typeof t=="object"?t.type==="text"?GM(t.value):!1:GM(t)}function GM(t){return t.replace(dve,"")===""}class Ff{constructor(s,n,r){this.normal=n,this.property=s,r&&(this.space=r)}}Ff.prototype.normal={};Ff.prototype.property={};Ff.prototype.space=void 0;function u7(t,s){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new Ff(n,r,s)}function __(t){return t.toLowerCase()}class ra{constructor(s,n){this.attribute=n,this.property=s}}ra.prototype.attribute="";ra.prototype.booleanish=!1;ra.prototype.boolean=!1;ra.prototype.commaOrSpaceSeparated=!1;ra.prototype.commaSeparated=!1;ra.prototype.defined=!1;ra.prototype.mustUseProperty=!1;ra.prototype.number=!1;ra.prototype.overloadedBoolean=!1;ra.prototype.property="";ra.prototype.spaceSeparated=!1;ra.prototype.space=void 0;let hve=0;const hs=Yc(),On=Yc(),S_=Yc(),mt=Yc(),nn=Yc(),Qd=Yc(),ha=Yc();function Yc(){return 2**++hve}const C_=Object.freeze(Object.defineProperty({__proto__:null,boolean:hs,booleanish:On,commaOrSpaceSeparated:ha,commaSeparated:Qd,number:mt,overloadedBoolean:S_,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),Tw=Object.keys(C_);class uS extends ra{constructor(s,n,r,a){let i=-1;if(super(s,n),KM(this,"space",a),typeof r=="number")for(;++i<Tw.length;){const l=Tw[i];KM(this,Tw[i],(r&C_[l])===C_[l])}}}uS.prototype.defined=!0;function KM(t,s,n){n&&(t[s]=n)}function Qu(t){const s={},n={};for(const[r,a]of Object.entries(t.properties)){const i=new uS(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),s[r]=i,n[__(r)]=r,n[__(i.attribute)]=r}return new Ff(s,n,t.space)}const h7=Qu({properties:{ariaActiveDescendant:null,ariaAtomic:On,ariaAutoComplete:null,ariaBusy:On,ariaChecked:On,ariaColCount:mt,ariaColIndex:mt,ariaColSpan:mt,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:On,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:On,ariaFlowTo:nn,ariaGrabbed:On,ariaHasPopup:null,ariaHidden:On,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:mt,ariaLive:null,ariaModal:On,ariaMultiLine:On,ariaMultiSelectable:On,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:mt,ariaPressed:On,ariaReadOnly:On,ariaRelevant:null,ariaRequired:On,ariaRoleDescription:nn,ariaRowCount:mt,ariaRowIndex:mt,ariaRowSpan:mt,ariaSelected:On,ariaSetSize:mt,ariaSort:null,ariaValueMax:mt,ariaValueMin:mt,ariaValueNow:mt,ariaValueText:null,role:null},transform(t,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function m7(t,s){return s in t?t[s]:s}function f7(t,s){return m7(t,s.toLowerCase())}const mve=Qu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qd,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:hs,allowPaymentRequest:hs,allowUserMedia:hs,alt:null,as:null,async:hs,autoCapitalize:null,autoComplete:nn,autoFocus:hs,autoPlay:hs,blocking:nn,capture:null,charSet:null,checked:hs,cite:null,className:nn,cols:mt,colSpan:null,content:null,contentEditable:On,controls:hs,controlsList:nn,coords:mt|Qd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:hs,defer:hs,dir:null,dirName:null,disabled:hs,download:S_,draggable:On,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:hs,formTarget:null,headers:nn,height:mt,hidden:S_,high:mt,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:hs,inputMode:null,integrity:null,is:null,isMap:hs,itemId:null,itemProp:nn,itemRef:nn,itemScope:hs,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:hs,low:mt,manifest:null,max:null,maxLength:mt,media:null,method:null,min:null,minLength:mt,multiple:hs,muted:hs,name:null,nonce:null,noModule:hs,noValidate:hs,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:hs,optimum:mt,pattern:null,ping:nn,placeholder:null,playsInline:hs,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:hs,referrerPolicy:null,rel:nn,required:hs,reversed:hs,rows:mt,rowSpan:mt,sandbox:nn,scope:null,scoped:hs,seamless:hs,selected:hs,shadowRootClonable:hs,shadowRootDelegatesFocus:hs,shadowRootMode:null,shape:null,size:mt,sizes:null,slot:null,span:mt,spellCheck:On,src:null,srcDoc:null,srcLang:null,srcSet:null,start:mt,step:null,style:null,tabIndex:mt,target:null,title:null,translate:null,type:null,typeMustMatch:hs,useMap:null,value:On,width:mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:mt,borderColor:null,bottomMargin:mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:hs,declare:hs,event:null,face:null,frame:null,frameBorder:null,hSpace:mt,leftMargin:mt,link:null,longDesc:null,lowSrc:null,marginHeight:mt,marginWidth:mt,noResize:hs,noHref:hs,noShade:hs,noWrap:hs,object:null,profile:null,prompt:null,rev:null,rightMargin:mt,rules:null,scheme:null,scrolling:On,standby:null,summary:null,text:null,topMargin:mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:hs,disableRemotePlayback:hs,prefix:null,property:null,results:mt,security:null,unselectable:null},space:"html",transform:f7}),fve=Qu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ha,accentHeight:mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:mt,amplitude:mt,arabicForm:null,ascent:mt,attributeName:null,attributeType:null,azimuth:mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:mt,by:null,calcMode:null,capHeight:mt,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:mt,diffuseConstant:mt,direction:null,display:null,dur:null,divisor:mt,dominantBaseline:null,download:hs,dx:null,dy:null,edgeMode:null,editable:null,elevation:mt,enableBackground:null,end:null,event:null,exponent:mt,externalResourcesRequired:null,fill:null,fillOpacity:mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qd,g2:Qd,glyphName:Qd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:mt,horizOriginX:mt,horizOriginY:mt,id:null,ideographic:mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:mt,k:mt,k1:mt,k2:mt,k3:mt,k4:mt,kernelMatrix:ha,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:mt,overlineThickness:mt,paintOrder:null,panose1:null,path:null,pathLength:mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:mt,pointsAtY:mt,pointsAtZ:mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ha,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ha,rev:ha,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ha,requiredFeatures:ha,requiredFonts:ha,requiredFormats:ha,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:mt,specularExponent:mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:mt,strikethroughThickness:mt,string:null,stroke:null,strokeDashArray:ha,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:mt,strokeOpacity:mt,strokeWidth:null,style:null,surfaceScale:mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ha,tabIndex:mt,tableValues:null,target:null,targetX:mt,targetY:mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ha,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:mt,underlineThickness:mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:mt,values:null,vAlphabetic:mt,vMathematical:mt,vectorEffect:null,vHanging:mt,vIdeographic:mt,version:null,vertAdvY:mt,vertOriginX:mt,vertOriginY:mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:m7}),p7=Qu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,s){return"xlink:"+s.slice(5).toLowerCase()}}),x7=Qu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f7}),g7=Qu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,s){return"xml:"+s.slice(3).toLowerCase()}}),pve={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xve=/[A-Z]/g,YM=/-[a-z]/g,gve=/^data[-\w.:]+$/i;function vve(t,s){const n=__(s);let r=s,a=ra;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gve.test(s)){if(s.charAt(4)==="-"){const i=s.slice(5).replace(YM,bve);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=s.slice(4);if(!YM.test(i)){let l=i.replace(xve,yve);l.charAt(0)!=="-"&&(l="-"+l),s="data"+l}}a=uS}return new a(r,s)}function yve(t){return"-"+t.toLowerCase()}function bve(t){return t.charAt(1).toUpperCase()}const jve=u7([h7,mve,p7,x7,g7],"html"),hS=u7([h7,fve,p7,x7,g7],"svg");function wve(t){return t.join(" ").trim()}var Od={},Aw,QM;function Nve(){if(QM)return Aw;QM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,u="/",d="*",m="",h="comment",p="declaration";function g(v,j){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];j=j||{};var w=1,N=1;function _(F){var z=F.match(s);z&&(w+=z.length);var V=F.lastIndexOf(c);N=~V?F.length-V:N+F.length}function T(){var F={line:w,column:N};return function(z){return z.position=new A(F),R(),z}}function A(F){this.start=F,this.end={line:w,column:N},this.source=j.source}A.prototype.content=v;function P(F){var z=new Error(j.source+":"+w+":"+N+": "+F);if(z.reason=F,z.filename=j.source,z.line=w,z.column=N,z.source=v,!j.silent)throw z}function C(F){var z=F.exec(v);if(z){var V=z[0];return _(V),v=v.slice(V.length),z}}function R(){C(n)}function M(F){var z;for(F=F||[];z=k();)z!==!1&&F.push(z);return F}function k(){var F=T();if(!(u!=v.charAt(0)||d!=v.charAt(1))){for(var z=2;m!=v.charAt(z)&&(d!=v.charAt(z)||u!=v.charAt(z+1));)++z;if(z+=2,m===v.charAt(z-1))return P("End of comment missing");var V=v.slice(2,z-2);return N+=2,_(V),v=v.slice(z),N+=2,F({type:h,comment:V})}}function E(){var F=T(),z=C(r);if(z){if(k(),!C(a))return P("property missing ':'");var V=C(i),U=F({type:p,property:y(z[0].replace(t,m)),value:V?y(V[0].replace(t,m)):m});return C(l),U}}function O(){var F=[];M(F);for(var z;z=E();)z!==!1&&(F.push(z),M(F));return F}return R(),O()}function y(v){return v?v.replace(o,m):m}return Aw=g,Aw}var JM;function _ve(){if(JM)return Od;JM=1;var t=Od&&Od.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Od,"__esModule",{value:!0}),Od.default=n;const s=t(Nve());function n(r,a){let i=null;if(!r||typeof r!="string")return i;const l=(0,s.default)(r),o=typeof a=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:d}=c;o?a(u,d,c):d&&(i=i||{},i[u]=d)}),i}return Od}var Hh={},XM;function Sve(){if(XM)return Hh;XM=1,Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,s=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(u){return!u||n.test(u)||t.test(u)},l=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),i(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(a,o):u=u.replace(r,o),u.replace(s,l))};return Hh.camelCase=c,Hh}var Gh,ZM;function Cve(){if(ZM)return Gh;ZM=1;var t=Gh&&Gh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},s=t(_ve()),n=Sve();function r(a,i){var l={};return!a||typeof a!="string"||(0,s.default)(a,function(o,c){o&&c&&(l[(0,n.camelCase)(o,i)]=c)}),l}return r.default=r,Gh=r,Gh}var kve=Cve();const Eve=Bc(kve),v7=y7("end"),mS=y7("start");function y7(t){return s;function s(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Pve(t){const s=mS(t),n=v7(t);if(s&&n)return{start:s,end:n}}function xm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?eD(t.position):"start"in t||"end"in t?eD(t):"line"in t||"column"in t?k_(t):""}function k_(t){return tD(t&&t.line)+":"+tD(t&&t.column)}function eD(t){return k_(t&&t.start)+"-"+k_(t&&t.end)}function tD(t){return t&&typeof t=="number"?t:1}class gr extends Error{constructor(s,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof s=="string"?a=s:!i.cause&&s&&(l=!0,a=s.message,i.cause=s),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=xm(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}gr.prototype.file="";gr.prototype.name="";gr.prototype.reason="";gr.prototype.message="";gr.prototype.stack="";gr.prototype.column=void 0;gr.prototype.line=void 0;gr.prototype.ancestors=void 0;gr.prototype.cause=void 0;gr.prototype.fatal=void 0;gr.prototype.place=void 0;gr.prototype.ruleId=void 0;gr.prototype.source=void 0;const fS={}.hasOwnProperty,Tve=new Map,Ave=/[A-Z]/g,Mve=new Set(["table","tbody","thead","tfoot","tr"]),Dve=new Set(["td","th"]),b7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ove(t,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=s.filePath||void 0;let r;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=$ve(n,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=zve(n,s.jsx,s.jsxs)}const a={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:r,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?hS:jve,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},i=j7(a,t,void 0);return i&&typeof i!="string"?i:a.create(t,a.Fragment,{children:i||void 0},void 0)}function j7(t,s,n){if(s.type==="element")return Rve(t,s,n);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return Fve(t,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return Ive(t,s,n);if(s.type==="mdxjsEsm")return Lve(t,s);if(s.type==="root")return Bve(t,s,n);if(s.type==="text")return qve(t,s)}function Rve(t,s,n){const r=t.schema;let a=r;s.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=hS,t.schema=a),t.ancestors.push(s);const i=N7(t,s.tagName,!1),l=Uve(t,s);let o=xS(t,s);return Mve.has(s.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!uve(c):!0})),w7(t,l,i,s),pS(l,o),t.ancestors.pop(),t.schema=r,t.create(s,i,l,n)}function Fve(t,s){if(s.data&&s.data.estree&&t.evaluater){const r=s.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Hm(t,s.position)}function Lve(t,s){if(s.data&&s.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(s.data.estree);Hm(t,s.position)}function Ive(t,s,n){const r=t.schema;let a=r;s.name==="svg"&&r.space==="html"&&(a=hS,t.schema=a),t.ancestors.push(s);const i=s.name===null?t.Fragment:N7(t,s.name,!0),l=Vve(t,s),o=xS(t,s);return w7(t,l,i,s),pS(l,o),t.ancestors.pop(),t.schema=r,t.create(s,i,l,n)}function Bve(t,s,n){const r={};return pS(r,xS(t,s)),t.create(s,t.Fragment,r,n)}function qve(t,s){return s.value}function w7(t,s,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(s.node=r)}function pS(t,s){if(s.length>0){const n=s.length>1?s:s[0];n&&(t.children=n)}}function zve(t,s,n){return r;function r(a,i,l,o){const u=Array.isArray(l.children)?n:s;return o?u(i,l,o):u(i,l)}}function $ve(t,s){return n;function n(r,a,i,l){const o=Array.isArray(i.children),c=mS(r);return s(a,i,l,o,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function Uve(t,s){const n={};let r,a;for(a in s.properties)if(a!=="children"&&fS.call(s.properties,a)){const i=Wve(t,a,s.properties[a]);if(i){const[l,o]=i;t.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&Dve.has(s.tagName)?r=o:n[l]=o}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Vve(t,s){const n={};for(const r of s.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const o=l.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Hm(t,s.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,i=t.evaluater.evaluateExpression(o.expression)}else Hm(t,s.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function xS(t,s){const n=[];let r=-1;const a=t.passKeys?new Map:Tve;for(;++r<s.children.length;){const i=s.children[r];let l;if(t.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const u=a.get(c)||0;l=c+"-"+u,a.set(c,u+1)}}const o=j7(t,i,l);o!==void 0&&n.push(o)}return n}function Wve(t,s,n){const r=vve(t.schema,s);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ive(n):wve(n)),r.property==="style"){let a=typeof n=="object"?n:Hve(t,String(n));return t.stylePropertyNameCase==="css"&&(a=Gve(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?pve[r.property]||r.property:r.attribute,n]}}function Hve(t,s){try{return Eve(s,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new gr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=b7+"#cannot-parse-style-attribute",a}}function N7(t,s,n){let r;if(!n)r={type:"Literal",value:s};else if(s.includes(".")){const a=s.split(".");let i=-1,l;for(;++i<a.length;){const o=HM(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=l}else r=HM(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(r.type==="Literal"){const a=r.value;return fS.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);Hm(t)}function Hm(t,s){const n=new gr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=b7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Gve(t){const s={};let n;for(n in t)fS.call(t,n)&&(s[Kve(n)]=t[n]);return s}function Kve(t){let s=t.replace(Ave,Yve);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function Yve(t){return"-"+t.toLowerCase()}const Mw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Qve={};function Jve(t,s){const n=Qve,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _7(t,r,a)}function _7(t,s,n){if(Xve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(s&&"alt"in t&&t.alt)return t.alt;if("children"in t)return sD(t.children,s,n)}return Array.isArray(t)?sD(t,s,n):""}function sD(t,s,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=_7(t[a],s,n);return r.join("")}function Xve(t){return!!(t&&typeof t=="object")}const nD=document.createElement("i");function gS(t){const s="&"+t+";";nD.innerHTML=s;const n=nD.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===s?!1:n}function Hi(t,s,n,r){const a=t.length;let i=0,l;if(s<0?s=-s>a?0:a+s:s=s>a?a:s,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(s,n),t.splice(...l);else for(n&&t.splice(s,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(s,0),t.splice(...l),i+=1e4,s+=1e4}function Ra(t,s){return t.length>0?(Hi(t,t.length,0,s),t):s}const rD={}.hasOwnProperty;function Zve(t){const s={};let n=-1;for(;++n<t.length;)eye(s,t[n]);return s}function eye(t,s){let n;for(n in s){const a=(rD.call(t,n)?t[n]:void 0)||(t[n]={}),i=s[n];let l;if(i)for(l in i){rD.call(a,l)||(a[l]=[]);const o=i[l];tye(a[l],Array.isArray(o)?o:o?[o]:[])}}}function tye(t,s){let n=-1;const r=[];for(;++n<s.length;)(s[n].add==="after"?t:r).push(s[n]);Hi(t,0,0,r)}function S7(t,s){const n=Number.parseInt(t,s);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Jd(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ti=zo(/[A-Za-z]/),ga=zo(/[\dA-Za-z]/),sye=zo(/[#-'*+\--9=?A-Z^-~]/);function E_(t){return t!==null&&(t<32||t===127)}const P_=zo(/\d/),nye=zo(/[\dA-Fa-f]/),rye=zo(/[!-/:-@[-`{-~]/);function as(t){return t!==null&&t<-2}function Zr(t){return t!==null&&(t<0||t===32)}function $s(t){return t===-2||t===-1||t===32}const aye=zo(new RegExp("\\p{P}|\\p{S}","u")),iye=zo(/\s/);function zo(t){return s;function s(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ju(t){const s=[];let n=-1,r=0,a=0;for(;++n<t.length;){const i=t.charCodeAt(n);let l="";if(i===37&&ga(t.charCodeAt(n+1))&&ga(t.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const o=t.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(l=String.fromCharCode(i,o),a=1):l=""}else l=String.fromCharCode(i);l&&(s.push(t.slice(r,n),encodeURIComponent(l)),r=n+a+1,l=""),a&&(n+=a,a=0)}return s.join("")+t.slice(r)}function rn(t,s,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(c){return $s(c)?(t.enter(n),o(c)):s(c)}function o(c){return $s(c)&&i++<a?(t.consume(c),o):(t.exit(n),s(c))}}const lye={tokenize:oye};function oye(t){const s=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return s;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),rn(t,s,"linePrefix")}function a(o){return t.enter("paragraph"),i(o)}function i(o){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(o)}function l(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return as(o)?(t.consume(o),t.exit("chunkText"),i):(t.consume(o),l)}}const cye={tokenize:dye},aD={tokenize:uye};function dye(t){const s=this,n=[];let r=0,a,i,l;return o;function o(N){if(r<n.length){const _=n[r];return s.containerState=_[1],t.attempt(_[0].continuation,c,u)(N)}return u(N)}function c(N){if(r++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,a&&w();const _=s.events.length;let T=_,A;for(;T--;)if(s.events[T][0]==="exit"&&s.events[T][1].type==="chunkFlow"){A=s.events[T][1].end;break}j(r);let P=_;for(;P<s.events.length;)s.events[P][1].end={...A},P++;return Hi(s.events,T+1,0,s.events.slice(_)),s.events.length=P,u(N)}return o(N)}function u(N){if(r===n.length){if(!a)return h(N);if(a.currentConstruct&&a.currentConstruct.concrete)return g(N);s.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return s.containerState={},t.check(aD,d,m)(N)}function d(N){return a&&w(),j(r),h(N)}function m(N){return s.parser.lazy[s.now().line]=r!==n.length,l=s.now().offset,g(N)}function h(N){return s.containerState={},t.attempt(aD,p,g)(N)}function p(N){return r++,n.push([s.currentConstruct,s.containerState]),h(N)}function g(N){if(N===null){a&&w(),j(0),t.consume(N);return}return a=a||s.parser.flow(s.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(N)}function y(N){if(N===null){v(t.exit("chunkFlow"),!0),j(0),t.consume(N);return}return as(N)?(t.consume(N),v(t.exit("chunkFlow")),r=0,s.interrupt=void 0,o):(t.consume(N),y)}function v(N,_){const T=s.sliceStream(N);if(_&&T.push(null),N.previous=i,i&&(i.next=N),i=N,a.defineSkip(N.start),a.write(T),s.parser.lazy[N.start.line]){let A=a.events.length;for(;A--;)if(a.events[A][1].start.offset<l&&(!a.events[A][1].end||a.events[A][1].end.offset>l))return;const P=s.events.length;let C=P,R,M;for(;C--;)if(s.events[C][0]==="exit"&&s.events[C][1].type==="chunkFlow"){if(R){M=s.events[C][1].end;break}R=!0}for(j(r),A=P;A<s.events.length;)s.events[A][1].end={...M},A++;Hi(s.events,C+1,0,s.events.slice(P)),s.events.length=A}}function j(N){let _=n.length;for(;_-- >N;){const T=n[_];s.containerState=T[1],T[0].exit.call(s,t)}n.length=N}function w(){a.write([null]),i=void 0,a=void 0,s.containerState._closeFlow=void 0}}function uye(t,s,n){return rn(t,t.attempt(this.parser.constructs.document,s,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function iD(t){if(t===null||Zr(t)||iye(t))return 1;if(aye(t))return 2}function vS(t,s,n){const r=[];let a=-1;for(;++a<t.length;){const i=t[a].resolveAll;i&&!r.includes(i)&&(s=i(s,n),r.push(i))}return s}const T_={name:"attention",resolveAll:hye,tokenize:mye};function hye(t,s){let n=-1,r,a,i,l,o,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&s.sliceSerialize(t[r][1]).charCodeAt(0)===s.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},h={...t[n][1].start};lD(m,-c),lD(h,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},i={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},t[r][1].end={...l.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Ra(u,[["enter",t[r][1],s],["exit",t[r][1],s]])),u=Ra(u,[["enter",a,s],["enter",l,s],["exit",l,s],["enter",i,s]]),u=Ra(u,vS(s.parser.constructs.insideSpan.null,t.slice(r+1,n),s)),u=Ra(u,[["exit",i,s],["enter",o,s],["exit",o,s],["exit",a,s]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Ra(u,[["enter",t[n][1],s],["exit",t[n][1],s]])):d=0,Hi(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function mye(t,s){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=iD(r);let i;return l;function l(c){return i=c,t.enter("attentionSequence"),o(c)}function o(c){if(c===i)return t.consume(c),o;const u=t.exit("attentionSequence"),d=iD(c),m=!d||d===2&&a||n.includes(c),h=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?m:m&&(a||!h)),u._close=!!(i===42?h:h&&(d||!m)),s(c)}}function lD(t,s){t.column+=s,t.offset+=s,t._bufferIndex+=s}const fye={name:"autolink",tokenize:pye};function pye(t,s,n){let r=0;return a;function a(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(p){return Ti(p)?(t.consume(p),l):p===64?n(p):u(p)}function l(p){return p===43||p===45||p===46||ga(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||ga(p))&&r++<32?(t.consume(p),o):(r=0,u(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),s):p===null||p===32||p===60||E_(p)?n(p):(t.consume(p),c)}function u(p){return p===64?(t.consume(p),d):sye(p)?(t.consume(p),u):n(p)}function d(p){return ga(p)?m(p):n(p)}function m(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),s):h(p)}function h(p){if((p===45||ga(p))&&r++<63){const g=p===45?h:m;return t.consume(p),g}return n(p)}}const K0={partial:!0,tokenize:xye};function xye(t,s,n){return r;function r(i){return $s(i)?rn(t,a,"linePrefix")(i):a(i)}function a(i){return i===null||as(i)?s(i):n(i)}}const C7={continuation:{tokenize:vye},exit:yye,name:"blockQuote",tokenize:gye};function gye(t,s,n){const r=this;return a;function a(l){if(l===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),i}return n(l)}function i(l){return $s(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),s):(t.exit("blockQuotePrefix"),s(l))}}function vye(t,s,n){const r=this;return a;function a(l){return $s(l)?rn(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return t.attempt(C7,s,n)(l)}}function yye(t){t.exit("blockQuote")}const k7={name:"characterEscape",tokenize:bye};function bye(t,s,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),a}function a(i){return rye(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),s):n(i)}}const E7={name:"characterReference",tokenize:jye};function jye(t,s,n){const r=this;let a=0,i,l;return o;function o(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),i=31,l=ga,d(m))}function u(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,l=nye,d):(t.enter("characterReferenceValue"),i=7,l=P_,d(m))}function d(m){if(m===59&&a){const h=t.exit("characterReferenceValue");return l===ga&&!gS(r.sliceSerialize(h))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),s)}return l(m)&&a++<i?(t.consume(m),d):n(m)}}const oD={partial:!0,tokenize:Nye},cD={concrete:!0,name:"codeFenced",tokenize:wye};function wye(t,s,n){const r=this,a={partial:!0,tokenize:T};let i=0,l=0,o;return c;function c(A){return u(A)}function u(A){const P=r.events[r.events.length-1];return i=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(A)}function d(A){return A===o?(l++,t.consume(A),d):l<3?n(A):(t.exit("codeFencedFenceSequence"),$s(A)?rn(t,m,"whitespace")(A):m(A))}function m(A){return A===null||as(A)?(t.exit("codeFencedFence"),r.interrupt?s(A):t.check(oD,y,_)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||as(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(A)):$s(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),rn(t,p,"whitespace")(A)):A===96&&A===o?n(A):(t.consume(A),h)}function p(A){return A===null||as(A)?m(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(A))}function g(A){return A===null||as(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(A)):A===96&&A===o?n(A):(t.consume(A),g)}function y(A){return t.attempt(a,_,v)(A)}function v(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),j}function j(A){return i>0&&$s(A)?rn(t,w,"linePrefix",i+1)(A):w(A)}function w(A){return A===null||as(A)?t.check(oD,y,_)(A):(t.enter("codeFlowValue"),N(A))}function N(A){return A===null||as(A)?(t.exit("codeFlowValue"),w(A)):(t.consume(A),N)}function _(A){return t.exit("codeFenced"),s(A)}function T(A,P,C){let R=0;return M;function M(z){return A.enter("lineEnding"),A.consume(z),A.exit("lineEnding"),k}function k(z){return A.enter("codeFencedFence"),$s(z)?rn(A,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):E(z)}function E(z){return z===o?(A.enter("codeFencedFenceSequence"),O(z)):C(z)}function O(z){return z===o?(R++,A.consume(z),O):R>=l?(A.exit("codeFencedFenceSequence"),$s(z)?rn(A,F,"whitespace")(z):F(z)):C(z)}function F(z){return z===null||as(z)?(A.exit("codeFencedFence"),P(z)):C(z)}}}function Nye(t,s,n){const r=this;return a;function a(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):s(l)}}const Dw={name:"codeIndented",tokenize:Sye},_ye={partial:!0,tokenize:Cye};function Sye(t,s,n){const r=this;return a;function a(u){return t.enter("codeIndented"),rn(t,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?c(u):as(u)?t.attempt(_ye,l,c)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||as(u)?(t.exit("codeFlowValue"),l(u)):(t.consume(u),o)}function c(u){return t.exit("codeIndented"),s(u)}}function Cye(t,s,n){const r=this;return a;function a(l){return r.parser.lazy[r.now().line]?n(l):as(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):rn(t,i,"linePrefix",5)(l)}function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?s(l):as(l)?a(l):n(l)}}const kye={name:"codeText",previous:Pye,resolve:Eye,tokenize:Tye};function Eye(t){let s=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[s][1].type==="lineEnding"||t[s][1].type==="space")){for(r=n;++r<s;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[s][1].type="codeTextPadding",n+=2,s-=2;break}}for(r=n-1,s++;++r<=s;)a===void 0?r!==s&&t[r][1].type!=="lineEnding"&&(a=r):(r===s||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),s-=r-a-2,r=a+2),a=void 0);return t}function Pye(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Tye(t,s,n){let r=0,a,i;return l;function l(m){return t.enter("codeText"),t.enter("codeTextSequence"),o(m)}function o(m){return m===96?(t.consume(m),r++,o):(t.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),c):m===96?(i=t.enter("codeTextSequence"),a=0,d(m)):as(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(m))}function u(m){return m===null||m===32||m===96||as(m)?(t.exit("codeTextData"),c(m)):(t.consume(m),u)}function d(m){return m===96?(t.consume(m),a++,d):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),s(m)):(i.type="codeTextData",u(m))}}class Aye{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(s,r):s>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(s,n,r){const a=n||0;this.setCursor(Math.trunc(s));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Kh(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),Kh(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),Kh(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const n=this.left.splice(s,Number.POSITIVE_INFINITY);Kh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);Kh(this.left,n.reverse())}}}function Kh(t,s){let n=0;if(s.length<1e4)t.push(...s);else for(;n<s.length;)t.push(...s.slice(n,n+1e4)),n+=1e4}function P7(t){const s={};let n=-1,r,a,i,l,o,c,u;const d=new Aye(t);for(;++n<d.length;){for(;n in s;)n=s[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(s,Mye(d,n)),n=s[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(l=d.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},o=d.slice(a,n),o.unshift(r),d.splice(a,n-a+1,o))}}return Hi(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Mye(t,s){const n=t.get(s)[1],r=t.get(s)[2];let a=s-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,c=[],u={};let d,m,h=-1,p=n,g=0,y=0;const v=[y];for(;p;){for(;t.get(++a)[1]!==p;);i.push(a),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),m&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(d),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(y=h+1,v.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const j=o.slice(v[h],v[h+1]),w=i.pop();c.push([w,w+j.length-1]),t.splice(w,2,j)}for(c.reverse(),h=-1;++h<c.length;)u[g+c[h][0]]=g+c[h][1],g+=c[h][1]-c[h][0]-1;return u}const Dye={resolve:Rye,tokenize:Fye},Oye={partial:!0,tokenize:Lye};function Rye(t){return P7(t),t}function Fye(t,s){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):as(o)?t.check(Oye,l,i)(o):(t.consume(o),a)}function i(o){return t.exit("chunkContent"),t.exit("content"),s(o)}function l(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Lye(t,s,n){const r=this;return a;function a(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),rn(t,i,"linePrefix")}function i(l){if(l===null||as(l))return n(l);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?s(l):t.interrupt(r.parser.constructs.flow,n,s)(l)}}function T7(t,s,n,r,a,i,l,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(j){return j===60?(t.enter(r),t.enter(a),t.enter(i),t.consume(j),t.exit(i),h):j===null||j===32||j===41||E_(j)?n(j):(t.enter(r),t.enter(l),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(j))}function h(j){return j===62?(t.enter(i),t.consume(j),t.exit(i),t.exit(a),t.exit(r),s):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===62?(t.exit("chunkString"),t.exit(o),h(j)):j===null||j===60||as(j)?n(j):(t.consume(j),j===92?g:p)}function g(j){return j===60||j===62||j===92?(t.consume(j),p):p(j)}function y(j){return!d&&(j===null||j===41||Zr(j))?(t.exit("chunkString"),t.exit(o),t.exit(l),t.exit(r),s(j)):d<u&&j===40?(t.consume(j),d++,y):j===41?(t.consume(j),d--,y):j===null||j===32||j===40||E_(j)?n(j):(t.consume(j),j===92?v:y)}function v(j){return j===40||j===41||j===92?(t.consume(j),y):y(j)}}function A7(t,s,n,r,a,i){const l=this;let o=0,c;return u;function u(p){return t.enter(r),t.enter(a),t.consume(p),t.exit(a),t.enter(i),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?n(p):p===93?(t.exit(i),t.enter(a),t.consume(p),t.exit(a),t.exit(r),s):as(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===null||p===91||p===93||as(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),c||(c=!$s(p)),p===92?h:m)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,m):m(p)}}function M7(t,s,n,r,a,i){let l;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(a),t.consume(h),t.exit(a),l=h===40?41:h,c):n(h)}function c(h){return h===l?(t.enter(a),t.consume(h),t.exit(a),t.exit(r),s):(t.enter(i),u(h))}function u(h){return h===l?(t.exit(i),c(l)):h===null?n(h):as(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),rn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===l||h===null||as(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?m:d)}function m(h){return h===l||h===92?(t.consume(h),d):d(h)}}function gm(t,s){let n;return r;function r(a){return as(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):$s(a)?rn(t,r,n?"linePrefix":"lineSuffix")(a):s(a)}}const Iye={name:"definition",tokenize:qye},Bye={partial:!0,tokenize:zye};function qye(t,s,n){const r=this;let a;return i;function i(p){return t.enter("definition"),l(p)}function l(p){return A7.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return a=Jd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return Zr(p)?gm(t,u)(p):u(p)}function u(p){return T7(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(Bye,m,m)(p)}function m(p){return $s(p)?rn(t,h,"whitespace")(p):h(p)}function h(p){return p===null||as(p)?(t.exit("definition"),r.parser.defined.push(a),s(p)):n(p)}}function zye(t,s,n){return r;function r(o){return Zr(o)?gm(t,a)(o):n(o)}function a(o){return M7(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return $s(o)?rn(t,l,"whitespace")(o):l(o)}function l(o){return o===null||as(o)?s(o):n(o)}}const $ye={name:"hardBreakEscape",tokenize:Uye};function Uye(t,s,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),a}function a(i){return as(i)?(t.exit("hardBreakEscape"),s(i)):n(i)}}const Vye={name:"headingAtx",resolve:Wye,tokenize:Hye};function Wye(t,s){let n=t.length-2,r=3,a,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Hi(t,r,n-r+1,[["enter",a,s],["enter",i,s],["exit",i,s],["exit",a,s]])),t}function Hye(t,s,n){let r=0;return a;function a(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),l(d)}function l(d){return d===35&&r++<6?(t.consume(d),l):d===null||Zr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||as(d)?(t.exit("atxHeading"),s(d)):$s(d)?rn(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Zr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const Gye=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],dD=["pre","script","style","textarea"],Kye={concrete:!0,name:"htmlFlow",resolveTo:Jye,tokenize:Xye},Yye={partial:!0,tokenize:ebe},Qye={partial:!0,tokenize:Zye};function Jye(t){let s=t.length;for(;s--&&!(t[s][0]==="enter"&&t[s][1].type==="htmlFlow"););return s>1&&t[s-2][1].type==="linePrefix"&&(t[s][1].start=t[s-2][1].start,t[s+1][1].start=t[s-2][1].start,t.splice(s-2,2)),t}function Xye(t,s,n){const r=this;let a,i,l,o,c;return u;function u(q){return d(q)}function d(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),m}function m(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),i=!0,y):q===63?(t.consume(q),a=3,r.interrupt?s:L):Ti(q)?(t.consume(q),l=String.fromCharCode(q),v):n(q)}function h(q){return q===45?(t.consume(q),a=2,p):q===91?(t.consume(q),a=5,o=0,g):Ti(q)?(t.consume(q),a=4,r.interrupt?s:L):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?s:L):n(q)}function g(q){const Z="CDATA[";return q===Z.charCodeAt(o++)?(t.consume(q),o===Z.length?r.interrupt?s:E:g):n(q)}function y(q){return Ti(q)?(t.consume(q),l=String.fromCharCode(q),v):n(q)}function v(q){if(q===null||q===47||q===62||Zr(q)){const Z=q===47,J=l.toLowerCase();return!Z&&!i&&dD.includes(J)?(a=1,r.interrupt?s(q):E(q)):Gye.includes(l.toLowerCase())?(a=6,Z?(t.consume(q),j):r.interrupt?s(q):E(q)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):i?w(q):N(q))}return q===45||ga(q)?(t.consume(q),l+=String.fromCharCode(q),v):n(q)}function j(q){return q===62?(t.consume(q),r.interrupt?s:E):n(q)}function w(q){return $s(q)?(t.consume(q),w):M(q)}function N(q){return q===47?(t.consume(q),M):q===58||q===95||Ti(q)?(t.consume(q),_):$s(q)?(t.consume(q),N):M(q)}function _(q){return q===45||q===46||q===58||q===95||ga(q)?(t.consume(q),_):T(q)}function T(q){return q===61?(t.consume(q),A):$s(q)?(t.consume(q),T):N(q)}function A(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),c=q,P):$s(q)?(t.consume(q),A):C(q)}function P(q){return q===c?(t.consume(q),c=null,R):q===null||as(q)?n(q):(t.consume(q),P)}function C(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||Zr(q)?T(q):(t.consume(q),C)}function R(q){return q===47||q===62||$s(q)?N(q):n(q)}function M(q){return q===62?(t.consume(q),k):n(q)}function k(q){return q===null||as(q)?E(q):$s(q)?(t.consume(q),k):n(q)}function E(q){return q===45&&a===2?(t.consume(q),V):q===60&&a===1?(t.consume(q),U):q===62&&a===4?(t.consume(q),I):q===63&&a===3?(t.consume(q),L):q===93&&a===5?(t.consume(q),$):as(q)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Yye,W,O)(q)):q===null||as(q)?(t.exit("htmlFlowData"),O(q)):(t.consume(q),E)}function O(q){return t.check(Qye,F,W)(q)}function F(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),z}function z(q){return q===null||as(q)?O(q):(t.enter("htmlFlowData"),E(q))}function V(q){return q===45?(t.consume(q),L):E(q)}function U(q){return q===47?(t.consume(q),l="",B):E(q)}function B(q){if(q===62){const Z=l.toLowerCase();return dD.includes(Z)?(t.consume(q),I):E(q)}return Ti(q)&&l.length<8?(t.consume(q),l+=String.fromCharCode(q),B):E(q)}function $(q){return q===93?(t.consume(q),L):E(q)}function L(q){return q===62?(t.consume(q),I):q===45&&a===2?(t.consume(q),L):E(q)}function I(q){return q===null||as(q)?(t.exit("htmlFlowData"),W(q)):(t.consume(q),I)}function W(q){return t.exit("htmlFlow"),s(q)}}function Zye(t,s,n){const r=this;return a;function a(l){return as(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):s(l)}}function ebe(t,s,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(K0,s,n)}}const tbe={name:"htmlText",tokenize:sbe};function sbe(t,s,n){const r=this;let a,i,l;return o;function o(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),c}function c(L){return L===33?(t.consume(L),u):L===47?(t.consume(L),T):L===63?(t.consume(L),N):Ti(L)?(t.consume(L),C):n(L)}function u(L){return L===45?(t.consume(L),d):L===91?(t.consume(L),i=0,g):Ti(L)?(t.consume(L),w):n(L)}function d(L){return L===45?(t.consume(L),p):n(L)}function m(L){return L===null?n(L):L===45?(t.consume(L),h):as(L)?(l=m,U(L)):(t.consume(L),m)}function h(L){return L===45?(t.consume(L),p):m(L)}function p(L){return L===62?V(L):L===45?h(L):m(L)}function g(L){const I="CDATA[";return L===I.charCodeAt(i++)?(t.consume(L),i===I.length?y:g):n(L)}function y(L){return L===null?n(L):L===93?(t.consume(L),v):as(L)?(l=y,U(L)):(t.consume(L),y)}function v(L){return L===93?(t.consume(L),j):y(L)}function j(L){return L===62?V(L):L===93?(t.consume(L),j):y(L)}function w(L){return L===null||L===62?V(L):as(L)?(l=w,U(L)):(t.consume(L),w)}function N(L){return L===null?n(L):L===63?(t.consume(L),_):as(L)?(l=N,U(L)):(t.consume(L),N)}function _(L){return L===62?V(L):N(L)}function T(L){return Ti(L)?(t.consume(L),A):n(L)}function A(L){return L===45||ga(L)?(t.consume(L),A):P(L)}function P(L){return as(L)?(l=P,U(L)):$s(L)?(t.consume(L),P):V(L)}function C(L){return L===45||ga(L)?(t.consume(L),C):L===47||L===62||Zr(L)?R(L):n(L)}function R(L){return L===47?(t.consume(L),V):L===58||L===95||Ti(L)?(t.consume(L),M):as(L)?(l=R,U(L)):$s(L)?(t.consume(L),R):V(L)}function M(L){return L===45||L===46||L===58||L===95||ga(L)?(t.consume(L),M):k(L)}function k(L){return L===61?(t.consume(L),E):as(L)?(l=k,U(L)):$s(L)?(t.consume(L),k):R(L)}function E(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),a=L,O):as(L)?(l=E,U(L)):$s(L)?(t.consume(L),E):(t.consume(L),F)}function O(L){return L===a?(t.consume(L),a=void 0,z):L===null?n(L):as(L)?(l=O,U(L)):(t.consume(L),O)}function F(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||Zr(L)?R(L):(t.consume(L),F)}function z(L){return L===47||L===62||Zr(L)?R(L):n(L)}function V(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),s):n(L)}function U(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),B}function B(L){return $s(L)?rn(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):$(L)}function $(L){return t.enter("htmlTextData"),l(L)}}const yS={name:"labelEnd",resolveAll:ibe,resolveTo:lbe,tokenize:obe},nbe={tokenize:cbe},rbe={tokenize:dbe},abe={tokenize:ube};function ibe(t){let s=-1;const n=[];for(;++s<t.length;){const r=t[s][1];if(n.push(t[s]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",s+=a}}return t.length!==n.length&&Hi(t,0,t.length,n),t}function lbe(t,s){let n=t.length,r=0,a,i,l,o;for(;n--;)if(a=t[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(l=n);const c={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[i][1].start},end:{...t[l][1].end}},d={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[l-2][1].start}};return o=[["enter",c,s],["enter",u,s]],o=Ra(o,t.slice(i+1,i+r+3)),o=Ra(o,[["enter",d,s]]),o=Ra(o,vS(s.parser.constructs.insideSpan.null,t.slice(i+r+4,l-3),s)),o=Ra(o,[["exit",d,s],t[l-2],t[l-1],["exit",u,s]]),o=Ra(o,t.slice(l+1)),o=Ra(o,[["exit",c,s]]),Hi(t,i,t.length,o),t}function obe(t,s,n){const r=this;let a=r.events.length,i,l;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(h){return i?i._inactive?m(h):(l=r.parser.defined.includes(Jd(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),c):n(h)}function c(h){return h===40?t.attempt(nbe,d,l?d:m)(h):h===91?t.attempt(rbe,d,l?u:m)(h):l?d(h):m(h)}function u(h){return t.attempt(abe,d,m)(h)}function d(h){return s(h)}function m(h){return i._balanced=!0,n(h)}}function cbe(t,s,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),a}function a(m){return Zr(m)?gm(t,i)(m):i(m)}function i(m){return m===41?d(m):T7(t,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Zr(m)?gm(t,c)(m):d(m)}function o(m){return n(m)}function c(m){return m===34||m===39||m===40?M7(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function u(m){return Zr(m)?gm(t,d)(m):d(m)}function d(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),s):n(m)}}function dbe(t,s,n){const r=this;return a;function a(o){return A7.call(r,t,i,l,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(Jd(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?s(o):n(o)}function l(o){return n(o)}}function ube(t,s,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),a}function a(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),s):n(i)}}const hbe={name:"labelStartImage",resolveAll:yS.resolveAll,tokenize:mbe};function mbe(t,s,n){const r=this;return a;function a(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),i}function i(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),l):n(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):s(o)}}const fbe={name:"labelStartLink",resolveAll:yS.resolveAll,tokenize:pbe};function pbe(t,s,n){const r=this;return a;function a(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):s(l)}}const Ow={name:"lineEnding",tokenize:xbe};function xbe(t,s){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),rn(t,s,"linePrefix")}}const Vx={name:"thematicBreak",tokenize:gbe};function gbe(t,s,n){let r=0,a;return i;function i(u){return t.enter("thematicBreak"),l(u)}function l(u){return a=u,o(u)}function o(u){return u===a?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||as(u))?(t.exit("thematicBreak"),s(u)):n(u)}function c(u){return u===a?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),$s(u)?rn(t,o,"whitespace")(u):o(u))}}const Vr={continuation:{tokenize:jbe},exit:Nbe,name:"list",tokenize:bbe},vbe={partial:!0,tokenize:_be},ybe={partial:!0,tokenize:wbe};function bbe(t,s,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return o;function o(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:P_(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Vx,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return P_(p)&&++l<10?(t.consume(p),c):(!r.interrupt||l<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(K0,r.interrupt?n:d,t.attempt(vbe,h,m))}function d(p){return r.containerState.initialBlankLine=!0,i++,h(p)}function m(p){return $s(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,s(p)}}function jbe(t,s,n){const r=this;return r.containerState._closeFlow=void 0,t.check(K0,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rn(t,s,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!$s(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ybe,s,l)(o))}function l(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,rn(t,t.attempt(Vr,s,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function wbe(t,s,n){const r=this;return rn(t,a,"listItemIndent",r.containerState.size+1);function a(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?s(i):n(i)}}function Nbe(t){t.exit(this.containerState.type)}function _be(t,s,n){const r=this;return rn(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const l=r.events[r.events.length-1];return!$s(i)&&l&&l[1].type==="listItemPrefixWhitespace"?s(i):n(i)}}const uD={name:"setextUnderline",resolveTo:Sbe,tokenize:Cbe};function Sbe(t,s){let n=t.length,r,a,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",i?(t.splice(a,0,["enter",l,s]),t.splice(i+1,0,["exit",t[r][1],s]),t[r][1].end={...t[i][1].end}):t[r][1]=l,t.push(["exit",l,s]),t}function Cbe(t,s,n){const r=this;let a;return i;function i(u){let d=r.events.length,m;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){m=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),a=u,l(u)):n(u)}function l(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),$s(u)?rn(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||as(u)?(t.exit("setextHeadingLine"),s(u)):n(u)}}const kbe={tokenize:Ebe};function Ebe(t){const s=this,n=t.attempt(K0,r,t.attempt(this.parser.constructs.flowInitial,a,rn(t,t.attempt(this.parser.constructs.flow,a,t.attempt(Dye,a)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),s.currentConstruct=void 0,n}function a(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s.currentConstruct=void 0,n}}const Pbe={resolveAll:O7()},Tbe=D7("string"),Abe=D7("text");function D7(t){return{resolveAll:O7(t==="text"?Mbe:void 0),tokenize:s};function s(n){const r=this,a=this.parser.constructs[t],i=n.attempt(a,l,o);return l;function l(d){return u(d)?i(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const m=a[d];let h=-1;if(m)for(;++h<m.length;){const p=m[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function O7(t){return s;function s(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return t?t(n,r):n}}function Mbe(t,s){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=s.sliceStream(r);let i=a.length,l=-1,o=0,c;for(;i--;){const u=a[i];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)c=!0,o++;else if(u!==-1){i++;break}}if(s._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,s],["exit",u,s]),n+=2)}n++}return t}const Dbe={42:Vr,43:Vr,45:Vr,48:Vr,49:Vr,50:Vr,51:Vr,52:Vr,53:Vr,54:Vr,55:Vr,56:Vr,57:Vr,62:C7},Obe={91:Iye},Rbe={[-2]:Dw,[-1]:Dw,32:Dw},Fbe={35:Vye,42:Vx,45:[uD,Vx],60:Kye,61:uD,95:Vx,96:cD,126:cD},Lbe={38:E7,92:k7},Ibe={[-5]:Ow,[-4]:Ow,[-3]:Ow,33:hbe,38:E7,42:T_,60:[fye,tbe],91:fbe,92:[$ye,k7],93:yS,95:T_,96:kye},Bbe={null:[T_,Pbe]},qbe={null:[42,95]},zbe={null:[]},$be=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qbe,contentInitial:Obe,disable:zbe,document:Dbe,flow:Fbe,flowInitial:Rbe,insideSpan:Bbe,string:Lbe,text:Ibe},Symbol.toStringTag,{value:"Module"}));function Ube(t,s,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let l=[],o=[];const c={attempt:P(T),check:P(A),consume:w,enter:N,exit:_,interrupt:P(A,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:m};let d=s.tokenize.call(u,c);return s.resolveAll&&i.push(s),u;function m(k){return l=Ra(l,k),v(),l[l.length-1]!==null?[]:(C(s,0),u.events=vS(i,u.events,u),u.events)}function h(k,E){return Wbe(p(k),E)}function p(k){return Vbe(l,k)}function g(){const{_bufferIndex:k,_index:E,line:O,column:F,offset:z}=r;return{_bufferIndex:k,_index:E,line:O,column:F,offset:z}}function y(k){a[k.line]=k.column,M()}function v(){let k;for(;r._index<l.length;){const E=l[r._index];if(typeof E=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<E.length;)j(E.charCodeAt(r._bufferIndex));else j(E)}}function j(k){d=d(k)}function w(k){as(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,M()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=k}function N(k,E){const O=E||{};return O.type=k,O.start=g(),u.events.push(["enter",O,u]),o.push(O),O}function _(k){const E=o.pop();return E.end=g(),u.events.push(["exit",E,u]),E}function T(k,E){C(k,E.from)}function A(k,E){E.restore()}function P(k,E){return O;function O(F,z,V){let U,B,$,L;return Array.isArray(F)?W(F):"tokenize"in F?W([F]):I(F);function I(Q){return G;function G(ae){const se=ae!==null&&Q[ae],de=ae!==null&&Q.null,ue=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(de)?de:de?[de]:[]];return W(ue)(ae)}}function W(Q){return U=Q,B=0,Q.length===0?V:q(Q[B])}function q(Q){return G;function G(ae){return L=R(),$=Q,Q.partial||(u.currentConstruct=Q),Q.name&&u.parser.constructs.disable.null.includes(Q.name)?J():Q.tokenize.call(E?Object.assign(Object.create(u),E):u,c,Z,J)(ae)}}function Z(Q){return k($,L),z}function J(Q){return L.restore(),++B<U.length?q(U[B]):V}}}function C(k,E){k.resolveAll&&!i.includes(k)&&i.push(k),k.resolve&&Hi(u.events,E,u.events.length-E,k.resolve(u.events.slice(E),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function R(){const k=g(),E=u.previous,O=u.currentConstruct,F=u.events.length,z=Array.from(o);return{from:F,restore:V};function V(){r=k,u.previous=E,u.currentConstruct=O,u.events.length=F,o=z,M()}}function M(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Vbe(t,s){const n=s.start._index,r=s.start._bufferIndex,a=s.end._index,i=s.end._bufferIndex;let l;if(n===a)l=[t[n].slice(r,i)];else{if(l=t.slice(n,a),r>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(r):l.shift()}i>0&&l.push(t[a].slice(0,i))}return l}function Wbe(t,s){let n=-1;const r=[];let a;for(;++n<t.length;){const i=t[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=s?" ":"	";break}case-1:{if(!s&&a)continue;l=" ";break}default:l=String.fromCharCode(i)}a=i===-2,r.push(l)}return r.join("")}function Hbe(t){const r={constructs:Zve([$be,...(t||{}).extensions||[]]),content:a(lye),defined:[],document:a(cye),flow:a(kbe),lazy:{},string:a(Tbe),text:a(Abe)};return r;function a(i){return l;function l(o){return Ube(r,i,o)}}}function Gbe(t){for(;!P7(t););return t}const hD=/[\0\t\n\r]/g;function Kbe(){let t=1,s="",n=!0,r;return a;function a(i,l,o){const c=[];let u,d,m,h,p;for(i=s+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),m=0,s="",n&&(i.charCodeAt(0)===65279&&m++,n=void 0);m<i.length;){if(hD.lastIndex=m,u=hD.exec(i),h=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(h),!u){s=i.slice(m);break}if(p===10&&m===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<h&&(c.push(i.slice(m,h)),t+=h-m),p){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}m=h+1}return o&&(r&&c.push(-5),s&&c.push(s),c.push(null)),c}}const Ybe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Qbe(t){return t.replace(Ybe,Jbe)}function Jbe(t,s,n){if(s)return s;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return S7(n.slice(i?2:1),i?16:10)}return gS(n)||t}const R7={}.hasOwnProperty;function Xbe(t,s,n){return typeof s!="string"&&(n=s,s=void 0),Zbe(n)(Gbe(Hbe(n).document().write(Kbe()(t,s,!0))))}function Zbe(t){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Se),autolinkProtocol:R,autolinkEmail:R,atxHeading:i(je),blockQuote:i(de),characterEscape:R,characterReference:R,codeFenced:i(ue),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(ue,l),codeText:i(oe,l),codeTextData:R,data:R,codeFlowValue:R,definition:i(pe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(be),hardBreakEscape:i(Be),hardBreakTrailing:i(Be),htmlFlow:i(qe,l),htmlFlowData:R,htmlText:i(qe,l),htmlTextData:R,image:i(ke),label:l,link:i(Se),listItem:i(Ke),listItemValue:h,listOrdered:i(Ge,m),listUnordered:i(Ge),paragraph:i(Me),reference:q,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(je),strong:i(it),thematicBreak:i(at)},exit:{atxHeading:c(),atxHeadingSequence:T,autolink:c(),autolinkEmail:se,autolinkProtocol:ae,blockQuote:c(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:Q,characterReference:G,codeFenced:c(v),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:M,codeIndented:c(j),codeText:c(z),codeTextData:M,data:M,definition:c(),definitionDestinationString:_,definitionLabelString:w,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(E),hardBreakTrailing:c(E),htmlFlow:c(O),htmlFlowData:M,htmlText:c(F),htmlTextData:M,image:c(U),label:$,labelText:B,lineEnding:k,link:c(V),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Z,resourceDestinationString:L,resourceTitleString:I,resource:W,setextHeading:c(C),setextHeadingLineSequence:P,setextHeadingText:A,strong:c(),thematicBreak:c()}};F7(s,(t||{}).mdastExtensions||[]);const n={};return r;function r(Ne){let ze={type:"root",children:[]};const nt={stack:[ze],tokenStack:[],config:s,enter:o,exit:u,buffer:l,resume:d,data:n},dt=[];let lt=-1;for(;++lt<Ne.length;)if(Ne[lt][1].type==="listOrdered"||Ne[lt][1].type==="listUnordered")if(Ne[lt][0]==="enter")dt.push(lt);else{const Ot=dt.pop();lt=a(Ne,Ot,lt)}for(lt=-1;++lt<Ne.length;){const Ot=s[Ne[lt][0]];R7.call(Ot,Ne[lt][1].type)&&Ot[Ne[lt][1].type].call(Object.assign({sliceSerialize:Ne[lt][2].sliceSerialize},nt),Ne[lt][1])}if(nt.tokenStack.length>0){const Ot=nt.tokenStack[nt.tokenStack.length-1];(Ot[1]||mD).call(nt,void 0,Ot[0])}for(ze.position={start:uo(Ne.length>0?Ne[0][1].start:{line:1,column:1,offset:0}),end:uo(Ne.length>0?Ne[Ne.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<s.transforms.length;)ze=s.transforms[lt](ze)||ze;return ze}function a(Ne,ze,nt){let dt=ze-1,lt=-1,Ot=!1,Xt,Ls,Ns,ln;for(;++dt<=nt;){const Yt=Ne[dt];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?lt++:lt--,ln=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(Xt&&!ln&&!lt&&!Ns&&(Ns=dt),ln=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ln=void 0}if(!lt&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||lt===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(Xt){let fn=dt;for(Ls=void 0;fn--;){const As=Ne[fn];if(As[1].type==="lineEnding"||As[1].type==="lineEndingBlank"){if(As[0]==="exit")continue;Ls&&(Ne[Ls][1].type="lineEndingBlank",Ot=!0),As[1].type="lineEnding",Ls=fn}else if(!(As[1].type==="linePrefix"||As[1].type==="blockQuotePrefix"||As[1].type==="blockQuotePrefixWhitespace"||As[1].type==="blockQuoteMarker"||As[1].type==="listItemIndent"))break}Ns&&(!Ls||Ns<Ls)&&(Xt._spread=!0),Xt.end=Object.assign({},Ls?Ne[Ls][1].start:Yt[1].end),Ne.splice(Ls||dt,0,["exit",Xt,Yt[2]]),dt++,nt++}if(Yt[1].type==="listItemPrefix"){const fn={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};Xt=fn,Ne.splice(dt,0,["enter",fn,Yt[2]]),dt++,nt++,Ns=void 0,ln=!0}}}return Ne[ze][1]._spread=Ot,nt}function i(Ne,ze){return nt;function nt(dt){o.call(this,Ne(dt),dt),ze&&ze.call(this,dt)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(Ne,ze,nt){this.stack[this.stack.length-1].children.push(Ne),this.stack.push(Ne),this.tokenStack.push([ze,nt||void 0]),Ne.position={start:uo(ze.start),end:void 0}}function c(Ne){return ze;function ze(nt){Ne&&Ne.call(this,nt),u.call(this,nt)}}function u(Ne,ze){const nt=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==Ne.type&&(ze?ze.call(this,Ne,dt[0]):(dt[1]||mD).call(this,Ne,dt[0]));else throw new Error("Cannot close `"+Ne.type+"` ("+xm({start:Ne.start,end:Ne.end})+"): its not open");nt.position.end=uo(Ne.end)}function d(){return Jve(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function h(Ne){if(this.data.expectingFirstListItemValue){const ze=this.stack[this.stack.length-2];ze.start=Number.parseInt(this.sliceSerialize(Ne),10),this.data.expectingFirstListItemValue=void 0}}function p(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.lang=Ne}function g(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.meta=Ne}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ne.replace(/(\r?\n|\r)$/g,"")}function w(Ne){const ze=this.resume(),nt=this.stack[this.stack.length-1];nt.label=ze,nt.identifier=Jd(this.sliceSerialize(Ne)).toLowerCase()}function N(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.title=Ne}function _(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.url=Ne}function T(Ne){const ze=this.stack[this.stack.length-1];if(!ze.depth){const nt=this.sliceSerialize(Ne).length;ze.depth=nt}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function P(Ne){const ze=this.stack[this.stack.length-1];ze.depth=this.sliceSerialize(Ne).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function R(Ne){const nt=this.stack[this.stack.length-1].children;let dt=nt[nt.length-1];(!dt||dt.type!=="text")&&(dt=_e(),dt.position={start:uo(Ne.start),end:void 0},nt.push(dt)),this.stack.push(dt)}function M(Ne){const ze=this.stack.pop();ze.value+=this.sliceSerialize(Ne),ze.position.end=uo(Ne.end)}function k(Ne){const ze=this.stack[this.stack.length-1];if(this.data.atHardBreak){const nt=ze.children[ze.children.length-1];nt.position.end=uo(Ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(ze.type)&&(R.call(this,Ne),M.call(this,Ne))}function E(){this.data.atHardBreak=!0}function O(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ne}function F(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ne}function z(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ne}function V(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=ze,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function U(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=ze,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function B(Ne){const ze=this.sliceSerialize(Ne),nt=this.stack[this.stack.length-2];nt.label=Qbe(ze),nt.identifier=Jd(ze).toLowerCase()}function $(){const Ne=this.stack[this.stack.length-1],ze=this.resume(),nt=this.stack[this.stack.length-1];if(this.data.inReference=!0,nt.type==="link"){const dt=Ne.children;nt.children=dt}else nt.alt=ze}function L(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.url=Ne}function I(){const Ne=this.resume(),ze=this.stack[this.stack.length-1];ze.title=Ne}function W(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function Z(Ne){const ze=this.resume(),nt=this.stack[this.stack.length-1];nt.label=ze,nt.identifier=Jd(this.sliceSerialize(Ne)).toLowerCase(),this.data.referenceType="full"}function J(Ne){this.data.characterReferenceType=Ne.type}function Q(Ne){const ze=this.sliceSerialize(Ne),nt=this.data.characterReferenceType;let dt;nt?(dt=S7(ze,nt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=gS(ze);const lt=this.stack[this.stack.length-1];lt.value+=dt}function G(Ne){const ze=this.stack.pop();ze.position.end=uo(Ne.end)}function ae(Ne){M.call(this,Ne);const ze=this.stack[this.stack.length-1];ze.url=this.sliceSerialize(Ne)}function se(Ne){M.call(this,Ne);const ze=this.stack[this.stack.length-1];ze.url="mailto:"+this.sliceSerialize(Ne)}function de(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function je(){return{type:"heading",depth:0,children:[]}}function Be(){return{type:"break"}}function qe(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function Se(){return{type:"link",title:null,url:"",children:[]}}function Ge(Ne){return{type:"list",ordered:Ne.type==="listOrdered",start:null,spread:Ne._spread,children:[]}}function Ke(Ne){return{type:"listItem",spread:Ne._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function it(){return{type:"strong",children:[]}}function _e(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function uo(t){return{line:t.line,column:t.column,offset:t.offset}}function F7(t,s){let n=-1;for(;++n<s.length;){const r=s[n];Array.isArray(r)?F7(t,r):eje(t,r)}}function eje(t,s){let n;for(n in s)if(R7.call(s,n))switch(n){case"canContainEols":{const r=s[n];r&&t[n].push(...r);break}case"transforms":{const r=s[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=s[n];r&&Object.assign(t[n],r);break}}}function mD(t,s){throw t?new Error("Cannot close `"+t.type+"` ("+xm({start:t.start,end:t.end})+"): a different token (`"+s.type+"`, "+xm({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+xm({start:s.start,end:s.end})+") is still open")}function tje(t){const s=this;s.parser=n;function n(r){return Xbe(r,{...s.data("settings"),...t,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function sje(t,s){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(s),!0)};return t.patch(s,n),t.applyData(s,n)}function nje(t,s){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(s,n),[t.applyData(s,n),{type:"text",value:`
`}]}function rje(t,s){const n=s.value?s.value+`
`:"",r={},a=s.lang?s.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return s.meta&&(i.data={meta:s.meta}),t.patch(s,i),i=t.applyData(s,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(s,i),i}function aje(t,s){const n={type:"element",tagName:"del",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function ije(t,s){const n={type:"element",tagName:"em",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function lje(t,s){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(s.identifier).toUpperCase(),a=Ju(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let l,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=i+1,o+=1,t.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(s,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(s,u),t.applyData(s,u)}function oje(t,s){const n={type:"element",tagName:"h"+s.depth,properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function cje(t,s){if(t.options.allowDangerousHtml){const n={type:"raw",value:s.value};return t.patch(s,n),t.applyData(s,n)}}function L7(t,s){const n=s.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+r}];const a=t.all(s),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=r:a.push({type:"text",value:r}),a}function dje(t,s){const n=String(s.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return L7(t,s);const a={src:Ju(r.url||""),alt:s.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(s,i),t.applyData(s,i)}function uje(t,s){const n={src:Ju(s.url)};s.alt!==null&&s.alt!==void 0&&(n.alt=s.alt),s.title!==null&&s.title!==void 0&&(n.title=s.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(s,r),t.applyData(s,r)}function hje(t,s){const n={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};t.patch(s,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(s,r),t.applyData(s,r)}function mje(t,s){const n=String(s.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return L7(t,s);const a={href:Ju(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(s)};return t.patch(s,i),t.applyData(s,i)}function fje(t,s){const n={href:Ju(s.url)};s.title!==null&&s.title!==void 0&&(n.title=s.title);const r={type:"element",tagName:"a",properties:n,children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function pje(t,s,n){const r=t.all(s),a=n?xje(n):I7(s),i={},l=[];if(typeof s.checked=="boolean"){const d=r[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?l.push(...d.children):l.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:l};return t.patch(s,u),t.applyData(s,u)}function xje(t){let s=!1;if(t.type==="list"){s=t.spread||!1;const n=t.children;let r=-1;for(;!s&&++r<n.length;)s=I7(n[r])}return s}function I7(t){const s=t.spread;return s??t.children.length>1}function gje(t,s){const n={},r=t.all(s);let a=-1;for(typeof s.start=="number"&&s.start!==1&&(n.start=s.start);++a<r.length;){const l=r[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:s.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(s,i),t.applyData(s,i)}function vje(t,s){const n={type:"element",tagName:"p",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function yje(t,s){const n={type:"root",children:t.wrap(t.all(s))};return t.patch(s,n),t.applyData(s,n)}function bje(t,s){const n={type:"element",tagName:"strong",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function jje(t,s){const n=t.all(s),r=n.shift(),a=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(s.children[0],l),a.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=mS(s.children[1]),c=v7(s.children[s.children.length-1]);o&&c&&(l.position={start:o,end:c}),a.push(l)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(s,i),t.applyData(s,i)}function wje(t,s,n){const r=n?n.children:void 0,i=(r?r.indexOf(s):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,o=l?l.length:s.children.length;let c=-1;const u=[];for(;++c<o;){const m=s.children[c],h={},p=l?l[c]:void 0;p&&(h.align=p);let g={type:"element",tagName:i,properties:h,children:[]};m&&(g.children=t.all(m),t.patch(m,g),g=t.applyData(m,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(s,d),t.applyData(s,d)}function Nje(t,s){const n={type:"element",tagName:"td",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}const fD=9,pD=32;function _je(t){const s=String(t),n=/\r?\n|\r/g;let r=n.exec(s),a=0;const i=[];for(;r;)i.push(xD(s.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(s);return i.push(xD(s.slice(a),a>0,!1)),i.join("")}function xD(t,s,n){let r=0,a=t.length;if(s){let i=t.codePointAt(r);for(;i===fD||i===pD;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(a-1);for(;i===fD||i===pD;)a--,i=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function Sje(t,s){const n={type:"text",value:_je(String(s.value))};return t.patch(s,n),t.applyData(s,n)}function Cje(t,s){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(s,n),t.applyData(s,n)}const kje={blockquote:sje,break:nje,code:rje,delete:aje,emphasis:ije,footnoteReference:lje,heading:oje,html:cje,imageReference:dje,image:uje,inlineCode:hje,linkReference:mje,link:fje,listItem:pje,list:gje,paragraph:vje,root:yje,strong:bje,table:jje,tableCell:Nje,tableRow:wje,text:Sje,thematicBreak:Cje,toml:gx,yaml:gx,definition:gx,footnoteDefinition:gx};function gx(){}const B7=-1,Y0=0,vm=1,Eg=2,bS=3,jS=4,wS=5,NS=6,q7=7,z7=8,gD=typeof self=="object"?self:globalThis,Eje=(t,s)=>{const n=(a,i)=>(t.set(i,a),a),r=a=>{if(t.has(a))return t.get(a);const[i,l]=s[a];switch(i){case Y0:case B7:return n(l,a);case vm:{const o=n([],a);for(const c of l)o.push(r(c));return o}case Eg:{const o=n({},a);for(const[c,u]of l)o[r(c)]=r(u);return o}case bS:return n(new Date(l),a);case jS:{const{source:o,flags:c}=l;return n(new RegExp(o,c),a)}case wS:{const o=n(new Map,a);for(const[c,u]of l)o.set(r(c),r(u));return o}case NS:{const o=n(new Set,a);for(const c of l)o.add(r(c));return o}case q7:{const{name:o,message:c}=l;return n(new gD[o](c),a)}case z7:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return n(new DataView(o),l)}}return n(new gD[i](l),a)};return r},vD=t=>Eje(new Map,t)(0),Rd="",{toString:Pje}={},{keys:Tje}=Object,Yh=t=>{const s=typeof t;if(s!=="object"||!t)return[Y0,s];const n=Pje.call(t).slice(8,-1);switch(n){case"Array":return[vm,Rd];case"Object":return[Eg,Rd];case"Date":return[bS,Rd];case"RegExp":return[jS,Rd];case"Map":return[wS,Rd];case"Set":return[NS,Rd];case"DataView":return[vm,n]}return n.includes("Array")?[vm,n]:n.includes("Error")?[q7,n]:[Eg,n]},vx=([t,s])=>t===Y0&&(s==="function"||s==="symbol"),Aje=(t,s,n,r)=>{const a=(l,o)=>{const c=r.push(l)-1;return n.set(o,c),c},i=l=>{if(n.has(l))return n.get(l);let[o,c]=Yh(l);switch(o){case Y0:{let d=l;switch(c){case"bigint":o=z7,d=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([B7],l)}return a([o,d],l)}case vm:{if(c){let h=l;return c==="DataView"?h=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(l)),a([c,[...h]],l)}const d=[],m=a([o,d],l);for(const h of l)d.push(i(h));return m}case Eg:{if(c)switch(c){case"BigInt":return a([c,l.toString()],l);case"Boolean":case"Number":case"String":return a([c,l.valueOf()],l)}if(s&&"toJSON"in l)return i(l.toJSON());const d=[],m=a([o,d],l);for(const h of Tje(l))(t||!vx(Yh(l[h])))&&d.push([i(h),i(l[h])]);return m}case bS:return a([o,l.toISOString()],l);case jS:{const{source:d,flags:m}=l;return a([o,{source:d,flags:m}],l)}case wS:{const d=[],m=a([o,d],l);for(const[h,p]of l)(t||!(vx(Yh(h))||vx(Yh(p))))&&d.push([i(h),i(p)]);return m}case NS:{const d=[],m=a([o,d],l);for(const h of l)(t||!vx(Yh(h)))&&d.push(i(h));return m}}const{message:u}=l;return a([o,{name:c,message:u}],l)};return i},yD=(t,{json:s,lossy:n}={})=>{const r=[];return Aje(!(s||n),!!s,new Map,r)(t),r},Pg=typeof structuredClone=="function"?(t,s)=>s&&("json"in s||"lossy"in s)?vD(yD(t,s)):structuredClone(t):(t,s)=>vD(yD(t,s));function Mje(t,s){const n=[{type:"text",value:""}];return s>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),n}function Dje(t,s){return"Back to reference "+(t+1)+(s>1?"-"+s:"")}function Oje(t){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Mje,r=t.options.footnoteBackLabel||Dje,a=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),m=String(u.identifier).toUpperCase(),h=Ju(m.toLowerCase());let p=0;const g=[],y=t.footnoteCounts.get(m);for(;y!==void 0&&++p<=y;){g.length>0&&g.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,p);typeof w=="string"&&(w={type:"text",value:w}),g.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else d.push(...g);const j={type:"element",tagName:"li",properties:{id:s+"fn-"+h},children:t.wrap(d,!0)};t.patch(u,j),o.push(j)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Pg(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const $7=(function(t){if(t==null)return Ije;if(typeof t=="function")return Q0(t);if(typeof t=="object")return Array.isArray(t)?Rje(t):Fje(t);if(typeof t=="string")return Lje(t);throw new Error("Expected function, string, or object as test")});function Rje(t){const s=[];let n=-1;for(;++n<t.length;)s[n]=$7(t[n]);return Q0(r);function r(...a){let i=-1;for(;++i<s.length;)if(s[i].apply(this,a))return!0;return!1}}function Fje(t){const s=t;return Q0(n);function n(r){const a=r;let i;for(i in t)if(a[i]!==s[i])return!1;return!0}}function Lje(t){return Q0(s);function s(n){return n&&n.type===t}}function Q0(t){return s;function s(n,r,a){return!!(Bje(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Ije(){return!0}function Bje(t){return t!==null&&typeof t=="object"&&"type"in t}const U7=[],qje=!0,bD=!1,zje="skip";function $je(t,s,n,r){let a;typeof s=="function"&&typeof n!="function"?(r=n,n=s):a=s;const i=$7(a),l=r?-1:1;o(t,void 0,[])();function o(c,u,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const p=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=U7,g,y,v;if((!s||i(c,u,d[d.length-1]||void 0))&&(p=Uje(n(c,d)),p[0]===bD))return p;if("children"in c&&c.children){const j=c;if(j.children&&p[0]!==zje)for(y=(r?j.children.length:-1)+l,v=d.concat(j);y>-1&&y<j.children.length;){const w=j.children[y];if(g=o(w,y,v)(),g[0]===bD)return g;y=typeof g[1]=="number"?g[1]:y+l}}return p}}}function Uje(t){return Array.isArray(t)?t:typeof t=="number"?[qje,t]:t==null?U7:[t]}function V7(t,s,n,r){let a,i,l;typeof s=="function"&&typeof n!="function"?(i=void 0,l=s,a=n):(i=s,l=n,a=r),$je(t,i,o,a);function o(c,u){const d=u[u.length-1],m=d?d.children.indexOf(c):void 0;return l(c,m,d)}}const A_={}.hasOwnProperty,Vje={};function Wje(t,s){const n=s||Vje,r=new Map,a=new Map,i=new Map,l={...kje,...n.handlers},o={all:u,applyData:Gje,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:l,one:c,options:n,patch:Hje,wrap:Yje};return V7(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?r:a,h=String(d.identifier).toUpperCase();m.has(h)||m.set(h,d)}}),o;function c(d,m){const h=d.type,p=o.handlers[h];if(A_.call(o.handlers,h)&&p)return p(o,d,m);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:y,...v}=d,j=Pg(v);return j.children=o.all(d),j}return Pg(d)}return(o.options.unknownHandler||Kje)(o,d,m)}function u(d){const m=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const g=o.one(h[p],d);if(g){if(p&&h[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=jD(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=jD(y.value))}Array.isArray(g)?m.push(...g):m.push(g)}}}return m}}function Hje(t,s){t.position&&(s.position=Pve(t))}function Gje(t,s){let n=s;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,Pg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Kje(t,s){const n=s.data||{},r="value"in s&&!(A_.call(n,"hProperties")||A_.call(n,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function Yje(t,s){const n=[];let r=-1;for(s&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return s&&t.length>0&&n.push({type:"text",value:`
`}),n}function jD(t){let s=0,n=t.charCodeAt(s);for(;n===9||n===32;)s++,n=t.charCodeAt(s);return t.slice(s)}function wD(t,s){const n=Wje(t,s),r=n.one(t,void 0),a=Oje(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Qje(t,s){return t&&"run"in t?async function(n,r){const a=wD(n,{file:r,...s});await t.run(a,r)}:function(n,r){return wD(n,{file:r,...t||s})}}function ND(t){if(t)throw t}var Rw,_D;function Jje(){if(_D)return Rw;_D=1;var t=Object.prototype.hasOwnProperty,s=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):s.call(u)==="[object Array]"},i=function(u){if(!u||s.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),m=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!m)return!1;var h;for(h in u);return typeof h>"u"||t.call(u,h)},l=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return Rw=function c(){var u,d,m,h,p,g,y=arguments[0],v=1,j=arguments.length,w=!1;for(typeof y=="boolean"&&(w=y,y=arguments[1]||{},v=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});v<j;++v)if(u=arguments[v],u!=null)for(d in u)m=o(y,d),h=o(u,d),y!==h&&(w&&h&&(i(h)||(p=a(h)))?(p?(p=!1,g=m&&a(m)?m:[]):g=m&&i(m)?m:{},l(y,{name:d,newValue:c(w,g,h)})):typeof h<"u"&&l(y,{name:d,newValue:h}));return y},Rw}var Xje=Jje();const Fw=Bc(Xje);function M_(t){if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Zje(){const t=[],s={run:n,use:r};return s;function n(...a){let i=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...a);function o(c,...u){const d=t[++i];let m=-1;if(c){l(c);return}for(;++m<a.length;)(u[m]===null||u[m]===void 0)&&(u[m]=a[m]);a=u,d?ewe(d,o)(...u):l(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),s}}function ewe(t,s){let n;return r;function r(...l){const o=t.length>l.length;let c;o&&l.push(a);try{c=t.apply(this,l)}catch(u){const d=u;if(o&&n)throw d;return a(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(l,...o){n||(n=!0,s(l,...o))}function i(l){a(null,l)}}const ki={basename:twe,dirname:swe,extname:nwe,join:rwe,sep:"/"};function twe(t,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');Lf(t);let n=0,r=-1,a=t.length,i;if(s===void 0||s.length===0||s.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":t.slice(n,r)}if(s===t)return"";let l=-1,o=s.length-1;for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else l<0&&(i=!0,l=a+1),o>-1&&(t.codePointAt(a)===s.codePointAt(o--)?o<0&&(r=a):(o=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function swe(t){if(Lf(t),t.length===0)return".";let s=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){s=n;break}}else r||(r=!0);return s<0?t.codePointAt(0)===47?"/":".":s===1&&t.codePointAt(0)===47?"//":t.slice(0,s)}function nwe(t){Lf(t);let s=t.length,n=-1,r=0,a=-1,i=0,l;for(;s--;){const o=t.codePointAt(s);if(o===47){if(l){r=s+1;break}continue}n<0&&(l=!0,n=s+1),o===46?a<0?a=s:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function rwe(...t){let s=-1,n;for(;++s<t.length;)Lf(t[s]),t[s]&&(n=n===void 0?t[s]:n+"/"+t[s]);return n===void 0?".":awe(n)}function awe(t){Lf(t);const s=t.codePointAt(0)===47;let n=iwe(t,!s);return n.length===0&&!s&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),s?"/"+n:n}function iwe(t,s){let n="",r=0,a=-1,i=0,l=-1,o,c;for(;++l<=t.length;){if(l<t.length)o=t.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(a===l-1||i===1))if(a!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=l,i=0;continue}}else if(n.length>0){n="",r=0,a=l,i=0;continue}}s&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,l):n=t.slice(a+1,l),r=l-a-1;a=l,i=0}else o===46&&i>-1?i++:i=-1}return n}function Lf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lwe={cwd:owe};function owe(){return"/"}function D_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cwe(t){if(typeof t=="string")t=new URL(t);else if(!D_(t)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(t.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return dwe(t)}function dwe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const s=t.pathname;let n=-1;for(;++n<s.length;)if(s.codePointAt(n)===37&&s.codePointAt(n+1)===50){const r=s.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(s)}const Lw=["history","path","basename","stem","extname","dirname"];class W7{constructor(s){let n;s?D_(s)?n={path:s}:typeof s=="string"||uwe(s)?n={value:s}:n=s:n={},this.cwd="cwd"in n?"":lwe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lw.length;){const i=Lw[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Lw.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?ki.basename(this.path):void 0}set basename(s){Bw(s,"basename"),Iw(s,"basename"),this.path=ki.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?ki.dirname(this.path):void 0}set dirname(s){SD(this.basename,"dirname"),this.path=ki.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?ki.extname(this.path):void 0}set extname(s){if(Iw(s,"extname"),SD(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ki.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){D_(s)&&(s=cwe(s)),Bw(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?ki.basename(this.path,this.extname):void 0}set stem(s){Bw(s,"stem"),Iw(s,"stem"),this.path=ki.join(this.dirname||"",s+(this.extname||""))}fail(s,n,r){const a=this.message(s,n,r);throw a.fatal=!0,a}info(s,n,r){const a=this.message(s,n,r);return a.fatal=void 0,a}message(s,n,r){const a=new gr(s,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function Iw(t,s){if(t&&t.includes(ki.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+ki.sep+"`")}function Bw(t,s){if(!t)throw new Error("`"+s+"` cannot be empty")}function SD(t,s){if(!t)throw new Error("Setting `"+s+"` requires `path` to be set too")}function uwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const hwe=(function(t){const r=this.constructor.prototype,a=r[t],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),mwe={}.hasOwnProperty;class _S extends hwe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Zje()}copy(){const s=new _S;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];s.use(...r)}return s.data(Fw(!0,{},this.namespace)),s}data(s,n){return typeof s=="string"?arguments.length===2?($w("data",this.frozen),this.namespace[s]=n,this):mwe.call(this.namespace,s)&&this.namespace[s]||void 0:s?($w("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(s,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const n=yx(s),r=this.parser||this.Parser;return qw("parse",r),r(String(n),n)}process(s,n){const r=this;return this.freeze(),qw("process",this.parser||this.Parser),zw("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,l){const o=yx(s),c=r.parse(o);r.run(c,o,function(d,m,h){if(d||!m||!h)return u(d);const p=m,g=r.stringify(p,h);xwe(g)?h.value=g:h.result=g,u(d,h)});function u(d,m){d||!m?l(d):i?i(m):n(void 0,m)}}}processSync(s){let n=!1,r;return this.freeze(),qw("processSync",this.parser||this.Parser),zw("processSync",this.compiler||this.Compiler),this.process(s,a),kD("processSync","process",n),r;function a(i,l){n=!0,ND(i),r=l}}run(s,n,r){CD(s),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,o){const c=yx(n);a.run(s,c,u);function u(d,m,h){const p=m||s;d?o(d):l?l(p):r(void 0,p,h)}}}runSync(s,n){let r=!1,a;return this.run(s,n,i),kD("runSync","run",r),a;function i(l,o){ND(l),a=o,r=!0}}stringify(s,n){this.freeze();const r=yx(n),a=this.compiler||this.Compiler;return zw("stringify",a),CD(s),a(s,r)}use(s,...n){const r=this.attachers,a=this.namespace;if($w("use",this.frozen),s!=null)if(typeof s=="function")c(s,n);else if(typeof s=="object")Array.isArray(s)?o(s):l(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function i(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...m]=u;c(d,m)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=Fw(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const m=u[d];i(m)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let m=-1,h=-1;for(;++m<r.length;)if(r[m][0]===u){h=m;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...g]=d;const y=r[h][1];M_(y)&&M_(p)&&(p=Fw(!0,y,p)),r[h]=[u,p,...g]}}}}const fwe=new _S().freeze();function qw(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function zw(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $w(t,s){if(s)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function CD(t){if(!M_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function kD(t,s,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+s+"` instead")}function yx(t){return pwe(t)?t:new W7(t)}function pwe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function xwe(t){return typeof t=="string"||gwe(t)}function gwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const vwe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ED=[],PD={allowDangerousHtml:!0},ywe=/^(https?|ircs?|mailto|xmpp)$/i,bwe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function O_(t){const s=jwe(t),n=wwe(t);return Nwe(s.runSync(s.parse(n),n),t)}function jwe(t){const s=t.rehypePlugins||ED,n=t.remarkPlugins||ED,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...PD}:PD;return fwe().use(tje).use(n).use(Qje,r).use(s)}function wwe(t){const s=t.children||"",n=new W7;return typeof s=="string"&&(n.value=s),n}function Nwe(t,s){const n=s.allowedElements,r=s.allowElement,a=s.components,i=s.disallowedElements,l=s.skipHtml,o=s.unwrapDisallowed,c=s.urlTransform||_we;for(const d of bwe)Object.hasOwn(s,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+vwe+d.id,void 0);return V7(t,u),Ove(t,{Fragment:e.Fragment,components:a,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function u(d,m,h){if(d.type==="raw"&&h&&typeof m=="number")return l?h.children.splice(m,1):h.children[m]={type:"text",value:d.value},m;if(d.type==="element"){let p;for(p in Mw)if(Object.hasOwn(Mw,p)&&Object.hasOwn(d.properties,p)){const g=d.properties[p],y=Mw[p];(y===null||y.includes(d.tagName))&&(d.properties[p]=c(String(g||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!p&&r&&typeof m=="number"&&(p=!r(d,m,h)),p&&h&&typeof m=="number")return o&&d.children?h.children.splice(m,1,...d.children):h.children.splice(m,1),m}}}function _we(t){const s=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return s===-1||a!==-1&&s>a||n!==-1&&s>n||r!==-1&&s>r||ywe.test(t.slice(0,s))?t:""}function Swe({content:t,variant:s,settings:n}){const r={default:"",centered:"text-center",large:"text-lg"},a=r[s]||r.default;return e.jsxs("div",{className:a,children:[t.heading&&e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:t.heading}),t.text&&e.jsx("div",{className:"prose prose-lg max-w-none text-slate-600",children:e.jsx(O_,{children:t.text})})]})}function Cwe({content:t,variant:s,settings:n}){const r={default:"rounded-lg",rounded:"rounded-2xl",circle:"rounded-full",none:""},a=r[s]||r.default;return t.imageUrl?e.jsxs("div",{className:"w-full",children:[e.jsx("img",{src:t.imageUrl,alt:t.altText||"",className:`w-full h-auto object-cover ${a}`}),t.caption&&e.jsx("p",{className:"text-sm text-slate-600 mt-2 text-center italic",children:t.caption})]}):e.jsx("div",{className:"bg-slate-100 aspect-video rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-slate-400",children:"No image selected"})})}function kwe({content:t,variant:s,settings:n}){const r={default:"md:grid-cols-2","60-40":"md:grid-cols-[60%_40%]","40-60":"md:grid-cols-[40%_60%]"},a=r[s]||r.default;return e.jsxs("div",{className:`grid ${a} gap-8`,children:[e.jsxs("div",{children:[t.leftHeading&&e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:t.leftHeading}),t.leftContent&&e.jsx("div",{className:"prose text-slate-600",children:e.jsx(O_,{children:t.leftContent})})]}),e.jsxs("div",{children:[t.rightHeading&&e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:t.rightHeading}),t.rightContent&&e.jsx("div",{className:"prose text-slate-600",children:e.jsx(O_,{children:t.rightContent})})]})]})}function Ewe({content:t,variant:s,settings:n}){const r={default:"bg-blue-600 hover:bg-blue-700",primary:"bg-indigo-600 hover:bg-indigo-700",secondary:"bg-slate-600 hover:bg-slate-700",success:"bg-green-600 hover:bg-green-700"},a={left:"justify-start",center:"justify-center",right:"justify-end"},i=r[s]||r.default,l=a[t.alignment]||a.center;return e.jsx("div",{className:`flex ${l}`,children:e.jsx(X,{size:"lg",className:`${i} text-white`,onClick:()=>{t.link&&(t.openInNewTab?window.open(t.link,"_blank"):window.location.href=t.link)},children:t.text||"Click Here"})})}function Pwe({content:t={},settings:s={}}){const{backgroundImageUrl:n="",foregroundImageUrl:r="",height:a="medium",contentAlignment:i="center",overlayOpacity:l=0}=t,{fullWidth:o=!1}=s,c={small:"h-[300px]",medium:"h-[500px]",large:"h-[700px]","full-screen":"h-screen"},u=o?"w-full relative":`relative w-full ${c[a]||c.medium}`;return e.jsxs("div",{className:"w-full relative overflow-hidden",children:[e.jsxs("div",{className:u,children:[n&&e.jsxs("div",{className:o?"relative w-full":"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:n,alt:"Hero background",className:`w-full ${o?"h-auto":"h-full"} ${o?"object-contain":"object-cover"}`}),l>0&&e.jsx("div",{className:"absolute inset-0 bg-black",style:{opacity:l/100}})]}),r&&e.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center",children:e.jsx("img",{src:r,alt:"Hero foreground frame",className:`w-full h-full ${o?"object-contain":"object-cover"}`,style:{mixBlendMode:"normal"}})})]}),!n&&!r&&e.jsx("div",{className:`${c[a]||c.medium} bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center`,children:e.jsxs("div",{className:"text-center text-slate-500",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"font-semibold text-lg mb-1",children:"Image Hero Element"}),e.jsx("p",{className:"text-sm",children:"Add background and foreground images to create your hero"}),o&&e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Full-width mode: Images will maintain their aspect ratio"})]})})]})}function Twe({element:t,memberInfo:s,organizationInfo:n}){var d;const r=(d=t.content)==null?void 0:d.form_slug,[a,i]=b.useState({}),[l,o]=b.useState(0),{data:c,isLoading:u}=me({queryKey:["form-embed",r],queryFn:async()=>r?(await K.entities.Form.list()).find(h=>h.slug===r&&h.is_active):null,enabled:!!r});if(u)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!c)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ps,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"Form not found or inactive"})]})});if(c.layout_type==="card_swipe"){const m=c.fields[l],h=l===c.fields.length-1,p=!(m!=null&&m.required)||a[m==null?void 0:m.id];return e.jsxs(le,{className:"border-slate-200 max-w-2xl mx-auto",children:[e.jsxs(Re,{children:[e.jsx($e,{children:c.name}),c.description&&e.jsx(Cs,{className:"whitespace-pre-line",children:c.description}),e.jsx("div",{className:"flex gap-1 mt-4",children:c.fields.map((g,y)=>e.jsx("div",{className:`h-1 flex-1 rounded ${y<=l?"bg-blue-600":"bg-slate-200"}`},y))})]}),e.jsx(ce,{className:"min-h-[300px]",children:m&&e.jsx(mu,{field:m,value:a[m.id],onChange:g=>i({...a,[m.id]:g}),memberInfo:s,organizationInfo:n})}),e.jsxs("div",{className:"p-6 pt-0 flex justify-between",children:[e.jsxs(X,{variant:"outline",onClick:()=>o(l-1),disabled:l===0,children:[e.jsx(Un,{className:"w-4 h-4 mr-2"}),"Previous"]}),h?e.jsx(X,{className:"bg-blue-600 hover:bg-blue-700",disabled:!0,children:c.submit_button_text||"Submit"}):e.jsxs(X,{onClick:()=>o(l+1),disabled:!p,children:["Next",e.jsx(ys,{className:"w-4 h-4 ml-2"})]})]})]})}return e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Re,{children:[e.jsx($e,{children:c.name}),c.description&&e.jsx(Cs,{className:"whitespace-pre-line",children:c.description})]}),e.jsxs(ce,{className:"space-y-6",children:[c.fields&&c.fields.map(m=>e.jsx(mu,{field:m,value:a[m.id],onChange:h=>i({...a,[m.id]:h}),memberInfo:s,organizationInfo:n},m.id)),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{className:"bg-blue-600 hover:bg-blue-700",disabled:!0,children:c.submit_button_text||"Submit"})})]})]})}function Qc({element:t,memberInfo:s,organizationInfo:n,isFirst:r}){var m,h,p;const i={hero:sve,text_block:Swe,image:Cwe,two_column:kwe,cta_button:Ewe,image_hero:Pwe,wall_of_fame:q0e,form:g=>e.jsx(Twe,{...g,memberInfo:s,organizationInfo:n}),text_overlay_image:$0e,table:V0e,banner_carousel:H0e,showcase:Y0e,resources_showcase:J0e,button_block:X0e,page_header_hero:eve}[t.element_type];if(!i)return e.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 my-4",children:e.jsxs("p",{className:"text-sm text-amber-900",children:["Unknown element type: ",e.jsx("code",{children:t.element_type})]})});const l=((m=t.settings)==null?void 0:m.paddingTop)??32,o=((h=t.settings)==null?void 0:h.paddingBottom)??32,u={paddingTop:`${r?0:l}px`,paddingBottom:`${o}px`};return((p=t.settings)==null?void 0:p.fullWidth)?e.jsx("div",{className:"w-full",children:e.jsx(i,{element:t,content:t.content,variant:t.style_variant,settings:t.settings,isFirst:r})}):e.jsx("div",{style:u,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx(i,{element:t,content:t.content,variant:t.style_variant,settings:t.settings,isFirst:r})})})}function H7({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState([]),[i,l]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState(!1),[m,h]=b.useState(!1),p=Y_(),g=Gt();b.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("pageId");F?n(F):(te.error("No page ID provided"),p(Ee("IEditPageManagement")))},[]);const{data:y,isLoading:v}=me({queryKey:["iedit-page",s],queryFn:async()=>(await K.entities.IEditPage.list()).find(F=>F.id===s),enabled:!!s}),{data:j,isLoading:w}=me({queryKey:["iedit-page-elements",s],queryFn:()=>K.entities.IEditPageElement.filter({page_id:s},"display_order"),initialData:[],enabled:!!s});b.useEffect(()=>{j&&a(j)},[j]);const N=Fe({mutationFn:({id:O,data:F})=>K.entities.IEditPage.update(O,F),onSuccess:()=>{g.invalidateQueries({queryKey:["iedit-page",s]}),te.success("Page updated successfully")}}),_=Fe({mutationFn:O=>K.entities.IEditPageElement.create(O),onSuccess:()=>{g.invalidateQueries({queryKey:["iedit-page-elements",s]}),l(!1),te.success("Element added")}}),T=Fe({mutationFn:({id:O,data:F})=>K.entities.IEditPageElement.update(O,F),onSuccess:()=>{g.invalidateQueries({queryKey:["iedit-page-elements",s]}),te.success("Element updated")}}),A=Fe({mutationFn:O=>K.entities.IEditPageElement.delete(O),onSuccess:()=>{g.invalidateQueries({queryKey:["iedit-page-elements",s]}),te.success("Element deleted")}}),P=async O=>{if(!O.destination)return;const F=Array.from(r),[z]=F.splice(O.source.index,1);F.splice(O.destination.index,0,z),a(F);const V=F.map((U,B)=>({id:U.id,display_order:B}));try{for(const U of V)await K.entities.IEditPageElement.update(U.id,{display_order:U.display_order});g.invalidateQueries({queryKey:["iedit-page-elements",s]})}catch{te.error("Failed to reorder elements"),a(j)}},C=async O=>{const F={page_id:s,element_type:O.element_type,display_order:r.length,content:O.default_content||{},style_variant:O.available_variants&&O.available_variants.length>0?O.available_variants[0]:"default",settings:{}};_.mutate(F)},R=async(O,F)=>{T.mutate({id:O,data:F}),c(null)},M=async O=>{confirm("Are you sure you want to delete this element?")&&A.mutate(O)},k=async O=>{const F={page_id:s,element_type:O.element_type,display_order:O.display_order+1,content:{...O.content},style_variant:O.style_variant,settings:{...O.settings}};_.mutate(F)},E=O=>{N.mutate({id:s,data:O}),d(!1)};return t?v||!y?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page editor..."})}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>p(Ee("IEditPageManagement")),children:[e.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:y.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:["/",y.slug]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>d(!0),children:[e.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsx(X,{variant:m?"default":"outline",size:"sm",onClick:()=>h(!m),className:m?"bg-blue-600 hover:bg-blue-700":"",children:m?e.jsxs(e.Fragment,{children:[e.jsx(a1,{className:"w-4 h-4 mr-2"}),"Edit Mode"]}):e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),"Preview"]})})]})]}),e.jsx("div",{className:"flex-1 flex",children:e.jsx("div",{className:"flex-1 overflow-y-auto",children:m?e.jsxs("div",{className:"bg-white min-h-full",children:[e.jsx("style",{children:`
                  @font-face {
                    font-family: 'Degular Medium';
                    src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
                    font-weight: 500;
                    font-style: normal;
                    font-display: swap;
                  }
                `}),r.length===0?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"Preview Empty"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Add elements to see the preview"}),e.jsx(X,{onClick:()=>h(!1),className:"mt-4 bg-blue-600 hover:bg-blue-700",children:"Exit Preview"})]})}):r.map(O=>e.jsx(Qc,{element:O,memberInfo:null,organizationInfo:null},O.id))]}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(X,{onClick:()=>l(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Element"]})}),r.length===0?e.jsx(le,{className:"border-2 border-dashed border-slate-300",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"No elements yet. Start building your page!"}),e.jsxs(X,{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Element"]})]})}):e.jsx(Rf,{onDragEnd:P,children:e.jsx(Sc,{droppableId:"elements",children:O=>e.jsxs("div",{...O.droppableProps,ref:O.innerRef,className:"space-y-4",children:[r.map((F,z)=>e.jsx(_c,{draggableId:F.id,index:z,children:(V,U)=>e.jsx("div",{ref:V.innerRef,...V.draggableProps,...V.dragHandleProps,children:e.jsx(L0e,{element:F,isDragging:U.isDragging,onEdit:()=>c(F),onDelete:()=>M(F.id),onDuplicate:()=>k(F)})})},F.id)),O.placeholder]})})})]})})})}),i&&!m&&e.jsx(F0e,{onClose:()=>l(!1),onSelectTemplate:C}),o&&!m&&e.jsx(rve,{element:o,onClose:()=>c(null),onSave:O=>R(o.id,O)}),u&&y&&e.jsx(ave,{page:y,onClose:()=>d(!1),onSave:E})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function Awe(){const t="testpage",{data:s,isLoading:n}=me({queryKey:["iedit-public-page",t],queryFn:async()=>(await K.entities.IEditPage.filter({slug:t,status:"published"}))[0]}),{data:r,isLoading:a}=me({queryKey:["iedit-public-elements",s==null?void 0:s.id],queryFn:()=>K.entities.IEditPageElement.filter({page_id:s.id},"display_order"),initialData:[],enabled:!!(s!=null&&s.id)});if(b.useEffect(()=>{if(s&&(document.title=s.meta_title||s.title||"AGCAS",s.meta_description)){let l=document.querySelector('meta[name="description"]');l||(l=document.createElement("meta"),l.name="description",document.head.appendChild(l)),l.content=s.meta_description}},[s]),n||a)return e.jsx(ba,{currentPageName:"testpage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})})});if(!s)return e.jsx(ba,{currentPageName:"testpage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600",children:"This page hasn't been published yet or doesn't exist."})]})})});const i=s.layout_type==="member"?({children:l})=>e.jsx("div",{className:"min-h-screen",children:l}):ba;return e.jsx(i,{currentPageName:"testpage",children:e.jsxs("div",{className:"w-full",children:[r.map(l=>e.jsx(Qc,{element:l},l.id)),r.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]})})}const Mwe=[{name:"LinkedIn",key:"linkedin",placeholder:"https://www.linkedin.com/company/..."},{name:"Twitter/X",key:"twitter",placeholder:"https://twitter.com/..."},{name:"Facebook",key:"facebook",placeholder:"https://www.facebook.com/..."},{name:"Instagram",key:"instagram",placeholder:"https://www.instagram.com/..."},{name:"YouTube",key:"youtube",placeholder:"https://www.youtube.com/..."}];function Dwe(){const[t,s]=b.useState({linkedin:{enabled:!1,url:""},twitter:{enabled:!1,url:""},facebook:{enabled:!1,url:""},instagram:{enabled:!1,url:""},youtube:{enabled:!1,url:""}}),n=Gt(),{data:r,isLoading:a}=me({queryKey:["social-icons-config"],queryFn:async()=>{const d=(await K.entities.SystemSettings.list()).find(m=>m.setting_key==="social_icons_config");if(d!=null&&d.setting_value)try{return{id:d.id,...JSON.parse(d.setting_value)}}catch(m){return console.error("Failed to parse social icons config:",m),null}return null},staleTime:0,refetchOnMount:!0});b.useEffect(()=>{if(r){const{id:u,...d}=r;s(d)}},[r]);const i=Fe({mutationFn:async u=>{const d=JSON.stringify(u);return r!=null&&r.id?await K.entities.SystemSettings.update(r.id,{setting_value:d}):await K.entities.SystemSettings.create({setting_key:"social_icons_config",setting_value:d,description:"Social media icon URLs and visibility for public header"})},onSuccess:()=>{n.invalidateQueries({queryKey:["social-icons-config"]}),te.success("Social icons configuration saved")},onError:u=>{console.error("Failed to save social icons config:",u),te.error("Failed to save configuration")}}),l=u=>{s(d=>({...d,[u]:{...d[u],enabled:!d[u].enabled}}))},o=(u,d)=>{s(m=>({...m,[u]:{...m[u],url:d}}))},c=()=>{i.mutate(t)};return a?e.jsx(le,{className:"border-slate-200 mb-6",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})})}):e.jsxs(le,{className:"border-slate-200 mb-6",children:[e.jsxs(Re,{children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(hc,{className:"w-5 h-5 text-blue-600"}),"Social Media Icons"]}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Configure which social media icons appear in the top navigation and their URLs"})]}),e.jsxs(ce,{className:"space-y-4",children:[Mwe.map(({name:u,key:d,placeholder:m})=>{var h,p,g;return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"flex items-center pt-2",children:e.jsx(ls,{id:`social-${d}`,checked:((h=t[d])==null?void 0:h.enabled)||!1,onCheckedChange:()=>l(d)})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ee,{htmlFor:`url-${d}`,className:"font-medium",children:u}),e.jsx(he,{id:`url-${d}`,value:((p=t[d])==null?void 0:p.url)||"",onChange:y=>o(d,y.target.value),placeholder:m,disabled:!((g=t[d])!=null&&g.enabled)})]})]},d)}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:c,disabled:i.isPending,className:"bg-blue-600 hover:bg-blue-700",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})})]})]})}const Uw=[{name:"Calendar",component:js},{name:"Building",component:Ro},{name:"Briefcase",component:kn},{name:"FileText",component:ts},{name:"Users",component:bs},{name:"Sparkles",component:ea},{name:"Home",component:wm},{name:"Mail",component:Ts},{name:"Phone",component:Hg},{name:"Menu",component:El},{name:"Navigation",component:dN}],Owe=[{name:"Home",label:"Home"},{name:"PublicEvents",label:"Public Events"},{name:"PublicAbout",label:"About Us"},{name:"PublicContact",label:"Contact"},{name:"PublicResources",label:"Resources"},{name:"PublicArticles",label:"Articles"},{name:"PublicNews",label:"News"},{name:"JobBoard",label:"Job Board"},{name:"PostJob",label:"Post a Job"},{name:"OrganisationDirectory",label:"Organisation Directory"}];function G7({isAdmin:t}){var O;const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState("all"),[o,c]=b.useState(!1),[u,d]=b.useState({}),m=Gt(),{data:h,isLoading:p}=me({queryKey:["navigation-items"],queryFn:()=>K.entities.NavigationItem.list("display_order"),initialData:[],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:g}=me({queryKey:["iedit-pages-published"],queryFn:async()=>(await K.entities.IEditPage.filter({status:"published"})).map(z=>({name:z.slug,label:z.title})),initialData:[]}),y=b.useMemo(()=>[...Owe,...g].sort((F,z)=>F.label.localeCompare(z.label)),[g]),v=Fe({mutationFn:F=>K.entities.NavigationItem.create(F),onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),a(!1),n(null),te.success("Navigation item created")},onError:F=>{te.error("Failed to create item: "+F.message)}}),j=Fe({mutationFn:({id:F,data:z})=>K.entities.NavigationItem.update(F,z),onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),a(!1),n(null),te.success("Navigation item updated")},onError:F=>{te.error("Failed to update item: "+F.message)}}),w=Fe({mutationFn:async F=>{const z=async V=>{const U=h.filter(B=>B.parent_id===V);for(const B of U)await z(B.id);await K.entities.NavigationItem.delete(V)};await z(F)},onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),te.success("Navigation item deleted")},onError:F=>{te.error("Failed to delete item: "+F.message)}}),N=b.useMemo(()=>{const F=z=>h.filter(V=>V.parent_id===z&&V.is_active).sort((V,U)=>(V.display_order||0)-(U.display_order||0)).map(V=>({...V,children:F(V.id)}));return F(null)},[h]),_=b.useMemo(()=>i==="all"?N:N.filter(F=>F.location===i),[N,i]),T=(F="main_nav",z=null)=>{n({title:"",url:"",link_type:"internal",location:F,parent_id:z,display_order:h.filter(V=>V.location===F&&V.parent_id===z).length,is_active:!0,open_in_new_tab:!1,icon:"",description:"",highlight_style:"none"}),a(!0)},A=F=>{n({...F}),a(!0)},P=()=>{if(!s.title||!s.url){te.error("Title and URL are required");return}if(s.id){const{id:F,created_date:z,updated_date:V,created_by:U,...B}=s;j.mutate({id:F,data:B})}else v.mutate(s)},C=F=>{const z=B=>{const $=h.filter(L=>L.parent_id===B);return $.length+$.reduce((L,I)=>L+z(I.id),0)},V=z(F.id),U=V>0?`Delete "${F.title}" and its ${V} sub-item(s)?`:`Delete "${F.title}"?`;confirm(U)&&w.mutate(F.id)},R=F=>{n({...s,icon:F}),c(!1)},M=async(F,z)=>{const V=h.find(W=>W.id===F);if(!V)return;const U=h.filter(W=>W.location===V.location&&W.parent_id===V.parent_id).sort((W,q)=>W.display_order===q.display_order?new Date(W.created_date)-new Date(q.created_date):W.display_order-q.display_order),B=U.findIndex(W=>W.id===F),$=z==="up"?B-1:B+1;if($<0||$>=U.length)return;const L=[...U],[I]=L.splice(B,1);L.splice($,0,I);for(let W=0;W<L.length;W++)await K.entities.NavigationItem.update(L[W].id,{display_order:W});await m.invalidateQueries({queryKey:["navigation-items"]}),te.success("Navigation order updated")},k=F=>{d(z=>({...z,[F]:!z[F]}))},E=(F,z=0)=>F.map(V=>{var I;const U=(I=Uw.find(W=>W.name===V.icon))==null?void 0:I.component,B=V.children&&V.children.length>0,$=u[V.id],L=z>0?`ml-${Math.min(z*8,16)}`:"";return e.jsxs("div",{className:L,children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:border-blue-400 transition-colors mb-2",children:[B&&e.jsx("button",{onClick:()=>k(V.id),className:"p-1 hover:bg-slate-100 rounded",children:$?e.jsx(Pr,{className:"w-4 h-4"}):e.jsx(ys,{className:"w-4 h-4"})}),!B&&e.jsx("div",{className:"w-6"}),U&&e.jsx(U,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-slate-900",children:V.title}),e.jsx(ve,{className:"text-xs",variant:V.location==="top_nav"?"default":"secondary",children:V.location==="top_nav"?"Top Bar":"Main Nav"}),V.highlight_style==="gradient_button"&&e.jsx(ve,{className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:"Featured"}),B&&e.jsxs(ve,{variant:"outline",className:"text-xs",children:[V.children.length," sub-item",V.children.length>1?"s":""]})]}),e.jsxs("div",{className:"text-sm text-slate-500 truncate",children:[V.link_type==="external"?" ":" ",V.url]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>T(V.location,V.id),className:"h-8 px-2",title:"Add submenu item",children:e.jsx(Et,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>M(V.id,"up"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>M(V.id,"down"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(V),className:"h-8 w-8 p-0",children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>C(V),className:"h-8 w-8 p-0 text-red-600",children:e.jsx(is,{className:"w-4 h-4"})})]})]}),B&&$&&e.jsx("div",{className:"ml-8 space-y-2 mb-2",children:E(V.children,z+1)})]},V.id)});return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Navigation Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage public header navigation items and create mega-menus"})]})}),e.jsx(le,{className:"border-blue-200 bg-blue-50 mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ea,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Dynamic Navigation"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Create custom navigation items for the public header. Static items (Login/Logout, Member Area, Join Us button) are managed separately and will always appear in their designated positions."})]})]})})}),e.jsx(Dwe,{}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs(He,{value:i,onValueChange:l,children:[e.jsx(Ue,{className:"w-48",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Locations"}),e.jsx(re,{value:"top_nav",children:"Top Navigation Bar"}),e.jsx(re,{value:"main_nav",children:"Main Navigation Bar"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsxs(X,{onClick:()=>T("top_nav"),variant:"outline",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Top Nav Item"]}),e.jsxs(X,{onClick:()=>T("main_nav"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Main Nav Item"]})]})]}),p?e.jsx(le,{children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Loading navigation items..."})})}):_.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(dN,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Navigation Items"}),e.jsx("p",{className:"text-slate-600 mb-6",children:i==="all"?"Create your first navigation item to get started":`No items in ${i==="top_nav"?"Top Navigation":"Main Navigation"}`}),e.jsxs(X,{onClick:()=>T("main_nav"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Item"]})]})}):e.jsx(le,{children:e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:E(_)})})}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:s!=null&&s.id?"Edit Navigation Item":"Create Navigation Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",value:s.title,onChange:F=>n({...s,title:F.target.value}),placeholder:"e.g., About Us"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"link_type",children:"Link Type"}),e.jsxs(He,{value:s.link_type,onValueChange:F=>n({...s,link_type:F}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"internal",children:"Internal Page"}),e.jsx(re,{value:"external",children:"External URL"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"location",children:"Navigation Bar"}),e.jsxs(He,{value:s.location,onValueChange:F=>n({...s,location:F}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"top_nav",children:"Top Navigation Bar"}),e.jsx(re,{value:"main_nav",children:"Main Navigation Bar"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"url",children:s.link_type==="internal"?"Page *":"URL *"}),s.link_type==="internal"?e.jsxs(He,{value:s.url,onValueChange:F=>n({...s,url:F}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a page..."})}),e.jsx(Ve,{children:y.map(F=>e.jsx(re,{value:F.name,children:F.label},F.name))})]}):e.jsx(he,{id:"url",value:s.url,onChange:F=>n({...s,url:F.target.value}),placeholder:"e.g., https://example.com"}),e.jsx("p",{className:"text-xs text-slate-500",children:s.link_type==="internal"?"Select from available public pages":"Enter the full URL including https://"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"parent",children:"Parent Item (for sub-menu)"}),e.jsxs(He,{value:s.parent_id||"none",onValueChange:F=>n({...s,parent_id:F==="none"?null:F}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:"None (Top Level)"}),h.filter(F=>{if(F.id===s.id)return!1;const z=(V,U)=>V===U?!0:h.filter($=>$.parent_id===V).some($=>z($.id,U));return s.id&&z(s.id,F.id)?!1:F.location===s.location}).sort((F,z)=>{const V=h.filter(B=>B.parent_id===F.id).length>0?0:1,U=h.filter(B=>B.parent_id===z.id).length>0?0:1;return V!==U?V-U:F.title.localeCompare(z.title)}).map(F=>{const z=V=>{var B;const U=(B=h.find($=>$.id===V))==null?void 0:B.parent_id;return U?(h.find($=>$.id===U),z(U)+" "):""};return e.jsxs(re,{value:F.id,children:[z(F.parent_id),F.title]},F.id)})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Create nested sub-menus by selecting a parent item (supports multiple levels)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Ht,{id:"description",value:s.description||"",onChange:F=>n({...s,description:F.target.value}),placeholder:"Optional description shown in mega-menu",rows:2})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Icon (Optional)"}),e.jsx(X,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>c(!0),children:s.icon?e.jsxs(e.Fragment,{children:[Ie.createElement(((O=Uw.find(F=>F.name===s.icon))==null?void 0:O.component)||dN,{className:"w-4 h-4 mr-2"}),s.icon]}):"Select an icon..."}),s.icon&&e.jsxs(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>n({...s,icon:""}),className:"w-full text-slate-600",children:[e.jsx(ws,{className:"w-3 h-3 mr-1"}),"Clear Icon"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"highlight",children:"Highlight Style"}),e.jsxs(He,{value:s.highlight_style,onValueChange:F=>n({...s,highlight_style:F}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"gradient_button",children:"Gradient Button"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ls,{id:"is_active",checked:s.is_active,onCheckedChange:F=>n({...s,is_active:F})}),e.jsx(ee,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (Visible on site)"})]}),s.link_type==="external"&&e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(ls,{id:"new_tab",checked:s.open_in_new_tab,onCheckedChange:F=>n({...s,open_in_new_tab:F})}),e.jsx(ee,{htmlFor:"new_tab",className:"cursor-pointer",children:"Open in new tab"})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:P,disabled:v.isPending||j.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update Item":"Create Item"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Select an Icon"})}),e.jsx("div",{className:"grid grid-cols-4 gap-4 py-4",children:Uw.map(({name:F,component:z})=>e.jsxs("button",{onClick:()=>R(F),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all hover:border-blue-500 hover:bg-blue-50 ${(s==null?void 0:s.icon)===F?"border-blue-600 bg-blue-50":"border-slate-200"}`,children:[e.jsx(z,{className:"w-8 h-8 text-slate-700"}),e.jsx("span",{className:"text-xs text-slate-600 text-center",children:F})]},F))}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function K7({memberInfo:t,organizationInfo:s,reloadMemberInfo:n,isFeatureExcluded:r}){const[a,i]=b.useState([]),[l,o]=b.useState(""),[c,u]=b.useState(!1),[d,m]=b.useState(!1),[h,p]=b.useState({}),[g,y]=b.useState(""),[v,j]=b.useState(""),[w,N]=b.useState(""),[_,T]=b.useState(""),[A,P]=b.useState(""),[C,R]=b.useState(""),[M,k]=b.useState(!1),[E,O]=b.useState(!1),[F,z]=b.useState(!1),[V,U]=b.useState(!0),[B,$]=b.useState(""),[L,I]=b.useState(!1),[W,q]=b.useState(!1),Z=Gt(),{data:J,isLoading:Q}=me({queryKey:["currentUser"],queryFn:async()=>await K.auth.me(),staleTime:30*1e3}),{data:G,isLoading:ae}=me({queryKey:["memberRecord",t==null?void 0:t.email],queryFn:async()=>(await K.entities.Member.list()).find(bt=>bt.email===(t==null?void 0:t.email)),enabled:!!(t!=null&&t.email),staleTime:30*1e3}),{data:se,isLoading:de}=me({queryKey:["engagementStats",G==null?void 0:G.id],queryFn:async()=>{if(!(G!=null&&G.id))return{eventsAttended:0,articlesWritten:0,jobsPosted:0};const[Qe,bt,ds]=await Promise.all([K.entities.Booking.list(),K.entities.BlogPost.list(),K.entities.JobPosting.list()]),we=Qe.filter(Ze=>Ze.member_id===G.id&&Ze.status==="confirmed").length,ut=bt.filter(Ze=>Ze.author_id===G.id&&Ze.status==="published").length,Pe=ds.filter(Ze=>Ze.posted_by_member_id===G.id).length;return{eventsAttended:we,articlesWritten:ut,jobsPosted:Pe}},enabled:!!(G!=null&&G.id),staleTime:60*1e3}),{data:ue=[],isLoading:oe}=me({queryKey:["awards"],queryFn:async()=>(await K.entities.Award.list()).filter(bt=>bt.is_active).sort((bt,ds)=>(bt.level||0)-(ds.level||0)),staleTime:300*1e3}),{data:pe=[],isLoading:be}=me({queryKey:["myOfflineAwardAssignments",G==null?void 0:G.id],queryFn:async()=>G!=null&&G.id?(await K.entities.OfflineAwardAssignment.list()).filter(bt=>bt.member_id===G.id):[],enabled:!!(G!=null&&G.id),staleTime:60*1e3}),{data:je=[]}=me({queryKey:["awardSublevels"],queryFn:async()=>await K.entities.AwardSublevel.list(),staleTime:300*1e3}),{data:Be=[],isLoading:qe}=me({queryKey:["myGroupAssignments",G==null?void 0:G.id],queryFn:async()=>G!=null&&G.id?(await K.entities.MemberGroupAssignment.list()).filter(bt=>bt.member_id===G.id):[],enabled:!!(G!=null&&G.id),staleTime:60*1e3}),{data:ke=[],isLoading:Se}=me({queryKey:["memberGroups"],queryFn:async()=>(await K.entities.MemberGroup.list()).filter(bt=>bt.is_active),enabled:Be.length>0,staleTime:60*1e3}),{data:Ge=[],isLoading:Ke}=me({queryKey:["offlineAwards"],queryFn:async()=>(await K.entities.OfflineAward.list()).filter(bt=>bt.is_active),staleTime:300*1e3}),{data:Me=[]}=me({queryKey:["awardClassifications"],queryFn:async()=>await K.entities.AwardClassification.list(),staleTime:300*1e3}),{data:it=[],isLoading:_e}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(bt=>bt.is_active).sort((bt,ds)=>(bt.display_order||0)-(ds.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),at=b.useMemo(()=>!se||!ue||ue.length===0?[]:ue.filter(Qe=>(Qe.award_type==="events_attended"?se.eventsAttended:Qe.award_type==="articles_published"?se.articlesWritten:Qe.award_type==="jobs_posted"?se.jobsPosted:0)>=Qe.threshold),[se,ue]),Ne=b.useMemo(()=>!pe||pe.length===0||!Ge?[]:pe.map(Qe=>{const bt=Ge.find(we=>we.id===Qe.offline_award_id);if(!bt)return null;const ds=Qe.sublevel_id?je.find(we=>we.id===Qe.sublevel_id):null;return{...bt,sublevel:ds}}).filter(Boolean).sort((Qe,bt)=>(Qe.level||0)-(bt.level||0)),[pe,Ge,je]);b.useEffect(()=>{G&&(y(G.first_name||""),j(G.last_name||""),N(G.job_title||""),T(G.biography||""),P(G.profile_photo_url||""),R(G.linkedin_url||""),U(G.show_in_directory!==!1))},[G]),b.useEffect(()=>{s&&$(s.logo_url||"")},[s]),b.useEffect(()=>{if(J!=null&&J.preferences){const Qe=J.preferences;Qe.selectedSubcategories&&i(Qe.selectedSubcategories),Qe.expandedCategories&&p(Qe.expandedCategories)}},[J]);const ze=Fe({mutationFn:async Qe=>await K.auth.updateMe({preferences:Qe}),onSuccess:()=>{Z.invalidateQueries({queryKey:["currentUser"]}),te.success("Preferences saved successfully"),u(!1),m(!1)},onError:Qe=>{te.error("Failed to save preferences"),m(!1)}}),nt=Fe({mutationFn:async Qe=>await K.entities.Member.update(G.id,Qe),onSuccess:()=>{Z.invalidateQueries({queryKey:["memberRecord"]}),Z.invalidateQueries({queryKey:["all-members-directory"]}),te.success("Profile updated successfully"),O(!1),z(!1),n&&n()},onError:Qe=>{te.error("Failed to update profile"),z(!1)}}),dt=Fe({mutationFn:async Qe=>await K.entities.Organization.update(s.id,{logo_url:Qe}),onSuccess:()=>{Z.invalidateQueries({queryKey:["organizations"]}),te.success("Organization logo updated successfully"),q(!1)},onError:Qe=>{te.error("Failed to update organization logo")}}),lt=async Qe=>{var ds;const bt=(ds=Qe.target.files)==null?void 0:ds[0];if(bt){if(!bt.type.startsWith("image/")){te.error("Please select an image file");return}if(bt.size>5*1024*1024){te.error("Image must be less than 5MB");return}k(!0);try{const we=await K.integrations.Core.UploadFile({file:bt});P(we.file_url),O(!0),te.success("Photo uploaded successfully")}catch{te.error("Failed to upload photo")}finally{k(!1)}}},Ot=async Qe=>{var ds;const bt=(ds=Qe.target.files)==null?void 0:ds[0];if(bt){if(!bt.type.startsWith("image/")){te.error("Please select an image file");return}if(bt.size>5*1024*1024){te.error("Image must be less than 5MB");return}I(!0);try{const we=await K.integrations.Core.UploadFile({file:bt});$(we.file_url),q(!0),te.success("Logo uploaded successfully")}catch{te.error("Failed to upload logo")}finally{I(!1)}}},Xt=async()=>{dt.mutate(B)},Ls=async()=>{m(!0);const Qe={selectedSubcategories:a,expandedCategories:h};ze.mutate(Qe)},Ns=async()=>{if(_.trim().split(/\s+/).filter(ds=>ds.length>0).length>500){te.error("Biography must be 500 words or less");return}z(!0);const bt={first_name:g,last_name:v,job_title:w,biography:_,profile_photo_url:A,linkedin_url:C,show_in_directory:V};nt.mutate(bt)},ln=()=>{i([]),p({}),o(""),u(!0)},Yt=Qe=>{i(bt=>{const ds=bt.includes(Qe)?bt.filter(we=>we!==Qe):[...bt,Qe];return u(!0),ds})};b.useEffect(()=>{if(G){const Qe=g!==(G.first_name||"")||v!==(G.last_name||"")||w!==(G.job_title||"")||_!==(G.biography||"")||A!==(G.profile_photo_url||"")||C!==(G.linkedin_url||"")||V!==(G.show_in_directory!==!1);O(Qe)}},[g,v,w,_,A,C,V,G]),b.useEffect(()=>{if(s){const Qe=B!==(s.logo_url||"");q(Qe)}},[B,s]);const fn=it.filter(Qe=>{if(!l)return!0;const bt=l.toLowerCase();return Qe.name.toLowerCase().includes(bt)||Qe.subcategories&&Qe.subcategories.some(ds=>ds.toLowerCase().includes(bt))}),As=()=>_.trim().split(/\s+/).filter(Qe=>Qe.length>0).length,vr=Q||_e||ae||be||Ke||qe,Vn=!r||!r("edit_professional_biography");return vr?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Preferences"}),e.jsx("p",{className:"text-slate-600",children:"Manage your profile and content preferences"})]}),s&&!(t!=null&&t.is_team_member)&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Organization Logo"}),e.jsx(Cs,{children:"Upload your organization's logo for the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:B?e.jsx("img",{src:B,alt:"Organization Logo",className:"w-full h-full object-contain"}):e.jsx(va,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"org-logo-upload",accept:"image/*",onChange:Ot,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:L,onClick:()=>document.getElementById("org-logo-upload").click(),children:L?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Logo"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),W&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:Xt,disabled:dt.isPending,className:"bg-blue-600 hover:bg-blue-700",children:dt.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Logo"]})})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Profile Information"}),e.jsx(Cs,{children:"Update your personal details"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:A?e.jsx("img",{src:A,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Js,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:lt,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:M,onClick:()=>document.getElementById("photo-upload").click(),children:M?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"firstName",children:"First Name"}),e.jsx(he,{id:"firstName",value:g,onChange:Qe=>y(Qe.target.value),placeholder:"Enter your first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"lastName",children:"Last Name"}),e.jsx(he,{id:"lastName",value:v,onChange:Qe=>j(Qe.target.value),placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"jobTitle",children:"Job Title"}),e.jsx(he,{id:"jobTitle",value:w,onChange:Qe=>N(Qe.target.value),placeholder:"e.g., Careers Adviser"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"linkedinUrl",children:"LinkedIn Profile URL"}),e.jsx(he,{id:"linkedinUrl",type:"url",value:C,onChange:Qe=>R(Qe.target.value),placeholder:"https://www.linkedin.com/in/your-profile"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"show-in-directory",className:"cursor-pointer",children:"Show in Member Directory"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Allow other members to see your profile in the member directory"})]}),e.jsx(ls,{id:"show-in-directory",checked:V,onCheckedChange:U})]}),(G==null?void 0:G.created_date)&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx(nH,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Member since"}),e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:At(new Date(G.created_date),"dd MMMM yyyy")})]})]}),E&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:Ns,disabled:F,className:"bg-blue-600 hover:bg-blue-700",children:F?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})})]})]}),Vn&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Engagement"}),e.jsx(Cs,{children:"Your activity and contributions to the community"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(js,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:de?"-":(se==null?void 0:se.eventsAttended)||0}),e.jsx("p",{className:"text-xs text-blue-700",children:"Events Attended"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:de?"-":(se==null?void 0:se.articlesWritten)||0}),e.jsx("p",{className:"text-xs text-purple-700",children:"Articles Published"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:e.jsx(kn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-900",children:de?"-":(se==null?void 0:se.jobsPosted)||0}),e.jsx("p",{className:"text-xs text-green-700",children:"Jobs Posted"})]})]})})]}),Be.length>0&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Groups"}),e.jsx(ve,{variant:"secondary",children:Be.length})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Be.map(Qe=>{const bt=ke.find(ds=>ds.id===Qe.group_id);return bt?e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx(bs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:bt.name}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:Qe.group_role}),bt.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:bt.description})]})]},Qe.id):null})})]}),(at.length>0||Ne.length>0)&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Fn,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Awards"}),e.jsx(ve,{variant:"secondary",children:at.length+Ne.length})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[at.map(Qe=>{const bt=Qe.classification_id?Me.find(ds=>ds.id===Qe.classification_id):null;return e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200 hover:shadow-md transition-shadow relative",children:[bt&&e.jsx(ve,{variant:"secondary",className:"absolute top-1 right-1 text-[10px] px-1.5 py-0.5",children:bt.name}),Qe.image_url?e.jsx("img",{src:Qe.image_url,alt:Qe.name,className:"w-12 h-12 object-contain mb-2"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center mb-2",children:e.jsx(Fn,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:"text-xs font-semibold text-center text-slate-900 line-clamp-2",children:Qe.name}),Qe.description&&e.jsx("p",{className:"text-xs text-slate-600 text-center mt-1 line-clamp-2",children:Qe.description})]},`online-${Qe.id}`)}),Ne.map((Qe,bt)=>{var we;const ds=Qe.classification_id?Me.find(ut=>ut.id===Qe.classification_id):null;return e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 hover:shadow-md transition-shadow relative",children:[ds&&e.jsx(ve,{variant:"secondary",className:"absolute top-1 right-1 text-[10px] px-1.5 py-0.5",children:ds.name}),(we=Qe.sublevel)!=null&&we.image_url?e.jsx("img",{src:Qe.sublevel.image_url,alt:Qe.sublevel.name,className:"w-12 h-12 object-contain mb-2"}):Qe.image_url?e.jsx("img",{src:Qe.image_url,alt:Qe.name,className:"w-12 h-12 object-contain mb-2"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-2",children:e.jsx(Fn,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:"text-xs font-semibold text-center text-slate-900 line-clamp-2",children:Qe.name}),Qe.sublevel&&e.jsx(ve,{className:"mt-1 bg-purple-600 text-white text-[10px]",children:Qe.sublevel.name}),Qe.period_text&&e.jsx("p",{className:"text-xs text-purple-700 text-center mt-1 font-medium",children:Qe.period_text}),Qe.description&&e.jsx("p",{className:"text-xs text-slate-600 text-center mt-1 line-clamp-2",children:Qe.description})]},`offline-${Qe.id}-${bt}`)})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"biography",children:"Professional Biography"}),e.jsxs("span",{className:`text-xs ${As()>500?"text-red-600 font-semibold":"text-slate-500"}`,children:[As()," / 500 words"]})]}),e.jsx(Ht,{id:"biography",value:_,onChange:Qe=>T(Qe.target.value),placeholder:"Share your professional background, expertise, and experience (max 500 words)",className:"min-h-[200px]"}),e.jsx("p",{className:"text-xs text-slate-500",children:"This biography will be displayed on your published articles"})]}),E&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:Ns,disabled:F||As()>500,className:"bg-blue-600 hover:bg-blue-700",children:F?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Biography"]})})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Resource Interests"}),e.jsx(Cs,{children:"Select topics you're interested in to personalize your experience"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Browse Topics"}),e.jsx("div",{className:"border border-slate-200 rounded-lg bg-slate-50 p-4 max-h-[600px] overflow-y-auto",children:e.jsx(R2,{categories:fn,selectedSubcategories:a,onSubcategoryToggle:Yt,searchQuery:l,onSearchChange:o,onClearSearch:()=>o("")})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Interests"}),a.length>0&&e.jsx(X,{variant:"ghost",size:"sm",onClick:ln,className:"text-blue-600 hover:text-blue-700",children:"Clear All"})]}),a.length===0?e.jsx("div",{className:"border border-dashed border-slate-300 rounded-lg p-8 text-center",children:e.jsx("p",{className:"text-slate-500 text-sm",children:"No interests selected yet. Browse topics on the left to get started."})}):e.jsx("div",{className:"border border-slate-200 rounded-lg bg-white p-4 space-y-2 max-h-[600px] overflow-y-auto",children:a.map(Qe=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{className:"text-sm text-slate-900",children:Qe}),e.jsx("button",{onClick:()=>Yt(Qe),className:"text-slate-500 hover:text-slate-700",children:e.jsx(ws,{className:"w-4 h-4"})})]},Qe))})]})]}),c&&e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:Ls,disabled:d,className:"bg-blue-600 hover:bg-blue-700",children:d?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})})})]})]})]})})}function Y7({memberInfo:t}){const[s,n]=b.useState(""),[r,a]=b.useState("all"),[i,l]=b.useState([]),[o,c]=b.useState("newest"),{data:u,isLoading:d}=me({queryKey:["article-display-name-setting"],queryFn:async()=>{const k=(await K.entities.SystemSettings.list()).find(E=>E.setting_key==="article_display_name");return(k==null?void 0:k.setting_value)||"Articles"},staleTime:0}),m=typeof u=="string"&&u||"Articles",h=m.endsWith("s")?m.slice(0,-1):m,{data:p=[],isLoading:g}=me({queryKey:["my-articles",t==null?void 0:t.email],queryFn:async()=>{const M=await K.entities.BlogPost.list("-created_date"),E=(await K.entities.Member.list()).find(O=>O.email===(t==null?void 0:t.email));return M.filter(O=>O.author_id===(E==null?void 0:E.id))},enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:y=[],isLoading:v}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(E=>E.is_active&&E.applies_to_content_types&&E.applies_to_content_types.includes("Articles")).sort((E,O)=>(E.display_order||0)-(O.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(k=>k.is_active&&k.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:w=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await K.entities.ArticleView.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:N=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await K.entities.ArticleReaction.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),_=b.useMemo(()=>{const M={};return p.forEach(k=>{M[k.id]={viewCount:w.filter(E=>E.article_id===k.id).length,likeCount:N.filter(E=>E.article_id===k.id&&E.reaction_type==="up").length}}),M},[p,w,N]),T=b.useMemo(()=>p.filter(M=>{var F,z,V;const k=((F=M.title)==null?void 0:F.toLowerCase().includes(s.toLowerCase()))||((z=M.summary)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((V=M.tags)==null?void 0:V.some(U=>U.toLowerCase().includes(s.toLowerCase()))),E=r==="all"||M.status===r,O=i.length===0||M.subcategories&&M.subcategories.some(U=>i.includes(U));return k&&E&&O}),[p,s,r,i]),A=b.useMemo(()=>{const M=[...T];switch(o){case"newest":M.sort((k,E)=>new Date(E.created_date)-new Date(k.created_date));break;case"oldest":M.sort((k,E)=>new Date(k.created_date)-new Date(E.created_date));break;case"title-asc":M.sort((k,E)=>k.title.localeCompare(E.title));break;case"title-desc":M.sort((k,E)=>E.title.localeCompare(k.title));break;case"most-viewed":M.sort((k,E)=>{var O,F;return(((O=_[E.id])==null?void 0:O.viewCount)||0)-(((F=_[k.id])==null?void 0:F.viewCount)||0)});break;case"most-liked":M.sort((k,E)=>{var O,F;return(((O=_[E.id])==null?void 0:O.likeCount)||0)-(((F=_[k.id])==null?void 0:F.likeCount)||0)});break}return M},[T,o,_]),P=M=>{l(k=>k.includes(M)?k.filter(E=>E!==M):[...k,M])},C=M=>{switch(M){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return!t||(g||v||d)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:["My ",m]}),e.jsx("p",{className:"text-slate-600",children:"Create and manage your content"})]}),e.jsx(Wt,{to:Ee("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"New ",h]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wc,{categories:y,selectedSubcategories:i,onSubcategoryToggle:P,searchQuery:s,onSearchChange:n,onClearSearch:()=>n(""),isLoading:!1,displayName:m}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(M=>e.jsx(X,{variant:r===M?"default":"outline",size:"sm",onClick:()=>a(M),className:"capitalize justify-start",children:M},M))})]})]})}),e.jsx("div",{className:"flex-1",children:A.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s||r!=="all"||i.length>0?`No ${m.toLowerCase()} found`:`No ${m.toLowerCase()} yet`}),e.jsx("p",{className:"text-slate-600 mb-6",children:s||r!=="all"||i.length>0?"Try adjusting your search or filters":`Start creating your first ${h.toLowerCase()}`}),!s&&r==="all"&&i.length===0&&e.jsx(Wt,{to:Ee("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Create First ",h]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",A.length," ",A.length===1?h.toLowerCase():m.toLowerCase()]}),e.jsxs(He,{value:o,onValueChange:c,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:A.map(M=>{const k=M.published_date&&new Date(M.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ve,{className:C(M.status),children:M.status}),k&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hc,{article:M,buttonStyles:j,showActions:!1,displayName:m})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Wt,{to:`${Ee("ArticleEditor")}?id=${M.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(ci,{className:"w-3 h-3"}),"Edit"]})}),M.status==="published"&&e.jsx(Wt,{to:`${Ee("ArticleView")}?slug=${M.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(fr,{className:"w-3 h-3"}),"View"]})})]})]},M.id)})})]})})]})]})})}function Q7(){const[t,s]=b.useState(""),[n,r]=b.useState([]),[a,i]=b.useState(1),[l,o]=b.useState("newest"),[c,u]=b.useState(6),{data:d=[],isLoading:m}=me({queryKey:["public-articles"],queryFn:async()=>(await K.entities.BlogPost.list("-published_date")).filter(O=>O.status==="published"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(F=>F.is_active&&F.applies_to_content_types&&F.applies_to_content_types.includes("Articles")).sort((F,z)=>(F.display_order||0)-(z.display_order||0)),staleTime:0,refetchOnMount:!0}),{data:g=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await K.entities.ArticleView.list(),staleTime:30*1e3}),{data:y=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await K.entities.ArticleReaction.list(),staleTime:30*1e3}),{data:v="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const O=(await K.entities.SystemSettings.list()).find(F=>F.setting_key==="article_display_name");return(O==null?void 0:O.setting_value)||"Articles"},staleTime:300*1e3,refetchOnWindowFocus:!1}),j=b.useMemo(()=>{const E={};return d.forEach(O=>{E[O.id]={viewCount:g.filter(F=>F.article_id===O.id).length,likeCount:y.filter(F=>F.article_id===O.id&&F.reaction_type==="up").length}}),E},[d,g,y]),w=b.useMemo(()=>d.filter(E=>{var z,V,U;const O=((z=E.title)==null?void 0:z.toLowerCase().includes(t.toLowerCase()))||((V=E.summary)==null?void 0:V.toLowerCase().includes(t.toLowerCase()))||((U=E.tags)==null?void 0:U.some(B=>B.toLowerCase().includes(t.toLowerCase()))),F=n.length===0||E.subcategories&&E.subcategories.some(B=>n.includes(B));return O&&F}),[d,t,n]),N=b.useMemo(()=>{const E=[...w];switch(l){case"newest":E.sort((O,F)=>new Date(F.published_date||F.created_date)-new Date(O.published_date||O.created_date));break;case"oldest":E.sort((O,F)=>new Date(O.published_date||O.created_date)-new Date(F.published_date||F.created_date));break;case"title-asc":E.sort((O,F)=>O.title.localeCompare(F.title));break;case"title-desc":E.sort((O,F)=>F.title.localeCompare(O.title));break;case"most-viewed":E.sort((O,F)=>{var z,V;return(((z=j[F.id])==null?void 0:z.viewCount)||0)-(((V=j[O.id])==null?void 0:V.viewCount)||0)});break;case"most-liked":E.sort((O,F)=>{var z,V;return(((z=j[F.id])==null?void 0:z.likeCount)||0)-(((V=j[O.id])==null?void 0:V.likeCount)||0)});break}return E},[w,l,j]),_=Math.ceil(N.length/c),T=(a-1)*c,A=T+c,P=N.slice(T,A),C=()=>{const E=[];if(_<=5)for(let F=1;F<=_;F++)E.push(F);else if(a<=3){for(let F=1;F<=4;F++)E.push(F);_>5&&E.push("..."),E.push(_)}else if(a>=_-2){E.push(1),_>5&&E.push("...");for(let F=_-3;F<=_;F++)E.push(F)}else{E.push(1),E.push("...");for(let F=a-1;F<=a+1;F++)E.push(F);E.push("..."),E.push(_)}return E};Ie.useEffect(()=>{i(1)},[n,t,l,c]);const R=E=>{r(O=>O.includes(E)?O.filter(F=>F!==E):[...O,E])},M=E=>{i(E),window.scrollTo({top:0,behavior:"smooth"})},k=m||p;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:v}),e.jsxs("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:["Explore ",v.toLowerCase()," from the careers education community"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(Wc,{categories:h,selectedSubcategories:n,onSubcategoryToggle:R,searchQuery:t,onSearchChange:s,onClearSearch:()=>s(""),isLoading:!1,displayName:v})})}),e.jsx("div",{className:"flex-1",children:k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((E,O)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},O))}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",v.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:t||n.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",T+1,"-",Math.min(A,N.length)," of ",N.length," ",v.toLowerCase()]}),e.jsxs(He,{value:l,onValueChange:o,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:P.map(E=>e.jsx(Hc,{article:E,displayName:v},E.id))}),N.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(He,{value:c.toString(),onValueChange:E=>{u(Number(E)),i(1)},children:[e.jsx(Ue,{className:"w-20",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a," of ",_]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>M(a-1),disabled:a===1,children:e.jsx(Un,{className:"w-4 h-4"})}),C().map((E,O)=>e.jsx(Ie.Fragment,{children:E==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:a===E?"default":"outline",size:"sm",onClick:()=>M(E),className:a===E?"bg-blue-600 hover:bg-blue-700":"",children:E})},O)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>M(a+1),disabled:a===_,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})})})]})})]})]})})}function J7({isAdmin:t,memberInfo:s}){const[n,r]=b.useState(null),{data:a=[],isLoading:i,refetch:l}=me({queryKey:["members-without-handles"],queryFn:async()=>(await K.entities.Member.list()).filter(d=>!d.handle)}),o=Fe({mutationFn:async()=>await K.functions.invoke("generateMemberHandles",{generate_all:!0,member_email:s==null?void 0:s.email}),onSuccess:u=>{r(u.data),l();const{successful:d,failed:m}=u.data.summary;d>0&&te.success(`Successfully generated ${d} handle(s)`),m>0&&te.error(`Failed to generate ${m} handle(s)`)},onError:u=>{console.error("Generation error:",u),te.error("Failed to generate handles: "+u.message)}}),c=()=>{if(!(s!=null&&s.email)){te.error("Member information not available");return}window.confirm(`This will generate handles for ${a.length} member(s). Continue?`)&&o.mutate()};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(of,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Handle Management"})]}),e.jsx("p",{className:"text-slate-600",children:"Generate unique handles for members who don't have one yet"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),"Handle Generation Status"]})}),e.jsx(ce,{children:i?e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Loading members..."]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.length}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Member",a.length!==1?"s":""," without handle"]})]}),e.jsx(X,{onClick:c,disabled:a.length===0||o.isPending||!(s!=null&&s.email),className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pu,{className:"w-4 h-4 mr-2"}),"Generate All Handles"]})})]}),a.length===0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-700",children:"All members have handles assigned!"})]})]})})]}),a.length>0&&e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsxs(Re,{children:[e.jsx($e,{className:"text-lg",children:"Members Needing Handles"}),e.jsx(Cs,{children:"The following members will have handles generated automatically"})]}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900",children:[u.first_name," ",u.last_name]}),e.jsx("p",{className:"text-sm text-slate-600",children:u.email})]}),e.jsx(ve,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"No Handle"})]},u.id))})})]}),n&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{className:"text-lg",children:"Generation Results"}),e.jsx(Cs,{children:"Summary of the last handle generation run"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:n.summary.successful}),e.jsx("p",{className:"text-sm text-green-600",children:"Successful"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-2xl font-bold text-red-700",children:n.summary.failed}),e.jsx("p",{className:"text-sm text-red-600",children:"Failed"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-700",children:n.summary.skipped}),e.jsx("p",{className:"text-sm text-slate-600",children:"Skipped"})]})]}),n.results.success.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(Kn,{className:"w-5 h-5 text-green-600"}),"Successfully Generated (",n.results.success.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.success.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:u.name}),e.jsx("p",{className:"text-sm text-slate-600",children:u.email})]}),e.jsxs(ve,{className:"bg-green-100 text-green-700 border-green-300",children:["@",u.handle]})]},u.member_id))})]}),n.results.failed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600"}),"Failed (",n.results.failed.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.failed.map(u=>e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"font-medium text-slate-900",children:u.email}),e.jsx("p",{className:"text-sm text-red-600",children:u.error})]},u.member_id))})]}),n.results.skipped.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:["Skipped (",n.results.skipped.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.skipped.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:u.email}),e.jsx("p",{className:"text-sm text-slate-600",children:u.reason})]}),e.jsxs(ve,{variant:"outline",children:["@",u.existing_handle]})]},u.member_id))})]})]})]}),e.jsx(le,{className:"border-blue-200 bg-blue-50 shadow-sm mt-6",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(ps,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold",children:"How Handle Generation Works:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:'Handles are generated from first and last names (e.g., "john-doe")'}),e.jsx("li",{children:'If a handle already exists, a number is appended (e.g., "john-doe-1")'}),e.jsx("li",{children:"Handles must be 3-30 characters, lowercase, and URL-friendly"}),e.jsx("li",{children:"Once set, handles cannot be changed by the member"}),e.jsx("li",{children:"Members who already have handles will be skipped"})]})]})]})})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-red-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ps,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"This page is only accessible to administrators."})]})})})})}const Vw={ArrowUpRight:kr,Download:Qn,ExternalLink:Qs,PlayCircle:Pu,Eye:fr,FileText:ts,Mail:Ts,Plus:Et};function X7({isAdmin:t}){const s=b.useMemo(()=>new URLSearchParams(window.location.search),[]),n=s.get("mode"),r=s.get("id"),a=Gt(),[i,l]=b.useState(0),[o]=b.useState(n==="create"||n==="edit"),[c,u]=b.useState(null),[d,m]=b.useState(null),[h,p]=b.useState(null),[g,y]=b.useState("ArrowUpRight"),[v,j]=b.useState(""),[w,N]=b.useState(""),[_,T]=b.useState(""),{data:A}=me({queryKey:["buttonStyle",r],queryFn:async()=>(await K.entities.ButtonStyle.list()).find(F=>F.id===r),enabled:!!r&&n==="edit",staleTime:300*1e3,refetchOnWindowFocus:!1});b.useEffect(()=>{A&&(u(A.card_type),m(A.resource_type||null),p(A.button_type),y(A.icon_name||"ArrowUpRight"),j(A.button_text||""),N(A.name||""),T(A.description||""))},[A]);const P=Fe({mutationFn:async()=>{if(!w.trim())throw new Error("Please enter a style name");if(!c)throw new Error("Please select a card type");if(c==="resource"&&!d)throw new Error("Please select a resource type");if(!h)throw new Error("Please select a button style");const O={name:w,card_type:c,resource_type:c==="resource"?d:void 0,button_type:h,button_text:v||C(c,d),icon_name:h==="rectangular_agcas"?g:"none",description:_,is_active:!0};return r&&n==="edit"?await K.entities.ButtonStyle.update(r,O):await K.entities.ButtonStyle.create(O)},onSuccess:()=>{a.invalidateQueries({queryKey:["buttonStyles"]}),te.success(r?"Button style updated successfully!":"Button style created successfully!"),window.location.href=Ee("ButtonStyleManagement")},onError:O=>{te.error(O.message||"Failed to save button style")}}),C=(O,F,z)=>{if(O==="article")return"Read Article";if(O==="resource"){if(F==="download")return"Download";if(F==="video")return"Watch Video";if(F==="external_link")return"Visit Site"}return"Click Here"},R=(O,F=null)=>{p(O),F&&y(F)},M=()=>{window.location.href=Ee("ButtonStyleManagement")},k=()=>{l(O=>O+1),te.success("Button clicked!")},E=(O,F,z)=>{const V=F||C(c,d),U=Vw[z];return O==="square_agcas"?e.jsx(Oa,{onClick:()=>{}}):O==="rectangular_agcas"?e.jsx(Fs,{onClick:()=>{},icon:z!=="none"?U:void 0,children:V}):e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[U&&z!=="none"&&e.jsx(U,{className:"w-4 h-4 mr-2"}),V]})};if(o&&t){const O=c&&(c==="article"||c==="resource"&&d);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(X,{variant:"ghost",onClick:M,className:"mb-4 gap-2",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to Button Styles"]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:r?"Edit Button Style":"Create Button Style"}),e.jsx("p",{className:"text-slate-600",children:"Select card type, then choose a button style to set as default"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs(le,{className:"border-slate-200 shadow-sm sticky top-8",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Style Configuration"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"style-name",children:"Style Name *"}),e.jsx(he,{id:"style-name",placeholder:"e.g., Download Button Style",value:w,onChange:F=>N(F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"card-type",children:"Card Type *"}),e.jsxs(He,{value:c||"",onValueChange:u,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select card type"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"article",children:"Article Cards"}),e.jsx(re,{value:"resource",children:"Resource Cards"})]})]})]}),c==="resource"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"resource-type",children:"Resource Type *"}),e.jsxs(He,{value:d||"",onValueChange:m,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select resource type"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"download",children:"Download Resources"}),e.jsx(re,{value:"video",children:"Video Resources"}),e.jsx(re,{value:"external_link",children:"External Link Resources"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"This style will apply to all resource cards of this type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"custom-text",children:"Button Text (Optional)"}),e.jsx(he,{id:"custom-text",placeholder:`Default: ${C(c,d)}`,value:v,onChange:F=>j(F.target.value)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default text"})]}),h==="rectangular_agcas"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"icon",children:"Icon"}),e.jsxs(He,{value:g,onValueChange:y,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"ArrowUpRight",children:"Arrow Up Right"}),e.jsx(re,{value:"Download",children:"Download"}),e.jsx(re,{value:"ExternalLink",children:"External Link"}),e.jsx(re,{value:"PlayCircle",children:"Play Circle"}),e.jsx(re,{value:"Eye",children:"Eye"}),e.jsx(re,{value:"FileText",children:"File Text"}),e.jsx(re,{value:"Mail",children:"Mail"}),e.jsx(re,{value:"Plus",children:"Plus"}),e.jsx(re,{value:"none",children:"No Icon"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Ht,{id:"description",placeholder:"Describe this button style...",value:_,onChange:F=>T(F.target.value),rows:3})]}),O&&h&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx(ee,{className:"text-sm mb-3 block",children:"Preview:"}),E(h,v,g)]}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs(X,{onClick:()=>P.mutate(),disabled:P.isPending||!O||!h||!w,className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),r?"Update Style":"Create Style"]}),e.jsx(X,{variant:"outline",onClick:M,className:"w-full",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:O?e.jsxs(e.Fragment,{children:[e.jsxs(le,{className:`border-2 ${h==="rectangular_agcas"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm transition-all`,children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($e,{children:"AGCAS Rectangular Button"}),e.jsx(Cs,{children:"Transparent background with 2px border and gradient hover - Click any button below to select it"})]}),h==="rectangular_agcas"&&e.jsx(ve,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[Object.entries(Vw).map(([F,z])=>e.jsx(Fs,{onClick:V=>{V.stopPropagation(),R("rectangular_agcas",F)},icon:z,children:v||C(c,d)},F)),e.jsx(Fs,{onClick:F=>{F.stopPropagation(),R("rectangular_agcas","none")},children:v||C(c,d)})]})})]}),e.jsxs(le,{className:`border-2 ${h==="square_agcas"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm cursor-pointer transition-all hover:border-blue-300`,onClick:()=>R("square_agcas"),children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($e,{children:"AGCAS Square Button"}),e.jsx(Cs,{children:"Square button with arrow up icon - Click to select"})]}),h==="square_agcas"&&e.jsx(ve,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Oa,{onClick:F=>{F.stopPropagation(),R("square_agcas")}}),e.jsx(Oa,{onClick:F=>{F.stopPropagation(),R("square_agcas")},className:"w-20 h-20"})]})})]}),e.jsxs(le,{className:`border-2 ${h==="standard"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm transition-all`,children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx($e,{children:"Standard Button"}),e.jsx(Cs,{children:"Standard shadcn/ui button with solid background - Click any button below to select it"})]}),h==="standard"&&e.jsx(ve,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[Object.entries(Vw).map(([F,z])=>e.jsxs(X,{onClick:V=>{V.stopPropagation(),R("standard",F)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),v||C(c,d)]},F)),e.jsx(X,{onClick:F=>{F.stopPropagation(),R("standard","none")},className:"bg-blue-600 hover:bg-blue-700",children:v||C(c,d)})]})})]})]}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:c?"Select a Resource Type":"Select a Card Type"}),e.jsx("p",{className:"text-slate-600",children:c?"Choose resource type from the sidebar to continue":"Choose card type from the sidebar to continue"})]})})})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"AGCAS Button Elements"}),e.jsx("p",{className:"text-slate-600",children:"Reusable button components with consistent styling across the portal"})]}),e.jsxs("div",{className:"grid gap-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Basic AGCAS Button"}),e.jsx(Cs,{children:"Rectangular button with 2px black border, transparent background, and gradient hover effect"})]}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Default Button:"}),e.jsx(Fs,{onClick:k,children:"Click Me"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"With Icon (Arrow Up Right):"}),e.jsx(Fs,{onClick:k,icon:kr,children:"Join Us"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Disabled State:"}),e.jsx(Fs,{disabled:!0,children:"Disabled Button"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsxs("p",{className:"text-sm text-slate-500 italic",children:["Click count: ",i]})})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"AGCAS Square Button"}),e.jsx(Cs,{children:"Square button with arrow up icon filling 80% of the space, same styling as rectangular button"})]}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Default Square Button:"}),e.jsx(Oa,{onClick:k})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Disabled State:"}),e.jsx(Oa,{disabled:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Custom Sizes:"}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx(Oa,{onClick:k,className:"w-12 h-12"}),e.jsx(Oa,{onClick:k}),e.jsx(Oa,{onClick:k,className:"w-20 h-20"}),e.jsx(Oa,{onClick:k,className:"w-24 h-24"})]})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Button Variations with Icons"}),e.jsx(Cs,{children:"Different use cases with various Lucide icons"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(Fs,{onClick:k,icon:Qn,children:"Download"}),e.jsx(Fs,{onClick:k,icon:Qs,children:"Visit Site"}),e.jsx(Fs,{onClick:k,icon:Ts,children:"Contact"}),e.jsx(Fs,{onClick:k,icon:Et,children:"Add New"}),e.jsx(Fs,{onClick:k,icon:un,children:"Save Changes"}),e.jsx(Fs,{onClick:k,icon:ci,children:"Edit"}),e.jsx(Fs,{onClick:k,icon:is,children:"Delete"}),e.jsx(Fs,{onClick:k,icon:fr,children:"Preview"}),e.jsx(Fs,{onClick:k,icon:cf,children:"Confirm"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Text-Only Buttons"}),e.jsx(Cs,{children:"Buttons without icons for simple actions"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Fs,{onClick:k,children:"Submit"}),e.jsx(Fs,{onClick:k,children:"Cancel"}),e.jsx(Fs,{onClick:k,children:"Learn More"}),e.jsx(Fs,{onClick:k,children:"Get Started"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Size Variations"}),e.jsx(Cs,{children:"Custom sizing using className prop"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsx(Fs,{onClick:k,className:"px-3 py-1.5 text-xs",children:"Small Button"}),e.jsx(Fs,{onClick:k,children:"Default Button"}),e.jsx(Fs,{onClick:k,className:"px-8 py-4 text-base",children:"Large Button"}),e.jsx(Fs,{onClick:k,className:"px-12 py-5 text-lg",children:"Extra Large"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Full Width Buttons"}),e.jsx(Cs,{children:"Buttons that span the full width of their container"})]}),e.jsxs(ce,{className:"space-y-3",children:[e.jsx(Fs,{onClick:k,className:"w-full",icon:kr,children:"Full Width Button"}),e.jsx(Fs,{onClick:k,className:"w-full",icon:Qn,children:"Download Resource"}),e.jsx(Fs,{onClick:k,className:"w-full",children:"Continue"})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Usage Example"}),e.jsx(Cs,{children:"How to import and use the AGCAS Button components"})]}),e.jsx(ce,{children:e.jsx("div",{className:"bg-slate-900 text-slate-100 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-sm",children:`import AGCASButton from "@/components/ui/AGCASButton";
import AGCASSquareButton from "@/components/ui/AGCASSquareButton";
import { ArrowUpRight } from "lucide-react";

// Basic rectangular button
<AGCASButton onClick={handleClick}>
  Click Me
</AGCASButton>

// Rectangular button with icon
<AGCASButton onClick={handleClick} icon={ArrowUpRight}>
  Join Us
</AGCASButton>

// Square button with arrow up icon
<AGCASSquareButton onClick={handleClick} />

// Square button with custom size
<AGCASSquareButton 
  onClick={handleClick} 
  className="w-20 h-20"
/>

// With custom styling
<AGCASButton 
  onClick={handleClick} 
  className="w-full px-8 py-4"
  icon={Download}
>
  Download Now
</AGCASButton>

// Disabled state
<AGCASButton disabled>
  Disabled Button
</AGCASButton>`})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Comparison"}),e.jsx(Cs,{children:"AGCAS Button vs Standard shadcn/ui Button"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"AGCAS Button:"}),e.jsx(Fs,{onClick:k,icon:kr,children:"AGCAS Style"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 ml-4",children:[e.jsx("li",{children:" 2px black border"}),e.jsx("li",{children:" Transparent background"}),e.jsx("li",{children:" Gradient hover effect"}),e.jsx("li",{children:" No border radius"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Standard Button:"}),e.jsxs(X,{onClick:k,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(kr,{className:"w-4 h-4 mr-2"}),"Standard Style"]}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 ml-4",children:[e.jsx("li",{children:" Solid background"}),e.jsx("li",{children:" Rounded corners"}),e.jsx("li",{children:" Simple hover effect"})]})]})]})})]})]})]})})}const Rwe={ArrowUpRight:kr,Download:Qn,ExternalLink:Qs,PlayCircle:Pu,Eye:fr,FileText:ts,Mail:Ts,Plus:Et};function Z7({isAdmin:t,isFeatureExcluded:s}){const n=Gt(),{data:r=[],isLoading:a}=me({queryKey:["buttonStyles"],queryFn:()=>K.entities.ButtonStyle.list("-created_date")}),i=Fe({mutationFn:y=>K.entities.ButtonStyle.delete(y),onSuccess:()=>{n.invalidateQueries({queryKey:["buttonStyles"]}),te.success("Button style deleted successfully")},onError:y=>{te.error("Failed to delete button style: "+y.message)}});if(!t||s("page_ButtonStyleManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const l=()=>{window.location.href=Ee("ButtonElements")+"?mode=create"},o=y=>{window.location.href=Ee("ButtonElements")+`?mode=edit&id=${y.id}`},c=y=>{window.confirm("Are you sure you want to delete this button style? This action cannot be undone.")&&i.mutate(y)},u=y=>{const v=Rwe[y.icon_name];return y.button_type==="square_agcas"?e.jsx(Oa,{onClick:()=>{}}):y.button_type==="rectangular_agcas"?e.jsx(Fs,{onClick:()=>{},icon:y.icon_name!=="none"?v:void 0,children:y.button_text||"Sample Text"}):e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[v&&y.icon_name!=="none"&&e.jsx(v,{className:"w-4 h-4 mr-2"}),y.button_text||"Sample Text"]})},d=r.filter(y=>y.card_type==="article"),m=r.filter(y=>y.card_type==="resource"&&y.resource_type==="download"),h=r.filter(y=>y.card_type==="resource"&&y.resource_type==="video"),p=r.filter(y=>y.card_type==="resource"&&y.resource_type==="external_link"),g=(y,v,j)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:y}),v.length===0&&e.jsxs(X,{onClick:l,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add Style"]})]}),v.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm border-dashed",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:j})})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.map(w=>e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-lg mb-1",children:w.name}),w.description&&e.jsx("p",{className:"text-sm text-slate-600",children:w.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>o(w),children:e.jsx(ci,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>c(w.id),className:"text-red-600 hover:text-red-700",children:e.jsx(is,{className:"w-4 h-4"})})]})]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Preview"}),e.jsx("div",{className:"flex items-center gap-3",children:u(w)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Type"}),e.jsx("div",{className:"text-sm font-medium capitalize",children:w.button_type.replace(/_/g," ")})]}),w.button_type==="rectangular_agcas"&&w.icon_name!=="none"&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Icon"}),e.jsx("div",{className:"text-sm font-medium",children:w.icon_name})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:w.is_active?e.jsxs(e.Fragment,{children:[e.jsx(cf,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Active"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Inactive"})]})})]})]})]})]},w.id))})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Button Style Management"}),e.jsx("p",{className:"text-slate-600",children:"Define default button styles for different card types"})]}),e.jsxs(X,{onClick:l,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Create Button Style"]})]}),a?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((y,v)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})]}),e.jsx(ce,{children:e.jsx("div",{className:"h-10 bg-slate-200 rounded"})})]},v))}):r.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No button styles yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create button styles to define how buttons appear on Article and Resource cards"}),e.jsxs(X,{onClick:l,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Create First Style"]})]})}):e.jsxs("div",{className:"space-y-8",children:[g("Article Cards",d,"No button style defined for Article cards yet"),g("Download Resources",m,"No button style defined for Download resources yet"),g("Video Resources",h,"No button style defined for Video resources yet"),g("External Link Resources",p,"No button style defined for External Link resources yet")]})]})})}function eq({isAdmin:t,isFeatureExcluded:s}){const n=Gt(),[r,a]=b.useState(""),{data:i,isLoading:l}=me({queryKey:["borderRadiusSettings"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(d=>d.setting_key==="global_border_radius"),onSuccess:c=>{a(c?c.setting_value:"8px")}}),o=Fe({mutationFn:async()=>i?await K.entities.SystemSettings.update(i.id,{setting_value:r}):await K.entities.SystemSettings.create({setting_key:"global_border_radius",setting_value:r,description:"Global border radius for cards, buttons, and inputs"}),onSuccess:()=>{n.invalidateQueries({queryKey:["borderRadiusSettings"]}),te.success("Border radius settings saved. Refresh the page to see changes.")},onError:c=>{te.error("Failed to save settings: "+c.message)}});return!t||s("page_BorderRadiusSettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Border Radius Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure the global border radius for cards, buttons, inputs, and other UI elements"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{children:"Global Border Radius"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"border-radius",children:"Border Radius Value"}),e.jsx(he,{id:"border-radius",value:r,onChange:c=>a(c.target.value),placeholder:"e.g., 0px, 4px, 8px, 12px, 0.5rem"}),e.jsx("p",{className:"text-sm text-slate-500",children:'Enter a CSS border-radius value. Use "0px" or "0" for square corners, or values like "8px", "12px", "1rem" for rounded corners.'})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ee,{children:"Preview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-6 bg-white border border-slate-200 shadow-sm",style:{borderRadius:r},children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 mb-2",children:"Sample Card"}),e.jsx("p",{className:"text-sm text-slate-600",children:"This is how cards will look with the selected border radius."})]}),e.jsx(X,{variant:"outline",style:{borderRadius:r},onClick:()=>{},children:"Sample Button"}),e.jsx(he,{placeholder:"Sample Input",style:{borderRadius:r}})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(X,{onClick:()=>o.mutate(),disabled:o.isPending||l,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Settings"]}),e.jsx(X,{variant:"outline",onClick:()=>a("0px"),children:"Square (0px)"}),e.jsx(X,{variant:"outline",onClick:()=>a("8px"),children:"Default (8px)"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 mt-6",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Note:"})," After saving, you'll need to refresh the page for changes to take effect throughout the application."]})})]})]})]})})}function tq({isAdmin:t,isFeatureExcluded:s,memberInfo:n}){var yr,nd;const[r,a]=b.useState("online"),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(!1),[p,g]=b.useState(!1),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[T,A]=b.useState(!1),[P,C]=b.useState(!1),[R,M]=b.useState(null),[k,E]=b.useState(null),[O,F]=b.useState(null),[z,V]=b.useState(null),[U,B]=b.useState(null),[$,L]=b.useState(null),[I,W]=b.useState(null),[q,Z]=b.useState(null),[J,Q]=b.useState(null),[G,ae]=b.useState(null),[se,de]=b.useState(!1),[ue,oe]=b.useState(""),[pe,be]=b.useState(""),[je,Be]=b.useState(""),[qe,ke]=b.useState(""),[Se,Ge]=b.useState(""),[Ke,Me]=b.useState({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}),[it,_e]=b.useState({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0}),[at,Ne]=b.useState({name:"",description:"",award_category:"online",display_order:"",is_active:!0}),[ze,nt]=b.useState({name:"",threshold:"",display_order:"",image_url:"",is_active:!0}),dt=Gt(),{data:lt=[],isLoading:Ot}=me({queryKey:["awards"],queryFn:async()=>(await K.entities.Award.list()).sort((zt,et)=>zt.award_type!==et.award_type?zt.award_type.localeCompare(et.award_type):(zt.level||0)-(et.level||0)),staleTime:30*1e3}),{data:Xt=[],isLoading:Ls}=me({queryKey:["offlineAwards"],queryFn:async()=>(await K.entities.OfflineAward.list()).sort((zt,et)=>(zt.level||0)-(et.level||0)),staleTime:30*1e3}),{data:Ns=[]}=me({queryKey:["members"],queryFn:async()=>await K.entities.Member.list(),staleTime:60*1e3}),{data:ln=[]}=me({queryKey:["offlineAwardAssignments"],queryFn:async()=>await K.entities.OfflineAwardAssignment.list(),staleTime:30*1e3}),{data:Yt=[],isLoading:fn}=me({queryKey:["awardClassifications"],queryFn:async()=>(await K.entities.AwardClassification.list()).sort((zt,et)=>(zt.display_order||0)-(et.display_order||0)),staleTime:30*1e3}),{data:As=[],isLoading:vr}=me({queryKey:["awardSublevels"],queryFn:async()=>(await K.entities.AwardSublevel.list()).sort((zt,et)=>(zt.display_order||0)-(et.display_order||0)),staleTime:30*1e3}),Vn=Fe({mutationFn:async xe=>await K.entities.Award.create(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awards"]}),te.success("Online award created successfully"),Xn()},onError:xe=>{te.error("Failed to create online award")}}),Qe=Fe({mutationFn:async xe=>await K.entities.OfflineAward.create(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award created successfully"),Xn()},onError:xe=>{te.error("Failed to create offline award")}}),bt=Fe({mutationFn:async({id:xe,awardData:zt})=>await K.entities.Award.update(xe,zt),onSuccess:()=>{dt.invalidateQueries({queryKey:["awards"]}),te.success("Online award updated successfully"),Xn()},onError:xe=>{te.error("Failed to update online award")}}),ds=Fe({mutationFn:async({id:xe,awardData:zt})=>await K.entities.OfflineAward.update(xe,zt),onSuccess:()=>{dt.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award updated successfully"),Xn()},onError:xe=>{te.error("Failed to update offline award")}}),we=Fe({mutationFn:async xe=>await K.entities.Award.delete(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awards"]}),te.success("Online award deleted successfully"),w(!1),W(null)},onError:xe=>{te.error("Failed to delete online award")}}),ut=Fe({mutationFn:async xe=>await K.entities.OfflineAward.delete(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award deleted successfully"),w(!1),W(null)},onError:xe=>{te.error("Failed to delete offline award")}}),Pe=Fe({mutationFn:async xe=>{if(ln.find(et=>et.member_id===xe.member_id&&et.offline_award_id===xe.offline_award_id&&(et.sublevel_id||null)===(xe.sublevel_id||null))){const et=As.find(Rt=>Rt.id===xe.sublevel_id),zs=et?` (${et.name})`:"";throw new Error(`This member already has this award${zs} assigned`)}return await K.entities.OfflineAwardAssignment.create(xe)},onSuccess:()=>{dt.invalidateQueries({queryKey:["offlineAwardAssignments"]}),te.success("Award assigned successfully"),xt()},onError:xe=>{te.error(xe.message||"Failed to assign award")}}),Ze=Fe({mutationFn:async xe=>await K.entities.OfflineAwardAssignment.delete(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["offlineAwardAssignments"]}),te.success("Award removed from member"),C(!1),ae(null)},onError:xe=>{te.error("Failed to remove award")}}),yt=Fe({mutationFn:async xe=>await K.entities.AwardClassification.create(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification created successfully"),c(!1),E(null)},onError:xe=>{te.error("Failed to create classification")}}),ns=Fe({mutationFn:async({id:xe,data:zt})=>await K.entities.AwardClassification.update(xe,zt),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification updated successfully"),c(!1),E(null)},onError:xe=>{te.error("Failed to update classification")}}),os=Fe({mutationFn:async xe=>await K.entities.AwardClassification.delete(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification deleted successfully"),_(!1),Z(null)},onError:xe=>{te.error("Failed to delete classification")}}),Ys=Fe({mutationFn:async xe=>await K.entities.AwardSublevel.create(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel created successfully"),h(!1),F(null)},onError:xe=>{te.error("Failed to create sublevel")}}),us=Fe({mutationFn:async({id:xe,data:zt})=>await K.entities.AwardSublevel.update(xe,zt),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel updated successfully"),h(!1),F(null)},onError:xe=>{te.error("Failed to update sublevel")}}),Dr=Fe({mutationFn:async xe=>await K.entities.AwardSublevel.delete(xe),onSuccess:()=>{dt.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel deleted successfully"),A(!1),Q(null)},onError:xe=>{te.error("Failed to delete sublevel")}});if(!t||s("page_AwardManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const vn=(xe=null,zt="online")=>{xe?(M({...xe,type:zt}),zt==="online"?Me({name:xe.name||"",description:xe.description||"",classification_id:xe.classification_id||"",award_type:xe.award_type||"events_attended",threshold:xe.threshold||"",level:xe.level||"",image_url:xe.image_url||"",is_active:xe.is_active??!0}):_e({name:xe.name||"",description:xe.description||"",classification_id:xe.classification_id||"",period_text:xe.period_text||"",level:xe.level||"",image_url:xe.image_url||"",is_active:xe.is_active??!0})):(M(null),zt==="online"?Me({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}):_e({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0})),l(!0)},Xn=()=>{l(!1),M(null),Me({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}),_e({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0})},Or=(xe=null)=>{xe?(E(xe),Ne({name:xe.name||"",description:xe.description||"",award_category:xe.award_category||"online",display_order:xe.display_order||"",is_active:xe.is_active??!0})):(E(null),Ne({name:"",description:"",award_category:r,display_order:"",is_active:!0})),c(!0)},ia=xe=>{V(xe),d(!0)},ge=(xe=null)=>{xe?(F(xe),nt({name:xe.name||"",threshold:xe.threshold||"",display_order:xe.display_order||"",image_url:xe.image_url||"",is_active:xe.is_active??!0})):(F(null),nt({name:"",threshold:"",display_order:"",image_url:"",is_active:!0})),h(!0)},ft=xe=>{B(xe),oe(""),be(""),Be(""),ke(""),g(!0)},xt=()=>{g(!1),B(null),oe(""),be(""),Be(""),ke("")},Pt=xe=>{L(xe),Ge(""),v(!0)},_s=()=>{v(!1),L(null),Ge("")},Rr=()=>{if(!ue){te.error("Please select a member");return}const xe={offline_award_id:U.id,member_id:ue,sublevel_id:pe||null,assigned_by:(n==null?void 0:n.email)||"",notes:je};Pe.mutate(xe)},yi=()=>{G&&Ze.mutate(G.id)},En=async(xe,zt)=>{var zs;const et=(zs=xe.target.files)==null?void 0:zs[0];if(et){if(!et.type.startsWith("image/")){te.error("Please select an image file");return}de(!0);try{const Rt=await K.integrations.Core.UploadFile({file:et});zt==="online"?Me(Zn=>({...Zn,image_url:Rt.file_url})):_e(Zn=>({...Zn,image_url:Rt.file_url})),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{de(!1)}}},Xc=xe=>{if(xe==="online"){if(!Ke.name||!Ke.level){te.error("Please fill in all required fields");return}const zt={name:Ke.name,description:Ke.description,classification_id:Ke.classification_id||null,award_type:Ke.award_type,threshold:Ke.threshold?Number(Ke.threshold):null,level:Number(Ke.level),image_url:Ke.image_url,is_active:Ke.is_active};R&&R.type==="online"?bt.mutate({id:R.id,awardData:zt}):Vn.mutate(zt)}else{if(!it.name||!it.level){te.error("Please fill in all required fields");return}const zt={name:it.name,description:it.description,classification_id:it.classification_id||null,period_text:it.period_text,level:Number(it.level),image_url:it.image_url,is_active:it.is_active};R&&R.type==="offline"?ds.mutate({id:R.id,awardData:zt}):Qe.mutate(zt)}},Zc=()=>{if(!at.name){te.error("Please fill in all required fields");return}const xe={name:at.name,description:at.description,award_category:at.award_category,display_order:at.display_order?Number(at.display_order):0,is_active:at.is_active};k?ns.mutate({id:k.id,data:xe}):yt.mutate(xe)},ed=()=>{if(!ze.name){te.error("Please fill in all required fields");return}const xe={name:ze.name,threshold:ze.threshold?Number(ze.threshold):null,display_order:ze.display_order?Number(ze.display_order):0,image_url:ze.image_url,is_active:ze.is_active};z.type==="online"?xe.award_id=z.id:xe.offline_award_id=z.id,O?us.mutate({id:O.id,data:xe}):Ys.mutate(xe)},th=()=>{I&&(I.type==="online"?we.mutate(I.id):ut.mutate(I.id))},$o=xe=>{switch(xe){case"events_attended":return"Events Attended";case"articles_published":return"Articles Published";case"jobs_posted":return"Jobs Posted";default:return xe}},tn=xe=>ln.filter(zt=>zt.offline_award_id===xe).length,sh=xe=>ln.filter(et=>et.offline_award_id===xe).map(et=>{const zs=Ns.find(Rt=>Rt.id===et.member_id);return{...et,member:zs}}).filter(et=>et.member),$l=Ns.filter(xe=>{var et,zs,Rt;if(!qe)return!0;const zt=qe.toLowerCase();return((et=xe.first_name)==null?void 0:et.toLowerCase().includes(zt))||((zs=xe.last_name)==null?void 0:zs.toLowerCase().includes(zt))||((Rt=xe.email)==null?void 0:Rt.toLowerCase().includes(zt))}),el=sh($==null?void 0:$.id).filter(xe=>{var et,zs,Rt;if(!Se)return!0;const zt=Se.toLowerCase();return((et=xe.member.first_name)==null?void 0:et.toLowerCase().includes(zt))||((zs=xe.member.last_name)==null?void 0:zs.toLowerCase().includes(zt))||((Rt=xe.member.email)==null?void 0:Rt.toLowerCase().includes(zt))}),Fr=(xe,zt=!1)=>zt?As.filter(et=>et.offline_award_id===xe):As.filter(et=>et.award_id===xe),td=()=>{const xe=Yt.filter(et=>et.award_category==="online"&&et.is_active),zt=lt.filter(et=>!et.classification_id);return e.jsxs("div",{className:"space-y-8",children:[xe.map(et=>{const zs=lt.filter(Rt=>Rt.classification_id===et.id);return zs.length===0?null:e.jsxs("div",{className:"border-2 border-slate-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:et.name}),et.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:et.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Or(et),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{Z(et),_(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:zs.map(Rt=>{const Zn=Fr(Rt.id,!1);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base",children:Rt.name}),Rt.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Rt.description})]}),Rt.image_url&&e.jsx("img",{src:Rt.image_url,alt:Rt.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Type:"}),e.jsx(ve,{variant:"secondary",children:$o(Rt.award_type)})]}),Rt.threshold&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Base Threshold:"}),e.jsx(ve,{variant:"secondary",children:Rt.threshold})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ia({...Rt,type:"online"}),className:"h-6 px-2",children:e.jsx(ve,{variant:"secondary",children:Zn.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ve,{variant:Rt.is_active?"default":"secondary",children:Rt.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>vn(Rt,"online"),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{W({...Rt,type:"online"}),w(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},Rt.id)})})]},et.id)}),zt.length>0&&e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Unclassified Awards"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:zt.map(et=>{const zs=Fr(et.id,!1);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base",children:et.name}),et.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:et.description})]}),et.image_url&&e.jsx("img",{src:et.image_url,alt:et.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Type:"}),e.jsx(ve,{variant:"secondary",children:$o(et.award_type)})]}),et.threshold&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Base Threshold:"}),e.jsx(ve,{variant:"secondary",children:et.threshold})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ia({...et,type:"online"}),className:"h-6 px-2",children:e.jsx(ve,{variant:"secondary",children:zs.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ve,{variant:et.is_active?"default":"secondary",children:et.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>vn(et,"online"),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{W({...et,type:"online"}),w(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},et.id)})})]})]})},sd=()=>{const xe=Yt.filter(et=>et.award_category==="offline"&&et.is_active),zt=Xt.filter(et=>!et.classification_id);return e.jsxs("div",{className:"space-y-8",children:[xe.map(et=>{const zs=Xt.filter(Rt=>Rt.classification_id===et.id);return zs.length===0?null:e.jsxs("div",{className:"border-2 border-slate-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:et.name}),et.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:et.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Or(et),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{Z(et),_(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:zs.map(Rt=>{const Zn=Fr(Rt.id,!0);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base",children:Rt.name}),Rt.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Rt.description})]}),Rt.image_url&&e.jsx("img",{src:Rt.image_url,alt:Rt.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[Rt.period_text&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Period:"}),e.jsx(ve,{variant:"secondary",children:Rt.period_text})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ia({...Rt,type:"offline"}),className:"h-6 px-2",children:e.jsx(ve,{variant:"secondary",children:Zn.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Assigned:"}),e.jsx("button",{onClick:()=>Pt(Rt),className:"hover:opacity-80 transition-opacity",children:e.jsxs(ve,{variant:"secondary",className:"cursor-pointer",children:[e.jsx(bs,{className:"w-3 h-3 mr-1"}),tn(Rt.id)]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ve,{variant:Rt.is_active?"default":"secondary",children:Rt.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ft(Rt),children:[e.jsx(Pc,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>vn(Rt,"offline"),children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{W({...Rt,type:"offline"}),w(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},Rt.id)})})]},et.id)}),zt.length>0&&e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Unclassified Awards"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:zt.map(et=>{const zs=Fr(et.id,!0);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base",children:et.name}),et.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:et.description})]}),et.image_url&&e.jsx("img",{src:et.image_url,alt:et.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[et.period_text&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Period:"}),e.jsx(ve,{variant:"secondary",children:et.period_text})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ia({...et,type:"offline"}),className:"h-6 px-2",children:e.jsx(ve,{variant:"secondary",children:zs.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Assigned:"}),e.jsx("button",{onClick:()=>Pt(et),className:"hover:opacity-80 transition-opacity",children:e.jsxs(ve,{variant:"secondary",className:"cursor-pointer",children:[e.jsx(bs,{className:"w-3 h-3 mr-1"}),tn(et.id)]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ve,{variant:et.is_active?"default":"secondary",children:et.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ft(et),children:[e.jsx(Pc,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>vn(et,"offline"),children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{W({...et,type:"offline"}),w(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},et.id)})})]})]})},tl=Ot||Ls;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Award Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage online and offline awards"})]})}),e.jsxs(j0,{value:r,onValueChange:a,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(wf,{children:[e.jsx(ur,{value:"online",children:"Online Awards"}),e.jsx(ur,{value:"offline",children:"Offline Awards"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",onClick:()=>Or(),className:"bg-white",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Classification"]}),e.jsxs(X,{onClick:()=>vn(null,r),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add ",r==="online"?"Online":"Offline"," Award"]})]})]}),e.jsx(jo,{value:"online",children:tl?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):lt.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No online awards yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first online award to get started"}),e.jsxs(X,{onClick:()=>vn(null,"online"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Online Award"]})]})}):td()}),e.jsx(jo,{value:"offline",children:tl?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):Xt.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No offline awards yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first offline award to get started"}),e.jsxs(X,{onClick:()=>vn(null,"offline"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Offline Award"]})]})}):sd()})]}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:[R?"Edit":"Create"," ",(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?"Offline":"Online"," Award"]}),e.jsx(fa,{children:(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?"Create manually assigned awards for specific periods or achievements":"Awards are automatically earned when members reach the specified threshold"})]}),(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Award Name *"}),e.jsx(he,{id:"name",value:it.name,onChange:xe=>_e({...it,name:xe.target.value}),placeholder:"e.g., Outstanding Contribution Award"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:it.description,onChange:xe=>_e({...it,description:xe.target.value}),placeholder:"What does this award represent?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"classification",children:"Classification"}),e.jsxs(He,{value:it.classification_id,onValueChange:xe=>_e({...it,classification_id:xe}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select classification (optional)"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"No Classification"}),Yt.filter(xe=>xe.award_category==="offline").map(xe=>e.jsx(re,{value:xe.id,children:xe.name},xe.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"period_text",children:"Period / Achievement *"}),e.jsx(he,{id:"period_text",value:it.period_text,onChange:xe=>_e({...it,period_text:xe.target.value}),placeholder:"e.g., 1st quarter, 2026, Summer 25"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Free text for the period or achievement"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"level",children:"Level *"}),e.jsx(he,{id:"level",type:"number",value:it.level,onChange:xe=>_e({...it,level:xe.target.value}),placeholder:"e.g., 1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for ordering awards (1 = first, 2 = second, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"image",children:"Award Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[it.image_url&&e.jsx("img",{src:it.image_url,alt:"Award",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload-offline",accept:"image/*",onChange:xe=>En(xe,"offline"),className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("image-upload-offline").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"is_active",children:"Active"}),e.jsx(ls,{id:"is_active",checked:it.is_active,onCheckedChange:xe=>_e({...it,is_active:xe})})]})]}):e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Award Name *"}),e.jsx(he,{id:"name",value:Ke.name,onChange:xe=>Me({...Ke,name:xe.target.value}),placeholder:"e.g., Event Champion I"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:Ke.description,onChange:xe=>Me({...Ke,description:xe.target.value}),placeholder:"What does this award represent?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"classification",children:"Classification"}),e.jsxs(He,{value:Ke.classification_id,onValueChange:xe=>Me({...Ke,classification_id:xe}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select classification (optional)"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"No Classification"}),Yt.filter(xe=>xe.award_category==="online").map(xe=>e.jsx(re,{value:xe.id,children:xe.name},xe.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"award_type",children:"Award Type *"}),e.jsxs(He,{value:Ke.award_type,onValueChange:xe=>Me({...Ke,award_type:xe}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"events_attended",children:"Events Attended"}),e.jsx(re,{value:"articles_published",children:"Articles Published"}),e.jsx(re,{value:"jobs_posted",children:"Jobs Posted"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"threshold",children:"Base Threshold"}),e.jsx(he,{id:"threshold",type:"number",value:Ke.threshold,onChange:xe=>Me({...Ke,threshold:xe.target.value}),placeholder:"e.g., 5 (optional)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use sublevel thresholds only"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"level",children:"Level *"}),e.jsx(he,{id:"level",type:"number",value:Ke.level,onChange:xe=>Me({...Ke,level:xe.target.value}),placeholder:"e.g., 1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for ordering awards (1 = first, 2 = second, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"image",children:"Award Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[Ke.image_url&&e.jsx("img",{src:Ke.image_url,alt:"Award",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload-online",accept:"image/*",onChange:xe=>En(xe,"online"),className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("image-upload-online").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"is_active",children:"Active"}),e.jsx(ls,{id:"is_active",checked:Ke.is_active,onCheckedChange:xe=>Me({...Ke,is_active:xe})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:Xn,children:"Cancel"}),e.jsxs(X,{onClick:()=>Xc((R==null?void 0:R.type)||r),className:"bg-blue-600 hover:bg-blue-700",children:[R?"Update":"Create"," Award"]})]})]})}),e.jsx(St,{open:p,onOpenChange:g,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:["Assign Award: ",U==null?void 0:U.name]}),e.jsx(fa,{children:"Select a member to receive this award"})]}),e.jsxs("div",{className:"space-y-4 py-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"member-search",children:"Search Members"}),e.jsx(he,{id:"member-search",value:qe,onChange:xe=>ke(xe.target.value),placeholder:"Search by name or email..."})]}),e.jsxs("div",{className:"space-y-2 flex-1 overflow-hidden flex flex-col",children:[e.jsx(ee,{children:"Select Member *"}),e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-y-auto flex-1",children:$l.length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No members found"}):e.jsx("div",{className:"divide-y divide-slate-200",children:$l.map(xe=>e.jsx("button",{onClick:()=>oe(xe.id),className:`w-full p-3 text-left hover:bg-slate-50 transition-colors ${ue===xe.id?"bg-blue-50 hover:bg-blue-100":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[xe.first_name," ",xe.last_name]}),e.jsx("div",{className:"text-sm text-slate-600",children:xe.email})]}),ue===xe.id&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},xe.id))})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"sublevel",children:"Award Level"}),e.jsxs(He,{value:pe,onValueChange:be,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select level (optional)"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"No specific level"}),Fr(U==null?void 0:U.id,!0).map(xe=>e.jsx(re,{value:xe.id,children:xe.name},xe.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Ht,{id:"notes",value:je,onChange:xe=>Be(xe.target.value),placeholder:"Add notes about this assignment...",rows:3})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:xt,children:"Cancel"}),e.jsx(X,{onClick:Rr,className:"bg-blue-600 hover:bg-blue-700",disabled:!ue,children:"Assign Award"})]})]})}),e.jsx(St,{open:y,onOpenChange:v,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:["Assigned Members: ",$==null?void 0:$.name]}),e.jsx(fa,{children:"View and manage members who have received this award"})]}),e.jsxs("div",{className:"space-y-4 py-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"assigned-search",children:"Search Assigned Members"}),e.jsx(he,{id:"assigned-search",value:Se,onChange:xe=>Ge(xe.target.value),placeholder:"Search by name or email..."})]}),e.jsxs("div",{className:"space-y-2 flex-1 overflow-hidden flex flex-col",children:[e.jsxs(ee,{children:["Assigned Members (",el.length,")"]}),e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-y-auto flex-1",children:el.length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:Se?"No matching members found":"No members assigned to this award yet"}):e.jsx("div",{className:"divide-y divide-slate-200",children:el.map(({id:xe,member:zt,notes:et,created_date:zs,assigned_by:Rt,sublevel_id:Zn})=>{const Lr=Zn?As.find(bi=>bi.id===Zn):null;return e.jsx("div",{className:"p-3 hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[zt.first_name," ",zt.last_name]}),Lr&&e.jsxs(ve,{variant:"secondary",className:"flex items-center gap-1",children:[Lr.image_url&&e.jsx("img",{src:Lr.image_url,alt:Lr.name,className:"w-3 h-3"}),Lr.name]})]}),e.jsx("div",{className:"text-sm text-slate-600",children:zt.email}),et&&e.jsxs("div",{className:"text-xs text-slate-500 mt-1 italic",children:["Note: ",et]}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Assigned ",new Date(zs).toLocaleDateString(),Rt&&` by ${Rt}`]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{ae({id:xe,member:zt}),C(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(mK,{className:"w-4 h-4"})})]})},xe)})})})]})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:_s,children:"Close"})})]})}),e.jsx(yl,{open:P,onOpenChange:C,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Remove Award Assignment?"}),e.jsxs(Li,{children:["Are you sure you want to remove this award from"," ",e.jsxs("strong",{children:[(yr=G==null?void 0:G.member)==null?void 0:yr.first_name," ",(nd=G==null?void 0:G.member)==null?void 0:nd.last_name]}),"? This action cannot be undone."]})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:yi,className:"bg-red-600 hover:bg-red-700",children:"Remove Award"})]})]})}),e.jsx(yl,{open:j,onOpenChange:w,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Are you sure?"}),e.jsxs(Li,{children:['This will permanently delete the award "',I==null?void 0:I.name,'". This action cannot be undone.']})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:th,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:[k?"Edit":"Create"," Classification"]}),e.jsx(fa,{children:"Organize awards into categories like Writing Awards, Attendance Awards, etc."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"class-name",children:"Name *"}),e.jsx(he,{id:"class-name",value:at.name,onChange:xe=>Ne({...at,name:xe.target.value}),placeholder:"e.g., Writing Awards"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"class-description",children:"Description"}),e.jsx(Ht,{id:"class-description",value:at.description,onChange:xe=>Ne({...at,description:xe.target.value}),placeholder:"Describe this classification",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"class-category",children:"Category *"}),e.jsxs(He,{value:at.award_category,onValueChange:xe=>Ne({...at,award_category:xe}),disabled:!!k,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"online",children:"Online Awards"}),e.jsx(re,{value:"offline",children:"Offline Awards"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"class-order",children:"Display Order"}),e.jsx(he,{id:"class-order",type:"number",value:at.display_order,onChange:xe=>Ne({...at,display_order:xe.target.value}),placeholder:"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"class-active",children:"Active"}),e.jsx(ls,{id:"class-active",checked:at.is_active,onCheckedChange:xe=>Ne({...at,is_active:xe})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{onClick:Zc,className:"bg-blue-600 hover:bg-blue-700",children:k?"Update":"Create"})]})]})}),e.jsx(yl,{open:N,onOpenChange:_,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Delete Classification?"}),e.jsxs(Li,{children:['This will permanently delete "',q==null?void 0:q.name,'". Awards in this classification will become unclassified.']})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:()=>os.mutate(q.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(St,{open:u,onOpenChange:d,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[80vh] flex flex-col",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:["Manage Sublevels: ",z==null?void 0:z.name]}),e.jsx(fa,{children:"Add Bronze, Silver, Gold or custom sublevels for this award"})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>ge(null),size:"sm",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Sublevel"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-slate-200 rounded-lg",children:Fr(z==null?void 0:z.id,(z==null?void 0:z.type)==="offline").length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No sublevels yet. Add Bronze, Silver, Gold levels."}):e.jsx("div",{className:"divide-y divide-slate-200",children:Fr(z==null?void 0:z.id,(z==null?void 0:z.type)==="offline").map(xe=>e.jsx("div",{className:"p-4 hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[xe.image_url&&e.jsx("img",{src:xe.image_url,alt:xe.name,className:"w-10 h-10 object-contain"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:xe.name}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[xe.threshold&&e.jsxs(ve,{variant:"secondary",children:["Threshold: ",xe.threshold]}),e.jsxs(ve,{variant:"secondary",children:["Order: ",xe.display_order]}),e.jsx(ve,{variant:xe.is_active?"default":"secondary",children:xe.is_active?"Active":"Inactive"})]})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ge(xe),children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{Q(xe),A(!0)},className:"text-red-600 hover:text-red-700",children:e.jsx(is,{className:"w-4 h-4"})})]})]})},xe.id))})})]}),e.jsx(qt,{children:e.jsx(X,{variant:"outline",onClick:()=>{d(!1),V(null)},children:"Close"})})]})}),e.jsx(St,{open:m,onOpenChange:h,children:e.jsxs(Nt,{children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:[O?"Edit":"Add"," Sublevel"]}),e.jsx(fa,{children:"Define a sublevel like Bronze, Silver, or Gold"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"sublevel-name",children:"Name *"}),e.jsx(he,{id:"sublevel-name",value:ze.name,onChange:xe=>nt({...ze,name:xe.target.value}),placeholder:"e.g., Bronze, Silver, Gold"})]}),(z==null?void 0:z.type)==="online"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"sublevel-threshold",children:"Threshold"}),e.jsx(he,{id:"sublevel-threshold",type:"number",value:ze.threshold,onChange:xe=>nt({...ze,threshold:xe.target.value}),placeholder:"e.g., 5"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Override the award's base threshold for this sublevel"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"sublevel-order",children:"Display Order *"}),e.jsx(he,{id:"sublevel-order",type:"number",value:ze.display_order,onChange:xe=>nt({...ze,display_order:xe.target.value}),placeholder:"0"}),e.jsx("p",{className:"text-xs text-slate-500",children:"0 = Bronze, 1 = Silver, 2 = Gold, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"sublevel-image",children:"Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[ze.image_url&&e.jsx("img",{src:ze.image_url,alt:"Sublevel",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"sublevel-image-upload",accept:"image/*",onChange:xe=>{var et;const zt=(et=xe.target.files)==null?void 0:et[0];zt&&(de(!0),K.integrations.Core.UploadFile({file:zt}).then(zs=>{nt(Rt=>({...Rt,image_url:zs.file_url})),te.success("Image uploaded")}).catch(()=>{te.error("Failed to upload image")}).finally(()=>{de(!1)}))},className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("sublevel-image-upload").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"sublevel-active",children:"Active"}),e.jsx(ls,{id:"sublevel-active",checked:ze.is_active,onCheckedChange:xe=>nt({...ze,is_active:xe})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{h(!1),F(null)},children:"Cancel"}),e.jsx(X,{onClick:ed,className:"bg-blue-600 hover:bg-blue-700",children:O?"Update":"Create"})]})]})}),e.jsx(yl,{open:T,onOpenChange:A,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Delete Sublevel?"}),e.jsxs(Li,{children:['This will permanently delete the "',J==null?void 0:J.name,'" sublevel.']})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:()=>Dr.mutate(J.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}K.functions.zohoOAuthCallback;K.functions.syncMemberFromCRM;K.functions.syncEventsFromBackstage;K.functions.getZohoAuthUrl;K.functions.validateMember;K.functions.refreshMemberBalance;K.functions.syncBackstageEvents;K.functions.testFunction;K.functions.validateColleague;K.functions.createBooking;K.functions.processProgramTicketPurchase;K.functions.sendMagicLink;K.functions.verifyMagicLink;K.functions.syncOrganizationContacts;K.functions.zohoContactWebhook;K.functions.updateExpiredVouchers;K.functions.createStripePaymentIntent;K.functions.getStripePublishableKey;K.functions.getXeroAuthUrl;K.functions.xeroOAuthCallback;K.functions.refreshXeroToken;K.functions.createXeroInvoice;K.functions.validateUser;K.functions.applyDiscountCode;K.functions.debugBackstageEvent;K.functions.processBackstageCancellation;K.functions.cancelBackstageOrder;K.functions.cancelTicketViaFlow;K.functions.updateEventImage;K.functions.updateProgramDetails;K.functions.testEmailAddressInBackstage;K.functions.clearBookings;K.functions.clearProgramTicketTransactions;K.functions.cancelProgramTicketTransaction;K.functions.reinstateProgramTicketTransaction;K.functions.checkMemberStatusByEmail;K.functions.createJobPostingMember;K.functions.createJobPostingNonMember;K.functions.handleJobPostingPaymentWebhook;K.functions.createJobPostingPaymentIntent;const Fwe=K.functions.renameResourceSubcategory;K.functions.generateMemberHandles;K.functions.extractAndUploadFont;K.functions.enableLoginForAllMembers;const Lwe=K.functions.sendTeamMemberInvite;K.functions.exportAllData;K.functions.generateSitemap;function sq({memberInfo:t,organizationInfo:s,isAdmin:n}){const[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(1),[u]=b.useState(9),[d,m]=b.useState(null),[h,p]=b.useState(!1),[g,y]=b.useState(""),[v,j]=b.useState({first_name:"",last_name:"",job_title:"",email:"",profile_photo_url:"",linkedin_url:""}),w=Gt(),{data:N=[],isLoading:_}=me({queryKey:["team-members",t==null?void 0:t.organization_id],queryFn:async()=>t!=null&&t.organization_id?(await K.entities.Member.list()).filter(ae=>ae.organization_id===t.organization_id):[],enabled:!!(t!=null&&t.organization_id),staleTime:60*1e3}),{data:T=[]}=me({queryKey:["all-articles"],queryFn:async()=>await K.entities.BlogPost.list(),staleTime:60*1e3}),{data:A=[]}=me({queryKey:["roles"],queryFn:async()=>await K.entities.Role.list(),staleTime:300*1e3}),{data:P=[]}=me({queryKey:["awards"],queryFn:async()=>(await K.entities.Award.list()).filter(ae=>ae.is_active),staleTime:300*1e3}),{data:C=[]}=me({queryKey:["offline-assignments"],queryFn:async()=>await K.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),{data:R=[]}=me({queryKey:["award-sublevels"],queryFn:async()=>await K.entities.AwardSublevel.list(),staleTime:300*1e3}),{data:M=[]}=me({queryKey:["award-classifications"],queryFn:async()=>await K.entities.AwardClassification.list(),staleTime:300*1e3}),{data:k=[]}=me({queryKey:["offline-awards"],queryFn:async()=>(await K.entities.OfflineAward.list()).filter(ae=>ae.is_active),staleTime:300*1e3}),{data:E=[]}=me({queryKey:["all-bookings"],queryFn:async()=>await K.entities.Booking.list(),staleTime:60*1e3}),O=Fe({mutationFn:async({memberId:G,newValue:ae})=>await K.entities.Member.update(G,{login_enabled:ae}),onSuccess:()=>{w.invalidateQueries({queryKey:["team-members"]}),te.success("Login access updated successfully")},onError:G=>{te.error("Failed to update login access")}}),F=Fe({mutationFn:async({memberId:G,data:ae})=>await K.entities.Member.update(G,ae),onSuccess:()=>{w.invalidateQueries({queryKey:["team-members"]}),te.success("Member updated successfully"),m(null)},onError:G=>{te.error("Failed to update member")}}),z=Fe({mutationFn:async G=>(await Lwe({email:G,inviterName:`${t.first_name} ${t.last_name}`})).data,onSuccess:()=>{te.success("Invitation sent successfully"),p(!1),y("")},onError:G=>{var ae,se;te.error(((se=(ae=G.response)==null?void 0:ae.data)==null?void 0:se.error)||"Failed to send invitation")}}),V=b.useMemo(()=>{const G={};return N.forEach(ae=>{const se=T.filter(be=>be.author_id===ae.id&&be.status==="published").length,de=E.filter(be=>be.member_id===ae.id&&be.status==="confirmed").length,ue=P.filter(be=>(be.award_type==="events_attended"?de:be.award_type==="articles_published"?se:0)>=be.threshold),pe=C.filter(be=>be.member_id===ae.id).map(be=>{const je=k.find(qe=>qe.id===be.offline_award_id);if(!je)return null;const Be=be.sublevel_id?R.find(qe=>qe.id===be.sublevel_id):null;return{...je,sublevel:Be}}).filter(Boolean);G[ae.id]={publishedArticles:se,eventsAttended:de,onlineAwards:ue,offlineAwards:pe,totalAwards:ue.length+pe.length}}),G},[N,T,E,P,C,k,R]),U=b.useMemo(()=>{let G=N;if(i||(G=G.filter(ae=>ae.login_enabled!==!1)),r){const ae=r.toLowerCase();G=G.filter(se=>{var de,ue,oe,pe;return((de=se.first_name)==null?void 0:de.toLowerCase().includes(ae))||((ue=se.last_name)==null?void 0:ue.toLowerCase().includes(ae))||((oe=se.email)==null?void 0:oe.toLowerCase().includes(ae))||((pe=se.job_title)==null?void 0:pe.toLowerCase().includes(ae))})}return G},[N,r,i]),B=Math.ceil(U.length/u),$=b.useMemo(()=>{const G=(o-1)*u;return U.slice(G,G+u)},[U,o,u]);b.useEffect(()=>{c(1)},[r,i]);const L=(G,ae)=>{O.mutate({memberId:G.id,newValue:ae})},I=G=>{m(G),j({first_name:G.first_name||"",last_name:G.last_name||"",job_title:G.job_title||"",email:G.email||"",profile_photo_url:G.profile_photo_url||"",linkedin_url:G.linkedin_url||""})},W=()=>{j({...v,profile_photo_url:""})},q=()=>{if(N.some(ae=>ae.id!==d.id&&ae.email.toLowerCase()===v.email.toLowerCase())){te.error("This email is already in use by another member");return}if(!v.first_name||!v.last_name||!v.email){te.error("First name, last name, and email are required");return}F.mutate({memberId:d.id,data:{first_name:v.first_name,last_name:v.last_name,job_title:v.job_title,email:v.email,profile_photo_url:v.profile_photo_url,linkedin_url:v.linkedin_url}})},Z=()=>{if(!g){te.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)){te.error("Please enter a valid email address");return}const ae=t.email.split("@")[1].toLowerCase(),se=g.split("@")[1].toLowerCase();if(ae!==se){te.error(`Email domain must match yours: @${ae}`);return}if(N.find(ue=>ue.email.toLowerCase()===g.toLowerCase())){te.error("A team member with this email already exists");return}z.mutate(g)};if(_)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});const Q=t!=null&&t.email?t.email.split("@")[1]:"";return e.jsxs(w1,{delayDuration:100,children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Team Directory"}),e.jsxs("p",{className:"text-slate-600",children:[(s==null?void 0:s.name)&&`${s.name} - `,U.length," ",U.length===1?"member":"members"]})]})]}),n&&e.jsxs(X,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Invite Member"]})]})}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex-1 relative w-full",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name, email, or job title...",value:r,onChange:G=>a(G.target.value),className:"pl-10"})]}),n&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{htmlFor:"show-disabled",className:"text-sm text-slate-700 whitespace-nowrap cursor-pointer",children:"Show inactive accounts"}),e.jsx(ls,{id:"show-disabled",checked:i,onCheckedChange:l})]})]})})}),$.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:r||i?"Try adjusting your search criteria or filters":"No team members available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(G=>{const ae=V[G.id]||{},se=A.find(ue=>ue.id===G.role_id),de=G.login_enabled??!0;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>I(G),children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:G.profile_photo_url?e.jsx("img",{src:G.profile_photo_url,alt:`${G.first_name} ${G.last_name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Js,{className:"w-8 h-8 text-slate-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs($e,{className:"text-base mb-1",children:[G.first_name," ",G.last_name]}),se&&e.jsx("div",{className:"flex items-center gap-1 mb-1",children:e.jsxs(ve,{variant:"secondary",className:se.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[se.is_admin&&e.jsx(Ln,{className:"w-3 h-3 mr-1"}),se.name]})}),G.job_title&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-1",children:G.job_title})]}),e.jsx(ci,{className:"w-4 h-4 text-slate-400"})]})}),e.jsxs(ce,{className:"space-y-3",onClick:ue=>ue.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700 break-all",children:G.email})]}),G.last_activity&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(en,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),e.jsxs("span",{className:"text-xs text-slate-600",children:["Last active ",yR(new Date(G.last_activity),{addSuffix:!0})]})]}),n&&e.jsxs("div",{className:"flex items-center justify-between pt-2 pb-2 border-y border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Login Access"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${de?"text-green-600":"text-slate-500"}`,children:de?"Active":"Inactive"}),e.jsx(ls,{checked:de,onCheckedChange:ue=>L(G,ue),disabled:O.isPending})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Events"})]}),e.jsx(ve,{variant:"secondary",children:ae.eventsAttended||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Articles"})]}),e.jsx(ve,{variant:"secondary",children:ae.publishedArticles||0})]}),ae.totalAwards>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:["Awards (",ae.totalAwards,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ae.onlineAwards.slice(0,4).map(ue=>{const oe=ue.classification_id?M.find(pe=>pe.id===ue.classification_id):null;return e.jsxs(km,{children:[e.jsx(Em,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col items-center p-2 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200 cursor-help relative",children:[oe&&e.jsx(ve,{variant:"secondary",className:"absolute -top-1 -right-1 text-[8px] px-1 py-0 scale-75",children:oe.name}),ue.image_url?e.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-8 h-8 object-contain mb-1"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center mb-1",children:e.jsx(Fn,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-slate-900 text-center line-clamp-1",children:ue.name})]})}),e.jsxs(hu,{children:[e.jsx("p",{className:"font-semibold",children:ue.name}),ue.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.description})]})]},`online-${ue.id}`)}),ae.offlineAwards.slice(0,Math.max(0,4-ae.onlineAwards.length)).map((ue,oe)=>{var be;const pe=ue.classification_id?M.find(je=>je.id===ue.classification_id):null;return e.jsxs(km,{children:[e.jsx(Em,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col items-center p-2 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 cursor-help relative",children:[pe&&e.jsx(ve,{variant:"secondary",className:"absolute -top-1 -right-1 text-[8px] px-1 py-0 scale-75",children:pe.name}),(be=ue.sublevel)!=null&&be.image_url?e.jsx("img",{src:ue.sublevel.image_url,alt:ue.sublevel.name,className:"w-8 h-8 object-contain mb-1"}):ue.image_url?e.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-8 h-8 object-contain mb-1"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-1",children:e.jsx(Fn,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-slate-900 text-center line-clamp-1",children:ue.name}),ue.sublevel&&e.jsx(ve,{className:"mt-0.5 bg-purple-600 text-white text-[8px] px-1 py-0",children:ue.sublevel.name})]})}),e.jsxs(hu,{children:[e.jsx("p",{className:"font-semibold",children:ue.name}),ue.sublevel&&e.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["Level: ",ue.sublevel.name]}),ue.period_text&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.period_text}),ue.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.description})]})]},`offline-${ue.id}-${oe}`)}),ae.totalAwards>4&&e.jsx("div",{className:"flex items-center justify-center p-2 bg-slate-100 rounded-lg border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",ae.totalAwards-4," more"]})})]})]})]})]},G.id)})}),B>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(G=>Math.max(1,G-1)),disabled:o===1,children:e.jsx(Un,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:B},(G,ae)=>ae+1).map(G=>e.jsx(X,{variant:o===G?"default":"outline",size:"sm",onClick:()=>c(G),className:"w-9",children:G},G))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(G=>Math.min(B,G+1)),disabled:o===B,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})]})}),e.jsx(St,{open:!!d,onOpenChange:G=>!G&&m(null),children:e.jsxs(Nt,{children:[e.jsxs(Ct,{children:[e.jsx(kt,{children:"Edit Member"}),e.jsx(fa,{children:"Update member information. Email must be unique."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:v.profile_photo_url?e.jsx("img",{src:v.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Js,{className:"w-8 h-8 text-slate-400"})}),v.profile_photo_url&&e.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:W,children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Remove Photo"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"first_name",children:"First Name *"}),e.jsx(he,{id:"first_name",value:v.first_name,onChange:G=>j({...v,first_name:G.target.value}),placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(he,{id:"last_name",value:v.last_name,onChange:G=>j({...v,last_name:G.target.value}),placeholder:"Last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:v.job_title,onChange:G=>j({...v,job_title:G.target.value}),placeholder:"Job title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:v.email,onChange:G=>j({...v,email:G.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),e.jsx(he,{id:"linkedin_url",type:"url",value:v.linkedin_url,onChange:G=>j({...v,linkedin_url:G.target.value}),placeholder:"https://www.linkedin.com/in/username"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e.jsx(X,{onClick:q,disabled:F.isPending,children:F.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),e.jsx(St,{open:h,onOpenChange:p,children:e.jsxs(Nt,{children:[e.jsxs(Ct,{children:[e.jsx(kt,{children:"Invite Team Member"}),e.jsx(fa,{children:"Send an invitation to a new team member with a matching email domain."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"invite_email",children:"Email Address *"}),e.jsx(he,{id:"invite_email",type:"email",value:g,onChange:G=>y(G.target.value),placeholder:`user@${Q}`}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Email domain must match: @",Q]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(X,{onClick:Z,disabled:z.isPending,className:"bg-blue-600 hover:bg-blue-700",children:z.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})})]})]})})]})}function nq({memberInfo:t}){var V,U,B;const[s,n]=b.useState(""),[r,a]=b.useState(!1),[i,l]=b.useState(1),[o,c]=b.useState(9),[u,d]=b.useState(null),[m,h]=b.useState(!1),[p,g]=b.useState("name-asc"),{data:y=[],isLoading:v}=me({queryKey:["all-members-directory"],queryFn:async()=>await K.entities.Member.list(),staleTime:60*1e3}),{data:j=[]}=me({queryKey:["all-articles"],queryFn:async()=>await K.entities.BlogPost.list(),staleTime:60*1e3}),{data:w=[]}=me({queryKey:["roles"],queryFn:async()=>await K.entities.Role.list(),staleTime:300*1e3}),{data:N=[]}=me({queryKey:["organizations"],queryFn:async()=>await K.entities.Organization.list(),staleTime:300*1e3}),{data:_=[]}=me({queryKey:["awards"],queryFn:async()=>(await K.entities.Award.list()).filter(L=>L.is_active),staleTime:300*1e3}),{data:T=[]}=me({queryKey:["offline-assignments"],queryFn:async()=>await K.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),{data:A=[]}=me({queryKey:["offline-awards"],queryFn:async()=>(await K.entities.OfflineAward.list()).filter(L=>L.is_active),staleTime:300*1e3}),{data:P=[]}=me({queryKey:["all-bookings"],queryFn:async()=>await K.entities.Booking.list(),staleTime:60*1e3}),{data:C}=me({queryKey:["memberDirectoryDisplay"],queryFn:async()=>{const L=(await K.entities.SystemSettings.list()).find(I=>I.setting_key==="member_directory_display");if(L!=null&&L.setting_value)try{return JSON.parse(L.setting_value)}catch(I){return console.error("Failed to parse member directory settings:",I),{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}}return{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}},staleTime:0,refetchOnMount:!0}),R=b.useMemo(()=>{const $={};return y.forEach(L=>{const I=j.filter(Q=>Q.author_id===L.id&&Q.status==="published").length,W=P.filter(Q=>Q.member_id===L.id&&Q.status==="confirmed").length,q=_.filter(Q=>(Q.award_type==="events_attended"?W:Q.award_type==="articles_published"?I:0)>=Q.threshold),J=T.filter(Q=>Q.member_id===L.id).map(Q=>A.find(G=>G.id===Q.offline_award_id)).filter(Boolean);$[L.id]={publishedArticles:I,eventsAttended:W,onlineAwards:q,offlineAwards:J,totalAwards:q.length+J.length}}),$},[y,j,P,_,T,A]),M=b.useMemo(()=>{let $=y;if($=$.filter(I=>I.show_in_directory!==!1),r||($=$.filter(I=>I.login_enabled!==!1)),s){const I=s.toLowerCase();$=$.filter(W=>{var Z,J,Q,G,ae;const q=N.find(se=>se.id===W.organization_id||se.zoho_account_id===W.organization_id);return((Z=W.first_name)==null?void 0:Z.toLowerCase().includes(I))||((J=W.last_name)==null?void 0:J.toLowerCase().includes(I))||((Q=W.email)==null?void 0:Q.toLowerCase().includes(I))||(C==null?void 0:C.show_job_title)&&((G=W.job_title)==null?void 0:G.toLowerCase().includes(I))||(C==null?void 0:C.show_organization)&&((ae=q==null?void 0:q.name)==null?void 0:ae.toLowerCase().includes(I))})}return[...$].sort((I,W)=>{var q,Z,J,Q,G,ae,se,de;switch(p){case"name-asc":return`${I.first_name} ${I.last_name}`.localeCompare(`${W.first_name} ${W.last_name}`);case"name-desc":return`${W.first_name} ${W.last_name}`.localeCompare(`${I.first_name} ${I.last_name}`);case"org-asc":{const ue=C!=null&&C.show_organization&&((q=N.find(pe=>pe.id===I.organization_id||pe.zoho_account_id===I.organization_id))==null?void 0:q.name)||"",oe=C!=null&&C.show_organization&&((Z=N.find(pe=>pe.id===W.organization_id||pe.zoho_account_id===W.organization_id))==null?void 0:Z.name)||"";return ue.localeCompare(oe)}case"org-desc":{const ue=C!=null&&C.show_organization&&((J=N.find(pe=>pe.id===I.organization_id||pe.zoho_account_id===I.organization_id))==null?void 0:J.name)||"";return(C!=null&&C.show_organization&&((Q=N.find(pe=>pe.id===W.organization_id||pe.zoho_account_id===W.organization_id))==null?void 0:Q.name)||"").localeCompare(ue)}case"events-desc":{const ue=C!=null&&C.show_events&&((G=R[I.id])==null?void 0:G.eventsAttended)||0;return(C!=null&&C.show_events&&((ae=R[W.id])==null?void 0:ae.eventsAttended)||0)-ue}case"articles-desc":{const ue=C!=null&&C.show_articles&&((se=R[I.id])==null?void 0:se.publishedArticles)||0;return(C!=null&&C.show_articles&&((de=R[W.id])==null?void 0:de.publishedArticles)||0)-ue}default:return 0}})},[y,s,r,p,N,R,C]),k=Math.ceil(M.length/o),E=b.useMemo(()=>{const $=(i-1)*o;return M.slice($,$+o)},[M,i,o]);b.useEffect(()=>{l(1)},[s,r,p,o]);const O=$=>{d($),h(!1)},F=$=>{window.location.href=`mailto:${$}`};return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(w1,{delayDuration:100,children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(bs,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Directory"})]}),e.jsxs("p",{className:"text-slate-600",children:[M.length," ",M.length===1?"member":"members"," across all organizations"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name, email, job title, or organization...",value:s,onChange:$=>n($.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{htmlFor:"show-disabled",className:"text-sm text-slate-700 whitespace-nowrap cursor-pointer",children:"Show disabled accounts"}),e.jsx(ls,{id:"show-disabled",checked:r,onCheckedChange:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r1,{className:"w-4 h-4 text-slate-500"}),e.jsx(ee,{className:"text-sm text-slate-700",children:"Sort by:"}),e.jsxs(He,{value:p,onValueChange:g,children:[e.jsx(Ue,{className:"w-[200px]",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name-desc",children:"Name (Z-A)"}),(C==null?void 0:C.show_organization)&&e.jsx(re,{value:"org-asc",children:"Organization (A-Z)"}),(C==null?void 0:C.show_organization)&&e.jsx(re,{value:"org-desc",children:"Organization (Z-A)"}),(C==null?void 0:C.show_events)&&e.jsx(re,{value:"events-desc",children:"Most Events"}),(C==null?void 0:C.show_articles)&&e.jsx(re,{value:"articles-desc",children:"Most Articles"})]})]})]})]})})}),E.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:s?"Try adjusting your search criteria":"No members available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map($=>{const L=R[$.id]||{},I=w.find(q=>q.id===$.role_id),W=N.find(q=>q.id===$.organization_id||q.zoho_account_id===$.organization_id);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>O($),children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:C!=null&&C.show_profile_photo&&$.profile_photo_url?e.jsx("img",{src:$.profile_photo_url,alt:`${$.first_name} ${$.last_name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Js,{className:"w-8 h-8 text-slate-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs($e,{className:"text-base mb-1",children:[$.first_name," ",$.last_name]}),I&&e.jsx("div",{className:"flex items-center gap-1 mb-1",children:e.jsxs(ve,{variant:"secondary",className:I.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[I.is_admin&&e.jsx(Ln,{className:"w-3 h-3 mr-1"}),I.name]})}),(C==null?void 0:C.show_job_title)&&$.job_title&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-1",children:$.job_title})]})]})}),e.jsxs(ce,{className:"space-y-3",children:[(C==null?void 0:C.show_organization)&&W&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(va,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700",children:W.name})]}),(C==null?void 0:C.show_linkedin)&&$.linkedin_url&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("a",{href:$.linkedin_url,target:"_blank",rel:"noopener noreferrer",onClick:q=>q.stopPropagation(),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:[e.jsx(cu,{className:"w-4 h-4"}),e.jsx("span",{children:"LinkedIn Profile"})]})}),(C==null?void 0:C.show_events)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Events"})]}),e.jsx(ve,{variant:"secondary",children:L.eventsAttended||0})]}),(C==null?void 0:C.show_articles)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Articles"})]}),e.jsx(ve,{variant:"secondary",children:L.publishedArticles||0})]}),(C==null?void 0:C.show_awards)&&L.totalAwards>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:["Awards (",L.totalAwards,")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.onlineAwards.slice(0,2).map(q=>e.jsxs(km,{children:[e.jsx(Em,{asChild:!0,children:e.jsx("div",{className:"px-2 py-1 bg-gradient-to-br from-amber-50 to-amber-100 rounded border border-amber-200 cursor-help",children:q.image_url?e.jsx("img",{src:q.image_url,alt:q.name,className:"w-4 h-4 object-contain"}):e.jsx("span",{className:"text-xs font-medium text-slate-900",children:q.name})})}),e.jsxs(hu,{children:[e.jsx("p",{className:"font-semibold",children:q.name}),q.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.description})]})]},q.id)),L.offlineAwards.slice(0,2).map(q=>e.jsxs(km,{children:[e.jsx(Em,{asChild:!0,children:e.jsx("div",{className:"px-2 py-1 bg-gradient-to-br from-purple-50 to-purple-100 rounded border border-purple-200 cursor-help",children:q.image_url?e.jsx("img",{src:q.image_url,alt:q.name,className:"w-4 h-4 object-contain"}):e.jsx("span",{className:"text-xs font-medium text-slate-900",children:q.name})})}),e.jsxs(hu,{children:[e.jsx("p",{className:"font-semibold",children:q.name}),q.period_text&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.period_text}),q.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.description})]})]},q.id)),L.totalAwards>2&&e.jsx("div",{className:"px-2 py-1 bg-slate-100 rounded border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",L.totalAwards-2]})})]})]})]})]},$.id)})}),k>1&&e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"text-sm text-slate-700",children:"Show:"}),e.jsxs(He,{value:o.toString(),onValueChange:$=>c(parseInt($)),children:[e.jsx(Ue,{className:"w-[100px]",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"9",children:"9"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]}),e.jsx("span",{className:"text-sm text-slate-600",children:"per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>l($=>Math.max(1,$-1)),disabled:i===1,children:e.jsx(Un,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(k,5)},($,L)=>{let I;return k<=5||i<=3?I=L+1:i>=k-2?I=k-4+L:I=i-2+L,e.jsx(X,{variant:i===I?"default":"outline",size:"sm",onClick:()=>l(I),className:"w-9",children:I},I)})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>l($=>Math.min(k,$+1)),disabled:i===k,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})]})]})}),e.jsx(St,{open:!!u,onOpenChange:$=>!$&&d(null),children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{className:"sr-only",children:"Member Information"})}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:C!=null&&C.show_profile_photo&&u.profile_photo_url?e.jsx("img",{src:u.profile_photo_url,alt:`${u.first_name} ${u.last_name}`,className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-slate-200",children:e.jsx(Js,{className:"w-12 h-12 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:[u.first_name," ",u.last_name]}),(C==null?void 0:C.show_job_title)&&u.job_title&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 mb-3",children:[e.jsx(kn,{className:"w-4 h-4"}),e.jsx("span",{children:u.job_title})]}),(()=>{const $=w.find(L=>L.id===u.role_id);return $?e.jsxs(ve,{variant:"secondary",className:$.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[$.is_admin&&e.jsx(Ln,{className:"w-3 h-3 mr-1"}),$.name]}):null})()]})]}),(C==null?void 0:C.show_organization)&&(()=>{const $=N.find(L=>L.id===u.organization_id||L.zoho_account_id===u.organization_id);return $?e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(va,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:$.name})]})}):null})(),(C==null?void 0:C.show_bio_in_popup)&&u.biography&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wide",children:"About"}),e.jsx("p",{className:`text-slate-700 leading-relaxed ${m?"":"line-clamp-4"}`,children:u.biography}),u.biography.length>300&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>h(!m),className:"text-blue-600 hover:text-blue-700 p-0 h-auto font-medium",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Vg,{className:"w-4 h-4 mr-1"}),"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pr,{className:"w-4 h-4 mr-1"}),"Read more"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(C==null?void 0:C.show_events)&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(js,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Events Attended"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:((V=R[u.id])==null?void 0:V.eventsAttended)||0})]}),(C==null?void 0:C.show_articles)&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ts,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Articles Published"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:((U=R[u.id])==null?void 0:U.publishedArticles)||0})]})]}),(C==null?void 0:C.show_awards)&&((B=R[u.id])==null?void 0:B.totalAwards)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),"Awards & Recognition (",R[u.id].totalAwards,")"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R[u.id].onlineAwards.map($=>e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-3 border border-amber-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[$.image_url&&e.jsx("img",{src:$.image_url,alt:$.name,className:"w-8 h-8 object-contain"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-amber-900 line-clamp-1",children:$.name}),$.description&&e.jsx("p",{className:"text-xs text-amber-700 line-clamp-1",children:$.description})]})]})},$.id)),R[u.id].offlineAwards.map($=>e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-3 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[$.image_url&&e.jsx("img",{src:$.image_url,alt:$.name,className:"w-8 h-8 object-contain"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 line-clamp-1",children:$.name}),$.period_text&&e.jsx("p",{className:"text-xs text-purple-700",children:$.period_text})]})]})},$.id))]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs(X,{onClick:()=>F(u.email),className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",children:[e.jsx(Ts,{className:"w-5 h-5 mr-2"}),"Send Email to ",u.first_name]}),(C==null?void 0:C.show_linkedin)&&u.linkedin_url&&e.jsxs(X,{onClick:()=>window.open(u.linkedin_url,"_blank"),variant:"outline",className:"w-full",size:"lg",children:[e.jsx(cu,{className:"w-5 h-5 mr-2"}),"View LinkedIn Profile"]})]})]})]})})]})}function rq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState("sections"),[a,i]=b.useState(null),[l,o]=b.useState(null),[c,u]=b.useState(null),[d,m]=b.useState(!1),[h,p]=b.useState(!1),[g,y]=b.useState(!1),[v,j]=b.useState(null),[w,N]=b.useState(null),[_,T]=b.useState(!1),[A,P]=b.useState({}),[C,R]=b.useState("medium"),M=Gt(),{data:k=[],isLoading:E}=me({queryKey:["wall-of-fame-sections"],queryFn:()=>K.entities.WallOfFameSection.list()}),{data:O=[],isLoading:F}=me({queryKey:["wall-of-fame-categories"],queryFn:()=>K.entities.WallOfFameCategory.list()}),{data:z=[],isLoading:V}=me({queryKey:["wall-of-fame-people"],queryFn:()=>K.entities.WallOfFamePerson.list()}),{data:U=[]}=me({queryKey:["members-for-selection"],queryFn:()=>K.entities.Member.list()}),{data:B}=me({queryKey:["wall-of-fame-photo-size"],queryFn:async()=>{const de=(await K.entities.SystemSettings.list()).find(ue=>ue.setting_key==="wall_of_fame_photo_size");return de?{id:de.id,value:de.setting_value}:null},staleTime:0,refetchOnMount:!0});Ie.useEffect(()=>{B!=null&&B.value&&R(B.value)},[B]);const $=Fe({mutationFn:({id:se,data:de})=>se?K.entities.WallOfFameSection.update(se,de):K.entities.WallOfFameSection.create(de),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-sections"]}),m(!1),i(null),te.success("Section saved successfully")}}),L=Fe({mutationFn:({id:se,data:de})=>se?K.entities.WallOfFameCategory.update(se,de):K.entities.WallOfFameCategory.create(de),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-categories"]}),p(!1),o(null),te.success("Category saved successfully")}}),I=Fe({mutationFn:({id:se,data:de})=>se?K.entities.WallOfFamePerson.update(se,de):K.entities.WallOfFamePerson.create(de),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-people"]}),y(!1),u(null),te.success("Person saved successfully")}}),W=Fe({mutationFn:se=>K.entities.WallOfFameSection.delete(se),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-sections"]}),te.success("Section deleted")}}),q=Fe({mutationFn:se=>K.entities.WallOfFameCategory.delete(se),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-categories"]}),te.success("Category deleted")}}),Z=Fe({mutationFn:se=>K.entities.WallOfFamePerson.delete(se),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-people"]}),te.success("Person deleted")}}),J=Fe({mutationFn:async se=>B!=null&&B.id?await K.entities.SystemSettings.update(B.id,{setting_value:se}):await K.entities.SystemSettings.create({setting_key:"wall_of_fame_photo_size",setting_value:se,description:"Profile photo size for Wall of Fame display (small, medium, large)"}),onSuccess:()=>{M.invalidateQueries({queryKey:["wall-of-fame-photo-size"]}),te.success("Photo size setting saved")}});if(!t||s!=null&&s("page_WallOfFameManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx(Fn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const Q=async se=>{var ue;const de=(ue=se.target.files)==null?void 0:ue[0];if(de){if(!de.type.startsWith("image/")){te.error("Please select an image file");return}T(!0);try{const oe=await K.integrations.Core.UploadFile({file:de});u({...c,profile_photo_url:oe.file_url}),te.success("Photo uploaded")}catch{te.error("Failed to upload photo")}finally{T(!1)}}},G=se=>{const de=U.find(ue=>ue.id===se);de&&u({...c,member_id:se,first_name:de.first_name||"",last_name:de.last_name||"",job_title:de.job_title||"",biography:de.biography||"",profile_photo_url:de.profile_photo_url||"",linkedin_url:de.linkedin_url||"",email:de.email||""})},ae=[...k].sort((se,de)=>(se.display_order||0)-(de.display_order||0));return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Wall of Fame Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage sections, categories, and people for public display"})]})}),e.jsxs(j0,{value:n,onValueChange:r,children:[e.jsxs(wf,{className:"mb-6",children:[e.jsx(ur,{value:"sections",children:"Sections"}),e.jsx(ur,{value:"categories",children:"Categories"}),e.jsx(ur,{value:"people",children:"People"}),e.jsx(ur,{value:"settings",children:"Settings"})]}),e.jsxs(jo,{value:"sections",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{i({name:"",description:"",display_order:0,is_active:!0}),m(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Section"]})}),E?e.jsx("div",{className:"text-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):ae.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(gl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Sections Yet"}),e.jsx("p",{className:"text-slate-600",children:"Create your first section to get started"})]})}):e.jsx("div",{className:"grid gap-4",children:ae.map(se=>e.jsx(le,{className:"border-slate-200",children:e.jsx(Re,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"w-5 h-5 text-blue-600"}),se.name]}),se.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:se.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(ve,{variant:se.is_active?"default":"secondary",children:se.is_active?"Active":"Inactive"}),e.jsxs(ve,{variant:"outline",children:["Order: ",se.display_order]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{i(se),m(!0)},children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>W.mutate(se.id),className:"text-red-600",children:e.jsx(is,{className:"w-3 h-3"})})]})]})})},se.id))})]}),e.jsxs(jo,{value:"categories",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{o({section_id:"",name:"",description:"",display_order:0,is_active:!0}),p(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),F?e.jsx("div",{className:"text-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):e.jsx("div",{className:"space-y-6",children:ae.map(se=>{const de=O.filter(ue=>ue.section_id===se.id).sort((ue,oe)=>(ue.display_order||0)-(oe.display_order||0));return e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-lg",children:se.name})}),e.jsx(ce,{children:de.length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:"No categories yet"}):e.jsx("div",{className:"space-y-2",children:de.map(ue=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:ue.name}),e.jsx(ve,{variant:ue.is_active?"default":"secondary",className:"text-xs",children:ue.is_active?"Active":"Inactive"})]}),ue.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1 ml-6",children:ue.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{o(ue),p(!0)},children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q.mutate(ue.id),className:"text-red-600",children:e.jsx(is,{className:"w-3 h-3"})})]})]},ue.id))})})]},se.id)})})]}),e.jsxs(jo,{value:"people",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{u({category_id:"",first_name:"",last_name:"",job_title:"",biography:"",profile_photo_url:"",linkedin_url:"",email:"",display_order:0,is_active:!0}),y(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Person"]})}),V?e.jsx("div",{className:"text-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):e.jsx("div",{className:"space-y-6",children:ae.map(se=>{const de=O.filter(ue=>ue.section_id===se.id).sort((ue,oe)=>(ue.display_order||0)-(oe.display_order||0));return de.length===0?null:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-lg",children:se.name})}),e.jsx(ce,{className:"space-y-4",children:de.map(ue=>{const oe=z.filter(be=>be.category_id===ue.id).sort((be,je)=>(be.display_order||0)-(je.display_order||0)),pe=A[ue.id];return e.jsxs("div",{className:"border border-slate-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 cursor-pointer",onClick:()=>P({...A,[ue.id]:!pe}),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:ue.name}),e.jsx(ve,{variant:"secondary",children:oe.length})]}),pe?e.jsx(Vg,{className:"w-4 h-4"}):e.jsx(Pr,{className:"w-4 h-4"})]}),pe&&e.jsx("div",{className:"p-3 space-y-2",children:oe.length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:"No people yet"}):oe.map(be=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded border border-slate-200",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:be.profile_photo_url?e.jsx("img",{src:be.profile_photo_url,alt:`${be.first_name} ${be.last_name}`,className:"w-full h-full object-cover"}):e.jsx(Js,{className:"w-6 h-6 text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-medium",children:[be.first_name," ",be.last_name]}),be.job_title&&e.jsx("div",{className:"text-sm text-slate-600",children:be.job_title}),be.member_id&&e.jsx(ve,{variant:"outline",className:"text-xs mt-1",children:"Linked Member"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{u(be),y(!0)},children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Z.mutate(be.id),className:"text-red-600",children:e.jsx(is,{className:"w-3 h-3"})})]})]},be.id))})]},ue.id)})})]},se.id)})})]}),e.jsx(jo,{value:"settings",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsx($e,{children:"Display Settings"})}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{className:"text-base font-semibold",children:"Profile Photo Size"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Choose the size of profile photos displayed on the public Wall of Fame"}),e.jsxs(He,{value:C,onValueChange:se=>{R(se),J.mutate(se)},children:[e.jsx(Ue,{className:"w-64",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"small",children:"Small"}),e.jsx(re,{value:"medium",children:"Medium (Default)"}),e.jsx(re,{value:"large",children:"Large"})]})]})]})})]})})]}),e.jsx(St,{open:d,onOpenChange:m,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:a!=null&&a.id?"Edit Section":"Create Section"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Name *"}),e.jsx(he,{value:a.name,onChange:se=>i({...a,name:se.target.value}),placeholder:"e.g., Our Team"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Description"}),e.jsx(Ht,{value:a.description||"",onChange:se=>i({...a,description:se.target.value}),placeholder:"Optional description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Display Order"}),e.jsx(he,{type:"number",value:a.display_order,onChange:se=>i({...a,display_order:parseInt(se.target.value)})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>$.mutate({id:a==null?void 0:a.id,data:a}),disabled:$.isPending,children:"Save"})]})]})}),e.jsx(St,{open:h,onOpenChange:p,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:l!=null&&l.id?"Edit Category":"Create Category"})}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Section *"}),e.jsxs(He,{value:l.section_id,onValueChange:se=>o({...l,section_id:se}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select section"})}),e.jsx(Ve,{children:k.map(se=>e.jsx(re,{value:se.id,children:se.name},se.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Name *"}),e.jsx(he,{value:l.name,onChange:se=>o({...l,name:se.target.value}),placeholder:"e.g., Staff, Board"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Description"}),e.jsx(Ht,{value:l.description||"",onChange:se=>o({...l,description:se.target.value}),placeholder:"Optional description",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Display Order"}),e.jsx(he,{type:"number",value:l.display_order,onChange:se=>o({...l,display_order:parseInt(se.target.value)})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>L.mutate({id:l==null?void 0:l.id,data:l}),disabled:L.isPending,children:"Save"})]})]})}),e.jsx(St,{open:g,onOpenChange:y,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:c!=null&&c.id?"Edit Person":"Add Person"})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Category *"}),e.jsxs(He,{value:c.category_id,onValueChange:se=>u({...c,category_id:se}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select category"})}),e.jsx(Ve,{children:O.map(se=>{var de;return e.jsxs(re,{value:se.id,children:[se.name," (",(de=k.find(ue=>ue.id===se.section_id))==null?void 0:de.name,")"]},se.id)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Link to Existing Member (Optional)"}),e.jsxs(He,{value:c.member_id||"",onValueChange:G,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Select a member or create ad-hoc entry"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:null,children:"Create ad-hoc entry"}),U.map(se=>e.jsxs(re,{value:se.id,children:[se.first_name," ",se.last_name," (",se.email,")"]},se.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"First Name *"}),e.jsx(he,{value:c.first_name||"",onChange:se=>u({...c,first_name:se.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Last Name *"}),e.jsx(he,{value:c.last_name||"",onChange:se=>u({...c,last_name:se.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Job Title"}),e.jsx(he,{value:c.job_title||"",onChange:se=>u({...c,job_title:se.target.value}),placeholder:"e.g., Chief Executive Officer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Secondary Organisation"}),e.jsx(he,{value:c.secondary_organisation||"",onChange:se=>u({...c,secondary_organisation:se.target.value}),placeholder:"Optional secondary organisation"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Secondary Job Title"}),e.jsx(he,{value:c.secondary_job_title||"",onChange:se=>u({...c,secondary_job_title:se.target.value}),placeholder:"Optional secondary job title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Biography"}),e.jsx(Ht,{value:c.biography||"",onChange:se=>u({...c,biography:se.target.value}),placeholder:"Full biography",rows:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden",children:c.profile_photo_url?e.jsx("img",{src:c.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Js,{className:"w-8 h-8 text-slate-400"})}),e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:Q,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:_,onClick:()=>document.getElementById("photo-upload").click(),children:_?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"LinkedIn URL"}),e.jsx(he,{type:"url",value:c.linkedin_url||"",onChange:se=>u({...c,linkedin_url:se.target.value}),placeholder:"https://linkedin.com/in/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Email"}),e.jsx(he,{type:"email",value:c.email||"",onChange:se=>u({...c,email:se.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Display Order"}),e.jsx(he,{type:"number",value:c.display_order,onChange:se=>u({...c,display_order:parseInt(se.target.value)})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>I.mutate({id:c==null?void 0:c.id,data:c}),disabled:I.isPending,children:"Save"})]})]})})]})})}function aq(){const[t,s]=b.useState(null);b.useEffect(()=>{const c=window.location.pathname,u=c.startsWith("/")?c.substring(1):c;s(u)},[]);const{data:n,isLoading:r,error:a}=me({queryKey:["iedit-public-page",t],queryFn:async()=>(await K.entities.IEditPage.filter({slug:t,status:"published"}))[0],enabled:!!t}),{data:i,isLoading:l}=me({queryKey:["iedit-public-elements",n==null?void 0:n.id],queryFn:()=>K.entities.IEditPageElement.filter({page_id:n.id},"display_order"),initialData:[],enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let c=document.querySelector('meta[name="description"]');c||(c=document.createElement("meta"),c.name="description",document.head.appendChild(c)),c.content=n.meta_description}},[n]),r||l)return e.jsx(ba,{currentPageName:"DynamicPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})})});if(a||!n)return e.jsx(ba,{currentPageName:"DynamicPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"The page you're looking for doesn't exist or hasn't been published yet."}),e.jsxs("p",{className:"text-sm text-slate-500",children:['(Looking for: "/',t,'")']})]})})});const o=n.layout_type==="member"?({children:c})=>e.jsx("div",{className:"min-h-screen",children:c}):ba;return e.jsx(o,{currentPageName:"DynamicPage",children:e.jsxs("div",{className:"w-full",children:[i.map(c=>e.jsx(Qc,{element:c},c.id)),i.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]})})}function Iwe(){const{data:t,isLoading:s}=me({queryKey:["iedit-page-sharon"],queryFn:async()=>(await K.entities.IEditPage.filter({slug:"sharon",status:"published"}))[0]}),{data:n=[],isLoading:r}=me({queryKey:["iedit-elements-sharon",t==null?void 0:t.id],queryFn:()=>K.entities.IEditPageElement.filter({page_id:t.id},"display_order"),enabled:!!(t!=null&&t.id)});return b.useEffect(()=>{if(t&&(document.title=t.meta_title||t.title||"AGCAS",t.meta_description)){let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.name="description",document.head.appendChild(a)),a.content=t.meta_description}},[t]),s||r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading..."})}):t?e.jsxs("div",{className:"w-full",children:[n.map(a=>e.jsx(Qc,{element:a},a.id)),n.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600",children:"The sharon page hasn't been published yet."})]})})}function Bwe(){const s=new URLSearchParams(window.location.search).get("page"),n=window.location.hash.replace("#",""),r=s||n,{data:a,isLoading:i,error:l}=me({queryKey:["iedit-public-page",r],queryFn:async()=>(await K.entities.IEditPage.filter({slug:r,status:"published"}))[0],enabled:!!r}),{data:o,isLoading:c}=me({queryKey:["iedit-public-elements",a==null?void 0:a.id],queryFn:()=>K.entities.IEditPageElement.filter({page_id:a.id},"display_order"),initialData:[],enabled:!!(a!=null&&a.id)});return b.useEffect(()=>{if(a&&(document.title=a.meta_title||a.title||"AGCAS",a.meta_description)){let u=document.querySelector('meta[name="description"]');u||(u=document.createElement("meta"),u.name="description",document.head.appendChild(u)),u.content=a.meta_description}},[a]),b.useEffect(()=>{console.log("[Content Page] Checking font loading..."),"fonts"in document&&document.fonts.ready.then(()=>{const u=document.fonts.check('500 16px "Degular Medium"');console.log("[Content Page] Degular Medium loaded:",u);const d=Array.from(document.fonts.values());console.log("[Content Page] All loaded fonts:",d.map(m=>m.family))}),console.log("[Content Page] Elements:",o),o.forEach((u,d)=>{console.log(`[Content Page] Element ${d}:`,{type:u.element_type,content:u.content,variant:u.variant})})},[o]),r?i||c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})}):l||!a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"The page you're looking for doesn't exist or hasn't been published yet."}),e.jsxs("p",{className:"text-sm text-slate-500",children:['(Looking for page: "',r,'")']})]})}):e.jsxs("div",{className:"w-full",children:[o.map((u,d)=>e.jsx(Qc,{element:u,isFirst:d===0},u.id)),o.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"No Page Specified"}),e.jsx("p",{className:"text-slate-600",children:"Please provide a page slug in the URL"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Format: /content#your-page-slug"})]})})}function qwe(){const s=new URLSearchParams(window.location.search).get("page"),{data:n,isLoading:r}=me({queryKey:["iedit-page-by-slug",s],queryFn:async()=>(await K.entities.IEditPage.list()).find(c=>c.slug===s&&c.status==="published"),enabled:!!s}),{data:a,isLoading:i}=me({queryKey:["iedit-page-elements",n==null?void 0:n.id],queryFn:async()=>(await K.entities.IEditPageElement.list()).filter(c=>c.page_id===n.id).sort((c,u)=>(c.display_order||0)-(u.display_order||0)),enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let o=document.querySelector('meta[name="description"]');o||(o=document.createElement("meta"),o.name="description",document.head.appendChild(o)),o.content=n.meta_description}},[n]),r||i)return e.jsx(ba,{currentPageName:"icontent",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading page..."})})});if(!n)return e.jsx(ba,{currentPageName:"icontent",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Page not found"}),e.jsx("p",{className:"text-slate-600",children:s?`The page "${s}" doesn't exist or hasn't been published yet.`:"No page specified"})]})})});const l=n.layout_type==="member"?({children:o})=>e.jsx("div",{className:"min-h-screen",children:o}):ba;return e.jsx(l,{currentPageName:"icontent",children:e.jsx("div",{className:"w-full",children:a&&a.length>0?a.map(o=>e.jsx(Qc,{element:o},o.id)):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})})})}function iq(){const s=new URLSearchParams(window.location.search).get("slug"),{data:n,isLoading:r}=me({queryKey:["iedit-page-by-slug",s],queryFn:async()=>(await K.entities.IEditPage.list()).find(c=>c.slug===s&&c.status==="published"),enabled:!!s}),{data:a,isLoading:i}=me({queryKey:["iedit-page-elements",n==null?void 0:n.id],queryFn:async()=>(await K.entities.IEditPageElement.list()).filter(c=>c.page_id===n.id).sort((c,u)=>(c.display_order||0)-(u.display_order||0)),enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let o=document.querySelector('meta[name="description"]');o||(o=document.createElement("meta"),o.name="description",document.head.appendChild(o)),o.content=n.meta_description}},[n]),r||i)return e.jsx(ba,{currentPageName:"ViewPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading page..."})})});if(!n)return e.jsx(ba,{currentPageName:"ViewPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Page not found"}),e.jsx("p",{className:"text-slate-600",children:s?`The page "${s}" doesn't exist or hasn't been published yet.`:"No page specified"})]})})});const l=n.layout_type==="member"?({children:o})=>e.jsx("div",{className:"min-h-screen",children:o}):ba;return e.jsx(l,{currentPageName:"ViewPage",children:e.jsx("div",{className:"w-full",children:a&&a.length>0?a.map(o=>e.jsx(Qc,{element:o,memberInfo:null,organizationInfo:null},o.id)):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})})})}function lq(){const s=new URLSearchParams(window.location.search).get("slug");return e.jsx("div",{className:"min-h-screen p-8 bg-slate-50",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"URL Parameter Test"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Full URL:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.href})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Search String:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.search||"(empty)"})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Hash:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.hash||"(empty)"})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Pathname:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.pathname})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded border-2 border-blue-200",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Slug Parameter Value:"}),e.jsx("p",{className:"font-mono text-lg font-bold",children:s||"(not found)"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-slate-600",children:["Test this page by visiting: ",e.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded",children:"/ParamTest?slug=test-value"})]})})]})})}function oq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState(!1),l=Gt(),{data:o,isLoading:c}=me({queryKey:["teamInviteSettings"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(m=>m.setting_key==="team_invite_webhook_url")});Ie.useEffect(()=>{o&&!a&&(r(o.setting_value||""),i(!0))},[o,a]);const u=Fe({mutationFn:async()=>{o!=null&&o.id?await K.entities.SystemSettings.update(o.id,{setting_value:n}):await K.entities.SystemSettings.create({setting_key:"team_invite_webhook_url",setting_value:n,description:"Webhook URL for sending team member invitations"})},onSuccess:()=>{l.invalidateQueries({queryKey:["teamInviteSettings"]}),te.success("Webhook settings saved")},onError:d=>{te.error("Failed to save settings: "+d.message)}});return!t||s("page_TeamInviteSettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Team Invite Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure webhook for team member invitations"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Re,{children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5 text-blue-600"}),"Invitation Webhook"]}),e.jsx(Cs,{children:"When a team member invitation is sent, this webhook will be called with the invite details"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"webhookUrl",children:"Webhook URL *"}),e.jsx(he,{id:"webhookUrl",type:"url",value:n,onChange:d=>r(d.target.value),placeholder:"https://your-webhook-service.com/team-invite",className:"font-mono text-sm"}),e.jsx("p",{className:"text-xs text-slate-500",children:"The webhook will receive a POST request with the following JSON payload"})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e.jsx(ee,{className:"text-xs text-slate-600 mb-2 block",children:"Example Webhook Payload"}),e.jsx("pre",{className:"text-xs text-slate-700 overflow-x-auto",children:`{
  "email": "newmember@organization.com",
  "inviterName": "John Doe",
  "inviterEmail": "john@organization.com",
  "timestamp": "2025-01-17T10:30:00.000Z"
}`})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex gap-3",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-amber-800",children:[e.jsx("li",{children:"The webhook must accept POST requests with JSON body"}),e.jsx("li",{children:"Invitations can only be sent to email addresses matching the organization's domain"}),e.jsx("li",{children:"The webhook is responsible for sending the actual invitation email"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:()=>u.mutate(),disabled:!n||u.isPending,className:"bg-blue-600 hover:bg-blue-700",children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})]})]})})}function cq(){const[t,s]=b.useState(""),[n,r]=b.useState(1),[a]=b.useState(12),{data:i=[],isLoading:l}=me({queryKey:["organizations"],queryFn:async()=>await K.entities.Organization.list("name"),staleTime:0,refetchOnMount:!0}),{data:o}=me({queryKey:["organisation-directory-settings"],queryFn:async()=>{const p=await K.entities.SystemSettings.list(),g=p.find(N=>N.setting_key==="org_directory_show_logo"),y=p.find(N=>N.setting_key==="org_directory_show_domains"),v=p.find(N=>N.setting_key==="org_directory_show_member_count"),j=p.find(N=>N.setting_key==="org_directory_excluded_orgs");let w=[];if(j)try{w=JSON.parse(j.setting_value)}catch{w=[]}return{showLogo:(g==null?void 0:g.setting_value)!=="false",showDomains:(y==null?void 0:y.setting_value)!=="false",showMemberCount:(v==null?void 0:v.setting_value)!=="false",excludedOrgIds:w}},initialData:{showLogo:!0,showDomains:!0,showMemberCount:!0,excludedOrgIds:[]},staleTime:0,refetchOnMount:!0}),{data:c=[]}=me({queryKey:["all-members"],queryFn:async()=>await K.entities.Member.list(),staleTime:300*1e3}),u=b.useMemo(()=>{const p={};return c.forEach(g=>{g.organization_id&&(p[g.organization_id]=(p[g.organization_id]||0)+1)}),p},[c]),d=b.useMemo(()=>{let p=i.filter(g=>!o.excludedOrgIds.includes(g.id));if(t){const g=t.toLowerCase();p=p.filter(y=>{var v,j;return((v=y.name)==null?void 0:v.toLowerCase().includes(g))||((j=y.domain)==null?void 0:j.toLowerCase().includes(g))})}return p},[i,t,o.excludedOrgIds]),m=Math.ceil(d.length/a),h=b.useMemo(()=>{const p=(n-1)*a;return d.slice(p,p+a)},[d,n,a]);return b.useEffect(()=>{r(1)},[t]),l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(va,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"University Directory"})]}),e.jsxs("p",{className:"text-slate-600",children:[d.length," ",d.length===1?"organisation":"organisations"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search organisations by name or domain...",value:t,onChange:p=>s(p.target.value),className:"pl-10"})]})})}),d.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(va,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No organisations found"}),e.jsx("p",{className:"text-slate-600",children:t?"Try adjusting your search criteria":"No organisations available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>{const g=u[p.id]||0,y=[p.domain,...p.additional_verified_domains||[]].filter(Boolean);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-start gap-3",children:[o.showLogo&&e.jsx("div",{className:"w-10 h-10 flex-shrink-0 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:p.logo_url?e.jsx("img",{src:p.logo_url,alt:p.name,className:"w-full h-full object-cover"}):e.jsx(va,{className:"w-5 h-5 text-slate-400"})}),e.jsx("span",{className:"text-base line-clamp-2",children:p.name})]})}),e.jsxs(ce,{className:"space-y-3",children:[o.showDomains&&y.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W6,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:y.length>1?"Domains":"Domain"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:y.map((v,j)=>e.jsxs("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded",children:["@",v]},j))})]}),o.showMemberCount&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Members"})]}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:g})]})]})]},p.id)})}),m>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>r(p=>Math.max(1,p-1)),disabled:n===1,children:e.jsx(Un,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:m},(p,g)=>g+1).map(p=>e.jsx(X,{variant:n===p?"default":"outline",size:"sm",onClick:()=>r(p),className:"w-9",children:p},p))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>r(p=>Math.min(m,p+1)),disabled:n===m,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})]})})}function dq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(null),[c,u]=b.useState(null),[d,m]=b.useState(!1),[h,p]=b.useState({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0}),g=Gt(),{data:y=[],isLoading:v}=me({queryKey:["floaters"],queryFn:async()=>(await K.entities.Floater.list()).sort((E,O)=>(E.display_order||0)-(O.display_order||0)),staleTime:30*1e3}),{data:j=[]}=me({queryKey:["forms"],queryFn:async()=>await K.entities.Form.list(),staleTime:60*1e3}),w=Fe({mutationFn:async k=>await K.entities.Floater.create(k),onSuccess:()=>{g.invalidateQueries({queryKey:["floaters"]}),te.success("Floater created successfully"),A()},onError:k=>{te.error("Failed to create floater")}}),N=Fe({mutationFn:async({id:k,floaterData:E})=>await K.entities.Floater.update(k,E),onSuccess:()=>{g.invalidateQueries({queryKey:["floaters"]}),te.success("Floater updated successfully"),A()},onError:k=>{te.error("Failed to update floater")}}),_=Fe({mutationFn:async k=>await K.entities.Floater.delete(k),onSuccess:()=>{g.invalidateQueries({queryKey:["floaters"]}),te.success("Floater deleted successfully"),i(!1),u(null)},onError:k=>{te.error("Failed to delete floater")}});if(!t||s("page_FloaterManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const T=(k=null)=>{k?(o(k),p({name:k.name||"",description:k.description||"",image_url:k.image_url||"",action_type:k.action_type||"webhook",webhook_url:k.webhook_url||"",redirect_url:k.redirect_url||"",form_slug:k.form_slug||"",window_target:k.window_target||"new_tab",popup_width:k.popup_width||800,popup_height:k.popup_height||600,display_location:k.display_location||"both",position:k.position||"bottom-right",offset_x:k.offset_x??20,offset_y:k.offset_y??20,width:k.width||80,height:k.height||80,show_background:k.show_background??!0,is_active:k.is_active??!0,display_order:k.display_order||0})):(o(null),p({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0})),r(!0)},A=()=>{r(!1),o(null),p({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0})},P=async k=>{var O;const E=(O=k.target.files)==null?void 0:O[0];if(E){if(!E.type.startsWith("image/")){te.error("Please select an image file");return}m(!0);try{const F=await K.integrations.Core.UploadFile({file:E});p(z=>({...z,image_url:F.file_url})),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{m(!1)}}},C=()=>{if(!h.name||!h.image_url){te.error("Please fill in name and image");return}if(h.action_type==="webhook"&&!h.webhook_url){te.error("Please provide a webhook URL");return}if(h.action_type==="url"&&!h.redirect_url){te.error("Please provide a redirect URL");return}if(h.action_type==="form"&&!h.form_slug){te.error("Please select a form");return}const k={name:h.name,description:h.description,image_url:h.image_url,action_type:h.action_type,webhook_url:h.webhook_url,redirect_url:h.redirect_url,form_slug:h.form_slug,window_target:h.window_target,popup_width:Number(h.popup_width),popup_height:Number(h.popup_height),display_location:h.display_location,position:h.position,offset_x:Number(h.offset_x),offset_y:Number(h.offset_y),width:Number(h.width),height:Number(h.height),show_background:h.show_background,is_active:h.is_active,display_order:Number(h.display_order)};l?N.mutate({id:l.id,floaterData:k}):w.mutate(k)},R=()=>{c&&_.mutate(c.id)},M=k=>{switch(k){case"portal":return{text:"Portal Only",className:"bg-blue-100 text-blue-700"};case"public":return{text:"Public Only",className:"bg-green-100 text-green-700"};case"both":return{text:"Portal & Public",className:"bg-purple-100 text-purple-700"};default:return{text:k,className:"bg-slate-100 text-slate-700"}}};return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Floater Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage floating widget elements"})]}),e.jsxs(X,{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Floater"]})]}),y.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(hf,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No floaters yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first floating widget to get started"}),e.jsxs(X,{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Floater"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(k=>{const E=M(k.display_location);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base mb-2",children:k.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(ve,{className:E.className,children:[E.text," "]}),e.jsx(ve,{variant:"outline",className:"gap-1",children:k.action_type==="webhook"?e.jsxs(e.Fragment,{children:[e.jsx(jK,{className:"w-3 h-3"}),"Webhook"]}):k.action_type==="url"?e.jsxs(e.Fragment,{children:[e.jsx(V4,{className:"w-3 h-3"}),k.window_target==="popup"?"Popup":k.window_target==="parent"?"Parent":k.window_target==="current"?"Current":"New Tab"]}):e.jsxs(e.Fragment,{children:[e.jsx(V4,{className:"w-3 h-3"})," ","Form"]})}),e.jsx(ve,{variant:k.is_active?"default":"secondary",children:k.is_active?e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(a1,{className:"w-3 h-3 mr-1"}),"Inactive"]})})]})]}),k.image_url&&e.jsx("img",{src:k.image_url,alt:k.name,className:"w-16 h-16 object-contain border border-slate-200 rounded ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[k.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Action:"}),e.jsx("span",{className:"text-xs text-slate-900 truncate max-w-[180px]",title:k.action_type==="webhook"?k.webhook_url:k.action_type==="url"?k.redirect_url:k.action_type==="form"?k.form_slug:"",children:k.action_type==="webhook"?k.webhook_url:k.action_type==="url"?k.redirect_url:k.action_type==="form"?`Form: ${k.form_slug}`:"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Position:"}),e.jsx(ve,{variant:"secondary",children:k.position})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Size:"}),e.jsxs(ve,{variant:"secondary",children:[k.width,"x",k.height,"px"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Background:"}),e.jsx(ve,{variant:"secondary",children:k.show_background??!0?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Clicks:"}),e.jsx(ve,{variant:"secondary",children:k.click_count||0})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(k),children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{u(k),i(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},k.id)})})]}),e.jsx(St,{open:n,onOpenChange:r,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsxs(kt,{children:[l?"Edit":"Create"," Floater"]}),e.jsx(fa,{children:"Configure a floating widget that can trigger a webhook, navigate to a URL, or open a form."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",value:h.name,onChange:k=>p({...h,name:k.target.value}),placeholder:"e.g., Help Widget, Contact Button"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:h.description,onChange:k=>p({...h,description:k.target.value}),placeholder:"What does this floater do?",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"image",children:"Image *"}),e.jsxs("div",{className:"flex items-center gap-4",children:[h.image_url&&e.jsx("img",{src:h.image_url,alt:"Floater",className:"w-20 h-20 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:P,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:d,onClick:()=>document.getElementById("image-upload").click(),children:d?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"action-type",children:"Click Action *"}),e.jsxs(He,{value:h.action_type,onValueChange:k=>p({...h,action_type:k}),children:[e.jsx(Ue,{id:"action-type",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"webhook",children:"Call Webhook"}),e.jsx(re,{value:"url",children:"Navigate to URL"}),e.jsx(re,{value:"form",children:"Open Form"})," "]})]})]}),h.action_type==="webhook"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"webhook-url",children:"Webhook URL *"}),e.jsx(he,{id:"webhook-url",type:"url",value:h.webhook_url,onChange:k=>p({...h,webhook_url:k.target.value}),placeholder:"https://example.com/webhook"}),e.jsx("p",{className:"text-xs text-slate-500",children:"URL to call when the floater is clicked"})]}),h.action_type==="url"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"redirect-url",children:"Redirect URL *"}),e.jsx(he,{id:"redirect-url",type:"url",value:h.redirect_url,onChange:k=>p({...h,redirect_url:k.target.value}),placeholder:"https://example.com/page"}),e.jsx("p",{className:"text-xs text-slate-500",children:"URL to navigate to when clicked"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"window-target",children:"Window Target *"}),e.jsxs(He,{value:h.window_target,onValueChange:k=>p({...h,window_target:k}),children:[e.jsx(Ue,{id:"window-target",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"current",children:"Current Window"}),e.jsx(re,{value:"new_tab",children:"New Tab"}),e.jsx(re,{value:"parent",children:"Parent Window"}),e.jsx(re,{value:"popup",children:"Popup Window"})]})]})]}),h.window_target==="popup"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-4 border-l-2 border-blue-200 bg-blue-50 p-3 rounded",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"popup-width",children:"Popup Width (px)"}),e.jsx(he,{id:"popup-width",type:"number",value:h.popup_width,onChange:k=>p({...h,popup_width:parseInt(k.target.value,10)}),min:200})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"popup-height",children:"Popup Height (px)"}),e.jsx(he,{id:"popup-height",type:"number",value:h.popup_height,onChange:k=>p({...h,popup_height:parseInt(k.target.value,10)}),min:200})]})]})]}),h.action_type==="form"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"form-slug",children:"Form *"}),e.jsxs(He,{value:h.form_slug,onValueChange:k=>p({...h,form_slug:k}),children:[e.jsx(Ue,{id:"form-slug",children:e.jsx(Ye,{placeholder:"Select a form"})}),e.jsx(Ve,{children:j.map(k=>e.jsx(re,{value:k.slug,children:k.name},k.id))})]}),j.length===0&&e.jsx("p",{className:"text-xs text-amber-600",children:"No forms available. Create a form first."}),e.jsx("p",{className:"text-xs text-slate-500",children:"The form to open when the floater is clicked"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"display_location",children:"Display Location *"}),e.jsxs(He,{value:h.display_location,onValueChange:k=>p({...h,display_location:k}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"portal",children:"Portal Only"}),e.jsx(re,{value:"public",children:"Public Only"}),e.jsx(re,{value:"both",children:"Both"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"position",children:"Position *"}),e.jsxs(He,{value:h.position,onValueChange:k=>p({...h,position:k}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"bottom-right",children:"Bottom Right"}),e.jsx(re,{value:"bottom-left",children:"Bottom Left"}),e.jsx(re,{value:"top-right",children:"Top Right"}),e.jsx(re,{value:"top-left",children:"Top Left"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"offset_x",children:"Offset X (px)"}),e.jsx(he,{id:"offset_x",type:"number",value:h.offset_x,onChange:k=>p({...h,offset_x:parseInt(k.target.value,10)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"offset_y",children:"Offset Y (px)"}),e.jsx(he,{id:"offset_y",type:"number",value:h.offset_y,onChange:k=>p({...h,offset_y:parseInt(k.target.value,10)})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"width",children:"Width (px)"}),e.jsx(he,{id:"width",type:"number",value:h.width,onChange:k=>p({...h,width:parseInt(k.target.value,10)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"height",children:"Height (px)"}),e.jsx(he,{id:"height",type:"number",value:h.height,onChange:k=>p({...h,height:parseInt(k.target.value,10)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"display_order",children:"Display Order"}),e.jsx(he,{id:"display_order",type:"number",value:h.display_order,onChange:k=>p({...h,display_order:parseInt(k.target.value,10)})}),e.jsx("p",{className:"text-xs text-slate-500",children:"Lower numbers appear first"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"show_background",children:"Show Background"}),e.jsx(ls,{id:"show_background",checked:h.show_background,onCheckedChange:k=>p({...h,show_background:k})})]}),e.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"Display rounded background and shadow"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"is_active",children:"Active"}),e.jsx(ls,{id:"is_active",checked:h.is_active,onCheckedChange:k=>p({...h,is_active:k})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:A,children:"Cancel"}),e.jsxs(X,{onClick:C,className:"bg-blue-600 hover:bg-blue-700",children:[l?"Update":"Create"," Floater"]})]})]})}),e.jsx(yl,{open:a,onOpenChange:i,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Are you sure?"}),e.jsxs(Li,{children:['This will permanently delete the floater "',c==null?void 0:c.name,'". This action cannot be undone.']})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function uq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(null),l=Gt(),{data:o=[],isLoading:c}=me({queryKey:["forms"],queryFn:async()=>await K.entities.Form.list(),staleTime:30*1e3}),u=Fe({mutationFn:async p=>await K.entities.Form.delete(p),onSuccess:()=>{l.invalidateQueries({queryKey:["forms"]}),te.success("Form deleted successfully"),r(!1),i(null)},onError:p=>{te.error("Failed to delete form")}}),d=Fe({mutationFn:async p=>{const{id:g,created_date:y,updated_date:v,created_by:j,submission_count:w,...N}=p,_={...N,name:`Copy of ${p.name}`,slug:`${p.slug}-copy-${Date.now()}`,submission_count:0};return await K.entities.Form.create(_)},onSuccess:()=>{l.invalidateQueries({queryKey:["forms"]}),te.success("Form duplicated successfully")},onError:p=>{te.error("Failed to duplicate form")}});if(!t||s("page_FormManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const m=()=>{a&&u.mutate(a.id)},h=p=>{d.mutate(p)};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Form Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage custom forms"})]}),e.jsx(Wt,{to:Ee("FormBuilder"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Form"]})})]}),o.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ts,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No forms yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first form to get started"}),e.jsx(Wt,{to:Ee("FormBuilder"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Form"]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>{var g;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Re,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base mb-2",children:p.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(ve,{variant:"outline",children:p.layout_type==="card_swipe"?"Card Swipe":"Standard"}),e.jsx(ve,{variant:p.is_active?"default":"secondary",children:p.is_active?e.jsxs(e.Fragment,{children:[e.jsx(fr,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(a1,{className:"w-3 h-3 mr-1"}),"Inactive"]})}),p.require_authentication&&e.jsx(ve,{variant:"secondary",children:"Auth Required"})]})]})})}),e.jsxs(ce,{className:"space-y-3",children:[p.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:p.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Fields:"}),e.jsx(ve,{variant:"secondary",children:((g=p.fields)==null?void 0:g.length)||0})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Submissions:"}),e.jsxs(ve,{variant:"secondary",className:"gap-1",children:[e.jsx(Eu,{className:"w-3 h-3"}),p.submission_count||0]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Slug:"}),e.jsx("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:p.slug})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Wt,{to:`${Ee("FormBuilder")}?formId=${p.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(p),disabled:d.isPending,title:"Duplicate form",children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx(Wt,{to:`${Ee("FormView")}?slug=${p.slug}`,children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(fr,{className:"w-3 h-3"})})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{i(p),r(!0)},children:e.jsx(is,{className:"w-3 h-3"})})]})]})]},p.id)})})]}),e.jsx(yl,{open:n,onOpenChange:r,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Are you sure?"}),e.jsxs(Li,{children:['This will permanently delete the form "',a==null?void 0:a.name,'" and all its submissions. This action cannot be undone.']})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:m,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const zwe=[{value:"text",label:"Text Input"},{value:"email",label:"Email"},{value:"number",label:"Number"},{value:"tel",label:"Phone"},{value:"textarea",label:"Text Area"},{value:"select",label:"Dropdown"},{value:"radio",label:"Radio Buttons"},{value:"checkbox",label:"Checkboxes"},{value:"date",label:"Date"},{value:"time",label:"Time"},{value:"file",label:"File Upload"},{value:"user_name",label:"User Name (Auto)"},{value:"user_email",label:"User Email (Auto)"},{value:"user_organization",label:"User Organization (Auto)"},{value:"user_job_title",label:"User Job Title (Auto)"}];function hq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({name:"",description:"",slug:"",layout_type:"standard",fields:[],submit_button_text:"Submit",success_message:"Thank you for your submission!",redirect_url:"",require_authentication:!1,is_active:!0}),a=Gt(),l=new URLSearchParams(window.location.search).get("formId"),{data:o,isLoading:c}=me({queryKey:["form",l],queryFn:async()=>l?(await K.entities.Form.list()).find(j=>j.id===l):null,enabled:!!l,staleTime:30*1e3});b.useEffect(()=>{o&&r({name:o.name||"",description:o.description||"",slug:o.slug||"",layout_type:o.layout_type||"standard",fields:o.fields?o.fields.map(v=>({...v,allow_other:v.allow_other??!1})):[],submit_button_text:o.submit_button_text||"Submit",success_message:o.success_message||"Thank you for your submission!",redirect_url:o.redirect_url||"",require_authentication:o.require_authentication||!1,is_active:o.is_active??!0})},[o]);const u=Fe({mutationFn:async v=>await K.entities.Form.create(v),onSuccess:()=>{a.invalidateQueries({queryKey:["forms"]}),te.success("Form created successfully"),window.location.href=Ee("FormManagement")},onError:v=>{te.error("Failed to create form")}}),d=Fe({mutationFn:async({id:v,data:j})=>await K.entities.Form.update(v,j),onSuccess:()=>{a.invalidateQueries({queryKey:["forms"]}),te.success("Form updated successfully")},onError:v=>{te.error("Failed to update form")}});if(!t||s("page_FormBuilder"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const m=()=>{const v={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"",required:!1,options:[],allow_other:!1};r({...n,fields:[...n.fields,v]})},h=(v,j)=>{const w=[...n.fields];w[v]={...w[v],...j},r({...n,fields:w})},p=v=>{const j=n.fields.filter((w,N)=>N!==v);r({...n,fields:j})},g=v=>{if(!v.destination)return;const j=Array.from(n.fields),[w]=j.splice(v.source.index,1);j.splice(v.destination.index,0,w),r({...n,fields:j})},y=()=>{if(!n.name||!n.slug){te.error("Please fill in name and slug");return}if(n.fields.length===0){te.error("Please add at least one field");return}l?d.mutate({id:l,data:n}):u.mutate(n)};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx(Wt,{to:Ee("FormManagement"),children:e.jsxs(X,{variant:"ghost",size:"sm",className:"mb-2",children:[e.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Back to Forms"]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:l?"Edit Form":"Create Form"})]}),e.jsx(X,{onClick:y,disabled:u.isPending||d.isPending,className:"bg-blue-600 hover:bg-blue-700",children:u.isPending||d.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Form"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(le,{className:"border-slate-200 sticky top-4",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-lg",children:"Form Settings"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"name",children:"Form Name *"}),e.jsx(he,{id:"name",value:n.name,onChange:v=>r({...n,name:v.target.value}),placeholder:"Contact Form"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"slug",children:"Slug *"}),e.jsx(he,{id:"slug",value:n.slug,onChange:v=>r({...n,slug:v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"contact-form"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["URL: /FormView?slug=",n.slug||"your-slug"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:n.description,onChange:v=>r({...n,description:v.target.value}),placeholder:"Form description...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"layout_type",children:"Layout Type *"}),e.jsxs(He,{value:n.layout_type,onValueChange:v=>r({...n,layout_type:v}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"standard",children:"Standard (All Fields)"}),e.jsx(re,{value:"card_swipe",children:"Card Swipe (One at a Time)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"submit_button_text",children:"Submit Button Text"}),e.jsx(he,{id:"submit_button_text",value:n.submit_button_text,onChange:v=>r({...n,submit_button_text:v.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"success_message",children:"Success Message"}),e.jsx(Ht,{id:"success_message",value:n.success_message,onChange:v=>r({...n,success_message:v.target.value}),rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"redirect_url",children:"Redirect URL (Optional)"}),e.jsx(he,{id:"redirect_url",type:"url",value:n.redirect_url,onChange:v=>r({...n,redirect_url:v.target.value}),placeholder:"https://example.com/thanks"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"require_authentication",children:"Require Login"}),e.jsx(ls,{id:"require_authentication",checked:n.require_authentication,onCheckedChange:v=>r({...n,require_authentication:v})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ee,{htmlFor:"is_active",children:"Active"}),e.jsx(ls,{id:"is_active",checked:n.is_active,onCheckedChange:v=>r({...n,is_active:v})})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($e,{className:"text-lg",children:"Form Fields"}),e.jsxs(X,{onClick:m,size:"sm",variant:"outline",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Field"]})]})}),e.jsx(ce,{children:n.fields.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("p",{className:"mb-4",children:"No fields added yet"}),e.jsxs(X,{onClick:m,variant:"outline",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Your First Field"]})]}):e.jsx(Rf,{onDragEnd:g,children:e.jsx(Sc,{droppableId:"fields",children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-4",children:[n.fields.map((j,w)=>e.jsx(_c,{draggableId:j.id,index:w,children:N=>e.jsx("div",{ref:N.innerRef,...N.draggableProps,className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{...N.dragHandleProps,className:"mt-2 cursor-move",children:e.jsx(Uc,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xs",children:"Field Type"}),e.jsxs(He,{value:j.type,onValueChange:_=>h(w,{type:_}),children:[e.jsx(Ue,{className:"h-9",children:e.jsx(Ye,{})}),e.jsx(Ve,{children:zwe.map(_=>e.jsx(re,{value:_.value,children:_.label},_.value))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xs",children:"Label"}),e.jsx(he,{value:j.label,onChange:_=>h(w,{label:_.target.value}),className:"h-9"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xs",children:"Placeholder"}),e.jsx(he,{value:j.placeholder,onChange:_=>h(w,{placeholder:_.target.value}),className:"h-9"})]}),["select","radio","checkbox"].includes(j.type)&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(ee,{className:"text-xs",children:"Options (one per line)"}),e.jsx(Ht,{value:(j.options||[]).join(`
`),onChange:_=>h(w,{options:_.target.value.split(`
`).filter(T=>T.trim())}),className:"h-20 text-sm",placeholder:`Option 1
Option 2
Option 3`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{id:`required-${j.id}`,checked:j.required,onCheckedChange:_=>h(w,{required:_})}),e.jsx(ee,{htmlFor:`required-${j.id}`,className:"text-xs",children:"Required"})]}),j.type==="select"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{id:`allow-other-${j.id}`,checked:j.allow_other||!1,onCheckedChange:_=>h(w,{allow_other:_})}),e.jsx(ee,{htmlFor:`allow-other-${j.id}`,className:"text-xs",children:'Allow "Other"'})]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>p(w),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-4 h-4"})})]})]})]})})},j.id)),v.placeholder]})})})})]})})]})]})})}function mq({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState(0),[a,i]=b.useState({}),[l,o]=b.useState(!1),c=Gt(),d=new URLSearchParams(window.location.search).get("slug"),{data:m}=me({queryKey:["member-record",t==null?void 0:t.email],queryFn:async()=>(await K.entities.Member.list()).find(w=>w.email===(t==null?void 0:t.email)),enabled:!!(t!=null&&t.email),staleTime:30*1e3}),{data:h,isLoading:p}=me({queryKey:["form-by-slug",d],queryFn:async()=>(await K.entities.Form.list()).find(w=>w.slug===d&&w.is_active),enabled:!!d,staleTime:30*1e3}),g=Fe({mutationFn:async j=>await K.entities.FormSubmission.create(j),onSuccess:async()=>{h&&await K.entities.Form.update(h.id,{submission_count:(h.submission_count||0)+1}),c.invalidateQueries({queryKey:["form-by-slug"]}),o(!0),h!=null&&h.redirect_url&&setTimeout(()=>{window.location.href=h.redirect_url},2e3)},onError:j=>{te.error("Failed to submit form")}});if(p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Form not found or is not active."})})})});if(h.require_authentication&&!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Please log in to access this form."})})})});const y=async()=>{const j=h.fields.filter(N=>N.required&&(!a[N.id]||a[N.id].length===0));if(j.length>0){te.error(`Please fill in all required fields: ${j.map(N=>N.label).join(", ")}`);return}const w={form_id:h.id,form_name:h.name,submitted_by_email:(t==null?void 0:t.email)||null,submitted_by_name:t?`${t.first_name} ${t.last_name}`:null,submission_data:a};g.mutate(w)};if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md border-green-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Kn,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Success!"}),e.jsx("p",{className:"text-slate-600",children:h.success_message}),h.redirect_url&&e.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Redirecting..."})]})})});const v=m||t;if(h.layout_type==="card_swipe"){const j=h.fields[n],w=n===h.fields.length-1,N=!(j!=null&&j.required)||a[j==null?void 0:j.id];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsxs(le,{className:"max-w-2xl w-full border-slate-200",children:[e.jsxs(Re,{children:[e.jsx($e,{children:h.name}),h.description&&e.jsx(Cs,{className:"whitespace-pre-line",children:h.description}),e.jsx("div",{className:"flex gap-1 mt-4",children:h.fields.map((_,T)=>e.jsx("div",{className:`h-1 flex-1 rounded ${T<=n?"bg-blue-600":"bg-slate-200"}`},T))})]}),e.jsx(ce,{className:"min-h-[300px]",children:j&&e.jsx(mu,{field:j,value:a[j.id],onChange:_=>i({...a,[j.id]:_}),memberInfo:v,organizationInfo:s})}),e.jsxs("div",{className:"p-6 pt-0 flex justify-between",children:[e.jsxs(X,{variant:"outline",onClick:()=>r(n-1),disabled:n===0,children:[e.jsx(Un,{className:"w-4 h-4 mr-2"}),"Previous"]}),w?e.jsx(X,{onClick:y,disabled:!N||g.isPending,className:"bg-blue-600 hover:bg-blue-700",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):h.submit_button_text}):e.jsxs(X,{onClick:()=>r(n+1),disabled:!N,children:["Next",e.jsx(ys,{className:"w-4 h-4 ml-2"})]})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Re,{children:[e.jsx($e,{children:h.name}),h.description&&e.jsx(Cs,{className:"whitespace-pre-line",children:h.description})]}),e.jsxs(ce,{className:"space-y-6",children:[h.fields.map(j=>e.jsx(mu,{field:j,value:a[j.id],onChange:w=>i({...a,[j.id]:w}),memberInfo:v,organizationInfo:s},j.id)),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:y,disabled:g.isPending,className:"bg-blue-600 hover:bg-blue-700",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):h.submit_button_text})})]})]})})})}function fq({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}),a=Gt(),{data:i,isLoading:l}=me({queryKey:["memberDirectoryDisplay"],queryFn:async()=>{const m=(await K.entities.SystemSettings.list()).find(h=>h.setting_key==="member_directory_display");if(m!=null&&m.setting_value)try{const h=JSON.parse(m.setting_value);return{id:m.id,...h}}catch(h){return console.error("Failed to parse member directory settings:",h),{id:m.id,show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}}return{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}},staleTime:0,refetchOnMount:!0});b.useEffect(()=>{i&&r(i)},[i]);const o=Fe({mutationFn:async d=>{const{id:m,...h}=d,p=JSON.stringify(h);return m?await K.entities.SystemSettings.update(m,{setting_value:p}):await K.entities.SystemSettings.create({setting_key:"member_directory_display",setting_value:p,description:"Controls which fields are displayed on Member Directory cards"})},onSuccess:()=>{a.invalidateQueries({queryKey:["memberDirectoryDisplay"]}),te.success("Settings saved successfully")},onError:d=>{console.error("Failed to save settings:",d),te.error("Failed to save settings")}}),c=d=>{r(m=>({...m,[d]:!m[d]}))},u=()=>{o.mutate(n)};return!t||s("page_MemberDirectorySettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(bs,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Directory Settings"})]}),e.jsx("p",{className:"text-slate-600",children:"Configure what information displays on member directory cards"})]}),e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Re,{children:[e.jsx($e,{children:"Display Options"}),e.jsx(Cs,{children:"Toggle which fields appear on member cards in the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-profile-photo",className:"cursor-pointer font-medium",children:"Profile Photos"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member profile photos on cards"})]}),e.jsx(ls,{id:"show-profile-photo",checked:n.show_profile_photo,onCheckedChange:()=>c("show_profile_photo")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-organization",className:"cursor-pointer font-medium",children:"Organization"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display the member's organization name"})]}),e.jsx(ls,{id:"show-organization",checked:n.show_organization,onCheckedChange:()=>c("show_organization")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-job-title",className:"cursor-pointer font-medium",children:"Job Title"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display the member's job title"})]}),e.jsx(ls,{id:"show-job-title",checked:n.show_job_title,onCheckedChange:()=>c("show_job_title")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-linkedin",className:"cursor-pointer font-medium",children:"LinkedIn Profile"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display LinkedIn profile link if available"})]}),e.jsx(ls,{id:"show-linkedin",checked:n.show_linkedin,onCheckedChange:()=>c("show_linkedin")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-events",className:"cursor-pointer font-medium",children:"Events Attended"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display count of events attended"})]}),e.jsx(ls,{id:"show-events",checked:n.show_events,onCheckedChange:()=>c("show_events")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-articles",className:"cursor-pointer font-medium",children:"Articles Published"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display count of published articles"})]}),e.jsx(ls,{id:"show-articles",checked:n.show_articles,onCheckedChange:()=>c("show_articles")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-awards",className:"cursor-pointer font-medium",children:"Awards"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member's earned awards"})]}),e.jsx(ls,{id:"show-awards",checked:n.show_awards,onCheckedChange:()=>c("show_awards")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"show-bio-in-popup",className:"cursor-pointer font-medium",children:"Biography in Detail View"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member biography in the popup detail view"})]}),e.jsx(ls,{id:"show-bio-in-popup",checked:n.show_bio_in_popup,onCheckedChange:()=>c("show_bio_in_popup")})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:u,disabled:o.isPending,className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})]})]})})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var pq;function _t(){return pq.apply(null,arguments)}function $we(t){pq=t}function fi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Cc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Bs(t,s){return Object.prototype.hasOwnProperty.call(t,s)}function SS(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var s;for(s in t)if(Bs(t,s))return!1;return!0}function Wr(t){return t===void 0}function Ol(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function If(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function xq(t,s){var n=[],r,a=t.length;for(r=0;r<a;++r)n.push(s(t[r],r));return n}function wo(t,s){for(var n in s)Bs(s,n)&&(t[n]=s[n]);return Bs(s,"toString")&&(t.toString=s.toString),Bs(s,"valueOf")&&(t.valueOf=s.valueOf),t}function Xi(t,s,n,r){return Bq(t,s,n,r,!0).utc()}function Uwe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ms(t){return t._pf==null&&(t._pf=Uwe()),t._pf}var R_;Array.prototype.some?R_=Array.prototype.some:R_=function(t){var s=Object(this),n=s.length>>>0,r;for(r=0;r<n;r++)if(r in s&&t.call(this,s[r],r,s))return!0;return!1};function CS(t){var s=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(s=ms(t),n=R_.call(s.parsedDateParts,function(a){return a!=null}),r=s.overflow<0&&!s.empty&&!s.invalidEra&&!s.invalidMonth&&!s.invalidWeekday&&!s.weekdayMismatch&&!s.nullInput&&!s.invalidFormat&&!s.userInvalidated&&(!s.meridiem||s.meridiem&&n),t._strict&&(r=r&&s.charsLeftOver===0&&s.unusedTokens.length===0&&s.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function J0(t){var s=Xi(NaN);return t!=null?wo(ms(s),t):ms(s).userInvalidated=!0,s}var TD=_t.momentProperties=[],Ww=!1;function kS(t,s){var n,r,a,i=TD.length;if(Wr(s._isAMomentObject)||(t._isAMomentObject=s._isAMomentObject),Wr(s._i)||(t._i=s._i),Wr(s._f)||(t._f=s._f),Wr(s._l)||(t._l=s._l),Wr(s._strict)||(t._strict=s._strict),Wr(s._tzm)||(t._tzm=s._tzm),Wr(s._isUTC)||(t._isUTC=s._isUTC),Wr(s._offset)||(t._offset=s._offset),Wr(s._pf)||(t._pf=ms(s)),Wr(s._locale)||(t._locale=s._locale),i>0)for(n=0;n<i;n++)r=TD[n],a=s[r],Wr(a)||(t[r]=a);return t}function Bf(t){kS(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ww===!1&&(Ww=!0,_t.updateOffset(this),Ww=!1)}function pi(t){return t instanceof Bf||t!=null&&t._isAMomentObject!=null}function gq(t){_t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Wa(t,s){var n=!0;return wo(function(){if(_t.deprecationHandler!=null&&_t.deprecationHandler(null,t),n){var r=[],a,i,l,o=arguments.length;for(i=0;i<o;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(l in arguments[0])Bs(arguments[0],l)&&(a+=l+": "+arguments[0][l]+", ");a=a.slice(0,-2)}else a=arguments[i];r.push(a)}gq(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return s.apply(this,arguments)},s)}var AD={};function vq(t,s){_t.deprecationHandler!=null&&_t.deprecationHandler(t,s),AD[t]||(gq(s),AD[t]=!0)}_t.suppressDeprecationWarnings=!1;_t.deprecationHandler=null;function Zi(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Vwe(t){var s,n;for(n in t)Bs(t,n)&&(s=t[n],Zi(s)?this[n]=s:this["_"+n]=s);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F_(t,s){var n=wo({},t),r;for(r in s)Bs(s,r)&&(Cc(t[r])&&Cc(s[r])?(n[r]={},wo(n[r],t[r]),wo(n[r],s[r])):s[r]!=null?n[r]=s[r]:delete n[r]);for(r in t)Bs(t,r)&&!Bs(s,r)&&Cc(t[r])&&(n[r]=wo({},n[r]));return n}function ES(t){t!=null&&this.set(t)}var L_;Object.keys?L_=Object.keys:L_=function(t){var s,n=[];for(s in t)Bs(t,s)&&n.push(s);return n};var Wwe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Hwe(t,s,n){var r=this._calendar[t]||this._calendar.sameElse;return Zi(r)?r.call(s,n):r}function Gi(t,s,n){var r=""+Math.abs(t),a=s-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var PS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,bx=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hw={},Xd={};function Kt(t,s,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),t&&(Xd[t]=a),s&&(Xd[s[0]]=function(){return Gi(a.apply(this,arguments),s[1],s[2])}),n&&(Xd[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function Gwe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Kwe(t){var s=t.match(PS),n,r;for(n=0,r=s.length;n<r;n++)Xd[s[n]]?s[n]=Xd[s[n]]:s[n]=Gwe(s[n]);return function(a){var i="",l;for(l=0;l<r;l++)i+=Zi(s[l])?s[l].call(a,t):s[l];return i}}function Wx(t,s){return t.isValid()?(s=yq(s,t.localeData()),Hw[s]=Hw[s]||Kwe(s),Hw[s](t)):t.localeData().invalidDate()}function yq(t,s){var n=5;function r(a){return s.longDateFormat(a)||a}for(bx.lastIndex=0;n>=0&&bx.test(t);)t=t.replace(bx,r),bx.lastIndex=0,n-=1;return t}var Ywe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Qwe(t){var s=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return s||!n?s:(this._longDateFormat[t]=n.match(PS).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Jwe="Invalid date";function Xwe(){return this._invalidDate}var Zwe="%d",eNe=/\d{1,2}/;function tNe(t){return this._ordinal.replace("%d",t)}var sNe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function nNe(t,s,n,r){var a=this._relativeTime[n];return Zi(a)?a(t,s,n,r):a.replace(/%d/i,t)}function rNe(t,s){var n=this._relativeTime[t>0?"future":"past"];return Zi(n)?n(s):n.replace(/%s/i,s)}var MD={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ha(t){return typeof t=="string"?MD[t]||MD[t.toLowerCase()]:void 0}function TS(t){var s={},n,r;for(r in t)Bs(t,r)&&(n=Ha(r),n&&(s[n]=t[r]));return s}var aNe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function iNe(t){var s=[],n;for(n in t)Bs(t,n)&&s.push({unit:n,priority:aNe[n]});return s.sort(function(r,a){return r.priority-a.priority}),s}var bq=/\d/,Na=/\d\d/,jq=/\d{3}/,AS=/\d{4}/,X0=/[+-]?\d{6}/,mn=/\d\d?/,wq=/\d\d\d\d?/,Nq=/\d\d\d\d\d\d?/,Z0=/\d{1,3}/,MS=/\d{1,4}/,ev=/[+-]?\d{1,6}/,Xu=/\d+/,tv=/[+-]?\d+/,lNe=/Z|[+-]\d\d:?\d\d/gi,sv=/Z|[+-]\d\d(?::?\d\d)?/gi,oNe=/[+-]?\d+(\.\d{1,3})?/,qf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zu=/^[1-9]\d?/,DS=/^([1-9]\d|\d)/,Tg;Tg={};function Mt(t,s,n){Tg[t]=Zi(s)?s:function(r,a){return r&&n?n:s}}function cNe(t,s){return Bs(Tg,t)?Tg[t](s._strict,s._locale):new RegExp(dNe(t))}function dNe(t){return _l(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(s,n,r,a,i){return n||r||a||i}))}function _l(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Fa(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ks(t){var s=+t,n=0;return s!==0&&isFinite(s)&&(n=Fa(s)),n}var I_={};function Xs(t,s){var n,r=s,a;for(typeof t=="string"&&(t=[t]),Ol(s)&&(r=function(i,l){l[s]=ks(i)}),a=t.length,n=0;n<a;n++)I_[t[n]]=r}function zf(t,s){Xs(t,function(n,r,a,i){a._w=a._w||{},s(n,a._w,a,i)})}function uNe(t,s,n){s!=null&&Bs(I_,t)&&I_[t](s,n._a,n,t)}function nv(t){return t%4===0&&t%100!==0||t%400===0}var mr=0,bl=1,Ai=2,zn=3,li=4,jl=5,pc=6,hNe=7,mNe=8;Kt("Y",0,0,function(){var t=this.year();return t<=9999?Gi(t,4):"+"+t});Kt(0,["YY",2],0,function(){return this.year()%100});Kt(0,["YYYY",4],0,"year");Kt(0,["YYYYY",5],0,"year");Kt(0,["YYYYYY",6,!0],0,"year");Mt("Y",tv);Mt("YY",mn,Na);Mt("YYYY",MS,AS);Mt("YYYYY",ev,X0);Mt("YYYYYY",ev,X0);Xs(["YYYYY","YYYYYY"],mr);Xs("YYYY",function(t,s){s[mr]=t.length===2?_t.parseTwoDigitYear(t):ks(t)});Xs("YY",function(t,s){s[mr]=_t.parseTwoDigitYear(t)});Xs("Y",function(t,s){s[mr]=parseInt(t,10)});function ym(t){return nv(t)?366:365}_t.parseTwoDigitYear=function(t){return ks(t)+(ks(t)>68?1900:2e3)};var _q=eh("FullYear",!0);function fNe(){return nv(this.year())}function eh(t,s){return function(n){return n!=null?(Sq(this,t,n),_t.updateOffset(this,s),this):Gm(this,t)}}function Gm(t,s){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(s){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Sq(t,s,n){var r,a,i,l,o;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,a=t._isUTC,s){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,l=t.month(),o=t.date(),o=o===29&&l===1&&!nv(i)?28:o,a?r.setUTCFullYear(i,l,o):r.setFullYear(i,l,o)}}function pNe(t){return t=Ha(t),Zi(this[t])?this[t]():this}function xNe(t,s){if(typeof t=="object"){t=TS(t);var n=iNe(t),r,a=n.length;for(r=0;r<a;r++)this[n[r].unit](t[n[r].unit])}else if(t=Ha(t),Zi(this[t]))return this[t](s);return this}function gNe(t,s){return(t%s+s)%s}var An;Array.prototype.indexOf?An=Array.prototype.indexOf:An=function(t){var s;for(s=0;s<this.length;++s)if(this[s]===t)return s;return-1};function OS(t,s){if(isNaN(t)||isNaN(s))return NaN;var n=gNe(s,12);return t+=(s-n)/12,n===1?nv(t)?29:28:31-n%7%2}Kt("M",["MM",2],"Mo",function(){return this.month()+1});Kt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Kt("MMMM",0,0,function(t){return this.localeData().months(this,t)});Mt("M",mn,Zu);Mt("MM",mn,Na);Mt("MMM",function(t,s){return s.monthsShortRegex(t)});Mt("MMMM",function(t,s){return s.monthsRegex(t)});Xs(["M","MM"],function(t,s){s[bl]=ks(t)-1});Xs(["MMM","MMMM"],function(t,s,n,r){var a=n._locale.monthsParse(t,r,n._strict);a!=null?s[bl]=a:ms(n).invalidMonth=t});var vNe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cq="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kq=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yNe=qf,bNe=qf;function jNe(t,s){return t?fi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||kq).test(s)?"format":"standalone"][t.month()]:fi(this._months)?this._months:this._months.standalone}function wNe(t,s){return t?fi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[kq.test(s)?"format":"standalone"][t.month()]:fi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function NNe(t,s,n){var r,a,i,l=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Xi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?s==="MMM"?(a=An.call(this._shortMonthsParse,l),a!==-1?a:null):(a=An.call(this._longMonthsParse,l),a!==-1?a:null):s==="MMM"?(a=An.call(this._shortMonthsParse,l),a!==-1?a:(a=An.call(this._longMonthsParse,l),a!==-1?a:null)):(a=An.call(this._longMonthsParse,l),a!==-1?a:(a=An.call(this._shortMonthsParse,l),a!==-1?a:null))}function _Ne(t,s,n){var r,a,i;if(this._monthsParseExact)return NNe.call(this,t,s,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=Xi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&s==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&s==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Eq(t,s){if(!t.isValid())return t;if(typeof s=="string"){if(/^\d+$/.test(s))s=ks(s);else if(s=t.localeData().monthsParse(s),!Ol(s))return t}var n=s,r=t.date();return r=r<29?r:Math.min(r,OS(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function Pq(t){return t!=null?(Eq(this,t),_t.updateOffset(this,!0),this):Gm(this,"Month")}function SNe(){return OS(this.year(),this.month())}function CNe(t){return this._monthsParseExact?(Bs(this,"_monthsRegex")||Tq.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Bs(this,"_monthsShortRegex")||(this._monthsShortRegex=yNe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function kNe(t){return this._monthsParseExact?(Bs(this,"_monthsRegex")||Tq.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Bs(this,"_monthsRegex")||(this._monthsRegex=bNe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Tq(){function t(c,u){return u.length-c.length}var s=[],n=[],r=[],a,i,l,o;for(a=0;a<12;a++)i=Xi([2e3,a]),l=_l(this.monthsShort(i,"")),o=_l(this.months(i,"")),s.push(l),n.push(o),r.push(o),r.push(l);s.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ENe(t,s,n,r,a,i,l){var o;return t<100&&t>=0?(o=new Date(t+400,s,n,r,a,i,l),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,s,n,r,a,i,l),o}function Km(t){var s,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,s=new Date(Date.UTC.apply(null,n)),isFinite(s.getUTCFullYear())&&s.setUTCFullYear(t)):s=new Date(Date.UTC.apply(null,arguments)),s}function Ag(t,s,n){var r=7+s-n,a=(7+Km(t,0,r).getUTCDay()-s)%7;return-a+r-1}function Aq(t,s,n,r,a){var i=(7+n-r)%7,l=Ag(t,r,a),o=1+7*(s-1)+i+l,c,u;return o<=0?(c=t-1,u=ym(c)+o):o>ym(t)?(c=t+1,u=o-ym(t)):(c=t,u=o),{year:c,dayOfYear:u}}function Ym(t,s,n){var r=Ag(t.year(),s,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1,i,l;return a<1?(l=t.year()-1,i=a+Sl(l,s,n)):a>Sl(t.year(),s,n)?(i=a-Sl(t.year(),s,n),l=t.year()+1):(l=t.year(),i=a),{week:i,year:l}}function Sl(t,s,n){var r=Ag(t,s,n),a=Ag(t+1,s,n);return(ym(t)-r+a)/7}Kt("w",["ww",2],"wo","week");Kt("W",["WW",2],"Wo","isoWeek");Mt("w",mn,Zu);Mt("ww",mn,Na);Mt("W",mn,Zu);Mt("WW",mn,Na);zf(["w","ww","W","WW"],function(t,s,n,r){s[r.substr(0,1)]=ks(t)});function PNe(t){return Ym(t,this._week.dow,this._week.doy).week}var TNe={dow:0,doy:6};function ANe(){return this._week.dow}function MNe(){return this._week.doy}function DNe(t){var s=this.localeData().week(this);return t==null?s:this.add((t-s)*7,"d")}function ONe(t){var s=Ym(this,1,4).week;return t==null?s:this.add((t-s)*7,"d")}Kt("d",0,"do","day");Kt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Kt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Kt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Kt("e",0,0,"weekday");Kt("E",0,0,"isoWeekday");Mt("d",mn);Mt("e",mn);Mt("E",mn);Mt("dd",function(t,s){return s.weekdaysMinRegex(t)});Mt("ddd",function(t,s){return s.weekdaysShortRegex(t)});Mt("dddd",function(t,s){return s.weekdaysRegex(t)});zf(["dd","ddd","dddd"],function(t,s,n,r){var a=n._locale.weekdaysParse(t,r,n._strict);a!=null?s.d=a:ms(n).invalidWeekday=t});zf(["d","e","E"],function(t,s,n,r){s[r]=ks(t)});function RNe(t,s){return typeof t!="string"?t:isNaN(t)?(t=s.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function FNe(t,s){return typeof t=="string"?s.weekdaysParse(t)%7||7:isNaN(t)?null:t}function RS(t,s){return t.slice(s,7).concat(t.slice(0,s))}var LNe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mq="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),INe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),BNe=qf,qNe=qf,zNe=qf;function $Ne(t,s){var n=fi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(s)?"format":"standalone"];return t===!0?RS(n,this._week.dow):t?n[t.day()]:n}function UNe(t){return t===!0?RS(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function VNe(t){return t===!0?RS(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function WNe(t,s,n){var r,a,i,l=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Xi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?s==="dddd"?(a=An.call(this._weekdaysParse,l),a!==-1?a:null):s==="ddd"?(a=An.call(this._shortWeekdaysParse,l),a!==-1?a:null):(a=An.call(this._minWeekdaysParse,l),a!==-1?a:null):s==="dddd"?(a=An.call(this._weekdaysParse,l),a!==-1||(a=An.call(this._shortWeekdaysParse,l),a!==-1)?a:(a=An.call(this._minWeekdaysParse,l),a!==-1?a:null)):s==="ddd"?(a=An.call(this._shortWeekdaysParse,l),a!==-1||(a=An.call(this._weekdaysParse,l),a!==-1)?a:(a=An.call(this._minWeekdaysParse,l),a!==-1?a:null)):(a=An.call(this._minWeekdaysParse,l),a!==-1||(a=An.call(this._weekdaysParse,l),a!==-1)?a:(a=An.call(this._shortWeekdaysParse,l),a!==-1?a:null))}function HNe(t,s,n){var r,a,i;if(this._weekdaysParseExact)return WNe.call(this,t,s,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=Xi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&s==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&s==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&s==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function GNe(t){if(!this.isValid())return t!=null?this:NaN;var s=Gm(this,"Day");return t!=null?(t=RNe(t,this.localeData()),this.add(t-s,"d")):s}function KNe(t){if(!this.isValid())return t!=null?this:NaN;var s=(this.day()+7-this.localeData()._week.dow)%7;return t==null?s:this.add(t-s,"d")}function YNe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var s=FNe(t,this.localeData());return this.day(this.day()%7?s:s-7)}else return this.day()||7}function QNe(t){return this._weekdaysParseExact?(Bs(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Bs(this,"_weekdaysRegex")||(this._weekdaysRegex=BNe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function JNe(t){return this._weekdaysParseExact?(Bs(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Bs(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qNe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function XNe(t){return this._weekdaysParseExact?(Bs(this,"_weekdaysRegex")||FS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Bs(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zNe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function FS(){function t(d,m){return m.length-d.length}var s=[],n=[],r=[],a=[],i,l,o,c,u;for(i=0;i<7;i++)l=Xi([2e3,1]).day(i),o=_l(this.weekdaysMin(l,"")),c=_l(this.weekdaysShort(l,"")),u=_l(this.weekdays(l,"")),s.push(o),n.push(c),r.push(u),a.push(o),a.push(c),a.push(u);s.sort(t),n.sort(t),r.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function LS(){return this.hours()%12||12}function ZNe(){return this.hours()||24}Kt("H",["HH",2],0,"hour");Kt("h",["hh",2],0,LS);Kt("k",["kk",2],0,ZNe);Kt("hmm",0,0,function(){return""+LS.apply(this)+Gi(this.minutes(),2)});Kt("hmmss",0,0,function(){return""+LS.apply(this)+Gi(this.minutes(),2)+Gi(this.seconds(),2)});Kt("Hmm",0,0,function(){return""+this.hours()+Gi(this.minutes(),2)});Kt("Hmmss",0,0,function(){return""+this.hours()+Gi(this.minutes(),2)+Gi(this.seconds(),2)});function Dq(t,s){Kt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),s)})}Dq("a",!0);Dq("A",!1);function Oq(t,s){return s._meridiemParse}Mt("a",Oq);Mt("A",Oq);Mt("H",mn,DS);Mt("h",mn,Zu);Mt("k",mn,Zu);Mt("HH",mn,Na);Mt("hh",mn,Na);Mt("kk",mn,Na);Mt("hmm",wq);Mt("hmmss",Nq);Mt("Hmm",wq);Mt("Hmmss",Nq);Xs(["H","HH"],zn);Xs(["k","kk"],function(t,s,n){var r=ks(t);s[zn]=r===24?0:r});Xs(["a","A"],function(t,s,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Xs(["h","hh"],function(t,s,n){s[zn]=ks(t),ms(n).bigHour=!0});Xs("hmm",function(t,s,n){var r=t.length-2;s[zn]=ks(t.substr(0,r)),s[li]=ks(t.substr(r)),ms(n).bigHour=!0});Xs("hmmss",function(t,s,n){var r=t.length-4,a=t.length-2;s[zn]=ks(t.substr(0,r)),s[li]=ks(t.substr(r,2)),s[jl]=ks(t.substr(a)),ms(n).bigHour=!0});Xs("Hmm",function(t,s,n){var r=t.length-2;s[zn]=ks(t.substr(0,r)),s[li]=ks(t.substr(r))});Xs("Hmmss",function(t,s,n){var r=t.length-4,a=t.length-2;s[zn]=ks(t.substr(0,r)),s[li]=ks(t.substr(r,2)),s[jl]=ks(t.substr(a))});function e_e(t){return(t+"").toLowerCase().charAt(0)==="p"}var t_e=/[ap]\.?m?\.?/i,s_e=eh("Hours",!0);function n_e(t,s,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Rq={calendar:Wwe,longDateFormat:Ywe,invalidDate:Jwe,ordinal:Zwe,dayOfMonthOrdinalParse:eNe,relativeTime:sNe,months:vNe,monthsShort:Cq,week:TNe,weekdays:LNe,weekdaysMin:INe,weekdaysShort:Mq,meridiemParse:t_e},xn={},Qh={},Qm;function r_e(t,s){var n,r=Math.min(t.length,s.length);for(n=0;n<r;n+=1)if(t[n]!==s[n])return n;return r}function DD(t){return t&&t.toLowerCase().replace("_","-")}function a_e(t){for(var s=0,n,r,a,i;s<t.length;){for(i=DD(t[s]).split("-"),n=i.length,r=DD(t[s+1]),r=r?r.split("-"):null;n>0;){if(a=rv(i.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&r_e(i,r)>=n-1)break;n--}s++}return Qm}function i_e(t){return!!(t&&t.match("^[^/\\\\]*$"))}function rv(t){var s=null,n;if(xn[t]===void 0&&typeof Qx<"u"&&Qx&&Qx.exports&&i_e(t))try{s=Qm._abbr,n=require,n("./locale/"+t),ko(s)}catch{xn[t]=null}return xn[t]}function ko(t,s){var n;return t&&(Wr(s)?n=ql(t):n=IS(t,s),n?Qm=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qm._abbr}function IS(t,s){if(s!==null){var n,r=Rq;if(s.abbr=t,xn[t]!=null)vq("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=xn[t]._config;else if(s.parentLocale!=null)if(xn[s.parentLocale]!=null)r=xn[s.parentLocale]._config;else if(n=rv(s.parentLocale),n!=null)r=n._config;else return Qh[s.parentLocale]||(Qh[s.parentLocale]=[]),Qh[s.parentLocale].push({name:t,config:s}),null;return xn[t]=new ES(F_(r,s)),Qh[t]&&Qh[t].forEach(function(a){IS(a.name,a.config)}),ko(t),xn[t]}else return delete xn[t],null}function l_e(t,s){if(s!=null){var n,r,a=Rq;xn[t]!=null&&xn[t].parentLocale!=null?xn[t].set(F_(xn[t]._config,s)):(r=rv(t),r!=null&&(a=r._config),s=F_(a,s),r==null&&(s.abbr=t),n=new ES(s),n.parentLocale=xn[t],xn[t]=n),ko(t)}else xn[t]!=null&&(xn[t].parentLocale!=null?(xn[t]=xn[t].parentLocale,t===ko()&&ko(t)):xn[t]!=null&&delete xn[t]);return xn[t]}function ql(t){var s;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qm;if(!fi(t)){if(s=rv(t),s)return s;t=[t]}return a_e(t)}function o_e(){return L_(xn)}function BS(t){var s,n=t._a;return n&&ms(t).overflow===-2&&(s=n[bl]<0||n[bl]>11?bl:n[Ai]<1||n[Ai]>OS(n[mr],n[bl])?Ai:n[zn]<0||n[zn]>24||n[zn]===24&&(n[li]!==0||n[jl]!==0||n[pc]!==0)?zn:n[li]<0||n[li]>59?li:n[jl]<0||n[jl]>59?jl:n[pc]<0||n[pc]>999?pc:-1,ms(t)._overflowDayOfYear&&(s<mr||s>Ai)&&(s=Ai),ms(t)._overflowWeeks&&s===-1&&(s=hNe),ms(t)._overflowWeekday&&s===-1&&(s=mNe),ms(t).overflow=s),t}var c_e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,d_e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,u_e=/Z|[+-]\d\d(?::?\d\d)?/,jx=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Gw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],h_e=/^\/?Date\((-?\d+)/i,m_e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,f_e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Fq(t){var s,n,r=t._i,a=c_e.exec(r)||d_e.exec(r),i,l,o,c,u=jx.length,d=Gw.length;if(a){for(ms(t).iso=!0,s=0,n=u;s<n;s++)if(jx[s][1].exec(a[1])){l=jx[s][0],i=jx[s][2]!==!1;break}if(l==null){t._isValid=!1;return}if(a[3]){for(s=0,n=d;s<n;s++)if(Gw[s][1].exec(a[3])){o=(a[2]||" ")+Gw[s][0];break}if(o==null){t._isValid=!1;return}}if(!i&&o!=null){t._isValid=!1;return}if(a[4])if(u_e.exec(a[4]))c="Z";else{t._isValid=!1;return}t._f=l+(o||"")+(c||""),zS(t)}else t._isValid=!1}function p_e(t,s,n,r,a,i){var l=[x_e(t),Cq.indexOf(s),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&l.push(parseInt(i,10)),l}function x_e(t){var s=parseInt(t,10);return s<=49?2e3+s:s<=999?1900+s:s}function g_e(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v_e(t,s,n){if(t){var r=Mq.indexOf(t),a=new Date(s[0],s[1],s[2]).getDay();if(r!==a)return ms(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function y_e(t,s,n){if(t)return f_e[t];if(s)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return i*60+a}function Lq(t){var s=m_e.exec(g_e(t._i)),n;if(s){if(n=p_e(s[4],s[3],s[2],s[5],s[6],s[7]),!v_e(s[1],n,t))return;t._a=n,t._tzm=y_e(s[8],s[9],s[10]),t._d=Km.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ms(t).rfc2822=!0}else t._isValid=!1}function b_e(t){var s=h_e.exec(t._i);if(s!==null){t._d=new Date(+s[1]);return}if(Fq(t),t._isValid===!1)delete t._isValid;else return;if(Lq(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:_t.createFromInputFallback(t)}_t.createFromInputFallback=Wa("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ld(t,s,n){return t??s??n}function j_e(t){var s=new Date(_t.now());return t._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()]}function qS(t){var s,n,r=[],a,i,l;if(!t._d){for(a=j_e(t),t._w&&t._a[Ai]==null&&t._a[bl]==null&&w_e(t),t._dayOfYear!=null&&(l=Ld(t._a[mr],a[mr]),(t._dayOfYear>ym(l)||t._dayOfYear===0)&&(ms(t)._overflowDayOfYear=!0),n=Km(l,0,t._dayOfYear),t._a[bl]=n.getUTCMonth(),t._a[Ai]=n.getUTCDate()),s=0;s<3&&t._a[s]==null;++s)t._a[s]=r[s]=a[s];for(;s<7;s++)t._a[s]=r[s]=t._a[s]==null?s===2?1:0:t._a[s];t._a[zn]===24&&t._a[li]===0&&t._a[jl]===0&&t._a[pc]===0&&(t._nextDay=!0,t._a[zn]=0),t._d=(t._useUTC?Km:ENe).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[zn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(ms(t).weekdayMismatch=!0)}}function w_e(t){var s,n,r,a,i,l,o,c,u;s=t._w,s.GG!=null||s.W!=null||s.E!=null?(i=1,l=4,n=Ld(s.GG,t._a[mr],Ym(hn(),1,4).year),r=Ld(s.W,1),a=Ld(s.E,1),(a<1||a>7)&&(c=!0)):(i=t._locale._week.dow,l=t._locale._week.doy,u=Ym(hn(),i,l),n=Ld(s.gg,t._a[mr],u.year),r=Ld(s.w,u.week),s.d!=null?(a=s.d,(a<0||a>6)&&(c=!0)):s.e!=null?(a=s.e+i,(s.e<0||s.e>6)&&(c=!0)):a=i),r<1||r>Sl(n,i,l)?ms(t)._overflowWeeks=!0:c!=null?ms(t)._overflowWeekday=!0:(o=Aq(n,r,a,i,l),t._a[mr]=o.year,t._dayOfYear=o.dayOfYear)}_t.ISO_8601=function(){};_t.RFC_2822=function(){};function zS(t){if(t._f===_t.ISO_8601){Fq(t);return}if(t._f===_t.RFC_2822){Lq(t);return}t._a=[],ms(t).empty=!0;var s=""+t._i,n,r,a,i,l,o=s.length,c=0,u,d;for(a=yq(t._f,t._locale).match(PS)||[],d=a.length,n=0;n<d;n++)i=a[n],r=(s.match(cNe(i,t))||[])[0],r&&(l=s.substr(0,s.indexOf(r)),l.length>0&&ms(t).unusedInput.push(l),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Xd[i]?(r?ms(t).empty=!1:ms(t).unusedTokens.push(i),uNe(i,r,t)):t._strict&&!r&&ms(t).unusedTokens.push(i);ms(t).charsLeftOver=o-c,s.length>0&&ms(t).unusedInput.push(s),t._a[zn]<=12&&ms(t).bigHour===!0&&t._a[zn]>0&&(ms(t).bigHour=void 0),ms(t).parsedDateParts=t._a.slice(0),ms(t).meridiem=t._meridiem,t._a[zn]=N_e(t._locale,t._a[zn],t._meridiem),u=ms(t).era,u!==null&&(t._a[mr]=t._locale.erasConvertYear(u,t._a[mr])),qS(t),BS(t)}function N_e(t,s,n){var r;return n==null?s:t.meridiemHour!=null?t.meridiemHour(s,n):(t.isPM!=null&&(r=t.isPM(n),r&&s<12&&(s+=12),!r&&s===12&&(s=0)),s)}function __e(t){var s,n,r,a,i,l,o=!1,c=t._f.length;if(c===0){ms(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<c;a++)i=0,l=!1,s=kS({},t),t._useUTC!=null&&(s._useUTC=t._useUTC),s._f=t._f[a],zS(s),CS(s)&&(l=!0),i+=ms(s).charsLeftOver,i+=ms(s).unusedTokens.length*10,ms(s).score=i,o?i<r&&(r=i,n=s):(r==null||i<r||l)&&(r=i,n=s,l&&(o=!0));wo(t,n||s)}function S_e(t){if(!t._d){var s=TS(t._i),n=s.day===void 0?s.date:s.day;t._a=xq([s.year,s.month,n,s.hour,s.minute,s.second,s.millisecond],function(r){return r&&parseInt(r,10)}),qS(t)}}function C_e(t){var s=new Bf(BS(Iq(t)));return s._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Iq(t){var s=t._i,n=t._f;return t._locale=t._locale||ql(t._l),s===null||n===void 0&&s===""?J0({nullInput:!0}):(typeof s=="string"&&(t._i=s=t._locale.preparse(s)),pi(s)?new Bf(BS(s)):(If(s)?t._d=s:fi(n)?__e(t):n?zS(t):k_e(t),CS(t)||(t._d=null),t))}function k_e(t){var s=t._i;Wr(s)?t._d=new Date(_t.now()):If(s)?t._d=new Date(s.valueOf()):typeof s=="string"?b_e(t):fi(s)?(t._a=xq(s.slice(0),function(n){return parseInt(n,10)}),qS(t)):Cc(s)?S_e(t):Ol(s)?t._d=new Date(s):_t.createFromInputFallback(t)}function Bq(t,s,n,r,a){var i={};return(s===!0||s===!1)&&(r=s,s=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Cc(t)&&SS(t)||fi(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=t,i._f=s,i._strict=r,C_e(i)}function hn(t,s,n,r){return Bq(t,s,n,r,!1)}var E_e=Wa("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=hn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:J0()}),P_e=Wa("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=hn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:J0()});function qq(t,s){var n,r;if(s.length===1&&fi(s[0])&&(s=s[0]),!s.length)return hn();for(n=s[0],r=1;r<s.length;++r)(!s[r].isValid()||s[r][t](n))&&(n=s[r]);return n}function T_e(){var t=[].slice.call(arguments,0);return qq("isBefore",t)}function A_e(){var t=[].slice.call(arguments,0);return qq("isAfter",t)}var M_e=function(){return Date.now?Date.now():+new Date},Jh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function D_e(t){var s,n=!1,r,a=Jh.length;for(s in t)if(Bs(t,s)&&!(An.call(Jh,s)!==-1&&(t[s]==null||!isNaN(t[s]))))return!1;for(r=0;r<a;++r)if(t[Jh[r]]){if(n)return!1;parseFloat(t[Jh[r]])!==ks(t[Jh[r]])&&(n=!0)}return!0}function O_e(){return this._isValid}function R_e(){return vi(NaN)}function av(t){var s=TS(t),n=s.year||0,r=s.quarter||0,a=s.month||0,i=s.week||s.isoWeek||0,l=s.day||0,o=s.hour||0,c=s.minute||0,u=s.second||0,d=s.millisecond||0;this._isValid=D_e(s),this._milliseconds=+d+u*1e3+c*6e4+o*1e3*60*60,this._days=+l+i*7,this._months=+a+r*3+n*12,this._data={},this._locale=ql(),this._bubble()}function Hx(t){return t instanceof av}function B_(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function F_e(t,s,n){var r=Math.min(t.length,s.length),a=Math.abs(t.length-s.length),i=0,l;for(l=0;l<r;l++)ks(t[l])!==ks(s[l])&&i++;return i+a}function zq(t,s){Kt(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Gi(~~(n/60),2)+s+Gi(~~n%60,2)})}zq("Z",":");zq("ZZ","");Mt("Z",sv);Mt("ZZ",sv);Xs(["Z","ZZ"],function(t,s,n){n._useUTC=!0,n._tzm=$S(sv,t)});var L_e=/([\+\-]|\d\d)/gi;function $S(t,s){var n=(s||"").match(t),r,a,i;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(L_e)||["-",0,0],i=+(a[1]*60)+ks(a[2]),i===0?0:a[0]==="+"?i:-i)}function US(t,s){var n,r;return s._isUTC?(n=s.clone(),r=(pi(t)||If(t)?t.valueOf():hn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),_t.updateOffset(n,!1),n):hn(t).local()}function q_(t){return-Math.round(t._d.getTimezoneOffset())}_t.updateOffset=function(){};function I_e(t,s,n){var r=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=$S(sv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&s&&(a=q_(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==t&&(!s||this._changeInProgress?Vq(this,vi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:q_(this)}function B_e(t,s){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,s),this):-this.utcOffset()}function q_e(t){return this.utcOffset(0,t)}function z_e(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(q_(this),"m")),this}function $_e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=$S(lNe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function U_e(t){return this.isValid()?(t=t?hn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function V_e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function W_e(){if(!Wr(this._isDSTShifted))return this._isDSTShifted;var t={},s;return kS(t,this),t=Iq(t),t._a?(s=t._isUTC?Xi(t._a):hn(t._a),this._isDSTShifted=this.isValid()&&F_e(t._a,s.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function H_e(){return this.isValid()?!this._isUTC:!1}function G_e(){return this.isValid()?this._isUTC:!1}function $q(){return this.isValid()?this._isUTC&&this._offset===0:!1}var K_e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Y_e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vi(t,s){var n=t,r=null,a,i,l;return Hx(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ol(t)||!isNaN(+t)?(n={},s?n[s]=+t:n.milliseconds=+t):(r=K_e.exec(t))?(a=r[1]==="-"?-1:1,n={y:0,d:ks(r[Ai])*a,h:ks(r[zn])*a,m:ks(r[li])*a,s:ks(r[jl])*a,ms:ks(B_(r[pc]*1e3))*a}):(r=Y_e.exec(t))?(a=r[1]==="-"?-1:1,n={y:ac(r[2],a),M:ac(r[3],a),w:ac(r[4],a),d:ac(r[5],a),h:ac(r[6],a),m:ac(r[7],a),s:ac(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=Q_e(hn(n.from),hn(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),i=new av(n),Hx(t)&&Bs(t,"_locale")&&(i._locale=t._locale),Hx(t)&&Bs(t,"_isValid")&&(i._isValid=t._isValid),i}vi.fn=av.prototype;vi.invalid=R_e;function ac(t,s){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*s}function OD(t,s){var n={};return n.months=s.month()-t.month()+(s.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(s)&&--n.months,n.milliseconds=+s-+t.clone().add(n.months,"M"),n}function Q_e(t,s){var n;return t.isValid()&&s.isValid()?(s=US(s,t),t.isBefore(s)?n=OD(t,s):(n=OD(s,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Uq(t,s){return function(n,r){var a,i;return r!==null&&!isNaN(+r)&&(vq(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),a=vi(n,r),Vq(this,a,t),this}}function Vq(t,s,n,r){var a=s._milliseconds,i=B_(s._days),l=B_(s._months);t.isValid()&&(r=r??!0,l&&Eq(t,Gm(t,"Month")+l*n),i&&Sq(t,"Date",Gm(t,"Date")+i*n),a&&t._d.setTime(t._d.valueOf()+a*n),r&&_t.updateOffset(t,i||l))}var J_e=Uq(1,"add"),X_e=Uq(-1,"subtract");function Wq(t){return typeof t=="string"||t instanceof String}function Z_e(t){return pi(t)||If(t)||Wq(t)||Ol(t)||t1e(t)||e1e(t)||t===null||t===void 0}function e1e(t){var s=Cc(t)&&!SS(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,l=r.length;for(a=0;a<l;a+=1)i=r[a],n=n||Bs(t,i);return s&&n}function t1e(t){var s=fi(t),n=!1;return s&&(n=t.filter(function(r){return!Ol(r)&&Wq(t)}).length===0),s&&n}function s1e(t){var s=Cc(t)&&!SS(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<r.length;a+=1)i=r[a],n=n||Bs(t,i);return s&&n}function n1e(t,s){var n=t.diff(s,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function r1e(t,s){arguments.length===1&&(arguments[0]?Z_e(arguments[0])?(t=arguments[0],s=void 0):s1e(arguments[0])&&(s=arguments[0],t=void 0):(t=void 0,s=void 0));var n=t||hn(),r=US(n,this).startOf("day"),a=_t.calendarFormat(this,r)||"sameElse",i=s&&(Zi(s[a])?s[a].call(this,n):s[a]);return this.format(i||this.localeData().calendar(a,this,hn(n)))}function a1e(){return new Bf(this)}function i1e(t,s){var n=pi(t)?t:hn(t);return this.isValid()&&n.isValid()?(s=Ha(s)||"millisecond",s==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(s).valueOf()):!1}function l1e(t,s){var n=pi(t)?t:hn(t);return this.isValid()&&n.isValid()?(s=Ha(s)||"millisecond",s==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(s).valueOf()<n.valueOf()):!1}function o1e(t,s,n,r){var a=pi(t)?t:hn(t),i=pi(s)?s:hn(s);return this.isValid()&&a.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function c1e(t,s){var n=pi(t)?t:hn(t),r;return this.isValid()&&n.isValid()?(s=Ha(s)||"millisecond",s==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(s).valueOf()<=r&&r<=this.clone().endOf(s).valueOf())):!1}function d1e(t,s){return this.isSame(t,s)||this.isAfter(t,s)}function u1e(t,s){return this.isSame(t,s)||this.isBefore(t,s)}function h1e(t,s,n){var r,a,i;if(!this.isValid())return NaN;if(r=US(t,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,s=Ha(s),s){case"year":i=Gx(this,r)/12;break;case"month":i=Gx(this,r);break;case"quarter":i=Gx(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:Fa(i)}function Gx(t,s){if(t.date()<s.date())return-Gx(s,t);var n=(s.year()-t.year())*12+(s.month()-t.month()),r=t.clone().add(n,"months"),a,i;return s-r<0?(a=t.clone().add(n-1,"months"),i=(s-r)/(r-a)):(a=t.clone().add(n+1,"months"),i=(s-r)/(a-r)),-(n+i)||0}_t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";_t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function m1e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function f1e(t){if(!this.isValid())return null;var s=t!==!0,n=s?this.clone().utc():this;return n.year()<0||n.year()>9999?Wx(n,s?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Zi(Date.prototype.toISOString)?s?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Wx(n,"Z")):Wx(n,s?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function p1e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",s="",n,r,a,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",s="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=s+'[")]',this.format(n+r+a+i)}function x1e(t){t||(t=this.isUtc()?_t.defaultFormatUtc:_t.defaultFormat);var s=Wx(this,t);return this.localeData().postformat(s)}function g1e(t,s){return this.isValid()&&(pi(t)&&t.isValid()||hn(t).isValid())?vi({to:this,from:t}).locale(this.locale()).humanize(!s):this.localeData().invalidDate()}function v1e(t){return this.from(hn(),t)}function y1e(t,s){return this.isValid()&&(pi(t)&&t.isValid()||hn(t).isValid())?vi({from:this,to:t}).locale(this.locale()).humanize(!s):this.localeData().invalidDate()}function b1e(t){return this.to(hn(),t)}function Hq(t){var s;return t===void 0?this._locale._abbr:(s=ql(t),s!=null&&(this._locale=s),this)}var Gq=Wa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Kq(){return this._locale}var Mg=1e3,Zd=60*Mg,Dg=60*Zd,Yq=(365*400+97)*24*Dg;function eu(t,s){return(t%s+s)%s}function Qq(t,s,n){return t<100&&t>=0?new Date(t+400,s,n)-Yq:new Date(t,s,n).valueOf()}function Jq(t,s,n){return t<100&&t>=0?Date.UTC(t+400,s,n)-Yq:Date.UTC(t,s,n)}function j1e(t){var s,n;if(t=Ha(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Jq:Qq,t){case"year":s=n(this.year(),0,1);break;case"quarter":s=n(this.year(),this.month()-this.month()%3,1);break;case"month":s=n(this.year(),this.month(),1);break;case"week":s=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":s=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":s=n(this.year(),this.month(),this.date());break;case"hour":s=this._d.valueOf(),s-=eu(s+(this._isUTC?0:this.utcOffset()*Zd),Dg);break;case"minute":s=this._d.valueOf(),s-=eu(s,Zd);break;case"second":s=this._d.valueOf(),s-=eu(s,Mg);break}return this._d.setTime(s),_t.updateOffset(this,!0),this}function w1e(t){var s,n;if(t=Ha(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Jq:Qq,t){case"year":s=n(this.year()+1,0,1)-1;break;case"quarter":s=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":s=n(this.year(),this.month()+1,1)-1;break;case"week":s=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":s=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":s=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":s=this._d.valueOf(),s+=Dg-eu(s+(this._isUTC?0:this.utcOffset()*Zd),Dg)-1;break;case"minute":s=this._d.valueOf(),s+=Zd-eu(s,Zd)-1;break;case"second":s=this._d.valueOf(),s+=Mg-eu(s,Mg)-1;break}return this._d.setTime(s),_t.updateOffset(this,!0),this}function N1e(){return this._d.valueOf()-(this._offset||0)*6e4}function _1e(){return Math.floor(this.valueOf()/1e3)}function S1e(){return new Date(this.valueOf())}function C1e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function k1e(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function E1e(){return this.isValid()?this.toISOString():null}function P1e(){return CS(this)}function T1e(){return wo({},ms(this))}function A1e(){return ms(this).overflow}function M1e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Kt("N",0,0,"eraAbbr");Kt("NN",0,0,"eraAbbr");Kt("NNN",0,0,"eraAbbr");Kt("NNNN",0,0,"eraName");Kt("NNNNN",0,0,"eraNarrow");Kt("y",["y",1],"yo","eraYear");Kt("y",["yy",2],0,"eraYear");Kt("y",["yyy",3],0,"eraYear");Kt("y",["yyyy",4],0,"eraYear");Mt("N",VS);Mt("NN",VS);Mt("NNN",VS);Mt("NNNN",U1e);Mt("NNNNN",V1e);Xs(["N","NN","NNN","NNNN","NNNNN"],function(t,s,n,r){var a=n._locale.erasParse(t,r,n._strict);a?ms(n).era=a:ms(n).invalidEra=t});Mt("y",Xu);Mt("yy",Xu);Mt("yyy",Xu);Mt("yyyy",Xu);Mt("yo",W1e);Xs(["y","yy","yyy","yyyy"],mr);Xs(["yo"],function(t,s,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?s[mr]=n._locale.eraYearOrdinalParse(t,a):s[mr]=parseInt(t,10)});function D1e(t,s){var n,r,a,i=this._eras||ql("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":a=_t(i[n].since).startOf("day"),i[n].since=a.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=_t(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf();break}}return i}function O1e(t,s,n){var r,a,i=this.eras(),l,o,c;for(t=t.toUpperCase(),r=0,a=i.length;r<a;++r)if(l=i[r].name.toUpperCase(),o=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(s){case"N":case"NN":case"NNN":if(o===t)return i[r];break;case"NNNN":if(l===t)return i[r];break;case"NNNNN":if(c===t)return i[r];break}else if([l,o,c].indexOf(t)>=0)return i[r]}function R1e(t,s){var n=t.since<=t.until?1:-1;return s===void 0?_t(t.since).year():_t(t.since).year()+(s-t.offset)*n}function F1e(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function L1e(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function I1e(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function B1e(){var t,s,n,r,a=this.localeData().eras();for(t=0,s=a.length;t<s;++t)if(n=a[t].since<=a[t].until?1:-1,r=this.clone().startOf("day").valueOf(),a[t].since<=r&&r<=a[t].until||a[t].until<=r&&r<=a[t].since)return(this.year()-_t(a[t].since).year())*n+a[t].offset;return this.year()}function q1e(t){return Bs(this,"_erasNameRegex")||WS.call(this),t?this._erasNameRegex:this._erasRegex}function z1e(t){return Bs(this,"_erasAbbrRegex")||WS.call(this),t?this._erasAbbrRegex:this._erasRegex}function $1e(t){return Bs(this,"_erasNarrowRegex")||WS.call(this),t?this._erasNarrowRegex:this._erasRegex}function VS(t,s){return s.erasAbbrRegex(t)}function U1e(t,s){return s.erasNameRegex(t)}function V1e(t,s){return s.erasNarrowRegex(t)}function W1e(t,s){return s._eraYearOrdinalRegex||Xu}function WS(){var t=[],s=[],n=[],r=[],a,i,l,o,c,u=this.eras();for(a=0,i=u.length;a<i;++a)l=_l(u[a].name),o=_l(u[a].abbr),c=_l(u[a].narrow),s.push(l),t.push(o),n.push(c),r.push(l),r.push(o),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Kt(0,["gg",2],0,function(){return this.weekYear()%100});Kt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function iv(t,s){Kt(0,[t,t.length],0,s)}iv("gggg","weekYear");iv("ggggg","weekYear");iv("GGGG","isoWeekYear");iv("GGGGG","isoWeekYear");Mt("G",tv);Mt("g",tv);Mt("GG",mn,Na);Mt("gg",mn,Na);Mt("GGGG",MS,AS);Mt("gggg",MS,AS);Mt("GGGGG",ev,X0);Mt("ggggg",ev,X0);zf(["gggg","ggggg","GGGG","GGGGG"],function(t,s,n,r){s[r.substr(0,2)]=ks(t)});zf(["gg","GG"],function(t,s,n,r){s[r]=_t.parseTwoDigitYear(t)});function H1e(t){return Xq.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function G1e(t){return Xq.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function K1e(){return Sl(this.year(),1,4)}function Y1e(){return Sl(this.isoWeekYear(),1,4)}function Q1e(){var t=this.localeData()._week;return Sl(this.year(),t.dow,t.doy)}function J1e(){var t=this.localeData()._week;return Sl(this.weekYear(),t.dow,t.doy)}function Xq(t,s,n,r,a){var i;return t==null?Ym(this,r,a).year:(i=Sl(t,r,a),s>i&&(s=i),X1e.call(this,t,s,n,r,a))}function X1e(t,s,n,r,a){var i=Aq(t,s,n,r,a),l=Km(i.year,0,i.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}Kt("Q",0,"Qo","quarter");Mt("Q",bq);Xs("Q",function(t,s){s[bl]=(ks(t)-1)*3});function Z1e(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Kt("D",["DD",2],"Do","date");Mt("D",mn,Zu);Mt("DD",mn,Na);Mt("Do",function(t,s){return t?s._dayOfMonthOrdinalParse||s._ordinalParse:s._dayOfMonthOrdinalParseLenient});Xs(["D","DD"],Ai);Xs("Do",function(t,s){s[Ai]=ks(t.match(mn)[0])});var Zq=eh("Date",!0);Kt("DDD",["DDDD",3],"DDDo","dayOfYear");Mt("DDD",Z0);Mt("DDDD",jq);Xs(["DDD","DDDD"],function(t,s,n){n._dayOfYear=ks(t)});function e2e(t){var s=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?s:this.add(t-s,"d")}Kt("m",["mm",2],0,"minute");Mt("m",mn,DS);Mt("mm",mn,Na);Xs(["m","mm"],li);var t2e=eh("Minutes",!1);Kt("s",["ss",2],0,"second");Mt("s",mn,DS);Mt("ss",mn,Na);Xs(["s","ss"],jl);var s2e=eh("Seconds",!1);Kt("S",0,0,function(){return~~(this.millisecond()/100)});Kt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Kt(0,["SSS",3],0,"millisecond");Kt(0,["SSSS",4],0,function(){return this.millisecond()*10});Kt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Kt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Kt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Kt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Kt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Mt("S",Z0,bq);Mt("SS",Z0,Na);Mt("SSS",Z0,jq);var No,e9;for(No="SSSS";No.length<=9;No+="S")Mt(No,Xu);function n2e(t,s){s[pc]=ks(("0."+t)*1e3)}for(No="S";No.length<=9;No+="S")Xs(No,n2e);e9=eh("Milliseconds",!1);Kt("z",0,0,"zoneAbbr");Kt("zz",0,0,"zoneName");function r2e(){return this._isUTC?"UTC":""}function a2e(){return this._isUTC?"Coordinated Universal Time":""}var ht=Bf.prototype;ht.add=J_e;ht.calendar=r1e;ht.clone=a1e;ht.diff=h1e;ht.endOf=w1e;ht.format=x1e;ht.from=g1e;ht.fromNow=v1e;ht.to=y1e;ht.toNow=b1e;ht.get=pNe;ht.invalidAt=A1e;ht.isAfter=i1e;ht.isBefore=l1e;ht.isBetween=o1e;ht.isSame=c1e;ht.isSameOrAfter=d1e;ht.isSameOrBefore=u1e;ht.isValid=P1e;ht.lang=Gq;ht.locale=Hq;ht.localeData=Kq;ht.max=P_e;ht.min=E_e;ht.parsingFlags=T1e;ht.set=xNe;ht.startOf=j1e;ht.subtract=X_e;ht.toArray=C1e;ht.toObject=k1e;ht.toDate=S1e;ht.toISOString=f1e;ht.inspect=p1e;typeof Symbol<"u"&&Symbol.for!=null&&(ht[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ht.toJSON=E1e;ht.toString=m1e;ht.unix=_1e;ht.valueOf=N1e;ht.creationData=M1e;ht.eraName=F1e;ht.eraNarrow=L1e;ht.eraAbbr=I1e;ht.eraYear=B1e;ht.year=_q;ht.isLeapYear=fNe;ht.weekYear=H1e;ht.isoWeekYear=G1e;ht.quarter=ht.quarters=Z1e;ht.month=Pq;ht.daysInMonth=SNe;ht.week=ht.weeks=DNe;ht.isoWeek=ht.isoWeeks=ONe;ht.weeksInYear=Q1e;ht.weeksInWeekYear=J1e;ht.isoWeeksInYear=K1e;ht.isoWeeksInISOWeekYear=Y1e;ht.date=Zq;ht.day=ht.days=GNe;ht.weekday=KNe;ht.isoWeekday=YNe;ht.dayOfYear=e2e;ht.hour=ht.hours=s_e;ht.minute=ht.minutes=t2e;ht.second=ht.seconds=s2e;ht.millisecond=ht.milliseconds=e9;ht.utcOffset=I_e;ht.utc=q_e;ht.local=z_e;ht.parseZone=$_e;ht.hasAlignedHourOffset=U_e;ht.isDST=V_e;ht.isLocal=H_e;ht.isUtcOffset=G_e;ht.isUtc=$q;ht.isUTC=$q;ht.zoneAbbr=r2e;ht.zoneName=a2e;ht.dates=Wa("dates accessor is deprecated. Use date instead.",Zq);ht.months=Wa("months accessor is deprecated. Use month instead",Pq);ht.years=Wa("years accessor is deprecated. Use year instead",_q);ht.zone=Wa("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",B_e);ht.isDSTShifted=Wa("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",W_e);function i2e(t){return hn(t*1e3)}function l2e(){return hn.apply(null,arguments).parseZone()}function t9(t){return t}var qs=ES.prototype;qs.calendar=Hwe;qs.longDateFormat=Qwe;qs.invalidDate=Xwe;qs.ordinal=tNe;qs.preparse=t9;qs.postformat=t9;qs.relativeTime=nNe;qs.pastFuture=rNe;qs.set=Vwe;qs.eras=D1e;qs.erasParse=O1e;qs.erasConvertYear=R1e;qs.erasAbbrRegex=z1e;qs.erasNameRegex=q1e;qs.erasNarrowRegex=$1e;qs.months=jNe;qs.monthsShort=wNe;qs.monthsParse=_Ne;qs.monthsRegex=kNe;qs.monthsShortRegex=CNe;qs.week=PNe;qs.firstDayOfYear=MNe;qs.firstDayOfWeek=ANe;qs.weekdays=$Ne;qs.weekdaysMin=VNe;qs.weekdaysShort=UNe;qs.weekdaysParse=HNe;qs.weekdaysRegex=QNe;qs.weekdaysShortRegex=JNe;qs.weekdaysMinRegex=XNe;qs.isPM=e_e;qs.meridiem=n_e;function Og(t,s,n,r){var a=ql(),i=Xi().set(r,s);return a[n](i,t)}function s9(t,s,n){if(Ol(t)&&(s=t,t=void 0),t=t||"",s!=null)return Og(t,s,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Og(t,r,n,"month");return a}function HS(t,s,n,r){typeof t=="boolean"?(Ol(s)&&(n=s,s=void 0),s=s||""):(s=t,n=s,t=!1,Ol(s)&&(n=s,s=void 0),s=s||"");var a=ql(),i=t?a._week.dow:0,l,o=[];if(n!=null)return Og(s,(n+i)%7,r,"day");for(l=0;l<7;l++)o[l]=Og(s,(l+i)%7,r,"day");return o}function o2e(t,s){return s9(t,s,"months")}function c2e(t,s){return s9(t,s,"monthsShort")}function d2e(t,s,n){return HS(t,s,n,"weekdays")}function u2e(t,s,n){return HS(t,s,n,"weekdaysShort")}function h2e(t,s,n){return HS(t,s,n,"weekdaysMin")}ko("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var s=t%10,n=ks(t%100/10)===1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th";return t+n}});_t.lang=Wa("moment.lang is deprecated. Use moment.locale instead.",ko);_t.langData=Wa("moment.langData is deprecated. Use moment.localeData instead.",ql);var hl=Math.abs;function m2e(){var t=this._data;return this._milliseconds=hl(this._milliseconds),this._days=hl(this._days),this._months=hl(this._months),t.milliseconds=hl(t.milliseconds),t.seconds=hl(t.seconds),t.minutes=hl(t.minutes),t.hours=hl(t.hours),t.months=hl(t.months),t.years=hl(t.years),this}function n9(t,s,n,r){var a=vi(s,n);return t._milliseconds+=r*a._milliseconds,t._days+=r*a._days,t._months+=r*a._months,t._bubble()}function f2e(t,s){return n9(this,t,s,1)}function p2e(t,s){return n9(this,t,s,-1)}function RD(t){return t<0?Math.floor(t):Math.ceil(t)}function x2e(){var t=this._milliseconds,s=this._days,n=this._months,r=this._data,a,i,l,o,c;return t>=0&&s>=0&&n>=0||t<=0&&s<=0&&n<=0||(t+=RD(z_(n)+s)*864e5,s=0,n=0),r.milliseconds=t%1e3,a=Fa(t/1e3),r.seconds=a%60,i=Fa(a/60),r.minutes=i%60,l=Fa(i/60),r.hours=l%24,s+=Fa(l/24),c=Fa(r9(s)),n+=c,s-=RD(z_(c)),o=Fa(n/12),n%=12,r.days=s,r.months=n,r.years=o,this}function r9(t){return t*4800/146097}function z_(t){return t*146097/4800}function g2e(t){if(!this.isValid())return NaN;var s,n,r=this._milliseconds;if(t=Ha(t),t==="month"||t==="quarter"||t==="year")switch(s=this._days+r/864e5,n=this._months+r9(s),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(s=this._days+Math.round(z_(this._months)),t){case"week":return s/7+r/6048e5;case"day":return s+r/864e5;case"hour":return s*24+r/36e5;case"minute":return s*1440+r/6e4;case"second":return s*86400+r/1e3;case"millisecond":return Math.floor(s*864e5)+r;default:throw new Error("Unknown unit "+t)}}function zl(t){return function(){return this.as(t)}}var a9=zl("ms"),v2e=zl("s"),y2e=zl("m"),b2e=zl("h"),j2e=zl("d"),w2e=zl("w"),N2e=zl("M"),_2e=zl("Q"),S2e=zl("y"),C2e=a9;function k2e(){return vi(this)}function E2e(t){return t=Ha(t),this.isValid()?this[t+"s"]():NaN}function Jc(t){return function(){return this.isValid()?this._data[t]:NaN}}var P2e=Jc("milliseconds"),T2e=Jc("seconds"),A2e=Jc("minutes"),M2e=Jc("hours"),D2e=Jc("days"),O2e=Jc("months"),R2e=Jc("years");function F2e(){return Fa(this.days()/7)}var ml=Math.round,Wd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function L2e(t,s,n,r,a){return a.relativeTime(s||1,!!n,t,r)}function I2e(t,s,n,r){var a=vi(t).abs(),i=ml(a.as("s")),l=ml(a.as("m")),o=ml(a.as("h")),c=ml(a.as("d")),u=ml(a.as("M")),d=ml(a.as("w")),m=ml(a.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||l<=1&&["m"]||l<n.m&&["mm",l]||o<=1&&["h"]||o<n.h&&["hh",o]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),h=h||u<=1&&["M"]||u<n.M&&["MM",u]||m<=1&&["y"]||["yy",m],h[2]=s,h[3]=+t>0,h[4]=r,L2e.apply(null,h)}function B2e(t){return t===void 0?ml:typeof t=="function"?(ml=t,!0):!1}function q2e(t,s){return Wd[t]===void 0?!1:s===void 0?Wd[t]:(Wd[t]=s,t==="s"&&(Wd.ss=s-1),!0)}function z2e(t,s){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Wd,a,i;return typeof t=="object"&&(s=t,t=!1),typeof t=="boolean"&&(n=t),typeof s=="object"&&(r=Object.assign({},Wd,s),s.s!=null&&s.ss==null&&(r.ss=s.s-1)),a=this.localeData(),i=I2e(this,!n,r,a),n&&(i=a.pastFuture(+this,i)),a.postformat(i)}var Kw=Math.abs;function Fd(t){return(t>0)-(t<0)||+t}function lv(){if(!this.isValid())return this.localeData().invalidDate();var t=Kw(this._milliseconds)/1e3,s=Kw(this._days),n=Kw(this._months),r,a,i,l,o=this.asSeconds(),c,u,d,m;return o?(r=Fa(t/60),a=Fa(r/60),t%=60,r%=60,i=Fa(n/12),n%=12,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=o<0?"-":"",u=Fd(this._months)!==Fd(o)?"-":"",d=Fd(this._days)!==Fd(o)?"-":"",m=Fd(this._milliseconds)!==Fd(o)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(s?d+s+"D":"")+(a||r||t?"T":"")+(a?m+a+"H":"")+(r?m+r+"M":"")+(t?m+l+"S":"")):"P0D"}var Os=av.prototype;Os.isValid=O_e;Os.abs=m2e;Os.add=f2e;Os.subtract=p2e;Os.as=g2e;Os.asMilliseconds=a9;Os.asSeconds=v2e;Os.asMinutes=y2e;Os.asHours=b2e;Os.asDays=j2e;Os.asWeeks=w2e;Os.asMonths=N2e;Os.asQuarters=_2e;Os.asYears=S2e;Os.valueOf=C2e;Os._bubble=x2e;Os.clone=k2e;Os.get=E2e;Os.milliseconds=P2e;Os.seconds=T2e;Os.minutes=A2e;Os.hours=M2e;Os.days=D2e;Os.weeks=F2e;Os.months=O2e;Os.years=R2e;Os.humanize=z2e;Os.toISOString=lv;Os.toString=lv;Os.toJSON=lv;Os.locale=Hq;Os.localeData=Kq;Os.toIsoString=Wa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lv);Os.lang=Gq;Kt("X",0,0,"unix");Kt("x",0,0,"valueOf");Mt("x",tv);Mt("X",oNe);Xs("X",function(t,s,n){n._d=new Date(parseFloat(t)*1e3)});Xs("x",function(t,s,n){n._d=new Date(ks(t))});//! moment.js
_t.version="2.30.1";$we(hn);_t.fn=ht;_t.min=T_e;_t.max=A_e;_t.now=M_e;_t.utc=Xi;_t.unix=i2e;_t.months=o2e;_t.isDate=If;_t.locale=ko;_t.invalid=J0;_t.duration=vi;_t.isMoment=pi;_t.weekdays=d2e;_t.parseZone=l2e;_t.localeData=ql;_t.isDuration=Hx;_t.monthsShort=c2e;_t.weekdaysMin=h2e;_t.defineLocale=IS;_t.updateLocale=l_e;_t.locales=o_e;_t.weekdaysShort=u2e;_t.normalizeUnits=Ha;_t.relativeTimeRounding=B2e;_t.relativeTimeThreshold=q2e;_t.calendarFormat=n1e;_t.prototype=ht;_t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function i9({isAdmin:t,isFeatureExcluded:s,memberInfo:n}){const[r,a]=b.useState(""),[i,l]=b.useState("all"),[o,c]=b.useState("all"),[u,d]=b.useState(1),[m,h]=b.useState(20),[p,g]=b.useState(null),y=Gt(),{data:v=[],isLoading:j}=me({queryKey:["form-submissions"],queryFn:async()=>(await K.entities.FormSubmission.list()).sort((E,O)=>new Date(O.created_date)-new Date(E.created_date)),staleTime:30*1e3}),{data:w=[]}=me({queryKey:["forms"],queryFn:async()=>await K.entities.Form.list(),staleTime:60*1e3}),{data:N}=me({queryKey:["form-detail",p==null?void 0:p.form_id],queryFn:async()=>p!=null&&p.form_id?w.find(k=>k.id===p.form_id):null,enabled:!!(p!=null&&p.form_id)}),_=Fe({mutationFn:async({id:k,status:E})=>await K.entities.FormSubmission.update(k,{status:E,status_updated_by:n==null?void 0:n.email,status_updated_at:new Date().toISOString()}),onSuccess:k=>{y.invalidateQueries({queryKey:["form-submissions"]}),g(k),te.success("Status updated")},onError:()=>{te.error("Failed to update status")}}),T=b.useMemo(()=>{let k=v;if(i!=="all"&&(k=k.filter(E=>E.form_id===i)),o!=="all"&&(k=k.filter(E=>(E.status||"new")===o)),r){const E=r.toLowerCase();k=k.filter(O=>{var F,z,V;return((F=O.form_name)==null?void 0:F.toLowerCase().includes(E))||((z=O.submitted_by_email)==null?void 0:z.toLowerCase().includes(E))||((V=O.submitted_by_name)==null?void 0:V.toLowerCase().includes(E))||JSON.stringify(O.submission_data).toLowerCase().includes(E)})}return k},[v,i,o,r]),A=Math.ceil(T.length/m),P=b.useMemo(()=>{const k=(u-1)*m;return T.slice(k,k+m)},[T,u,m]),C=k=>{const E=k||"new";switch(E){case"new":return e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:"New"});case"junk":return e.jsx(ve,{className:"bg-slate-100 text-slate-700",children:"Junk"});case"actioned":return e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Actioned"});default:return e.jsx(ve,{variant:"secondary",children:E})}},R=(k,E)=>{_.mutate({id:k,status:E})},M=k=>{if(!(N!=null&&N.fields))return k;const E=N.fields.find(O=>O.id===k);return(E==null?void 0:E.label)||k};return!t||s("page_FormSubmissions")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ts,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Form Submissions"})]}),e.jsxs("p",{className:"text-slate-600",children:[T.length," ",T.length===1?"submission":"submissions"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search submissions...",value:r,onChange:k=>{a(k.target.value),d(1)},className:"pl-10"})]}),e.jsxs(He,{value:i,onValueChange:k=>{l(k),d(1)},children:[e.jsx(Ue,{className:"w-full md:w-[200px]",children:e.jsx(Ye,{placeholder:"All Forms"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Forms"}),w.map(k=>e.jsx(re,{value:k.id,children:k.name},k.id))]})]}),e.jsxs(He,{value:o,onValueChange:k=>{c(k),d(1)},children:[e.jsx(Ue,{className:"w-full md:w-[150px]",children:e.jsx(Ye,{placeholder:"All Status"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Status"}),e.jsx(re,{value:"new",children:"New"}),e.jsx(re,{value:"junk",children:"Junk"}),e.jsx(re,{value:"actioned",children:"Actioned"})]})]})]})})}),P.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ts,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No submissions found"}),e.jsx("p",{className:"text-slate-600",children:r||i!=="all"||o!=="all"?"Try adjusting your filters":"No form submissions yet"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:P.map(k=>e.jsx(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:e.jsx(Re,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($e,{className:"text-base mb-2",children:k.form_name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[C(k.status),k.submitted_by_name&&e.jsx(ve,{variant:"secondary",children:k.submitted_by_name}),k.submitted_by_email&&e.jsx(ve,{variant:"outline",children:k.submitted_by_email}),e.jsx(ve,{variant:"outline",className:"text-slate-600",children:_t(k.created_date).format("MMM D, YYYY h:mm A")})]})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>g(k),children:[e.jsx(fr,{className:"w-4 h-4 mr-1"}),"View"]})]})})},k.id))}),A>1&&e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"text-sm text-slate-700",children:"Show:"}),e.jsxs(He,{value:m.toString(),onValueChange:k=>{h(parseInt(k)),d(1)},children:[e.jsx(Ue,{className:"w-[100px]",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"10",children:"10"}),e.jsx(re,{value:"20",children:"20"}),e.jsx(re,{value:"50",children:"50"}),e.jsx(re,{value:"100",children:"100"})]})]}),e.jsx("span",{className:"text-sm text-slate-600",children:"per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>d(k=>Math.max(1,k-1)),disabled:u===1,children:e.jsx(Un,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(A,5)},(k,E)=>{let O;return A<=5||u<=3?O=E+1:u>=A-2?O=A-4+E:O=u-2+E,e.jsx(X,{variant:u===O?"default":"outline",size:"sm",onClick:()=>d(O),className:"w-9",children:O},O)})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>d(k=>Math.min(A,k+1)),disabled:u===A,children:e.jsx(ys,{className:"w-4 h-4"})})]})]})]})]}),e.jsx(St,{open:!!p,onOpenChange:k=>!k&&g(null),children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Submission Details"})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-slate-600",children:"Form"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.form_name})]}),e.jsxs("div",{children:[e.jsx(ee,{className:"text-slate-600",children:"Submitted"}),e.jsx("p",{className:"font-medium text-slate-900",children:_t(p.created_date).format("MMM D, YYYY h:mm A")})]}),p.submitted_by_name&&e.jsxs("div",{children:[e.jsx(ee,{className:"text-slate-600",children:"Name"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.submitted_by_name})]}),p.submitted_by_email&&e.jsxs("div",{children:[e.jsx(ee,{className:"text-slate-600",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.submitted_by_email})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx(ee,{className:"text-slate-600 mb-2 block",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(He,{value:p.status||"new",onValueChange:k=>R(p.id,k),children:[e.jsx(Ue,{className:"w-[180px]",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"new",children:"New"}),e.jsx(re,{value:"junk",children:"Junk"}),e.jsx(re,{value:"actioned",children:"Actioned"})]})]}),C(p.status)]}),p.status_updated_by&&e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Updated by ",p.status_updated_by," on"," ",_t(p.status_updated_at).format("MMM D, YYYY h:mm A")]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Submission Data"}),e.jsx("div",{className:"space-y-3",children:Object.entries(p.submission_data||{}).map(([k,E])=>e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[e.jsx(ee,{className:"text-slate-600 text-xs uppercase tracking-wide mb-1 block",children:M(k)}),e.jsx("p",{className:"text-slate-900 whitespace-pre-wrap",children:Array.isArray(E)?E.join(", "):String(E)})]},k))})]})]})]})})]})}function l9({memberInfo:t,isAdmin:s}){const r=new URLSearchParams(window.location.search).get("id"),a=!!r,i=Gt(),l=b.useRef(null),[o,c]=b.useState(""),[u,d]=b.useState(""),[m,h]=b.useState(""),[p,g]=b.useState(""),[y,v]=b.useState(""),[j,w]=b.useState([]),[N,_]=b.useState([]),[T,A]=b.useState("draft"),[P,C]=b.useState(""),[R,M]=b.useState(""),[k,E]=b.useState(new Date().toISOString()),[O,F]=b.useState(!1),[z,V]=b.useState(!1),[U,B]=b.useState(null),{data:$}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await K.entities.Member.list()).find(de=>de.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:L=[]}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(de=>{var ue;return de.is_active&&((ue=de.applies_to_content_types)==null?void 0:ue.includes("News"))}).sort((de,ue)=>(de.display_order||0)-(ue.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:I,isLoading:W}=me({queryKey:["news",r],queryFn:async()=>(await K.entities.NewsPost.list()).find(de=>de.id===r),enabled:a});b.useEffect(()=>{I&&(c(I.title||""),d(I.slug||""),h(I.summary||""),g(I.content||""),v(I.feature_image_url||""),w(I.subcategories||[]),_(I.tags||[]),A(I.status||"draft"),E(I.published_date||new Date().toISOString()),C(I.seo_title||""),M(I.seo_description||""))},[I]),b.useEffect(()=>{if(o&&!a){const se=o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");d(se)}},[o,a]),b.useEffect(()=>{if(!t||!o||!$)return;const se=setTimeout(async()=>{if(a){V(!0);try{await K.entities.NewsPost.update(r,{title:o,slug:u,summary:m,content:p,feature_image_url:y,subcategories:j,tags:N,status:T,published_date:k,seo_title:P,seo_description:R}),B(new Date)}catch(de){console.error("Auto-save failed:",de)}finally{V(!1)}}},3e3);return()=>clearTimeout(se)},[o,u,m,p,y,j,N,T,k,P,R,a,r,t,$]);const q=Fe({mutationFn:async({publishNow:se})=>{if(!t||!$)throw new Error("Member information not available");const de={title:o,slug:u,author_id:$.id,author_name:`${t.first_name} ${t.last_name}`,summary:m,content:p,feature_image_url:y,subcategories:j,tags:N,status:se?"published":T,published_date:k,seo_title:P,seo_description:R};return a?await K.entities.NewsPost.update(r,de):await K.entities.NewsPost.create(de)},onSuccess:(se,de)=>{i.invalidateQueries({queryKey:["news"]}),te.success(de.publishNow?"News published successfully!":"News saved successfully!"),B(new Date),a||(window.location.href=`${Ee("NewsEditor")}?id=${se.id}`)},onError:se=>{te.error(se.message||"Failed to save news")}}),Z=Fe({mutationFn:()=>K.entities.NewsPost.delete(r),onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),te.success("News deleted successfully"),window.location.href=Ee("MyNews")},onError:()=>{te.error("Failed to delete news")}}),J=async se=>{var ue;const de=(ue=se.target.files)==null?void 0:ue[0];if(de){F(!0);try{const{file_url:oe}=await K.integrations.Core.UploadFile({file:de});v(oe),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{F(!1)}}},Q=()=>{const se=document.createElement("input");se.type="file",se.accept="image/*",se.onchange=async de=>{var oe,pe;const ue=(oe=de.target.files)==null?void 0:oe[0];if(ue)try{const{file_url:be}=await K.integrations.Core.UploadFile({file:ue}),je=(pe=l.current)==null?void 0:pe.getEditor();if(je){const Be=je.getSelection(!0);je.insertEmbed(Be.index,"image",be)}te.success("Image inserted")}catch{te.error("Failed to upload image")}},se.click()},G=b.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:Q}}}),[]),ae=()=>{window.confirm("Are you sure you want to delete this news article? This action cannot be undone.")&&Z.mutate()};return s?t?a&&(W||!$)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading news..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Wt,{to:Ee("MyNews"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to News"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[z&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),U&&!z&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(Kn,{className:"w-4 h-4 text-green-600"}),"Saved ",At(U,"h:mm a")]}),e.jsxs(X,{variant:"outline",onClick:()=>q.mutate({publishNow:!1}),disabled:q.isPending||!o,className:"gap-2",children:[e.jsx(un,{className:"w-4 h-4"}),"Save Draft"]}),e.jsx(X,{onClick:()=>q.mutate({publishNow:!0}),disabled:q.isPending||!o||!u,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:T==="published"?"Update":"Publish"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"title",className:"text-base font-semibold",children:"News Title"}),e.jsx(he,{id:"title",placeholder:"Enter news title...",value:o,onChange:se=>c(se.target.value),className:"text-2xl font-bold border-0 px-0 focus-visible:ring-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"slug",className:"text-sm",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"/news/"}),e.jsx(he,{id:"slug",placeholder:"news-url-slug",value:u,onChange:se=>d(se.target.value),className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"summary",children:"Summary / Excerpt"}),e.jsx(Ht,{id:"summary",placeholder:"Brief description (shown in listings)...",value:m,onChange:se=>h(se.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Content"}),e.jsx("div",{style:{height:"500px"},children:e.jsx(_2,{ref:l,theme:"snow",value:p,onChange:g,modules:G,placeholder:"Start writing your news content here...",style:{height:"450px"}})})]})]})})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Feature Image"})}),e.jsx(ce,{className:"space-y-4",children:y?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Feature",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>v(""),children:e.jsx(ws,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:J,className:"hidden",disabled:O}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-slate-400 transition-colors",children:[O?e.jsx(vt,{className:"w-8 h-8 text-slate-400 mx-auto mb-2 animate-spin"}):e.jsx(Gs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:O?"Uploading...":"Click to upload"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Organization"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(BL,{categories:L,selectedSubcategories:j,onChange:w}),e.jsx(IL,{tags:N,onChange:_})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{className:"text-base",children:"Publishing"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(qL,{value:T,onChange:A}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"published-date",children:"Published Date & Time"}),e.jsx(he,{id:"published-date",type:"datetime-local",value:k?new Date(k).toISOString().slice(0,16):"",onChange:se=>{const de=se.target.value?new Date(se.target.value).toISOString():new Date().toISOString();E(de)}}),k&&new Date(k)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(en,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["Scheduled for ",At(new Date(k),"MMM d, yyyy h:mm a")]})]})]})]})]}),e.jsx(zL,{seoTitle:P,seoDescription:R,onSeoTitleChange:C,onSeoDescriptionChange:M}),a&&e.jsxs(X,{variant:"destructive",onClick:ae,disabled:Z.isPending,className:"w-full gap-2",children:[e.jsx(is,{className:"w-4 h-4"}),"Delete News"]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function o9({memberInfo:t,isAdmin:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState([]),[c,u]=b.useState("newest"),{data:d=[],isLoading:m}=me({queryKey:["my-news"],queryFn:async()=>await K.entities.NewsPost.list("-created_date"),enabled:s,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(T=>{var A;return T.is_active&&((A=T.applies_to_content_types)==null?void 0:A.includes("News"))}).sort((T,A)=>(T.display_order||0)-(A.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:g=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(T=>T.is_active&&T.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),y=b.useMemo(()=>d.filter(_=>{var C,R,M;const T=((C=_.title)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((R=_.summary)==null?void 0:R.toLowerCase().includes(n.toLowerCase()))||((M=_.tags)==null?void 0:M.some(k=>k.toLowerCase().includes(n.toLowerCase()))),A=a==="all"||_.status===a,P=l.length===0||_.subcategories&&_.subcategories.some(k=>l.includes(k));return T&&A&&P}),[d,n,a,l]),v=b.useMemo(()=>{const _=[...y];switch(c){case"newest":_.sort((T,A)=>new Date(A.created_date)-new Date(T.created_date));break;case"oldest":_.sort((T,A)=>new Date(T.created_date)-new Date(A.created_date));break;case"title-asc":_.sort((T,A)=>T.title.localeCompare(A.title));break;case"title-desc":_.sort((T,A)=>A.title.localeCompare(T.title));break}return _},[y,c]),j=_=>{o(T=>T.includes(_)?T.filter(A=>A!==_):[...T,_])},w=_=>{switch(_){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},N=m||p;return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage news content"})]}),e.jsx(Wt,{to:Ee("NewsEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"New News Article"]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wc,{categories:h,selectedSubcategories:l,onSubcategoryToggle:j,searchQuery:n,onSearchChange:r,onClearSearch:()=>r("")}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(_=>e.jsx(X,{variant:a===_?"default":"outline",size:"sm",onClick:()=>i(_),className:"capitalize justify-start",children:_},_))})]})]})}),e.jsx("div",{className:"flex-1",children:N?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((_,T)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},T))}):v.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:n||a!=="all"||l.length>0?"No news found":"No news yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:n||a!=="all"||l.length>0?"Try adjusting your search or filters":"Start creating your first news article"}),!n&&a==="all"&&l.length===0&&e.jsx(Wt,{to:Ee("NewsEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Create First News"]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",v.length," ",v.length===1?"article":"articles"]}),e.jsxs(He,{value:c,onValueChange:u,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.map(_=>{const T=_.published_date&&new Date(_.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ve,{className:w(_.status),children:_.status}),T&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hc,{article:_,buttonStyles:g,showActions:!1})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Wt,{to:`${Ee("NewsEditor")}?id=${_.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(ci,{className:"w-3 h-3"}),"Edit"]})}),_.status==="published"&&e.jsx(Wt,{to:`${Ee("NewsView")}?slug=${_.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(fr,{className:"w-3 h-3"}),"View"]})})]})]},_.id)})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function c9({memberInfo:t,isAdmin:s}){const r=new URLSearchParams(window.location.search).get("slug"),a=!!sessionStorage.getItem("agcas_member"),{data:i,isLoading:l}=me({queryKey:["news-by-slug",r],queryFn:async()=>(await K.entities.NewsPost.list()).find(d=>d.slug===r),enabled:!!r}),o=()=>{const d=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;window.open(d,"_blank","width=600,height=600")},c=()=>{const u=encodeURIComponent((i==null?void 0:i.title)||"Check out this news"),d=encodeURIComponent(`I thought you might find this news article interesting:

${(i==null?void 0:i.title)||""}

${(i==null?void 0:i.summary)||""}

${window.location.href}`);window.location.href=`mailto:?subject=${u}&body=${d}`};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading news..."})}):i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs(Wt,{to:Ee(a?"MyNews":"PublicNews"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Qi,{className:"w-4 h-4"}),"Back to News"]}),s&&e.jsx(Wt,{to:`${Ee("NewsEditor")}?id=${i.id}`,children:e.jsxs(X,{variant:"outline",className:"gap-2",children:[e.jsx(ci,{className:"w-4 h-4"}),"Edit"]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-lg mb-8",children:[i.feature_image_url&&e.jsx("div",{className:"h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:i.feature_image_url,alt:i.title,className:"w-full h-full object-cover"})}),e.jsxs(ce,{className:"pt-8 pb-12 px-8 md:px-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 mb-6",children:[i.subcategories&&i.subcategories.length>0&&e.jsxs(e.Fragment,{children:[i.subcategories.slice(0,3).map((u,d)=>e.jsx(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:u},d)),i.subcategories.length>3&&e.jsxs(ve,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:["+",i.subcategories.length-3," more"]})]}),i.published_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4"}),e.jsx("span",{children:At(new Date(i.published_date),"MMMM d, yyyy")})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:i.title}),i.summary&&e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:i.summary}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none",dangerouslySetInnerHTML:{__html:i.content}}),i.tags&&i.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(jc,{className:"w-4 h-4 text-slate-400"}),i.tags.map(u=>e.jsx(ve,{variant:"outline",className:"text-sm",children:u},u))]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Share this news:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"lg",onClick:o,className:"gap-2 hover:bg-[#0077B5] hover:text-white hover:border-[#0077B5] transition-all",children:[e.jsx(cu,{className:"w-5 h-5"}),e.jsx("span",{children:"LinkedIn"})]}),e.jsxs(X,{variant:"outline",size:"lg",onClick:c,className:"gap-2 hover:bg-slate-700 hover:text-white hover:border-slate-700 transition-all",children:[e.jsx(Ts,{className:"w-5 h-5"}),e.jsx("span",{children:"Email"})]})]})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"News not found"}),e.jsx(Wt,{to:Ee(a?"MyNews":"PublicNews"),children:e.jsx(X,{children:"Back to News"})})]})})}function d9({memberInfo:t}){const[s,n]=b.useState(""),[r,a]=b.useState([]),[i,l]=b.useState("newest"),[o,c]=b.useState(1),[u,d]=b.useState(12),[m,h]=b.useState(!1),p=Gt(),{data:g}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await K.entities.Member.list()).find(U=>U.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:y=[],isLoading:v}=me({queryKey:["published-news"],queryFn:async()=>{const V=await K.entities.NewsPost.list("-published_date"),U=new Date;return V.filter(B=>B.status==="published"&&(!B.published_date||new Date(B.published_date)<=U))},staleTime:0,refetchOnWindowFocus:!0}),{data:j=[],isLoading:w}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(U=>{var B;return U.is_active&&((B=U.applies_to_content_types)==null?void 0:B.includes("News"))}).sort((U,B)=>(U.display_order||0)-(B.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:N=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(U=>U.is_active&&U.card_type==="article"),staleTime:0,refetchOnWindowFocus:!0});b.useEffect(()=>{if(g!=null&&g.news_filter_preferences&&!m){const V=g.news_filter_preferences;V.selectedSubcategories&&a(V.selectedSubcategories),V.sortBy&&l(V.sortBy),V.itemsPerPage&&d(V.itemsPerPage),h(!0)}},[g,m]);const _=Fe({mutationFn:async()=>{if(!g)return;const V={selectedSubcategories:r,sortBy:i,itemsPerPage:u};await K.entities.Member.update(g.id,{news_filter_preferences:V})},onSuccess:()=>{p.invalidateQueries({queryKey:["current-member"]})}}),T=b.useMemo(()=>y.filter(V=>{var $,L,I;const U=(($=V.title)==null?void 0:$.toLowerCase().includes(s.toLowerCase()))||((L=V.summary)==null?void 0:L.toLowerCase().includes(s.toLowerCase()))||((I=V.tags)==null?void 0:I.some(W=>W.toLowerCase().includes(s.toLowerCase()))),B=r.length===0||V.subcategories&&V.subcategories.some(W=>r.includes(W));return U&&B}),[y,s,r]),A=b.useMemo(()=>{const V=[...T];switch(i){case"newest":V.sort((U,B)=>new Date(B.published_date||B.created_date)-new Date(U.published_date||U.created_date));break;case"oldest":V.sort((U,B)=>new Date(U.published_date||U.created_date)-new Date(B.published_date||B.created_date));break;case"title-asc":V.sort((U,B)=>U.title.localeCompare(B.title));break;case"title-desc":V.sort((U,B)=>B.title.localeCompare(U.title));break}return V},[T,i]),P=Math.ceil(A.length/u),C=(o-1)*u,R=C+u,M=A.slice(C,R),k=()=>{const V=[];if(P<=7)for(let B=1;B<=P;B++)V.push(B);else if(o<=4){for(let B=1;B<=5;B++)V.push(B);V.push("..."),V.push(P)}else if(o>=P-3){V.push(1),V.push("...");for(let B=P-4;B<=P;B++)V.push(B)}else{V.push(1),V.push("...");for(let B=o-1;B<=o+1;B++)V.push(B);V.push("..."),V.push(P)}return V},E=V=>{a(U=>U.includes(V)?U.filter(B=>B!==V):[...U,V])},O=()=>{_.mutate()},F=v||w;b.useEffect(()=>{c(1)},[s,r,i,u]);const z=b.useMemo(()=>{if(!(g!=null&&g.news_filter_preferences))return!1;const V=g.news_filter_preferences;return JSON.stringify({selectedSubcategories:r,sortBy:i,itemsPerPage:u})!==JSON.stringify({selectedSubcategories:V.selectedSubcategories||[],sortBy:V.sortBy||"newest",itemsPerPage:V.itemsPerPage||12})},[g,r,i,u]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News"}),e.jsx("p",{className:"text-slate-600",children:"Stay updated with our latest news"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wc,{categories:j,selectedSubcategories:r,onSubcategoryToggle:E,searchQuery:s,onSearchChange:n,onClearSearch:()=>n("")}),z&&e.jsx(X,{onClick:O,disabled:_.isPending,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700",size:"sm",children:_.isPending?"Saving...":"Save as Default"})]})}),e.jsx("div",{className:"flex-1",children:F?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((V,U)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},U))}):M.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s||r.length>0?"No news found":"No news available"}),e.jsx("p",{className:"text-slate-600",children:s||r.length>0?"Try adjusting your search or filters":"Check back soon for updates"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",C+1,"-",Math.min(R,A.length)," of ",A.length," ",A.length===1?"article":"articles"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(He,{value:String(u),onValueChange:V=>d(Number(V)),children:[e.jsx(Ue,{className:"w-32",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6 per page"}),e.jsx(re,{value:"12",children:"12 per page"}),e.jsx(re,{value:"24",children:"24 per page"}),e.jsx(re,{value:"48",children:"48 per page"})]})]}),e.jsxs(He,{value:i,onValueChange:l,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(V=>e.jsx(Hc,{article:V,buttonStyles:N,viewPageUrl:"NewsView"},V.id))}),P>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(V=>Math.max(1,V-1)),disabled:o===1,children:e.jsx(Un,{className:"w-4 h-4"})}),k().map((V,U)=>V==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."},`ellipsis-${U}`):e.jsx(X,{variant:o===V?"default":"outline",size:"sm",onClick:()=>c(V),className:"min-w-[40px]",children:V},V)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(V=>Math.min(P,V+1)),disabled:o===P,children:e.jsx(ys,{className:"w-4 h-4"})})]})})]})})]})]})})}function u9(){const[t,s]=b.useState(""),[n,r]=b.useState([]),[a,i]=b.useState("newest"),[l,o]=b.useState(1),[c,u]=b.useState(12),{data:d=[],isLoading:m}=me({queryKey:["public-news"],queryFn:async()=>{const C=await K.entities.NewsPost.list("-published_date"),R=new Date;return C.filter(M=>M.status==="published"&&(!M.published_date||new Date(M.published_date)<=R))},staleTime:0,refetchOnWindowFocus:!0}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(R=>{var M;return R.is_active&&((M=R.applies_to_content_types)==null?void 0:M.includes("News"))}).sort((R,M)=>(R.display_order||0)-(M.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:g=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(R=>R.is_active&&R.card_type==="article"),staleTime:0,refetchOnWindowFocus:!0}),y=b.useMemo(()=>d.filter(C=>{var k,E,O;const R=((k=C.title)==null?void 0:k.toLowerCase().includes(t.toLowerCase()))||((E=C.summary)==null?void 0:E.toLowerCase().includes(t.toLowerCase()))||((O=C.tags)==null?void 0:O.some(F=>F.toLowerCase().includes(t.toLowerCase()))),M=n.length===0||C.subcategories&&C.subcategories.some(F=>n.includes(F));return R&&M}),[d,t,n]),v=b.useMemo(()=>{const C=[...y];switch(a){case"newest":C.sort((R,M)=>new Date(M.published_date||M.created_date)-new Date(R.published_date||R.created_date));break;case"oldest":C.sort((R,M)=>new Date(R.published_date||R.created_date)-new Date(M.published_date||M.created_date));break;case"title-asc":C.sort((R,M)=>R.title.localeCompare(M.title));break;case"title-desc":C.sort((R,M)=>M.title.localeCompare(R.title));break}return C},[y,a]),j=Math.ceil(v.length/c),w=(l-1)*c,N=w+c,_=v.slice(w,N),T=()=>{const C=[];if(j<=7)for(let M=1;M<=j;M++)C.push(M);else if(l<=4){for(let M=1;M<=5;M++)C.push(M);C.push("..."),C.push(j)}else if(l>=j-3){C.push(1),C.push("...");for(let M=j-4;M<=j;M++)C.push(M)}else{C.push(1),C.push("...");for(let M=l-1;M<=l+1;M++)C.push(M);C.push("..."),C.push(j)}return C},A=C=>{r(R=>R.includes(C)?R.filter(M=>M!==C):[...R,C]),o(1)},P=m||p;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News"}),e.jsx("p",{className:"text-slate-600",children:"Stay updated with our latest news"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(Wc,{categories:h,selectedSubcategories:n,onSubcategoryToggle:A,searchQuery:t,onSearchChange:s,onClearSearch:()=>s("")})})}),e.jsx("div",{className:"flex-1",children:P?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},R))}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:t||n.length>0?"No news found":"No news available"}),e.jsx("p",{className:"text-slate-600",children:t||n.length>0?"Try adjusting your search or filters":"Check back soon for updates"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",w+1,"-",Math.min(N,v.length)," of ",v.length," ",v.length===1?"article":"articles"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(He,{value:String(c),onValueChange:C=>u(Number(C)),children:[e.jsx(Ue,{className:"w-32",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"6",children:"6 per page"}),e.jsx(re,{value:"12",children:"12 per page"}),e.jsx(re,{value:"24",children:"24 per page"}),e.jsx(re,{value:"48",children:"48 per page"})]})]}),e.jsxs(He,{value:a,onValueChange:i,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(C=>e.jsx(Hc,{article:C,buttonStyles:g,viewPageUrl:"NewsView"},C.id))}),j>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(C=>Math.max(1,C-1)),disabled:l===1,children:e.jsx(Un,{className:"w-4 h-4"})}),T().map((C,R)=>C==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."},`ellipsis-${R}`):e.jsx(X,{variant:l===C?"default":"outline",size:"sm",onClick:()=>o(C),className:"min-w-[40px]",children:C},C)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(C=>Math.min(j,C+1)),disabled:l===j,children:e.jsx(ys,{className:"w-4 h-4"})})]})})]})})]})]})})}function h9({isAdmin:t}){const[s,n]=b.useState(3),[r,a]=b.useState(5),[i,l]=b.useState(!0),[o,c]=b.useState(!0),u=Gt(),{data:d=[],isLoading:m}=me({queryKey:["news-ticker-settings"],queryFn:async()=>(await K.entities.SystemSettings.list()).filter(y=>y.setting_key==="news_ticker_count"||y.setting_key==="news_ticker_cycle_seconds"||y.setting_key==="news_ticker_enabled"||y.setting_key==="news_show_author"),enabled:t,staleTime:300*1e3});b.useEffect(()=>{if(d.length>0){const g=d.find(w=>w.setting_key==="news_ticker_count"),y=d.find(w=>w.setting_key==="news_ticker_cycle_seconds"),v=d.find(w=>w.setting_key==="news_ticker_enabled"),j=d.find(w=>w.setting_key==="news_show_author");g&&n(parseInt(g.setting_value)||3),y&&a(parseInt(y.setting_value)||5),v&&l(v.setting_value==="true"),j&&c(j.setting_value==="true")}},[d]);const h=Fe({mutationFn:async()=>{const g=d.find(N=>N.setting_key==="news_ticker_count"),y=d.find(N=>N.setting_key==="news_ticker_cycle_seconds"),v=d.find(N=>N.setting_key==="news_ticker_enabled"),j=d.find(N=>N.setting_key==="news_show_author"),w=[];g?w.push(K.entities.SystemSettings.update(g.id,{setting_value:s.toString()})):w.push(K.entities.SystemSettings.create({setting_key:"news_ticker_count",setting_value:s.toString(),description:"Number of news articles to display in ticker"})),y?w.push(K.entities.SystemSettings.update(y.id,{setting_value:r.toString()})):w.push(K.entities.SystemSettings.create({setting_key:"news_ticker_cycle_seconds",setting_value:r.toString(),description:"Seconds between news ticker transitions"})),v?w.push(K.entities.SystemSettings.update(v.id,{setting_value:i.toString()})):w.push(K.entities.SystemSettings.create({setting_key:"news_ticker_enabled",setting_value:i.toString(),description:"Whether the news ticker is enabled"})),j?w.push(K.entities.SystemSettings.update(j.id,{setting_value:o.toString()})):w.push(K.entities.SystemSettings.create({setting_key:"news_show_author",setting_value:o.toString(),description:"Whether to show author on news cards and articles"})),await Promise.all(w)},onSuccess:()=>{u.invalidateQueries({queryKey:["news-ticker-settings"]}),te.success("News ticker settings saved successfully")},onError:()=>{te.error("Failed to save settings")}}),p=()=>{if(s<1){te.error("Number of articles must be at least 1");return}if(r<2){te.error("Cycle time must be at least 2 seconds");return}h.mutate()};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News Ticker Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure the news ticker displayed at the top of the member portal"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5"}),"Ticker Configuration"]})}),e.jsx(ce,{className:"pt-6 space-y-6",children:m?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading settings..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg mb-6",children:[e.jsx(ls,{id:"ticker-enabled",checked:i,onCheckedChange:l}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"ticker-enabled",className:"cursor-pointer font-medium",children:"Enable News Ticker"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Show or hide the news ticker bar at the top of the member portal"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"ticker-count",children:"Number of Articles to Display"}),e.jsx(he,{id:"ticker-count",type:"number",min:"1",max:"10",value:s,onChange:g=>n(parseInt(g.target.value)||1)}),e.jsx("p",{className:"text-xs text-slate-500",children:"The latest published news articles to cycle through in the ticker"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"cycle-seconds",children:"Cycle Time (seconds)"}),e.jsx(he,{id:"cycle-seconds",type:"number",min:"2",max:"60",value:r,onChange:g=>a(parseInt(g.target.value)||2)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Time in seconds before switching to the next article (minimum 2 seconds)"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"show-author",checked:o,onCheckedChange:c}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{htmlFor:"show-author",className:"cursor-pointer font-medium",children:"Show Author"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display author information on news cards and articles"})]})]}),e.jsx("div",{className:"pt-4 flex justify-end",children:e.jsxs(X,{onClick:p,disabled:h.isPending,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(un,{className:"w-4 h-4"}),"Save Settings"]})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function m9({isAdmin:t,memberInfo:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(null),[l,o]=b.useState(null),[c,u]=b.useState(null),d=async()=>{var h,p;if(!(s!=null&&s.email)){te.error("Member information not available");return}r(!0),i(null),o(null);try{const g=await K.functions.invoke("exportAllData",{memberEmail:s.email});if(console.log("Export result:",g),g!=null&&g.success||(h=g==null?void 0:g.data)!=null&&h.success){const y=(g==null?void 0:g.data)||g;i(y.download_url),o(y.file_name),u(y.expires_in),te.success("Data export completed successfully!")}else{const y=(g==null?void 0:g.error)||((p=g==null?void 0:g.data)==null?void 0:p.error)||"Unknown error";te.error("Export failed: "+y)}}catch(g){console.error("Export error:",g),te.error("Failed to export data: "+g.message)}finally{r(!1)}},m=()=>{a&&window.open(a,"_blank")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Data Export & Backup"}),e.jsx("p",{className:"text-slate-600",children:"Export all application data to CSV files in a downloadable ZIP archive"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(EH,{className:"w-5 h-5 text-blue-600"}),"Export All Data"]})}),e.jsxs(ce,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What will be exported:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"All member and organization data"}),e.jsx("li",{children:"Events, bookings, and program tickets"}),e.jsx("li",{children:"Resources, articles, and news posts"}),e.jsx("li",{children:"Roles, permissions, and settings"}),e.jsx("li",{children:"Forms, submissions, and all other entities"})]})]}),e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:" Export may take several minutes depending on data volume"}),e.jsx("li",{children:" Download link expires after 1 hour"}),e.jsx("li",{children:" Sensitive data like tokens are included - store securely"}),e.jsx("li",{children:" Each entity is exported as a separate CSV file"})]})]})]})}),!a&&!n&&e.jsxs(X,{onClick:d,disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 h-12 text-base",children:[e.jsx(Qn,{className:"w-5 h-5 mr-2"}),"Start Data Export"]}),n&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[e.jsx(vt,{className:"w-12 h-12 text-blue-600 animate-spin"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-medium text-slate-900",children:"Exporting data..."}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"This may take a few minutes. Please don't close this page."})]})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(df,{className:"w-6 h-6 text-green-600 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900",children:"Export Complete!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your data has been exported and is ready for download."})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"File:"}),e.jsx("span",{className:"text-sm text-slate-900",children:l})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Link expires in:"}),e.jsxs("span",{className:"text-sm text-slate-900",children:[Math.floor(c/60)," minutes"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(X,{onClick:m,className:"flex-1 bg-green-600 hover:bg-green-700 h-12 text-base",children:[e.jsx(Qn,{className:"w-5 h-5 mr-2"}),"Download ZIP File"]}),e.jsx(X,{onClick:d,variant:"outline",className:"h-12",children:"Export Again"})]})]})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Best Practices:"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[e.jsx("li",{children:" Schedule regular backups (weekly or monthly)"}),e.jsx("li",{children:" Store backup files in a secure, encrypted location"}),e.jsx("li",{children:" Test restoring from backups periodically"}),e.jsx("li",{children:" Keep multiple backup versions for different time periods"}),e.jsx("li",{children:" Document your backup and restoration procedures"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function f9({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState([]),[c,u]=b.useState("newest"),{data:d=[],isLoading:m}=me({queryKey:["all-articles-admin"],queryFn:async()=>await K.entities.BlogPost.list("-created_date"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await K.entities.ResourceCategory.list()).filter(M=>M.is_active&&M.applies_to_content_types&&M.applies_to_content_types.includes("Articles")).sort((M,k)=>(M.display_order||0)-(k.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:g=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await K.entities.ButtonStyle.list()).filter(R=>R.is_active&&R.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:y=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await K.entities.ArticleView.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:v=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await K.entities.ArticleReaction.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const R=(await K.entities.SystemSettings.list()).find(M=>M.setting_key==="article_display_name");return(R==null?void 0:R.setting_value)||"Articles"},staleTime:300*1e3,refetchOnWindowFocus:!1}),w=b.useMemo(()=>{const C={};return d.forEach(R=>{C[R.id]={viewCount:y.filter(M=>M.article_id===R.id).length,likeCount:v.filter(M=>M.article_id===R.id&&M.reaction_type==="up").length}}),C},[d,y,v]),N=b.useMemo(()=>d.filter(C=>{var E,O,F,z;const R=((E=C.title)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))||((O=C.summary)==null?void 0:O.toLowerCase().includes(n.toLowerCase()))||((F=C.tags)==null?void 0:F.some(V=>V.toLowerCase().includes(n.toLowerCase())))||((z=C.author_name)==null?void 0:z.toLowerCase().includes(n.toLowerCase())),M=a==="all"||C.status===a,k=l.length===0||C.subcategories&&C.subcategories.some(V=>l.includes(V));return R&&M&&k}),[d,n,a,l]),_=b.useMemo(()=>{const C=[...N];switch(c){case"newest":C.sort((R,M)=>new Date(M.created_date)-new Date(R.created_date));break;case"oldest":C.sort((R,M)=>new Date(R.created_date)-new Date(M.created_date));break;case"title-asc":C.sort((R,M)=>R.title.localeCompare(M.title));break;case"title-desc":C.sort((R,M)=>M.title.localeCompare(R.title));break;case"most-viewed":C.sort((R,M)=>{var k,E;return(((k=w[M.id])==null?void 0:k.viewCount)||0)-(((E=w[R.id])==null?void 0:E.viewCount)||0)});break;case"most-liked":C.sort((R,M)=>{var k,E;return(((k=w[M.id])==null?void 0:k.likeCount)||0)-(((E=w[R.id])==null?void 0:E.likeCount)||0)});break}return C},[N,c,w]),T=C=>{o(R=>R.includes(C)?R.filter(M=>M!==C):[...R,C])},A=C=>{switch(C){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},P=m||p;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:["All ",j]}),e.jsxs("p",{className:"text-slate-600",children:["Manage all ",j.toLowerCase()," across the platform"]})]}),e.jsx(Wt,{to:Ee("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"New ",j.endsWith("s")?j.slice(0,-1):j]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wc,{categories:h,selectedSubcategories:l,onSubcategoryToggle:T,searchQuery:n,onSearchChange:r,onClearSearch:()=>r(""),isLoading:!1,displayName:j}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(C=>e.jsx(X,{variant:a===C?"default":"outline",size:"sm",onClick:()=>i(C),className:"capitalize justify-start",children:C},C))})]})]})}),e.jsx("div",{className:"flex-1",children:P?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},R))}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",j.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filters"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",_.length," ",_.length===1&&j.endsWith("s")?j.slice(0,-1).toLowerCase():j.toLowerCase()]}),e.jsxs(He,{value:c,onValueChange:u,children:[e.jsxs(Ue,{className:"w-48",children:[e.jsx(Ll,{className:"w-4 h-4 mr-2"}),e.jsx(Ye,{placeholder:"Sort By"})]}),e.jsxs(Ve,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map(C=>{const R=C.published_date&&new Date(C.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ve,{className:A(C.status),children:C.status}),R&&e.jsx(ve,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hc,{article:C,buttonStyles:g,showActions:!1,displayName:j})]}),C.author_name&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-600",children:[e.jsx(Js,{className:"w-3 h-3"}),e.jsxs("span",{children:["By ",C.author_name]})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Wt,{to:`${Ee("ArticleEditor")}?id=${C.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(ci,{className:"w-3 h-3"}),"Edit"]})}),C.status==="published"&&e.jsx(Wt,{to:`${Ee("ArticleView")}?slug=${C.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(fr,{className:"w-3 h-3"}),"View"]})})]})]},C.id)})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function p9({isAdmin:t}){const s=window.location.origin,{data:n=[]}=me({queryKey:["published-articles"],queryFn:async()=>(await K.entities.BlogPost.list()).filter(p=>p.status==="published"&&new Date(p.published_date)<=new Date),staleTime:300*1e3}),{data:r=[]}=me({queryKey:["published-news"],queryFn:async()=>(await K.entities.NewsPost.list()).filter(p=>p.status==="published"&&new Date(p.published_date)<=new Date),staleTime:300*1e3}),{data:a=[]}=me({queryKey:["active-job-postings"],queryFn:async()=>(await K.entities.JobPosting.list()).filter(p=>p.status==="active"),staleTime:300*1e3}),{data:i=[]}=me({queryKey:["public-custom-pages"],queryFn:async()=>(await K.entities.IEditPage.list()).filter(p=>p.is_public),staleTime:300*1e3}),l=[{name:"Home",url:Ee("Home"),icon:Qs},{name:"Public Events",url:Ee("PublicEvents"),icon:Qs},{name:"Public Articles",url:Ee("PublicArticles"),icon:ts},{name:"Public News",url:Ee("PublicNews"),icon:G4},{name:"Public Resources",url:Ee("PublicResources"),icon:ea},{name:"Job Board",url:Ee("JobBoard"),icon:kn},{name:"Post Job",url:Ee("PostJob"),icon:kn},{name:"Organisation Directory",url:Ee("OrganisationDirectory"),icon:Qs}],o=b.useMemo(()=>n.map(h=>({title:h.title,url:`${Ee("ArticleView")}?slug=${h.slug}`,fullUrl:`${s}${Ee("ArticleView")}?slug=${h.slug}`,author:h.author_name,date:h.published_date})),[n,s]),c=b.useMemo(()=>r.map(h=>({title:h.title,url:`${Ee("NewsView")}?slug=${h.slug}`,fullUrl:`${s}${Ee("NewsView")}?slug=${h.slug}`,author:h.author_name,date:h.published_date})),[r,s]),u=b.useMemo(()=>a.map(h=>({title:h.title,url:`${Ee("JobDetails")}?id=${h.id}`,fullUrl:`${s}${Ee("JobDetails")}?id=${h.id}`,company:h.company_name,date:h.created_date})),[a,s]),d=b.useMemo(()=>i.map(h=>({title:h.title,url:`${Ee("ViewPage")}?slug=${h.slug}`,fullUrl:`${s}${Ee("ViewPage")}?slug=${h.slug}`,description:h.description})),[i,s]),m=h=>{navigator.clipboard.writeText(h),te.success("URL copied to clipboard")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Public Site Map"}),e.jsx("p",{className:"text-slate-600",children:"All public-facing URLs on your platform"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),"Static Public Pages"]})}),e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:l.map((h,p)=>{const g=h.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:h.name}),e.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[s,h.url]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(`${s}${h.url}`),children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(Qs,{className:"w-3 h-3"})})})]})]},p)})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"w-5 h-5 text-blue-600"}),"Published Articles"]}),e.jsxs(ve,{children:[o.length," articles"]})]})}),e.jsx(ce,{className:"p-6",children:o.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No published articles"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.author&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["By ",h.author]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(Qs,{className:"w-3 h-3"})})})]})]},p))})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(G4,{className:"w-5 h-5 text-blue-600"}),"Published News"]}),e.jsxs(ve,{children:[c.length," posts"]})]})}),e.jsx(ce,{className:"p-6",children:c.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No published news posts"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:c.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.author&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["By ",h.author]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(Qs,{className:"w-3 h-3"})})})]})]},p))})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(kn,{className:"w-5 h-5 text-blue-600"}),"Active Job Postings"]}),e.jsxs(ve,{children:[u.length," jobs"]})]})}),e.jsx(ce,{className:"p-6",children:u.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No active job postings"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.company&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["At ",h.company]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(Qs,{className:"w-3 h-3"})})})]})]},p))})})]}),d.length>0&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5 text-blue-600"}),"Custom Public Pages"]}),e.jsxs(ve,{children:[d.length," pages"]})]})}),e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:d.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.description&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:h.description}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(Qs,{className:"w-3 h-3"})})})]})]},p))})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const FD={bug:$6,feature_request:H6,how_to:zc,general:Ts},LD={bug:"Bug Report",feature_request:"Feature Request",how_to:"How-To Question",general:"General Message"},ID={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-slate-100 text-slate-800"},BD={minor:"bg-green-100 text-green-700",moderate:"bg-yellow-100 text-yellow-700",major:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};function x9({memberInfo:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState({type:"general",subject:"",description:"",severity:"moderate",attachments:[]}),[o,c]=b.useState(""),[u,d]=b.useState(!1),m=Gt(),{data:h=[],isLoading:p}=me({queryKey:["support-tickets",t==null?void 0:t.email],queryFn:async()=>(await K.entities.SupportTicket.list("-created_date")).filter(A=>A.submitter_email===(t==null?void 0:t.email)),enabled:!!t}),{data:g=[]}=me({queryKey:["support-responses",r==null?void 0:r.id],queryFn:async()=>(await K.entities.SupportTicketResponse.list("created_date")).filter(A=>A.ticket_id===(r==null?void 0:r.id)),enabled:!!r}),y=Fe({mutationFn:T=>K.entities.SupportTicket.create(T),onSuccess:()=>{m.invalidateQueries({queryKey:["support-tickets"]}),te.success("Support ticket submitted successfully"),n(!1),l({type:"general",subject:"",description:"",severity:"moderate",attachments:[]})},onError:()=>te.error("Failed to submit ticket")}),v=Fe({mutationFn:T=>K.entities.SupportTicketResponse.create(T),onSuccess:()=>{m.invalidateQueries({queryKey:["support-responses"]}),te.success("Reply added"),c("")},onError:()=>te.error("Failed to add reply")}),j=async T=>{var P;const A=(P=T.target.files)==null?void 0:P[0];if(A){d(!0);try{const{file_url:C}=await K.integrations.Core.UploadFile({file:A});l({...i,attachments:[...i.attachments,C]}),te.success("File uploaded")}catch{te.error("Failed to upload file")}finally{d(!1)}}},w=T=>{l({...i,attachments:i.attachments.filter((A,P)=>P!==T)})},N=()=>{if(!i.subject.trim()||!i.description.trim()){te.error("Please fill in all fields");return}y.mutate({...i,submitter_email:t.email,submitter_name:`${t.first_name} ${t.last_name}`})},_=()=>{o.trim()&&v.mutate({ticket_id:r.id,message:o,is_admin_response:!1,responder_email:t.email,responder_name:`${t.first_name} ${t.last_name}`})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Support"}),e.jsx("p",{className:"text-slate-600",children:"Submit bug reports, feature requests, or ask questions"})]}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"New Ticket"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading tickets..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bG,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Support Tickets Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Submit your first ticket to get help from our team"}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Ticket"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(T=>{const A=FD[T.type];return e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(T),children:[e.jsxs(Re,{className:"border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),e.jsx(ve,{variant:"outline",className:"text-xs",children:LD[T.type]})]}),e.jsx(ve,{className:ID[T.status],children:T.status.replace("_"," ")})]}),e.jsx($e,{className:"text-lg",children:T.subject})]}),e.jsxs(ce,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:T.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(en,{className:"w-3 h-3"}),At(new Date(T.created_date),"MMM d, yyyy")]}),e.jsx("div",{className:"flex items-center gap-2",children:T.severity&&e.jsx(ve,{className:BD[T.severity],variant:"outline",children:T.severity})})]})]})]},T.id)})}),e.jsx(St,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Create Support Ticket"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Type"}),e.jsxs(He,{value:i.type,onValueChange:T=>l({...i,type:T}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"bug",children:"Bug Report"}),e.jsx(re,{value:"feature_request",children:"Feature Request"}),e.jsx(re,{value:"how_to",children:"How-To Question"}),e.jsx(re,{value:"general",children:"General Message"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Severity"}),e.jsxs(He,{value:i.severity,onValueChange:T=>l({...i,severity:T}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"minor",children:"Minor"}),e.jsx(re,{value:"moderate",children:"Moderate"}),e.jsx(re,{value:"major",children:"Major"}),e.jsx(re,{value:"critical",children:"Critical"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Subject"}),e.jsx(he,{placeholder:"Brief description of your issue or request...",value:i.subject,onChange:T=>l({...i,subject:T.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Description"}),e.jsx(Ht,{placeholder:"Provide detailed information...",rows:6,value:i.description,onChange:T=>l({...i,description:T.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Attachments"}),i.attachments.length>0&&e.jsx("div",{className:"space-y-2 mb-3",children:i.attachments.map((T,A)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border",children:[e.jsx("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex-1 truncate",children:T.split("/").pop()}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>w(A),children:e.jsx(ws,{className:"w-3 h-3"})})]},A))}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",onChange:j,className:"hidden",disabled:u}),e.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center cursor-pointer hover:border-slate-400 transition-colors",children:u?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-6 h-6 text-slate-400 mx-auto mb-2 animate-spin"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload file or image"})]})})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(X,{onClick:N,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Submit Ticket"})]})]})}),e.jsx(St,{open:!!r,onOpenChange:()=>a(null),children:e.jsx(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r&&e.jsxs(e.Fragment,{children:[e.jsx(Ct,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[Ie.createElement(FD[r.type],{className:"w-5 h-5 text-blue-600"}),e.jsx(ve,{variant:"outline",children:LD[r.type]}),e.jsx(ve,{className:ID[r.status],children:r.status.replace("_"," ")}),r.severity&&e.jsx(ve,{className:BD[r.severity],children:r.severity})]}),e.jsx(kt,{className:"text-2xl",children:r.subject}),e.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Submitted ",At(new Date(r.created_date),"MMM d, yyyy h:mm a")]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:r.description})}),r.attachments&&r.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Attachments"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r.attachments.map((T,A)=>e.jsxs("a",{href:T,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 rounded border border-slate-200 hover:bg-slate-100 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline truncate",children:T.split("/").pop()})]},A))})]}),r.resolution_notes&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(df,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Resolution"})]}),e.jsx("p",{className:"text-sm text-green-700",children:r.resolution_notes})]}),g.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Conversation"}),g.map(T=>e.jsxs("div",{className:`rounded-lg p-4 ${T.is_admin_response?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[T.responder_name,T.is_admin_response&&e.jsx(ve,{className:"ml-2 bg-blue-600 text-white",children:"Developer"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:At(new Date(T.created_date),"MMM d, h:mm a")})]}),e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:T.message})]},T.id))]}),r.status!=="closed"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Add Reply"}),e.jsx(Ht,{placeholder:"Type your reply...",rows:4,value:o,onChange:T=>c(T.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{onClick:_,disabled:v.isPending||!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Send Reply"})})]}),r.status==="closed"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 bg-slate-100 p-3 rounded-lg",children:[e.jsx(ps,{className:"w-4 h-4"}),"This ticket is closed. Contact support if you need to reopen it."]})]})]})})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})})}const qD={bug:$6,feature_request:H6,how_to:zc,general:Ts},zD={bug:"Bug Report",feature_request:"Feature Request",how_to:"How-To Question",general:"General Message"},$2e={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-slate-100 text-slate-800"},U2e={minor:"bg-green-100 text-green-700",moderate:"bg-yellow-100 text-yellow-700",major:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};function g9({isAdmin:t,memberInfo:s}){var z;const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState("all"),[c,u]=b.useState(null),[d,m]=b.useState(""),[h,p]=b.useState({}),[g,y]=b.useState(!1),[v,j]=b.useState([]),w=Gt(),N=((z=s==null?void 0:s.email)==null?void 0:z.includes("isaasi.co.uk"))||(s==null?void 0:s.email)==="sharon@onlinem.co.uk",{data:_=[],isLoading:T}=me({queryKey:["all-support-tickets"],queryFn:()=>K.entities.SupportTicket.list("-created_date"),enabled:N}),{data:A=[]}=me({queryKey:["support-responses",c==null?void 0:c.id],queryFn:async()=>(await K.entities.SupportTicketResponse.list("created_date")).filter(U=>U.ticket_id===(c==null?void 0:c.id)),enabled:!!c}),P=Fe({mutationFn:({id:V,data:U})=>K.entities.SupportTicket.update(V,U),onSuccess:()=>{w.invalidateQueries({queryKey:["all-support-tickets"]}),te.success("Ticket updated")},onError:()=>te.error("Failed to update ticket")}),C=Fe({mutationFn:V=>K.entities.SupportTicketResponse.create(V),onSuccess:()=>{w.invalidateQueries({queryKey:["support-responses"]}),te.success("Response added"),m(""),j([])},onError:()=>te.error("Failed to add response")}),R=V=>{P.mutate({id:c.id,data:V}),u({...c,...V})},M=()=>{d.trim()&&C.mutate({ticket_id:c.id,message:d,is_admin_response:!0,responder_email:s.email,responder_name:`${s.first_name} ${s.last_name}`,attachments:v})},k=async V=>{if(!(!V||V.length===0)){y(!0);try{const U=Array.from(V).map(async $=>(await K.integrations.Core.UploadFile({file:$})).file_url),B=await Promise.all(U);j($=>[...$,...B]),te.success(`Uploaded ${B.length} image(s)`)}catch(U){te.error("Failed to upload images: "+U.message)}finally{y(!1)}}},E=V=>{j(U=>U.filter(B=>B!==V))};if(!N)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Access restricted to isaasi.co.uk team members"})})})});const O=_.filter(V=>{const U=V.subject.toLowerCase().includes(n.toLowerCase())||V.description.toLowerCase().includes(n.toLowerCase())||V.submitter_name.toLowerCase().includes(n.toLowerCase()),B=a==="all"||V.status===a,$=l==="all"||V.type===l;return U&&B&&$}),F=V=>_.filter(U=>U.status===V).length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Support Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage and respond to support tickets"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[e.jsx(le,{className:"border-blue-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F("open")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Open"})]})}),e.jsx(le,{className:"border-yellow-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:F("in_progress")}),e.jsx("div",{className:"text-sm text-slate-600",children:"In Progress"})]})}),e.jsx(le,{className:"border-green-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:F("resolved")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Resolved"})]})}),e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-600",children:F("closed")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Closed"})]})})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search tickets...",value:n,onChange:V=>r(V.target.value),className:"pl-10"})]}),e.jsxs(He,{value:a,onValueChange:i,children:[e.jsx(Ue,{className:"w-full md:w-48",children:e.jsx(Ye,{placeholder:"All Statuses"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Statuses"}),e.jsx(re,{value:"open",children:"Open"}),e.jsx(re,{value:"in_progress",children:"In Progress"}),e.jsx(re,{value:"resolved",children:"Resolved"}),e.jsx(re,{value:"closed",children:"Closed"})]})]}),e.jsxs(He,{value:l,onValueChange:o,children:[e.jsx(Ue,{className:"w-full md:w-48",children:e.jsx(Ye,{placeholder:"All Types"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Types"}),e.jsx(re,{value:"bug",children:"Bug Report"}),e.jsx(re,{value:"feature_request",children:"Feature Request"}),e.jsx(re,{value:"how_to",children:"How-To Question"}),e.jsx(re,{value:"general",children:"General Message"})]})]})]})})}),T?e.jsx("div",{className:"text-center py-12",children:"Loading tickets..."}):O.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No tickets found"})})}):e.jsx("div",{className:"space-y-4",children:O.map(V=>{const U=qD[V.type];return e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>u(V),children:e.jsx(ce,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600"}),e.jsx(ve,{variant:"outline",className:"text-xs",children:zD[V.type]}),e.jsx(ve,{className:$2e[V.status],children:V.status.replace("_"," ")}),V.severity&&e.jsx(ve,{className:U2e[V.severity],children:V.severity})]}),e.jsx("h3",{className:"font-semibold text-lg text-slate-900 mb-1",children:V.subject}),e.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:V.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{children:["From: ",V.submitter_name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(en,{className:"w-3 h-3"}),At(new Date(V.created_date),"MMM d, yyyy h:mm a")]})]})]})})})},V.id)})}),e.jsx(St,{open:!!c,onOpenChange:()=>u(null),children:e.jsx(Nt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:c&&e.jsxs(e.Fragment,{children:[e.jsx(Ct,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[Ie.createElement(qD[c.type],{className:"w-5 h-5 text-blue-600"}),e.jsx(ve,{variant:"outline",children:zD[c.type]}),e.jsxs(He,{value:c.status,onValueChange:V=>R({status:V}),children:[e.jsx(Ue,{className:"w-40 h-7 text-xs",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"open",children:"Open"}),e.jsx(re,{value:"in_progress",children:"In Progress"}),e.jsx(re,{value:"resolved",children:"Resolved"}),e.jsx(re,{value:"closed",children:"Closed"})]})]}),e.jsxs(He,{value:c.severity||"moderate",onValueChange:V=>R({severity:V}),children:[e.jsx(Ue,{className:"w-32 h-7 text-xs",children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"minor",children:"Minor"}),e.jsx(re,{value:"moderate",children:"Moderate"}),e.jsx(re,{value:"major",children:"Major"}),e.jsx(re,{value:"critical",children:"Critical"})]})]})]}),e.jsx(kt,{className:"text-2xl",children:c.subject}),e.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["From: ",c.submitter_name," (",c.submitter_email,")"]}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Submitted ",At(new Date(c.created_date),"MMM d, yyyy h:mm a")]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:c.description})}),c.attachments&&c.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Attachments"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c.attachments.map((V,U)=>e.jsxs("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 rounded border border-slate-200 hover:bg-slate-100 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline truncate",children:V.split("/").pop()})]},U))})]}),(c.status==="resolved"||c.status==="closed")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Resolution Notes"}),e.jsx(Ht,{placeholder:"Add resolution notes...",rows:3,value:h.resolution_notes??c.resolution_notes??"",onChange:V=>p({...h,resolution_notes:V.target.value}),onBlur:()=>{h.resolution_notes!==void 0&&(R({resolution_notes:h.resolution_notes}),p({}))}})]}),A.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Conversation"}),A.map(V=>e.jsxs("div",{className:`rounded-lg p-4 ${V.is_admin_response?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[V.responder_name,V.is_admin_response&&e.jsx(ve,{className:"ml-2 bg-blue-600 text-white",children:"Developer"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:At(new Date(V.created_date),"MMM d, h:mm a")})]}),e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:V.message}),V.attachments&&V.attachments.length>0&&e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:V.attachments.map((U,B)=>e.jsx("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("img",{src:U,alt:`Attachment ${B+1}`,className:"w-full h-32 object-cover rounded border border-slate-200 hover:opacity-90 transition-opacity"})},B))})]},V.id))]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{children:"Add Response"}),e.jsx(Ht,{placeholder:"Type your response to the user...",rows:4,value:d,onChange:V=>m(V.target.value)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{htmlFor:"response-images",className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-50 transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:g?"Uploading...":"Attach Images"})]})}),e.jsx("input",{id:"response-images",type:"file",accept:"image/*",multiple:!0,onChange:V=>k(V.target.files),className:"hidden",disabled:g})]}),v.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map((V,U)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:V,alt:`Upload ${U+1}`,className:"w-full h-24 object-cover rounded border border-slate-200"}),e.jsx("button",{onClick:()=>E(V),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},U))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{onClick:M,disabled:C.isPending||!d.trim()||g,className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})})]})]})]})})})]})})}const Yw={Menu:El,Calendar:js,CreditCard:$c,Ticket:Ds,Wallet:Eo,ShoppingCart:Vc,History:Wg,Sparkles:ea,FileText:ts,Briefcase:kn,Settings:Ua,BookOpen:Ug,Building:Ro,HelpCircle:zc,Users:bs,Shield:Ln,BarChart3:Eu,FileEdit:uf,AtSign:of,FolderTree:Ec,Trophy:Fn,MousePointer2:hf,Mail:Ts,Download:Qn};function v9({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState("hierarchy"),[u,d]=b.useState(""),[m,h]=b.useState("all"),[p,g]=b.useState("all"),[y,v]=b.useState("display_order"),j=Gt(),{data:w,isLoading:N}=me({queryKey:["portal-navigation-items"],queryFn:()=>K.entities.PortalNavigationItem.list("display_order"),initialData:[],staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0}),_=Fe({mutationFn:z=>K.entities.PortalNavigationItem.create(z),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),a(!1),n(null),te.success("Navigation item created")}}),T=Fe({mutationFn:({id:z,data:V})=>K.entities.PortalNavigationItem.update(z,V),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),a(!1),n(null),te.success("Navigation item updated")}}),A=Fe({mutationFn:z=>K.entities.PortalNavigationItem.delete(z),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),te.success("Navigation item deleted")}}),P=b.useMemo(()=>{const z=w.filter(U=>U.is_active&&U.section==="user").sort((U,B)=>U.display_order-B.display_order);return z.filter(U=>!U.parent_title).map(U=>({...U,subItems:z.filter(B=>B.parent_title===U.title).sort((B,$)=>B.display_order-$.display_order)}))},[w]),C=b.useMemo(()=>{const z=w.filter(U=>U.is_active&&U.section==="admin").sort((U,B)=>U.display_order-B.display_order);return z.filter(U=>!U.parent_title).map(U=>({...U,subItems:z.filter(B=>B.parent_title===U.title).sort((B,$)=>B.display_order-$.display_order)}))},[w]),R=b.useMemo(()=>{let z=w.filter(B=>{var W,q;const $=u===""||B.title.toLowerCase().includes(u.toLowerCase())||((W=B.url)==null?void 0:W.toLowerCase().includes(u.toLowerCase()))||((q=B.feature_id)==null?void 0:q.toLowerCase().includes(u.toLowerCase())),L=m==="all"||B.section===m,I=p==="all"||p==="none"&&!B.parent_title||p!=="none"&&B.parent_title===p;return $&&L&&I});const V=z.filter(B=>!B.parent_title),U=[];return V.sort((B,$)=>{switch(y){case"title":return B.title.localeCompare($.title);case"section":return B.section.localeCompare($.section);case"display_order":default:return B.display_order-$.display_order}}),V.forEach(B=>{U.push({...B,isParent:!0}),z.filter(L=>L.parent_title===B.title).sort((L,I)=>L.display_order-I.display_order).forEach(L=>{U.push({...L,isChild:!0})})}),U},[w,u,m,p,y]),M=b.useMemo(()=>["all","none",...w.filter(V=>!V.parent_title).map(V=>V.title).sort()],[w]),k=z=>{n({...z}),a(!0)},E=()=>{if(!s.title){te.error("Title is required");return}s.id?T.mutate({id:s.id,data:{title:s.title,icon:s.icon}}):_.mutate(s)},O=async z=>{var V,U;if(z.destination&&!(z.source.droppableId===z.destination.droppableId&&z.source.index===z.destination.index)){l(!0);try{const{source:B,destination:$,draggableId:L}=z,I=B.droppableId.split("-")[0],W=B.droppableId.split("-"),q=W.length>1?W[1]:null,Z=$.droppableId.split("-"),J=Z.length>1?Z[1]:null,Q=w.filter(pe=>pe.section===I),G=Q.find(pe=>pe.id===L);if(!G)return;const ae=q&&((V=Q.find(pe=>pe.id===q))==null?void 0:V.title)||null,se=J&&((U=Q.find(pe=>pe.id===J))==null?void 0:U.title)||null,de=G.parent_title||null;if(Q.some(pe=>pe.parent_title===G.title)&&se){const pe=Q.filter(be=>be.parent_title===G.title);for(const be of pe)await K.entities.PortalNavigationItem.update(be.id,{parent_title:""})}const oe=Q.filter(pe=>pe.id!==L&&(se?pe.parent_title===se:!pe.parent_title)).sort((pe,be)=>pe.display_order-be.display_order);oe.splice($.index,0,G);for(let pe=0;pe<oe.length;pe++){const be=oe[pe],je={display_order:pe};be.id===L&&(je.parent_title=se||""),await K.entities.PortalNavigationItem.update(be.id,je)}if(de!==se){const pe=Q.filter(be=>be.id!==L&&(de?be.parent_title===de:!be.parent_title)).sort((be,je)=>be.display_order-je.display_order);for(let be=0;be<pe.length;be++)await K.entities.PortalNavigationItem.update(pe[be].id,{display_order:be})}await j.invalidateQueries({queryKey:["portal-navigation-items"]}),te.success("Navigation updated")}catch(B){te.error("Failed to reorder"),console.error(B)}finally{l(!1)}}},F=(z,V,U,B,$=!1)=>{const L=Yw[z.icon]||El,I=z.subItems&&z.subItems.length>0;return e.jsxs("div",{ref:U.innerRef,...U.draggableProps,children:[e.jsxs("div",{className:`flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-blue-400 transition-colors ${$?"ml-8":""}`,children:[e.jsx("div",{...U.dragHandleProps,children:e.jsx(Uc,{className:"w-5 h-5 text-slate-400 cursor-grab"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(L,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"font-medium text-slate-900",children:z.title}),I&&e.jsxs(ve,{variant:"outline",className:"text-xs bg-blue-50",children:[z.subItems.length," sub-item",z.subItems.length>1?"s":""]})]}),e.jsx("div",{className:"text-sm text-slate-500 truncate",children:z.url||"(Parent menu)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Feature ID: ",z.feature_id]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>k(z),children:e.jsx(Ps,{className:"w-3 h-3"})})]}),!$&&e.jsx(Sc,{droppableId:`${B}-${z.id}`,children:(W,q)=>e.jsxs("div",{ref:W.innerRef,...W.droppableProps,className:`ml-8 mt-2 space-y-2 min-h-[60px] border-l-2 pl-4 transition-colors ${q.isDraggingOver?"border-blue-500 bg-blue-50":"border-slate-200"} ${I?"":"opacity-40"}`,children:[I?z.subItems.map((Z,J)=>e.jsx(_c,{draggableId:Z.id,index:J,children:Q=>F(Z,J,Q,B,!0)},Z.id)):e.jsx("div",{className:"text-center py-4 text-xs text-slate-400",children:"Drop items here to create sub-menu"}),W.placeholder]})})]})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Portal Navigation Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage and reorder portal sidebar menu items"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:o==="hierarchy"?"default":"outline",onClick:()=>c("hierarchy"),className:"gap-2",children:[e.jsx(aG,{className:"w-4 h-4"}),"Hierarchy"]}),e.jsxs(X,{variant:o==="table"?"default":"outline",onClick:()=>c("table"),className:"gap-2",children:[e.jsx(JG,{className:"w-4 h-4"}),"Table"]})]})]}),o==="hierarchy"?e.jsx(le,{className:"border-blue-200 bg-blue-50 mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Drag items to reorder or nest them. Drop items onto parent menus to create sub-items, or drag them to the top level to make them standalone."})})}):e.jsx(le,{className:"mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:u,onChange:z=>d(z.target.value),className:"pl-9"})]}),e.jsxs(He,{value:m,onValueChange:h,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Section"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Sections"}),e.jsx(re,{value:"user",children:"User"}),e.jsx(re,{value:"admin",children:"Admin"})]})]}),e.jsxs(He,{value:p,onValueChange:g,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Parent"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Parents"}),e.jsx(re,{value:"none",children:"Top Level Only"}),M.filter(z=>z!=="all"&&z!=="none").map(z=>e.jsx(re,{value:z,children:z},z))]})]}),e.jsxs(He,{value:y,onValueChange:v,children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Sort by"})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"display_order",children:"Display Order"}),e.jsx(re,{value:"title",children:"Title"}),e.jsx(re,{value:"section",children:"Section"}),e.jsx(re,{value:"parent",children:"Parent"})]})]})]})})}),o==="table"?e.jsx(le,{children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Title"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Icon"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"URL"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Section"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Parent"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Order"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Feature ID"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Active"}),e.jsx("th",{className:"text-right p-3 text-sm font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-12 text-slate-500",children:"No items found"})}):R.map(z=>{const V=Yw[z.icon]||El;return e.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 ${z.isChild?"bg-slate-25":""}`,children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:`flex items-center gap-2 ${z.isChild?"pl-6":""}`,children:[z.isChild&&e.jsx("span",{className:"text-slate-400",children:""}),e.jsx("span",{className:`${z.isParent?"font-semibold":"font-medium"} text-slate-900`,children:z.title})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-xs text-slate-500",children:z.icon})]})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600 truncate max-w-xs block",children:z.url||"-"})}),e.jsx("td",{className:"p-3",children:e.jsx(ve,{variant:z.section==="admin"?"default":"outline",className:"text-xs",children:z.section})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:z.parent_title||"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:z.display_order})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-xs text-slate-500 font-mono",children:z.feature_id})}),e.jsx("td",{className:"p-3",children:z.is_active?e.jsx(ve,{className:"bg-green-100 text-green-700 text-xs",children:"Active"}):e.jsx(ve,{className:"bg-slate-100 text-slate-700 text-xs",children:"Inactive"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>k(z),children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete "${z.title}"?`)&&A.mutate(z.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(is,{className:"w-3 h-3"})})]})})]},z.id)})})]})})})}):e.jsxs(Rf,{onDragEnd:O,children:[i&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-slate-900 font-medium",children:"Updating order..."})]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),"User Navigation"]})}),e.jsx(ce,{className:"p-4",children:e.jsx(Sc,{droppableId:"user",children:z=>e.jsxs("div",{ref:z.innerRef,...z.droppableProps,className:"space-y-3 min-h-[400px]",children:[P.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No user navigation items"}):P.map((V,U)=>e.jsx(_c,{draggableId:V.id,index:U,children:B=>F(V,U,B,"user")},V.id)),z.placeholder]})})})]}),e.jsxs(le,{children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-5 h-5 text-amber-600"}),"Admin Navigation"]})}),e.jsx(ce,{className:"p-4",children:e.jsx(Sc,{droppableId:"admin",children:z=>e.jsxs("div",{ref:z.innerRef,...z.droppableProps,className:"space-y-3 min-h-[400px]",children:[C.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No admin navigation items"}):C.map((V,U)=>e.jsx(_c,{draggableId:V.id,index:U,children:B=>F(V,U,B,"admin")},V.id)),z.placeholder]})})})]})]})]}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:s!=null&&s.id?"Edit Navigation Item":"Create Navigation Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Title *"}),e.jsx(he,{value:s.title,onChange:z=>n({...s,title:z.target.value}),placeholder:"e.g., Browse Events"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Icon *"}),e.jsxs(He,{value:s.icon,onValueChange:z=>n({...s,icon:z}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsx(Ve,{children:Object.keys(Yw).map(z=>e.jsx(re,{value:z,children:z},z))})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:E,disabled:_.isPending||T.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const V2e=[{value:"Articles",label:"Articles"},{value:"Resources",label:"Resources"},{value:"News",label:"News"}];function y9({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState(""),[m,h]=b.useState(null),[p,g]=b.useState(!1),[y,v]=b.useState(""),[j,w]=b.useState(!1),N=Gt(),{data:_,isLoading:T}=me({queryKey:["resource-categories"],queryFn:()=>K.entities.ResourceCategory.list("display_order"),initialData:[]}),A=Fe({mutationFn:L=>K.entities.ResourceCategory.create(L),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),a(!1),n(null),te.success("Category created successfully")},onError:L=>{te.error("Failed to create category: "+L.message)}}),P=Fe({mutationFn:({id:L,categoryData:I})=>K.entities.ResourceCategory.update(L,I),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),a(!1),n(null),te.success("Category updated successfully")},onError:L=>{te.error("Failed to update category: "+L.message)}}),C=Fe({mutationFn:L=>K.entities.ResourceCategory.delete(L),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),l(!1),c(null),te.success("Category deleted successfully")},onError:L=>{te.error("Failed to delete category: "+L.message)}}),R=Fe({mutationFn:async({categoryId:L,oldName:I,newName:W})=>(await Fwe({categoryId:L,oldSubcategoryName:I,newSubcategoryName:W})).data,onSuccess:L=>{N.invalidateQueries({queryKey:["resource-categories"]}),g(!1),h(null),v(""),te.success(L.message||"Subcategory renamed successfully")},onError:L=>{te.error("Failed to rename subcategory: "+L.message)}}),M=()=>{n({name:"",description:"",subcategories:[],display_order:_.length,is_active:!0,applies_to_content_types:["Articles","Resources"]}),a(!0)},k=L=>{n({...L}),a(!0)},E=L=>{c(L),l(!0)},O=()=>{if(!s.name.trim()){te.error("Category name is required");return}const L={name:s.name,description:s.description||"",subcategories:s.subcategories||[],display_order:s.display_order,is_active:s.is_active,applies_to_content_types:s.applies_to_content_types||["Articles","Resources"]};s.id?P.mutate({id:s.id,categoryData:L}):A.mutate(L)},F=()=>{const L=u.trim();if(!L){te.error("Subcategory name cannot be empty");return}const I=s.subcategories||[];if(I.includes(L)){te.error("Subcategory already exists");return}const W=[...I,L].sort((q,Z)=>q.localeCompare(Z,void 0,{sensitivity:"base"}));n({...s,subcategories:W}),d("")},z=L=>{const I=(s.subcategories||[]).filter(W=>W!==L);n({...s,subcategories:I})},V=(L,I)=>{h({category:L,subcategory:I}),v(I),g(!0)},U=()=>{if(!y.trim()||y.trim()===m.subcategory){te.error("Please enter a different name");return}R.mutate({categoryId:m.category.id,oldName:m.subcategory,newName:y.trim()})},B=L=>{const I=s.applies_to_content_types||[],W=I.includes(L)?I.filter(q=>q!==L):[...I,L];n({...s,applies_to_content_types:W})},$=async L=>{if(L.destination&&L.source.index!==L.destination.index){w(!0);try{const I=Array.from(_),[W]=I.splice(L.source.index,1);I.splice(L.destination.index,0,W);const q=I.map((Z,J)=>K.entities.ResourceCategory.update(Z.id,{display_order:J}));await Promise.all(q),await N.invalidateQueries({queryKey:["resource-categories"]}),te.success("Category order updated")}catch(I){te.error("Failed to reorder: "+I.message)}finally{w(!1)}}};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Category Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage categories and subcategories for Theme, Collection, Level, and News Type"})]}),e.jsxs(X,{onClick:M,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create Category"]})]}),T?e.jsx("div",{className:"text-center py-12",children:"Loading categories..."}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ec,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Categories Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first category to organize your content"}),e.jsxs(X,{onClick:M,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Category"]})]})}):e.jsxs(e.Fragment,{children:[j&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-slate-900 font-medium",children:"Updating order..."})]})})}),e.jsx(Rf,{onDragEnd:$,children:e.jsx(Sc,{droppableId:"categories",children:L=>e.jsxs("div",{ref:L.innerRef,...L.droppableProps,className:"space-y-4",children:[_.map((I,W)=>e.jsx(_c,{draggableId:I.id,index:W,children:(q,Z)=>e.jsx("div",{ref:q.innerRef,...q.draggableProps,children:e.jsxs(le,{className:`border-slate-200 shadow-sm hover:shadow-md transition-shadow ${Z.isDragging?"shadow-lg ring-2 ring-blue-400":""}`,children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{...q.dragHandleProps,className:"pt-1",children:e.jsx(Uc,{className:"w-5 h-5 text-slate-400 cursor-grab active:cursor-grabbing"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ec,{className:"w-5 h-5 text-blue-600"}),e.jsx($e,{className:"text-lg",children:I.name})]}),I.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:I.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(I.applies_to_content_types||[]).map(J=>e.jsx(ve,{className:"bg-purple-100 text-purple-700 text-xs",children:J},J))})]})]})}),e.jsxs(ce,{className:"pt-4",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"text-xs font-medium text-slate-500 uppercase",children:["Subcategories (",(I.subcategories||[]).length,")"]})}),(I.subcategories||[]).length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No subcategories yet"}):e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:I.subcategories.map(J=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg text-sm group",children:[e.jsx("span",{className:"text-slate-700",children:J}),e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>V(I,J),className:"opacity-0 group-hover:opacity-100 transition-opacity h-7 text-xs",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Rename"]})]},J))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(I),className:"flex-1",children:[e.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>E(I),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-3 h-3"})})]})]})]})})},I.id)),L.placeholder]})})})]}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:s!=null&&s.id?"Edit Category":"Create New Category"})}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"category-name",children:"Category Name *"}),e.jsx(he,{id:"category-name",value:s.name,onChange:L=>n({...s,name:L.target.value}),placeholder:"e.g., Theme, Collection, Level"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"category-description",children:"Description"}),e.jsx(Ht,{id:"category-description",value:s.description||"",onChange:L=>n({...s,description:L.target.value}),placeholder:"Optional description...",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Applies To Content Types"}),e.jsx("div",{className:"flex flex-wrap gap-3 p-3 bg-slate-50 rounded-lg",children:V2e.map(L=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(s.applies_to_content_types||[]).includes(L.value),onChange:()=>B(L.value),className:"rounded border-slate-300"}),e.jsx("span",{className:"text-sm text-slate-700",children:L.label})]},L.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{children:"Subcategories"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add subcategory...",value:u,onChange:L=>d(L.target.value),onKeyPress:L=>{L.key==="Enter"&&(L.preventDefault(),F())}}),e.jsx(X,{type:"button",onClick:F,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Et,{className:"w-4 h-4"})})]}),(s.subcategories||[]).length>0&&e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-slate-200 rounded-lg p-3",children:s.subcategories.map(L=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[e.jsx("span",{className:"text-sm text-slate-700",children:L}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>z(L),className:"text-red-600 hover:text-red-700 h-7",children:e.jsx(is,{className:"w-3 h-3"})})]},L))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"display-order",children:"Display Order"}),e.jsx(he,{id:"display-order",type:"number",value:s.display_order,onChange:L=>n({...s,display_order:parseInt(L.target.value)||0})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),n(null),d("")},children:"Cancel"}),e.jsx(X,{onClick:O,disabled:A.isPending||P.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Category"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',o==null?void 0:o.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This will remove the category and may affect content that uses it."})]})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),c(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>o&&C.mutate(o.id),disabled:C.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(St,{open:p,onOpenChange:g,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Rename Subcategory"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-900",children:"This will update the subcategory name across all resources and articles that use it."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"rename-value",children:"New Name"}),e.jsx(he,{id:"rename-value",value:y,onChange:L=>v(L.target.value),placeholder:"Enter new subcategory name...",onKeyPress:L=>{L.key==="Enter"&&(L.preventDefault(),U())}})]}),m&&e.jsxs("div",{className:"text-sm text-slate-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Category:"})," ",m.category.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Current name:"})," ",m.subcategory]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{g(!1),h(null),v("")},children:"Cancel"}),e.jsx(X,{onClick:U,disabled:R.isPending,className:"bg-blue-600 hover:bg-blue-700",children:R.isPending?"Renaming...":"Rename"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function b9({isAdmin:t}){var ds;const[s,n]=b.useState(!1),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(null),[p,g]=b.useState(null),[y,v]=b.useState(""),[j,w]=b.useState(""),[N,_]=b.useState(!1),[T,A]=b.useState(""),[P,C]=b.useState([]),[R,M]=b.useState(!1),[k,E]=b.useState("add"),[O,F]=b.useState(""),[z,V]=b.useState(""),[U,B]=b.useState(1),[$]=b.useState(12),[L,I]=b.useState("name-asc"),[W,q]=b.useState({name:"",description:"",roles:[],is_active:!0}),[Z,J]=b.useState({member_id:"",guest_id:"",group_role:"",expires_at:null}),[Q,G]=b.useState(""),ae=Gt(),{data:se,isLoading:de}=me({queryKey:["member-groups"],queryFn:()=>K.entities.MemberGroup.list("-updated_date"),initialData:[]}),{data:ue,isLoading:oe}=me({queryKey:["members-list"],queryFn:()=>K.entities.Member.list("first_name"),initialData:[]}),{data:pe,isLoading:be}=me({queryKey:["member-group-assignments"],queryFn:()=>K.entities.MemberGroupAssignment.list(),initialData:[]}),{data:je,isLoading:Be}=me({queryKey:["member-group-guests"],queryFn:()=>K.entities.MemberGroupGuest.list(),initialData:[]}),qe=Fe({mutationFn:we=>K.entities.MemberGroup.create(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),n(!1),Me(),te.success("Group created successfully")},onError:we=>{te.error("Failed to create group: "+we.message)}}),ke=Fe({mutationFn:({id:we,data:ut})=>K.entities.MemberGroup.update(we,ut),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),n(!1),Me(),te.success("Group updated successfully")},onError:we=>{te.error("Failed to update group: "+we.message)}}),Se=Fe({mutationFn:async we=>{const ut=pe.filter(Pe=>Pe.group_id===we);for(const Pe of ut)await K.entities.MemberGroupAssignment.delete(Pe.id);await K.entities.MemberGroup.delete(we)},onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),ae.invalidateQueries({queryKey:["member-group-assignments"]}),l(!1),g(null),te.success("Group deleted successfully")},onError:we=>{te.error("Failed to delete group: "+we.message)}}),Ge=Fe({mutationFn:we=>K.entities.MemberGroupAssignment.create(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-group-assignments"]}),a(!1),J({member_id:"",guest_id:"",group_role:"",expires_at:null}),te.success("Member assigned successfully")},onError:we=>{te.error("Failed to assign member: "+we.message)}}),Ke=Fe({mutationFn:we=>K.entities.MemberGroupAssignment.delete(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-group-assignments"]}),te.success("Member removed from group")},onError:we=>{te.error("Failed to remove member: "+we.message)}}),Me=()=>{q({name:"",description:"",roles:[],is_active:!0}),d(null)},it=we=>{d(we),q({name:we.name,description:we.description||"",roles:we.roles||[],is_active:we.is_active}),n(!0)},_e=we=>{d(null),q({name:`${we.name} (Copy)`,description:we.description||"",roles:[...we.roles||[]],is_active:we.is_active}),n(!0)},at=()=>{if(!j.trim()){te.error("Please enter group names");return}const ut=j.split(`
`).filter(Pe=>Pe.trim()).map(Pe=>({name:Pe.trim(),description:"",roles:[],is_active:!0}));Promise.all(ut.map(Pe=>K.entities.MemberGroup.create(Pe))).then(()=>{ae.invalidateQueries({queryKey:["member-groups"]}),c(!1),w(""),te.success(`Created ${ut.length} groups successfully`)}).catch(Pe=>{te.error("Failed to create groups: "+Pe.message)})},Ne=()=>{if(!W.name.trim()){te.error("Group name is required");return}u?ke.mutate({id:u.id,data:W}):qe.mutate(W)},ze=()=>{if(y.trim()){if(W.roles.includes(y.trim())){te.error("Role already exists");return}q({...W,roles:[...W.roles,y.trim()]}),v("")}},nt=()=>{if(!T.trim()){te.error("Please enter role names");return}const ut=T.split(`
`).filter(yt=>yt.trim()).map(yt=>yt.trim()),Pe=W.roles||[],Ze=ut.filter(yt=>!Pe.includes(yt));if(Ze.length===0){te.error("All roles already exist");return}q({...W,roles:[...Pe,...Ze]}),A(""),_(!1),te.success(`Added ${Ze.length} role(s)`)},dt=we=>{q({...W,roles:W.roles.filter(ut=>ut!==we)})},lt=()=>{if(!Z.member_id&&!Z.guest_id||!Z.group_role){te.error("Please select a member/guest and role");return}if(pe.find(Pe=>Pe.group_id!==m.id?!1:!!(Z.member_id&&Pe.member_id===Z.member_id||Z.guest_id&&Pe.guest_id===Z.guest_id))){te.error("This person is already assigned to this group");return}const ut={group_role:Z.group_role,group_id:m.id};Z.member_id?ut.member_id=Z.member_id:Z.guest_id&&(ut.guest_id=Z.guest_id),Z.expires_at&&(ut.expires_at=At(Z.expires_at,"yyyy-MM-dd")),Ge.mutate(ut)},Ot=we=>pe.filter(ut=>ut.group_id===we),Xt=we=>{const ut=ue.find(Pe=>Pe.id===we);return ut?`${ut.first_name} ${ut.last_name}`:"Unknown"},Ls=we=>{const ut=je.find(Pe=>Pe.id===we);return ut?`${ut.first_name} ${ut.last_name}`:"Unknown Guest"},Ns=we=>we.member_id?Xt(we.member_id):we.guest_id?Ls(we.guest_id):"Unknown",ln=we=>!!we.guest_id,Yt=Ie.useMemo(()=>{let we=se.filter(ut=>z===""||ut.name.toLowerCase().includes(z.toLowerCase())||ut.description&&ut.description.toLowerCase().includes(z.toLowerCase()));return we.sort((ut,Pe)=>{switch(L){case"name-asc":return ut.name.localeCompare(Pe.name);case"name-desc":return Pe.name.localeCompare(ut.name);case"members-asc":{const Ze=Ot(ut.id).length,yt=Ot(Pe.id).length;return Ze-yt}case"members-desc":{const Ze=Ot(ut.id).length;return Ot(Pe.id).length-Ze}default:return 0}}),we},[se,z,L,pe]),fn=Math.ceil(Yt.length/$),As=Yt.slice((U-1)*$,U*$);Ie.useEffect(()=>{B(1)},[z,L]);const vr=we=>{C(ut=>ut.includes(we)?ut.filter(Pe=>Pe!==we):[...ut,we])},Vn=()=>{P.length===se.length?C([]):C(se.map(we=>we.id))},Qe=Fe({mutationFn:async({groupIds:we,action:ut,role:Pe})=>{const Ze=[];for(const yt of we){const ns=se.find(Ys=>Ys.id===yt);if(!ns)continue;let os=[...ns.roles||[]];ut==="add"?os.includes(Pe)||os.push(Pe):ut==="remove"&&(os=os.filter(Ys=>Ys!==Pe)),Ze.push(K.entities.MemberGroup.update(yt,{roles:os}))}await Promise.all(Ze)},onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),M(!1),F(""),C([]),te.success("Groups updated successfully")},onError:we=>{te.error("Failed to update groups: "+we.message)}}),bt=()=>{if(!O.trim()){te.error("Please enter a role name");return}if(P.length===0){te.error("Please select at least one group");return}Qe.mutate({groupIds:P,action:k,role:O.trim()})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Member Groups"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage member groups with roles"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:()=>c(!0),variant:"outline",children:[e.jsx(W4,{className:"w-4 h-4 mr-2"}),"Bulk Create"]}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"New Group"]})]})]}),se.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"bg-blue-50 border-blue-200 mb-4",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:Vn,className:"bg-white",children:[e.jsx(HG,{className:"w-4 h-4 mr-2"}),P.length===se.length?"Deselect All":"Select All"]}),P.length>0&&e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[P.length," group",P.length!==1?"s":""," selected"]})]}),P.length>0&&e.jsxs(X,{onClick:()=>M(!0),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Bulk Edit Roles"]})]})})}),e.jsx(le,{className:"mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(he,{placeholder:"Search groups...",value:z,onChange:we=>V(we.target.value),className:"w-full"})}),e.jsx("div",{className:"w-full md:w-64",children:e.jsxs(He,{value:L,onValueChange:I,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name-desc",children:"Name (Z-A)"}),e.jsx(re,{value:"members-desc",children:"Most Members"}),e.jsx(re,{value:"members-asc",children:"Least Members"})]})]})})]}),Yt.length>0&&e.jsxs("p",{className:"text-sm text-slate-600 mt-3",children:["Showing ",Yt.length," of ",se.length," group",se.length!==1?"s":""]})]})})]})]}),de||oe||be||Be?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((we,ut)=>e.jsx(le,{className:"animate-pulse",children:e.jsxs(Re,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},ut))}):se.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Groups Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first member group to get started"}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Create First Group"]})]})}):Yt.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Groups Found"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"No groups match your search criteria"}),e.jsx(X,{variant:"outline",onClick:()=>V(""),children:"Clear Search"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:As.map(we=>{var Ze;const ut=Ot(we.id),Pe=P.includes(we.id);return e.jsxs(le,{className:`hover:shadow-lg transition-shadow ${Pe?"ring-2 ring-blue-500":""}`,children:[e.jsxs(Re,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",checked:Pe,onChange:()=>vr(we.id),className:"w-4 h-4 cursor-pointer"}),e.jsxs("div",{className:"flex items-start justify-between flex-1",children:[e.jsx($e,{className:"text-lg",children:we.name}),!we.is_active&&e.jsx(ve,{className:"bg-slate-200 text-slate-700",children:"Inactive"})]})]}),we.description&&e.jsx("p",{className:"text-sm text-slate-600",children:we.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Roles:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((Ze=we.roles)==null?void 0:Ze.length)>0?we.roles.map((yt,ns)=>e.jsx(ve,{className:"bg-blue-100 text-blue-700 text-xs",children:yt},ns)):e.jsx("span",{className:"text-xs text-slate-500",children:"No roles defined"})})]}),e.jsx("div",{children:e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Members: ",ut.length]})}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{h(we),a(!0)},className:"flex-1",children:[e.jsx(Pc,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>_e(we),title:"Duplicate",children:e.jsx(La,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>it(we),children:e.jsx(Ps,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{g(we),l(!0)},className:"text-red-600 hover:text-red-700",children:e.jsx(is,{className:"w-3 h-3"})})]}),ut.length>0&&e.jsx("div",{className:"pt-2 border-t border-slate-200",children:e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ut.map(yt=>e.jsxs("div",{className:"flex items-center justify-between text-xs bg-slate-50 p-2 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-1",children:[Ns(yt),ln(yt)&&e.jsx(ve,{className:"bg-purple-100 text-purple-700 text-[10px] px-1",children:"Guest"})]}),e.jsx("div",{className:"text-slate-500",children:yt.group_role}),yt.expires_at&&e.jsxs("div",{className:"text-slate-400 flex items-center gap-1",children:[e.jsx(js,{className:"w-3 h-3"}),"Expires: ",At(new Date(yt.expires_at),"dd MMM yyyy")]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Ke.mutate(yt.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ws,{className:"w-3 h-3"})})]},yt.id))})})]})]},we.id)})}),fn>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>B(we=>Math.max(1,we-1)),disabled:U===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:fn},(we,ut)=>ut+1).map(we=>e.jsx(X,{variant:U===we?"default":"outline",size:"sm",onClick:()=>B(we),className:U===we?"bg-blue-600 hover:bg-blue-700":"",children:we},we))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>B(we=>Math.min(fn,we+1)),disabled:U===fn,children:"Next"})]})})]}),e.jsx(St,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-lg",children:[e.jsx(Ct,{children:e.jsx(kt,{children:u?"Edit Group":"Create New Group"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"name",children:"Group Name *"}),e.jsx(he,{id:"name",value:W.name,onChange:we=>q({...W,name:we.target.value}),placeholder:"e.g., Board of Directors"})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"description",children:"Description"}),e.jsx(Ht,{id:"description",value:W.description,onChange:we=>q({...W,description:we.target.value}),placeholder:"Description of this group...",rows:3})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ee,{children:"Roles within Group"}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>_(!N),type:"button",children:[e.jsx(W4,{className:"w-3 h-3 mr-1"}),"Bulk Add"]})]}),N?e.jsxs("div",{className:"space-y-2 mb-2 p-3 bg-slate-50 rounded-lg",children:[e.jsx(Ht,{value:T,onChange:we=>A(we.target.value),placeholder:`Chair
Vice Chair
Secretary
Treasurer
Member`,rows:5}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{onClick:nt,type:"button",size:"sm",className:"flex-1",children:"Add Roles"}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{_(!1),A("")},type:"button",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(he,{value:y,onChange:we=>v(we.target.value),onKeyPress:we=>we.key==="Enter"&&ze(),placeholder:"e.g., Chair, Vice Chair, Member"}),e.jsx(X,{onClick:ze,type:"button",children:e.jsx(Et,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:W.roles.map((we,ut)=>e.jsxs(ve,{className:"bg-blue-100 text-blue-700",children:[we,e.jsx("button",{onClick:()=>dt(we),className:"ml-2 hover:text-red-600",children:e.jsx(ws,{className:"w-3 h-3"})})]},ut))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:W.is_active,onChange:we=>q({...W,is_active:we.target.checked}),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"is_active",className:"cursor-pointer",children:"Active"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>{n(!1),Me()},children:"Cancel"}),e.jsxs(X,{onClick:Ne,disabled:qe.isPending||ke.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[u?"Update":"Create"," Group"]})]})]})}),e.jsx(St,{open:r,onOpenChange:we=>{a(we),we||G("")},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsxs(kt,{children:["Assign Member to ",m==null?void 0:m.name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"member-search",children:"Search & Select Member or Guest *"}),e.jsx(he,{id:"member-search",value:Q,onChange:we=>G(we.target.value),placeholder:"Search by name or email...",className:"mb-2"}),e.jsxs("div",{className:"border border-slate-200 rounded-md max-h-48 overflow-y-auto",children:[ue.filter(we=>{var Pe,Ze,yt;const ut=Q.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ut))||((Ze=we.last_name)==null?void 0:Ze.toLowerCase().includes(ut))||((yt=we.email)==null?void 0:yt.toLowerCase().includes(ut))}).map(we=>e.jsxs("button",{type:"button",onClick:()=>J({...Z,member_id:we.id,guest_id:""}),className:`w-full text-left px-3 py-2 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${Z.member_id===we.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[we.first_name," ",we.last_name]}),e.jsx("div",{className:"text-xs text-slate-500",children:we.email})]},`member-${we.id}`)),je.filter(we=>{var Pe,Ze,yt,ns;if(we.is_active===!1)return!1;const ut=Q.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ut))||((Ze=we.last_name)==null?void 0:Ze.toLowerCase().includes(ut))||((yt=we.email)==null?void 0:yt.toLowerCase().includes(ut))||((ns=we.organisation)==null?void 0:ns.toLowerCase().includes(ut))}).map(we=>e.jsxs("button",{type:"button",onClick:()=>J({...Z,guest_id:we.id,member_id:""}),className:`w-full text-left px-3 py-2 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${Z.guest_id===we.id?"bg-purple-50 border-l-4 border-l-purple-600":""}`,children:[e.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-2",children:[we.first_name," ",we.last_name,e.jsx(ve,{className:"bg-purple-100 text-purple-700 text-[10px]",children:"Guest"})]}),e.jsx("div",{className:"text-xs text-slate-500",children:we.email}),we.organisation&&e.jsx("div",{className:"text-xs text-slate-400",children:we.organisation})]},`guest-${we.id}`)),ue.filter(we=>{var Pe,Ze,yt;const ut=Q.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ut))||((Ze=we.last_name)==null?void 0:Ze.toLowerCase().includes(ut))||((yt=we.email)==null?void 0:yt.toLowerCase().includes(ut))}).length===0&&je.filter(we=>{var Pe,Ze,yt,ns;if(we.is_active===!1)return!1;const ut=Q.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ut))||((Ze=we.last_name)==null?void 0:Ze.toLowerCase().includes(ut))||((yt=we.email)==null?void 0:yt.toLowerCase().includes(ut))||((ns=we.organisation)==null?void 0:ns.toLowerCase().includes(ut))}).length===0&&e.jsx("div",{className:"px-3 py-4 text-center text-sm text-slate-500",children:"No members or guests found"})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"role",children:"Select Role *"}),e.jsxs(He,{value:Z.group_role,onValueChange:we=>J({...Z,group_role:we}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"Choose a role..."})}),e.jsx(Ve,{children:(ds=m==null?void 0:m.roles)==null?void 0:ds.map((we,ut)=>e.jsx(re,{value:we,children:we},ut))})]})]}),e.jsxs("div",{children:[e.jsx(ee,{children:"Expiry Date (Optional)"}),e.jsxs(aI,{children:[e.jsx(iI,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(js,{className:"mr-2 h-4 w-4"}),Z.expires_at?At(Z.expires_at,"PPP"):"No expiry date"]})}),e.jsxs(C2,{className:"w-auto p-0",align:"start",children:[e.jsx(O2,{mode:"single",selected:Z.expires_at,onSelect:we=>J({...Z,expires_at:we}),initialFocus:!0}),Z.expires_at&&e.jsx("div",{className:"p-2 border-t",children:e.jsx(X,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>J({...Z,expires_at:null}),children:"Clear date"})})]})]})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:lt,disabled:Ge.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Assign Member"})]})]})}),e.jsx(St,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Bulk Create Groups"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bulk-text",children:"Group Names (one per line)"}),e.jsx(Ht,{id:"bulk-text",value:j,onChange:we=>w(we.target.value),placeholder:`Board of Directors
Finance Committee
Audit Committee
Nominations Committee`,rows:10}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter one group name per line. Roles can be added later."})]})}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{onClick:at,className:"bg-blue-600 hover:bg-blue-700",children:"Create Groups"})]})]})}),e.jsx(St,{open:R,onOpenChange:M,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsxs(kt,{children:["Bulk Edit Roles for ",P.length," Group",P.length!==1?"s":""]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ee,{children:"Action"}),e.jsxs(He,{value:k,onValueChange:E,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"add",children:"Add Role"}),e.jsx(re,{value:"remove",children:"Remove Role"})]})]})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"bulk-role",children:"Role Name *"}),e.jsx(he,{id:"bulk-role",value:O,onChange:we=>F(we.target.value),placeholder:"e.g., Chair, Member, etc."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:k==="add"?"This role will be added to all selected groups (if not already present)":"This role will be removed from all selected groups (if present)"})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Selected Groups:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:P.map(we=>{const ut=se.find(Pe=>Pe.id===we);return e.jsxs("div",{className:"text-xs text-slate-600 flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:ut==null?void 0:ut.name})]},we)})})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),e.jsxs(X,{onClick:bt,disabled:Qe.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[k==="add"?"Add":"Remove"," Role"]})]})]})}),e.jsx(St,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Group"})}),e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:p==null?void 0:p.name}),"? This will also remove all member assignments to this group. This action cannot be undone."]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>Se.mutate(p.id),disabled:Se.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Group"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function j9({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),a=Gt(),{data:i,isLoading:l}=me({queryKey:["article-display-name-setting"],queryFn:async()=>(await K.entities.SystemSettings.list()).find(m=>m.setting_key==="article_display_name"),staleTime:0});Ie.useEffect(()=>{r(i&&i.setting_value||"Articles")},[i]);const o=Fe({mutationFn:async u=>{i?await K.entities.SystemSettings.update(i.id,{setting_value:u}):await K.entities.SystemSettings.create({setting_key:"article_display_name",setting_value:u,setting_type:"text",description:"Custom display name for articles section"})},onSuccess:()=>{a.invalidateQueries({queryKey:["article-display-name-setting"]}),te.success("Display name updated successfully")},onError:u=>{te.error("Failed to update setting: "+u.message)}}),c=()=>{if(!n.trim()){te.error("Display name cannot be empty");return}o.mutate(n.trim())};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Articles Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure how articles appear throughout the portal"})]}),l?e.jsx(le,{children:e.jsx(ce,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-slate-300 border-t-blue-600 rounded-full animate-spin"})})})}):e.jsxs(le,{children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5"}),"Display Name"]})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"display-name",children:"Section Display Name"}),e.jsx(he,{id:"display-name",value:n,onChange:u=>r(u.target.value),placeholder:"e.g., Articles, Blog, Letters, Insights",className:"max-w-md"}),e.jsx("p",{className:"text-sm text-slate-500",children:'Customize how this section is labeled throughout the portal. For example, change "Articles" to "Blog", "Letters", or anything else.'})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Preview"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:[' Page title: "',n||"Articles",' & Insights"']}),e.jsxs("li",{children:[' Management page: "All ',n||"Articles",'"']}),e.jsxs("li",{children:[' Buttons: "New ',(n==null?void 0:n.slice(0,-1))||"Article",'"']})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{onClick:c,disabled:o.isPending||!n.trim(),className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?"Saving...":"Save Changes"}),e.jsx(X,{variant:"outline",onClick:()=>r((i==null?void 0:i.setting_value)||"Articles"),disabled:o.isPending,children:"Reset"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function w9({isAdmin:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState(!1),[m,h]=b.useState({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0}),p=Gt(),{data:g=[],isLoading:y}=me({queryKey:["guest-writers"],queryFn:async()=>await K.entities.GuestWriter.list("-created_date")}),v=Fe({mutationFn:async C=>r?await K.entities.GuestWriter.update(r.id,C):await K.entities.GuestWriter.create(C),onSuccess:()=>{p.invalidateQueries({queryKey:["guest-writers"]}),te.success(r?"Guest writer updated":"Guest writer created"),N()},onError:C=>{te.error("Failed to save guest writer: "+C.message)}}),j=Fe({mutationFn:async C=>{await K.entities.GuestWriter.delete(C)},onSuccess:()=>{p.invalidateQueries({queryKey:["guest-writers"]}),te.success("Guest writer deleted"),l(!1),c(null)},onError:C=>{te.error("Failed to delete guest writer: "+C.message)}}),w=(C=null)=>{C?(a(C),h({full_name:C.full_name||"",email:C.email||"",organization:C.organization||"",job_title:C.job_title||"",biography:C.biography||"",profile_photo_url:C.profile_photo_url||"",is_active:C.is_active!==!1})):(a(null),h({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0})),n(!0)},N=()=>{n(!1),a(null),h({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0})},_=()=>{if(!m.full_name.trim()||!m.email.trim()){te.error("Name and email are required");return}v.mutate(m)},T=C=>{c(C),l(!0)},A=()=>{o&&j.mutate(o.id)},P=async C=>{var k;const R=(k=C.target.files)==null?void 0:k[0];if(!R)return;if(!R.type.startsWith("image/")){te.error("Please upload an image file");return}if(R.size>5*1024*1024){te.error("Image must be less than 5MB");return}d(!0);const M=await K.integrations.Core.UploadFile({file:R});h({...m,profile_photo_url:M.file_url}),d(!1),te.success("Photo uploaded")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Guest Writers"}),e.jsx("p",{className:"text-slate-600",children:"Manage guest writer profiles for article attribution"})]}),e.jsxs(X,{onClick:()=>w(),className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add Guest Writer"]})]}),y?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-20 bg-slate-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"})]})},R))}):g.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Js,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No guest writers yet"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Create guest writer profiles to attribute articles to external contributors"}),e.jsxs(X,{onClick:()=>w(),className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add First Guest Writer"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(C=>e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[C.profile_photo_url?e.jsx("img",{src:C.profile_photo_url,alt:C.full_name,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(Js,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:C.full_name}),!C.is_active&&e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full",children:"Inactive"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[C.job_title&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(kn,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.job_title})]}),C.organization&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ro,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.organization})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ts,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.email})]})]}),C.biography&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 mb-4",children:C.biography}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(C),className:"flex-1 gap-2",children:[e.jsx(ci,{className:"w-4 h-4"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>T(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(is,{className:"w-4 h-4"})})]})]})},C.id))}),e.jsx(St,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(kt,{children:r?"Edit Guest Writer":"Add Guest Writer"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[m.profile_photo_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200"}),e.jsx("button",{type:"button",onClick:()=>h({...m,profile_photo_url:""}),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:e.jsx(ws,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Js,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:P,className:"hidden",disabled:u}),e.jsx(ee,{htmlFor:"photo-upload",children:e.jsx(X,{type:"button",variant:"outline",size:"sm",disabled:u,className:"gap-2 cursor-pointer",onClick:()=>document.getElementById("photo-upload").click(),children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"w-4 h-4"}),"Upload Photo"]})})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"full_name",children:"Full Name *"}),e.jsx(he,{id:"full_name",value:m.full_name,onChange:C=>h({...m,full_name:C.target.value}),placeholder:"John Smith"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:m.email,onChange:C=>h({...m,email:C.target.value}),placeholder:"john.smith@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:m.job_title,onChange:C=>h({...m,job_title:C.target.value}),placeholder:"Senior Consultant"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"organization",children:"Organization"}),e.jsx(he,{id:"organization",value:m.organization,onChange:C=>h({...m,organization:C.target.value}),placeholder:"Example University"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"biography",children:"Biography"}),e.jsx(Ht,{id:"biography",value:m.biography,onChange:C=>h({...m,biography:C.target.value}),placeholder:"Professional background and expertise...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:C=>h({...m,is_active:C.target.checked}),className:"w-4 h-4"}),e.jsx(ee,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (available for article attribution)"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:N,children:"Cancel"}),e.jsx(X,{onClick:_,disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:v.isPending?"Saving...":"Save"})]})]})}),e.jsx(yl,{open:i,onOpenChange:l,children:e.jsxs(Di,{children:[e.jsxs(Oi,{children:[e.jsx(Fi,{children:"Delete Guest Writer"}),e.jsxs(Li,{children:["Are you sure you want to delete ",o==null?void 0:o.full_name,"? This action cannot be undone. Articles attributed to this guest writer will need to be reassigned."]})]}),e.jsxs(Ri,{children:[e.jsx(Bi,{children:"Cancel"}),e.jsx(Ii,{onClick:A,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 bg-amber-50",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-amber-800",children:"You do not have permission to access this page."})})})})})}function N9({isAdmin:t}){const s=Gt(),[n,r]=b.useState(!0),[a,i]=b.useState(!0),[l,o]=b.useState(!0),[c,u]=b.useState([]),[d,m]=b.useState(""),{data:h=[]}=me({queryKey:["all-organizations"],queryFn:()=>K.entities.Organization.list("name")}),{data:p}=me({queryKey:["organisation-directory-settings"],queryFn:async()=>{const j=await K.entities.SystemSettings.list(),w=j.find(A=>A.setting_key==="org_directory_show_logo"),N=j.find(A=>A.setting_key==="org_directory_show_domains"),_=j.find(A=>A.setting_key==="org_directory_show_member_count"),T=j.find(A=>A.setting_key==="org_directory_excluded_orgs");return{logo:w,domains:N,memberCount:_,excludedOrgs:T}},refetchOnMount:!0});b.useEffect(()=>{if(p!=null&&p.logo&&r(p.logo.setting_value==="true"),p!=null&&p.domains&&i(p.domains.setting_value==="true"),p!=null&&p.memberCount&&o(p.memberCount.setting_value==="true"),p!=null&&p.excludedOrgs)try{const j=JSON.parse(p.excludedOrgs.setting_value);u(Array.isArray(j)?j:[])}catch{u([])}},[p]);const g=Fe({mutationFn:async()=>{p!=null&&p.logo?await K.entities.SystemSettings.update(p.logo.id,{setting_value:n.toString()}):await K.entities.SystemSettings.create({setting_key:"org_directory_show_logo",setting_value:n.toString(),description:"Show organization logo on directory cards"}),p!=null&&p.domains?await K.entities.SystemSettings.update(p.domains.id,{setting_value:a.toString()}):await K.entities.SystemSettings.create({setting_key:"org_directory_show_domains",setting_value:a.toString(),description:"Show organization domains on directory cards"}),p!=null&&p.memberCount?await K.entities.SystemSettings.update(p.memberCount.id,{setting_value:l.toString()}):await K.entities.SystemSettings.create({setting_key:"org_directory_show_member_count",setting_value:l.toString(),description:"Show member count on directory cards"}),p!=null&&p.excludedOrgs?await K.entities.SystemSettings.update(p.excludedOrgs.id,{setting_value:JSON.stringify(c)}):await K.entities.SystemSettings.create({setting_key:"org_directory_excluded_orgs",setting_value:JSON.stringify(c),description:"List of organization IDs excluded from the directory"})},onSuccess:()=>{s.invalidateQueries({queryKey:["organisation-directory-settings"]}),te.success("Settings saved successfully")},onError:j=>{te.error("Failed to save settings: "+j.message)}}),y=j=>{u(w=>w.includes(j)?w.filter(N=>N!==j):[...w,j])},v=h.filter(j=>j.name.toLowerCase().includes(d.toLowerCase()));return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center gap-3",children:[e.jsx(Ua,{className:"w-8 h-8"}),"Organisation Directory Settings"]}),e.jsx("p",{className:"text-slate-600",children:"Configure what information is displayed on organisation directory cards"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Re,{children:e.jsx($e,{children:"Display Settings"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"showLogo",className:"text-base font-medium cursor-pointer",children:"Show Organization Logo"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display organization logos on directory cards"})]}),e.jsx("input",{type:"checkbox",id:"showLogo",checked:n,onChange:j=>r(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"showDomains",className:"text-base font-medium cursor-pointer",children:"Show Domains"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display organization domains on directory cards"})]}),e.jsx("input",{type:"checkbox",id:"showDomains",checked:a,onChange:j=>i(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"showMemberCount",className:"text-base font-medium cursor-pointer",children:"Show Member Count"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display the number of members from each organization"})]}),e.jsx("input",{type:"checkbox",id:"showMemberCount",checked:l,onChange:j=>o(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(X,{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),g.isPending?"Saving...":"Save Settings"]})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mt-6",children:[e.jsxs(Re,{children:[e.jsx($e,{className:"text-2xl font-semibold leading-none tracking-tight",children:"Exclude Organisations"}),e.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Hide specific organisations from appearing in the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search organisations...",value:d,onChange:j=>m(j.target.value),className:"pl-10"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border border-slate-200 rounded-lg p-4",children:v.length===0?e.jsx("p",{className:"text-center text-slate-500 py-4",children:"No organizations found"}):v.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ro,{className:"w-5 h-5 text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:j.name}),j.domain&&e.jsx("p",{className:"text-xs text-slate-500",children:j.domain})]})]}),e.jsx("input",{type:"checkbox",checked:!c.includes(j.id),onChange:()=>y(j.id),className:"w-5 h-5 cursor-pointer",title:c.includes(j.id)?"Click to include":"Click to exclude"})]},j.id))}),c.length>0&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[c.length," organization",c.length!==1?"s":""," excluded from directory"]})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(X,{onClick:()=>g.mutate(),disabled:g.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),g.isPending?"Saving...":"Save Settings"]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 bg-amber-50",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-amber-800",children:"You do not have permission to access this page."})})})})})}function _9({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({}),[a,i]=b.useState({});if(b.useEffect(()=>{"fonts"in document&&(document.fonts.load('500 16px "Degular Medium"').then(()=>{const o=document.fonts.check('500 16px "Degular Medium"');r({degular:o})}).catch(o=>{r({degular:!1,error:o.message})}),document.fonts.addEventListener("loadingdone",o=>{const c=Array.from(document.fonts.values()),u=c.find(d=>d.family==="Degular Medium");i({totalFonts:c.length,degularFound:!!u,degularStatus:u==null?void 0:u.status,allFontFamilies:c.map(d=>d.family)})})),fetch("https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff",{mode:"cors"}).then(o=>{i(c=>({...c,fetchStatus:o.ok?"success":"failed",fetchStatusCode:o.status,corsHeaders:o.headers.get("Access-Control-Allow-Origin")}))}).catch(o=>{i(c=>({...c,fetchStatus:"error",fetchError:o.message}))})},[]),!t||s!=null&&s("page_InstalledFonts"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx(Zx,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const l=[{name:"Poppins",family:"Poppins, sans-serif",source:"Google Fonts",weights:["400 (Regular)","600 (Semibold)"],usage:"Body text, general UI elements"},{name:"Degular Medium",family:"'Degular Medium', 'Poppins', sans-serif",source:"https://teeone.pythonanywhere.com/font-assets",weights:["500 (Medium)"],usage:"H1 headers"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Zx,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Installed Fonts"})]}),e.jsx("p",{className:"text-slate-600",children:"View all fonts currently installed and available in the application"})]}),e.jsxs(le,{className:"border-amber-200 bg-amber-50 mb-6",children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-center gap-2 text-lg",children:[e.jsx(ps,{className:"w-5 h-5 text-amber-600"}),"Font Loading Debug Information"]})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Font API Check"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n.degular?e.jsx(df,{className:"w-4 h-4 text-green-600"}):e.jsx(ps,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Degular Medium: "}),e.jsx(ve,{variant:n.degular?"default":"destructive",children:n.degular?"Loaded":"Not Loaded"})]}),n.error&&e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Error: ",n.error]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Network Fetch Test"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Status: ",e.jsx(ve,{variant:a.fetchStatus==="success"?"default":"destructive",children:a.fetchStatus||"Testing..."})]}),a.fetchStatusCode&&e.jsxs("div",{children:["HTTP Code: ",a.fetchStatusCode]}),a.corsHeaders&&e.jsxs("div",{children:["CORS Header: ",a.corsHeaders]}),a.fetchError&&e.jsxs("div",{className:"text-xs text-red-600",children:["Error: ",a.fetchError]})]})]})]}),a.allFontFamilies&&e.jsxs("div",{className:"pt-3 border-t border-amber-200",children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["All Loaded Font Families (",a.totalFonts,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.allFontFamilies.map((o,c)=>e.jsx(ve,{variant:"outline",className:"text-xs",children:o},c))})]}),e.jsxs("div",{className:"pt-3 border-t border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Browser Console Check:"}),e.jsx("p",{className:"text-xs text-slate-600",children:`Open your browser's DevTools (F12)  Network tab  Filter by "font" to see if the font file is loading and check for CORS errors.`})]})]})]}),e.jsx("div",{className:"space-y-6",children:l.map((o,c)=>e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Re,{children:e.jsxs($e,{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontFamily:o.family},children:o.name}),e.jsx("span",{className:"text-sm font-normal text-slate-500",children:o.source})]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Font Details"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Family: "}),e.jsx("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:o.family})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Weights: "}),e.jsx("span",{className:"text-slate-700",children:o.weights.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Usage: "}),e.jsx("span",{className:"text-slate-700",children:o.usage})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Preview"}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-2",children:[e.jsx("p",{style:{fontFamily:o.family,fontSize:"24px"},children:"The quick brown fox jumps over the lazy dog"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"abcdefghijklmnopqrstuvwxyz"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"0123456789"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Size Examples"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{style:{fontFamily:o.family,fontSize:"32px"},children:"32px - Large Heading"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"24px"},children:"24px - Medium Heading"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"16px - Body Text"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"14px"},children:"14px - Small Text"})]})]})]})]},c))})]})})}var $D=1,W2e=.9,H2e=.8,G2e=.17,Qw=.1,Jw=.999,K2e=.9999,Y2e=.99,Q2e=/[\\\/_+.#"@\[\(\{&]/,J2e=/[\\\/_+.#"@\[\(\{&]/g,X2e=/[\s-]/,S9=/[\s-]/g;function $_(t,s,n,r,a,i,l){if(i===s.length)return a===t.length?$D:Y2e;var o=`${a},${i}`;if(l[o]!==void 0)return l[o];for(var c=r.charAt(i),u=n.indexOf(c,a),d=0,m,h,p,g;u>=0;)m=$_(t,s,n,r,u+1,i+1,l),m>d&&(u===a?m*=$D:Q2e.test(t.charAt(u-1))?(m*=H2e,p=t.slice(a,u-1).match(J2e),p&&a>0&&(m*=Math.pow(Jw,p.length))):X2e.test(t.charAt(u-1))?(m*=W2e,g=t.slice(a,u-1).match(S9),g&&a>0&&(m*=Math.pow(Jw,g.length))):(m*=G2e,a>0&&(m*=Math.pow(Jw,u-a))),t.charAt(u)!==s.charAt(i)&&(m*=K2e)),(m<Qw&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(h=$_(t,s,n,r,u+1,i+2,l),h*Qw>m&&(m=h*Qw)),m>d&&(d=m),u=n.indexOf(c,u+1);return l[o]=d,d}function UD(t){return t.toLowerCase().replace(S9," ")}function Z2e(t,s,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,$_(t,s,UD(t),UD(s),0,0,{})}var Xh='[cmdk-group=""]',Xw='[cmdk-group-items=""]',eSe='[cmdk-group-heading=""]',C9='[cmdk-item=""]',VD=`${C9}:not([aria-disabled="true"])`,U_="cmdk-item-select",Id="data-value",tSe=(t,s,n)=>Z2e(t,s,n),k9=b.createContext(void 0),$f=()=>b.useContext(k9),E9=b.createContext(void 0),GS=()=>b.useContext(E9),P9=b.createContext(void 0),T9=b.forwardRef((t,s)=>{let n=Bd(()=>{var W,q;return{search:"",value:(q=(W=t.value)!=null?W:t.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Bd(()=>new Set),a=Bd(()=>new Map),i=Bd(()=>new Map),l=Bd(()=>new Set),o=A9(t),{label:c,children:u,value:d,onValueChange:m,filter:h,shouldFilter:p,loop:g,disablePointerSelection:y=!1,vimBindings:v=!0,...j}=t,w=$n(),N=$n(),_=$n(),T=b.useRef(null),A=hSe();Ic(()=>{if(d!==void 0){let W=d.trim();n.current.value=W,P.emit()}},[d]),Ic(()=>{A(6,O)},[]);let P=b.useMemo(()=>({subscribe:W=>(l.current.add(W),()=>l.current.delete(W)),snapshot:()=>n.current,setState:(W,q,Z)=>{var J,Q,G,ae;if(!Object.is(n.current[W],q)){if(n.current[W]=q,W==="search")E(),M(),A(1,k);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(_);se?se.focus():(J=document.getElementById(w))==null||J.focus()}if(A(7,()=>{var se;n.current.selectedItemId=(se=F())==null?void 0:se.id,P.emit()}),Z||A(5,O),((Q=o.current)==null?void 0:Q.value)!==void 0){let se=q??"";(ae=(G=o.current).onValueChange)==null||ae.call(G,se);return}}P.emit()}},emit:()=>{l.current.forEach(W=>W())}}),[]),C=b.useMemo(()=>({value:(W,q,Z)=>{var J;q!==((J=i.current.get(W))==null?void 0:J.value)&&(i.current.set(W,{value:q,keywords:Z}),n.current.filtered.items.set(W,R(q,Z)),A(2,()=>{M(),P.emit()}))},item:(W,q)=>(r.current.add(W),q&&(a.current.has(q)?a.current.get(q).add(W):a.current.set(q,new Set([W]))),A(3,()=>{E(),M(),n.current.value||k(),P.emit()}),()=>{i.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let Z=F();A(4,()=>{E(),(Z==null?void 0:Z.getAttribute("id"))===W&&k(),P.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{i.current.delete(W),a.current.delete(W)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:_,labelId:N,listInnerRef:T}),[]);function R(W,q){var Z,J;let Q=(J=(Z=o.current)==null?void 0:Z.filter)!=null?J:tSe;return W?Q(W,n.current.search,q):0}function M(){if(!n.current.search||o.current.shouldFilter===!1)return;let W=n.current.filtered.items,q=[];n.current.filtered.groups.forEach(J=>{let Q=a.current.get(J),G=0;Q.forEach(ae=>{let se=W.get(ae);G=Math.max(se,G)}),q.push([J,G])});let Z=T.current;z().sort((J,Q)=>{var G,ae;let se=J.getAttribute("id"),de=Q.getAttribute("id");return((G=W.get(de))!=null?G:0)-((ae=W.get(se))!=null?ae:0)}).forEach(J=>{let Q=J.closest(Xw);Q?Q.appendChild(J.parentElement===Q?J:J.closest(`${Xw} > *`)):Z.appendChild(J.parentElement===Z?J:J.closest(`${Xw} > *`))}),q.sort((J,Q)=>Q[1]-J[1]).forEach(J=>{var Q;let G=(Q=T.current)==null?void 0:Q.querySelector(`${Xh}[${Id}="${encodeURIComponent(J[0])}"]`);G==null||G.parentElement.appendChild(G)})}function k(){let W=z().find(Z=>Z.getAttribute("aria-disabled")!=="true"),q=W==null?void 0:W.getAttribute(Id);P.setState("value",q||void 0)}function E(){var W,q,Z,J;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Q=0;for(let G of r.current){let ae=(q=(W=i.current.get(G))==null?void 0:W.value)!=null?q:"",se=(J=(Z=i.current.get(G))==null?void 0:Z.keywords)!=null?J:[],de=R(ae,se);n.current.filtered.items.set(G,de),de>0&&Q++}for(let[G,ae]of a.current)for(let se of ae)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(G);break}n.current.filtered.count=Q}function O(){var W,q,Z;let J=F();J&&(((W=J.parentElement)==null?void 0:W.firstChild)===J&&((Z=(q=J.closest(Xh))==null?void 0:q.querySelector(eSe))==null||Z.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function F(){var W;return(W=T.current)==null?void 0:W.querySelector(`${C9}[aria-selected="true"]`)}function z(){var W;return Array.from(((W=T.current)==null?void 0:W.querySelectorAll(VD))||[])}function V(W){let q=z()[W];q&&P.setState("value",q.getAttribute(Id))}function U(W){var q;let Z=F(),J=z(),Q=J.findIndex(ae=>ae===Z),G=J[Q+W];(q=o.current)!=null&&q.loop&&(G=Q+W<0?J[J.length-1]:Q+W===J.length?J[0]:J[Q+W]),G&&P.setState("value",G.getAttribute(Id))}function B(W){let q=F(),Z=q==null?void 0:q.closest(Xh),J;for(;Z&&!J;)Z=W>0?dSe(Z,Xh):uSe(Z,Xh),J=Z==null?void 0:Z.querySelector(VD);J?P.setState("value",J.getAttribute(Id)):U(W)}let $=()=>V(z().length-1),L=W=>{W.preventDefault(),W.metaKey?$():W.altKey?B(1):U(1)},I=W=>{W.preventDefault(),W.metaKey?V(0):W.altKey?B(-1):U(-1)};return b.createElement($t.div,{ref:s,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:W=>{var q;(q=j.onKeyDown)==null||q.call(j,W);let Z=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||Z))switch(W.key){case"n":case"j":{v&&W.ctrlKey&&L(W);break}case"ArrowDown":{L(W);break}case"p":case"k":{v&&W.ctrlKey&&I(W);break}case"ArrowUp":{I(W);break}case"Home":{W.preventDefault(),V(0);break}case"End":{W.preventDefault(),$();break}case"Enter":{W.preventDefault();let J=F();if(J){let Q=new Event(U_);J.dispatchEvent(Q)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:fSe},c),ov(t,W=>b.createElement(E9.Provider,{value:P},b.createElement(k9.Provider,{value:C},W))))}),sSe=b.forwardRef((t,s)=>{var n,r;let a=$n(),i=b.useRef(null),l=b.useContext(P9),o=$f(),c=A9(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;Ic(()=>{if(!u)return o.item(a,l==null?void 0:l.id)},[u]);let d=M9(a,i,[t.value,t.children,i],t.keywords),m=GS(),h=Oo(A=>A.value&&A.value===d.current),p=Oo(A=>u||o.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);b.useEffect(()=>{let A=i.current;if(!(!A||t.disabled))return A.addEventListener(U_,g),()=>A.removeEventListener(U_,g)},[p,t.onSelect,t.disabled]);function g(){var A,P;y(),(P=(A=c.current).onSelect)==null||P.call(A,d.current)}function y(){m.setState("value",d.current,!0)}if(!p)return null;let{disabled:v,value:j,onSelect:w,forceMount:N,keywords:_,...T}=t;return b.createElement($t.div,{ref:Ar(i,s),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||o.getDisablePointerSelection()?void 0:y,onClick:v?void 0:g},t.children)}),nSe=b.forwardRef((t,s)=>{let{heading:n,children:r,forceMount:a,...i}=t,l=$n(),o=b.useRef(null),c=b.useRef(null),u=$n(),d=$f(),m=Oo(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(l):!0);Ic(()=>d.group(l),[]),M9(l,o,[t.value,t.heading,c]);let h=b.useMemo(()=>({id:l,forceMount:a}),[a]);return b.createElement($t.div,{ref:Ar(o,s),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&b.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),ov(t,p=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},b.createElement(P9.Provider,{value:h},p))))}),rSe=b.forwardRef((t,s)=>{let{alwaysRender:n,...r}=t,a=b.useRef(null),i=Oo(l=>!l.search);return!n&&!i?null:b.createElement($t.div,{ref:Ar(a,s),...r,"cmdk-separator":"",role:"separator"})}),aSe=b.forwardRef((t,s)=>{let{onValueChange:n,...r}=t,a=t.value!=null,i=GS(),l=Oo(u=>u.search),o=Oo(u=>u.selectedItemId),c=$f();return b.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),b.createElement($t.input,{ref:s,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:a?t.value:l,onChange:u=>{a||i.setState("search",u.target.value),n==null||n(u.target.value)}})}),iSe=b.forwardRef((t,s)=>{let{children:n,label:r="Suggestions",...a}=t,i=b.useRef(null),l=b.useRef(null),o=Oo(u=>u.selectedItemId),c=$f();return b.useEffect(()=>{if(l.current&&i.current){let u=l.current,d=i.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(m),h.unobserve(u)}}},[]),b.createElement($t.div,{ref:Ar(i,s),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:c.listId},ov(t,u=>b.createElement("div",{ref:Ar(l,c.listInnerRef),"cmdk-list-sizer":""},u)))}),lSe=b.forwardRef((t,s)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:l,...o}=t;return b.createElement(Jg,{open:n,onOpenChange:r},b.createElement(Xg,{container:l},b.createElement(Fu,{"cmdk-overlay":"",className:a}),b.createElement(Lu,{"aria-label":t.label,"cmdk-dialog":"",className:i},b.createElement(T9,{ref:s,...o}))))}),oSe=b.forwardRef((t,s)=>Oo(n=>n.filtered.count===0)?b.createElement($t.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),cSe=b.forwardRef((t,s)=>{let{progress:n,children:r,label:a="Loading...",...i}=t;return b.createElement($t.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},ov(t,l=>b.createElement("div",{"aria-hidden":!0},l)))}),aa=Object.assign(T9,{List:iSe,Item:sSe,Input:aSe,Group:nSe,Separator:rSe,Dialog:lSe,Empty:oSe,Loading:cSe});function dSe(t,s){let n=t.nextElementSibling;for(;n;){if(n.matches(s))return n;n=n.nextElementSibling}}function uSe(t,s){let n=t.previousElementSibling;for(;n;){if(n.matches(s))return n;n=n.previousElementSibling}}function A9(t){let s=b.useRef(t);return Ic(()=>{s.current=t}),s}var Ic=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Bd(t){let s=b.useRef();return s.current===void 0&&(s.current=t()),s}function Oo(t){let s=GS(),n=()=>t(s.snapshot());return b.useSyncExternalStore(s.subscribe,n,n)}function M9(t,s,n,r=[]){let a=b.useRef(),i=$f();return Ic(()=>{var l;let o=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());i.value(t,o,c),(l=s.current)==null||l.setAttribute(Id,o),a.current=o}),a}var hSe=()=>{let[t,s]=b.useState(),n=Bd(()=>new Map);return Ic(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,a)=>{n.current.set(r,a),s({})}};function mSe(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function ov({asChild:t,children:s},n){return t&&b.isValidElement(s)?b.cloneElement(mSe(s),{ref:s.ref},n(s.props.children)):n(s)}var fSe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const pSe=b.forwardRef(({className:t,...s},n)=>e.jsx(aa,{ref:n,className:tt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));pSe.displayName=aa.displayName;const xSe=b.forwardRef(({className:t,...s},n)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Ks,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(aa.Input,{ref:n,className:tt("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));xSe.displayName=aa.Input.displayName;const gSe=b.forwardRef(({className:t,...s},n)=>e.jsx(aa.List,{ref:n,className:tt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));gSe.displayName=aa.List.displayName;const vSe=b.forwardRef((t,s)=>e.jsx(aa.Empty,{ref:s,className:"py-6 text-center text-sm",...t}));vSe.displayName=aa.Empty.displayName;const ySe=b.forwardRef(({className:t,...s},n)=>e.jsx(aa.Group,{ref:n,className:tt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));ySe.displayName=aa.Group.displayName;const bSe=b.forwardRef(({className:t,...s},n)=>e.jsx(aa.Separator,{ref:n,className:tt("-mx-1 h-px bg-border",t),...s}));bSe.displayName=aa.Separator.displayName;const jSe=b.forwardRef(({className:t,...s},n)=>e.jsx(aa.Item,{ref:n,className:tt("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...s}));jSe.displayName=aa.Item.displayName;const Zw={Menu:El,Calendar:js,CreditCard:$c,Ticket:Ds,Wallet:Eo,ShoppingCart:Vc,History:Wg,Sparkles:ea,FileText:ts,Briefcase:kn,Settings:Ua,BookOpen:Ug,Building:Ro,HelpCircle:zc,Users:bs,Shield:Ln,BarChart3:Eu,FileEdit:uf,AtSign:of,FolderTree:Ec,Trophy:Fn,MousePointer2:hf,Mail:Ts,Download:Qn},wSe=[{value:"_none",label:"No Page (Parent Menu)"},...[{value:"Articles",label:"Articles"},{value:"ArticleManagement",label:"Article Management"},{value:"ArticlesSettings",label:"Articles Settings"},{value:"ArticleEditor",label:"Article Editor"},{value:"ArticleView",label:"Article View"},{value:"AwardManagement",label:"Award Management"},{value:"Balances",label:"Balances"},{value:"Bookings",label:"Bookings"},{value:"ButtonElements",label:"Button Elements"},{value:"ButtonStyleManagement",label:"Button Styles"},{value:"BuyProgramTickets",label:"Buy Program Tickets"},{value:"CategoryManagement",label:"Category Management"},{value:"DataExport",label:"Data Export"},{value:"DiscountCodeManagement",label:"Discount Code Management"},{value:"EventDetails",label:"Event Details"},{value:"Events",label:"Events"},{value:"EventSettings",label:"Event Settings"},{value:"FileManagement",label:"File Management"},{value:"FloaterManagement",label:"Floater Management"},{value:"FormManagement",label:"Form Management"},{value:"FormSubmissions",label:"Form Submissions"},{value:"GuestWriterManagement",label:"Guest Writer Management"},{value:"History",label:"History"},{value:"IEditPageEditor",label:"Page Editor"},{value:"IEditPageManagement",label:"Page Builder - Pages"},{value:"IEditTemplateManagement",label:"Page Builder - Templates"},{value:"InstalledFonts",label:"Installed Fonts"},{value:"JobBoardSettings",label:"Job Board Settings"},{value:"JobPostingManagement",label:"Job Posting Management"},{value:"MemberDirectory",label:"Member Directory"},{value:"MemberDirectorySettings",label:"Member Directory Settings"},{value:"MemberGroupAssignmentReport",label:"Member Group Assignment Report"},{value:"MemberGroupGuestManagement",label:"Member Group Guest Management"},{value:"MemberGroupManagement",label:"Member Group Management"},{value:"MemberHandleManagement",label:"Member Handle Management"},{value:"MemberRoleAssignment",label:"Member Role Assignment"},{value:"MyArticles",label:"My Articles"},{value:"MyJobPostings",label:"My Job Postings"},{value:"MyNews",label:"My News"},{value:"MyTickets",label:"My Tickets"},{value:"NavigationManagement",label:"Navigation Items"},{value:"News",label:"News"},{value:"NewsEditor",label:"News Editor"},{value:"NewsSettings",label:"News Settings"},{value:"NewsView",label:"News View"},{value:"OrganisationDirectory",label:"Organisation Directory"},{value:"OrganisationDirectorySettings",label:"Organisation Directory Settings"},{value:"PageBannerManagement",label:"Page Banners"},{value:"PortalMenuManagement",label:"Portal Menu Management"},{value:"PortalNavigationManagement",label:"Portal Navigation Management"},{value:"Preferences",label:"Preferences"},{value:"PublicAbout",label:"Public - About"},{value:"PublicArticles",label:"Public - Articles"},{value:"PublicContact",label:"Public - Contact"},{value:"PublicEvents",label:"Public - Events"},{value:"PublicNews",label:"Public - News"},{value:"PublicResources",label:"Public - Resources"},{value:"Resources",label:"Resources"},{value:"ResourceManagement",label:"Resource Management"},{value:"ResourceSettings",label:"Resource Settings"},{value:"RoleManagement",label:"Role Management"},{value:"SiteMap",label:"Site Map"},{value:"Support",label:"Support"},{value:"SupportManagement",label:"Support Management"},{value:"TagManagement",label:"Tag Management"},{value:"Team",label:"Team"},{value:"TeamInviteSettings",label:"Team Invite Settings"},{value:"TeamEngagementReport",label:"Team Engagement Report"},{value:"TeamMemberManagement",label:"Team Member Management"},{value:"TicketSalesAnalytics",label:"Ticket Sales Analytics"},{value:"TourManagement",label:"Tour Management"},{value:"WallOfFameManagement",label:"Wall of Fame"}].sort((t,s)=>t.label.localeCompare(s.label))];function D9({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState({}),[o,c]=b.useState(!1),u=Gt(),{data:d=[],isLoading:m}=me({queryKey:["portal-menu"],queryFn:()=>K.entities.PortalMenu.list("display_order"),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}),h=Fe({mutationFn:R=>K.entities.PortalMenu.create(R),onSuccess:()=>{u.invalidateQueries({queryKey:["portal-menu"]}),a(!1),n(null),te.success("Menu item created")}}),p=Fe({mutationFn:({id:R,data:M})=>K.entities.PortalMenu.update(R,M),onSuccess:()=>{u.invalidateQueries({queryKey:["portal-menu"]}),a(!1),n(null),te.success("Menu item updated")}}),g=Fe({mutationFn:R=>K.entities.PortalMenu.delete(R),onSuccess:()=>{u.invalidateQueries({queryKey:["portal-menu"]}),te.success("Menu item deleted")}}),y=R=>{const M=d.filter(E=>E.section===R&&E.is_active);return M.filter(E=>!E.parent_id).sort((E,O)=>E.display_order-O.display_order).map(E=>({...E,children:M.filter(O=>O.parent_id===E.id).sort((O,F)=>O.display_order-F.display_order)}))},v=b.useMemo(()=>y("user"),[d]),j=b.useMemo(()=>y("admin"),[d]),w=(R,M=null)=>{const k=d.filter(O=>O.section===R&&O.parent_id===(M||"")),E=k.length>0?Math.max(...k.map(O=>O.display_order||0)):-1;n({title:"",url:"",icon:"Menu",feature_id:"",section:R,parent_id:M||"",display_order:E+1,is_active:!0}),a(!0)},N=R=>{n({...R}),a(!0)},_=()=>{if(!s.title){te.error("Title is required");return}let R;const M=s.section;s.url?R=`page_${M}_${s.url}`:R=`page_${M}_${s.title.replace(/\s+/g,"")}`;const k={title:s.title,url:s.url||"",icon:s.icon,feature_id:R,section:s.section,parent_id:s.parent_id||"",display_order:s.display_order,is_active:s.is_active};s.id?p.mutate({id:s.id,data:k}):h.mutate(k)},T=R=>{if(d.some(k=>k.parent_id===R.id)){te.error("Cannot delete menu item with sub-items");return}confirm(`Delete "${R.title}"?`)&&g.mutate(R.id)},A=async(R,M)=>{console.log("=== MOVE ITEM START ==="),console.log("Item ID:",R,"Direction:",M);const k=d.find(U=>U.id===R);if(!k){console.log("Item not found");return}console.log("Item found:",k.title,"Current display_order:",k.display_order);const E=d.filter(U=>U.section===k.section&&U.parent_id===k.parent_id).sort((U,B)=>U.display_order===B.display_order?new Date(U.created_date)-new Date(B.created_date):U.display_order-B.display_order);console.log("Siblings:",E.map(U=>({title:U.title,display_order:U.display_order})));const O=E.findIndex(U=>U.id===R),F=M==="up"?O-1:O+1;if(console.log("Current index:",O,"New index:",F),F<0||F>=E.length){console.log("Cannot move - out of bounds");return}const z=[...E],[V]=z.splice(O,1);z.splice(F,0,V),console.log("Reordered siblings:",z.map(U=>U.title));for(let U=0;U<z.length;U++)console.log("Updating",z[U].title,"to display_order:",U),await K.entities.PortalMenu.update(z[U].id,{display_order:U});console.log("Invalidating queries..."),await u.invalidateQueries({queryKey:["portal-menu"]}),console.log("=== MOVE ITEM END ==="),te.success("Menu order updated")},P=R=>{l(M=>({...M,[R]:!M[R]}))},C=(R,M,k=!1)=>{const E=Zw[R.icon]||El,O=R.children&&R.children.length>0,F=i[R.id];return e.jsxs("div",{className:k?"ml-8":"",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:border-blue-400 transition-colors mb-2",children:[O&&e.jsx("button",{onClick:()=>P(R.id),className:"p-1 hover:bg-slate-100 rounded",children:F?e.jsx(Pr,{className:"w-4 h-4"}):e.jsx(ys,{className:"w-4 h-4"})}),!O&&e.jsx("div",{className:"w-6"}),e.jsx(E,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-900",children:R.title}),e.jsx("div",{className:"text-xs text-slate-500",children:R.url||"(parent menu)"})]}),O&&e.jsx(ve,{variant:"outline",className:"text-xs",children:R.children.length}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(R.id,"up"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(R.id,"down"),className:"h-8 w-8 p-0",children:""}),!k&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>w(M,R.id),className:"h-8 w-8 p-0",children:e.jsx(Et,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>N(R),className:"h-8 w-8 p-0",children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>T(R),className:"h-8 w-8 p-0 text-red-600",children:e.jsx(is,{className:"w-4 h-4"})})]})]}),O&&F&&e.jsx("div",{className:"ml-8 space-y-2 mb-2",children:R.children.map(z=>C(z,M,!0))})]},R.id)};return t?m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Portal Menu Management"}),e.jsx("p",{className:"text-slate-600",children:"Configure the portal navigation menu structure"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),"User Navigation"]}),e.jsxs(X,{onClick:()=>w("user"),size:"sm",className:"gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add Item"]})]})}),e.jsx(ce,{className:"p-4",children:v.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No menu items yet"}):e.jsx("div",{className:"space-y-2",children:v.map(R=>C(R,"user"))})})]}),e.jsxs(le,{children:[e.jsx(Re,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($e,{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"w-5 h-5 text-amber-600"}),"Admin Navigation"]}),e.jsxs(X,{onClick:()=>w("admin"),size:"sm",className:"gap-2",children:[e.jsx(Et,{className:"w-4 h-4"}),"Add Item"]})]})}),e.jsx(ce,{className:"p-4",children:j.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No menu items yet"}):e.jsx("div",{className:"space-y-2",children:j.map(R=>C(R,"admin"))})})]})]}),e.jsx(St,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-lg",children:[e.jsx(Ct,{children:e.jsx(kt,{children:s!=null&&s.id?"Edit Menu Item":"Create Menu Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Title *"}),e.jsx(he,{value:s.title,onChange:R=>n({...s,title:R.target.value}),placeholder:"e.g., Browse Events"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Page"}),e.jsxs(He,{value:s.url||"_none",onValueChange:R=>n({...s,url:R==="_none"?"":R}),children:[e.jsx(Ue,{children:e.jsx(Ye,{placeholder:"No Page (Parent Menu)"})}),e.jsx(Ve,{className:"max-h-[400px]",children:wSe.map(R=>e.jsx(re,{value:R.value,children:R.label},R.value))})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty if this is a parent menu with sub-items"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Icon *"}),e.jsxs(He,{value:s.icon,onValueChange:R=>n({...s,icon:R}),children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsx(Ve,{children:Object.keys(Zw).map(R=>{const M=Zw[R];return e.jsx(re,{value:R,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),R]})},R)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{children:"Feature ID (Auto-generated)"}),e.jsx("div",{className:"px-3 py-2 bg-slate-100 border border-slate-200 rounded-md text-sm text-slate-600",children:s.url?`page_${s.section}_${s.url}`:`page_${s.section}_${s.title.replace(/\s+/g,"")}`}),e.jsx("p",{className:"text-xs text-slate-500",children:"Auto-generated from section, URL or title (used for permissions)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{checked:s.is_active,onCheckedChange:R=>n({...s,is_active:R})}),e.jsx(ee,{children:"Active"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:_,disabled:h.isPending||p.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function O9({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState("all"),[i,l]=b.useState("all"),[o,c]=b.useState(1),u=20,{data:d=[],isLoading:m}=me({queryKey:["member-groups"],queryFn:()=>K.entities.MemberGroup.list("name")}),{data:h=[],isLoading:p}=me({queryKey:["members-list"],queryFn:()=>K.entities.Member.list("first_name")}),{data:g=[],isLoading:y}=me({queryKey:["member-group-assignments"],queryFn:()=>K.entities.MemberGroupAssignment.list()}),v=new Date,j=cr(v,30),w=M=>{if(!M)return"no-expiry";const k=new Date(M);return dg(k,v)?"expired":dg(k,j)?"expiring-soon":"active"},N=b.useMemo(()=>g.map(M=>{const k=h.find(F=>F.id===M.member_id),E=d.find(F=>F.id===M.group_id),O=w(M.expires_at);return{...M,member:k,group:E,expiryStatus:O,memberName:k?`${k.first_name} ${k.last_name}`:"Unknown",memberEmail:(k==null?void 0:k.email)||"",groupName:(E==null?void 0:E.name)||"Unknown Group"}}),[g,h,d]),_=b.useMemo(()=>{let M=N;if(s){const k=s.toLowerCase();M=M.filter(E=>{var O;return E.memberName.toLowerCase().includes(k)||E.memberEmail.toLowerCase().includes(k)||E.groupName.toLowerCase().includes(k)||((O=E.group_role)==null?void 0:O.toLowerCase().includes(k))})}return r!=="all"&&(M=M.filter(k=>k.expiryStatus===r)),i!=="all"&&(M=M.filter(k=>k.group_id===i)),M.sort((k,E)=>{const O={expired:0,"expiring-soon":1,active:2,"no-expiry":3};return O[k.expiryStatus]!==O[E.expiryStatus]?O[k.expiryStatus]-O[E.expiryStatus]:k.expires_at&&E.expires_at?new Date(k.expires_at)-new Date(E.expires_at):k.memberName.localeCompare(E.memberName)}),M},[N,s,r,i]),T=b.useMemo(()=>{const M=N.filter(O=>O.expiryStatus==="expired").length,k=N.filter(O=>O.expiryStatus==="expiring-soon").length,E=N.filter(O=>O.expires_at).length;return{expired:M,expiringSoon:k,withExpiry:E,total:N.length}},[N]),A=Math.ceil(_.length/u),P=_.slice((o-1)*u,o*u);Ie.useEffect(()=>{c(1)},[s,r,i]);const C=M=>{switch(M){case"expired":return e.jsx(ve,{className:"bg-red-100 text-red-700",children:"Expired"});case"expiring-soon":return e.jsx(ve,{className:"bg-amber-100 text-amber-700",children:"Expiring Soon"});case"active":return e.jsx(ve,{className:"bg-green-100 text-green-700",children:"Active"});default:return e.jsx(ve,{className:"bg-slate-100 text-slate-600",children:"No Expiry"})}},R=m||p||y;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Group Assignments Report"}),e.jsx("p",{className:"text-slate-600",children:"View and filter all member group assignments"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(bs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:T.total}),e.jsx("p",{className:"text-xs text-slate-600",children:"Total Assignments"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(oK,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.expired}),e.jsx("p",{className:"text-xs text-slate-600",children:"Expired"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(en,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:T.expiringSoon}),e.jsx("p",{className:"text-xs text-slate-600",children:"Expiring in 30 days"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx(js,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:T.withExpiry}),e.jsx("p",{className:"text-xs text-slate-600",children:"With Expiry Date"})]})]})})})]}),e.jsx(le,{className:"mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by member, group, or role...",value:s,onChange:M=>n(M.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(He,{value:r,onValueChange:a,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Statuses"}),e.jsx(re,{value:"expired",children:"Expired"}),e.jsx(re,{value:"expiring-soon",children:"Expiring Soon (30 days)"}),e.jsx(re,{value:"active",children:"Active (with expiry)"}),e.jsx(re,{value:"no-expiry",children:"No Expiry Date"})]})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(He,{value:i,onValueChange:l,children:[e.jsx(Ue,{children:e.jsx(Ye,{})}),e.jsxs(Ve,{children:[e.jsx(re,{value:"all",children:"All Groups"}),d.map(M=>e.jsx(re,{value:M.id,children:M.name},M.id))]})]})})]}),_.length>0&&e.jsxs("p",{className:"text-sm text-slate-600 mt-3",children:["Showing ",_.length," assignment",_.length!==1?"s":""]})]})}),R?e.jsx(le,{children:e.jsx(ce,{className:"p-8",children:e.jsx("div",{className:"animate-pulse space-y-4",children:Array(5).fill(0).map((M,k)=>e.jsx("div",{className:"h-12 bg-slate-200 rounded"},k))})})}):_.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ts,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Assignments Found"}),e.jsx("p",{className:"text-slate-600",children:s||r!=="all"||i!=="all"?"Try adjusting your filters":"No member group assignments exist yet"})]})}):e.jsx(le,{children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Member"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Group"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Role"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Expiry Date"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:P.map(M=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:M.memberName}),e.jsx("div",{className:"text-xs text-slate-500",children:M.memberEmail})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-slate-900",children:M.groupName})}),e.jsx("td",{className:"p-4",children:e.jsx(ve,{className:"bg-blue-100 text-blue-700",children:M.group_role})}),e.jsx("td",{className:"p-4",children:M.expires_at?e.jsx("span",{className:"text-slate-900",children:At(new Date(M.expires_at),"dd MMM yyyy")}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsx("td",{className:"p-4",children:C(M.expiryStatus)})]},M.id))})]})})})}),A>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(M=>Math.max(1,M-1)),disabled:o===1,children:"Previous"}),e.jsxs("span",{className:"text-sm text-slate-600 px-3",children:["Page ",o," of ",A]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(M=>Math.min(A,M+1)),disabled:o===A,children:"Next"})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function R9({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState(""),[a,i]=b.useState("totalScore"),[l,o]=b.useState("desc"),{data:c=[],isLoading:u}=me({queryKey:["team-members-report",t==null?void 0:t.organization_id],queryFn:async()=>t!=null&&t.organization_id?(await K.entities.Member.list()).filter(T=>T.organization_id===t.organization_id&&T.login_enabled!==!1):[],enabled:!!(t!=null&&t.organization_id),staleTime:60*1e3}),{data:d=[]}=me({queryKey:["all-articles-report"],queryFn:()=>K.entities.BlogPost.list(),staleTime:60*1e3}),{data:m=[]}=me({queryKey:["all-bookings-report"],queryFn:()=>K.entities.Booking.list(),staleTime:60*1e3}),{data:h=[]}=me({queryKey:["all-job-postings-report"],queryFn:()=>K.entities.JobPosting.list(),staleTime:60*1e3}),{data:p=[]}=me({queryKey:["awards-report"],queryFn:async()=>(await K.entities.Award.list()).filter(T=>T.is_active),staleTime:300*1e3}),{data:g=[]}=me({queryKey:["offline-assignments-report"],queryFn:()=>K.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),y=b.useMemo(()=>c.map(_=>{const T=m.filter(E=>E.member_id===_.id&&E.status==="confirmed").length,A=d.filter(E=>E.author_id===_.id&&E.status==="published").length,P=h.filter(E=>E.posted_by_member_id===_.id).length,C=p.filter(E=>(E.award_type==="events_attended"?T:E.award_type==="articles_published"?A:E.award_type==="jobs_posted"?P:0)>=E.threshold).length,R=g.filter(E=>E.member_id===_.id).length,M=C+R,k=T+A+P+M;return{id:_.id,name:`${_.first_name||""} ${_.last_name||""}`.trim()||"Unknown",email:_.email,profilePhoto:_.profile_photo_url,eventsAttended:T,articlesPublished:A,jobsPosted:P,totalAwards:M,totalScore:k,lastActivity:_.last_activity?new Date(_.last_activity).getTime():0}}),[c,d,m,h,p,g]),v=b.useMemo(()=>{let _=y;if(n){const T=n.toLowerCase();_=_.filter(A=>A.name.toLowerCase().includes(T)||A.email.toLowerCase().includes(T))}return _.sort((T,A)=>{const P=T[a],C=A[a];return a==="name"?l==="asc"?P.localeCompare(C):C.localeCompare(P):l==="asc"?P-C:C-P}),_},[y,n,a,l]),j=_=>{a===_?o(T=>T==="asc"?"desc":"asc"):(i(_),o("desc"))},w=({field:_})=>a!==_?e.jsx(r1,{className:"w-4 h-4 text-slate-400"}):l==="asc"?e.jsx(z6,{className:"w-4 h-4 text-blue-600"}):e.jsx(q6,{className:"w-4 h-4 text-blue-600"});return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(bs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Team Engagement Report"}),e.jsxs("p",{className:"text-slate-600",children:[(s==null?void 0:s.name)&&`${s.name} - `,v.length," ",v.length===1?"member":"members"]})]})]})}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:n,onChange:_=>r(_.target.value),className:"pl-10"})]})})}),v.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(bs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search criteria"})]})}):e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("name"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["Member",e.jsx(w,{field:"name"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("eventsAttended"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-green-600"}),"Events",e.jsx(w,{field:"eventsAttended"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("articlesPublished"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ts,{className:"w-4 h-4 text-purple-600"}),"Articles",e.jsx(w,{field:"articlesPublished"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("jobsPosted"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(kn,{className:"w-4 h-4 text-blue-600"}),"Jobs",e.jsx(w,{field:"jobsPosted"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("totalAwards"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Fn,{className:"w-4 h-4 text-amber-600"}),"Awards",e.jsx(w,{field:"totalAwards"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("totalScore"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:["Total Score",e.jsx(w,{field:"totalScore"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("lastActivity"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(en,{className:"w-4 h-4 text-slate-600"}),"Last Active",e.jsx(w,{field:"lastActivity"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:v.map(_=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[_.profilePhoto?e.jsx("img",{src:_.profilePhoto,alt:_.name,className:"w-10 h-10 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Js,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:_.name}),e.jsx("div",{className:"text-xs text-slate-500",children:_.email})]})]})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ve,{variant:"secondary",className:"bg-green-100 text-green-700",children:_.eventsAttended})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ve,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:_.articlesPublished})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ve,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:_.jobsPosted})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ve,{variant:"secondary",className:"bg-amber-100 text-amber-700",children:_.totalAwards})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ve,{className:"bg-slate-900 text-white",children:_.totalScore})}),e.jsx("td",{className:"p-4 text-center",children:_.lastActivity?e.jsx("span",{className:"text-sm text-slate-600",children:yR(new Date(_.lastActivity),{addSuffix:!0})}):e.jsx("span",{className:"text-sm text-slate-400",children:"Never"})})]},_.id))})]})})})})]})})}const F9=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:tt("w-full caption-bottom text-sm",t),...s})}));F9.displayName="Table";const L9=b.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:tt("[&_tr]:border-b",t),...s}));L9.displayName="TableHeader";const I9=b.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:tt("[&_tr:last-child]:border-0",t),...s}));I9.displayName="TableBody";const NSe=b.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));NSe.displayName="TableFooter";const V_=b.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));V_.displayName="TableRow";const cc=b.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:tt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));cc.displayName="TableHead";const dc=b.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:tt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));dc.displayName="TableCell";const _Se=b.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:tt("mt-4 text-sm text-muted-foreground",t),...s}));_Se.displayName="TableCaption";function B9({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState(!1),[l,o]=b.useState(null),[c,u]=b.useState(!1),[d,m]=b.useState(null),h=Gt(),{data:p=[],isLoading:g}=me({queryKey:["member-group-guests"],queryFn:()=>K.entities.MemberGroupGuest.list(),staleTime:60*1e3}),y=Fe({mutationFn:A=>K.entities.MemberGroupGuest.create(A),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),i(!1),o(null),te.success("Guest created successfully")},onError:A=>{te.error("Failed to create guest: "+A.message)}}),v=Fe({mutationFn:({id:A,data:P})=>K.entities.MemberGroupGuest.update(A,P),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),i(!1),o(null),te.success("Guest updated successfully")},onError:A=>{te.error("Failed to update guest: "+A.message)}}),j=Fe({mutationFn:A=>K.entities.MemberGroupGuest.delete(A),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),u(!1),m(null),te.success("Guest deleted successfully")},onError:A=>{te.error("Failed to delete guest: "+A.message)}}),w=()=>{o({first_name:"",last_name:"",email:"",organisation:"",job_title:"",is_active:!0}),i(!0)},N=A=>{o({...A}),i(!0)},_=()=>{if(!l.first_name||!l.last_name||!l.email){te.error("First name, last name, and email are required");return}if(p.some(C=>C.id!==l.id&&C.email.toLowerCase()===l.email.toLowerCase())){te.error("A guest with this email address already exists");return}const P={first_name:l.first_name,last_name:l.last_name,email:l.email.toLowerCase(),organisation:l.organisation||"",job_title:l.job_title||"",is_active:l.is_active};l.id?v.mutate({id:l.id,data:P}):y.mutate(P)},T=p.filter(A=>{var C,R,M,k;const P=n.toLowerCase();return((C=A.first_name)==null?void 0:C.toLowerCase().includes(P))||((R=A.last_name)==null?void 0:R.toLowerCase().includes(P))||((M=A.email)==null?void 0:M.toLowerCase().includes(P))||((k=A.organisation)==null?void 0:k.toLowerCase().includes(P))});return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Member Group Guests"}),e.jsx("p",{className:"text-slate-600",children:"Manage external guests who can be assigned to member groups"})]}),e.jsxs(X,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add Guest"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search guests...",value:n,onChange:A=>r(A.target.value),className:"pl-10"})]})})}),g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(vt,{className:"w-8 h-8 animate-spin text-blue-600"})}):T.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Pc,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Guests Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:n?"Try adjusting your search":"Add your first guest to get started"}),!n&&e.jsxs(X,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),"Add First Guest"]})]})}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-0",children:e.jsxs(F9,{children:[e.jsx(L9,{children:e.jsxs(V_,{children:[e.jsx(cc,{children:"Name"}),e.jsx(cc,{children:"Email"}),e.jsx(cc,{children:"Organisation"}),e.jsx(cc,{children:"Job Title"}),e.jsx(cc,{children:"Status"}),e.jsx(cc,{className:"text-right",children:"Actions"})]})}),e.jsx(I9,{children:T.map(A=>e.jsxs(V_,{children:[e.jsxs(dc,{className:"font-medium",children:[A.first_name," ",A.last_name]}),e.jsx(dc,{children:A.email}),e.jsx(dc,{children:A.organisation||"-"}),e.jsx(dc,{children:A.job_title||"-"}),e.jsx(dc,{children:e.jsx(ve,{className:A.is_active!==!1?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700",children:A.is_active!==!1?"Active":"Inactive"})}),e.jsx(dc,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>N(A),children:e.jsx(Ps,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{m(A),u(!0)},children:e.jsx(is,{className:"w-4 h-4"})})]})})]},A.id))})]})})})]}),e.jsx(St,{open:a,onOpenChange:i,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:l!=null&&l.id?"Edit Guest":"Add Guest"})}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"first_name",children:"First Name *"}),e.jsx(he,{id:"first_name",value:l.first_name,onChange:A=>o({...l,first_name:A.target.value}),placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(he,{id:"last_name",value:l.last_name,onChange:A=>o({...l,last_name:A.target.value}),placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:l.email,onChange:A=>o({...l,email:A.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"organisation",children:"Organisation"}),e.jsx(he,{id:"organisation",value:l.organisation||"",onChange:A=>o({...l,organisation:A.target.value}),placeholder:"Organisation name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:l.job_title||"",onChange:A=>o({...l,job_title:A.target.value}),placeholder:"Job title"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ls,{id:"is_active",checked:l.is_active!==!1,onCheckedChange:A=>o({...l,is_active:A})}),e.jsx(ee,{htmlFor:"is_active",className:"cursor-pointer",children:"Active"})]})]}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(X,{onClick:_,disabled:y.isPending||v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:l!=null&&l.id?"Update":"Create"})]})]})}),e.jsx(St,{open:c,onOpenChange:u,children:e.jsxs(Nt,{children:[e.jsx(Ct,{children:e.jsx(kt,{children:"Delete Guest"})}),e.jsxs("p",{className:"text-slate-600",children:['Are you sure you want to delete "',d==null?void 0:d.first_name," ",d==null?void 0:d.last_name,'"? This will also remove them from any group assignments.']}),e.jsxs(qt,{children:[e.jsx(X,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>d&&j.mutate(d.id),disabled:j.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const WD={Events:h_,Home:XF,AdminSetup:ZF,EventDetails:iL,BuyProgramTickets:jL,VerifyMagicLink:wL,TestLogin:NL,Balances:_L,Dashboard:SL,UnpackedInternationalEmployability:CL,Articles:kL,ArticleEditor:$L,ArticleView:UL,PublicAbout:VL,PublicContact:WL,PublicEvents:HL,RoleManagement:GL,MemberRoleAssignment:gI,TeamMemberManagement:vI,DiscountCodeManagement:yI,MyTickets:BI,EventSettings:qI,Bookings:zI,TourManagement:$I,History:UI,TicketSalesAnalytics:VI,Resources:BB,PublicResources:qB,ResourceSettings:zB,ResourceManagement:$B,FileManagement:UB,TagManagement:VB,JobBoard:WB,JobDetails:HB,PostJob:GB,JobPostSuccess:KB,JobBoardSettings:YB,JobPostingManagement:QB,MyJobPostings:JB,PageBannerManagement:XB,IEditPageManagement:ZB,IEditTemplateManagement:e8,IEditPageEditor:H7,testpage:Awe,NavigationManagement:G7,Preferences:K7,MyArticles:Y7,PublicArticles:Q7,MemberHandleManagement:J7,ButtonElements:X7,ButtonStyleManagement:Z7,BorderRadiusSettings:eq,AwardManagement:tq,Team:sq,MemberDirectory:nq,WallOfFameManagement:rq,DynamicPage:aq,sharon:Iwe,content:Bwe,icontent:qwe,ViewPage:iq,ParamTest:lq,TeamInviteSettings:oq,OrganisationDirectory:cq,FloaterManagement:dq,FormManagement:uq,FormBuilder:hq,FormView:mq,MemberDirectorySettings:fq,FormSubmissions:i9,NewsEditor:l9,MyNews:o9,NewsView:c9,News:d9,PublicNews:u9,NewsSettings:h9,DataExport:m9,ArticleManagement:f9,SiteMap:p9,Support:x9,SupportManagement:g9,PortalNavigationManagement:v9,CategoryManagement:y9,MemberGroupManagement:b9,ArticlesSettings:j9,GuestWriterManagement:w9,OrganisationDirectorySettings:N9,InstalledFonts:_9,PortalMenuManagement:D9,MemberGroupAssignmentReport:O9,TeamEngagementReport:R9,MemberGroupGuestManagement:B9};function SSe(t){t.endsWith("/")&&(t=t.slice(0,-1));let s=t.split("/").pop();return s.includes("?")&&(s=s.split("?")[0]),Object.keys(WD).find(r=>r.toLowerCase()===s.toLowerCase())||Object.keys(WD)[0]}function CSe(){const t=Yi(),s=SSe(t.pathname);return e.jsx(kte,{currentPageName:s,children:e.jsxs(SU,{children:[e.jsx(ct,{path:"/",element:e.jsx(h_,{})}),e.jsx(ct,{path:"/Events",element:e.jsx(h_,{})}),e.jsx(ct,{path:"/Home",element:e.jsx(XF,{})}),e.jsx(ct,{path:"/AdminSetup",element:e.jsx(ZF,{})}),e.jsx(ct,{path:"/EventDetails",element:e.jsx(iL,{})}),e.jsx(ct,{path:"/BuyProgramTickets",element:e.jsx(jL,{})}),e.jsx(ct,{path:"/VerifyMagicLink",element:e.jsx(wL,{})}),e.jsx(ct,{path:"/TestLogin",element:e.jsx(NL,{})}),e.jsx(ct,{path:"/Balances",element:e.jsx(_L,{})}),e.jsx(ct,{path:"/Dashboard",element:e.jsx(SL,{})}),e.jsx(ct,{path:"/UnpackedInternationalEmployability",element:e.jsx(CL,{})}),e.jsx(ct,{path:"/Articles",element:e.jsx(kL,{})}),e.jsx(ct,{path:"/ArticleEditor",element:e.jsx($L,{})}),e.jsx(ct,{path:"/ArticleView",element:e.jsx(UL,{})}),e.jsx(ct,{path:"/PublicAbout",element:e.jsx(VL,{})}),e.jsx(ct,{path:"/PublicContact",element:e.jsx(WL,{})}),e.jsx(ct,{path:"/PublicEvents",element:e.jsx(HL,{})}),e.jsx(ct,{path:"/RoleManagement",element:e.jsx(GL,{})}),e.jsx(ct,{path:"/MemberRoleAssignment",element:e.jsx(gI,{})}),e.jsx(ct,{path:"/TeamMemberManagement",element:e.jsx(vI,{})}),e.jsx(ct,{path:"/DiscountCodeManagement",element:e.jsx(yI,{})}),e.jsx(ct,{path:"/MyTickets",element:e.jsx(BI,{})}),e.jsx(ct,{path:"/EventSettings",element:e.jsx(qI,{})}),e.jsx(ct,{path:"/Bookings",element:e.jsx(zI,{})}),e.jsx(ct,{path:"/TourManagement",element:e.jsx($I,{})}),e.jsx(ct,{path:"/History",element:e.jsx(UI,{})}),e.jsx(ct,{path:"/TicketSalesAnalytics",element:e.jsx(VI,{})}),e.jsx(ct,{path:"/Resources",element:e.jsx(BB,{})}),e.jsx(ct,{path:"/PublicResources",element:e.jsx(qB,{})}),e.jsx(ct,{path:"/ResourceSettings",element:e.jsx(zB,{})}),e.jsx(ct,{path:"/ResourceManagement",element:e.jsx($B,{})}),e.jsx(ct,{path:"/FileManagement",element:e.jsx(UB,{})}),e.jsx(ct,{path:"/TagManagement",element:e.jsx(VB,{})}),e.jsx(ct,{path:"/JobBoard",element:e.jsx(WB,{})}),e.jsx(ct,{path:"/JobDetails",element:e.jsx(HB,{})}),e.jsx(ct,{path:"/PostJob",element:e.jsx(GB,{})}),e.jsx(ct,{path:"/JobPostSuccess",element:e.jsx(KB,{})}),e.jsx(ct,{path:"/JobBoardSettings",element:e.jsx(YB,{})}),e.jsx(ct,{path:"/JobPostingManagement",element:e.jsx(QB,{})}),e.jsx(ct,{path:"/MyJobPostings",element:e.jsx(JB,{})}),e.jsx(ct,{path:"/PageBannerManagement",element:e.jsx(XB,{})}),e.jsx(ct,{path:"/IEditPageManagement",element:e.jsx(ZB,{})}),e.jsx(ct,{path:"/IEditTemplateManagement",element:e.jsx(e8,{})}),e.jsx(ct,{path:"/IEditPageEditor",element:e.jsx(H7,{})}),e.jsx(ct,{path:"/testpage",element:e.jsx("testpage",{})}),e.jsx(ct,{path:"/NavigationManagement",element:e.jsx(G7,{})}),e.jsx(ct,{path:"/Preferences",element:e.jsx(K7,{})}),e.jsx(ct,{path:"/MyArticles",element:e.jsx(Y7,{})}),e.jsx(ct,{path:"/PublicArticles",element:e.jsx(Q7,{})}),e.jsx(ct,{path:"/MemberHandleManagement",element:e.jsx(J7,{})}),e.jsx(ct,{path:"/ButtonElements",element:e.jsx(X7,{})}),e.jsx(ct,{path:"/ButtonStyleManagement",element:e.jsx(Z7,{})}),e.jsx(ct,{path:"/BorderRadiusSettings",element:e.jsx(eq,{})}),e.jsx(ct,{path:"/AwardManagement",element:e.jsx(tq,{})}),e.jsx(ct,{path:"/Team",element:e.jsx(sq,{})}),e.jsx(ct,{path:"/MemberDirectory",element:e.jsx(nq,{})}),e.jsx(ct,{path:"/WallOfFameManagement",element:e.jsx(rq,{})}),e.jsx(ct,{path:"/DynamicPage",element:e.jsx(aq,{})}),e.jsx(ct,{path:"/sharon",element:e.jsx("sharon",{})}),e.jsx(ct,{path:"/content",element:e.jsx("content",{})}),e.jsx(ct,{path:"/icontent",element:e.jsx("icontent",{})}),e.jsx(ct,{path:"/ViewPage",element:e.jsx(iq,{})}),e.jsx(ct,{path:"/ParamTest",element:e.jsx(lq,{})}),e.jsx(ct,{path:"/TeamInviteSettings",element:e.jsx(oq,{})}),e.jsx(ct,{path:"/OrganisationDirectory",element:e.jsx(cq,{})}),e.jsx(ct,{path:"/FloaterManagement",element:e.jsx(dq,{})}),e.jsx(ct,{path:"/FormManagement",element:e.jsx(uq,{})}),e.jsx(ct,{path:"/FormBuilder",element:e.jsx(hq,{})}),e.jsx(ct,{path:"/FormView",element:e.jsx(mq,{})}),e.jsx(ct,{path:"/MemberDirectorySettings",element:e.jsx(fq,{})}),e.jsx(ct,{path:"/FormSubmissions",element:e.jsx(i9,{})}),e.jsx(ct,{path:"/NewsEditor",element:e.jsx(l9,{})}),e.jsx(ct,{path:"/MyNews",element:e.jsx(o9,{})}),e.jsx(ct,{path:"/NewsView",element:e.jsx(c9,{})}),e.jsx(ct,{path:"/News",element:e.jsx(d9,{})}),e.jsx(ct,{path:"/PublicNews",element:e.jsx(u9,{})}),e.jsx(ct,{path:"/NewsSettings",element:e.jsx(h9,{})}),e.jsx(ct,{path:"/DataExport",element:e.jsx(m9,{})}),e.jsx(ct,{path:"/ArticleManagement",element:e.jsx(f9,{})}),e.jsx(ct,{path:"/SiteMap",element:e.jsx(p9,{})}),e.jsx(ct,{path:"/Support",element:e.jsx(x9,{})}),e.jsx(ct,{path:"/SupportManagement",element:e.jsx(g9,{})}),e.jsx(ct,{path:"/PortalNavigationManagement",element:e.jsx(v9,{})}),e.jsx(ct,{path:"/CategoryManagement",element:e.jsx(y9,{})}),e.jsx(ct,{path:"/MemberGroupManagement",element:e.jsx(b9,{})}),e.jsx(ct,{path:"/ArticlesSettings",element:e.jsx(j9,{})}),e.jsx(ct,{path:"/GuestWriterManagement",element:e.jsx(w9,{})}),e.jsx(ct,{path:"/OrganisationDirectorySettings",element:e.jsx(N9,{})}),e.jsx(ct,{path:"/InstalledFonts",element:e.jsx(_9,{})}),e.jsx(ct,{path:"/PortalMenuManagement",element:e.jsx(D9,{})}),e.jsx(ct,{path:"/MemberGroupAssignmentReport",element:e.jsx(O9,{})}),e.jsx(ct,{path:"/TeamEngagementReport",element:e.jsx(R9,{})}),e.jsx(ct,{path:"/MemberGroupGuestManagement",element:e.jsx(B9,{})})]})})}function kSe(){return e.jsx(KU,{children:e.jsx(CSe,{})})}const ESe=20,PSe=1e6,wl={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let eN=0;function TSe(){return eN=(eN+1)%Number.MAX_VALUE,eN.toString()}const tN=new Map,HD=t=>{if(tN.has(t))return;const s=setTimeout(()=>{tN.delete(t),bm({type:wl.REMOVE_TOAST,toastId:t})},PSe);tN.set(t,s)},ASe=(t,s)=>{switch(s.type){case wl.ADD_TOAST:return{...t,toasts:[s.toast,...t.toasts].slice(0,ESe)};case wl.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case wl.DISMISS_TOAST:{const{toastId:n}=s;return n?HD(n):t.toasts.forEach(r=>{HD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case wl.REMOVE_TOAST:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},Kx=[];let Yx={toasts:[]};function bm(t){Yx=ASe(Yx,t),Kx.forEach(s=>{s(Yx)})}function MSe({...t}){const s=TSe(),n=a=>bm({type:wl.UPDATE_TOAST,toast:{...a,id:s}}),r=()=>bm({type:wl.DISMISS_TOAST,toastId:s});return bm({type:wl.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:a=>{a||r()}}}),{id:s,dismiss:r,update:n}}function DSe(){const[t,s]=b.useState(Yx);return b.useEffect(()=>(Kx.push(s),()=>{const n=Kx.indexOf(s);n>-1&&Kx.splice(n,1)}),[t]),{...t,toast:MSe,dismiss:n=>bm({type:wl.DISMISS_TOAST,toastId:n})}}const q9=b.forwardRef(({...t},s)=>e.jsx("div",{ref:s,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));q9.displayName="ToastProvider";const z9=b.forwardRef(({...t},s)=>e.jsx("div",{ref:s,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));z9.displayName="ToastViewport";const OSe=Au("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$9=b.forwardRef(({className:t,variant:s,...n},r)=>e.jsx("div",{ref:r,className:tt(OSe({variant:s}),t),...n}));$9.displayName="Toast";const RSe=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));RSe.displayName="ToastAction";const U9=b.forwardRef(({className:t,...s},n)=>e.jsx("button",{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ws,{className:"h-4 w-4"})}));U9.displayName="ToastClose";const V9=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("text-sm font-semibold",t),...s}));V9.displayName="ToastTitle";const W9=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:tt("text-sm opacity-90",t),...s}));W9.displayName="ToastDescription";function FSe(){const{toasts:t}=DSe();return e.jsxs(q9,{children:[t.map(function({id:s,title:n,description:r,action:a,...i}){return e.jsxs($9,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(V9,{children:n}),r&&e.jsx(W9,{children:r})]}),a,e.jsx(U9,{})]},s)}),e.jsx(z9,{})]})}function LSe(){return e.jsxs(e.Fragment,{children:[e.jsx(kSe,{}),e.jsx(FSe,{})]})}O$.createRoot(document.getElementById("root")).render(e.jsx(LSe,{}))});export default ISe();
