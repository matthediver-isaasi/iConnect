var RP=t=>{throw TypeError(t)};var OH=(t,s)=>()=>(s||t((s={exports:{}}).exports,s),s.exports);var Nj=(t,s,n)=>s.has(t)||RP("Cannot "+n);var xe=(t,s,n)=>(Nj(t,s,"read from private field"),n?n.call(t):s.get(t)),Yt=(t,s,n)=>s.has(t)?RP("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),St=(t,s,n,r)=>(Nj(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),bs=(t,s,n)=>(Nj(t,s,"access private method"),n);var gx=(t,s,n,r)=>({set _(a){St(t,s,a,n)},get _(){return xe(t,s,r)}});var yAe=OH((KAe,A0)=>{function a5(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MH(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var s=t.default;if(typeof s=="function"){var n=function r(){return this instanceof r?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};n.prototype=s.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var _j={exports:{}},Qm={},Sj={exports:{}},_s={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function DH(){if(FP)return _s;FP=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;function h(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function v(L,V,q){this.props=L,this.context=V,this.refs=y,this.updater=q||p}v.prototype.isReactComponent={},v.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=v.prototype;function w(L,V,q){this.props=L,this.context=V,this.refs=y,this.updater=q||p}var N=w.prototype=new j;N.constructor=w,x(N,v.prototype),N.isPureReactComponent=!0;var _=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(L,V,q){var J,Q={},Y=null,K=null;if(V!=null)for(J in V.ref!==void 0&&(K=V.ref),V.key!==void 0&&(Y=""+V.key),V)P.call(V,J)&&!E.hasOwnProperty(J)&&(Q[J]=V[J]);var ae=arguments.length-2;if(ae===1)Q.children=q;else if(1<ae){for(var se=Array(ae),de=0;de<ae;de++)se[de]=arguments[de+2];Q.children=se}if(L&&L.defaultProps)for(J in ae=L.defaultProps,ae)Q[J]===void 0&&(Q[J]=ae[J]);return{$$typeof:t,type:L,key:Y,ref:K,props:Q,_owner:A.current}}function R(L,V){return{$$typeof:t,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function k(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(q){return V[q]})}var T=/\/+/g;function D(L,V){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):V.toString(36)}function F(L,V,q,J,Q){var Y=typeof L;(Y==="undefined"||Y==="boolean")&&(L=null);var K=!1;if(L===null)K=!0;else switch(Y){case"string":case"number":K=!0;break;case"object":switch(L.$$typeof){case t:case s:K=!0}}if(K)return K=L,Q=Q(K),L=J===""?"."+D(K,0):J,_(Q)?(q="",L!=null&&(q=L.replace(T,"$&/")+"/"),F(Q,V,q,"",function(de){return de})):Q!=null&&(O(Q)&&(Q=R(Q,q+(!Q.key||K&&K.key===Q.key?"":(""+Q.key).replace(T,"$&/")+"/")+L)),V.push(Q)),1;if(K=0,J=J===""?".":J+":",_(L))for(var ae=0;ae<L.length;ae++){Y=L[ae];var se=J+D(Y,ae);K+=F(Y,V,q,se,Q)}else if(se=h(L),typeof se=="function")for(L=se.call(L),ae=0;!(Y=L.next()).done;)Y=Y.value,se=J+D(Y,ae++),K+=F(Y,V,q,se,Q);else if(Y==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return K}function U(L,V,q){if(L==null)return L;var J=[],Q=0;return F(L,J,"","",function(Y){return V.call(q,Y,Q++)}),J}function z(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(q){(L._status===0||L._status===-1)&&(L._status=1,L._result=q)},function(q){(L._status===0||L._status===-1)&&(L._status=2,L._result=q)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var H={current:null},B={transition:null},$={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:B,ReactCurrentOwner:A};function I(){throw Error("act(...) is not supported in production builds of React.")}return _s.Children={map:U,forEach:function(L,V,q){U(L,function(){V.apply(this,arguments)},q)},count:function(L){var V=0;return U(L,function(){V++}),V},toArray:function(L){return U(L,function(V){return V})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},_s.Component=v,_s.Fragment=n,_s.Profiler=a,_s.PureComponent=w,_s.StrictMode=r,_s.Suspense=c,_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,_s.act=I,_s.cloneElement=function(L,V,q){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var J=x({},L.props),Q=L.key,Y=L.ref,K=L._owner;if(V!=null){if(V.ref!==void 0&&(Y=V.ref,K=A.current),V.key!==void 0&&(Q=""+V.key),L.type&&L.type.defaultProps)var ae=L.type.defaultProps;for(se in V)P.call(V,se)&&!E.hasOwnProperty(se)&&(J[se]=V[se]===void 0&&ae!==void 0?ae[se]:V[se])}var se=arguments.length-2;if(se===1)J.children=q;else if(1<se){ae=Array(se);for(var de=0;de<se;de++)ae[de]=arguments[de+2];J.children=ae}return{$$typeof:t,type:L.type,key:Q,ref:Y,props:J,_owner:K}},_s.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},_s.createElement=C,_s.createFactory=function(L){var V=C.bind(null,L);return V.type=L,V},_s.createRef=function(){return{current:null}},_s.forwardRef=function(L){return{$$typeof:o,render:L}},_s.isValidElement=O,_s.lazy=function(L){return{$$typeof:u,_payload:{_status:-1,_result:L},_init:z}},_s.memo=function(L,V){return{$$typeof:d,type:L,compare:V===void 0?null:V}},_s.startTransition=function(L){var V=B.transition;B.transition={};try{L()}finally{B.transition=V}},_s.unstable_act=I,_s.useCallback=function(L,V){return H.current.useCallback(L,V)},_s.useContext=function(L){return H.current.useContext(L)},_s.useDebugValue=function(){},_s.useDeferredValue=function(L){return H.current.useDeferredValue(L)},_s.useEffect=function(L,V){return H.current.useEffect(L,V)},_s.useId=function(){return H.current.useId()},_s.useImperativeHandle=function(L,V,q){return H.current.useImperativeHandle(L,V,q)},_s.useInsertionEffect=function(L,V){return H.current.useInsertionEffect(L,V)},_s.useLayoutEffect=function(L,V){return H.current.useLayoutEffect(L,V)},_s.useMemo=function(L,V){return H.current.useMemo(L,V)},_s.useReducer=function(L,V,q){return H.current.useReducer(L,V,q)},_s.useRef=function(L){return H.current.useRef(L)},_s.useState=function(L){return H.current.useState(L)},_s.useSyncExternalStore=function(L,V,q){return H.current.useSyncExternalStore(L,V,q)},_s.useTransition=function(){return H.current.useTransition()},_s.version="18.3.1",_s}var IP;function _p(){return IP||(IP=1,Sj.exports=DH()),Sj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP;function RH(){if(LP)return Qm;LP=1;var t=_p(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(o,c,d){var u,m={},h=null,p=null;d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)r.call(c,u)&&!i.hasOwnProperty(u)&&(m[u]=c[u]);if(o&&o.defaultProps)for(u in c=o.defaultProps,c)m[u]===void 0&&(m[u]=c[u]);return{$$typeof:s,type:o,key:h,ref:p,props:m,_owner:a.current}}return Qm.Fragment=n,Qm.jsx=l,Qm.jsxs=l,Qm}var BP;function FH(){return BP||(BP=1,_j.exports=RH()),_j.exports}var e=FH(),b=_p();const Be=vc(b),n2=a5({__proto__:null,default:Be},[b]);var vx={},Cj={exports:{}},ra={},kj={exports:{}},Ej={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function IH(){return qP||(qP=1,(function(t){function s(B,$){var I=B.length;B.push($);e:for(;0<I;){var L=I-1>>>1,V=B[L];if(0<a(V,$))B[L]=$,B[I]=V,I=L;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],I=B.pop();if(I!==$){B[0]=I;e:for(var L=0,V=B.length,q=V>>>1;L<q;){var J=2*(L+1)-1,Q=B[J],Y=J+1,K=B[Y];if(0>a(Q,I))Y<V&&0>a(K,Q)?(B[L]=K,B[Y]=I,L=Y):(B[L]=Q,B[J]=I,L=J);else if(Y<V&&0>a(K,I))B[L]=K,B[Y]=I,L=Y;else break e}}return $}function a(B,$){var I=B.sortIndex-$.sortIndex;return I!==0?I:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,x=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=B)r(d),$.sortIndex=$.expirationTime,s(c,$);else break;$=n(d)}}function _(B){if(y=!1,N(B),!x)if(n(c)!==null)x=!0,z(P);else{var $=n(d);$!==null&&H(_,$.startTime-B)}}function P(B,$){x=!1,y&&(y=!1,j(C),C=-1),p=!0;var I=h;try{for(N($),m=n(c);m!==null&&(!(m.expirationTime>$)||B&&!k());){var L=m.callback;if(typeof L=="function"){m.callback=null,h=m.priorityLevel;var V=L(m.expirationTime<=$);$=t.unstable_now(),typeof V=="function"?m.callback=V:m===n(c)&&r(c),N($)}else r(c);m=n(c)}if(m!==null)var q=!0;else{var J=n(d);J!==null&&H(_,J.startTime-$),q=!1}return q}finally{m=null,h=I,p=!1}}var A=!1,E=null,C=-1,R=5,O=-1;function k(){return!(t.unstable_now()-O<R)}function T(){if(E!==null){var B=t.unstable_now();O=B;var $=!0;try{$=E(!0,B)}finally{$?D():(A=!1,E=null)}}else A=!1}var D;if(typeof w=="function")D=function(){w(T)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=T,D=function(){U.postMessage(null)}}else D=function(){v(T,0)};function z(B){E=B,A||(A=!0,D())}function H(B,$){C=v(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,z(P))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var I=h;h=$;try{return B()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var I=h;h=B;try{return $()}finally{h=I}},t.unstable_scheduleCallback=function(B,$,I){var L=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?L+I:L):I=L,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,B={id:u++,callback:$,priorityLevel:B,startTime:I,expirationTime:V,sortIndex:-1},I>L?(B.sortIndex=I,s(d,B),n(c)===null&&B===n(d)&&(y?(j(C),C=-1):y=!0,H(_,I-L))):(B.sortIndex=V,s(c,B),x||p||(x=!0,z(P))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var $=h;return function(){var I=h;h=$;try{return B.apply(this,arguments)}finally{h=I}}}})(Ej)),Ej}var $P;function LH(){return $P||($P=1,kj.exports=IH()),kj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function BH(){if(UP)return ra;UP=1;var t=_p(),s=LH();function n(f){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+f,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(f,g){l(f,g),l(f+"Capture",g)}function l(f,g){for(a[f]=g,f=0;f<g.length;f++)r.add(g[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},m={};function h(f){return c.call(m,f)?!0:c.call(u,f)?!1:d.test(f)?m[f]=!0:(u[f]=!0,!1)}function p(f,g,S,M){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return M?!1:S!==null?!S.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function x(f,g,S,M){if(g===null||typeof g>"u"||p(f,g,S,M))return!0;if(M)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(f,g,S,M,W,G,ne){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=M,this.attributeNamespace=W,this.mustUseProperty=S,this.propertyName=f,this.type=g,this.sanitizeURL=G,this.removeEmptyString=ne}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){v[f]=new y(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var g=f[0];v[g]=new y(g,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){v[f]=new y(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){v[f]=new y(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){v[f]=new y(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){v[f]=new y(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){v[f]=new y(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){v[f]=new y(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){v[f]=new y(f,5,!1,f.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function w(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var g=f.replace(j,w);v[g]=new y(g,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var g=f.replace(j,w);v[g]=new y(g,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var g=f.replace(j,w);v[g]=new y(g,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){v[f]=new y(f,1,!1,f.toLowerCase(),null,!1,!1)}),v.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){v[f]=new y(f,1,!1,f.toLowerCase(),null,!0,!0)});function N(f,g,S,M){var W=v.hasOwnProperty(g)?v[g]:null;(W!==null?W.type!==0:M||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(x(g,S,W,M)&&(S=null),M||W===null?h(g)&&(S===null?f.removeAttribute(g):f.setAttribute(g,""+S)):W.mustUseProperty?f[W.propertyName]=S===null?W.type===3?!1:"":S:(g=W.attributeName,M=W.attributeNamespace,S===null?f.removeAttribute(g):(W=W.type,S=W===3||W===4&&S===!0?"":""+S,M?f.setAttributeNS(M,g,S):f.setAttribute(g,S))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),B=Symbol.iterator;function $(f){return f===null||typeof f!="object"?null:(f=B&&f[B]||f["@@iterator"],typeof f=="function"?f:null)}var I=Object.assign,L;function V(f){if(L===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);L=g&&g[1]||""}return`
`+L+f}var q=!1;function J(f,g){if(!f||q)return"";q=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Re){var M=Re}Reflect.construct(f,[],g)}else{try{g.call()}catch(Re){M=Re}f.call(g.prototype)}else{try{throw Error()}catch(Re){M=Re}f()}}catch(Re){if(Re&&M&&typeof Re.stack=="string"){for(var W=Re.stack.split(`
`),G=M.stack.split(`
`),ne=W.length-1,fe=G.length-1;1<=ne&&0<=fe&&W[ne]!==G[fe];)fe--;for(;1<=ne&&0<=fe;ne--,fe--)if(W[ne]!==G[fe]){if(ne!==1||fe!==1)do if(ne--,fe--,0>fe||W[ne]!==G[fe]){var be=`
`+W[ne].replace(" at new "," at ");return f.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",f.displayName)),be}while(1<=ne&&0<=fe);break}}}finally{q=!1,Error.prepareStackTrace=S}return(f=f?f.displayName||f.name:"")?V(f):""}function Q(f){switch(f.tag){case 5:return V(f.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return f=J(f.type,!1),f;case 11:return f=J(f.type.render,!1),f;case 1:return f=J(f.type,!0),f;default:return""}}function Y(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case E:return"Fragment";case A:return"Portal";case R:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case k:return(f.displayName||"Context")+".Consumer";case O:return(f._context.displayName||"Context")+".Provider";case T:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case U:return g=f.displayName||null,g!==null?g:Y(f.type)||"Memo";case z:g=f._payload,f=f._init;try{return Y(f(g))}catch{}}return null}function K(f){var g=f.type;switch(f.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=g.render,f=f.displayName||f.name||"",g.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(g);case 8:return g===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ae(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function se(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function de(f){var g=se(f)?"checked":"value",S=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),M=""+f[g];if(!f.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var W=S.get,G=S.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return W.call(this)},set:function(ne){M=""+ne,G.call(this,ne)}}),Object.defineProperty(f,g,{enumerable:S.enumerable}),{getValue:function(){return M},setValue:function(ne){M=""+ne},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function ue(f){f._valueTracker||(f._valueTracker=de(f))}function oe(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var S=g.getValue(),M="";return f&&(M=se(f)?f.checked?"true":"false":f.value),f=M,f!==S?(g.setValue(f),!0):!1}function pe(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function je(f,g){var S=g.checked;return I({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??f._wrapperState.initialChecked})}function Ne(f,g){var S=g.defaultValue==null?"":g.defaultValue,M=g.checked!=null?g.checked:g.defaultChecked;S=ae(g.value!=null?g.value:S),f._wrapperState={initialChecked:M,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function qe(f,g){g=g.checked,g!=null&&N(f,"checked",g,!1)}function $e(f,g){qe(f,g);var S=ae(g.value),M=g.type;if(S!=null)M==="number"?(S===0&&f.value===""||f.value!=S)&&(f.value=""+S):f.value!==""+S&&(f.value=""+S);else if(M==="submit"||M==="reset"){f.removeAttribute("value");return}g.hasOwnProperty("value")?Se(f,g.type,S):g.hasOwnProperty("defaultValue")&&Se(f,g.type,ae(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(f.defaultChecked=!!g.defaultChecked)}function Ee(f,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var M=g.type;if(!(M!=="submit"&&M!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+f._wrapperState.initialValue,S||g===f.value||(f.value=g),f.defaultValue=g}S=f.name,S!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,S!==""&&(f.name=S)}function Se(f,g,S){(g!=="number"||pe(f.ownerDocument)!==f)&&(S==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+S&&(f.defaultValue=""+S))}var Ye=Array.isArray;function Qe(f,g,S,M){if(f=f.options,g){g={};for(var W=0;W<S.length;W++)g["$"+S[W]]=!0;for(S=0;S<f.length;S++)W=g.hasOwnProperty("$"+f[S].value),f[S].selected!==W&&(f[S].selected=W),W&&M&&(f[S].defaultSelected=!0)}else{for(S=""+ae(S),g=null,W=0;W<f.length;W++){if(f[W].value===S){f[W].selected=!0,M&&(f[W].defaultSelected=!0);return}g!==null||f[W].disabled||(g=f[W])}g!==null&&(g.selected=!0)}}function Me(f,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},g,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function lt(f,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(n(92));if(Ye(S)){if(1<S.length)throw Error(n(93));S=S[0]}g=S}g==null&&(g=""),S=g}f._wrapperState={initialValue:ae(S)}}function Ce(f,g){var S=ae(g.value),M=ae(g.defaultValue);S!=null&&(S=""+S,S!==f.value&&(f.value=S),g.defaultValue==null&&f.defaultValue!==S&&(f.defaultValue=S)),M!=null&&(f.defaultValue=""+M)}function it(f){var g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function _e(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(f,g){return f==null||f==="http://www.w3.org/1999/xhtml"?_e(g):f==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var rt,ht=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,M,W){MSApp.execUnsafeLocalFunction(function(){return f(g,S,M,W)})}:f})(function(f,g){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=g;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=rt.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;g.firstChild;)f.appendChild(g.firstChild)}});function ct(f,g){if(g){var S=f.firstChild;if(S&&S===f.lastChild&&S.nodeType===3){S.nodeValue=g;return}}f.textContent=g}var Rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rs=["Webkit","ms","Moz","O"];Object.keys(Rt).forEach(function(f){rs.forEach(function(g){g=g+f.charAt(0).toUpperCase()+f.substring(1),Rt[g]=Rt[f]})});function Us(f,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||Rt.hasOwnProperty(f)&&Rt[f]?(""+g).trim():g+"px"}function Es(f,g){f=f.style;for(var S in g)if(g.hasOwnProperty(S)){var M=S.indexOf("--")===0,W=Us(S,g[S],M);S==="float"&&(S="cssFloat"),M?f.setProperty(S,W):f[S]=W}}var mn=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zt(f,g){if(g){if(mn[f]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function yn(f,g){if(f.indexOf("-")===-1)return typeof g.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function Ar(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var er=null,He=null,nt=null;function cs(f){if(f=Rm(f)){if(typeof er!="function")throw Error(n(280));var g=f.stateNode;g&&(g=Ag(g),er(f.stateNode,f.type,g))}}function we(f){He?nt?nt.push(f):nt=[f]:He=f}function ot(){if(He){var f=He,g=nt;if(nt=He=null,cs(f),g)for(f=0;f<g.length;f++)cs(g[f])}}function Pe(f,g){return f(g)}function tt(){}var vt=!1;function ns(f,g,S){if(vt)return f(g,S);vt=!0;try{return Pe(f,g,S)}finally{vt=!1,(He!==null||nt!==null)&&(tt(),ot())}}function ms(f,g){var S=f.stateNode;if(S===null)return null;var M=Ag(S);if(M===null)return null;S=M[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(S&&typeof S!="function")throw Error(n(231,g,typeof S));return S}var en=!1;if(o)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){en=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{en=!1}function Gr(f,g,S,M,W,G,ne,fe,be){var Re=Array.prototype.slice.call(arguments,3);try{g.apply(S,Re)}catch(at){this.onError(at)}}var Nn=!1,cr=null,Yr=!1,ja=null,ve={onError:function(f){Nn=!0,cr=f}};function pt(f,g,S,M,W,G,ne,fe,be){Nn=!1,cr=null,Gr.apply(ve,arguments)}function xt(f,g,S,M,W,G,ne,fe,be){if(pt.apply(this,arguments),Nn){if(Nn){var Re=cr;Nn=!1,cr=null}else throw Error(n(198));Yr||(Yr=!0,ja=Re)}}function Pt(f){var g=f,S=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(S=g.return),f=g.return;while(f)}return g.tag===3?S:null}function Ts(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function Qr(f){if(Pt(f)!==f)throw Error(n(188))}function Vi(f){var g=f.alternate;if(!g){if(g=Pt(f),g===null)throw Error(n(188));return g!==f?null:f}for(var S=f,M=g;;){var W=S.return;if(W===null)break;var G=W.alternate;if(G===null){if(M=W.return,M!==null){S=M;continue}break}if(W.child===G.child){for(G=W.child;G;){if(G===S)return Qr(W),f;if(G===M)return Qr(W),g;G=G.sibling}throw Error(n(188))}if(S.return!==M.return)S=W,M=G;else{for(var ne=!1,fe=W.child;fe;){if(fe===S){ne=!0,S=W,M=G;break}if(fe===M){ne=!0,M=W,S=G;break}fe=fe.sibling}if(!ne){for(fe=G.child;fe;){if(fe===S){ne=!0,S=G,M=W;break}if(fe===M){ne=!0,M=G,S=W;break}fe=fe.sibling}if(!ne)throw Error(n(189))}}if(S.alternate!==M)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?f:g}function Rn(f){return f=Vi(f),f!==null?Xd(f):null}function Xd(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var g=Xd(f);if(g!==null)return g;f=f.sibling}return null}var Zd=s.unstable_scheduleCallback,eu=s.unstable_cancelCallback,xm=s.unstable_shouldYield,Ec=s.unstable_requestPaint,ln=s.unstable_now,vm=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,kl=s.unstable_UserBlockingPriority,Jr=s.unstable_NormalPriority,tu=s.unstable_LowPriority,su=s.unstable_IdlePriority,El=null,Or=null;function nu(f){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(El,f,void 0,(f.current.flags&128)===128)}catch{}}var ge=Math.clz32?Math.clz32:Ks,Ut=Math.log,Ze=Math.LN2;function Ks(f){return f>>>=0,f===0?32:31-(Ut(f)/Ze|0)|0}var Ft=64,dr=4194304;function Xr(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Wi(f,g){var S=f.pendingLanes;if(S===0)return 0;var M=0,W=f.suspendedLanes,G=f.pingedLanes,ne=S&268435455;if(ne!==0){var fe=ne&~W;fe!==0?M=Xr(fe):(G&=ne,G!==0&&(M=Xr(G)))}else ne=S&~W,ne!==0?M=Xr(ne):G!==0&&(M=Xr(G));if(M===0)return 0;if(g!==0&&g!==M&&(g&W)===0&&(W=M&-M,G=g&-g,W>=G||W===16&&(G&4194240)!==0))return g;if((M&4)!==0&&(M|=S&16),g=f.entangledLanes,g!==0)for(f=f.entanglements,g&=M;0<g;)S=31-ge(g),W=1<<S,M|=f[S],g&=~W;return M}function Gy(f,g){switch(f){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fg(f,g){for(var S=f.suspendedLanes,M=f.pingedLanes,W=f.expirationTimes,G=f.pendingLanes;0<G;){var ne=31-ge(G),fe=1<<ne,be=W[ne];be===-1?((fe&S)===0||(fe&M)!==0)&&(W[ne]=Gy(fe,g)):be<=g&&(f.expiredLanes|=fe),G&=~fe}}function Tc(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function pg(){var f=Ft;return Ft<<=1,(Ft&4194240)===0&&(Ft=64),f}function ru(f){for(var g=[],S=0;31>S;S++)g.push(f);return g}function bo(f,g,S){f.pendingLanes|=g,g!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,g=31-ge(g),f[g]=S}function gg(f,g){var S=f.pendingLanes&~g;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=g,f.mutableReadLanes&=g,f.entangledLanes&=g,g=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<S;){var W=31-ge(S),G=1<<W;g[W]=0,M[W]=-1,f[W]=-1,S&=~G}}function au(f,g){var S=f.entangledLanes|=g;for(f=f.entanglements;S;){var M=31-ge(S),W=1<<M;W&g|f[M]&g&&(f[M]|=g),S&=~W}}var ie=0;function De(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Ke,wt,Ps,Mr,fi,Pn=!1,_n=[],Hi=null,jo=null,wo=null,ym=new Map,bm=new Map,No=[],eW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vE(f,g){switch(f){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":jo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":ym.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":bm.delete(g.pointerId)}}function jm(f,g,S,M,W,G){return f===null||f.nativeEvent!==G?(f={blockedOn:g,domEventName:S,eventSystemFlags:M,nativeEvent:G,targetContainers:[W]},g!==null&&(g=Rm(g),g!==null&&wt(g)),f):(f.eventSystemFlags|=M,g=f.targetContainers,W!==null&&g.indexOf(W)===-1&&g.push(W),f)}function tW(f,g,S,M,W){switch(g){case"focusin":return Hi=jm(Hi,f,g,S,M,W),!0;case"dragenter":return jo=jm(jo,f,g,S,M,W),!0;case"mouseover":return wo=jm(wo,f,g,S,M,W),!0;case"pointerover":var G=W.pointerId;return ym.set(G,jm(ym.get(G)||null,f,g,S,M,W)),!0;case"gotpointercapture":return G=W.pointerId,bm.set(G,jm(bm.get(G)||null,f,g,S,M,W)),!0}return!1}function yE(f){var g=Pc(f.target);if(g!==null){var S=Pt(g);if(S!==null){if(g=S.tag,g===13){if(g=Ts(S),g!==null){f.blockedOn=g,fi(f.priority,function(){Ps(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){f.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}f.blockedOn=null}function xg(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var S=Qy(f.domEventName,f.eventSystemFlags,g[0],f.nativeEvent);if(S===null){S=f.nativeEvent;var M=new S.constructor(S.type,S);Fs=M,S.target.dispatchEvent(M),Fs=null}else return g=Rm(S),g!==null&&wt(g),f.blockedOn=S,!1;g.shift()}return!0}function bE(f,g,S){xg(f)&&S.delete(g)}function sW(){Pn=!1,Hi!==null&&xg(Hi)&&(Hi=null),jo!==null&&xg(jo)&&(jo=null),wo!==null&&xg(wo)&&(wo=null),ym.forEach(bE),bm.forEach(bE)}function wm(f,g){f.blockedOn===g&&(f.blockedOn=null,Pn||(Pn=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sW)))}function Nm(f){function g(W){return wm(W,f)}if(0<_n.length){wm(_n[0],f);for(var S=1;S<_n.length;S++){var M=_n[S];M.blockedOn===f&&(M.blockedOn=null)}}for(Hi!==null&&wm(Hi,f),jo!==null&&wm(jo,f),wo!==null&&wm(wo,f),ym.forEach(g),bm.forEach(g),S=0;S<No.length;S++)M=No[S],M.blockedOn===f&&(M.blockedOn=null);for(;0<No.length&&(S=No[0],S.blockedOn===null);)yE(S),S.blockedOn===null&&No.shift()}var iu=_.ReactCurrentBatchConfig,vg=!0;function nW(f,g,S,M){var W=ie,G=iu.transition;iu.transition=null;try{ie=1,Yy(f,g,S,M)}finally{ie=W,iu.transition=G}}function rW(f,g,S,M){var W=ie,G=iu.transition;iu.transition=null;try{ie=4,Yy(f,g,S,M)}finally{ie=W,iu.transition=G}}function Yy(f,g,S,M){if(vg){var W=Qy(f,g,S,M);if(W===null)mb(f,g,M,yg,S),vE(f,M);else if(tW(W,f,g,S,M))M.stopPropagation();else if(vE(f,M),g&4&&-1<eW.indexOf(f)){for(;W!==null;){var G=Rm(W);if(G!==null&&Ke(G),G=Qy(f,g,S,M),G===null&&mb(f,g,M,yg,S),G===W)break;W=G}W!==null&&M.stopPropagation()}else mb(f,g,M,null,S)}}var yg=null;function Qy(f,g,S,M){if(yg=null,f=Ar(M),f=Pc(f),f!==null)if(g=Pt(f),g===null)f=null;else if(S=g.tag,S===13){if(f=Ts(g),f!==null)return f;f=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null);return yg=f,null}function jE(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case yo:return 1;case kl:return 4;case Jr:case tu:return 16;case su:return 536870912;default:return 16}default:return 16}}var _o=null,Jy=null,bg=null;function wE(){if(bg)return bg;var f,g=Jy,S=g.length,M,W="value"in _o?_o.value:_o.textContent,G=W.length;for(f=0;f<S&&g[f]===W[f];f++);var ne=S-f;for(M=1;M<=ne&&g[S-M]===W[G-M];M++);return bg=W.slice(f,1<M?1-M:void 0)}function jg(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function wg(){return!0}function NE(){return!1}function wa(f){function g(S,M,W,G,ne){this._reactName=S,this._targetInst=W,this.type=M,this.nativeEvent=G,this.target=ne,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(S=f[fe],this[fe]=S?S(G):G[fe]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?wg:NE,this.isPropagationStopped=NE,this}return I(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),g}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xy=wa(lu),_m=I({},lu,{view:0,detail:0}),aW=wa(_m),Zy,eb,Sm,Ng=I({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Sm&&(Sm&&f.type==="mousemove"?(Zy=f.screenX-Sm.screenX,eb=f.screenY-Sm.screenY):eb=Zy=0,Sm=f),Zy)},movementY:function(f){return"movementY"in f?f.movementY:eb}}),_E=wa(Ng),iW=I({},Ng,{dataTransfer:0}),lW=wa(iW),oW=I({},_m,{relatedTarget:0}),tb=wa(oW),cW=I({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),dW=wa(cW),uW=I({},lu,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),hW=wa(uW),mW=I({},lu,{data:0}),SE=wa(mW),fW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xW(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=gW[f])?!!g[f]:!1}function sb(){return xW}var vW=I({},_m,{key:function(f){if(f.key){var g=fW[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=jg(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?pW[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(f){return f.type==="keypress"?jg(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?jg(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),yW=wa(vW),bW=I({},Ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CE=wa(bW),jW=I({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),wW=wa(jW),NW=I({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),_W=wa(NW),SW=I({},Ng,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),CW=wa(SW),kW=[9,13,27,32],nb=o&&"CompositionEvent"in window,Cm=null;o&&"documentMode"in document&&(Cm=document.documentMode);var EW=o&&"TextEvent"in window&&!Cm,kE=o&&(!nb||Cm&&8<Cm&&11>=Cm),EE=" ",TE=!1;function PE(f,g){switch(f){case"keyup":return kW.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ou=!1;function TW(f,g){switch(f){case"compositionend":return AE(g);case"keypress":return g.which!==32?null:(TE=!0,EE);case"textInput":return f=g.data,f===EE&&TE?null:f;default:return null}}function PW(f,g){if(ou)return f==="compositionend"||!nb&&PE(f,g)?(f=wE(),bg=Jy=_o=null,ou=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return kE&&g.locale!=="ko"?null:g.data;default:return null}}var AW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OE(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!AW[f.type]:g==="textarea"}function ME(f,g,S,M){we(M),g=Eg(g,"onChange"),0<g.length&&(S=new Xy("onChange","change",null,S,M),f.push({event:S,listeners:g}))}var km=null,Em=null;function OW(f){JE(f,0)}function _g(f){var g=mu(f);if(oe(g))return f}function MW(f,g){if(f==="change")return g}var DE=!1;if(o){var rb;if(o){var ab="oninput"in document;if(!ab){var RE=document.createElement("div");RE.setAttribute("oninput","return;"),ab=typeof RE.oninput=="function"}rb=ab}else rb=!1;DE=rb&&(!document.documentMode||9<document.documentMode)}function FE(){km&&(km.detachEvent("onpropertychange",IE),Em=km=null)}function IE(f){if(f.propertyName==="value"&&_g(Em)){var g=[];ME(g,Em,f,Ar(f)),ns(OW,g)}}function DW(f,g,S){f==="focusin"?(FE(),km=g,Em=S,km.attachEvent("onpropertychange",IE)):f==="focusout"&&FE()}function RW(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return _g(Em)}function FW(f,g){if(f==="click")return _g(g)}function IW(f,g){if(f==="input"||f==="change")return _g(g)}function LW(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var pi=typeof Object.is=="function"?Object.is:LW;function Tm(f,g){if(pi(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var S=Object.keys(f),M=Object.keys(g);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var W=S[M];if(!c.call(g,W)||!pi(f[W],g[W]))return!1}return!0}function LE(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function BE(f,g){var S=LE(f);f=0;for(var M;S;){if(S.nodeType===3){if(M=f+S.textContent.length,f<=g&&M>=g)return{node:S,offset:g-f};f=M}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=LE(S)}}function qE(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?qE(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function $E(){for(var f=window,g=pe();g instanceof f.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)f=g.contentWindow;else break;g=pe(f.document)}return g}function ib(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}function BW(f){var g=$E(),S=f.focusedElem,M=f.selectionRange;if(g!==S&&S&&S.ownerDocument&&qE(S.ownerDocument.documentElement,S)){if(M!==null&&ib(S)){if(g=M.start,f=M.end,f===void 0&&(f=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(f,S.value.length);else if(f=(g=S.ownerDocument||document)&&g.defaultView||window,f.getSelection){f=f.getSelection();var W=S.textContent.length,G=Math.min(M.start,W);M=M.end===void 0?G:Math.min(M.end,W),!f.extend&&G>M&&(W=M,M=G,G=W),W=BE(S,G);var ne=BE(S,M);W&&ne&&(f.rangeCount!==1||f.anchorNode!==W.node||f.anchorOffset!==W.offset||f.focusNode!==ne.node||f.focusOffset!==ne.offset)&&(g=g.createRange(),g.setStart(W.node,W.offset),f.removeAllRanges(),G>M?(f.addRange(g),f.extend(ne.node,ne.offset)):(g.setEnd(ne.node,ne.offset),f.addRange(g)))}}for(g=[],f=S;f=f.parentNode;)f.nodeType===1&&g.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)f=g[S],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var qW=o&&"documentMode"in document&&11>=document.documentMode,cu=null,lb=null,Pm=null,ob=!1;function UE(f,g,S){var M=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;ob||cu==null||cu!==pe(M)||(M=cu,"selectionStart"in M&&ib(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Pm&&Tm(Pm,M)||(Pm=M,M=Eg(lb,"onSelect"),0<M.length&&(g=new Xy("onSelect","select",null,g,S),f.push({event:g,listeners:M}),g.target=cu)))}function Sg(f,g){var S={};return S[f.toLowerCase()]=g.toLowerCase(),S["Webkit"+f]="webkit"+g,S["Moz"+f]="moz"+g,S}var du={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},cb={},zE={};o&&(zE=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function Cg(f){if(cb[f])return cb[f];if(!du[f])return f;var g=du[f],S;for(S in g)if(g.hasOwnProperty(S)&&S in zE)return cb[f]=g[S];return f}var VE=Cg("animationend"),WE=Cg("animationiteration"),HE=Cg("animationstart"),KE=Cg("transitionend"),GE=new Map,YE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(f,g){GE.set(f,g),i(g,[f])}for(var db=0;db<YE.length;db++){var ub=YE[db],$W=ub.toLowerCase(),UW=ub[0].toUpperCase()+ub.slice(1);So($W,"on"+UW)}So(VE,"onAnimationEnd"),So(WE,"onAnimationIteration"),So(HE,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(KE,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Am));function QE(f,g,S){var M=f.type||"unknown-event";f.currentTarget=S,xt(M,g,void 0,f),f.currentTarget=null}function JE(f,g){g=(g&4)!==0;for(var S=0;S<f.length;S++){var M=f[S],W=M.event;M=M.listeners;e:{var G=void 0;if(g)for(var ne=M.length-1;0<=ne;ne--){var fe=M[ne],be=fe.instance,Re=fe.currentTarget;if(fe=fe.listener,be!==G&&W.isPropagationStopped())break e;QE(W,fe,Re),G=be}else for(ne=0;ne<M.length;ne++){if(fe=M[ne],be=fe.instance,Re=fe.currentTarget,fe=fe.listener,be!==G&&W.isPropagationStopped())break e;QE(W,fe,Re),G=be}}}if(Yr)throw f=ja,Yr=!1,ja=null,f}function fn(f,g){var S=g[yb];S===void 0&&(S=g[yb]=new Set);var M=f+"__bubble";S.has(M)||(XE(g,f,2,!1),S.add(M))}function hb(f,g,S){var M=0;g&&(M|=4),XE(S,f,M,g)}var kg="_reactListening"+Math.random().toString(36).slice(2);function Om(f){if(!f[kg]){f[kg]=!0,r.forEach(function(S){S!=="selectionchange"&&(zW.has(S)||hb(S,!1,f),hb(S,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[kg]||(g[kg]=!0,hb("selectionchange",!1,g))}}function XE(f,g,S,M){switch(jE(g)){case 1:var W=nW;break;case 4:W=rW;break;default:W=Yy}S=W.bind(null,g,S,f),W=void 0,!en||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(W=!0),M?W!==void 0?f.addEventListener(g,S,{capture:!0,passive:W}):f.addEventListener(g,S,!0):W!==void 0?f.addEventListener(g,S,{passive:W}):f.addEventListener(g,S,!1)}function mb(f,g,S,M,W){var G=M;if((g&1)===0&&(g&2)===0&&M!==null)e:for(;;){if(M===null)return;var ne=M.tag;if(ne===3||ne===4){var fe=M.stateNode.containerInfo;if(fe===W||fe.nodeType===8&&fe.parentNode===W)break;if(ne===4)for(ne=M.return;ne!==null;){var be=ne.tag;if((be===3||be===4)&&(be=ne.stateNode.containerInfo,be===W||be.nodeType===8&&be.parentNode===W))return;ne=ne.return}for(;fe!==null;){if(ne=Pc(fe),ne===null)return;if(be=ne.tag,be===5||be===6){M=G=ne;continue e}fe=fe.parentNode}}M=M.return}ns(function(){var Re=G,at=Ar(S),dt=[];e:{var st=GE.get(f);if(st!==void 0){var At=Xy,It=f;switch(f){case"keypress":if(jg(S)===0)break e;case"keydown":case"keyup":At=yW;break;case"focusin":It="focus",At=tb;break;case"focusout":It="blur",At=tb;break;case"beforeblur":case"afterblur":At=tb;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=_E;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=lW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=wW;break;case VE:case WE:case HE:At=dW;break;case KE:At=_W;break;case"scroll":At=aW;break;case"wheel":At=CW;break;case"copy":case"cut":case"paste":At=hW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=CE}var qt=(g&4)!==0,Fn=!qt&&f==="scroll",Ae=qt?st!==null?st+"Capture":null:st;qt=[];for(var ke=Re,Oe;ke!==null;){Oe=ke;var gt=Oe.stateNode;if(Oe.tag===5&&gt!==null&&(Oe=gt,Ae!==null&&(gt=ms(ke,Ae),gt!=null&&qt.push(Mm(ke,gt,Oe)))),Fn)break;ke=ke.return}0<qt.length&&(st=new At(st,It,null,S,at),dt.push({event:st,listeners:qt}))}}if((g&7)===0){e:{if(st=f==="mouseover"||f==="pointerover",At=f==="mouseout"||f==="pointerout",st&&S!==Fs&&(It=S.relatedTarget||S.fromElement)&&(Pc(It)||It[Tl]))break e;if((At||st)&&(st=at.window===at?at:(st=at.ownerDocument)?st.defaultView||st.parentWindow:window,At?(It=S.relatedTarget||S.toElement,At=Re,It=It?Pc(It):null,It!==null&&(Fn=Pt(It),It!==Fn||It.tag!==5&&It.tag!==6)&&(It=null)):(At=null,It=Re),At!==It)){if(qt=_E,gt="onMouseLeave",Ae="onMouseEnter",ke="mouse",(f==="pointerout"||f==="pointerover")&&(qt=CE,gt="onPointerLeave",Ae="onPointerEnter",ke="pointer"),Fn=At==null?st:mu(At),Oe=It==null?st:mu(It),st=new qt(gt,ke+"leave",At,S,at),st.target=Fn,st.relatedTarget=Oe,gt=null,Pc(at)===Re&&(qt=new qt(Ae,ke+"enter",It,S,at),qt.target=Oe,qt.relatedTarget=Fn,gt=qt),Fn=gt,At&&It)t:{for(qt=At,Ae=It,ke=0,Oe=qt;Oe;Oe=uu(Oe))ke++;for(Oe=0,gt=Ae;gt;gt=uu(gt))Oe++;for(;0<ke-Oe;)qt=uu(qt),ke--;for(;0<Oe-ke;)Ae=uu(Ae),Oe--;for(;ke--;){if(qt===Ae||Ae!==null&&qt===Ae.alternate)break t;qt=uu(qt),Ae=uu(Ae)}qt=null}else qt=null;At!==null&&ZE(dt,st,At,qt,!1),It!==null&&Fn!==null&&ZE(dt,Fn,It,qt,!0)}}e:{if(st=Re?mu(Re):window,At=st.nodeName&&st.nodeName.toLowerCase(),At==="select"||At==="input"&&st.type==="file")var Vt=MW;else if(OE(st))if(DE)Vt=IW;else{Vt=RW;var es=DW}else(At=st.nodeName)&&At.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(Vt=FW);if(Vt&&(Vt=Vt(f,Re))){ME(dt,Vt,S,at);break e}es&&es(f,st,Re),f==="focusout"&&(es=st._wrapperState)&&es.controlled&&st.type==="number"&&Se(st,"number",st.value)}switch(es=Re?mu(Re):window,f){case"focusin":(OE(es)||es.contentEditable==="true")&&(cu=es,lb=Re,Pm=null);break;case"focusout":Pm=lb=cu=null;break;case"mousedown":ob=!0;break;case"contextmenu":case"mouseup":case"dragend":ob=!1,UE(dt,S,at);break;case"selectionchange":if(qW)break;case"keydown":case"keyup":UE(dt,S,at)}var ts;if(nb)e:{switch(f){case"compositionstart":var ds="onCompositionStart";break e;case"compositionend":ds="onCompositionEnd";break e;case"compositionupdate":ds="onCompositionUpdate";break e}ds=void 0}else ou?PE(f,S)&&(ds="onCompositionEnd"):f==="keydown"&&S.keyCode===229&&(ds="onCompositionStart");ds&&(kE&&S.locale!=="ko"&&(ou||ds!=="onCompositionStart"?ds==="onCompositionEnd"&&ou&&(ts=wE()):(_o=at,Jy="value"in _o?_o.value:_o.textContent,ou=!0)),es=Eg(Re,ds),0<es.length&&(ds=new SE(ds,f,null,S,at),dt.push({event:ds,listeners:es}),ts?ds.data=ts:(ts=AE(S),ts!==null&&(ds.data=ts)))),(ts=EW?TW(f,S):PW(f,S))&&(Re=Eg(Re,"onBeforeInput"),0<Re.length&&(at=new SE("onBeforeInput","beforeinput",null,S,at),dt.push({event:at,listeners:Re}),at.data=ts))}JE(dt,g)})}function Mm(f,g,S){return{instance:f,listener:g,currentTarget:S}}function Eg(f,g){for(var S=g+"Capture",M=[];f!==null;){var W=f,G=W.stateNode;W.tag===5&&G!==null&&(W=G,G=ms(f,S),G!=null&&M.unshift(Mm(f,G,W)),G=ms(f,g),G!=null&&M.push(Mm(f,G,W))),f=f.return}return M}function uu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function ZE(f,g,S,M,W){for(var G=g._reactName,ne=[];S!==null&&S!==M;){var fe=S,be=fe.alternate,Re=fe.stateNode;if(be!==null&&be===M)break;fe.tag===5&&Re!==null&&(fe=Re,W?(be=ms(S,G),be!=null&&ne.unshift(Mm(S,be,fe))):W||(be=ms(S,G),be!=null&&ne.push(Mm(S,be,fe)))),S=S.return}ne.length!==0&&f.push({event:g,listeners:ne})}var VW=/\r\n?/g,WW=/\u0000|\uFFFD/g;function eT(f){return(typeof f=="string"?f:""+f).replace(VW,`
`).replace(WW,"")}function Tg(f,g,S){if(g=eT(g),eT(f)!==g&&S)throw Error(n(425))}function Pg(){}var fb=null,pb=null;function gb(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var xb=typeof setTimeout=="function"?setTimeout:void 0,HW=typeof clearTimeout=="function"?clearTimeout:void 0,tT=typeof Promise=="function"?Promise:void 0,KW=typeof queueMicrotask=="function"?queueMicrotask:typeof tT<"u"?function(f){return tT.resolve(null).then(f).catch(GW)}:xb;function GW(f){setTimeout(function(){throw f})}function vb(f,g){var S=g,M=0;do{var W=S.nextSibling;if(f.removeChild(S),W&&W.nodeType===8)if(S=W.data,S==="/$"){if(M===0){f.removeChild(W),Nm(g);return}M--}else S!=="$"&&S!=="$?"&&S!=="$!"||M++;S=W}while(S);Nm(g)}function Co(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return f}function sT(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var S=f.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return f;g--}else S==="/$"&&g++}f=f.previousSibling}return null}var hu=Math.random().toString(36).slice(2),Ki="__reactFiber$"+hu,Dm="__reactProps$"+hu,Tl="__reactContainer$"+hu,yb="__reactEvents$"+hu,YW="__reactListeners$"+hu,QW="__reactHandles$"+hu;function Pc(f){var g=f[Ki];if(g)return g;for(var S=f.parentNode;S;){if(g=S[Tl]||S[Ki]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(f=sT(f);f!==null;){if(S=f[Ki])return S;f=sT(f)}return g}f=S,S=f.parentNode}return null}function Rm(f){return f=f[Ki]||f[Tl],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function mu(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function Ag(f){return f[Dm]||null}var bb=[],fu=-1;function ko(f){return{current:f}}function pn(f){0>fu||(f.current=bb[fu],bb[fu]=null,fu--)}function on(f,g){fu++,bb[fu]=f.current,f.current=g}var Eo={},xr=ko(Eo),Zr=ko(!1),Ac=Eo;function pu(f,g){var S=f.type.contextTypes;if(!S)return Eo;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===g)return M.__reactInternalMemoizedMaskedChildContext;var W={},G;for(G in S)W[G]=g[G];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=g,f.__reactInternalMemoizedMaskedChildContext=W),W}function ea(f){return f=f.childContextTypes,f!=null}function Og(){pn(Zr),pn(xr)}function nT(f,g,S){if(xr.current!==Eo)throw Error(n(168));on(xr,g),on(Zr,S)}function rT(f,g,S){var M=f.stateNode;if(g=g.childContextTypes,typeof M.getChildContext!="function")return S;M=M.getChildContext();for(var W in M)if(!(W in g))throw Error(n(108,K(f)||"Unknown",W));return I({},S,M)}function Mg(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Eo,Ac=xr.current,on(xr,f),on(Zr,Zr.current),!0}function aT(f,g,S){var M=f.stateNode;if(!M)throw Error(n(169));S?(f=rT(f,g,Ac),M.__reactInternalMemoizedMergedChildContext=f,pn(Zr),pn(xr),on(xr,f)):pn(Zr),on(Zr,S)}var Pl=null,Dg=!1,jb=!1;function iT(f){Pl===null?Pl=[f]:Pl.push(f)}function JW(f){Dg=!0,iT(f)}function To(){if(!jb&&Pl!==null){jb=!0;var f=0,g=ie;try{var S=Pl;for(ie=1;f<S.length;f++){var M=S[f];do M=M(!0);while(M!==null)}Pl=null,Dg=!1}catch(W){throw Pl!==null&&(Pl=Pl.slice(f+1)),Zd(yo,To),W}finally{ie=g,jb=!1}}return null}var gu=[],xu=0,Rg=null,Fg=0,Ua=[],za=0,Oc=null,Al=1,Ol="";function Mc(f,g){gu[xu++]=Fg,gu[xu++]=Rg,Rg=f,Fg=g}function lT(f,g,S){Ua[za++]=Al,Ua[za++]=Ol,Ua[za++]=Oc,Oc=f;var M=Al;f=Ol;var W=32-ge(M)-1;M&=~(1<<W),S+=1;var G=32-ge(g)+W;if(30<G){var ne=W-W%5;G=(M&(1<<ne)-1).toString(32),M>>=ne,W-=ne,Al=1<<32-ge(g)+W|S<<W|M,Ol=G+f}else Al=1<<G|S<<W|M,Ol=f}function wb(f){f.return!==null&&(Mc(f,1),lT(f,1,0))}function Nb(f){for(;f===Rg;)Rg=gu[--xu],gu[xu]=null,Fg=gu[--xu],gu[xu]=null;for(;f===Oc;)Oc=Ua[--za],Ua[za]=null,Ol=Ua[--za],Ua[za]=null,Al=Ua[--za],Ua[za]=null}var Na=null,_a=null,bn=!1,gi=null;function oT(f,g){var S=Ka(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=f,g=f.deletions,g===null?(f.deletions=[S],f.flags|=16):g.push(S)}function cT(f,g){switch(f.tag){case 5:var S=f.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(f.stateNode=g,Na=f,_a=Co(g.firstChild),!0):!1;case 6:return g=f.pendingProps===""||g.nodeType!==3?null:g,g!==null?(f.stateNode=g,Na=f,_a=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Oc!==null?{id:Al,overflow:Ol}:null,f.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=Ka(18,null,null,0),S.stateNode=g,S.return=f,f.child=S,Na=f,_a=null,!0):!1;default:return!1}}function _b(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Sb(f){if(bn){var g=_a;if(g){var S=g;if(!cT(f,g)){if(_b(f))throw Error(n(418));g=Co(S.nextSibling);var M=Na;g&&cT(f,g)?oT(M,S):(f.flags=f.flags&-4097|2,bn=!1,Na=f)}}else{if(_b(f))throw Error(n(418));f.flags=f.flags&-4097|2,bn=!1,Na=f}}}function dT(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Na=f}function Ig(f){if(f!==Na)return!1;if(!bn)return dT(f),bn=!0,!1;var g;if((g=f.tag!==3)&&!(g=f.tag!==5)&&(g=f.type,g=g!=="head"&&g!=="body"&&!gb(f.type,f.memoizedProps)),g&&(g=_a)){if(_b(f))throw uT(),Error(n(418));for(;g;)oT(f,g),g=Co(g.nextSibling)}if(dT(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8){var S=f.data;if(S==="/$"){if(g===0){_a=Co(f.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}f=f.nextSibling}_a=null}}else _a=Na?Co(f.stateNode.nextSibling):null;return!0}function uT(){for(var f=_a;f;)f=Co(f.nextSibling)}function vu(){_a=Na=null,bn=!1}function Cb(f){gi===null?gi=[f]:gi.push(f)}var XW=_.ReactCurrentBatchConfig;function Fm(f,g,S){if(f=S.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(n(309));var M=S.stateNode}if(!M)throw Error(n(147,f));var W=M,G=""+f;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===G?g.ref:(g=function(ne){var fe=W.refs;ne===null?delete fe[G]:fe[G]=ne},g._stringRef=G,g)}if(typeof f!="string")throw Error(n(284));if(!S._owner)throw Error(n(290,f))}return f}function Lg(f,g){throw f=Object.prototype.toString.call(g),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f))}function hT(f){var g=f._init;return g(f._payload)}function mT(f){function g(Ae,ke){if(f){var Oe=Ae.deletions;Oe===null?(Ae.deletions=[ke],Ae.flags|=16):Oe.push(ke)}}function S(Ae,ke){if(!f)return null;for(;ke!==null;)g(Ae,ke),ke=ke.sibling;return null}function M(Ae,ke){for(Ae=new Map;ke!==null;)ke.key!==null?Ae.set(ke.key,ke):Ae.set(ke.index,ke),ke=ke.sibling;return Ae}function W(Ae,ke){return Ae=Io(Ae,ke),Ae.index=0,Ae.sibling=null,Ae}function G(Ae,ke,Oe){return Ae.index=Oe,f?(Oe=Ae.alternate,Oe!==null?(Oe=Oe.index,Oe<ke?(Ae.flags|=2,ke):Oe):(Ae.flags|=2,ke)):(Ae.flags|=1048576,ke)}function ne(Ae){return f&&Ae.alternate===null&&(Ae.flags|=2),Ae}function fe(Ae,ke,Oe,gt){return ke===null||ke.tag!==6?(ke=xj(Oe,Ae.mode,gt),ke.return=Ae,ke):(ke=W(ke,Oe),ke.return=Ae,ke)}function be(Ae,ke,Oe,gt){var Vt=Oe.type;return Vt===E?at(Ae,ke,Oe.props.children,gt,Oe.key):ke!==null&&(ke.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===z&&hT(Vt)===ke.type)?(gt=W(ke,Oe.props),gt.ref=Fm(Ae,ke,Oe),gt.return=Ae,gt):(gt=ox(Oe.type,Oe.key,Oe.props,null,Ae.mode,gt),gt.ref=Fm(Ae,ke,Oe),gt.return=Ae,gt)}function Re(Ae,ke,Oe,gt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Oe.containerInfo||ke.stateNode.implementation!==Oe.implementation?(ke=vj(Oe,Ae.mode,gt),ke.return=Ae,ke):(ke=W(ke,Oe.children||[]),ke.return=Ae,ke)}function at(Ae,ke,Oe,gt,Vt){return ke===null||ke.tag!==7?(ke=$c(Oe,Ae.mode,gt,Vt),ke.return=Ae,ke):(ke=W(ke,Oe),ke.return=Ae,ke)}function dt(Ae,ke,Oe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=xj(""+ke,Ae.mode,Oe),ke.return=Ae,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case P:return Oe=ox(ke.type,ke.key,ke.props,null,Ae.mode,Oe),Oe.ref=Fm(Ae,null,ke),Oe.return=Ae,Oe;case A:return ke=vj(ke,Ae.mode,Oe),ke.return=Ae,ke;case z:var gt=ke._init;return dt(Ae,gt(ke._payload),Oe)}if(Ye(ke)||$(ke))return ke=$c(ke,Ae.mode,Oe,null),ke.return=Ae,ke;Lg(Ae,ke)}return null}function st(Ae,ke,Oe,gt){var Vt=ke!==null?ke.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Vt!==null?null:fe(Ae,ke,""+Oe,gt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case P:return Oe.key===Vt?be(Ae,ke,Oe,gt):null;case A:return Oe.key===Vt?Re(Ae,ke,Oe,gt):null;case z:return Vt=Oe._init,st(Ae,ke,Vt(Oe._payload),gt)}if(Ye(Oe)||$(Oe))return Vt!==null?null:at(Ae,ke,Oe,gt,null);Lg(Ae,Oe)}return null}function At(Ae,ke,Oe,gt,Vt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return Ae=Ae.get(Oe)||null,fe(ke,Ae,""+gt,Vt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case P:return Ae=Ae.get(gt.key===null?Oe:gt.key)||null,be(ke,Ae,gt,Vt);case A:return Ae=Ae.get(gt.key===null?Oe:gt.key)||null,Re(ke,Ae,gt,Vt);case z:var es=gt._init;return At(Ae,ke,Oe,es(gt._payload),Vt)}if(Ye(gt)||$(gt))return Ae=Ae.get(Oe)||null,at(ke,Ae,gt,Vt,null);Lg(ke,gt)}return null}function It(Ae,ke,Oe,gt){for(var Vt=null,es=null,ts=ke,ds=ke=0,nr=null;ts!==null&&ds<Oe.length;ds++){ts.index>ds?(nr=ts,ts=null):nr=ts.sibling;var zs=st(Ae,ts,Oe[ds],gt);if(zs===null){ts===null&&(ts=nr);break}f&&ts&&zs.alternate===null&&g(Ae,ts),ke=G(zs,ke,ds),es===null?Vt=zs:es.sibling=zs,es=zs,ts=nr}if(ds===Oe.length)return S(Ae,ts),bn&&Mc(Ae,ds),Vt;if(ts===null){for(;ds<Oe.length;ds++)ts=dt(Ae,Oe[ds],gt),ts!==null&&(ke=G(ts,ke,ds),es===null?Vt=ts:es.sibling=ts,es=ts);return bn&&Mc(Ae,ds),Vt}for(ts=M(Ae,ts);ds<Oe.length;ds++)nr=At(ts,Ae,ds,Oe[ds],gt),nr!==null&&(f&&nr.alternate!==null&&ts.delete(nr.key===null?ds:nr.key),ke=G(nr,ke,ds),es===null?Vt=nr:es.sibling=nr,es=nr);return f&&ts.forEach(function(Lo){return g(Ae,Lo)}),bn&&Mc(Ae,ds),Vt}function qt(Ae,ke,Oe,gt){var Vt=$(Oe);if(typeof Vt!="function")throw Error(n(150));if(Oe=Vt.call(Oe),Oe==null)throw Error(n(151));for(var es=Vt=null,ts=ke,ds=ke=0,nr=null,zs=Oe.next();ts!==null&&!zs.done;ds++,zs=Oe.next()){ts.index>ds?(nr=ts,ts=null):nr=ts.sibling;var Lo=st(Ae,ts,zs.value,gt);if(Lo===null){ts===null&&(ts=nr);break}f&&ts&&Lo.alternate===null&&g(Ae,ts),ke=G(Lo,ke,ds),es===null?Vt=Lo:es.sibling=Lo,es=Lo,ts=nr}if(zs.done)return S(Ae,ts),bn&&Mc(Ae,ds),Vt;if(ts===null){for(;!zs.done;ds++,zs=Oe.next())zs=dt(Ae,zs.value,gt),zs!==null&&(ke=G(zs,ke,ds),es===null?Vt=zs:es.sibling=zs,es=zs);return bn&&Mc(Ae,ds),Vt}for(ts=M(Ae,ts);!zs.done;ds++,zs=Oe.next())zs=At(ts,Ae,ds,zs.value,gt),zs!==null&&(f&&zs.alternate!==null&&ts.delete(zs.key===null?ds:zs.key),ke=G(zs,ke,ds),es===null?Vt=zs:es.sibling=zs,es=zs);return f&&ts.forEach(function(AH){return g(Ae,AH)}),bn&&Mc(Ae,ds),Vt}function Fn(Ae,ke,Oe,gt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===E&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case P:e:{for(var Vt=Oe.key,es=ke;es!==null;){if(es.key===Vt){if(Vt=Oe.type,Vt===E){if(es.tag===7){S(Ae,es.sibling),ke=W(es,Oe.props.children),ke.return=Ae,Ae=ke;break e}}else if(es.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===z&&hT(Vt)===es.type){S(Ae,es.sibling),ke=W(es,Oe.props),ke.ref=Fm(Ae,es,Oe),ke.return=Ae,Ae=ke;break e}S(Ae,es);break}else g(Ae,es);es=es.sibling}Oe.type===E?(ke=$c(Oe.props.children,Ae.mode,gt,Oe.key),ke.return=Ae,Ae=ke):(gt=ox(Oe.type,Oe.key,Oe.props,null,Ae.mode,gt),gt.ref=Fm(Ae,ke,Oe),gt.return=Ae,Ae=gt)}return ne(Ae);case A:e:{for(es=Oe.key;ke!==null;){if(ke.key===es)if(ke.tag===4&&ke.stateNode.containerInfo===Oe.containerInfo&&ke.stateNode.implementation===Oe.implementation){S(Ae,ke.sibling),ke=W(ke,Oe.children||[]),ke.return=Ae,Ae=ke;break e}else{S(Ae,ke);break}else g(Ae,ke);ke=ke.sibling}ke=vj(Oe,Ae.mode,gt),ke.return=Ae,Ae=ke}return ne(Ae);case z:return es=Oe._init,Fn(Ae,ke,es(Oe._payload),gt)}if(Ye(Oe))return It(Ae,ke,Oe,gt);if($(Oe))return qt(Ae,ke,Oe,gt);Lg(Ae,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,ke!==null&&ke.tag===6?(S(Ae,ke.sibling),ke=W(ke,Oe),ke.return=Ae,Ae=ke):(S(Ae,ke),ke=xj(Oe,Ae.mode,gt),ke.return=Ae,Ae=ke),ne(Ae)):S(Ae,ke)}return Fn}var yu=mT(!0),fT=mT(!1),Bg=ko(null),qg=null,bu=null,kb=null;function Eb(){kb=bu=qg=null}function Tb(f){var g=Bg.current;pn(Bg),f._currentValue=g}function Pb(f,g,S){for(;f!==null;){var M=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,M!==null&&(M.childLanes|=g)):M!==null&&(M.childLanes&g)!==g&&(M.childLanes|=g),f===S)break;f=f.return}}function ju(f,g){qg=f,kb=bu=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&g)!==0&&(ta=!0),f.firstContext=null)}function Va(f){var g=f._currentValue;if(kb!==f)if(f={context:f,memoizedValue:g,next:null},bu===null){if(qg===null)throw Error(n(308));bu=f,qg.dependencies={lanes:0,firstContext:f}}else bu=bu.next=f;return g}var Dc=null;function Ab(f){Dc===null?Dc=[f]:Dc.push(f)}function pT(f,g,S,M){var W=g.interleaved;return W===null?(S.next=S,Ab(g)):(S.next=W.next,W.next=S),g.interleaved=S,Ml(f,M)}function Ml(f,g){f.lanes|=g;var S=f.alternate;for(S!==null&&(S.lanes|=g),S=f,f=f.return;f!==null;)f.childLanes|=g,S=f.alternate,S!==null&&(S.childLanes|=g),S=f,f=f.return;return S.tag===3?S.stateNode:null}var Po=!1;function Ob(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gT(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Dl(f,g){return{eventTime:f,lane:g,tag:0,payload:null,callback:null,next:null}}function Ao(f,g,S){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(qs&2)!==0){var W=M.pending;return W===null?g.next=g:(g.next=W.next,W.next=g),M.pending=g,Ml(f,S)}return W=M.interleaved,W===null?(g.next=g,Ab(M)):(g.next=W.next,W.next=g),M.interleaved=g,Ml(f,S)}function $g(f,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var M=g.lanes;M&=f.pendingLanes,S|=M,g.lanes=S,au(f,S)}}function xT(f,g){var S=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var W=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};G===null?W=G=ne:G=G.next=ne,S=S.next}while(S!==null);G===null?W=G=g:G=G.next=g}else W=G=g;S={baseState:M.baseState,firstBaseUpdate:W,lastBaseUpdate:G,shared:M.shared,effects:M.effects},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=g:f.next=g,S.lastBaseUpdate=g}function Ug(f,g,S,M){var W=f.updateQueue;Po=!1;var G=W.firstBaseUpdate,ne=W.lastBaseUpdate,fe=W.shared.pending;if(fe!==null){W.shared.pending=null;var be=fe,Re=be.next;be.next=null,ne===null?G=Re:ne.next=Re,ne=be;var at=f.alternate;at!==null&&(at=at.updateQueue,fe=at.lastBaseUpdate,fe!==ne&&(fe===null?at.firstBaseUpdate=Re:fe.next=Re,at.lastBaseUpdate=be))}if(G!==null){var dt=W.baseState;ne=0,at=Re=be=null,fe=G;do{var st=fe.lane,At=fe.eventTime;if((M&st)===st){at!==null&&(at=at.next={eventTime:At,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var It=f,qt=fe;switch(st=g,At=S,qt.tag){case 1:if(It=qt.payload,typeof It=="function"){dt=It.call(At,dt,st);break e}dt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=qt.payload,st=typeof It=="function"?It.call(At,dt,st):It,st==null)break e;dt=I({},dt,st);break e;case 2:Po=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,st=W.effects,st===null?W.effects=[fe]:st.push(fe))}else At={eventTime:At,lane:st,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},at===null?(Re=at=At,be=dt):at=at.next=At,ne|=st;if(fe=fe.next,fe===null){if(fe=W.shared.pending,fe===null)break;st=fe,fe=st.next,st.next=null,W.lastBaseUpdate=st,W.shared.pending=null}}while(!0);if(at===null&&(be=dt),W.baseState=be,W.firstBaseUpdate=Re,W.lastBaseUpdate=at,g=W.shared.interleaved,g!==null){W=g;do ne|=W.lane,W=W.next;while(W!==g)}else G===null&&(W.shared.lanes=0);Ic|=ne,f.lanes=ne,f.memoizedState=dt}}function vT(f,g,S){if(f=g.effects,g.effects=null,f!==null)for(g=0;g<f.length;g++){var M=f[g],W=M.callback;if(W!==null){if(M.callback=null,M=S,typeof W!="function")throw Error(n(191,W));W.call(M)}}}var Im={},Gi=ko(Im),Lm=ko(Im),Bm=ko(Im);function Rc(f){if(f===Im)throw Error(n(174));return f}function Mb(f,g){switch(on(Bm,g),on(Lm,f),on(Gi,Im),f=g.nodeType,f){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ue(null,"");break;default:f=f===8?g.parentNode:g,g=f.namespaceURI||null,f=f.tagName,g=Ue(g,f)}pn(Gi),on(Gi,g)}function wu(){pn(Gi),pn(Lm),pn(Bm)}function yT(f){Rc(Bm.current);var g=Rc(Gi.current),S=Ue(g,f.type);g!==S&&(on(Lm,f),on(Gi,S))}function Db(f){Lm.current===f&&(pn(Gi),pn(Lm))}var Sn=ko(0);function zg(f){for(var g=f;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Rb=[];function Fb(){for(var f=0;f<Rb.length;f++)Rb[f]._workInProgressVersionPrimary=null;Rb.length=0}var Vg=_.ReactCurrentDispatcher,Ib=_.ReactCurrentBatchConfig,Fc=0,Cn=null,Hn=null,tr=null,Wg=!1,qm=!1,$m=0,ZW=0;function vr(){throw Error(n(321))}function Lb(f,g){if(g===null)return!1;for(var S=0;S<g.length&&S<f.length;S++)if(!pi(f[S],g[S]))return!1;return!0}function Bb(f,g,S,M,W,G){if(Fc=G,Cn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Vg.current=f===null||f.memoizedState===null?nH:rH,f=S(M,W),qm){G=0;do{if(qm=!1,$m=0,25<=G)throw Error(n(301));G+=1,tr=Hn=null,g.updateQueue=null,Vg.current=aH,f=S(M,W)}while(qm)}if(Vg.current=Gg,g=Hn!==null&&Hn.next!==null,Fc=0,tr=Hn=Cn=null,Wg=!1,g)throw Error(n(300));return f}function qb(){var f=$m!==0;return $m=0,f}function Yi(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Cn.memoizedState=tr=f:tr=tr.next=f,tr}function Wa(){if(Hn===null){var f=Cn.alternate;f=f!==null?f.memoizedState:null}else f=Hn.next;var g=tr===null?Cn.memoizedState:tr.next;if(g!==null)tr=g,Hn=f;else{if(f===null)throw Error(n(310));Hn=f,f={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},tr===null?Cn.memoizedState=tr=f:tr=tr.next=f}return tr}function Um(f,g){return typeof g=="function"?g(f):g}function $b(f){var g=Wa(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=f;var M=Hn,W=M.baseQueue,G=S.pending;if(G!==null){if(W!==null){var ne=W.next;W.next=G.next,G.next=ne}M.baseQueue=W=G,S.pending=null}if(W!==null){G=W.next,M=M.baseState;var fe=ne=null,be=null,Re=G;do{var at=Re.lane;if((Fc&at)===at)be!==null&&(be=be.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),M=Re.hasEagerState?Re.eagerState:f(M,Re.action);else{var dt={lane:at,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};be===null?(fe=be=dt,ne=M):be=be.next=dt,Cn.lanes|=at,Ic|=at}Re=Re.next}while(Re!==null&&Re!==G);be===null?ne=M:be.next=fe,pi(M,g.memoizedState)||(ta=!0),g.memoizedState=M,g.baseState=ne,g.baseQueue=be,S.lastRenderedState=M}if(f=S.interleaved,f!==null){W=f;do G=W.lane,Cn.lanes|=G,Ic|=G,W=W.next;while(W!==f)}else W===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function Ub(f){var g=Wa(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=f;var M=S.dispatch,W=S.pending,G=g.memoizedState;if(W!==null){S.pending=null;var ne=W=W.next;do G=f(G,ne.action),ne=ne.next;while(ne!==W);pi(G,g.memoizedState)||(ta=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),S.lastRenderedState=G}return[G,M]}function bT(){}function jT(f,g){var S=Cn,M=Wa(),W=g(),G=!pi(M.memoizedState,W);if(G&&(M.memoizedState=W,ta=!0),M=M.queue,zb(_T.bind(null,S,M,f),[f]),M.getSnapshot!==g||G||tr!==null&&tr.memoizedState.tag&1){if(S.flags|=2048,zm(9,NT.bind(null,S,M,W,g),void 0,null),sr===null)throw Error(n(349));(Fc&30)!==0||wT(S,g,W)}return W}function wT(f,g,S){f.flags|=16384,f={getSnapshot:g,value:S},g=Cn.updateQueue,g===null?(g={lastEffect:null,stores:null},Cn.updateQueue=g,g.stores=[f]):(S=g.stores,S===null?g.stores=[f]:S.push(f))}function NT(f,g,S,M){g.value=S,g.getSnapshot=M,ST(g)&&CT(f)}function _T(f,g,S){return S(function(){ST(g)&&CT(f)})}function ST(f){var g=f.getSnapshot;f=f.value;try{var S=g();return!pi(f,S)}catch{return!0}}function CT(f){var g=Ml(f,1);g!==null&&bi(g,f,1,-1)}function kT(f){var g=Yi();return typeof f=="function"&&(f=f()),g.memoizedState=g.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:f},g.queue=f,f=f.dispatch=sH.bind(null,Cn,f),[g.memoizedState,f]}function zm(f,g,S,M){return f={tag:f,create:g,destroy:S,deps:M,next:null},g=Cn.updateQueue,g===null?(g={lastEffect:null,stores:null},Cn.updateQueue=g,g.lastEffect=f.next=f):(S=g.lastEffect,S===null?g.lastEffect=f.next=f:(M=S.next,S.next=f,f.next=M,g.lastEffect=f)),f}function ET(){return Wa().memoizedState}function Hg(f,g,S,M){var W=Yi();Cn.flags|=f,W.memoizedState=zm(1|g,S,void 0,M===void 0?null:M)}function Kg(f,g,S,M){var W=Wa();M=M===void 0?null:M;var G=void 0;if(Hn!==null){var ne=Hn.memoizedState;if(G=ne.destroy,M!==null&&Lb(M,ne.deps)){W.memoizedState=zm(g,S,G,M);return}}Cn.flags|=f,W.memoizedState=zm(1|g,S,G,M)}function TT(f,g){return Hg(8390656,8,f,g)}function zb(f,g){return Kg(2048,8,f,g)}function PT(f,g){return Kg(4,2,f,g)}function AT(f,g){return Kg(4,4,f,g)}function OT(f,g){if(typeof g=="function")return f=f(),g(f),function(){g(null)};if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function MT(f,g,S){return S=S!=null?S.concat([f]):null,Kg(4,4,OT.bind(null,g,f),S)}function Vb(){}function DT(f,g){var S=Wa();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&Lb(g,M[1])?M[0]:(S.memoizedState=[f,g],f)}function RT(f,g){var S=Wa();g=g===void 0?null:g;var M=S.memoizedState;return M!==null&&g!==null&&Lb(g,M[1])?M[0]:(f=f(),S.memoizedState=[f,g],f)}function FT(f,g,S){return(Fc&21)===0?(f.baseState&&(f.baseState=!1,ta=!0),f.memoizedState=S):(pi(S,g)||(S=pg(),Cn.lanes|=S,Ic|=S,f.baseState=!0),g)}function eH(f,g){var S=ie;ie=S!==0&&4>S?S:4,f(!0);var M=Ib.transition;Ib.transition={};try{f(!1),g()}finally{ie=S,Ib.transition=M}}function IT(){return Wa().memoizedState}function tH(f,g,S){var M=Ro(f);if(S={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null},LT(f))BT(g,S);else if(S=pT(f,g,S,M),S!==null){var W=Rr();bi(S,f,M,W),qT(S,g,M)}}function sH(f,g,S){var M=Ro(f),W={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null};if(LT(f))BT(g,W);else{var G=f.alternate;if(f.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var ne=g.lastRenderedState,fe=G(ne,S);if(W.hasEagerState=!0,W.eagerState=fe,pi(fe,ne)){var be=g.interleaved;be===null?(W.next=W,Ab(g)):(W.next=be.next,be.next=W),g.interleaved=W;return}}catch{}finally{}S=pT(f,g,W,M),S!==null&&(W=Rr(),bi(S,f,M,W),qT(S,g,M))}}function LT(f){var g=f.alternate;return f===Cn||g!==null&&g===Cn}function BT(f,g){qm=Wg=!0;var S=f.pending;S===null?g.next=g:(g.next=S.next,S.next=g),f.pending=g}function qT(f,g,S){if((S&4194240)!==0){var M=g.lanes;M&=f.pendingLanes,S|=M,g.lanes=S,au(f,S)}}var Gg={readContext:Va,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},nH={readContext:Va,useCallback:function(f,g){return Yi().memoizedState=[f,g===void 0?null:g],f},useContext:Va,useEffect:TT,useImperativeHandle:function(f,g,S){return S=S!=null?S.concat([f]):null,Hg(4194308,4,OT.bind(null,g,f),S)},useLayoutEffect:function(f,g){return Hg(4194308,4,f,g)},useInsertionEffect:function(f,g){return Hg(4,2,f,g)},useMemo:function(f,g){var S=Yi();return g=g===void 0?null:g,f=f(),S.memoizedState=[f,g],f},useReducer:function(f,g,S){var M=Yi();return g=S!==void 0?S(g):g,M.memoizedState=M.baseState=g,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:g},M.queue=f,f=f.dispatch=tH.bind(null,Cn,f),[M.memoizedState,f]},useRef:function(f){var g=Yi();return f={current:f},g.memoizedState=f},useState:kT,useDebugValue:Vb,useDeferredValue:function(f){return Yi().memoizedState=f},useTransition:function(){var f=kT(!1),g=f[0];return f=eH.bind(null,f[1]),Yi().memoizedState=f,[g,f]},useMutableSource:function(){},useSyncExternalStore:function(f,g,S){var M=Cn,W=Yi();if(bn){if(S===void 0)throw Error(n(407));S=S()}else{if(S=g(),sr===null)throw Error(n(349));(Fc&30)!==0||wT(M,g,S)}W.memoizedState=S;var G={value:S,getSnapshot:g};return W.queue=G,TT(_T.bind(null,M,G,f),[f]),M.flags|=2048,zm(9,NT.bind(null,M,G,S,g),void 0,null),S},useId:function(){var f=Yi(),g=sr.identifierPrefix;if(bn){var S=Ol,M=Al;S=(M&~(1<<32-ge(M)-1)).toString(32)+S,g=":"+g+"R"+S,S=$m++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=ZW++,g=":"+g+"r"+S.toString(32)+":";return f.memoizedState=g},unstable_isNewReconciler:!1},rH={readContext:Va,useCallback:DT,useContext:Va,useEffect:zb,useImperativeHandle:MT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:RT,useReducer:$b,useRef:ET,useState:function(){return $b(Um)},useDebugValue:Vb,useDeferredValue:function(f){var g=Wa();return FT(g,Hn.memoizedState,f)},useTransition:function(){var f=$b(Um)[0],g=Wa().memoizedState;return[f,g]},useMutableSource:bT,useSyncExternalStore:jT,useId:IT,unstable_isNewReconciler:!1},aH={readContext:Va,useCallback:DT,useContext:Va,useEffect:zb,useImperativeHandle:MT,useInsertionEffect:PT,useLayoutEffect:AT,useMemo:RT,useReducer:Ub,useRef:ET,useState:function(){return Ub(Um)},useDebugValue:Vb,useDeferredValue:function(f){var g=Wa();return Hn===null?g.memoizedState=f:FT(g,Hn.memoizedState,f)},useTransition:function(){var f=Ub(Um)[0],g=Wa().memoizedState;return[f,g]},useMutableSource:bT,useSyncExternalStore:jT,useId:IT,unstable_isNewReconciler:!1};function xi(f,g){if(f&&f.defaultProps){g=I({},g),f=f.defaultProps;for(var S in f)g[S]===void 0&&(g[S]=f[S]);return g}return g}function Wb(f,g,S,M){g=f.memoizedState,S=S(M,g),S=S==null?g:I({},g,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}var Yg={isMounted:function(f){return(f=f._reactInternals)?Pt(f)===f:!1},enqueueSetState:function(f,g,S){f=f._reactInternals;var M=Rr(),W=Ro(f),G=Dl(M,W);G.payload=g,S!=null&&(G.callback=S),g=Ao(f,G,W),g!==null&&(bi(g,f,W,M),$g(g,f,W))},enqueueReplaceState:function(f,g,S){f=f._reactInternals;var M=Rr(),W=Ro(f),G=Dl(M,W);G.tag=1,G.payload=g,S!=null&&(G.callback=S),g=Ao(f,G,W),g!==null&&(bi(g,f,W,M),$g(g,f,W))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var S=Rr(),M=Ro(f),W=Dl(S,M);W.tag=2,g!=null&&(W.callback=g),g=Ao(f,W,M),g!==null&&(bi(g,f,M,S),$g(g,f,M))}};function $T(f,g,S,M,W,G,ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,G,ne):g.prototype&&g.prototype.isPureReactComponent?!Tm(S,M)||!Tm(W,G):!0}function UT(f,g,S){var M=!1,W=Eo,G=g.contextType;return typeof G=="object"&&G!==null?G=Va(G):(W=ea(g)?Ac:xr.current,M=g.contextTypes,G=(M=M!=null)?pu(f,W):Eo),g=new g(S,G),f.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Yg,f.stateNode=g,g._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=W,f.__reactInternalMemoizedMaskedChildContext=G),g}function zT(f,g,S,M){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,M),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,M),g.state!==f&&Yg.enqueueReplaceState(g,g.state,null)}function Hb(f,g,S,M){var W=f.stateNode;W.props=S,W.state=f.memoizedState,W.refs={},Ob(f);var G=g.contextType;typeof G=="object"&&G!==null?W.context=Va(G):(G=ea(g)?Ac:xr.current,W.context=pu(f,G)),W.state=f.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(Wb(f,g,G,S),W.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(g=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),g!==W.state&&Yg.enqueueReplaceState(W,W.state,null),Ug(f,S,W,M),W.state=f.memoizedState),typeof W.componentDidMount=="function"&&(f.flags|=4194308)}function Nu(f,g){try{var S="",M=g;do S+=Q(M),M=M.return;while(M);var W=S}catch(G){W=`
Error generating stack: `+G.message+`
`+G.stack}return{value:f,source:g,stack:W,digest:null}}function Kb(f,g,S){return{value:f,source:null,stack:S??null,digest:g??null}}function Gb(f,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var iH=typeof WeakMap=="function"?WeakMap:Map;function VT(f,g,S){S=Dl(-1,S),S.tag=3,S.payload={element:null};var M=g.value;return S.callback=function(){sx||(sx=!0,cj=M),Gb(f,g)},S}function WT(f,g,S){S=Dl(-1,S),S.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var W=g.value;S.payload=function(){return M(W)},S.callback=function(){Gb(f,g)}}var G=f.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(S.callback=function(){Gb(f,g),typeof M!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var ne=g.stack;this.componentDidCatch(g.value,{componentStack:ne!==null?ne:""})}),S}function HT(f,g,S){var M=f.pingCache;if(M===null){M=f.pingCache=new iH;var W=new Set;M.set(g,W)}else W=M.get(g),W===void 0&&(W=new Set,M.set(g,W));W.has(S)||(W.add(S),f=bH.bind(null,f,g,S),g.then(f,f))}function KT(f){do{var g;if((g=f.tag===13)&&(g=f.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return f;f=f.return}while(f!==null);return null}function GT(f,g,S,M,W){return(f.mode&1)===0?(f===g?f.flags|=65536:(f.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Dl(-1,1),g.tag=2,Ao(S,g,1))),S.lanes|=1),f):(f.flags|=65536,f.lanes=W,f)}var lH=_.ReactCurrentOwner,ta=!1;function Dr(f,g,S,M){g.child=f===null?fT(g,null,S,M):yu(g,f.child,S,M)}function YT(f,g,S,M,W){S=S.render;var G=g.ref;return ju(g,W),M=Bb(f,g,S,M,G,W),S=qb(),f!==null&&!ta?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~W,Rl(f,g,W)):(bn&&S&&wb(g),g.flags|=1,Dr(f,g,M,W),g.child)}function QT(f,g,S,M,W){if(f===null){var G=S.type;return typeof G=="function"&&!gj(G)&&G.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=G,JT(f,g,G,M,W)):(f=ox(S.type,null,M,g,g.mode,W),f.ref=g.ref,f.return=g,g.child=f)}if(G=f.child,(f.lanes&W)===0){var ne=G.memoizedProps;if(S=S.compare,S=S!==null?S:Tm,S(ne,M)&&f.ref===g.ref)return Rl(f,g,W)}return g.flags|=1,f=Io(G,M),f.ref=g.ref,f.return=g,g.child=f}function JT(f,g,S,M,W){if(f!==null){var G=f.memoizedProps;if(Tm(G,M)&&f.ref===g.ref)if(ta=!1,g.pendingProps=M=G,(f.lanes&W)!==0)(f.flags&131072)!==0&&(ta=!0);else return g.lanes=f.lanes,Rl(f,g,W)}return Yb(f,g,S,M,W)}function XT(f,g,S){var M=g.pendingProps,W=M.children,G=f!==null?f.memoizedState:null;if(M.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Su,Sa),Sa|=S;else{if((S&1073741824)===0)return f=G!==null?G.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:f,cachePool:null,transitions:null},g.updateQueue=null,on(Su,Sa),Sa|=f,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=G!==null?G.baseLanes:S,on(Su,Sa),Sa|=M}else G!==null?(M=G.baseLanes|S,g.memoizedState=null):M=S,on(Su,Sa),Sa|=M;return Dr(f,g,W,S),g.child}function ZT(f,g){var S=g.ref;(f===null&&S!==null||f!==null&&f.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function Yb(f,g,S,M,W){var G=ea(S)?Ac:xr.current;return G=pu(g,G),ju(g,W),S=Bb(f,g,S,M,G,W),M=qb(),f!==null&&!ta?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~W,Rl(f,g,W)):(bn&&M&&wb(g),g.flags|=1,Dr(f,g,S,W),g.child)}function eP(f,g,S,M,W){if(ea(S)){var G=!0;Mg(g)}else G=!1;if(ju(g,W),g.stateNode===null)Jg(f,g),UT(g,S,M),Hb(g,S,M,W),M=!0;else if(f===null){var ne=g.stateNode,fe=g.memoizedProps;ne.props=fe;var be=ne.context,Re=S.contextType;typeof Re=="object"&&Re!==null?Re=Va(Re):(Re=ea(S)?Ac:xr.current,Re=pu(g,Re));var at=S.getDerivedStateFromProps,dt=typeof at=="function"||typeof ne.getSnapshotBeforeUpdate=="function";dt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(fe!==M||be!==Re)&&zT(g,ne,M,Re),Po=!1;var st=g.memoizedState;ne.state=st,Ug(g,M,ne,W),be=g.memoizedState,fe!==M||st!==be||Zr.current||Po?(typeof at=="function"&&(Wb(g,S,at,M),be=g.memoizedState),(fe=Po||$T(g,S,fe,M,st,be,Re))?(dt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=M,g.memoizedState=be),ne.props=M,ne.state=be,ne.context=Re,M=fe):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),M=!1)}else{ne=g.stateNode,gT(f,g),fe=g.memoizedProps,Re=g.type===g.elementType?fe:xi(g.type,fe),ne.props=Re,dt=g.pendingProps,st=ne.context,be=S.contextType,typeof be=="object"&&be!==null?be=Va(be):(be=ea(S)?Ac:xr.current,be=pu(g,be));var At=S.getDerivedStateFromProps;(at=typeof At=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(fe!==dt||st!==be)&&zT(g,ne,M,be),Po=!1,st=g.memoizedState,ne.state=st,Ug(g,M,ne,W);var It=g.memoizedState;fe!==dt||st!==It||Zr.current||Po?(typeof At=="function"&&(Wb(g,S,At,M),It=g.memoizedState),(Re=Po||$T(g,S,Re,M,st,It,be)||!1)?(at||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(M,It,be),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(M,It,be)),typeof ne.componentDidUpdate=="function"&&(g.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ne.componentDidUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(g.flags|=1024),g.memoizedProps=M,g.memoizedState=It),ne.props=M,ne.state=It,ne.context=be,M=Re):(typeof ne.componentDidUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&st===f.memoizedState||(g.flags|=1024),M=!1)}return Qb(f,g,S,M,G,W)}function Qb(f,g,S,M,W,G){ZT(f,g);var ne=(g.flags&128)!==0;if(!M&&!ne)return W&&aT(g,S,!1),Rl(f,g,G);M=g.stateNode,lH.current=g;var fe=ne&&typeof S.getDerivedStateFromError!="function"?null:M.render();return g.flags|=1,f!==null&&ne?(g.child=yu(g,f.child,null,G),g.child=yu(g,null,fe,G)):Dr(f,g,fe,G),g.memoizedState=M.state,W&&aT(g,S,!0),g.child}function tP(f){var g=f.stateNode;g.pendingContext?nT(f,g.pendingContext,g.pendingContext!==g.context):g.context&&nT(f,g.context,!1),Mb(f,g.containerInfo)}function sP(f,g,S,M,W){return vu(),Cb(W),g.flags|=256,Dr(f,g,S,M),g.child}var Jb={dehydrated:null,treeContext:null,retryLane:0};function Xb(f){return{baseLanes:f,cachePool:null,transitions:null}}function nP(f,g,S){var M=g.pendingProps,W=Sn.current,G=!1,ne=(g.flags&128)!==0,fe;if((fe=ne)||(fe=f!==null&&f.memoizedState===null?!1:(W&2)!==0),fe?(G=!0,g.flags&=-129):(f===null||f.memoizedState!==null)&&(W|=1),on(Sn,W&1),f===null)return Sb(g),f=g.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((g.mode&1)===0?g.lanes=1:f.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(ne=M.children,f=M.fallback,G?(M=g.mode,G=g.child,ne={mode:"hidden",children:ne},(M&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=ne):G=cx(ne,M,0,null),f=$c(f,M,S,null),G.return=g,f.return=g,G.sibling=f,g.child=G,g.child.memoizedState=Xb(S),g.memoizedState=Jb,f):Zb(g,ne));if(W=f.memoizedState,W!==null&&(fe=W.dehydrated,fe!==null))return oH(f,g,ne,M,fe,W,S);if(G){G=M.fallback,ne=g.mode,W=f.child,fe=W.sibling;var be={mode:"hidden",children:M.children};return(ne&1)===0&&g.child!==W?(M=g.child,M.childLanes=0,M.pendingProps=be,g.deletions=null):(M=Io(W,be),M.subtreeFlags=W.subtreeFlags&14680064),fe!==null?G=Io(fe,G):(G=$c(G,ne,S,null),G.flags|=2),G.return=g,M.return=g,M.sibling=G,g.child=M,M=G,G=g.child,ne=f.child.memoizedState,ne=ne===null?Xb(S):{baseLanes:ne.baseLanes|S,cachePool:null,transitions:ne.transitions},G.memoizedState=ne,G.childLanes=f.childLanes&~S,g.memoizedState=Jb,M}return G=f.child,f=G.sibling,M=Io(G,{mode:"visible",children:M.children}),(g.mode&1)===0&&(M.lanes=S),M.return=g,M.sibling=null,f!==null&&(S=g.deletions,S===null?(g.deletions=[f],g.flags|=16):S.push(f)),g.child=M,g.memoizedState=null,M}function Zb(f,g){return g=cx({mode:"visible",children:g},f.mode,0,null),g.return=f,f.child=g}function Qg(f,g,S,M){return M!==null&&Cb(M),yu(g,f.child,null,S),f=Zb(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function oH(f,g,S,M,W,G,ne){if(S)return g.flags&256?(g.flags&=-257,M=Kb(Error(n(422))),Qg(f,g,ne,M)):g.memoizedState!==null?(g.child=f.child,g.flags|=128,null):(G=M.fallback,W=g.mode,M=cx({mode:"visible",children:M.children},W,0,null),G=$c(G,W,ne,null),G.flags|=2,M.return=g,G.return=g,M.sibling=G,g.child=M,(g.mode&1)!==0&&yu(g,f.child,null,ne),g.child.memoizedState=Xb(ne),g.memoizedState=Jb,G);if((g.mode&1)===0)return Qg(f,g,ne,null);if(W.data==="$!"){if(M=W.nextSibling&&W.nextSibling.dataset,M)var fe=M.dgst;return M=fe,G=Error(n(419)),M=Kb(G,M,void 0),Qg(f,g,ne,M)}if(fe=(ne&f.childLanes)!==0,ta||fe){if(M=sr,M!==null){switch(ne&-ne){case 4:W=2;break;case 16:W=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:W=32;break;case 536870912:W=268435456;break;default:W=0}W=(W&(M.suspendedLanes|ne))!==0?0:W,W!==0&&W!==G.retryLane&&(G.retryLane=W,Ml(f,W),bi(M,f,W,-1))}return pj(),M=Kb(Error(n(421))),Qg(f,g,ne,M)}return W.data==="$?"?(g.flags|=128,g.child=f.child,g=jH.bind(null,f),W._reactRetry=g,null):(f=G.treeContext,_a=Co(W.nextSibling),Na=g,bn=!0,gi=null,f!==null&&(Ua[za++]=Al,Ua[za++]=Ol,Ua[za++]=Oc,Al=f.id,Ol=f.overflow,Oc=g),g=Zb(g,M.children),g.flags|=4096,g)}function rP(f,g,S){f.lanes|=g;var M=f.alternate;M!==null&&(M.lanes|=g),Pb(f.return,g,S)}function ej(f,g,S,M,W){var G=f.memoizedState;G===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:W}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=M,G.tail=S,G.tailMode=W)}function aP(f,g,S){var M=g.pendingProps,W=M.revealOrder,G=M.tail;if(Dr(f,g,M.children,S),M=Sn.current,(M&2)!==0)M=M&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&rP(f,S,g);else if(f.tag===19)rP(f,S,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(on(Sn,M),(g.mode&1)===0)g.memoizedState=null;else switch(W){case"forwards":for(S=g.child,W=null;S!==null;)f=S.alternate,f!==null&&zg(f)===null&&(W=S),S=S.sibling;S=W,S===null?(W=g.child,g.child=null):(W=S.sibling,S.sibling=null),ej(g,!1,W,S,G);break;case"backwards":for(S=null,W=g.child,g.child=null;W!==null;){if(f=W.alternate,f!==null&&zg(f)===null){g.child=W;break}f=W.sibling,W.sibling=S,S=W,W=f}ej(g,!0,S,null,G);break;case"together":ej(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Jg(f,g){(g.mode&1)===0&&f!==null&&(f.alternate=null,g.alternate=null,g.flags|=2)}function Rl(f,g,S){if(f!==null&&(g.dependencies=f.dependencies),Ic|=g.lanes,(S&g.childLanes)===0)return null;if(f!==null&&g.child!==f.child)throw Error(n(153));if(g.child!==null){for(f=g.child,S=Io(f,f.pendingProps),g.child=S,S.return=g;f.sibling!==null;)f=f.sibling,S=S.sibling=Io(f,f.pendingProps),S.return=g;S.sibling=null}return g.child}function cH(f,g,S){switch(g.tag){case 3:tP(g),vu();break;case 5:yT(g);break;case 1:ea(g.type)&&Mg(g);break;case 4:Mb(g,g.stateNode.containerInfo);break;case 10:var M=g.type._context,W=g.memoizedProps.value;on(Bg,M._currentValue),M._currentValue=W;break;case 13:if(M=g.memoizedState,M!==null)return M.dehydrated!==null?(on(Sn,Sn.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?nP(f,g,S):(on(Sn,Sn.current&1),f=Rl(f,g,S),f!==null?f.sibling:null);on(Sn,Sn.current&1);break;case 19:if(M=(S&g.childLanes)!==0,(f.flags&128)!==0){if(M)return aP(f,g,S);g.flags|=128}if(W=g.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),on(Sn,Sn.current),M)break;return null;case 22:case 23:return g.lanes=0,XT(f,g,S)}return Rl(f,g,S)}var iP,tj,lP,oP;iP=function(f,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)f.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},tj=function(){},lP=function(f,g,S,M){var W=f.memoizedProps;if(W!==M){f=g.stateNode,Rc(Gi.current);var G=null;switch(S){case"input":W=je(f,W),M=je(f,M),G=[];break;case"select":W=I({},W,{value:void 0}),M=I({},M,{value:void 0}),G=[];break;case"textarea":W=Me(f,W),M=Me(f,M),G=[];break;default:typeof W.onClick!="function"&&typeof M.onClick=="function"&&(f.onclick=Pg)}Zt(S,M);var ne;S=null;for(Re in W)if(!M.hasOwnProperty(Re)&&W.hasOwnProperty(Re)&&W[Re]!=null)if(Re==="style"){var fe=W[Re];for(ne in fe)fe.hasOwnProperty(ne)&&(S||(S={}),S[ne]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(a.hasOwnProperty(Re)?G||(G=[]):(G=G||[]).push(Re,null));for(Re in M){var be=M[Re];if(fe=W!=null?W[Re]:void 0,M.hasOwnProperty(Re)&&be!==fe&&(be!=null||fe!=null))if(Re==="style")if(fe){for(ne in fe)!fe.hasOwnProperty(ne)||be&&be.hasOwnProperty(ne)||(S||(S={}),S[ne]="");for(ne in be)be.hasOwnProperty(ne)&&fe[ne]!==be[ne]&&(S||(S={}),S[ne]=be[ne])}else S||(G||(G=[]),G.push(Re,S)),S=be;else Re==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,fe=fe?fe.__html:void 0,be!=null&&fe!==be&&(G=G||[]).push(Re,be)):Re==="children"?typeof be!="string"&&typeof be!="number"||(G=G||[]).push(Re,""+be):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(a.hasOwnProperty(Re)?(be!=null&&Re==="onScroll"&&fn("scroll",f),G||fe===be||(G=[])):(G=G||[]).push(Re,be))}S&&(G=G||[]).push("style",S);var Re=G;(g.updateQueue=Re)&&(g.flags|=4)}},oP=function(f,g,S,M){S!==M&&(g.flags|=4)};function Vm(f,g){if(!bn)switch(f.tailMode){case"hidden":g=f.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function yr(f){var g=f.alternate!==null&&f.alternate.child===f.child,S=0,M=0;if(g)for(var W=f.child;W!==null;)S|=W.lanes|W.childLanes,M|=W.subtreeFlags&14680064,M|=W.flags&14680064,W.return=f,W=W.sibling;else for(W=f.child;W!==null;)S|=W.lanes|W.childLanes,M|=W.subtreeFlags,M|=W.flags,W.return=f,W=W.sibling;return f.subtreeFlags|=M,f.childLanes=S,g}function dH(f,g,S){var M=g.pendingProps;switch(Nb(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(g),null;case 1:return ea(g.type)&&Og(),yr(g),null;case 3:return M=g.stateNode,wu(),pn(Zr),pn(xr),Fb(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(Ig(g)?g.flags|=4:f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,gi!==null&&(hj(gi),gi=null))),tj(f,g),yr(g),null;case 5:Db(g);var W=Rc(Bm.current);if(S=g.type,f!==null&&g.stateNode!=null)lP(f,g,S,M,W),f.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!M){if(g.stateNode===null)throw Error(n(166));return yr(g),null}if(f=Rc(Gi.current),Ig(g)){M=g.stateNode,S=g.type;var G=g.memoizedProps;switch(M[Ki]=g,M[Dm]=G,f=(g.mode&1)!==0,S){case"dialog":fn("cancel",M),fn("close",M);break;case"iframe":case"object":case"embed":fn("load",M);break;case"video":case"audio":for(W=0;W<Am.length;W++)fn(Am[W],M);break;case"source":fn("error",M);break;case"img":case"image":case"link":fn("error",M),fn("load",M);break;case"details":fn("toggle",M);break;case"input":Ne(M,G),fn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!G.multiple},fn("invalid",M);break;case"textarea":lt(M,G),fn("invalid",M)}Zt(S,G),W=null;for(var ne in G)if(G.hasOwnProperty(ne)){var fe=G[ne];ne==="children"?typeof fe=="string"?M.textContent!==fe&&(G.suppressHydrationWarning!==!0&&Tg(M.textContent,fe,f),W=["children",fe]):typeof fe=="number"&&M.textContent!==""+fe&&(G.suppressHydrationWarning!==!0&&Tg(M.textContent,fe,f),W=["children",""+fe]):a.hasOwnProperty(ne)&&fe!=null&&ne==="onScroll"&&fn("scroll",M)}switch(S){case"input":ue(M),Ee(M,G,!0);break;case"textarea":ue(M),it(M);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(M.onclick=Pg)}M=W,g.updateQueue=M,M!==null&&(g.flags|=4)}else{ne=W.nodeType===9?W:W.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=_e(S)),f==="http://www.w3.org/1999/xhtml"?S==="script"?(f=ne.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof M.is=="string"?f=ne.createElement(S,{is:M.is}):(f=ne.createElement(S),S==="select"&&(ne=f,M.multiple?ne.multiple=!0:M.size&&(ne.size=M.size))):f=ne.createElementNS(f,S),f[Ki]=g,f[Dm]=M,iP(f,g,!1,!1),g.stateNode=f;e:{switch(ne=yn(S,M),S){case"dialog":fn("cancel",f),fn("close",f),W=M;break;case"iframe":case"object":case"embed":fn("load",f),W=M;break;case"video":case"audio":for(W=0;W<Am.length;W++)fn(Am[W],f);W=M;break;case"source":fn("error",f),W=M;break;case"img":case"image":case"link":fn("error",f),fn("load",f),W=M;break;case"details":fn("toggle",f),W=M;break;case"input":Ne(f,M),W=je(f,M),fn("invalid",f);break;case"option":W=M;break;case"select":f._wrapperState={wasMultiple:!!M.multiple},W=I({},M,{value:void 0}),fn("invalid",f);break;case"textarea":lt(f,M),W=Me(f,M),fn("invalid",f);break;default:W=M}Zt(S,W),fe=W;for(G in fe)if(fe.hasOwnProperty(G)){var be=fe[G];G==="style"?Es(f,be):G==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&ht(f,be)):G==="children"?typeof be=="string"?(S!=="textarea"||be!=="")&&ct(f,be):typeof be=="number"&&ct(f,""+be):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(a.hasOwnProperty(G)?be!=null&&G==="onScroll"&&fn("scroll",f):be!=null&&N(f,G,be,ne))}switch(S){case"input":ue(f),Ee(f,M,!1);break;case"textarea":ue(f),it(f);break;case"option":M.value!=null&&f.setAttribute("value",""+ae(M.value));break;case"select":f.multiple=!!M.multiple,G=M.value,G!=null?Qe(f,!!M.multiple,G,!1):M.defaultValue!=null&&Qe(f,!!M.multiple,M.defaultValue,!0);break;default:typeof W.onClick=="function"&&(f.onclick=Pg)}switch(S){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return yr(g),null;case 6:if(f&&g.stateNode!=null)oP(f,g,f.memoizedProps,M);else{if(typeof M!="string"&&g.stateNode===null)throw Error(n(166));if(S=Rc(Bm.current),Rc(Gi.current),Ig(g)){if(M=g.stateNode,S=g.memoizedProps,M[Ki]=g,(G=M.nodeValue!==S)&&(f=Na,f!==null))switch(f.tag){case 3:Tg(M.nodeValue,S,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Tg(M.nodeValue,S,(f.mode&1)!==0)}G&&(g.flags|=4)}else M=(S.nodeType===9?S:S.ownerDocument).createTextNode(M),M[Ki]=g,g.stateNode=M}return yr(g),null;case 13:if(pn(Sn),M=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(bn&&_a!==null&&(g.mode&1)!==0&&(g.flags&128)===0)uT(),vu(),g.flags|=98560,G=!1;else if(G=Ig(g),M!==null&&M.dehydrated!==null){if(f===null){if(!G)throw Error(n(318));if(G=g.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(n(317));G[Ki]=g}else vu(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;yr(g),G=!1}else gi!==null&&(hj(gi),gi=null),G=!0;if(!G)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(M=M!==null,M!==(f!==null&&f.memoizedState!==null)&&M&&(g.child.flags|=8192,(g.mode&1)!==0&&(f===null||(Sn.current&1)!==0?Kn===0&&(Kn=3):pj())),g.updateQueue!==null&&(g.flags|=4),yr(g),null);case 4:return wu(),tj(f,g),f===null&&Om(g.stateNode.containerInfo),yr(g),null;case 10:return Tb(g.type._context),yr(g),null;case 17:return ea(g.type)&&Og(),yr(g),null;case 19:if(pn(Sn),G=g.memoizedState,G===null)return yr(g),null;if(M=(g.flags&128)!==0,ne=G.rendering,ne===null)if(M)Vm(G,!1);else{if(Kn!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(ne=zg(f),ne!==null){for(g.flags|=128,Vm(G,!1),M=ne.updateQueue,M!==null&&(g.updateQueue=M,g.flags|=4),g.subtreeFlags=0,M=S,S=g.child;S!==null;)G=S,f=M,G.flags&=14680066,ne=G.alternate,ne===null?(G.childLanes=0,G.lanes=f,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=ne.childLanes,G.lanes=ne.lanes,G.child=ne.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=ne.memoizedProps,G.memoizedState=ne.memoizedState,G.updateQueue=ne.updateQueue,G.type=ne.type,f=ne.dependencies,G.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),S=S.sibling;return on(Sn,Sn.current&1|2),g.child}f=f.sibling}G.tail!==null&&ln()>Cu&&(g.flags|=128,M=!0,Vm(G,!1),g.lanes=4194304)}else{if(!M)if(f=zg(ne),f!==null){if(g.flags|=128,M=!0,S=f.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),Vm(G,!0),G.tail===null&&G.tailMode==="hidden"&&!ne.alternate&&!bn)return yr(g),null}else 2*ln()-G.renderingStartTime>Cu&&S!==1073741824&&(g.flags|=128,M=!0,Vm(G,!1),g.lanes=4194304);G.isBackwards?(ne.sibling=g.child,g.child=ne):(S=G.last,S!==null?S.sibling=ne:g.child=ne,G.last=ne)}return G.tail!==null?(g=G.tail,G.rendering=g,G.tail=g.sibling,G.renderingStartTime=ln(),g.sibling=null,S=Sn.current,on(Sn,M?S&1|2:S&1),g):(yr(g),null);case 22:case 23:return fj(),M=g.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(g.flags|=8192),M&&(g.mode&1)!==0?(Sa&1073741824)!==0&&(yr(g),g.subtreeFlags&6&&(g.flags|=8192)):yr(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function uH(f,g){switch(Nb(g),g.tag){case 1:return ea(g.type)&&Og(),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return wu(),pn(Zr),pn(xr),Fb(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 5:return Db(g),null;case 13:if(pn(Sn),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(n(340));vu()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return pn(Sn),null;case 4:return wu(),null;case 10:return Tb(g.type._context),null;case 22:case 23:return fj(),null;case 24:return null;default:return null}}var Xg=!1,br=!1,hH=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function _u(f,g){var S=f.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(M){An(f,g,M)}else S.current=null}function sj(f,g,S){try{S()}catch(M){An(f,g,M)}}var cP=!1;function mH(f,g){if(fb=vg,f=$E(),ib(f)){if("selectionStart"in f)var S={start:f.selectionStart,end:f.selectionEnd};else e:{S=(S=f.ownerDocument)&&S.defaultView||window;var M=S.getSelection&&S.getSelection();if(M&&M.rangeCount!==0){S=M.anchorNode;var W=M.anchorOffset,G=M.focusNode;M=M.focusOffset;try{S.nodeType,G.nodeType}catch{S=null;break e}var ne=0,fe=-1,be=-1,Re=0,at=0,dt=f,st=null;t:for(;;){for(var At;dt!==S||W!==0&&dt.nodeType!==3||(fe=ne+W),dt!==G||M!==0&&dt.nodeType!==3||(be=ne+M),dt.nodeType===3&&(ne+=dt.nodeValue.length),(At=dt.firstChild)!==null;)st=dt,dt=At;for(;;){if(dt===f)break t;if(st===S&&++Re===W&&(fe=ne),st===G&&++at===M&&(be=ne),(At=dt.nextSibling)!==null)break;dt=st,st=dt.parentNode}dt=At}S=fe===-1||be===-1?null:{start:fe,end:be}}else S=null}S=S||{start:0,end:0}}else S=null;for(pb={focusedElem:f,selectionRange:S},vg=!1,Dt=g;Dt!==null;)if(g=Dt,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,Dt=f;else for(;Dt!==null;){g=Dt;try{var It=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var qt=It.memoizedProps,Fn=It.memoizedState,Ae=g.stateNode,ke=Ae.getSnapshotBeforeUpdate(g.elementType===g.type?qt:xi(g.type,qt),Fn);Ae.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Oe=g.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(gt){An(g,g.return,gt)}if(f=g.sibling,f!==null){f.return=g.return,Dt=f;break}Dt=g.return}return It=cP,cP=!1,It}function Wm(f,g,S){var M=g.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var W=M=M.next;do{if((W.tag&f)===f){var G=W.destroy;W.destroy=void 0,G!==void 0&&sj(g,S,G)}W=W.next}while(W!==M)}}function Zg(f,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&f)===f){var M=S.create;S.destroy=M()}S=S.next}while(S!==g)}}function nj(f){var g=f.ref;if(g!==null){var S=f.stateNode;switch(f.tag){case 5:f=S;break;default:f=S}typeof g=="function"?g(f):g.current=f}}function dP(f){var g=f.alternate;g!==null&&(f.alternate=null,dP(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&(delete g[Ki],delete g[Dm],delete g[yb],delete g[YW],delete g[QW])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function uP(f){return f.tag===5||f.tag===3||f.tag===4}function hP(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||uP(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function rj(f,g,S){var M=f.tag;if(M===5||M===6)f=f.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(f,g):S.insertBefore(f,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(f,S)):(g=S,g.appendChild(f)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Pg));else if(M!==4&&(f=f.child,f!==null))for(rj(f,g,S),f=f.sibling;f!==null;)rj(f,g,S),f=f.sibling}function aj(f,g,S){var M=f.tag;if(M===5||M===6)f=f.stateNode,g?S.insertBefore(f,g):S.appendChild(f);else if(M!==4&&(f=f.child,f!==null))for(aj(f,g,S),f=f.sibling;f!==null;)aj(f,g,S),f=f.sibling}var ur=null,vi=!1;function Oo(f,g,S){for(S=S.child;S!==null;)mP(f,g,S),S=S.sibling}function mP(f,g,S){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(El,S)}catch{}switch(S.tag){case 5:br||_u(S,g);case 6:var M=ur,W=vi;ur=null,Oo(f,g,S),ur=M,vi=W,ur!==null&&(vi?(f=ur,S=S.stateNode,f.nodeType===8?f.parentNode.removeChild(S):f.removeChild(S)):ur.removeChild(S.stateNode));break;case 18:ur!==null&&(vi?(f=ur,S=S.stateNode,f.nodeType===8?vb(f.parentNode,S):f.nodeType===1&&vb(f,S),Nm(f)):vb(ur,S.stateNode));break;case 4:M=ur,W=vi,ur=S.stateNode.containerInfo,vi=!0,Oo(f,g,S),ur=M,vi=W;break;case 0:case 11:case 14:case 15:if(!br&&(M=S.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){W=M=M.next;do{var G=W,ne=G.destroy;G=G.tag,ne!==void 0&&((G&2)!==0||(G&4)!==0)&&sj(S,g,ne),W=W.next}while(W!==M)}Oo(f,g,S);break;case 1:if(!br&&(_u(S,g),M=S.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=S.memoizedProps,M.state=S.memoizedState,M.componentWillUnmount()}catch(fe){An(S,g,fe)}Oo(f,g,S);break;case 21:Oo(f,g,S);break;case 22:S.mode&1?(br=(M=br)||S.memoizedState!==null,Oo(f,g,S),br=M):Oo(f,g,S);break;default:Oo(f,g,S)}}function fP(f){var g=f.updateQueue;if(g!==null){f.updateQueue=null;var S=f.stateNode;S===null&&(S=f.stateNode=new hH),g.forEach(function(M){var W=wH.bind(null,f,M);S.has(M)||(S.add(M),M.then(W,W))})}}function yi(f,g){var S=g.deletions;if(S!==null)for(var M=0;M<S.length;M++){var W=S[M];try{var G=f,ne=g,fe=ne;e:for(;fe!==null;){switch(fe.tag){case 5:ur=fe.stateNode,vi=!1;break e;case 3:ur=fe.stateNode.containerInfo,vi=!0;break e;case 4:ur=fe.stateNode.containerInfo,vi=!0;break e}fe=fe.return}if(ur===null)throw Error(n(160));mP(G,ne,W),ur=null,vi=!1;var be=W.alternate;be!==null&&(be.return=null),W.return=null}catch(Re){An(W,g,Re)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)pP(g,f),g=g.sibling}function pP(f,g){var S=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(yi(g,f),Qi(f),M&4){try{Wm(3,f,f.return),Zg(3,f)}catch(qt){An(f,f.return,qt)}try{Wm(5,f,f.return)}catch(qt){An(f,f.return,qt)}}break;case 1:yi(g,f),Qi(f),M&512&&S!==null&&_u(S,S.return);break;case 5:if(yi(g,f),Qi(f),M&512&&S!==null&&_u(S,S.return),f.flags&32){var W=f.stateNode;try{ct(W,"")}catch(qt){An(f,f.return,qt)}}if(M&4&&(W=f.stateNode,W!=null)){var G=f.memoizedProps,ne=S!==null?S.memoizedProps:G,fe=f.type,be=f.updateQueue;if(f.updateQueue=null,be!==null)try{fe==="input"&&G.type==="radio"&&G.name!=null&&qe(W,G),yn(fe,ne);var Re=yn(fe,G);for(ne=0;ne<be.length;ne+=2){var at=be[ne],dt=be[ne+1];at==="style"?Es(W,dt):at==="dangerouslySetInnerHTML"?ht(W,dt):at==="children"?ct(W,dt):N(W,at,dt,Re)}switch(fe){case"input":$e(W,G);break;case"textarea":Ce(W,G);break;case"select":var st=W._wrapperState.wasMultiple;W._wrapperState.wasMultiple=!!G.multiple;var At=G.value;At!=null?Qe(W,!!G.multiple,At,!1):st!==!!G.multiple&&(G.defaultValue!=null?Qe(W,!!G.multiple,G.defaultValue,!0):Qe(W,!!G.multiple,G.multiple?[]:"",!1))}W[Dm]=G}catch(qt){An(f,f.return,qt)}}break;case 6:if(yi(g,f),Qi(f),M&4){if(f.stateNode===null)throw Error(n(162));W=f.stateNode,G=f.memoizedProps;try{W.nodeValue=G}catch(qt){An(f,f.return,qt)}}break;case 3:if(yi(g,f),Qi(f),M&4&&S!==null&&S.memoizedState.isDehydrated)try{Nm(g.containerInfo)}catch(qt){An(f,f.return,qt)}break;case 4:yi(g,f),Qi(f);break;case 13:yi(g,f),Qi(f),W=f.child,W.flags&8192&&(G=W.memoizedState!==null,W.stateNode.isHidden=G,!G||W.alternate!==null&&W.alternate.memoizedState!==null||(oj=ln())),M&4&&fP(f);break;case 22:if(at=S!==null&&S.memoizedState!==null,f.mode&1?(br=(Re=br)||at,yi(g,f),br=Re):yi(g,f),Qi(f),M&8192){if(Re=f.memoizedState!==null,(f.stateNode.isHidden=Re)&&!at&&(f.mode&1)!==0)for(Dt=f,at=f.child;at!==null;){for(dt=Dt=at;Dt!==null;){switch(st=Dt,At=st.child,st.tag){case 0:case 11:case 14:case 15:Wm(4,st,st.return);break;case 1:_u(st,st.return);var It=st.stateNode;if(typeof It.componentWillUnmount=="function"){M=st,S=st.return;try{g=M,It.props=g.memoizedProps,It.state=g.memoizedState,It.componentWillUnmount()}catch(qt){An(M,S,qt)}}break;case 5:_u(st,st.return);break;case 22:if(st.memoizedState!==null){vP(dt);continue}}At!==null?(At.return=st,Dt=At):vP(dt)}at=at.sibling}e:for(at=null,dt=f;;){if(dt.tag===5){if(at===null){at=dt;try{W=dt.stateNode,Re?(G=W.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(fe=dt.stateNode,be=dt.memoizedProps.style,ne=be!=null&&be.hasOwnProperty("display")?be.display:null,fe.style.display=Us("display",ne))}catch(qt){An(f,f.return,qt)}}}else if(dt.tag===6){if(at===null)try{dt.stateNode.nodeValue=Re?"":dt.memoizedProps}catch(qt){An(f,f.return,qt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===f)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===f)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===f)break e;at===dt&&(at=null),dt=dt.return}at===dt&&(at=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:yi(g,f),Qi(f),M&4&&fP(f);break;case 21:break;default:yi(g,f),Qi(f)}}function Qi(f){var g=f.flags;if(g&2){try{e:{for(var S=f.return;S!==null;){if(uP(S)){var M=S;break e}S=S.return}throw Error(n(160))}switch(M.tag){case 5:var W=M.stateNode;M.flags&32&&(ct(W,""),M.flags&=-33);var G=hP(f);aj(f,G,W);break;case 3:case 4:var ne=M.stateNode.containerInfo,fe=hP(f);rj(f,fe,ne);break;default:throw Error(n(161))}}catch(be){An(f,f.return,be)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function fH(f,g,S){Dt=f,gP(f)}function gP(f,g,S){for(var M=(f.mode&1)!==0;Dt!==null;){var W=Dt,G=W.child;if(W.tag===22&&M){var ne=W.memoizedState!==null||Xg;if(!ne){var fe=W.alternate,be=fe!==null&&fe.memoizedState!==null||br;fe=Xg;var Re=br;if(Xg=ne,(br=be)&&!Re)for(Dt=W;Dt!==null;)ne=Dt,be=ne.child,ne.tag===22&&ne.memoizedState!==null?yP(W):be!==null?(be.return=ne,Dt=be):yP(W);for(;G!==null;)Dt=G,gP(G),G=G.sibling;Dt=W,Xg=fe,br=Re}xP(f)}else(W.subtreeFlags&8772)!==0&&G!==null?(G.return=W,Dt=G):xP(f)}}function xP(f){for(;Dt!==null;){var g=Dt;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:br||Zg(5,g);break;case 1:var M=g.stateNode;if(g.flags&4&&!br)if(S===null)M.componentDidMount();else{var W=g.elementType===g.type?S.memoizedProps:xi(g.type,S.memoizedProps);M.componentDidUpdate(W,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var G=g.updateQueue;G!==null&&vT(g,G,M);break;case 3:var ne=g.updateQueue;if(ne!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}vT(g,ne,S)}break;case 5:var fe=g.stateNode;if(S===null&&g.flags&4){S=fe;var be=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&S.focus();break;case"img":be.src&&(S.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Re=g.alternate;if(Re!==null){var at=Re.memoizedState;if(at!==null){var dt=at.dehydrated;dt!==null&&Nm(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}br||g.flags&512&&nj(g)}catch(st){An(g,g.return,st)}}if(g===f){Dt=null;break}if(S=g.sibling,S!==null){S.return=g.return,Dt=S;break}Dt=g.return}}function vP(f){for(;Dt!==null;){var g=Dt;if(g===f){Dt=null;break}var S=g.sibling;if(S!==null){S.return=g.return,Dt=S;break}Dt=g.return}}function yP(f){for(;Dt!==null;){var g=Dt;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{Zg(4,g)}catch(be){An(g,S,be)}break;case 1:var M=g.stateNode;if(typeof M.componentDidMount=="function"){var W=g.return;try{M.componentDidMount()}catch(be){An(g,W,be)}}var G=g.return;try{nj(g)}catch(be){An(g,G,be)}break;case 5:var ne=g.return;try{nj(g)}catch(be){An(g,ne,be)}}}catch(be){An(g,g.return,be)}if(g===f){Dt=null;break}var fe=g.sibling;if(fe!==null){fe.return=g.return,Dt=fe;break}Dt=g.return}}var pH=Math.ceil,ex=_.ReactCurrentDispatcher,ij=_.ReactCurrentOwner,Ha=_.ReactCurrentBatchConfig,qs=0,sr=null,$n=null,hr=0,Sa=0,Su=ko(0),Kn=0,Hm=null,Ic=0,tx=0,lj=0,Km=null,sa=null,oj=0,Cu=1/0,Fl=null,sx=!1,cj=null,Mo=null,nx=!1,Do=null,rx=0,Gm=0,dj=null,ax=-1,ix=0;function Rr(){return(qs&6)!==0?ln():ax!==-1?ax:ax=ln()}function Ro(f){return(f.mode&1)===0?1:(qs&2)!==0&&hr!==0?hr&-hr:XW.transition!==null?(ix===0&&(ix=pg()),ix):(f=ie,f!==0||(f=window.event,f=f===void 0?16:jE(f.type)),f)}function bi(f,g,S,M){if(50<Gm)throw Gm=0,dj=null,Error(n(185));bo(f,S,M),((qs&2)===0||f!==sr)&&(f===sr&&((qs&2)===0&&(tx|=S),Kn===4&&Fo(f,hr)),na(f,M),S===1&&qs===0&&(g.mode&1)===0&&(Cu=ln()+500,Dg&&To()))}function na(f,g){var S=f.callbackNode;fg(f,g);var M=Wi(f,f===sr?hr:0);if(M===0)S!==null&&eu(S),f.callbackNode=null,f.callbackPriority=0;else if(g=M&-M,f.callbackPriority!==g){if(S!=null&&eu(S),g===1)f.tag===0?JW(jP.bind(null,f)):iT(jP.bind(null,f)),KW(function(){(qs&6)===0&&To()}),S=null;else{switch(De(M)){case 1:S=yo;break;case 4:S=kl;break;case 16:S=Jr;break;case 536870912:S=su;break;default:S=Jr}S=TP(S,bP.bind(null,f))}f.callbackPriority=g,f.callbackNode=S}}function bP(f,g){if(ax=-1,ix=0,(qs&6)!==0)throw Error(n(327));var S=f.callbackNode;if(ku()&&f.callbackNode!==S)return null;var M=Wi(f,f===sr?hr:0);if(M===0)return null;if((M&30)!==0||(M&f.expiredLanes)!==0||g)g=lx(f,M);else{g=M;var W=qs;qs|=2;var G=NP();(sr!==f||hr!==g)&&(Fl=null,Cu=ln()+500,Bc(f,g));do try{vH();break}catch(fe){wP(f,fe)}while(!0);Eb(),ex.current=G,qs=W,$n!==null?g=0:(sr=null,hr=0,g=Kn)}if(g!==0){if(g===2&&(W=Tc(f),W!==0&&(M=W,g=uj(f,W))),g===1)throw S=Hm,Bc(f,0),Fo(f,M),na(f,ln()),S;if(g===6)Fo(f,M);else{if(W=f.current.alternate,(M&30)===0&&!gH(W)&&(g=lx(f,M),g===2&&(G=Tc(f),G!==0&&(M=G,g=uj(f,G))),g===1))throw S=Hm,Bc(f,0),Fo(f,M),na(f,ln()),S;switch(f.finishedWork=W,f.finishedLanes=M,g){case 0:case 1:throw Error(n(345));case 2:qc(f,sa,Fl);break;case 3:if(Fo(f,M),(M&130023424)===M&&(g=oj+500-ln(),10<g)){if(Wi(f,0)!==0)break;if(W=f.suspendedLanes,(W&M)!==M){Rr(),f.pingedLanes|=f.suspendedLanes&W;break}f.timeoutHandle=xb(qc.bind(null,f,sa,Fl),g);break}qc(f,sa,Fl);break;case 4:if(Fo(f,M),(M&4194240)===M)break;for(g=f.eventTimes,W=-1;0<M;){var ne=31-ge(M);G=1<<ne,ne=g[ne],ne>W&&(W=ne),M&=~G}if(M=W,M=ln()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*pH(M/1960))-M,10<M){f.timeoutHandle=xb(qc.bind(null,f,sa,Fl),M);break}qc(f,sa,Fl);break;case 5:qc(f,sa,Fl);break;default:throw Error(n(329))}}}return na(f,ln()),f.callbackNode===S?bP.bind(null,f):null}function uj(f,g){var S=Km;return f.current.memoizedState.isDehydrated&&(Bc(f,g).flags|=256),f=lx(f,g),f!==2&&(g=sa,sa=S,g!==null&&hj(g)),f}function hj(f){sa===null?sa=f:sa.push.apply(sa,f)}function gH(f){for(var g=f;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var M=0;M<S.length;M++){var W=S[M],G=W.getSnapshot;W=W.value;try{if(!pi(G(),W))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Fo(f,g){for(g&=~lj,g&=~tx,f.suspendedLanes|=g,f.pingedLanes&=~g,f=f.expirationTimes;0<g;){var S=31-ge(g),M=1<<S;f[S]=-1,g&=~M}}function jP(f){if((qs&6)!==0)throw Error(n(327));ku();var g=Wi(f,0);if((g&1)===0)return na(f,ln()),null;var S=lx(f,g);if(f.tag!==0&&S===2){var M=Tc(f);M!==0&&(g=M,S=uj(f,M))}if(S===1)throw S=Hm,Bc(f,0),Fo(f,g),na(f,ln()),S;if(S===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=g,qc(f,sa,Fl),na(f,ln()),null}function mj(f,g){var S=qs;qs|=1;try{return f(g)}finally{qs=S,qs===0&&(Cu=ln()+500,Dg&&To())}}function Lc(f){Do!==null&&Do.tag===0&&(qs&6)===0&&ku();var g=qs;qs|=1;var S=Ha.transition,M=ie;try{if(Ha.transition=null,ie=1,f)return f()}finally{ie=M,Ha.transition=S,qs=g,(qs&6)===0&&To()}}function fj(){Sa=Su.current,pn(Su)}function Bc(f,g){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;if(S!==-1&&(f.timeoutHandle=-1,HW(S)),$n!==null)for(S=$n.return;S!==null;){var M=S;switch(Nb(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Og();break;case 3:wu(),pn(Zr),pn(xr),Fb();break;case 5:Db(M);break;case 4:wu();break;case 13:pn(Sn);break;case 19:pn(Sn);break;case 10:Tb(M.type._context);break;case 22:case 23:fj()}S=S.return}if(sr=f,$n=f=Io(f.current,null),hr=Sa=g,Kn=0,Hm=null,lj=tx=Ic=0,sa=Km=null,Dc!==null){for(g=0;g<Dc.length;g++)if(S=Dc[g],M=S.interleaved,M!==null){S.interleaved=null;var W=M.next,G=S.pending;if(G!==null){var ne=G.next;G.next=W,M.next=ne}S.pending=M}Dc=null}return f}function wP(f,g){do{var S=$n;try{if(Eb(),Vg.current=Gg,Wg){for(var M=Cn.memoizedState;M!==null;){var W=M.queue;W!==null&&(W.pending=null),M=M.next}Wg=!1}if(Fc=0,tr=Hn=Cn=null,qm=!1,$m=0,ij.current=null,S===null||S.return===null){Kn=1,Hm=g,$n=null;break}e:{var G=f,ne=S.return,fe=S,be=g;if(g=hr,fe.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Re=be,at=fe,dt=at.tag;if((at.mode&1)===0&&(dt===0||dt===11||dt===15)){var st=at.alternate;st?(at.updateQueue=st.updateQueue,at.memoizedState=st.memoizedState,at.lanes=st.lanes):(at.updateQueue=null,at.memoizedState=null)}var At=KT(ne);if(At!==null){At.flags&=-257,GT(At,ne,fe,G,g),At.mode&1&&HT(G,Re,g),g=At,be=Re;var It=g.updateQueue;if(It===null){var qt=new Set;qt.add(be),g.updateQueue=qt}else It.add(be);break e}else{if((g&1)===0){HT(G,Re,g),pj();break e}be=Error(n(426))}}else if(bn&&fe.mode&1){var Fn=KT(ne);if(Fn!==null){(Fn.flags&65536)===0&&(Fn.flags|=256),GT(Fn,ne,fe,G,g),Cb(Nu(be,fe));break e}}G=be=Nu(be,fe),Kn!==4&&(Kn=2),Km===null?Km=[G]:Km.push(G),G=ne;do{switch(G.tag){case 3:G.flags|=65536,g&=-g,G.lanes|=g;var Ae=VT(G,be,g);xT(G,Ae);break e;case 1:fe=be;var ke=G.type,Oe=G.stateNode;if((G.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Mo===null||!Mo.has(Oe)))){G.flags|=65536,g&=-g,G.lanes|=g;var gt=WT(G,fe,g);xT(G,gt);break e}}G=G.return}while(G!==null)}SP(S)}catch(Vt){g=Vt,$n===S&&S!==null&&($n=S=S.return);continue}break}while(!0)}function NP(){var f=ex.current;return ex.current=Gg,f===null?Gg:f}function pj(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),sr===null||(Ic&268435455)===0&&(tx&268435455)===0||Fo(sr,hr)}function lx(f,g){var S=qs;qs|=2;var M=NP();(sr!==f||hr!==g)&&(Fl=null,Bc(f,g));do try{xH();break}catch(W){wP(f,W)}while(!0);if(Eb(),qs=S,ex.current=M,$n!==null)throw Error(n(261));return sr=null,hr=0,Kn}function xH(){for(;$n!==null;)_P($n)}function vH(){for(;$n!==null&&!xm();)_P($n)}function _P(f){var g=EP(f.alternate,f,Sa);f.memoizedProps=f.pendingProps,g===null?SP(f):$n=g,ij.current=null}function SP(f){var g=f;do{var S=g.alternate;if(f=g.return,(g.flags&32768)===0){if(S=dH(S,g,Sa),S!==null){$n=S;return}}else{if(S=uH(S,g),S!==null){S.flags&=32767,$n=S;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Kn=6,$n=null;return}}if(g=g.sibling,g!==null){$n=g;return}$n=g=f}while(g!==null);Kn===0&&(Kn=5)}function qc(f,g,S){var M=ie,W=Ha.transition;try{Ha.transition=null,ie=1,yH(f,g,S,M)}finally{Ha.transition=W,ie=M}return null}function yH(f,g,S,M){do ku();while(Do!==null);if((qs&6)!==0)throw Error(n(327));S=f.finishedWork;var W=f.finishedLanes;if(S===null)return null;if(f.finishedWork=null,f.finishedLanes=0,S===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var G=S.lanes|S.childLanes;if(gg(f,G),f===sr&&($n=sr=null,hr=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||nx||(nx=!0,TP(Jr,function(){return ku(),null})),G=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||G){G=Ha.transition,Ha.transition=null;var ne=ie;ie=1;var fe=qs;qs|=4,ij.current=null,mH(f,S),pP(S,f),BW(pb),vg=!!fb,pb=fb=null,f.current=S,fH(S),Ec(),qs=fe,ie=ne,Ha.transition=G}else f.current=S;if(nx&&(nx=!1,Do=f,rx=W),G=f.pendingLanes,G===0&&(Mo=null),nu(S.stateNode),na(f,ln()),g!==null)for(M=f.onRecoverableError,S=0;S<g.length;S++)W=g[S],M(W.value,{componentStack:W.stack,digest:W.digest});if(sx)throw sx=!1,f=cj,cj=null,f;return(rx&1)!==0&&f.tag!==0&&ku(),G=f.pendingLanes,(G&1)!==0?f===dj?Gm++:(Gm=0,dj=f):Gm=0,To(),null}function ku(){if(Do!==null){var f=De(rx),g=Ha.transition,S=ie;try{if(Ha.transition=null,ie=16>f?16:f,Do===null)var M=!1;else{if(f=Do,Do=null,rx=0,(qs&6)!==0)throw Error(n(331));var W=qs;for(qs|=4,Dt=f.current;Dt!==null;){var G=Dt,ne=G.child;if((Dt.flags&16)!==0){var fe=G.deletions;if(fe!==null){for(var be=0;be<fe.length;be++){var Re=fe[be];for(Dt=Re;Dt!==null;){var at=Dt;switch(at.tag){case 0:case 11:case 15:Wm(8,at,G)}var dt=at.child;if(dt!==null)dt.return=at,Dt=dt;else for(;Dt!==null;){at=Dt;var st=at.sibling,At=at.return;if(dP(at),at===Re){Dt=null;break}if(st!==null){st.return=At,Dt=st;break}Dt=At}}}var It=G.alternate;if(It!==null){var qt=It.child;if(qt!==null){It.child=null;do{var Fn=qt.sibling;qt.sibling=null,qt=Fn}while(qt!==null)}}Dt=G}}if((G.subtreeFlags&2064)!==0&&ne!==null)ne.return=G,Dt=ne;else e:for(;Dt!==null;){if(G=Dt,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:Wm(9,G,G.return)}var Ae=G.sibling;if(Ae!==null){Ae.return=G.return,Dt=Ae;break e}Dt=G.return}}var ke=f.current;for(Dt=ke;Dt!==null;){ne=Dt;var Oe=ne.child;if((ne.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=ne,Dt=Oe;else e:for(ne=ke;Dt!==null;){if(fe=Dt,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:Zg(9,fe)}}catch(Vt){An(fe,fe.return,Vt)}if(fe===ne){Dt=null;break e}var gt=fe.sibling;if(gt!==null){gt.return=fe.return,Dt=gt;break e}Dt=fe.return}}if(qs=W,To(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(El,f)}catch{}M=!0}return M}finally{ie=S,Ha.transition=g}}return!1}function CP(f,g,S){g=Nu(S,g),g=VT(f,g,1),f=Ao(f,g,1),g=Rr(),f!==null&&(bo(f,1,g),na(f,g))}function An(f,g,S){if(f.tag===3)CP(f,f,S);else for(;g!==null;){if(g.tag===3){CP(g,f,S);break}else if(g.tag===1){var M=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Mo===null||!Mo.has(M))){f=Nu(S,f),f=WT(g,f,1),g=Ao(g,f,1),f=Rr(),g!==null&&(bo(g,1,f),na(g,f));break}}g=g.return}}function bH(f,g,S){var M=f.pingCache;M!==null&&M.delete(g),g=Rr(),f.pingedLanes|=f.suspendedLanes&S,sr===f&&(hr&S)===S&&(Kn===4||Kn===3&&(hr&130023424)===hr&&500>ln()-oj?Bc(f,0):lj|=S),na(f,g)}function kP(f,g){g===0&&((f.mode&1)===0?g=1:(g=dr,dr<<=1,(dr&130023424)===0&&(dr=4194304)));var S=Rr();f=Ml(f,g),f!==null&&(bo(f,g,S),na(f,S))}function jH(f){var g=f.memoizedState,S=0;g!==null&&(S=g.retryLane),kP(f,S)}function wH(f,g){var S=0;switch(f.tag){case 13:var M=f.stateNode,W=f.memoizedState;W!==null&&(S=W.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(n(314))}M!==null&&M.delete(g),kP(f,S)}var EP;EP=function(f,g,S){if(f!==null)if(f.memoizedProps!==g.pendingProps||Zr.current)ta=!0;else{if((f.lanes&S)===0&&(g.flags&128)===0)return ta=!1,cH(f,g,S);ta=(f.flags&131072)!==0}else ta=!1,bn&&(g.flags&1048576)!==0&&lT(g,Fg,g.index);switch(g.lanes=0,g.tag){case 2:var M=g.type;Jg(f,g),f=g.pendingProps;var W=pu(g,xr.current);ju(g,S),W=Bb(null,g,M,f,W,S);var G=qb();return g.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,ea(M)?(G=!0,Mg(g)):G=!1,g.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,Ob(g),W.updater=Yg,g.stateNode=W,W._reactInternals=g,Hb(g,M,f,S),g=Qb(null,g,M,!0,G,S)):(g.tag=0,bn&&G&&wb(g),Dr(null,g,W,S),g=g.child),g;case 16:M=g.elementType;e:{switch(Jg(f,g),f=g.pendingProps,W=M._init,M=W(M._payload),g.type=M,W=g.tag=_H(M),f=xi(M,f),W){case 0:g=Yb(null,g,M,f,S);break e;case 1:g=eP(null,g,M,f,S);break e;case 11:g=YT(null,g,M,f,S);break e;case 14:g=QT(null,g,M,xi(M.type,f),S);break e}throw Error(n(306,M,""))}return g;case 0:return M=g.type,W=g.pendingProps,W=g.elementType===M?W:xi(M,W),Yb(f,g,M,W,S);case 1:return M=g.type,W=g.pendingProps,W=g.elementType===M?W:xi(M,W),eP(f,g,M,W,S);case 3:e:{if(tP(g),f===null)throw Error(n(387));M=g.pendingProps,G=g.memoizedState,W=G.element,gT(f,g),Ug(g,M,null,S);var ne=g.memoizedState;if(M=ne.element,G.isDehydrated)if(G={element:M,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},g.updateQueue.baseState=G,g.memoizedState=G,g.flags&256){W=Nu(Error(n(423)),g),g=sP(f,g,M,S,W);break e}else if(M!==W){W=Nu(Error(n(424)),g),g=sP(f,g,M,S,W);break e}else for(_a=Co(g.stateNode.containerInfo.firstChild),Na=g,bn=!0,gi=null,S=fT(g,null,M,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(vu(),M===W){g=Rl(f,g,S);break e}Dr(f,g,M,S)}g=g.child}return g;case 5:return yT(g),f===null&&Sb(g),M=g.type,W=g.pendingProps,G=f!==null?f.memoizedProps:null,ne=W.children,gb(M,W)?ne=null:G!==null&&gb(M,G)&&(g.flags|=32),ZT(f,g),Dr(f,g,ne,S),g.child;case 6:return f===null&&Sb(g),null;case 13:return nP(f,g,S);case 4:return Mb(g,g.stateNode.containerInfo),M=g.pendingProps,f===null?g.child=yu(g,null,M,S):Dr(f,g,M,S),g.child;case 11:return M=g.type,W=g.pendingProps,W=g.elementType===M?W:xi(M,W),YT(f,g,M,W,S);case 7:return Dr(f,g,g.pendingProps,S),g.child;case 8:return Dr(f,g,g.pendingProps.children,S),g.child;case 12:return Dr(f,g,g.pendingProps.children,S),g.child;case 10:e:{if(M=g.type._context,W=g.pendingProps,G=g.memoizedProps,ne=W.value,on(Bg,M._currentValue),M._currentValue=ne,G!==null)if(pi(G.value,ne)){if(G.children===W.children&&!Zr.current){g=Rl(f,g,S);break e}}else for(G=g.child,G!==null&&(G.return=g);G!==null;){var fe=G.dependencies;if(fe!==null){ne=G.child;for(var be=fe.firstContext;be!==null;){if(be.context===M){if(G.tag===1){be=Dl(-1,S&-S),be.tag=2;var Re=G.updateQueue;if(Re!==null){Re=Re.shared;var at=Re.pending;at===null?be.next=be:(be.next=at.next,at.next=be),Re.pending=be}}G.lanes|=S,be=G.alternate,be!==null&&(be.lanes|=S),Pb(G.return,S,g),fe.lanes|=S;break}be=be.next}}else if(G.tag===10)ne=G.type===g.type?null:G.child;else if(G.tag===18){if(ne=G.return,ne===null)throw Error(n(341));ne.lanes|=S,fe=ne.alternate,fe!==null&&(fe.lanes|=S),Pb(ne,S,g),ne=G.sibling}else ne=G.child;if(ne!==null)ne.return=G;else for(ne=G;ne!==null;){if(ne===g){ne=null;break}if(G=ne.sibling,G!==null){G.return=ne.return,ne=G;break}ne=ne.return}G=ne}Dr(f,g,W.children,S),g=g.child}return g;case 9:return W=g.type,M=g.pendingProps.children,ju(g,S),W=Va(W),M=M(W),g.flags|=1,Dr(f,g,M,S),g.child;case 14:return M=g.type,W=xi(M,g.pendingProps),W=xi(M.type,W),QT(f,g,M,W,S);case 15:return JT(f,g,g.type,g.pendingProps,S);case 17:return M=g.type,W=g.pendingProps,W=g.elementType===M?W:xi(M,W),Jg(f,g),g.tag=1,ea(M)?(f=!0,Mg(g)):f=!1,ju(g,S),UT(g,M,W),Hb(g,M,W,S),Qb(null,g,M,!0,f,S);case 19:return aP(f,g,S);case 22:return XT(f,g,S)}throw Error(n(156,g.tag))};function TP(f,g){return Zd(f,g)}function NH(f,g,S,M){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(f,g,S,M){return new NH(f,g,S,M)}function gj(f){return f=f.prototype,!(!f||!f.isReactComponent)}function _H(f){if(typeof f=="function")return gj(f)?1:0;if(f!=null){if(f=f.$$typeof,f===T)return 11;if(f===U)return 14}return 2}function Io(f,g){var S=f.alternate;return S===null?(S=Ka(f.tag,g,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=g,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&14680064,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,g=f.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S}function ox(f,g,S,M,W,G){var ne=2;if(M=f,typeof f=="function")gj(f)&&(ne=1);else if(typeof f=="string")ne=5;else e:switch(f){case E:return $c(S.children,W,G,g);case C:ne=8,W|=8;break;case R:return f=Ka(12,S,g,W|2),f.elementType=R,f.lanes=G,f;case D:return f=Ka(13,S,g,W),f.elementType=D,f.lanes=G,f;case F:return f=Ka(19,S,g,W),f.elementType=F,f.lanes=G,f;case H:return cx(S,W,G,g);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case O:ne=10;break e;case k:ne=9;break e;case T:ne=11;break e;case U:ne=14;break e;case z:ne=16,M=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return g=Ka(ne,S,g,W),g.elementType=f,g.type=M,g.lanes=G,g}function $c(f,g,S,M){return f=Ka(7,f,M,g),f.lanes=S,f}function cx(f,g,S,M){return f=Ka(22,f,M,g),f.elementType=H,f.lanes=S,f.stateNode={isHidden:!1},f}function xj(f,g,S){return f=Ka(6,f,null,g),f.lanes=S,f}function vj(f,g,S){return g=Ka(4,f.children!==null?f.children:[],f.key,g),g.lanes=S,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}function SH(f,g,S,M,W){this.tag=g,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ru(0),this.expirationTimes=ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ru(0),this.identifierPrefix=M,this.onRecoverableError=W,this.mutableSourceEagerHydrationData=null}function yj(f,g,S,M,W,G,ne,fe,be){return f=new SH(f,g,S,fe,be),g===1?(g=1,G===!0&&(g|=8)):g=0,G=Ka(3,null,null,g),f.current=G,G.stateNode=f,G.memoizedState={element:M,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ob(G),f}function CH(f,g,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:M==null?null:""+M,children:f,containerInfo:g,implementation:S}}function PP(f){if(!f)return Eo;f=f._reactInternals;e:{if(Pt(f)!==f||f.tag!==1)throw Error(n(170));var g=f;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(ea(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(f.tag===1){var S=f.type;if(ea(S))return rT(f,S,g)}return g}function AP(f,g,S,M,W,G,ne,fe,be){return f=yj(S,M,!0,f,W,G,ne,fe,be),f.context=PP(null),S=f.current,M=Rr(),W=Ro(S),G=Dl(M,W),G.callback=g??null,Ao(S,G,W),f.current.lanes=W,bo(f,W,M),na(f,M),f}function dx(f,g,S,M){var W=g.current,G=Rr(),ne=Ro(W);return S=PP(S),g.context===null?g.context=S:g.pendingContext=S,g=Dl(G,ne),g.payload={element:f},M=M===void 0?null:M,M!==null&&(g.callback=M),f=Ao(W,g,ne),f!==null&&(bi(f,W,ne,G),$g(f,W,ne)),ne}function ux(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function OP(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<g?S:g}}function bj(f,g){OP(f,g),(f=f.alternate)&&OP(f,g)}function kH(){return null}var MP=typeof reportError=="function"?reportError:function(f){console.error(f)};function jj(f){this._internalRoot=f}hx.prototype.render=jj.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(n(409));dx(f,g,null,null)},hx.prototype.unmount=jj.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;Lc(function(){dx(null,f,null,null)}),g[Tl]=null}};function hx(f){this._internalRoot=f}hx.prototype.unstable_scheduleHydration=function(f){if(f){var g=Mr();f={blockedOn:null,target:f,priority:g};for(var S=0;S<No.length&&g!==0&&g<No[S].priority;S++);No.splice(S,0,f),S===0&&yE(f)}};function wj(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function mx(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function DP(){}function EH(f,g,S,M,W){if(W){if(typeof M=="function"){var G=M;M=function(){var Re=ux(ne);G.call(Re)}}var ne=AP(g,M,f,0,null,!1,!1,"",DP);return f._reactRootContainer=ne,f[Tl]=ne.current,Om(f.nodeType===8?f.parentNode:f),Lc(),ne}for(;W=f.lastChild;)f.removeChild(W);if(typeof M=="function"){var fe=M;M=function(){var Re=ux(be);fe.call(Re)}}var be=yj(f,0,!1,null,null,!1,!1,"",DP);return f._reactRootContainer=be,f[Tl]=be.current,Om(f.nodeType===8?f.parentNode:f),Lc(function(){dx(g,be,S,M)}),be}function fx(f,g,S,M,W){var G=S._reactRootContainer;if(G){var ne=G;if(typeof W=="function"){var fe=W;W=function(){var be=ux(ne);fe.call(be)}}dx(g,ne,f,W)}else ne=EH(S,g,f,W,M);return ux(ne)}Ke=function(f){switch(f.tag){case 3:var g=f.stateNode;if(g.current.memoizedState.isDehydrated){var S=Xr(g.pendingLanes);S!==0&&(au(g,S|1),na(g,ln()),(qs&6)===0&&(Cu=ln()+500,To()))}break;case 13:Lc(function(){var M=Ml(f,1);if(M!==null){var W=Rr();bi(M,f,1,W)}}),bj(f,1)}},wt=function(f){if(f.tag===13){var g=Ml(f,134217728);if(g!==null){var S=Rr();bi(g,f,134217728,S)}bj(f,134217728)}},Ps=function(f){if(f.tag===13){var g=Ro(f),S=Ml(f,g);if(S!==null){var M=Rr();bi(S,f,g,M)}bj(f,g)}},Mr=function(){return ie},fi=function(f,g){var S=ie;try{return ie=f,g()}finally{ie=S}},er=function(f,g,S){switch(g){case"input":if($e(f,S),g=S.name,S.type==="radio"&&g!=null){for(S=f;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var M=S[g];if(M!==f&&M.form===f.form){var W=Ag(M);if(!W)throw Error(n(90));oe(M),$e(M,W)}}}break;case"textarea":Ce(f,S);break;case"select":g=S.value,g!=null&&Qe(f,!!S.multiple,g,!1)}},Pe=mj,tt=Lc;var TH={usingClientEntryPoint:!1,Events:[Rm,mu,Ag,we,ot,mj]},Ym={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PH={bundleType:Ym.bundleType,version:Ym.version,rendererPackageName:Ym.rendererPackageName,rendererConfig:Ym.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=Rn(f),f===null?null:f.stateNode},findFiberByHostInstance:Ym.findFiberByHostInstance||kH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!px.isDisabled&&px.supportsFiber)try{El=px.inject(PH),Or=px}catch{}}return ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TH,ra.createPortal=function(f,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wj(g))throw Error(n(200));return CH(f,g,null,S)},ra.createRoot=function(f,g){if(!wj(f))throw Error(n(299));var S=!1,M="",W=MP;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),g=yj(f,1,!1,null,null,S,!1,M,W),f[Tl]=g.current,Om(f.nodeType===8?f.parentNode:f),new jj(g)},ra.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=Rn(g),f=f===null?null:f.stateNode,f},ra.flushSync=function(f){return Lc(f)},ra.hydrate=function(f,g,S){if(!mx(g))throw Error(n(200));return fx(null,f,g,!0,S)},ra.hydrateRoot=function(f,g,S){if(!wj(f))throw Error(n(405));var M=S!=null&&S.hydratedSources||null,W=!1,G="",ne=MP;if(S!=null&&(S.unstable_strictMode===!0&&(W=!0),S.identifierPrefix!==void 0&&(G=S.identifierPrefix),S.onRecoverableError!==void 0&&(ne=S.onRecoverableError)),g=AP(g,null,f,1,S??null,W,!1,G,ne),f[Tl]=g.current,Om(f),M)for(f=0;f<M.length;f++)S=M[f],W=S._getVersion,W=W(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,W]:g.mutableSourceEagerHydrationData.push(S,W);return new hx(g)},ra.render=function(f,g,S){if(!mx(g))throw Error(n(200));return fx(null,f,g,!1,S)},ra.unmountComponentAtNode=function(f){if(!mx(f))throw Error(n(40));return f._reactRootContainer?(Lc(function(){fx(null,null,f,!1,function(){f._reactRootContainer=null,f[Tl]=null})}),!0):!1},ra.unstable_batchedUpdates=mj,ra.unstable_renderSubtreeIntoContainer=function(f,g,S,M){if(!mx(S))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return fx(f,g,S,!1,M)},ra.version="18.3.1-next-f1338f8080-20240426",ra}var zP;function r2(){if(zP)return Cj.exports;zP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Cj.exports=BH(),Cj.exports}var VP;function qH(){if(VP)return vx;VP=1;var t=r2();return vx.createRoot=t.createRoot,vx.hydrateRoot=t.hydrateRoot,vx}var $H=qH();const UH=vc($H);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WP="popstate";function zH(t={}){function s(r,a){let{pathname:i,search:l,hash:o}=r.location;return Q_("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qf(a)}return WH(s,n,null,t)}function Tn(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Mi(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function VH(){return Math.random().toString(36).substring(2,10)}function HP(t,s){return{usr:t.state,key:t.key,idx:s}}function Q_(t,s,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?Lh(s):s,state:n,key:s&&s.key||r||VH()}}function qf({pathname:t="/",search:s="",hash:n=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lh(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substring(r),t=t.substring(0,r)),t&&(s.pathname=t)}return s}function WH(t,s,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function m(){o="POP";let v=u(),j=v==null?null:v-d;d=v,c&&c({action:o,location:y.location,delta:j})}function h(v,j){o="PUSH";let w=Q_(y.location,v,j);d=u()+1;let N=HP(w,d),_=y.createHref(w);try{l.pushState(N,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(_)}i&&c&&c({action:o,location:y.location,delta:1})}function p(v,j){o="REPLACE";let w=Q_(y.location,v,j);d=u();let N=HP(w,d),_=y.createHref(w);l.replaceState(N,"",_),i&&c&&c({action:o,location:y.location,delta:0})}function x(v){return HH(v)}let y={get action(){return o},get location(){return t(a,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(WP,m),c=v,()=>{a.removeEventListener(WP,m),c=null}},createHref(v){return s(a,v)},createURL:x,encodeLocation(v){let j=x(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(v){return l.go(v)}};return y}function HH(t,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qf(t);return r=r.replace(/ $/,"%20"),!s&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function i5(t,s,n="/"){return KH(t,s,n,!1)}function KH(t,s,n,r){let a=typeof s=="string"?Lh(s):s,i=no(a.pathname||"/",n);if(i==null)return null;let l=l5(t);GH(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=aK(i);o=nK(l[c],d,r)}return o}function l5(t,s=[],n=[],r="",a=!1){let i=(l,o,c=a,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&c)return;Tn(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let m=Zl([r,u.relativePath]),h=n.concat(u);l.children&&l.children.length>0&&(Tn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),l5(l.children,s,h,m,c)),!(l.path==null&&!l.index)&&s.push({path:m,score:tK(m,l.index),routesMeta:h})};return t.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let d of o5(l.path))i(l,o,!0,d)}),s}function o5(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=o5(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function GH(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:sK(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var YH=/^:[\w-]+$/,QH=3,JH=2,XH=1,ZH=10,eK=-2,KP=t=>t==="*";function tK(t,s){let n=t.split("/"),r=n.length;return n.some(KP)&&(r+=eK),s&&(r+=JH),n.filter(a=>!KP(a)).reduce((a,i)=>a+(YH.test(i)?QH:i===""?XH:ZH),r)}function sK(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function nK(t,s,n=!1){let{routesMeta:r}=t,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=i==="/"?s:s.slice(i.length)||"/",m=O0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=O0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Zl([i,m.pathname]),pathnameBase:dK(Zl([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Zl([i,m.pathnameBase]))}return l}function O0(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rK(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,{paramName:u,isOptional:m},h)=>{if(u==="*"){let x=o[h]||"";l=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[h];return m&&!p?d[u]=void 0:d[u]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function rK(t,s=!1,n=!0){Mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function aK(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function no(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var iK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lK=t=>iK.test(t);function oK(t,s="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Lh(t):t,i;if(n)if(lK(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=GP(n.substring(1),"/"):i=GP(n,s)}else i=s;return{pathname:i,search:uK(r),hash:hK(a)}}function GP(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Tj(t,s,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cK(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function c5(t){let s=cK(t);return s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase)}function d5(t,s,n,r=!1){let a;typeof t=="string"?a=Lh(t):(a={...t},Tn(!a.pathname||!a.pathname.includes("?"),Tj("?","pathname","search",a)),Tn(!a.pathname||!a.pathname.includes("#"),Tj("#","pathname","hash",a)),Tn(!a.search||!a.search.includes("#"),Tj("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let m=s.length-1;if(!r&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}o=m>=0?s[m]:"/"}let c=oK(a,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Zl=t=>t.join("/").replace(/\/\/+/g,"/"),dK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u5=["POST","PUT","PATCH","DELETE"];new Set(u5);var fK=["GET",...u5];new Set(fK);var Bh=b.createContext(null);Bh.displayName="DataRouter";var bv=b.createContext(null);bv.displayName="DataRouterState";b.createContext(!1);var h5=b.createContext({isTransitioning:!1});h5.displayName="ViewTransition";var pK=b.createContext(new Map);pK.displayName="Fetchers";var gK=b.createContext(null);gK.displayName="Await";var jl=b.createContext(null);jl.displayName="Navigation";var Sp=b.createContext(null);Sp.displayName="Location";var ho=b.createContext({outlet:null,matches:[],isDataRoute:!1});ho.displayName="Route";var a2=b.createContext(null);a2.displayName="RouteError";function xK(t,{relative:s}={}){Tn(Cp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(jl),{hash:a,pathname:i,search:l}=kp(t,{relative:s}),o=i;return n!=="/"&&(o=i==="/"?n:Zl([n,i])),r.createHref({pathname:o,search:l,hash:a})}function Cp(){return b.useContext(Sp)!=null}function wl(){return Tn(Cp(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Sp).location}var m5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f5(t){b.useContext(jl).static||b.useLayoutEffect(t)}function i2(){let{isDataRoute:t}=b.useContext(ho);return t?PK():vK()}function vK(){Tn(Cp(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Bh),{basename:s,navigator:n}=b.useContext(jl),{matches:r}=b.useContext(ho),{pathname:a}=wl(),i=JSON.stringify(c5(r)),l=b.useRef(!1);return f5(()=>{l.current=!0}),b.useCallback((c,d={})=>{if(Mi(l.current,m5),!l.current)return;if(typeof c=="number"){n.go(c);return}let u=d5(c,JSON.parse(i),a,d.relative==="path");t==null&&s!=="/"&&(u.pathname=u.pathname==="/"?s:Zl([s,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[s,n,i,a,t])}b.createContext(null);function kp(t,{relative:s}={}){let{matches:n}=b.useContext(ho),{pathname:r}=wl(),a=JSON.stringify(c5(n));return b.useMemo(()=>d5(t,JSON.parse(a),r,s==="path"),[t,a,r,s])}function yK(t,s){return p5(t,s)}function p5(t,s,n,r,a){var w;Tn(Cp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(jl),{matches:l}=b.useContext(ho),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",m=o&&o.route;{let N=m&&m.path||"";g5(d,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let h=wl(),p;if(s){let N=typeof s=="string"?Lh(s):s;Tn(u==="/"||((w=N.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),p=N}else p=h;let x=p.pathname||"/",y=x;if(u!=="/"){let N=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let v=i5(t,{pathname:y});Mi(m||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Mi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=_K(v&&v.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Zl([u,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Zl([u,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,a);return s&&j?b.createElement(Sp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},j):j}function bK(){let t=TK(),s=mK(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),n?b.createElement("pre",{style:a},n):null,l)}var jK=b.createElement(bK,null),wK=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(ho.Provider,{value:this.props.routeContext},b.createElement(a2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NK({routeContext:t,match:s,children:n}){let r=b.useContext(Bh);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(ho.Provider,{value:t},n)}function _K(t,s=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,l=n==null?void 0:n.errors;if(l!=null){let u=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Tn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=u),m.route.id){let{loaderData:h,errors:p}=n,x=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||x){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=n&&r?(u,m)=>{var h,p;r(u,{location:n.location,params:((p=(h=n.matches)==null?void 0:h[0])==null?void 0:p.params)??{},errorInfo:m})}:void 0;return i.reduceRight((u,m,h)=>{let p,x=!1,y=null,v=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||jK,o&&(c<0&&h===0?(g5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,v=null):c===h&&(x=!0,v=m.route.hydrateFallbackElement||null)));let j=s.concat(i.slice(0,h+1)),w=()=>{let N;return p?N=y:x?N=v:m.route.Component?N=b.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=u,b.createElement(NK,{match:m,routeContext:{outlet:u,matches:j,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?b.createElement(wK,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):w()},null)}function l2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SK(t){let s=b.useContext(Bh);return Tn(s,l2(t)),s}function CK(t){let s=b.useContext(bv);return Tn(s,l2(t)),s}function kK(t){let s=b.useContext(ho);return Tn(s,l2(t)),s}function o2(t){let s=kK(t),n=s.matches[s.matches.length-1];return Tn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function EK(){return o2("useRouteId")}function TK(){var r;let t=b.useContext(a2),s=CK("useRouteError"),n=o2("useRouteError");return t!==void 0?t:(r=s.errors)==null?void 0:r[n]}function PK(){let{router:t}=SK("useNavigate"),s=o2("useNavigate"),n=b.useRef(!1);return f5(()=>{n.current=!0}),b.useCallback(async(a,i={})=>{Mi(n.current,m5),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:s,...i}))},[t,s])}var YP={};function g5(t,s,n){!s&&!YP[t]&&(YP[t]=!0,Mi(!1,n))}b.memo(AK);function AK({routes:t,future:s,state:n,unstable_onError:r}){return p5(t,void 0,n,r,s)}function ut(t){Tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OK({basename:t="/",children:s=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){Tn(!Cp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),o=b.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof n=="string"&&(n=Lh(n));let{pathname:c="/",search:d="",hash:u="",state:m=null,key:h="default"}=n,p=b.useMemo(()=>{let x=no(c,l);return x==null?null:{location:{pathname:x,search:d,hash:u,state:m,key:h},navigationType:r}},[l,c,d,u,m,h,r]);return Mi(p!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(jl.Provider,{value:o},b.createElement(Sp.Provider,{children:s,value:p}))}function MK({children:t,location:s}){return yK(J_(t),s)}function J_(t,s=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let i=[...s,a];if(r.type===b.Fragment){n.push.apply(n,J_(r.props.children,i));return}Tn(r.type===ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=J_(r.props.children,i)),n.push(l)}),n}var n0="get",r0="application/x-www-form-urlencoded";function jv(t){return t!=null&&typeof t.tagName=="string"}function DK(t){return jv(t)&&t.tagName.toLowerCase()==="button"}function RK(t){return jv(t)&&t.tagName.toLowerCase()==="form"}function FK(t){return jv(t)&&t.tagName.toLowerCase()==="input"}function IK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LK(t,s){return t.button===0&&(!s||s==="_self")&&!IK(t)}var yx=null;function BK(){if(yx===null)try{new FormData(document.createElement("form"),0),yx=!1}catch{yx=!0}return yx}var qK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pj(t){return t!=null&&!qK.has(t)?(Mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${r0}"`),null):t}function $K(t,s){let n,r,a,i,l;if(RK(t)){let o=t.getAttribute("action");r=o?no(o,s):null,n=t.getAttribute("method")||n0,a=Pj(t.getAttribute("enctype"))||r0,i=new FormData(t)}else if(DK(t)||FK(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?no(c,s):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||n0,a=Pj(t.getAttribute("formenctype"))||Pj(o.getAttribute("enctype"))||r0,i=new FormData(o,t),!BK()){let{name:d,type:u,value:m}=t;if(u==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,m)}}else{if(jv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=n0,r=null,a=r0,l=t}return i&&a==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c2(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function UK(t,s,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:s&&no(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zK(t,s){if(t.id in s)return s[t.id];try{let n=await import(t.module);return s[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VK(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WK(t,s,n){let r=await Promise.all(t.map(async a=>{let i=s.routes[a.route.id];if(i){let l=await zK(i,n);return l.links?l.links():[]}return[]}));return YK(r.flat(1).filter(VK).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function QP(t,s,n,r,a,i){let l=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,o=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?s.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?s.filter((c,d)=>{var m;let u=r.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function HK(t,s,{includeHydrateFallback:n}={}){return KK(t.map(r=>{let a=s.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function KK(t){return[...new Set(t)]}function GK(t){let s={},n=Object.keys(t).sort();for(let r of n)s[r]=t[r];return s}function YK(t,s){let n=new Set;return new Set(s),t.reduce((r,a)=>{let i=JSON.stringify(GK(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function x5(){let t=b.useContext(Bh);return c2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QK(){let t=b.useContext(bv);return c2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var d2=b.createContext(void 0);d2.displayName="FrameworkContext";function v5(){let t=b.useContext(d2);return c2(t,"You must render this element inside a <HydratedRouter> element"),t}function JK(t,s){let n=b.useContext(d2),[r,a]=b.useState(!1),[i,l]=b.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=s,h=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let y=j=>{j.forEach(w=>{l(w.isIntersecting)})},v=new IntersectionObserver(y,{threshold:.5});return h.current&&v.observe(h.current),()=>{v.disconnect()}}},[t]),b.useEffect(()=>{if(r){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{a(!0)},x=()=>{a(!1),l(!1)};return n?t!=="intent"?[i,h,{}]:[i,h,{onFocus:Jm(o,p),onBlur:Jm(c,x),onMouseEnter:Jm(d,p),onMouseLeave:Jm(u,x),onTouchStart:Jm(m,p)}]:[!1,h,{}]}function Jm(t,s){return n=>{t&&t(n),n.defaultPrevented||s(n)}}function XK({page:t,...s}){let{router:n}=x5(),r=b.useMemo(()=>i5(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(eG,{page:t,matches:r,...s}):null}function ZK(t){let{manifest:s,routeModules:n}=v5(),[r,a]=b.useState([]);return b.useEffect(()=>{let i=!1;return WK(t,s,n).then(l=>{i||a(l)}),()=>{i=!0}},[t,s,n]),r}function eG({page:t,matches:s,...n}){let r=wl(),{manifest:a,routeModules:i}=v5(),{basename:l}=x5(),{loaderData:o,matches:c}=QK(),d=b.useMemo(()=>QP(t,s,c,a,r,"data"),[t,s,c,a,r]),u=b.useMemo(()=>QP(t,s,c,a,r,"assets"),[t,s,c,a,r]),m=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,y=!1;if(s.forEach(j=>{var N;let w=a.routes[j.route.id];!w||!w.hasLoader||(!d.some(_=>_.route.id===j.route.id)&&j.route.id in o&&((N=i[j.route.id])!=null&&N.shouldRevalidate)||w.hasClientLoader?y=!0:x.add(j.route.id))}),x.size===0)return[];let v=UK(t,l,"data");return y&&x.size>0&&v.searchParams.set("_routes",s.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[v.pathname+v.search]},[l,o,r,a,d,s,t,i]),h=b.useMemo(()=>HK(u,a),[u,a]),p=ZK(u);return b.createElement(b.Fragment,null,m.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),p.map(({key:x,link:y})=>b.createElement("link",{key:x,nonce:n.nonce,...y})))}function tG(...t){return s=>{t.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var y5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y5&&(window.__reactRouterVersion="7.9.6")}catch{}function sG({basename:t,children:s,window:n}){let r=b.useRef();r.current==null&&(r.current=zH({window:n,v5Compat:!0}));let a=r.current,[i,l]=b.useState({action:a.action,location:a.location}),o=b.useCallback(c=>{b.startTransition(()=>l(c))},[l]);return b.useLayoutEffect(()=>a.listen(o),[a,o]),b.createElement(OK,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:a})}var b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=b.forwardRef(function({onClick:s,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m,...h},p){let{basename:x}=b.useContext(jl),y=typeof d=="string"&&b5.test(d),v,j=!1;if(typeof d=="string"&&y&&(v=d,y5))try{let R=new URL(window.location.href),O=d.startsWith("//")?new URL(R.protocol+d):new URL(d),k=no(O.pathname,x);O.origin===R.origin&&k!=null?d=k+O.search+O.hash:j=!0}catch{Mi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=xK(d,{relative:a}),[N,_,P]=JK(r,h),A=iG(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:m});function E(R){s&&s(R),R.defaultPrevented||A(R)}let C=b.createElement("a",{...h,...P,href:v||w,onClick:j||i?s:E,ref:tG(p,_),target:c,"data-discover":!y&&n==="render"?"true":void 0});return N&&!y?b.createElement(b.Fragment,null,C,b.createElement(XK,{page:w})):C});Gt.displayName="Link";var nG=b.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let m=kp(l,{relative:d.relative}),h=wl(),p=b.useContext(bv),{navigator:x,basename:y}=b.useContext(jl),v=p!=null&&uG(m)&&o===!0,j=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,w=h.pathname,N=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&y&&(N=no(N,y)||N);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let P=w===j||!a&&w.startsWith(j)&&w.charAt(_)==="/",A=N!=null&&(N===j||!a&&N.startsWith(j)&&N.charAt(j.length)==="/"),E={isActive:P,isPending:A,isTransitioning:v},C=P?s:void 0,R;typeof r=="function"?R=r(E):R=[r,P?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(E):i;return b.createElement(Gt,{...d,"aria-current":C,className:R,ref:u,style:O,to:l,viewTransition:o},typeof c=="function"?c(E):c)});nG.displayName="NavLink";var rG=b.forwardRef(({discover:t="render",fetcherKey:s,navigate:n,reloadDocument:r,replace:a,state:i,method:l=n0,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:m,...h},p)=>{let x=cG(),y=dG(o,{relative:d}),v=l.toLowerCase()==="get"?"get":"post",j=typeof o=="string"&&b5.test(o),w=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let _=N.nativeEvent.submitter,P=(_==null?void 0:_.getAttribute("formmethod"))||l;x(_||N.currentTarget,{fetcherKey:s,method:P,navigate:n,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:m})};return b.createElement("form",{ref:p,method:v,action:y,onSubmit:r?c:w,...h,"data-discover":!j&&t==="render"?"true":void 0})});rG.displayName="Form";function aG(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j5(t){let s=b.useContext(Bh);return Tn(s,aG(t)),s}function iG(t,{target:s,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l}={}){let o=i2(),c=wl(),d=kp(t,{relative:i});return b.useCallback(u=>{if(LK(u,s)){u.preventDefault();let m=n!==void 0?n:qf(c)===qf(d);o(t,{replace:m,state:r,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,d,n,r,s,t,a,i,l])}var lG=0,oG=()=>`__${String(++lG)}__`;function cG(){let{router:t}=j5("useSubmit"),{basename:s}=b.useContext(jl),n=EK();return b.useCallback(async(r,a={})=>{let{action:i,method:l,encType:o,formData:c,body:d}=$K(r,s);if(a.navigate===!1){let u=a.fetcherKey||oG();await t.fetch(u,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:d,formMethod:a.method||l,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,s,n])}function dG(t,{relative:s}={}){let{basename:n}=b.useContext(jl),r=b.useContext(ho);Tn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...kp(t||".",{relative:s})},l=wl();if(t==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Zl([n,i.pathname])),qf(i)}function uG(t,{relative:s}={}){let n=b.useContext(h5);Tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j5("useViewTransitionState"),a=kp(t,{relative:s});if(!n.isTransitioning)return!1;let i=no(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=no(n.nextLocation.pathname,r)||n.nextLocation.pathname;return O0(a.pathname,l)!=null||O0(a.pathname,i)!=null}var qd=r2();const w5=vc(qd);function Te(t){return"/"+t.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N5=(...t)=>t.filter((s,n,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=b.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:l,...o},c)=>b.createElement("svg",{ref:c,...mG,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:N5("lucide",a),...o},[...l.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,s)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(fG,{ref:i,iconNode:s,className:N5(`lucide-${hG(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_5=Xe("ArrowDown",pG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nl=Xe("ArrowLeft",gG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],X_=Xe("ArrowRight",xG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],u2=Xe("ArrowUpDown",vG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ur=Xe("ArrowUpRight",yG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],S5=Xe("ArrowUp",bG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Ep=Xe("AtSign",jG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],NG=Xe("Award",wG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wv=Xe("BookOpen",_G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dn=Xe("Briefcase",SG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],C5=Xe("Bug",CG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Fa=Xe("Building2",kG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],yc=Xe("Building",EG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],PG=Xe("CalendarDays",TG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ns=Xe("Calendar",AG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qh=Xe("ChartColumn",OG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tp=Xe("Check",MG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vr=Xe("ChevronDown",DG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zn=Xe("ChevronLeft",RG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ss=Xe("ChevronRight",FG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nv=Xe("ChevronUp",IG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],js=Xe("CircleAlert",LG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],qG=Xe("CircleArrowDown",BG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Aj=Xe("CircleArrowUp",$G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pp=Xe("CircleCheckBig",UG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ar=Xe("CircleCheck",zG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$d=Xe("CircleHelp",VG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],$h=Xe("CirclePlay",WG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],KG=Xe("CircleUser",HG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YG=Xe("CircleX",GG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],k5=Xe("Circle",QG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],an=Xe("Clock",JG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ni=Xe("Copy",XG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ud=Xe("CreditCard",ZG);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tY=Xe("Database",eY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nY=Xe("DollarSign",sY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],lr=Xe("Download",rY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tn=Xe("ExternalLink",aY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h2=Xe("EyeOff",iY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kr=Xe("Eye",lY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],cY=Xe("FileCheck",oY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],Ap=Xe("FilePen",dY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],mo=Xe("FileQuestion",uY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ls=Xe("FileText",hY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],fY=Xe("File",mY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],gY=Xe("Filter",pY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ho=Xe("FolderOpen",xY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],E5=Xe("FolderPlus",vY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Cd=Xe("FolderTree",yY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kl=Xe("Folder",bY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],T5=Xe("Globe",jY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],zd=Xe("GripVertical",wY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],_Y=Xe("Heart",NY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_v=Xe("History",SY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$f=Xe("House",CY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ti=Xe("Image",kY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JP=Xe("Info",EY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TY=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],PY=Xe("Layers",TY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],OY=Xe("LayoutGrid",AY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],P5=Xe("Lightbulb",MY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],XP=Xe("Link",DY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RY=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],jh=Xe("Linkedin",RY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],ZP=Xe("ListPlus",FY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bt=Xe("LoaderCircle",IY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],BY=Xe("LockOpen",LY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Z_=Xe("Lock",qY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Y=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],A5=Xe("LogOut",$Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Rs=Xe("Mail",UY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wr=Xe("MapPin",zY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],ro=Xe("Menu",VY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],e4=Xe("MessageCircle",WY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],KY=Xe("MessageSquare",HY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Op=Xe("MousePointer2",GY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],sl=Xe("MoveHorizontal",YY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],e1=Xe("Navigation",QY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],t4=Xe("Newspaper",JY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],ZY=Xe("PanelLeft",XY);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Oj=Xe("PanelsTopLeft",eQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ds=Xe("Pencil",tQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Sv=Xe("Phone",sQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tt=Xe("Plus",nQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],aQ=Xe("PoundSterling",rQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],a0=Xe("RefreshCw",iQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],s4=Xe("RotateCcw",lQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gn=Xe("Save",oQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zs=Xe("Search",cQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O5=Xe("Send",dQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],di=Xe("Settings",uQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nd=Xe("Share2",hQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],n4=Xe("ShieldAlert",mQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bn=Xe("Shield",fQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vd=Xe("ShoppingCart",pQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],fo=Xe("SlidersHorizontal",gQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],pa=Xe("Sparkles",xQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yQ=Xe("SquareCheckBig",vQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Di=Xe("SquarePen",bQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],r4=Xe("Square",jQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m2=Xe("Star",wQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],_Q=Xe("Table",NQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yd=Xe("Tag",SQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],kQ=Xe("Target",CQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],M5=Xe("ThumbsDown",EQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],D5=Xe("ThumbsUp",TQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ls=Xe("Ticket",PQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hs=Xe("Trash2",AQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],MQ=Xe("TrendingUp",OQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RQ=Xe("TriangleAlert",DQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Wn=Xe("Trophy",FQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],M0=Xe("Type",IQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Xs=Xe("Upload",LQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qQ=Xe("UserMinus",BQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kd=Xe("UserPlus",$Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sn=Xe("User",UQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Cs=Xe("Users",zQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],WQ=Xe("Video",VQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],uc=Xe("Wallet",HQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],GQ=Xe("Webhook",KQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ks=Xe("X",YQ);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],t1=Xe("Zap",QQ);function a4(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Hr(...t){return s=>{let n=!1;const r=t.map(a=>{const i=a4(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():a4(t[a],null)}}}}function ys(...t){return b.useCallback(Hr(...t),t)}var JQ=Symbol.for("react.lazy"),D0=n2[" use ".trim().toString()];function XQ(t){return typeof t=="object"&&t!==null&&"then"in t}function R5(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===JQ&&"_payload"in t&&XQ(t._payload)}function f2(t){const s=ZQ(t),n=b.forwardRef((r,a)=>{let{children:i,...l}=r;R5(i)&&typeof D0=="function"&&(i=D0(i._payload));const o=b.Children.toArray(i),c=o.find(tJ);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var Uh=f2("Slot");function ZQ(t){const s=b.forwardRef((n,r)=>{let{children:a,...i}=n;if(R5(a)&&typeof D0=="function"&&(a=D0(a._payload)),b.isValidElement(a)){const l=nJ(a),o=sJ(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var eJ=Symbol("radix.slottable");function tJ(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eJ}function sJ(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function nJ(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function F5(t){var s,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=F5(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function I5(){for(var t,s,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(s=F5(t))&&(r&&(r+=" "),r+=s);return r}const i4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,l4=I5,zh=(t,s)=>n=>{var r;if((s==null?void 0:s.variants)==null)return l4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=s,l=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=i4(u)||i4(m);return a[d][h]}),o=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(x=>{let[y,v]=x;return Array.isArray(v)?v.includes({...i,...o}[y]):{...i,...o}[y]===v})?[...d,m,h]:d},[]);return l4(t,l,c,n==null?void 0:n.class,n==null?void 0:n.className)},Mj=768;function rJ(){const[t,s]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Mj-1}px)`),r=()=>{s(window.innerWidth<Mj)};return n.addEventListener("change",r),s(window.innerWidth<Mj),()=>n.removeEventListener("change",r)},[]),!!t}const aJ=(t,s)=>{const n=new Array(t.length+s.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<s.length;r++)n[t.length+r]=s[r];return n},iJ=(t,s)=>({classGroupId:t,validator:s}),L5=(t=new Map,s=null,n)=>({nextPart:t,validators:s,classGroupId:n}),R0="-",o4=[],lJ="arbitrary..",oJ=t=>{const s=dJ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return cJ(l);const o=l.split(R0),c=o[0]===""&&o.length>1?1:0;return B5(o,c,s)},getConflictingClassGroupIds:(l,o)=>{if(o){const c=r[l],d=n[l];return c?d?aJ(d,c):c:d||o4}return n[l]||o4}}},B5=(t,s,n)=>{if(t.length-s===0)return n.classGroupId;const a=t[s],i=n.nextPart.get(a);if(i){const d=B5(t,s+1,i);if(d)return d}const l=n.validators;if(l===null)return;const o=s===0?t.join(R0):t.slice(s).join(R0),c=l.length;for(let d=0;d<c;d++){const u=l[d];if(u.validator(o))return u.classGroupId}},cJ=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),n=s.indexOf(":"),r=s.slice(0,n);return r?lJ+r:void 0})(),dJ=t=>{const{theme:s,classGroups:n}=t;return uJ(n,s)},uJ=(t,s)=>{const n=L5();for(const r in t){const a=t[r];p2(a,n,r,s)}return n},p2=(t,s,n,r)=>{const a=t.length;for(let i=0;i<a;i++){const l=t[i];hJ(l,s,n,r)}},hJ=(t,s,n,r)=>{if(typeof t=="string"){mJ(t,s,n);return}if(typeof t=="function"){fJ(t,s,n,r);return}pJ(t,s,n,r)},mJ=(t,s,n)=>{const r=t===""?s:q5(s,t);r.classGroupId=n},fJ=(t,s,n,r)=>{if(gJ(t)){p2(t(r),s,n,r);return}s.validators===null&&(s.validators=[]),s.validators.push(iJ(n,t))},pJ=(t,s,n,r)=>{const a=Object.entries(t),i=a.length;for(let l=0;l<i;l++){const[o,c]=a[l];p2(c,q5(s,o),n,r)}},q5=(t,s)=>{let n=t;const r=s.split(R0),a=r.length;for(let i=0;i<a;i++){const l=r[i];let o=n.nextPart.get(l);o||(o=L5(),n.nextPart.set(l,o)),n=o}return n},gJ=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,xJ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),r=Object.create(null);const a=(i,l)=>{n[i]=l,s++,s>t&&(s=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return a(i,l),l},set(i,l){i in n?n[i]=l:a(i,l)}}},s1="!",c4=":",vJ=[],d4=(t,s,n,r,a)=>({modifiers:t,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),yJ=t=>{const{prefix:s,experimentalParseClassName:n}=t;let r=a=>{const i=[];let l=0,o=0,c=0,d;const u=a.length;for(let y=0;y<u;y++){const v=a[y];if(l===0&&o===0){if(v===c4){i.push(a.slice(c,y)),c=y+1;continue}if(v==="/"){d=y;continue}}v==="["?l++:v==="]"?l--:v==="("?o++:v===")"&&o--}const m=i.length===0?a:a.slice(c);let h=m,p=!1;m.endsWith(s1)?(h=m.slice(0,-1),p=!0):m.startsWith(s1)&&(h=m.slice(1),p=!0);const x=d&&d>c?d-c:void 0;return d4(i,p,h,x)};if(s){const a=s+c4,i=r;r=l=>l.startsWith(a)?i(l.slice(a.length)):d4(vJ,!1,l,void 0,!0)}if(n){const a=r;r=i=>n({className:i,parseClassName:a})}return r},bJ=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{s.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let i=0;i<n.length;i++){const l=n[i],o=l[0]==="[",c=s.has(l);o||c?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(l)):a.push(l)}return a.length>0&&(a.sort(),r.push(...a)),r}},jJ=t=>({cache:xJ(t.cacheSize),parseClassName:yJ(t),sortModifiers:bJ(t),...oJ(t)}),wJ=/\s+/,NJ=(t,s)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=s,l=[],o=t.trim().split(wJ);let c="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{isExternal:m,modifiers:h,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=n(u);if(m){c=u+(c.length>0?" "+c:c);continue}let v=!!y,j=r(v?x.substring(0,y):x);if(!j){if(!v){c=u+(c.length>0?" "+c:c);continue}if(j=r(x),!j){c=u+(c.length>0?" "+c:c);continue}v=!1}const w=h.length===0?"":h.length===1?h[0]:i(h).join(":"),N=p?w+s1:w,_=N+j;if(l.indexOf(_)>-1)continue;l.push(_);const P=a(j,v);for(let A=0;A<P.length;++A){const E=P[A];l.push(N+E)}c=u+(c.length>0?" "+c:c)}return c},_J=(...t)=>{let s=0,n,r,a="";for(;s<t.length;)(n=t[s++])&&(r=$5(n))&&(a&&(a+=" "),a+=r);return a},$5=t=>{if(typeof t=="string")return t;let s,n="";for(let r=0;r<t.length;r++)t[r]&&(s=$5(t[r]))&&(n&&(n+=" "),n+=s);return n},SJ=(t,...s)=>{let n,r,a,i;const l=c=>{const d=s.reduce((u,m)=>m(u),t());return n=jJ(d),r=n.cache.get,a=n.cache.set,i=o,o(c)},o=c=>{const d=r(c);if(d)return d;const u=NJ(c,n);return a(c,u),u};return i=l,(...c)=>i(_J(...c))},CJ=[],Gn=t=>{const s=n=>n[t]||CJ;return s.isThemeGetter=!0,s},U5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,z5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,kJ=/^\d+\/\d+$/,EJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,AJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eu=t=>kJ.test(t),ws=t=>!!t&&!Number.isNaN(Number(t)),Bo=t=>!!t&&Number.isInteger(Number(t)),Dj=t=>t.endsWith("%")&&ws(t.slice(0,-1)),Il=t=>EJ.test(t),MJ=()=>!0,DJ=t=>TJ.test(t)&&!PJ.test(t),V5=()=>!1,RJ=t=>AJ.test(t),FJ=t=>OJ.test(t),IJ=t=>!Lt(t)&&!Bt(t),LJ=t=>Vh(t,K5,V5),Lt=t=>U5.test(t),Uc=t=>Vh(t,G5,DJ),Rj=t=>Vh(t,zJ,ws),u4=t=>Vh(t,W5,V5),BJ=t=>Vh(t,H5,FJ),bx=t=>Vh(t,Y5,RJ),Bt=t=>z5.test(t),Xm=t=>Wh(t,G5),qJ=t=>Wh(t,VJ),h4=t=>Wh(t,W5),$J=t=>Wh(t,K5),UJ=t=>Wh(t,H5),jx=t=>Wh(t,Y5,!0),Vh=(t,s,n)=>{const r=U5.exec(t);return r?r[1]?s(r[1]):n(r[2]):!1},Wh=(t,s,n=!1)=>{const r=z5.exec(t);return r?r[1]?s(r[1]):n:!1},W5=t=>t==="position"||t==="percentage",H5=t=>t==="image"||t==="url",K5=t=>t==="length"||t==="size"||t==="bg-size",G5=t=>t==="length",zJ=t=>t==="number",VJ=t=>t==="family-name",Y5=t=>t==="shadow",WJ=()=>{const t=Gn("color"),s=Gn("font"),n=Gn("text"),r=Gn("font-weight"),a=Gn("tracking"),i=Gn("leading"),l=Gn("breakpoint"),o=Gn("container"),c=Gn("spacing"),d=Gn("radius"),u=Gn("shadow"),m=Gn("inset-shadow"),h=Gn("text-shadow"),p=Gn("drop-shadow"),x=Gn("blur"),y=Gn("perspective"),v=Gn("aspect"),j=Gn("ease"),w=Gn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[..._(),Bt,Lt],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],C=()=>[Bt,Lt,c],R=()=>[Eu,"full","auto",...C()],O=()=>[Bo,"none","subgrid",Bt,Lt],k=()=>["auto",{span:["full",Bo,Bt,Lt]},Bo,Bt,Lt],T=()=>[Bo,"auto",Bt,Lt],D=()=>["auto","min","max","fr",Bt,Lt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...C()],H=()=>[Eu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],B=()=>[t,Bt,Lt],$=()=>[..._(),h4,u4,{position:[Bt,Lt]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",$J,LJ,{size:[Bt,Lt]}],V=()=>[Dj,Xm,Uc],q=()=>["","none","full",d,Bt,Lt],J=()=>["",ws,Xm,Uc],Q=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ws,Dj,h4,u4],ae=()=>["","none",x,Bt,Lt],se=()=>["none",ws,Bt,Lt],de=()=>["none",ws,Bt,Lt],ue=()=>[ws,Bt,Lt],oe=()=>[Eu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Il],breakpoint:[Il],color:[MJ],container:[Il],"drop-shadow":[Il],ease:["in","out","in-out"],font:[IJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Il],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Il],shadow:[Il],spacing:["px",ws],text:[Il],"text-shadow":[Il],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Eu,Lt,Bt,v]}],container:["container"],columns:[{columns:[ws,Lt,Bt,o]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Bo,"auto",Bt,Lt]}],basis:[{basis:[Eu,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ws,Eu,"auto","initial","none",Lt]}],grow:[{grow:["",ws,Bt,Lt]}],shrink:[{shrink:["",ws,Bt,Lt]}],order:[{order:[Bo,"first","last","none",Bt,Lt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[o,"screen",...H()]}],"min-w":[{"min-w":[o,"screen","none",...H()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[l]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,Xm,Uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Bt,Rj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dj,Lt]}],"font-family":[{font:[qJ,Lt,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Bt,Lt]}],"line-clamp":[{"line-clamp":[ws,"none",Bt,Rj]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Bt,Lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Bt,Lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ws,"from-font","auto",Bt,Uc]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[ws,"auto",Bt,Lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt,Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt,Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bo,Bt,Lt],radial:["",Bt,Lt],conic:[Bo,Bt,Lt]},UJ,BJ]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ws,Bt,Lt]}],"outline-w":[{outline:["",ws,Xm,Uc]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",u,jx,bx]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",m,jx,bx]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[ws,Uc]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",h,jx,bx]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[ws,Bt,Lt]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ws]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Bt,Lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ws]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Bt,Lt]}],filter:[{filter:["","none",Bt,Lt]}],blur:[{blur:ae()}],brightness:[{brightness:[ws,Bt,Lt]}],contrast:[{contrast:[ws,Bt,Lt]}],"drop-shadow":[{"drop-shadow":["","none",p,jx,bx]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",ws,Bt,Lt]}],"hue-rotate":[{"hue-rotate":[ws,Bt,Lt]}],invert:[{invert:["",ws,Bt,Lt]}],saturate:[{saturate:[ws,Bt,Lt]}],sepia:[{sepia:["",ws,Bt,Lt]}],"backdrop-filter":[{"backdrop-filter":["","none",Bt,Lt]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[ws,Bt,Lt]}],"backdrop-contrast":[{"backdrop-contrast":[ws,Bt,Lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ws,Bt,Lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ws,Bt,Lt]}],"backdrop-invert":[{"backdrop-invert":["",ws,Bt,Lt]}],"backdrop-opacity":[{"backdrop-opacity":[ws,Bt,Lt]}],"backdrop-saturate":[{"backdrop-saturate":[ws,Bt,Lt]}],"backdrop-sepia":[{"backdrop-sepia":["",ws,Bt,Lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Bt,Lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ws,"initial",Bt,Lt]}],ease:[{ease:["linear","initial",j,Bt,Lt]}],delay:[{delay:[ws,Bt,Lt]}],animate:[{animate:["none",w,Bt,Lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Bt,Lt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Bt,Lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt,Lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt,Lt]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[ws,Xm,Uc,Rj]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HJ=SJ(WJ);function et(...t){return HJ(I5(t))}const Uf=zh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),X=b.forwardRef(({className:t,variant:s,size:n,asChild:r=!1,...a},i)=>{const l=r?Uh:"button";return e.jsx(l,{className:et(Uf({variant:s,size:n,className:t})),ref:i,...a})});X.displayName="Button";const he=b.forwardRef(({className:t,type:s,...n},r)=>e.jsx("input",{type:s,className:et("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));he.displayName="Input";var KJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],GJ=KJ.reduce((t,s)=>{const n=f2(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),YJ="Separator",m4="horizontal",QJ=["horizontal","vertical"],Q5=b.forwardRef((t,s)=>{const{decorative:n,orientation:r=m4,...a}=t,i=JJ(r)?r:m4,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(GJ.div,{"data-orientation":i,...o,...a,ref:s})});Q5.displayName=YJ;function JJ(t){return QJ.includes(t)}var J5=Q5;const X5=b.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...r},a)=>e.jsx(J5,{ref:a,decorative:n,orientation:s,className:et("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));X5.displayName=J5.displayName;function jt(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function XJ(t,s){const n=b.createContext(s),r=i=>{const{children:l,...o}=i,c=b.useMemo(()=>o,Object.values(o));return e.jsx(n.Provider,{value:c,children:l})};r.displayName=t+"Provider";function a(i){const l=b.useContext(n);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function Er(t,s=[]){let n=[];function r(i,l){const o=b.createContext(l),c=n.length;n=[...n,l];const d=m=>{var j;const{scope:h,children:p,...x}=m,y=((j=h==null?void 0:h[t])==null?void 0:j[c])||o,v=b.useMemo(()=>x,Object.values(x));return e.jsx(y.Provider,{value:v,children:p})};d.displayName=i+"Provider";function u(m,h){var y;const p=((y=h==null?void 0:h[t])==null?void 0:y[c])||o,x=b.useContext(p);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(l=>b.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[r,ZJ(a,...s)]}function ZJ(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=r.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return b.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return n.scopeName=s.scopeName,n}var gr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},eX=n2[" useId ".trim().toString()]||(()=>{}),tX=0;function Xn(t){const[s,n]=b.useState(eX());return gr(()=>{n(r=>r??String(tX++))},[t]),t||(s?`radix-${s}`:"")}var sX=n2[" useInsertionEffect ".trim().toString()]||gr;function ui({prop:t,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,l]=nX({defaultProp:s,onChange:n}),o=t!==void 0,c=o?t:a;{const u=b.useRef(t!==void 0);b.useEffect(()=>{const m=u.current;m!==o&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const d=b.useCallback(u=>{var m;if(o){const h=rX(u)?u(t):u;h!==t&&((m=l.current)==null||m.call(l,h))}else i(u)},[o,t,i,l]);return[c,d]}function nX({defaultProp:t,onChange:s}){const[n,r]=b.useState(t),a=b.useRef(n),i=b.useRef(s);return sX(()=>{i.current=s},[s]),b.useEffect(()=>{var l;a.current!==n&&((l=i.current)==null||l.call(i,n),a.current=n)},[n,a]),[n,r,i]}function rX(t){return typeof t=="function"}function aX(t){const s=iX(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(oX);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function iX(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=dX(a),o=cX(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var lX=Symbol("radix.slottable");function oX(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lX}function cX(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function dX(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=uX.reduce((t,s)=>{const n=aX(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Z5(t,s){t&&qd.flushSync(()=>t.dispatchEvent(s))}function gl(t){const s=b.useRef(t);return b.useEffect(()=>{s.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=s.current)==null?void 0:r.call(s,...n)},[])}function hX(t,s=globalThis==null?void 0:globalThis.document){const n=gl(t);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[n,s])}var mX="DismissableLayer",n1="dismissableLayer.update",fX="dismissableLayer.pointerDownOutside",pX="dismissableLayer.focusOutside",f4,e3=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hh=b.forwardRef((t,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,d=b.useContext(e3),[u,m]=b.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),x=ys(s,E=>m(E)),y=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(v),w=u?y.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,_=w>=j,P=vX(E=>{const C=E.target,R=[...d.branches].some(O=>O.contains(C));!_||R||(a==null||a(E),l==null||l(E),E.defaultPrevented||o==null||o())},h),A=yX(E=>{const C=E.target;[...d.branches].some(O=>O.contains(C))||(i==null||i(E),l==null||l(E),E.defaultPrevented||o==null||o())},h);return hX(E=>{w===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},h),b.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(f4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),p4(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=f4)}},[u,h,n,d]),b.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),p4())},[u,d]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(n1,E),()=>document.removeEventListener(n1,E)},[]),e.jsx(zt.div,{...c,ref:x,style:{pointerEvents:N?_?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,P.onPointerDownCapture)})});Hh.displayName=mX;var gX="DismissableLayerBranch",xX=b.forwardRef((t,s)=>{const n=b.useContext(e3),r=b.useRef(null),a=ys(s,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(zt.div,{...t,ref:a})});xX.displayName=gX;function vX(t,s=globalThis==null?void 0:globalThis.document){const n=gl(t),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){t3(fX,n,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function yX(t,s=globalThis==null?void 0:globalThis.document){const n=gl(t),r=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!r.current&&t3(pX,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p4(){const t=new CustomEvent(n1);document.dispatchEvent(t)}function t3(t,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?Z5(a,i):a.dispatchEvent(i)}var Fj="focusScope.autoFocusOnMount",Ij="focusScope.autoFocusOnUnmount",g4={bubbles:!1,cancelable:!0},bX="FocusScope",Mp=b.forwardRef((t,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=b.useState(null),d=gl(a),u=gl(i),m=b.useRef(null),h=ys(s,y=>c(y)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(N){if(p.paused||!o)return;const _=N.target;o.contains(_)?m.current=_:zo(m.current,{select:!0})},v=function(N){if(p.paused||!o)return;const _=N.relatedTarget;_!==null&&(o.contains(_)||zo(m.current,{select:!0}))},j=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&zo(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const w=new MutationObserver(j);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),w.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){v4.add(p);const y=document.activeElement;if(!o.contains(y)){const j=new CustomEvent(Fj,g4);o.addEventListener(Fj,d),o.dispatchEvent(j),j.defaultPrevented||(jX(CX(s3(o)),{select:!0}),document.activeElement===y&&zo(o))}return()=>{o.removeEventListener(Fj,d),setTimeout(()=>{const j=new CustomEvent(Ij,g4);o.addEventListener(Ij,u),o.dispatchEvent(j),j.defaultPrevented||zo(y??document.body,{select:!0}),o.removeEventListener(Ij,u),v4.remove(p)},0)}}},[o,d,u,p]);const x=b.useCallback(y=>{if(!n&&!r||p.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(v&&j){const w=y.currentTarget,[N,_]=wX(w);N&&_?!y.shiftKey&&j===_?(y.preventDefault(),n&&zo(N,{select:!0})):y.shiftKey&&j===N&&(y.preventDefault(),n&&zo(_,{select:!0})):j===w&&y.preventDefault()}},[n,r,p.paused]);return e.jsx(zt.div,{tabIndex:-1,...l,ref:h,onKeyDown:x})});Mp.displayName=bX;function jX(t,{select:s=!1}={}){const n=document.activeElement;for(const r of t)if(zo(r,{select:s}),document.activeElement!==n)return}function wX(t){const s=s3(t),n=x4(s,t),r=x4(s.reverse(),t);return[n,r]}function s3(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function x4(t,s){for(const n of t)if(!NX(n,{upTo:s}))return n}function NX(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _X(t){return t instanceof HTMLInputElement&&"select"in t}function zo(t,{select:s=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_X(t)&&s&&t.select()}}var v4=SX();function SX(){let t=[];return{add(s){const n=t[0];s!==n&&(n==null||n.pause()),t=y4(t,s),t.unshift(s)},remove(s){var n;t=y4(t,s),(n=t[0])==null||n.resume()}}}function y4(t,s){const n=[...t],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function CX(t){return t.filter(s=>s.tagName!=="A")}var kX="Portal",Kh=b.forwardRef((t,s)=>{var o;const{container:n,...r}=t,[a,i]=b.useState(!1);gr(()=>i(!0),[]);const l=n||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?w5.createPortal(e.jsx(zt.div,{...r,ref:s}),l):null});Kh.displayName=kX;function EX(t,s){return b.useReducer((n,r)=>s[n][r]??n,t)}var Tr=t=>{const{present:s,children:n}=t,r=TX(s),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=ys(r.ref,PX(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:i}):null};Tr.displayName="Presence";function TX(t){const[s,n]=b.useState(),r=b.useRef(null),a=b.useRef(t),i=b.useRef("none"),l=t?"mounted":"unmounted",[o,c]=EX(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=wx(r.current);i.current=o==="mounted"?d:"none"},[o]),gr(()=>{const d=r.current,u=a.current;if(u!==t){const h=i.current,p=wx(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),gr(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,m=p=>{const y=wx(r.current).includes(CSS.escape(p.animationName));if(p.target===s&&y&&(c("ANIMATION_END"),!a.current)){const v=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=v)})}},h=p=>{p.target===s&&(i.current=wx(r.current))};return s.addEventListener("animationstart",h),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",h),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function wx(t){return(t==null?void 0:t.animationName)||"none"}function PX(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lj=0;function Cv(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??b4()),document.body.insertAdjacentElement("beforeend",t[1]??b4()),Lj++,()=>{Lj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Lj--}},[])}function b4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var r1=function(t,s){return r1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},r1(t,s)};function n3(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r1(t,s);function n(){this.constructor=t}t.prototype=s===null?Object.create(s):(n.prototype=s.prototype,new n)}var ri=function(){return ri=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},ri.apply(this,arguments)};function bc(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function r3(t,s,n,r){var a=arguments.length,i=a<3?s:r===null?r=Object.getOwnPropertyDescriptor(s,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,s,n,r);else for(var o=t.length-1;o>=0;o--)(l=t[o])&&(i=(a<3?l(i):a>3?l(s,n,i):l(s,n))||i);return a>3&&i&&Object.defineProperty(s,n,i),i}function a3(t,s){return function(n,r){s(n,r,t)}}function i3(t,s,n,r,a,i){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!s&&t?r.static?t:t.prototype:null,u=s||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),m,h=!1,p=n.length-1;p>=0;p--){var x={};for(var y in r)x[y]=y==="access"?{}:r[y];for(var y in r.access)x.access[y]=r.access[y];x.addInitializer=function(j){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(j||null))};var v=(0,n[p])(o==="accessor"?{get:u.get,set:u.set}:u[c],x);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(m=l(v.get))&&(u.get=m),(m=l(v.set))&&(u.set=m),(m=l(v.init))&&a.unshift(m)}else(m=l(v))&&(o==="field"?a.unshift(m):u[c]=m)}d&&Object.defineProperty(d,r.name,u),h=!0}function l3(t,s,n){for(var r=arguments.length>2,a=0;a<s.length;a++)n=r?s[a].call(t,n):s[a].call(t);return r?n:void 0}function o3(t){return typeof t=="symbol"?t:"".concat(t)}function c3(t,s,n){return typeof s=="symbol"&&(s=s.description?"[".concat(s.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",s):s})}function d3(t,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,s)}function Wt(t,s,n,r){function a(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(u){try{d(r.next(u))}catch(m){l(m)}}function c(u){try{d(r.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((r=r.apply(t,s||[])).next())})}function u3(t,s){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=o(0),l.throw=o(1),l.return=o(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(d){return function(u){return c([d,u])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=s.call(t,n)}catch(u){d=[6,u],a=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var kv=Object.create?(function(t,s,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(s,n);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(t,r,a)}):(function(t,s,n,r){r===void 0&&(r=n),t[r]=s[n]});function h3(t,s){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(s,n)&&kv(s,t,n)}function F0(t){var s=typeof Symbol=="function"&&Symbol.iterator,n=s&&t[s],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function g2(t,s){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,i=[],l;try{for(;(s===void 0||s-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){l={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i}function m3(){for(var t=[],s=0;s<arguments.length;s++)t=t.concat(g2(arguments[s]));return t}function f3(){for(var t=0,s=0,n=arguments.length;s<n;s++)t+=arguments[s].length;for(var r=Array(t),a=0,s=0;s<n;s++)for(var i=arguments[s],l=0,o=i.length;l<o;l++,a++)r[a]=i[l];return r}function x2(t,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}function wh(t){return this instanceof wh?(this.v=t,this):new wh(t)}function p3(t,s,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,s||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(p){return function(x){return Promise.resolve(x).then(p,m)}}function o(p,x){r[p]&&(a[p]=function(y){return new Promise(function(v,j){i.push([p,y,v,j])>1||c(p,y)})},x&&(a[p]=x(a[p])))}function c(p,x){try{d(r[p](x))}catch(y){h(i[0][3],y)}}function d(p){p.value instanceof wh?Promise.resolve(p.value.v).then(u,m):h(i[0][2],p)}function u(p){c("next",p)}function m(p){c("throw",p)}function h(p,x){p(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function g3(t){var s,n;return s={},r("next"),r("throw",function(a){throw a}),r("return"),s[Symbol.iterator]=function(){return this},s;function r(a,i){s[a]=t[a]?function(l){return(n=!n)?{value:wh(t[a](l)),done:!1}:i?i(l):l}:i}}function x3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t[Symbol.asyncIterator],n;return s?s.call(t):(t=typeof F0=="function"?F0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(l){return new Promise(function(o,c){l=t[i](l),a(o,c,l.done,l.value)})}}function a(i,l,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},l)}}function v3(t,s){return Object.defineProperty?Object.defineProperty(t,"raw",{value:s}):t.raw=s,t}var AX=Object.create?(function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}):function(t,s){t.default=s},a1=function(t){return a1=Object.getOwnPropertyNames||function(s){var n=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[n.length]=r);return n},a1(t)};function y3(t){if(t&&t.__esModule)return t;var s={};if(t!=null)for(var n=a1(t),r=0;r<n.length;r++)n[r]!=="default"&&kv(s,t,n[r]);return AX(s,t),s}function b3(t){return t&&t.__esModule?t:{default:t}}function j3(t,s,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?t!==s||!r:!s.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:s.get(t)}function w3(t,s,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?t!==s||!a:!s.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:s.set(t,n),n}function N3(t,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?s===t:t.has(s)}function _3(t,s,n){if(s!=null){if(typeof s!="object"&&typeof s!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=s[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=s[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:s,dispose:r,async:n})}else n&&t.stack.push({async:!0});return s}var OX=typeof SuppressedError=="function"?SuppressedError:function(t,s,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=s,r};function S3(t){function s(i){t.error=t.hasError?new OX(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(a,function(l){return s(l),a()})}else r|=1}catch(l){s(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function C3(t,s){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,i,l){return r?s?".jsx":".js":a&&(!i||!l)?n:a+i+"."+l.toLowerCase()+"js"}):t}const MX={__extends:n3,__assign:ri,__rest:bc,__decorate:r3,__param:a3,__esDecorate:i3,__runInitializers:l3,__propKey:o3,__setFunctionName:c3,__metadata:d3,__awaiter:Wt,__generator:u3,__createBinding:kv,__exportStar:h3,__values:F0,__read:g2,__spread:m3,__spreadArrays:f3,__spreadArray:x2,__await:wh,__asyncGenerator:p3,__asyncDelegator:g3,__asyncValues:x3,__makeTemplateObject:v3,__importStar:y3,__importDefault:b3,__classPrivateFieldGet:j3,__classPrivateFieldSet:w3,__classPrivateFieldIn:N3,__addDisposableResource:_3,__disposeResources:S3,__rewriteRelativeImportExtension:C3},DX=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_3,get __assign(){return ri},__asyncDelegator:g3,__asyncGenerator:p3,__asyncValues:x3,__await:wh,__awaiter:Wt,__classPrivateFieldGet:j3,__classPrivateFieldIn:N3,__classPrivateFieldSet:w3,__createBinding:kv,__decorate:r3,__disposeResources:S3,__esDecorate:i3,__exportStar:h3,__extends:n3,__generator:u3,__importDefault:b3,__importStar:y3,__makeTemplateObject:v3,__metadata:d3,__param:a3,__propKey:o3,__read:g2,__rest:bc,__rewriteRelativeImportExtension:C3,__runInitializers:l3,__setFunctionName:c3,__spread:m3,__spreadArray:x2,__spreadArrays:f3,__values:F0,default:MX},Symbol.toStringTag,{value:"Module"}));var i0="right-scroll-bar-position",l0="width-before-scroll-bar",RX="with-scroll-bars-hidden",FX="--removed-body-scroll-bar-size";function Bj(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function IX(t,s){var n=b.useState(function(){return{value:t,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var LX=typeof window<"u"?b.useLayoutEffect:b.useEffect,j4=new WeakMap;function BX(t,s){var n=IX(null,function(r){return t.forEach(function(a){return Bj(a,r)})});return LX(function(){var r=j4.get(n);if(r){var a=new Set(r),i=new Set(t),l=n.current;a.forEach(function(o){i.has(o)||Bj(o,null)}),i.forEach(function(o){a.has(o)||Bj(o,l)})}j4.set(n,t)},[t]),n}function qX(t){return t}function $X(t,s){s===void 0&&(s=qX);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var l=s(i,r);return n.push(l),function(){n=n.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var o=n;n=[],o.forEach(i),l=n}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),n}}}};return a}function UX(t){t===void 0&&(t={});var s=$X(null);return s.options=ri({async:!0,ssr:!1},t),s}var k3=function(t){var s=t.sideCar,n=bc(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,ri({},n))};k3.isSideCarExport=!0;function zX(t,s){return t.useMedium(s),k3}var E3=UX(),qj=function(){},Ev=b.forwardRef(function(t,s){var n=b.useRef(null),r=b.useState({onScrollCapture:qj,onWheelCapture:qj,onTouchMoveCapture:qj}),a=r[0],i=r[1],l=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,p=t.noRelative,x=t.noIsolation,y=t.inert,v=t.allowPinchZoom,j=t.as,w=j===void 0?"div":j,N=t.gapMode,_=bc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=h,A=BX([n,s]),E=ri(ri({},_),a);return b.createElement(b.Fragment,null,u&&b.createElement(P,{sideCar:E3,removeScrollBar:d,shards:m,noRelative:p,noIsolation:x,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:N}),l?b.cloneElement(b.Children.only(o),ri(ri({},E),{ref:A})):b.createElement(w,ri({},E,{className:c,ref:A}),o))});Ev.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ev.classNames={fullWidth:l0,zeroRight:i0};var VX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=VX();return s&&t.setAttribute("nonce",s),t}function HX(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function KX(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var GX=function(){var t=0,s=null;return{add:function(n){t==0&&(s=WX())&&(HX(s,n),KX(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},YX=function(){var t=GX();return function(s,n){b.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&n])}},T3=function(){var t=YX(),s=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return s},QX={left:0,top:0,right:0,gap:0},$j=function(t){return parseInt(t||"",10)||0},JX=function(t){var s=window.getComputedStyle(document.body),n=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[$j(n),$j(r),$j(a)]},XX=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QX;var s=JX(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},ZX=T3(),Zu="data-scroll-locked",eZ=function(t,s,n,r){var a=t.left,i=t.top,l=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(RX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Zu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i0,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(l0,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(i0," .").concat(i0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(l0," .").concat(l0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zu,`] {
    `).concat(FX,": ").concat(o,`px;
  }
`)},w4=function(){var t=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(t)?t:0},tZ=function(){b.useEffect(function(){return document.body.setAttribute(Zu,(w4()+1).toString()),function(){var t=w4()-1;t<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,t.toString())}},[])},sZ=function(t){var s=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;tZ();var i=b.useMemo(function(){return XX(a)},[a]);return b.createElement(ZX,{styles:eZ(i,!s,a,n?"":"!important")})},i1=!1;if(typeof window<"u")try{var Nx=Object.defineProperty({},"passive",{get:function(){return i1=!0,!0}});window.addEventListener("test",Nx,Nx),window.removeEventListener("test",Nx,Nx)}catch{i1=!1}var Tu=i1?{passive:!1}:!1,nZ=function(t){return t.tagName==="TEXTAREA"},P3=function(t,s){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!nZ(t)&&n[s]==="visible")},rZ=function(t){return P3(t,"overflowY")},aZ=function(t){return P3(t,"overflowX")},N4=function(t,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=A3(t,r);if(a){var i=O3(t,r),l=i[1],o=i[2];if(l>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},iZ=function(t){var s=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[s,n,r]},lZ=function(t){var s=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[s,n,r]},A3=function(t,s){return t==="v"?rZ(s):aZ(s)},O3=function(t,s){return t==="v"?iZ(s):lZ(s)},oZ=function(t,s){return t==="h"&&s==="rtl"?-1:1},cZ=function(t,s,n,r,a){var i=oZ(t,window.getComputedStyle(s).direction),l=i*r,o=n.target,c=s.contains(o),d=!1,u=l>0,m=0,h=0;do{if(!o)break;var p=O3(t,o),x=p[0],y=p[1],v=p[2],j=y-v-i*x;(x||j)&&A3(t,o)&&(m+=j,h+=x);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(u&&Math.abs(m)<1||!u&&Math.abs(h)<1)&&(d=!0),d},_x=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_4=function(t){return[t.deltaX,t.deltaY]},S4=function(t){return t&&"current"in t?t.current:t},dZ=function(t,s){return t[0]===s[0]&&t[1]===s[1]},uZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hZ=0,Pu=[];function mZ(t){var s=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(hZ++)[0],i=b.useState(T3)[0],l=b.useRef(t);b.useEffect(function(){l.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var y=x2([t.lockRef.current],(t.shards||[]).map(S4),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var j=_x(y),w=n.current,N="deltaX"in y?y.deltaX:w[0]-j[0],_="deltaY"in y?y.deltaY:w[1]-j[1],P,A=y.target,E=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in y&&E==="h"&&A.type==="range")return!1;var C=N4(E,A);if(!C)return!0;if(C?P=E:(P=E==="v"?"h":"v",C=N4(E,A)),!C)return!1;if(!r.current&&"changedTouches"in y&&(N||_)&&(r.current=P),!P)return!0;var R=r.current||P;return cZ(R,v,y,R==="h"?N:_)},[]),c=b.useCallback(function(y){var v=y;if(!(!Pu.length||Pu[Pu.length-1]!==i)){var j="deltaY"in v?_4(v):_x(v),w=s.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&dZ(P.delta,j)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var N=(l.current.shards||[]).map(S4).filter(Boolean).filter(function(P){return P.contains(v.target)}),_=N.length>0?o(v,N[0]):!l.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),d=b.useCallback(function(y,v,j,w){var N={name:y,delta:v,target:j,should:w,shadowParent:fZ(j)};s.current.push(N),setTimeout(function(){s.current=s.current.filter(function(_){return _!==N})},1)},[]),u=b.useCallback(function(y){n.current=_x(y),r.current=void 0},[]),m=b.useCallback(function(y){d(y.type,_4(y),y.target,o(y,t.lockRef.current))},[]),h=b.useCallback(function(y){d(y.type,_x(y),y.target,o(y,t.lockRef.current))},[]);b.useEffect(function(){return Pu.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Tu),document.addEventListener("touchmove",c,Tu),document.addEventListener("touchstart",u,Tu),function(){Pu=Pu.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Tu),document.removeEventListener("touchmove",c,Tu),document.removeEventListener("touchstart",u,Tu)}},[]);var p=t.removeScrollBar,x=t.inert;return b.createElement(b.Fragment,null,x?b.createElement(i,{styles:uZ(a)}):null,p?b.createElement(sZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fZ(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const pZ=zX(E3,mZ);var Dp=b.forwardRef(function(t,s){return b.createElement(Ev,ri({},t,{ref:s,sideCar:pZ}))});Dp.classNames=Ev.classNames;var gZ=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Au=new WeakMap,Sx=new WeakMap,Cx={},Uj=0,M3=function(t){return t&&(t.host||M3(t.parentNode))},xZ=function(t,s){return s.map(function(n){if(t.contains(n))return n;var r=M3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vZ=function(t,s,n,r){var a=xZ(s,Array.isArray(t)?t:[t]);Cx[n]||(Cx[n]=new WeakMap);var i=Cx[n],l=[],o=new Set,c=new Set(a),d=function(m){!m||o.has(m)||(o.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(o.has(h))u(h);else try{var p=h.getAttribute(r),x=p!==null&&p!=="false",y=(Au.get(h)||0)+1,v=(i.get(h)||0)+1;Au.set(h,y),i.set(h,v),l.push(h),y===1&&x&&Sx.set(h,!0),v===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",h,j)}})};return u(s),o.clear(),Uj++,function(){l.forEach(function(m){var h=Au.get(m)-1,p=i.get(m)-1;Au.set(m,h),i.set(m,p),h||(Sx.has(m)||m.removeAttribute(r),Sx.delete(m)),p||m.removeAttribute(n)}),Uj--,Uj||(Au=new WeakMap,Au=new WeakMap,Sx=new WeakMap,Cx={})}},Tv=function(t,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=gZ(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),vZ(r,a,n,"aria-hidden")):function(){return null}};function yZ(t){const s=bZ(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(wZ);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function bZ(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=_Z(a),o=NZ(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jZ=Symbol("radix.slottable");function wZ(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jZ}function NZ(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function _Z(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pv="Dialog",[D3,R3]=Er(Pv),[SZ,$i]=D3(Pv),F3=t=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=b.useRef(null),c=b.useRef(null),[d,u]=ui({prop:r,defaultProp:a??!1,onChange:i,caller:Pv});return e.jsx(SZ,{scope:s,triggerRef:o,contentRef:c,contentId:Xn(),titleId:Xn(),descriptionId:Xn(),open:d,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(m=>!m),[u]),modal:l,children:n})};F3.displayName=Pv;var I3="DialogTrigger",L3=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=$i(I3,n),i=ys(s,a.triggerRef);return e.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":b2(a.open),...r,ref:i,onClick:jt(t.onClick,a.onOpenToggle)})});L3.displayName=I3;var v2="DialogPortal",[CZ,B3]=D3(v2,{forceMount:void 0}),q3=t=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=t,i=$i(v2,s);return e.jsx(CZ,{scope:s,forceMount:n,children:b.Children.map(r,l=>e.jsx(Tr,{present:n||i.open,children:e.jsx(Kh,{asChild:!0,container:a,children:l})}))})};q3.displayName=v2;var I0="DialogOverlay",$3=b.forwardRef((t,s)=>{const n=B3(I0,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=$i(I0,t.__scopeDialog);return i.modal?e.jsx(Tr,{present:r||i.open,children:e.jsx(EZ,{...a,ref:s})}):null});$3.displayName=I0;var kZ=yZ("DialogOverlay.RemoveScroll"),EZ=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=$i(I0,n);return e.jsx(Dp,{as:kZ,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(zt.div,{"data-state":b2(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),Ed="DialogContent",U3=b.forwardRef((t,s)=>{const n=B3(Ed,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=$i(Ed,t.__scopeDialog);return e.jsx(Tr,{present:r||i.open,children:i.modal?e.jsx(TZ,{...a,ref:s}):e.jsx(PZ,{...a,ref:s})})});U3.displayName=Ed;var TZ=b.forwardRef((t,s)=>{const n=$i(Ed,t.__scopeDialog),r=b.useRef(null),a=ys(s,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return Tv(i)},[]),e.jsx(z3,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:jt(t.onFocusOutside,i=>i.preventDefault())})}),PZ=b.forwardRef((t,s)=>{const n=$i(Ed,t.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return e.jsx(z3,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),z3=b.forwardRef((t,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=$i(Ed,n),c=b.useRef(null),d=ys(s,c);return Cv(),e.jsxs(e.Fragment,{children:[e.jsx(Mp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Hh,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":b2(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(OZ,{titleId:o.titleId}),e.jsx(DZ,{contentRef:c,descriptionId:o.descriptionId})]})]})}),y2="DialogTitle",V3=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=$i(y2,n);return e.jsx(zt.h2,{id:a.titleId,...r,ref:s})});V3.displayName=y2;var W3="DialogDescription",H3=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=$i(W3,n);return e.jsx(zt.p,{id:a.descriptionId,...r,ref:s})});H3.displayName=W3;var K3="DialogClose",G3=b.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=$i(K3,n);return e.jsx(zt.button,{type:"button",...r,ref:s,onClick:jt(t.onClick,()=>a.onOpenChange(!1))})});G3.displayName=K3;function b2(t){return t?"open":"closed"}var Y3="DialogTitleWarning",[AZ,Q3]=XJ(Y3,{contentName:Ed,titleName:y2,docsSlug:"dialog"}),OZ=({titleId:t})=>{const s=Q3(Y3),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},MZ="DialogDescriptionWarning",DZ=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q3(MZ).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},Av=F3,RZ=L3,Ov=q3,Gh=$3,Yh=U3,Rp=V3,Fp=H3,Mv=G3;const FZ=Av,IZ=Ov,J3=b.forwardRef(({className:t,...s},n)=>e.jsx(Gh,{className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));J3.displayName=Gh.displayName;const LZ=zh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),X3=b.forwardRef(({side:t="right",className:s,children:n,...r},a)=>e.jsxs(IZ,{children:[e.jsx(J3,{}),e.jsxs(Yh,{ref:a,className:et(LZ({side:t}),s),...r,children:[e.jsxs(Mv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ks,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));X3.displayName=Yh.displayName;const BZ=b.forwardRef(({className:t,...s},n)=>e.jsx(Rp,{ref:n,className:et("text-lg font-semibold text-foreground",t),...s}));BZ.displayName=Rp.displayName;const qZ=b.forwardRef(({className:t,...s},n)=>e.jsx(Fp,{ref:n,className:et("text-sm text-muted-foreground",t),...s}));qZ.displayName=Fp.displayName;function C4({className:t,...s}){return e.jsx("div",{className:et("animate-pulse rounded-md bg-primary/10",t),...s})}const $Z=["top","right","bottom","left"],hc=Math.min,Ta=Math.max,L0=Math.round,kx=Math.floor,ml=t=>({x:t,y:t}),UZ={left:"right",right:"left",bottom:"top",top:"bottom"},zZ={start:"end",end:"start"};function l1(t,s,n){return Ta(t,hc(s,n))}function ao(t,s){return typeof t=="function"?t(s):t}function io(t){return t.split("-")[0]}function Qh(t){return t.split("-")[1]}function j2(t){return t==="x"?"y":"x"}function w2(t){return t==="y"?"height":"width"}const VZ=new Set(["top","bottom"]);function al(t){return VZ.has(io(t))?"y":"x"}function N2(t){return j2(al(t))}function WZ(t,s,n){n===void 0&&(n=!1);const r=Qh(t),a=N2(t),i=w2(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=B0(l)),[l,B0(l)]}function HZ(t){const s=B0(t);return[o1(t),s,o1(s)]}function o1(t){return t.replace(/start|end/g,s=>zZ[s])}const k4=["left","right"],E4=["right","left"],KZ=["top","bottom"],GZ=["bottom","top"];function YZ(t,s,n){switch(t){case"top":case"bottom":return n?s?E4:k4:s?k4:E4;case"left":case"right":return s?KZ:GZ;default:return[]}}function QZ(t,s,n,r){const a=Qh(t);let i=YZ(io(t),n==="start",r);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(o1)))),i}function B0(t){return t.replace(/left|right|bottom|top/g,s=>UZ[s])}function JZ(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z3(t){return typeof t!="number"?JZ(t):{top:t,right:t,bottom:t,left:t}}function q0(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function T4(t,s,n){let{reference:r,floating:a}=t;const i=al(s),l=N2(s),o=w2(l),c=io(s),d=i==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;let p;switch(c){case"top":p={x:u,y:r.y-a.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-a.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Qh(s)){case"start":p[l]-=h*(n&&d?-1:1);break;case"end":p[l]+=h*(n&&d?-1:1);break}return p}const XZ=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:l}=n,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let d=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:m}=T4(d,r,c),h=r,p={},x=0;for(let y=0;y<o.length;y++){const{name:v,fn:j}=o[y],{x:w,y:N,data:_,reset:P}=await j({x:u,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:d,platform:l,elements:{reference:t,floating:s}});u=w??u,m=N??m,p={...p,[v]:{...p[v],..._}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(d=P.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):P.rects),{x:u,y:m}=T4(d,h,c)),y=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:p}};async function zf(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=ao(s,t),x=Z3(p),v=o[h?m==="floating"?"reference":"floating":m],j=q0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),w=m==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},P=q0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:N,strategy:c}):w);return{top:(j.top-P.top+x.top)/_.y,bottom:(P.bottom-j.bottom+x.bottom)/_.y,left:(j.left-P.left+x.left)/_.x,right:(P.right-j.right+x.right)/_.x}}const ZZ=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=s,{element:d,padding:u=0}=ao(t,s)||{};if(d==null)return{};const m=Z3(u),h={x:n,y:r},p=N2(a),x=w2(p),y=await l.getDimensions(d),v=p==="y",j=v?"top":"left",w=v?"bottom":"right",N=v?"clientHeight":"clientWidth",_=i.reference[x]+i.reference[p]-h[p]-i.floating[x],P=h[p]-i.reference[p],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let E=A?A[N]:0;(!E||!await(l.isElement==null?void 0:l.isElement(A)))&&(E=o.floating[N]||i.floating[x]);const C=_/2-P/2,R=E/2-y[x]/2-1,O=hc(m[j],R),k=hc(m[w],R),T=O,D=E-y[x]-k,F=E/2-y[x]/2+C,U=l1(T,F,D),z=!c.arrow&&Qh(a)!=null&&F!==U&&i.reference[x]/2-(F<T?O:k)-y[x]/2<0,H=z?F<T?F-T:F-D:0;return{[p]:h[p]+H,data:{[p]:U,centerOffset:F-U-H,...z&&{alignmentOffset:H}},reset:z}}}),eee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...v}=ao(t,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const j=io(a),w=al(o),N=io(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=h||(N||!y?[B0(o)]:HZ(o)),A=x!=="none";!h&&A&&P.push(...QZ(o,y,x,_));const E=[o,...P],C=await zf(s,v),R=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&R.push(C[j]),m){const F=WZ(a,l,_);R.push(C[F[0]],C[F[1]])}if(O=[...O,{placement:a,overflows:R}],!R.every(F=>F<=0)){var k,T;const F=(((k=i.flip)==null?void 0:k.index)||0)+1,U=E[F];if(U&&(!(m==="alignment"?w!==al(U):!1)||O.every(B=>al(B.placement)===w?B.overflows[0]>0:!0)))return{data:{index:F,overflows:O},reset:{placement:U}};let z=(T=O.filter(H=>H.overflows[0]<=0).sort((H,B)=>H.overflows[1]-B.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(p){case"bestFit":{var D;const H=(D=O.filter(B=>{if(A){const $=al(B.placement);return $===w||$==="y"}return!0}).map(B=>[B.placement,B.overflows.filter($=>$>0).reduce(($,I)=>$+I,0)]).sort((B,$)=>B[1]-$[1])[0])==null?void 0:D[0];H&&(z=H);break}case"initialPlacement":z=o;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function P4(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function A4(t){return $Z.some(s=>t[s]>=0)}const tee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=ao(t,s);switch(r){case"referenceHidden":{const i=await zf(s,{...a,elementContext:"reference"}),l=P4(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:A4(l)}}}case"escaped":{const i=await zf(s,{...a,altBoundary:!0}),l=P4(i,n.floating);return{data:{escapedOffsets:l,escaped:A4(l)}}}default:return{}}}}},eF=new Set(["left","top"]);async function see(t,s){const{placement:n,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=io(n),o=Qh(n),c=al(n)==="y",d=eF.has(l)?-1:1,u=i&&c?-1:1,m=ao(s,t);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof x=="number"&&(p=o==="end"?x*-1:x),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const nee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:i,placement:l,middlewareData:o}=s,c=await see(s,t);return l===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},ree=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:v=>{let{x:j,y:w}=v;return{x:j,y:w}}},...c}=ao(t,s),d={x:n,y:r},u=await zf(s,c),m=al(io(a)),h=j2(m);let p=d[h],x=d[m];if(i){const v=h==="y"?"top":"left",j=h==="y"?"bottom":"right",w=p+u[v],N=p-u[j];p=l1(w,p,N)}if(l){const v=m==="y"?"top":"left",j=m==="y"?"bottom":"right",w=x+u[v],N=x-u[j];x=l1(w,x,N)}const y=o.fn({...s,[h]:p,[m]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:i,[m]:l}}}}}},aee=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=ao(t,s),u={x:n,y:r},m=al(a),h=j2(m);let p=u[h],x=u[m];const y=ao(o,s),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=h==="y"?"height":"width",_=i.reference[h]-i.floating[N]+v.mainAxis,P=i.reference[h]+i.reference[N]-v.mainAxis;p<_?p=_:p>P&&(p=P)}if(d){var j,w;const N=h==="y"?"width":"height",_=eF.has(io(a)),P=i.reference[m]-i.floating[N]+(_&&((j=l.offset)==null?void 0:j[m])||0)+(_?0:v.crossAxis),A=i.reference[m]+i.reference[N]+(_?0:((w=l.offset)==null?void 0:w[m])||0)-(_?v.crossAxis:0);x<P?x=P:x>A&&(x=A)}return{[h]:p,[m]:x}}}},iee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...d}=ao(t,s),u=await zf(s,d),m=io(a),h=Qh(a),p=al(a)==="y",{width:x,height:y}=i.floating;let v,j;m==="top"||m==="bottom"?(v=m,j=h===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(j=m,v=h==="end"?"top":"bottom");const w=y-u.top-u.bottom,N=x-u.left-u.right,_=hc(y-u[v],w),P=hc(x-u[j],N),A=!s.middlewareData.shift;let E=_,C=P;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(C=N),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(E=w),A&&!h){const O=Ta(u.left,0),k=Ta(u.right,0),T=Ta(u.top,0),D=Ta(u.bottom,0);p?C=x-2*(O!==0||k!==0?O+k:Ta(u.left,u.right)):E=y-2*(T!==0||D!==0?T+D:Ta(u.top,u.bottom))}await c({...s,availableWidth:C,availableHeight:E});const R=await l.getDimensions(o.floating);return x!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Dv(){return typeof window<"u"}function Jh(t){return tF(t)?(t.nodeName||"").toLowerCase():"#document"}function Ia(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function _l(t){var s;return(s=(tF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function tF(t){return Dv()?t instanceof Node||t instanceof Ia(t).Node:!1}function Ri(t){return Dv()?t instanceof Element||t instanceof Ia(t).Element:!1}function xl(t){return Dv()?t instanceof HTMLElement||t instanceof Ia(t).HTMLElement:!1}function O4(t){return!Dv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ia(t).ShadowRoot}const lee=new Set(["inline","contents"]);function Ip(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=Fi(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!lee.has(a)}const oee=new Set(["table","td","th"]);function cee(t){return oee.has(Jh(t))}const dee=[":popover-open",":modal"];function Rv(t){return dee.some(s=>{try{return t.matches(s)}catch{return!1}})}const uee=["transform","translate","scale","rotate","perspective"],hee=["transform","translate","scale","rotate","perspective","filter"],mee=["paint","layout","strict","content"];function _2(t){const s=S2(),n=Ri(t)?Fi(t):t;return uee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||hee.some(r=>(n.willChange||"").includes(r))||mee.some(r=>(n.contain||"").includes(r))}function fee(t){let s=mc(t);for(;xl(s)&&!Nh(s);){if(_2(s))return s;if(Rv(s))return null;s=mc(s)}return null}function S2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pee=new Set(["html","body","#document"]);function Nh(t){return pee.has(Jh(t))}function Fi(t){return Ia(t).getComputedStyle(t)}function Fv(t){return Ri(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mc(t){if(Jh(t)==="html")return t;const s=t.assignedSlot||t.parentNode||O4(t)&&t.host||_l(t);return O4(s)?s.host:s}function sF(t){const s=mc(t);return Nh(s)?t.ownerDocument?t.ownerDocument.body:t.body:xl(s)&&Ip(s)?s:sF(s)}function Vf(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=sF(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Ia(a);if(i){const o=c1(l);return s.concat(l,l.visualViewport||[],Ip(a)?a:[],o&&n?Vf(o):[])}return s.concat(a,Vf(a,[],n))}function c1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nF(t){const s=Fi(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=xl(t),i=a?t.offsetWidth:n,l=a?t.offsetHeight:r,o=L0(n)!==i||L0(r)!==l;return o&&(n=i,r=l),{width:n,height:r,$:o}}function C2(t){return Ri(t)?t:t.contextElement}function eh(t){const s=C2(t);if(!xl(s))return ml(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=nF(s);let l=(i?L0(n.width):n.width)/r,o=(i?L0(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const gee=ml(0);function rF(t){const s=Ia(t);return!S2()||!s.visualViewport?gee:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function xee(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==Ia(t)?!1:s}function Td(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=C2(t);let l=ml(1);s&&(r?Ri(r)&&(l=eh(r)):l=eh(t));const o=xee(i,n,r)?rF(i):ml(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,m=a.height/l.y;if(i){const h=Ia(i),p=r&&Ri(r)?Ia(r):r;let x=h,y=c1(x);for(;y&&r&&p!==x;){const v=eh(y),j=y.getBoundingClientRect(),w=Fi(y),N=j.left+(y.clientLeft+parseFloat(w.paddingLeft))*v.x,_=j.top+(y.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,m*=v.y,c+=N,d+=_,x=Ia(y),y=c1(x)}}return q0({width:u,height:m,x:c,y:d})}function Iv(t,s){const n=Fv(t).scrollLeft;return s?s.left+n:Td(_l(t)).left+n}function aF(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-Iv(t,n),a=n.top+s.scrollTop;return{x:r,y:a}}function vee(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const i=a==="fixed",l=_l(r),o=s?Rv(s.floating):!1;if(r===l||o&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ml(1);const u=ml(0),m=xl(r);if((m||!m&&!i)&&((Jh(r)!=="body"||Ip(l))&&(c=Fv(r)),xl(r))){const p=Td(r);d=eh(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=l&&!m&&!i?aF(l,c):ml(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:n.y*d.y-c.scrollTop*d.y+u.y+h.y}}function yee(t){return Array.from(t.getClientRects())}function bee(t){const s=_l(t),n=Fv(t),r=t.ownerDocument.body,a=Ta(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=Ta(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Iv(t);const o=-n.scrollTop;return Fi(r).direction==="rtl"&&(l+=Ta(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:l,y:o}}const M4=25;function jee(t,s){const n=Ia(t),r=_l(t),a=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const u=S2();(!u||u&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const d=Iv(r);if(d<=0){const u=r.ownerDocument,m=u.body,h=getComputedStyle(m),p=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-p);x<=M4&&(i-=x)}else d<=M4&&(i+=d);return{width:i,height:l,x:o,y:c}}const wee=new Set(["absolute","fixed"]);function Nee(t,s){const n=Td(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,i=xl(t)?eh(t):ml(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:l,height:o,x:c,y:d}}function D4(t,s,n){let r;if(s==="viewport")r=jee(t,n);else if(s==="document")r=bee(_l(t));else if(Ri(s))r=Nee(s,n);else{const a=rF(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return q0(r)}function iF(t,s){const n=mc(t);return n===s||!Ri(n)||Nh(n)?!1:Fi(n).position==="fixed"||iF(n,s)}function _ee(t,s){const n=s.get(t);if(n)return n;let r=Vf(t,[],!1).filter(o=>Ri(o)&&Jh(o)!=="body"),a=null;const i=Fi(t).position==="fixed";let l=i?mc(t):t;for(;Ri(l)&&!Nh(l);){const o=Fi(l),c=_2(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&wee.has(a.position)||Ip(l)&&!c&&iF(t,l))?r=r.filter(u=>u!==l):a=o,l=mc(l)}return s.set(t,r),r}function See(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const l=[...n==="clippingAncestors"?Rv(s)?[]:_ee(s,this._c):[].concat(n),r],o=l[0],c=l.reduce((d,u)=>{const m=D4(s,u,a);return d.top=Ta(m.top,d.top),d.right=hc(m.right,d.right),d.bottom=hc(m.bottom,d.bottom),d.left=Ta(m.left,d.left),d},D4(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Cee(t){const{width:s,height:n}=nF(t);return{width:s,height:n}}function kee(t,s,n){const r=xl(s),a=_l(s),i=n==="fixed",l=Td(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=ml(0);function d(){c.x=Iv(a)}if(r||!r&&!i)if((Jh(s)!=="body"||Ip(a))&&(o=Fv(s)),r){const p=Td(s,!0,i,s);c.x=p.x+s.clientLeft,c.y=p.y+s.clientTop}else a&&d();i&&!r&&a&&d();const u=a&&!r&&!i?aF(a,o):ml(0),m=l.left+o.scrollLeft-c.x-u.x,h=l.top+o.scrollTop-c.y-u.y;return{x:m,y:h,width:l.width,height:l.height}}function zj(t){return Fi(t).position==="static"}function R4(t,s){if(!xl(t)||Fi(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return _l(t)===n&&(n=n.ownerDocument.body),n}function lF(t,s){const n=Ia(t);if(Rv(t))return n;if(!xl(t)){let a=mc(t);for(;a&&!Nh(a);){if(Ri(a)&&!zj(a))return a;a=mc(a)}return n}let r=R4(t,s);for(;r&&cee(r)&&zj(r);)r=R4(r,s);return r&&Nh(r)&&zj(r)&&!_2(r)?n:r||fee(t)||n}const Eee=async function(t){const s=this.getOffsetParent||lF,n=this.getDimensions,r=await n(t.floating);return{reference:kee(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tee(t){return Fi(t).direction==="rtl"}const Pee={convertOffsetParentRelativeRectToViewportRelativeRect:vee,getDocumentElement:_l,getClippingRect:See,getOffsetParent:lF,getElementRects:Eee,getClientRects:yee,getDimensions:Cee,getScale:eh,isElement:Ri,isRTL:Tee};function oF(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function Aee(t,s){let n=null,r;const a=_l(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(o||s(),!h||!p)return;const x=kx(m),y=kx(a.clientWidth-(u+h)),v=kx(a.clientHeight-(m+p)),j=kx(u),N={rootMargin:-x+"px "+-y+"px "+-v+"px "+-j+"px",threshold:Ta(0,hc(1,c))||1};let _=!0;function P(A){const E=A[0].intersectionRatio;if(E!==c){if(!_)return l();E?l(!1,E):r=setTimeout(()=>{l(!1,1e-7)},1e3)}E===1&&!oF(d,t.getBoundingClientRect())&&l(),_=!1}try{n=new IntersectionObserver(P,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(P,N)}n.observe(t)}return l(!0),i}function Oee(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=C2(t),u=a||i?[...d?Vf(d):[],...Vf(s)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),i&&j.addEventListener("resize",n)});const m=d&&o?Aee(d,n):null;let h=-1,p=null;l&&(p=new ResizeObserver(j=>{let[w]=j;w&&w.target===d&&p&&(p.unobserve(s),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(s)})),n()}),d&&!c&&p.observe(d),p.observe(s));let x,y=c?Td(t):null;c&&v();function v(){const j=Td(t);y&&!oF(y,j)&&n(),y=j,x=requestAnimationFrame(v)}return n(),()=>{var j;u.forEach(w=>{a&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),m==null||m(),(j=p)==null||j.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const Mee=nee,Dee=ree,Ree=eee,Fee=iee,Iee=tee,F4=ZZ,Lee=aee,Bee=(t,s,n)=>{const r=new Map,a={platform:Pee,...n},i={...a.platform,_c:r};return XZ(t,s,{...a,platform:i})};var qee=typeof document<"u",$ee=function(){},o0=qee?b.useLayoutEffect:$ee;function $0(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!$0(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!$0(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function cF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I4(t,s){const n=cF(t);return Math.round(s*n)/n}function Vj(t){const s=b.useRef(t);return o0(()=>{s.current=t}),s}function Uee(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[u,m]=b.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);$0(h,r)||p(r);const[x,y]=b.useState(null),[v,j]=b.useState(null),w=b.useCallback(B=>{B!==A.current&&(A.current=B,y(B))},[]),N=b.useCallback(B=>{B!==E.current&&(E.current=B,j(B))},[]),_=i||x,P=l||v,A=b.useRef(null),E=b.useRef(null),C=b.useRef(u),R=c!=null,O=Vj(c),k=Vj(a),T=Vj(d),D=b.useCallback(()=>{if(!A.current||!E.current)return;const B={placement:s,strategy:n,middleware:h};k.current&&(B.platform=k.current),Bee(A.current,E.current,B).then($=>{const I={...$,isPositioned:T.current!==!1};F.current&&!$0(C.current,I)&&(C.current=I,qd.flushSync(()=>{m(I)}))})},[h,s,n,k,T]);o0(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(B=>({...B,isPositioned:!1})))},[d]);const F=b.useRef(!1);o0(()=>(F.current=!0,()=>{F.current=!1}),[]),o0(()=>{if(_&&(A.current=_),P&&(E.current=P),_&&P){if(O.current)return O.current(_,P,D);D()}},[_,P,D,O,R]);const U=b.useMemo(()=>({reference:A,floating:E,setReference:w,setFloating:N}),[w,N]),z=b.useMemo(()=>({reference:_,floating:P}),[_,P]),H=b.useMemo(()=>{const B={position:n,left:0,top:0};if(!z.floating)return B;const $=I4(z.floating,u.x),I=I4(z.floating,u.y);return o?{...B,transform:"translate("+$+"px, "+I+"px)",...cF(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:I}},[n,o,z.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:D,refs:U,elements:z,floatingStyles:H}),[u,D,U,z,H])}const zee=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?F4({element:r.current,padding:a}).fn(n):{}:r?F4({element:r,padding:a}).fn(n):{}}}},Vee=(t,s)=>({...Mee(t),options:[t,s]}),Wee=(t,s)=>({...Dee(t),options:[t,s]}),Hee=(t,s)=>({...Lee(t),options:[t,s]}),Kee=(t,s)=>({...Ree(t),options:[t,s]}),Gee=(t,s)=>({...Fee(t),options:[t,s]}),Yee=(t,s)=>({...Iee(t),options:[t,s]}),Qee=(t,s)=>({...zee(t),options:[t,s]});var Jee="Arrow",dF=b.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...i}=t;return e.jsx(zt.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});dF.displayName=Jee;var Xee=dF;function Lv(t){const[s,n]=b.useState(void 0);return gr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=t.offsetWidth,o=t.offsetHeight;n({width:l,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var k2="Popper",[uF,jc]=Er(k2),[Zee,hF]=uF(k2),mF=t=>{const{__scopePopper:s,children:n}=t,[r,a]=b.useState(null);return e.jsx(Zee,{scope:s,anchor:r,onAnchorChange:a,children:n})};mF.displayName=k2;var fF="PopperAnchor",pF=b.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=hF(fF,n),l=b.useRef(null),o=ys(s,l),c=b.useRef(null);return b.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||l.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:e.jsx(zt.div,{...a,ref:o})});pF.displayName=fF;var E2="PopperContent",[ete,tte]=uF(E2),gF=b.forwardRef((t,s)=>{var K,ae,se,de,ue,oe;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...y}=t,v=hF(E2,n),[j,w]=b.useState(null),N=ys(s,pe=>w(pe)),[_,P]=b.useState(null),A=Lv(_),E=(A==null?void 0:A.width)??0,C=(A==null?void 0:A.height)??0,R=r+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],T=k.length>0,D={padding:O,boundary:k.filter(nte),altBoundary:T},{refs:F,floatingStyles:U,placement:z,isPositioned:H,middlewareData:B}=Uee({strategy:"fixed",placement:R,whileElementsMounted:(...pe)=>Oee(...pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Vee({mainAxis:a+C,alignmentAxis:l}),c&&Wee({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Hee():void 0,...D}),c&&Kee({...D}),Gee({...D,apply:({elements:pe,rects:je,availableWidth:Ne,availableHeight:qe})=>{const{width:$e,height:Ee}=je.reference,Se=pe.floating.style;Se.setProperty("--radix-popper-available-width",`${Ne}px`),Se.setProperty("--radix-popper-available-height",`${qe}px`),Se.setProperty("--radix-popper-anchor-width",`${$e}px`),Se.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),_&&Qee({element:_,padding:o}),rte({arrowWidth:E,arrowHeight:C}),h&&Yee({strategy:"referenceHidden",...D})]}),[$,I]=yF(z),L=gl(x);gr(()=>{H&&(L==null||L())},[H,L]);const V=(K=B.arrow)==null?void 0:K.x,q=(ae=B.arrow)==null?void 0:ae.y,J=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[Q,Y]=b.useState();return gr(()=>{j&&Y(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(de=B.transformOrigin)==null?void 0:de.x,(ue=B.transformOrigin)==null?void 0:ue.y].join(" "),...((oe=B.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(ete,{scope:n,placedSide:$,onArrowChange:P,arrowX:V,arrowY:q,shouldHideArrow:J,children:e.jsx(zt.div,{"data-side":$,"data-align":I,...y,ref:N,style:{...y.style,animation:H?void 0:"none"}})})})});gF.displayName=E2;var xF="PopperArrow",ste={top:"bottom",right:"left",bottom:"top",left:"right"},vF=b.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=tte(xF,r),l=ste[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(Xee,{...a,ref:n,style:{...a.style,display:"block"}})})});vF.displayName=xF;function nte(t){return t!==null}var rte=t=>({name:"transformOrigin",options:t,fn(s){var v,j,w;const{placement:n,rects:r,middlewareData:a}=s,l=((v=a.arrow)==null?void 0:v.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,u]=yF(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((j=a.arrow)==null?void 0:j.x)??0)+o/2,p=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let x="",y="";return d==="bottom"?(x=l?m:`${h}px`,y=`${-c}px`):d==="top"?(x=l?m:`${h}px`,y=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,y=l?m:`${p}px`):d==="left"&&(x=`${r.floating.width+c}px`,y=l?m:`${p}px`),{data:{x,y}}}});function yF(t){const[s,n="center"]=t.split("-");return[s,n]}var Bv=mF,Lp=pF,qv=gF,$v=vF,ate=Symbol("radix.slottable");function ite(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=ate,s}var bF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lte="VisuallyHidden",jF=b.forwardRef((t,s)=>e.jsx(zt.span,{...t,ref:s,style:{...bF,...t.style}}));jF.displayName=lte;var ote=jF,[Uv]=Er("Tooltip",[jc]),zv=jc(),wF="TooltipProvider",cte=700,d1="tooltip.open",[dte,T2]=Uv(wF),NF=t=>{const{__scopeTooltip:s,delayDuration:n=cte,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=t,l=b.useRef(!0),o=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),e.jsx(dte,{scope:s,isOpenDelayedRef:l,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(d=>{o.current=d},[]),disableHoverableContent:a,children:i})};NF.displayName=wF;var Wf="Tooltip",[ute,Bp]=Uv(Wf),_F=t=>{const{__scopeTooltip:s,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:l,delayDuration:o}=t,c=T2(Wf,t.__scopeTooltip),d=zv(s),[u,m]=b.useState(null),h=Xn(),p=b.useRef(0),x=l??c.disableHoverableContent,y=o??c.delayDuration,v=b.useRef(!1),[j,w]=ui({prop:r,defaultProp:a??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(d1))):c.onClose(),i==null||i(E)},caller:Wf}),N=b.useMemo(()=>j?v.current?"delayed-open":"instant-open":"closed",[j]),_=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,w(!0)},[w]),P=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),A=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,w(!0),p.current=0},y)},[y,w]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(Bv,{...d,children:e.jsx(ute,{scope:s,contentId:h,open:j,stateAttribute:N,trigger:u,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?A():_()},[c.isOpenDelayedRef,A,_]),onTriggerLeave:b.useCallback(()=>{x?P():(window.clearTimeout(p.current),p.current=0)},[P,x]),onOpen:_,onClose:P,disableHoverableContent:x,children:n})})};_F.displayName=Wf;var u1="TooltipTrigger",SF=b.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=Bp(u1,n),i=T2(u1,n),l=zv(n),o=b.useRef(null),c=ys(s,o,a.onTriggerChange),d=b.useRef(!1),u=b.useRef(!1),m=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Lp,{asChild:!0,...l,children:e.jsx(zt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:jt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:jt(t.onFocus,()=>{d.current||a.onOpen()}),onBlur:jt(t.onBlur,a.onClose),onClick:jt(t.onClick,a.onClose)})})});SF.displayName=u1;var P2="TooltipPortal",[hte,mte]=Uv(P2,{forceMount:void 0}),CF=t=>{const{__scopeTooltip:s,forceMount:n,children:r,container:a}=t,i=Bp(P2,s);return e.jsx(hte,{scope:s,forceMount:n,children:e.jsx(Tr,{present:n||i.open,children:e.jsx(Kh,{asChild:!0,container:a,children:r})})})};CF.displayName=P2;var _h="TooltipContent",kF=b.forwardRef((t,s)=>{const n=mte(_h,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=t,l=Bp(_h,t.__scopeTooltip);return e.jsx(Tr,{present:r||l.open,children:l.disableHoverableContent?e.jsx(EF,{side:a,...i,ref:s}):e.jsx(fte,{side:a,...i,ref:s})})}),fte=b.forwardRef((t,s)=>{const n=Bp(_h,t.__scopeTooltip),r=T2(_h,t.__scopeTooltip),a=b.useRef(null),i=ys(s,a),[l,o]=b.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:m}=r,h=b.useCallback(()=>{o(null),m(!1)},[m]),p=b.useCallback((x,y)=>{const v=x.currentTarget,j={x:x.clientX,y:x.clientY},w=yte(j,v.getBoundingClientRect()),N=bte(j,w),_=jte(y.getBoundingClientRect()),P=Nte([...N,..._]);o(P),m(!0)},[m]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&u){const x=v=>p(v,u),y=v=>p(v,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",y)}}},[c,u,p,h]),b.useEffect(()=>{if(l){const x=y=>{const v=y.target,j={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(v))||(u==null?void 0:u.contains(v)),N=!wte(j,l);w?h():N&&(h(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,l,d,h]),e.jsx(EF,{...t,ref:i})}),[pte,gte]=Uv(Wf,{isInside:!1}),xte=ite("TooltipContent"),EF=b.forwardRef((t,s)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=t,c=Bp(_h,n),d=zv(n),{onClose:u}=c;return b.useEffect(()=>(document.addEventListener(d1,u),()=>document.removeEventListener(d1,u)),[u]),b.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),e.jsx(Hh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:e.jsxs(qv,{"data-state":c.stateAttribute,...d,...o,ref:s,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(xte,{children:r}),e.jsx(pte,{scope:n,isInside:!0,children:e.jsx(ote,{id:c.contentId,role:"tooltip",children:a||r})})]})})});kF.displayName=_h;var TF="TooltipArrow",vte=b.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=zv(n);return gte(TF,n).isInside?null:e.jsx($v,{...a,...r,ref:s})});vte.displayName=TF;function yte(t,s){const n=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bte(t,s,n=5){const r=[];switch(s){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jte(t){const{top:s,right:n,bottom:r,left:a}=t;return[{x:a,y:s},{x:n,y:s},{x:n,y:r},{x:a,y:r}]}function wte(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i],c=s[l],d=o.x,u=o.y,m=c.x,h=c.y;u>r!=h>r&&n<(m-d)*(r-u)/(h-u)+d&&(a=!a)}return a}function Nte(t){const s=t.slice();return s.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),_te(s)}function _te(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const a=t[r];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))s.pop();else break}s.push(a)}s.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))n.pop();else break}n.push(a)}return n.pop(),s.length===1&&n.length===1&&s[0].x===n[0].x&&s[0].y===n[0].y?s:s.concat(n)}var Ste=NF,Cte=_F,kte=SF,Ete=CF,PF=kF;const A2=Ste,Hf=Cte,Kf=kte,Sh=b.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(Ete,{children:e.jsx(PF,{ref:r,sideOffset:s,className:et("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Sh.displayName=PF.displayName;const Tte="sidebar_state",Pte=3600*24*7,Ate="16rem",Ote="18rem",Mte="3rem",Dte="b",AF=b.createContext(null);function Vv(){const t=b.useContext(AF);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const OF=b.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:n,className:r,style:a,children:i,...l},o)=>{const c=rJ(),[d,u]=b.useState(!1),[m,h]=b.useState(t),p=s??m,x=b.useCallback(w=>{const N=typeof w=="function"?w(p):w;n?n(N):h(N),document.cookie=`${Tte}=${N}; path=/; max-age=${Pte}`},[n,p]),y=b.useCallback(()=>c?u(w=>!w):x(w=>!w),[c,x,u]);b.useEffect(()=>{const w=N=>{N.key===Dte&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),y())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[y]);const v=p?"expanded":"collapsed",j=b.useMemo(()=>({state:v,open:p,setOpen:x,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:y}),[v,p,x,c,d,u,y]);return e.jsx(AF.Provider,{value:j,children:e.jsx(A2,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":Ate,"--sidebar-width-icon":Mte,...a},className:et("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...l,children:i})})})});OF.displayName="SidebarProvider";const MF=b.forwardRef(({side:t="left",variant:s="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},l)=>{const{isMobile:o,state:c,openMobile:d,setOpenMobile:u}=Vv();return n==="none"?e.jsx("div",{className:et("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:l,...i,children:a}):o?e.jsx(FZ,{open:d,onOpenChange:u,...i,children:e.jsx(X3,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Ote},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):e.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:et("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:et("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});MF.displayName="Sidebar";const Rte=b.forwardRef(({className:t,onClick:s,...n},r)=>{const{toggleSidebar:a}=Vv();return e.jsxs(X,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:et("h-7 w-7",t),onClick:i=>{s==null||s(i),a()},...n,children:[e.jsx(ZY,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Rte.displayName="SidebarTrigger";const Fte=b.forwardRef(({className:t,...s},n)=>{const{toggleSidebar:r}=Vv();return e.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:et("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});Fte.displayName="SidebarRail";const Ite=b.forwardRef(({className:t,...s},n)=>e.jsx("main",{ref:n,className:et("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));Ite.displayName="SidebarInset";const Lte=b.forwardRef(({className:t,...s},n)=>e.jsx(he,{ref:n,"data-sidebar":"input",className:et("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));Lte.displayName="SidebarInput";const DF=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"header",className:et("flex flex-col gap-2 p-2",t),...s}));DF.displayName="SidebarHeader";const RF=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"footer",className:et("flex flex-col gap-2 p-2",t),...s}));RF.displayName="SidebarFooter";const Bte=b.forwardRef(({className:t,...s},n)=>e.jsx(X5,{ref:n,"data-sidebar":"separator",className:et("mx-2 w-auto bg-sidebar-border",t),...s}));Bte.displayName="SidebarSeparator";const FF=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"content",className:et("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));FF.displayName="SidebarContent";const c0=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group",className:et("relative flex w-full min-w-0 flex-col p-2",t),...s}));c0.displayName="SidebarGroup";const d0=b.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?Uh:"div";return e.jsx(a,{ref:r,"data-sidebar":"group-label",className:et("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});d0.displayName="SidebarGroupLabel";const qte=b.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?Uh:"button";return e.jsx(a,{ref:r,"data-sidebar":"group-action",className:et("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});qte.displayName="SidebarGroupAction";const u0=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group-content",className:et("w-full text-sm",t),...s}));u0.displayName="SidebarGroupContent";const h1=b.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu",className:et("flex w-full min-w-0 flex-col gap-1",t),...s}));h1.displayName="SidebarMenu";const gf=b.forwardRef(({className:t,...s},n)=>e.jsx("li",{ref:n,"data-sidebar":"menu-item",className:et("group/menu-item relative",t),...s}));gf.displayName="SidebarMenuItem";const $te=zh("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),xf=b.forwardRef(({asChild:t=!1,isActive:s=!1,variant:n="default",size:r="default",tooltip:a,className:i,...l},o)=>{const c=t?Uh:"button",{isMobile:d,state:u}=Vv(),m=e.jsx(c,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:et($te({variant:n,size:r}),i),...l});return a?(typeof a=="string"&&(a={children:a}),e.jsxs(Hf,{children:[e.jsx(Kf,{asChild:!0,children:m}),e.jsx(Sh,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});xf.displayName="SidebarMenuButton";const Ute=b.forwardRef(({className:t,asChild:s=!1,showOnHover:n=!1,...r},a)=>{const i=s?Uh:"button";return e.jsx(i,{ref:a,"data-sidebar":"menu-action",className:et("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Ute.displayName="SidebarMenuAction";const zte=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:et("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));zte.displayName="SidebarMenuBadge";const Vte=b.forwardRef(({className:t,showIcon:s=!1,...n},r)=>{const a=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:et("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[s&&e.jsx(C4,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(C4,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Vte.displayName="SidebarMenuSkeleton";const m1=b.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:et("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));m1.displayName="SidebarMenuSub";const f1=b.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));f1.displayName="SidebarMenuSubItem";const Wte=b.forwardRef(({asChild:t=!1,size:s="md",isActive:n,className:r,...a},i)=>{const l=t?Uh:"a";return e.jsx(l,{ref:i,"data-sidebar":"menu-sub-button","data-size":s,"data-active":n,className:et("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});Wte.displayName="SidebarMenuSubButton";const Hte=zh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ye({className:t,variant:s,...n}){return e.jsx("div",{className:et(Hte({variant:s}),t),...n})}var Wv="Collapsible",[Kte]=Er(Wv),[Gte,O2]=Kte(Wv),IF=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[c,d]=ui({prop:r,defaultProp:a??!1,onChange:l,caller:Wv});return e.jsx(Gte,{scope:n,disabled:i,contentId:Xn(),open:c,onOpenToggle:b.useCallback(()=>d(u=>!u),[d]),children:e.jsx(zt.div,{"data-state":D2(c),"data-disabled":i?"":void 0,...o,ref:s})})});IF.displayName=Wv;var LF="CollapsibleTrigger",BF=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,...r}=t,a=O2(LF,n);return e.jsx(zt.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":D2(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:s,onClick:jt(t.onClick,a.onOpenToggle)})});BF.displayName=LF;var M2="CollapsibleContent",qF=b.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=O2(M2,t.__scopeCollapsible);return e.jsx(Tr,{present:n||a.open,children:({present:i})=>e.jsx(Yte,{...r,ref:s,present:i})})});qF.displayName=M2;var Yte=b.forwardRef((t,s)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=t,l=O2(M2,n),[o,c]=b.useState(r),d=b.useRef(null),u=ys(s,d),m=b.useRef(0),h=m.current,p=b.useRef(0),x=p.current,y=l.open||o,v=b.useRef(y),j=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),gr(()=>{const w=d.current;if(w){j.current=j.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();m.current=N.height,p.current=N.width,v.current||(w.style.transitionDuration=j.current.transitionDuration,w.style.animationName=j.current.animationName),c(r)}},[l.open,r]),e.jsx(zt.div,{"data-state":D2(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:y&&a})});function D2(t){return t?"open":"closed"}var Qte=IF;const p1=Qte,g1=BF,x1=qF;function $F(t,s){return function(){return t.apply(s,arguments)}}const{toString:Jte}=Object.prototype,{getPrototypeOf:R2}=Object,{iterator:Hv,toStringTag:UF}=Symbol,Kv=(t=>s=>{const n=Jte.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ui=t=>(t=t.toLowerCase(),s=>Kv(s)===t),Gv=t=>s=>typeof s===t,{isArray:Xh}=Array,Ch=Gv("undefined");function qp(t){return t!==null&&!Ch(t)&&t.constructor!==null&&!Ch(t.constructor)&&ua(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zF=Ui("ArrayBuffer");function Xte(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&zF(t.buffer),s}const Zte=Gv("string"),ua=Gv("function"),VF=Gv("number"),$p=t=>t!==null&&typeof t=="object",ese=t=>t===!0||t===!1,h0=t=>{if(Kv(t)!=="object")return!1;const s=R2(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(UF in t)&&!(Hv in t)},tse=t=>{if(!$p(t)||qp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},sse=Ui("Date"),nse=Ui("File"),rse=Ui("Blob"),ase=Ui("FileList"),ise=t=>$p(t)&&ua(t.pipe),lse=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ua(t.append)&&((s=Kv(t))==="formdata"||s==="object"&&ua(t.toString)&&t.toString()==="[object FormData]"))},ose=Ui("URLSearchParams"),[cse,dse,use,hse]=["ReadableStream","Request","Response","Headers"].map(Ui),mse=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Up(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Xh(t))for(r=0,a=t.length;r<a;r++)s.call(null,t[r],r,t);else{if(qp(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(r=0;r<l;r++)o=i[r],s.call(null,t[o],o,t)}}function WF(t,s){if(qp(t))return null;s=s.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],s===a.toLowerCase())return a;return null}const rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HF=t=>!Ch(t)&&t!==rd;function v1(){const{caseless:t,skipUndefined:s}=HF(this)&&this||{},n={},r=(a,i)=>{const l=t&&WF(n,i)||i;h0(n[l])&&h0(a)?n[l]=v1(n[l],a):h0(a)?n[l]=v1({},a):Xh(a)?n[l]=a.slice():(!s||!Ch(a))&&(n[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Up(arguments[a],r);return n}const fse=(t,s,n,{allOwnKeys:r}={})=>(Up(s,(a,i)=>{n&&ua(a)?t[i]=$F(a,n):t[i]=a},{allOwnKeys:r}),t),pse=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gse=(t,s,n,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},xse=(t,s,n,r)=>{let a,i,l;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)l=a[i],(!r||r(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=n!==!1&&R2(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},vse=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const r=t.indexOf(s,n);return r!==-1&&r===n},yse=t=>{if(!t)return null;if(Xh(t))return t;let s=t.length;if(!VF(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},bse=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&R2(Uint8Array)),jse=(t,s)=>{const r=(t&&t[Hv]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;s.call(t,i[0],i[1])}},wse=(t,s)=>{let n;const r=[];for(;(n=t.exec(s))!==null;)r.push(n);return r},Nse=Ui("HTMLFormElement"),_se=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),L4=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),Sse=Ui("RegExp"),KF=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Up(n,(a,i)=>{let l;(l=s(a,i,t))!==!1&&(r[i]=l||a)}),Object.defineProperties(t,r)},Cse=t=>{KF(t,(s,n)=>{if(ua(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ua(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kse=(t,s)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Xh(t)?r(t):r(String(t).split(s)),n},Ese=()=>{},Tse=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Pse(t){return!!(t&&ua(t.append)&&t[UF]==="FormData"&&t[Hv])}const Ase=t=>{const s=new Array(10),n=(r,a)=>{if($p(r)){if(s.indexOf(r)>=0)return;if(qp(r))return r;if(!("toJSON"in r)){s[a]=r;const i=Xh(r)?[]:{};return Up(r,(l,o)=>{const c=n(l,a+1);!Ch(c)&&(i[o]=c)}),s[a]=void 0,i}}return r};return n(t,0)},Ose=Ui("AsyncFunction"),Mse=t=>t&&($p(t)||ua(t))&&ua(t.then)&&ua(t.catch),GF=((t,s)=>t?setImmediate:s?((n,r)=>(rd.addEventListener("message",({source:a,data:i})=>{a===rd&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),rd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ua(rd.postMessage)),Dse=typeof queueMicrotask<"u"?queueMicrotask.bind(rd):typeof process<"u"&&process.nextTick||GF,Rse=t=>t!=null&&ua(t[Hv]),Le={isArray:Xh,isArrayBuffer:zF,isBuffer:qp,isFormData:lse,isArrayBufferView:Xte,isString:Zte,isNumber:VF,isBoolean:ese,isObject:$p,isPlainObject:h0,isEmptyObject:tse,isReadableStream:cse,isRequest:dse,isResponse:use,isHeaders:hse,isUndefined:Ch,isDate:sse,isFile:nse,isBlob:rse,isRegExp:Sse,isFunction:ua,isStream:ise,isURLSearchParams:ose,isTypedArray:bse,isFileList:ase,forEach:Up,merge:v1,extend:fse,trim:mse,stripBOM:pse,inherits:gse,toFlatObject:xse,kindOf:Kv,kindOfTest:Ui,endsWith:vse,toArray:yse,forEachEntry:jse,matchAll:wse,isHTMLForm:Nse,hasOwnProperty:L4,hasOwnProp:L4,reduceDescriptors:KF,freezeMethods:Cse,toObjectSet:kse,toCamelCase:_se,noop:Ese,toFiniteNumber:Tse,findKey:WF,global:rd,isContextDefined:HF,isSpecCompliantForm:Pse,toJSONObject:Ase,isAsyncFn:Ose,isThenable:Mse,setImmediate:GF,asap:Dse,isIterable:Rse};function ps(t,s,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Le.inherits(ps,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const YF=ps.prototype,QF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QF[t]={value:t}});Object.defineProperties(ps,QF);Object.defineProperty(YF,"isAxiosError",{value:!0});ps.from=(t,s,n,r,a,i)=>{const l=Object.create(YF);Le.toFlatObject(t,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return ps.call(l,o,c,n,r,a),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const Fse=null;function y1(t){return Le.isPlainObject(t)||Le.isArray(t)}function JF(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function B4(t,s,n){return t?t.concat(s).map(function(a,i){return a=JF(a),!n&&i?"["+a+"]":a}).join(n?".":""):s}function Ise(t){return Le.isArray(t)&&!t.some(y1)}const Lse=Le.toFlatObject(Le,{},null,function(s){return/^is[A-Z]/.test(s)});function Yv(t,s,n){if(!Le.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!Le.isUndefined(v[y])});const r=n.metaTokens,a=n.visitor||u,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(s);if(!Le.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Le.isDate(x))return x.toISOString();if(Le.isBoolean(x))return x.toString();if(!c&&Le.isBlob(x))throw new ps("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(x)||Le.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,v){let j=x;if(x&&!v&&typeof x=="object"){if(Le.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(Le.isArray(x)&&Ise(x)||(Le.isFileList(x)||Le.endsWith(y,"[]"))&&(j=Le.toArray(x)))return y=JF(y),j.forEach(function(N,_){!(Le.isUndefined(N)||N===null)&&s.append(l===!0?B4([y],_,i):l===null?y:y+"[]",d(N))}),!1}return y1(x)?!0:(s.append(B4(v,y,i),d(x)),!1)}const m=[],h=Object.assign(Lse,{defaultVisitor:u,convertValue:d,isVisitable:y1});function p(x,y){if(!Le.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(x),Le.forEach(x,function(j,w){(!(Le.isUndefined(j)||j===null)&&a.call(s,j,Le.isString(w)?w.trim():w,y,h))===!0&&p(j,y?y.concat(w):[w])}),m.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),s}function q4(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function F2(t,s){this._pairs=[],t&&Yv(t,this,s)}const XF=F2.prototype;XF.append=function(s,n){this._pairs.push([s,n])};XF.toString=function(s){const n=s?function(r){return s.call(this,r,q4)}:q4;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Bse(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZF(t,s,n){if(!s)return t;const r=n&&n.encode||Bse;Le.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(s,n):i=Le.isURLSearchParams(s)?s.toString():new F2(s,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class $4{constructor(){this.handlers=[]}use(s,n,r){return this.handlers.push({fulfilled:s,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Le.forEach(this.handlers,function(r){r!==null&&s(r)})}}const eI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qse=typeof URLSearchParams<"u"?URLSearchParams:F2,$se=typeof FormData<"u"?FormData:null,Use=typeof Blob<"u"?Blob:null,zse={isBrowser:!0,classes:{URLSearchParams:qse,FormData:$se,Blob:Use},protocols:["http","https","file","blob","url","data"]},I2=typeof window<"u"&&typeof document<"u",b1=typeof navigator=="object"&&navigator||void 0,Vse=I2&&(!b1||["ReactNative","NativeScript","NS"].indexOf(b1.product)<0),Wse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hse=I2&&window.location.href||"http://localhost",Kse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I2,hasStandardBrowserEnv:Vse,hasStandardBrowserWebWorkerEnv:Wse,navigator:b1,origin:Hse},Symbol.toStringTag,{value:"Module"})),Nr={...Kse,...zse};function Gse(t,s){return Yv(t,new Nr.classes.URLSearchParams,{visitor:function(n,r,a,i){return Nr.isNode&&Le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function Yse(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Qse(t){const s={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],s[i]=t[i];return s}function tI(t){function s(n,r,a,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&Le.isArray(a)?a.length:l,c?(Le.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!o):((!a[l]||!Le.isObject(a[l]))&&(a[l]=[]),s(n,r,a[l],i)&&Le.isArray(a[l])&&(a[l]=Qse(a[l])),!o)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const n={};return Le.forEachEntry(t,(r,a)=>{s(Yse(r),a,n,0)}),n}return null}function Jse(t,s,n){if(Le.isString(t))try{return(s||JSON.parse)(t),Le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zp={transitional:eI,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Le.isObject(s);if(i&&Le.isHTMLForm(s)&&(s=new FormData(s)),Le.isFormData(s))return a?JSON.stringify(tI(s)):s;if(Le.isArrayBuffer(s)||Le.isBuffer(s)||Le.isStream(s)||Le.isFile(s)||Le.isBlob(s)||Le.isReadableStream(s))return s;if(Le.isArrayBufferView(s))return s.buffer;if(Le.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gse(s,this.formSerializer).toString();if((o=Le.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yv(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Jse(s)):s}],transformResponse:[function(s){const n=this.transitional||zp.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Le.isResponse(s)||Le.isReadableStream(s))return s;if(s&&Le.isString(s)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ps.from(o,ps.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{zp.headers[t]={}});const Xse=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zse=t=>{const s={};let n,r,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||s[n]&&Xse[n])&&(n==="set-cookie"?s[n]?s[n].push(r):s[n]=[r]:s[n]=s[n]?s[n]+", "+r:r)}),s},U4=Symbol("internals");function Zm(t){return t&&String(t).trim().toLowerCase()}function m0(t){return t===!1||t==null?t:Le.isArray(t)?t.map(m0):String(t)}function ene(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)s[r[1]]=r[2];return s}const tne=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wj(t,s,n,r,a){if(Le.isFunction(r))return r.call(this,s,n);if(a&&(s=n),!!Le.isString(s)){if(Le.isString(r))return s.indexOf(r)!==-1;if(Le.isRegExp(r))return r.test(s)}}function sne(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,r)=>n.toUpperCase()+r)}function nne(t,s){const n=Le.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,l){return this[r].call(this,s,a,i,l)},configurable:!0})})}let ha=class{constructor(s){s&&this.set(s)}set(s,n,r){const a=this;function i(o,c,d){const u=Zm(c);if(!u)throw new Error("header name must be a non-empty string");const m=Le.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=m0(o))}const l=(o,c)=>Le.forEach(o,(d,u)=>i(d,u,c));if(Le.isPlainObject(s)||s instanceof this.constructor)l(s,n);else if(Le.isString(s)&&(s=s.trim())&&!tne(s))l(Zse(s),n);else if(Le.isObject(s)&&Le.isIterable(s)){let o={},c,d;for(const u of s){if(!Le.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?Le.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,n)}else s!=null&&i(n,s,r);return this}get(s,n){if(s=Zm(s),s){const r=Le.findKey(this,s);if(r){const a=this[r];if(!n)return a;if(n===!0)return ene(a);if(Le.isFunction(n))return n.call(this,a,r);if(Le.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Zm(s),s){const r=Le.findKey(this,s);return!!(r&&this[r]!==void 0&&(!n||Wj(this,this[r],r,n)))}return!1}delete(s,n){const r=this;let a=!1;function i(l){if(l=Zm(l),l){const o=Le.findKey(r,l);o&&(!n||Wj(r,r[o],o,n))&&(delete r[o],a=!0)}}return Le.isArray(s)?s.forEach(i):i(s),a}clear(s){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!s||Wj(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const n=this,r={};return Le.forEach(this,(a,i)=>{const l=Le.findKey(r,i);if(l){n[l]=m0(a),delete n[i];return}const o=s?sne(i):String(i).trim();o!==i&&delete n[i],n[o]=m0(a),r[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return Le.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=s&&Le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const r=new this(s);return n.forEach(a=>r.set(a)),r}static accessor(s){const r=(this[U4]=this[U4]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Zm(l);r[o]||(nne(a,l),r[o]=!0)}return Le.isArray(s)?s.forEach(i):i(s),this}};ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(ha.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[n]=r}}});Le.freezeMethods(ha);function Hj(t,s){const n=this||zp,r=s||n,a=ha.from(r.headers);let i=r.data;return Le.forEach(t,function(o){i=o.call(n,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function sI(t){return!!(t&&t.__CANCEL__)}function Zh(t,s,n){ps.call(this,t??"canceled",ps.ERR_CANCELED,s,n),this.name="CanceledError"}Le.inherits(Zh,ps,{__CANCEL__:!0});function nI(t,s,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):s(new ps("Request failed with status code "+n.status,[ps.ERR_BAD_REQUEST,ps.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rne(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function ane(t,s){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=r[i];l||(l=d),n[a]=c,r[a]=d;let m=i,h=0;for(;m!==a;)h+=n[m++],m=m%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-l<s)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function ine(t,s){let n=0,r=1e3/s,a,i;const l=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=r?l(d,u):(a=d,i||(i=setTimeout(()=>{i=null,l(a)},r-m)))},()=>a&&l(a)]}const U0=(t,s,n=3)=>{let r=0;const a=ane(50,250);return ine(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,d=a(c),u=l<=o;r=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},n)},z4=(t,s)=>{const n=t!=null;return[r=>s[0]({lengthComputable:n,total:t,loaded:r}),s[1]]},V4=t=>(...s)=>Le.asap(()=>t(...s)),lne=Nr.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,Nr.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,one=Nr.hasStandardBrowserEnv?{write(t,s,n,r,a,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];Le.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Le.isString(r)&&o.push(`path=${r}`),Le.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),Le.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cne(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dne(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function rI(t,s,n){let r=!cne(s);return t&&(r||n==!1)?dne(t,s):s}const W4=t=>t instanceof ha?{...t}:t;function Pd(t,s){s=s||{};const n={};function r(d,u,m,h){return Le.isPlainObject(d)&&Le.isPlainObject(u)?Le.merge.call({caseless:h},d,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function a(d,u,m,h){if(Le.isUndefined(u)){if(!Le.isUndefined(d))return r(void 0,d,m,h)}else return r(d,u,m,h)}function i(d,u){if(!Le.isUndefined(u))return r(void 0,u)}function l(d,u){if(Le.isUndefined(u)){if(!Le.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,m){if(m in s)return r(d,u);if(m in t)return r(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,m)=>a(W4(d),W4(u),m,!0)};return Le.forEach(Object.keys({...t,...s}),function(u){const m=c[u]||a,h=m(t[u],s[u],u);Le.isUndefined(h)&&m!==o||(n[u]=h)}),n}const aI=t=>{const s=Pd({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=ha.from(l),s.url=ZF(rI(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Le.isFormData(n)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Le.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&l.set(u,m)})}}if(Nr.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(s)),r||r!==!1&&lne(s.url))){const c=a&&i&&one.read(i);c&&l.set(a,c)}return s},une=typeof XMLHttpRequest<"u",hne=une&&function(t){return new Promise(function(n,r){const a=aI(t);let i=a.data;const l=ha.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,m,h,p,x;function y(){p&&p(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function j(){if(!v)return;const N=ha.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:t,request:v};nI(function(E){n(E),y()},function(E){r(E),y()},P),v=null}"onloadend"in v?v.onloadend=j:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(j)},v.onabort=function(){v&&(r(new ps("Request aborted",ps.ECONNABORTED,t,v)),v=null)},v.onerror=function(_){const P=_&&_.message?_.message:"Network Error",A=new ps(P,ps.ERR_NETWORK,t,v);A.event=_||null,r(A),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||eI;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),r(new ps(_,P.clarifyTimeoutError?ps.ETIMEDOUT:ps.ECONNABORTED,t,v)),v=null},i===void 0&&l.setContentType(null),"setRequestHeader"in v&&Le.forEach(l.toJSON(),function(_,P){v.setRequestHeader(P,_)}),Le.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),d&&([h,x]=U0(d,!0),v.addEventListener("progress",h)),c&&v.upload&&([m,p]=U0(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(u=N=>{v&&(r(!N||N.type?new Zh(null,t,v):N),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const w=rne(a.url);if(w&&Nr.protocols.indexOf(w)===-1){r(new ps("Unsupported protocol "+w+":",ps.ERR_BAD_REQUEST,t));return}v.send(i||null)})},mne=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let r=new AbortController,a;const i=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof ps?u:new Zh(u instanceof Error?u.message:u))}};let l=s&&setTimeout(()=>{l=null,i(new ps(`timeout ${s} of ms exceeded`,ps.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Le.asap(o),c}},fne=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let r=0,a;for(;r<n;)a=r+s,yield t.slice(r,a),r=a},pne=async function*(t,s){for await(const n of gne(t))yield*fne(n,s)},gne=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:r}=await s.read();if(n)break;yield r}}finally{await s.cancel()}},H4=(t,s,n,r)=>{const a=pne(t,s);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let m=u.byteLength;if(n){let h=i+=m;n(h)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},K4=64*1024,{isFunction:Ex}=Le,xne=(({Request:t,Response:s})=>({Request:t,Response:s}))(Le.global),{ReadableStream:G4,TextEncoder:Y4}=Le.global,Q4=(t,...s)=>{try{return!!t(...s)}catch{return!1}},vne=t=>{t=Le.merge.call({skipUndefined:!0},xne,t);const{fetch:s,Request:n,Response:r}=t,a=s?Ex(s):typeof fetch=="function",i=Ex(n),l=Ex(r);if(!a)return!1;const o=a&&Ex(G4),c=a&&(typeof Y4=="function"?(x=>y=>x.encode(y))(new Y4):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=i&&o&&Q4(()=>{let x=!1;const y=new n(Nr.origin,{body:new G4,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!y}),u=l&&o&&Q4(()=>Le.isReadableStream(new r("").body)),m={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(y,v)=>{let j=y&&y[x];if(j)return j.call(y);throw new ps(`Response type '${x}' is not supported`,ps.ERR_NOT_SUPPORT,v)})});const h=async x=>{if(x==null)return 0;if(Le.isBlob(x))return x.size;if(Le.isSpecCompliantForm(x))return(await new n(Nr.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(x)||Le.isArrayBuffer(x))return x.byteLength;if(Le.isURLSearchParams(x)&&(x=x+""),Le.isString(x))return(await c(x)).byteLength},p=async(x,y)=>{const v=Le.toFiniteNumber(x.getContentLength());return v??h(y)};return async x=>{let{url:y,method:v,data:j,signal:w,cancelToken:N,timeout:_,onDownloadProgress:P,onUploadProgress:A,responseType:E,headers:C,withCredentials:R="same-origin",fetchOptions:O}=aI(x),k=s||fetch;E=E?(E+"").toLowerCase():"text";let T=mne([w,N&&N.toAbortSignal()],_),D=null;const F=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let U;try{if(A&&d&&v!=="get"&&v!=="head"&&(U=await p(C,j))!==0){let L=new n(y,{method:"POST",body:j,duplex:"half"}),V;if(Le.isFormData(j)&&(V=L.headers.get("content-type"))&&C.setContentType(V),L.body){const[q,J]=z4(U,U0(V4(A)));j=H4(L.body,K4,q,J)}}Le.isString(R)||(R=R?"include":"omit");const z=i&&"credentials"in n.prototype,H={...O,signal:T,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:j,duplex:"half",credentials:z?R:void 0};D=i&&new n(y,H);let B=await(i?k(D,O):k(y,H));const $=u&&(E==="stream"||E==="response");if(u&&(P||$&&F)){const L={};["status","statusText","headers"].forEach(Q=>{L[Q]=B[Q]});const V=Le.toFiniteNumber(B.headers.get("content-length")),[q,J]=P&&z4(V,U0(V4(P),!0))||[];B=new r(H4(B.body,K4,q,()=>{J&&J(),F&&F()}),L)}E=E||"text";let I=await m[Le.findKey(m,E)||"text"](B,x);return!$&&F&&F(),await new Promise((L,V)=>{nI(L,V,{data:I,headers:ha.from(B.headers),status:B.status,statusText:B.statusText,config:x,request:D})})}catch(z){throw F&&F(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new ps("Network Error",ps.ERR_NETWORK,x,D),{cause:z.cause||z}):ps.from(z,z&&z.code,x,D)}}},yne=new Map,iI=t=>{let s=t&&t.env||{};const{fetch:n,Request:r,Response:a}=s,i=[r,a,n];let l=i.length,o=l,c,d,u=yne;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:vne(s)),u=d;return d};iI();const L2={http:Fse,xhr:hne,fetch:{get:iI}};Le.forEach(L2,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const J4=t=>`- ${t}`,bne=t=>Le.isFunction(t)||t===null||t===!1;function jne(t,s){t=Le.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let l=0;l<n;l++){r=t[l];let o;if(a=r,!bne(r)&&(a=L2[(o=String(r)).toLowerCase()],a===void 0))throw new ps(`Unknown adapter '${o}'`);if(a&&(Le.isFunction(a)||(a=a.get(s))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(J4).join(`
`):" "+J4(l[0]):"as no adapter specified";throw new ps("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const lI={getAdapter:jne,adapters:L2};function Kj(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zh(null,t)}function X4(t){return Kj(t),t.headers=ha.from(t.headers),t.data=Hj.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lI.getAdapter(t.adapter||zp.adapter,t)(t).then(function(r){return Kj(t),r.data=Hj.call(t,t.transformResponse,r),r.headers=ha.from(r.headers),r},function(r){return sI(r)||(Kj(t),r&&r.response&&(r.response.data=Hj.call(t,t.transformResponse,r.response),r.response.headers=ha.from(r.response.headers))),Promise.reject(r)})}const oI="1.13.2",Qv={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Qv[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const Z4={};Qv.transitional=function(s,n,r){function a(i,l){return"[Axios v"+oI+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(s===!1)throw new ps(a(l," has been removed"+(n?" in "+n:"")),ps.ERR_DEPRECATED);return n&&!Z4[l]&&(Z4[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(i,l,o):!0}};Qv.spelling=function(s){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function wne(t,s,n){if(typeof t!="object")throw new ps("options must be an object",ps.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new ps("option "+i+" must be "+c,ps.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ps("Unknown option "+i,ps.ERR_BAD_OPTION)}}const f0={assertOptions:wne,validators:Qv},Ji=f0.validators;let bd=class{constructor(s){this.defaults=s||{},this.interceptors={request:new $4,response:new $4}}async request(s,n){try{return await this._request(s,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=Pd(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&f0.assertOptions(r,{silentJSONParsing:Ji.transitional(Ji.boolean),forcedJSONParsing:Ji.transitional(Ji.boolean),clarifyTimeoutError:Ji.transitional(Ji.boolean)},!1),a!=null&&(Le.isFunction(a)?n.paramsSerializer={serialize:a}:f0.assertOptions(a,{encode:Ji.function,serialize:Ji.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),f0.assertOptions(n,{baseUrl:Ji.spelling("baseURL"),withXsrfToken:Ji.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&Le.merge(i.common,i[n.method]);i&&Le.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=ha.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,m=0,h;if(!c){const x=[X4.bind(this),void 0];for(x.unshift(...o),x.push(...d),h=x.length,u=Promise.resolve(n);m<h;)u=u.then(x[m++],x[m++]);return u}h=o.length;let p=n;for(;m<h;){const x=o[m++],y=o[m++];try{p=x(p)}catch(v){y.call(this,v);break}}try{u=X4.call(this,p)}catch(x){return Promise.reject(x)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=Pd(this.defaults,s);const n=rI(s.baseURL,s.url,s.allowAbsoluteUrls);return ZF(n,s.params,s.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(s){bd.prototype[s]=function(n,r){return this.request(Pd(r||{},{method:s,url:n,data:(r||{}).data}))}});Le.forEach(["post","put","patch"],function(s){function n(r){return function(i,l,o){return this.request(Pd(o||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}bd.prototype[s]=n(),bd.prototype[s+"Form"]=n(!0)});let Nne=class cI{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(a);return l.cancel=function(){r.unsubscribe(i)},l},s(function(i,l,o){r.reason||(r.reason=new Zh(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=r=>{s.abort(r)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new cI(function(a){s=a}),cancel:s}}};function _ne(t){return function(n){return t.apply(null,n)}}function Sne(t){return Le.isObject(t)&&t.isAxiosError===!0}const j1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(j1).forEach(([t,s])=>{j1[s]=t});function dI(t){const s=new bd(t),n=$F(bd.prototype.request,s);return Le.extend(n,bd.prototype,s,{allOwnKeys:!0}),Le.extend(n,s,null,{allOwnKeys:!0}),n.create=function(a){return dI(Pd(t,a))},n}const qn=dI(zp);qn.Axios=bd;qn.CanceledError=Zh;qn.CancelToken=Nne;qn.isCancel=sI;qn.VERSION=oI;qn.toFormData=Yv;qn.AxiosError=ps;qn.Cancel=qn.CanceledError;qn.all=function(s){return Promise.all(s)};qn.spread=_ne;qn.isAxiosError=Sne;qn.mergeConfig=Pd;qn.AxiosHeaders=ha;qn.formToJSON=t=>tI(Le.isHTMLForm(t)?new FormData(t):t);qn.getAdapter=lI.getAdapter;qn.HttpStatusCode=j1;qn.default=qn;const{Axios:NAe,AxiosError:_Ae,CanceledError:SAe,isCancel:CAe,CancelToken:kAe,VERSION:EAe,all:TAe,Cancel:PAe,isAxiosError:AAe,spread:OAe,toFormData:MAe,AxiosHeaders:DAe,HttpStatusCode:RAe,formToJSON:FAe,getAdapter:IAe,mergeConfig:LAe}=qn;class Cne extends Error{constructor(s,n,r,a,i){super(s),this.name="Base44Error",this.status=n,this.code=r,this.data=a,this.originalError=i}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function kne(t){let{baseURL:s,headers:n={},token:r,requiresAuth:a=!1,appId:i,serverUrl:l}=t;const o=qn.create({baseURL:s,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(o.defaults.headers.common.Authorization=`Bearer ${r}`),o.interceptors.request.use((c=>(typeof window<"u"&&(c.headers={...c.headers,"X-Origin-URL":window.location.href}),c))),o.interceptors.response.use((c=>c.data),(c=>{var m,h,p,x,y,v,j,w,N,_;const d=((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.message)||((x=(p=c.response)==null?void 0:p.data)==null?void 0:x.detail)||c.message,u=new Cne(d,(y=c.response)==null?void 0:y.status,(j=(v=c.response)==null?void 0:v.data)==null?void 0:j.code,(w=c.response)==null?void 0:w.data,c);return console.log(a,(N=c.response)==null?void 0:N.status,typeof window<"u"),a&&((_=c.response)==null?void 0:_.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(P,A){if(typeof window>"u")return;const E=`${P}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${A}`;window.location.href=E})(l,i)}),100)),Promise.reject(u)})),o}function Ene(t,s){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(a,i,l){const o=`/apps/${i}/entities/${l}`;return{async list(c,d,u,m){const h={};return c&&(h.sort=c),d&&(h.limit=d),u&&(h.skip=u),m&&(h.fields=Array.isArray(m)?m.join(","):m),a.get(o,{params:h})},async filter(c,d,u,m,h){const p={q:JSON.stringify(c)};return d&&(p.sort=d),u&&(p.limit=u),m&&(p.skip=m),h&&(p.fields=Array.isArray(h)?h.join(","):h),a.get(o,{params:p})},get:async c=>a.get(`${o}/${c}`),create:async c=>a.post(o,c),update:async(c,d)=>a.put(`${o}/${c}`,d),delete:async c=>a.delete(`${o}/${c}`),deleteMany:async c=>a.delete(o,{data:c}),bulkCreate:async c=>a.post(`${o}/bulk`,c),async importEntities(c){const d=new FormData;return d.append("file",c,c.name),a.post(`${o}/import`,d,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,s,r)}})}function Tne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:s="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:a=!0}=t;let i=null;if(typeof window<"u"&&window.location)try{const l=new URLSearchParams(window.location.search);if(i=l.get(n),i){if(r&&Pne(i,{storageKey:s}),a){l.delete(n);const o=`${window.location.pathname}${l.toString()?`?${l.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,o)}return i}}catch(l){console.error("Error retrieving token from URL:",l)}if(typeof window<"u"&&window.localStorage)try{return i=window.localStorage.getItem(s),i}catch(l){console.error("Error retrieving token from localStorage:",l)}return null}function Pne(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=s;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function Ane(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:s="https://base44.app",appId:n,env:r="prod",token:a,requiresAuth:i=!1}=t,l=kne({baseURL:`${s}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:a,requiresAuth:i,appId:n,serverUrl:s}),o=Ene(l,n),c=(function(u,m){return new Proxy({},{get(h,p){if(typeof p=="string"&&p!=="then"&&!p.startsWith("_"))return new Proxy({},{get(x,y){if(typeof y=="string"&&y!=="then"&&!y.startsWith("_"))return async v=>{if(typeof v=="string")throw new Error(`Integration ${y} must receive an object with named parameters, received: ${v}`);let j,w;return v instanceof FormData||v&&Object.values(v).some((N=>N instanceof File))?(j=new FormData,Object.keys(v).forEach((N=>{v[N]instanceof File?j.append(N,v[N],v[N].name):typeof v[N]=="object"&&v[N]!==null?j.append(N,JSON.stringify(v[N])):j.append(N,v[N])})),w="multipart/form-data"):(j=v,w="application/json"),p==="Core"?u.post(`/apps/${m}/integration-endpoints/Core/${y}`,j||v,{headers:{"Content-Type":w}}):u.post(`/apps/${m}/integration-endpoints/installable/${p}/integration-endpoints/${y}`,j||v,{headers:{"Content-Type":w}})}}})}})})(l,n),d=(function(u,m,h){return{me:async()=>u.get(`/apps/${m}/entities/User/me`),updateMe:async p=>u.put(`/apps/${m}/entities/User/me`,p),login(p){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const x=p||window.location.href,y=`${h}/login?from_url=${encodeURIComponent(x)}&app_id=${m}`;window.location.href=y},async logout(p){if(delete u.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(x){console.error("Failed to remove token from localStorage:",x)}return p&&typeof window<"u"&&(window.location.href=p),Promise.resolve()},setToken(p){let x=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(p&&(u.defaults.headers.common.Authorization=`Bearer ${p}`,x&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",p)}catch(y){console.error("Failed to save token to localStorage:",y)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(l,n,s);if(typeof window<"u"){const u=a||Tne();u&&d.setToken(u)}return i&&typeof window<"u"&&setTimeout((async()=>{try{await d.isAuthenticated()||d.login(window.location.href)}catch(u){console.error("Authentication check failed:",u),d.login(window.location.href)}}),0),{entities:o,integrations:c,auth:d,setToken(u){d.setToken(u)},getConfig:()=>({serverUrl:s,appId:n,env:r,requiresAuth:i})}}const ee=Ane({appId:"68efc20f3e0a30fafad6dde7",requiresAuth:!1}),Jv=Object.freeze(Object.defineProperty({__proto__:null,base44:ee},Symbol.toStringTag,{value:"Module"})),Ct=Av,One=Ov,uI=b.forwardRef(({className:t,...s},n)=>e.jsx(Gh,{ref:n,className:et("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));uI.displayName=Gh.displayName;const Nt=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(One,{children:[e.jsx(uI,{}),e.jsxs(Yh,{ref:r,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(Mv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ks,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=Yh.displayName;const kt=({className:t,...s})=>e.jsx("div",{className:et("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});kt.displayName="DialogHeader";const $t=({className:t,...s})=>e.jsx("div",{className:et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});$t.displayName="DialogFooter";const Et=b.forwardRef(({className:t,...s},n)=>e.jsx(Rp,{ref:n,className:et("text-lg font-semibold leading-none tracking-tight",t),...s}));Et.displayName=Rp.displayName;const Pa=b.forwardRef(({className:t,...s},n)=>e.jsx(Fp,{ref:n,className:et("text-sm text-muted-foreground",t),...s}));Pa.displayName=Fp.displayName;const Ou={Calendar:Ns,Building:yc,Briefcase:Dn,FileText:ls,Users:Cs,Sparkles:pa,Home:$f,Mail:Rs,Phone:Sv,Search:Zs,User:sn,ChevronDown:Vr};function Mne(){var w,N,_,P,A,E,C,R,O,k,T,D;const[t,s]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState({topNav:[],mainNav:[]}),[l,o]=b.useState(null),[c,d]=b.useState(null),[u,m]=b.useState(null),[h,p]=b.useState(null),x=wl();b.useEffect(()=>{const F=()=>{const U=sessionStorage.getItem("agcas_member");r(!!U)};return F(),window.addEventListener("storage",F),()=>{window.removeEventListener("storage",F)}},[]),b.useEffect(()=>{const F=async()=>{try{const B=(await ee.entities.NavigationItem.list("display_order")).filter(V=>V.is_active),$=(V,q)=>B.filter(J=>J.parent_id===V&&J.location===q).sort((J,Q)=>(J.display_order||0)-(Q.display_order||0)).map(J=>({...J,children:$(J.id,q)})),I=$(null,"top_nav"),L=$(null,"main_nav");i({topNav:I,mainNav:L})}catch(H){console.error("Failed to fetch navigation items:",H),i({topNav:[],mainNav:[]})}};F();const U=()=>F();window.addEventListener("focus",U);const z=setInterval(()=>{document.visibilityState==="visible"&&F()},5e3);return()=>{window.removeEventListener("focus",U),clearInterval(z)}},[x.pathname]),b.useEffect(()=>{(async()=>{try{const z=(await ee.entities.SystemSettings.list()).find(H=>H.setting_key==="social_icons_config");if(z!=null&&z.setting_value)try{m(JSON.parse(z.setting_value))}catch(H){console.error("Failed to parse social icons config:",H)}}catch(U){console.error("Failed to fetch social icons config:",U)}})()},[]);const y=()=>{sessionStorage.removeItem("agcas_member"),window.location.href=Te("Home")},v=F=>{if(F.link_type==="external")return!1;const U=Te(F.url);return x.pathname===U},j=(F,U=!1)=>{const z=F.children&&F.children.length>0,H=F.icon&&Ou[F.icon]?Ou[F.icon]:null,B=v(F),$=F.link_type==="external"?{href:F.url,target:F.open_in_new_tab?"_blank":"_self",rel:F.open_in_new_tab?"noopener noreferrer":void 0}:{to:Te(F.url)},I=F.link_type==="external"?"a":Gt,V=`nav-link text-${U?"white":"slate-900"} transition-colors ${B?"font-bold":U?"font-semibold text-sm":"font-medium"} flex items-center gap-1`;if(F.highlight_style==="gradient_button")return e.jsx(I,{...$,children:e.jsxs(X,{className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:[H&&e.jsx(H,{className:"w-4 h-4 mr-2"}),F.title,e.jsx(Ur,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})},F.id);if(z){const q=()=>{h&&(clearTimeout(h),p(null)),o(F.id)},J=()=>{const Q=setTimeout(()=>{o(null)},150);p(Q)};return e.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:q,onMouseLeave:J,children:[e.jsxs("button",{className:V,children:[H&&e.jsx(H,{className:"w-4 h-4"}),F.title,e.jsx(Vr,{className:"w-4 h-4"})]}),!U&&B&&e.jsx("div",{className:"absolute left-0 right-0 h-[5px]",style:{bottom:"-33px",background:"linear-gradient(to right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"}}),l===F.id&&e.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-xl border border-slate-200 py-4 z-50 min-w-[240px]",onMouseEnter:q,onMouseLeave:J,children:F.children.map(Q=>{const Y=Q.icon&&Ou[Q.icon]?Ou[Q.icon]:null,K=v(Q),ae=Q.children&&Q.children.length>0,se=Q.link_type==="external"?{href:Q.url,target:Q.open_in_new_tab?"_blank":"_self",rel:Q.open_in_new_tab?"noopener noreferrer":void 0}:{to:Te(Q.url)},de=Q.link_type==="external"?"a":Gt;return e.jsxs("div",{className:"relative",onMouseEnter:()=>ae&&d(Q.id),onMouseLeave:()=>ae&&d(null),children:[e.jsx(de,{...se,className:"block px-4 py-2 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[Y&&e.jsx(Y,{className:"w-5 h-5 text-slate-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`text-slate-900 ${K?"font-bold":"font-medium"} flex items-center gap-2`,children:[Q.title,ae&&e.jsx(Ss,{className:"w-3 h-3"})]}),Q.description&&e.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:Q.description})]})]})}),ae&&c===Q.id&&e.jsx("div",{className:"absolute left-full top-0 -ml-[11px] bg-white rounded-lg shadow-xl border border-slate-200 py-4 min-w-[220px]",children:Q.children.map(ue=>{const oe=ue.icon&&Ou[ue.icon]?Ou[ue.icon]:null,pe=v(ue),je=ue.link_type==="external"?{href:ue.url,target:ue.open_in_new_tab?"_blank":"_self",rel:ue.open_in_new_tab?"noopener noreferrer":void 0}:{to:Te(ue.url)},Ne=ue.link_type==="external"?"a":Gt;return e.jsx(Ne,{...je,className:"block px-4 py-2 hover:bg-slate-50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[oe&&e.jsx(oe,{className:"w-4 h-4 text-slate-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-slate-700 text-sm ${pe?"font-semibold":"font-normal"}`,children:ue.title}),ue.description&&e.jsx("div",{className:"text-xs text-slate-400 mt-0.5",children:ue.description})]})]})},ue.id)})})]},Q.id)})})]},F.id)}return e.jsxs("div",{className:"relative h-full flex items-center",children:[e.jsxs(I,{...$,className:V,style:U?{}:{fontFamily:"Poppins, sans-serif"},children:[H&&e.jsx(H,{className:"w-4 h-4"}),F.title]}),!U&&B&&e.jsx("div",{className:"absolute left-0 right-0 h-[5px]",style:{bottom:"-33px",background:"linear-gradient(to right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"}})]},F.id)};return e.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-40 relative",children:[e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/26710cf5a_GFIheaderlogo.png",alt:"Graduate Futures Institute",className:"mt-4 absolute z-50",style:{top:"0",left:"max(1rem, calc((100vw - 80rem) / 2))",width:"auto",height:"158px",transform:"translateY(-10px)"}}),e.jsx("div",{className:"py-2 relative",style:{background:"linear-gradient(to right, white 0%, white 33%, #5C0085 50%)"},children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-end items-center",children:e.jsxs("div",{className:"flex items-center gap-6",children:[(w=a.topNav)==null?void 0:w.map(F=>j(F,!0)),e.jsxs(Gt,{to:Te(n?"Events":"Home"),className:"flex items-center gap-1 text-white hover:opacity-80 transition-opacity text-sm font-semibold",children:[e.jsx(sn,{className:"w-4 h-4"}),e.jsx("span",{children:n?"Member Area":"Login"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!t),className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity text-sm font-semibold",children:[e.jsx(Zs,{className:"w-4 h-4"}),e.jsx("span",{children:"Search"})]}),t&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-slate-200 p-4 z-50",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{type:"text",placeholder:"Search...",className:"pl-10",autoFocus:!0})]}),e.jsx(X,{variant:"outline",onClick:()=>s(!1),children:"Close"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Search functionality coming soon"})]})]}),n&&e.jsx("button",{onClick:y,className:"flex items-center gap-2 text-white hover:opacity-80 transition-opacity text-sm font-semibold",title:"Logout",children:e.jsx(A5,{className:"w-4 h-4"})}),u&&e.jsxs("div",{className:"flex items-center gap-2",children:[((N=u.linkedin)==null?void 0:N.enabled)&&((_=u.linkedin)==null?void 0:_.url)&&e.jsx("a",{href:u.linkedin.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),((P=u.twitter)==null?void 0:P.enabled)&&((A=u.twitter)==null?void 0:A.url)&&e.jsx("a",{href:u.twitter.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),((E=u.facebook)==null?void 0:E.enabled)&&((C=u.facebook)==null?void 0:C.url)&&e.jsx("a",{href:u.facebook.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),((R=u.instagram)==null?void 0:R.enabled)&&((O=u.instagram)==null?void 0:O.url)&&e.jsx("a",{href:u.instagram.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),((k=u.youtube)==null?void 0:k.enabled)&&((T=u.youtube)==null?void 0:T.url)&&e.jsx("a",{href:u.youtube.url,target:"_blank",rel:"noopener noreferrer",className:"w-7 h-7 bg-white rounded flex items-center justify-center hover:opacity-80 transition-opacity",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",fill:"#5C0085",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})})})}),e.jsx("div",{className:"bg-white border-b border-slate-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex justify-between items-center h-full",children:[e.jsx("div",{style:{width:"210px"}}),e.jsxs("nav",{className:"hidden md:flex items-center gap-8 h-full",children:[(D=a.mainNav)==null?void 0:D.map(F=>j(F,!1)),e.jsx(Gt,{to:Te("PublicJoinUs"),children:e.jsxs(X,{className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:["Join Us",e.jsx(Ur,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})})]}),e.jsx("button",{className:"md:hidden p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})})]})}function Dne({banner:t}){if(!t||!t.image_url)return null;const s={"full-width":"w-full",contained:"max-w-7xl mx-auto",wide:"max-w-screen-2xl mx-auto"},n={small:"h-32 md:h-48",medium:"h-48 md:h-64 lg:h-80",large:"h-64 md:h-96 lg:h-[32rem]",auto:"h-auto"},r={top:"object-top",center:"object-center",bottom:"object-bottom"},a=s[t.size]||s["full-width"],i=n[t.height]||n.medium,l=r[t.position]||r.center;return e.jsx("div",{className:`${a} overflow-hidden`,children:e.jsx("div",{className:`${i} w-full`,children:e.jsx("img",{src:t.image_url,alt:t.alt_text||t.name,className:`w-full h-full object-cover ${l}`})})})}var em=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rne={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},Go,s2,G6,Fne=(G6=class{constructor(){Yt(this,Go,Rne);Yt(this,s2,!1)}setTimeoutProvider(t){St(this,Go,t)}setTimeout(t,s){return xe(this,Go).setTimeout(t,s)}clearTimeout(t){xe(this,Go).clearTimeout(t)}setInterval(t,s){return xe(this,Go).setInterval(t,s)}clearInterval(t){xe(this,Go).clearInterval(t)}},Go=new WeakMap,s2=new WeakMap,G6),ad=new Fne;function Ine(t){setTimeout(t,0)}var Ad=typeof window>"u"||"Deno"in globalThis;function $r(){}function Lne(t,s){return typeof t=="function"?t(s):t}function w1(t){return typeof t=="number"&&t>=0&&t!==1/0}function hI(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ic(t,s){return typeof t=="function"?t(s):t}function ei(t,s){return typeof t=="function"?t(s):t}function eA(t,s){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(r){if(s.queryHash!==B2(l,s.options))return!1}else if(!Gf(s.queryKey,l))return!1}if(n!=="all"){const c=s.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function tA(t,s){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(n){if(Od(s.options.mutationKey)!==Od(i))return!1}else if(!Gf(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||a&&!a(s))}function B2(t,s){return((s==null?void 0:s.queryKeyHashFn)||Od)(t)}function Od(t){return JSON.stringify(t,(s,n)=>N1(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Gf(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>Gf(t[n],s[n])):!1}var Bne=Object.prototype.hasOwnProperty;function mI(t,s){if(t===s)return t;const n=sA(t)&&sA(s);if(!n&&!(N1(t)&&N1(s)))return s;const a=(n?t:Object.keys(t)).length,i=n?s:Object.keys(s),l=i.length,o=n?new Array(l):{};let c=0;for(let d=0;d<l;d++){const u=n?d:i[d],m=t[u],h=s[u];if(m===h){o[u]=m,(n?d<a:Bne.call(t,u))&&c++;continue}if(m===null||h===null||typeof m!="object"||typeof h!="object"){o[u]=h;continue}const p=mI(m,h);o[u]=p,p===m&&c++}return a===l&&c===a?t:o}function z0(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function sA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N1(t){if(!nA(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!nA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nA(t){return Object.prototype.toString.call(t)==="[object Object]"}function qne(t){return new Promise(s=>{ad.setTimeout(s,t)})}function _1(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?mI(t,s):s}function $ne(t,s,n=0){const r=[...t,s];return n&&r.length>n?r.slice(1):r}function Une(t,s,n=0){const r=[s,...t];return n&&r.length>n?r.slice(0,-1):r}var q2=Symbol();function fI(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===q2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function pI(t,s){return typeof t=="function"?t(...s):!!t}var dd,Yo,ch,Y6,zne=(Y6=class extends em{constructor(){super();Yt(this,dd);Yt(this,Yo);Yt(this,ch);St(this,ch,s=>{if(!Ad&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){xe(this,Yo)||this.setEventListener(xe(this,ch))}onUnsubscribe(){var s;this.hasListeners()||((s=xe(this,Yo))==null||s.call(this),St(this,Yo,void 0))}setEventListener(s){var n;St(this,ch,s),(n=xe(this,Yo))==null||n.call(this),St(this,Yo,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){xe(this,dd)!==s&&(St(this,dd,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof xe(this,dd)=="boolean"?xe(this,dd):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},dd=new WeakMap,Yo=new WeakMap,ch=new WeakMap,Y6),$2=new zne;function S1(){let t,s;const n=new Promise((a,i)=>{t=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var Vne=Ine;function Wne(){let t=[],s=0,n=o=>{o()},r=o=>{o()},a=Vne;const i=o=>{s?t.push(o):a(()=>{n(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{a=o}}}var Qn=Wne(),dh,Qo,uh,Q6,Hne=(Q6=class extends em{constructor(){super();Yt(this,dh,!0);Yt(this,Qo);Yt(this,uh);St(this,uh,s=>{if(!Ad&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){xe(this,Qo)||this.setEventListener(xe(this,uh))}onUnsubscribe(){var s;this.hasListeners()||((s=xe(this,Qo))==null||s.call(this),St(this,Qo,void 0))}setEventListener(s){var n;St(this,uh,s),(n=xe(this,Qo))==null||n.call(this),St(this,Qo,s(this.setOnline.bind(this)))}setOnline(s){xe(this,dh)!==s&&(St(this,dh,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return xe(this,dh)}},dh=new WeakMap,Qo=new WeakMap,uh=new WeakMap,Q6),V0=new Hne;function Kne(t){return Math.min(1e3*2**t,3e4)}function gI(t){return(t??"online")==="online"?V0.isOnline():!0}var C1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xI(t){let s=!1,n=0,r;const a=S1(),i=()=>a.status!=="pending",l=y=>{var v;if(!i()){const j=new C1(y);h(j),(v=t.onCancel)==null||v.call(t,j)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>$2.isFocused()&&(t.networkMode==="always"||V0.isOnline())&&t.canRun(),u=()=>gI(t.networkMode)&&t.canRun(),m=y=>{i()||(r==null||r(),a.resolve(y))},h=y=>{i()||(r==null||r(),a.reject(y))},p=()=>new Promise(y=>{var v;r=j=>{(i()||d())&&y(j)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;r=void 0,i()||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(i())return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(j){y=Promise.reject(j)}Promise.resolve(y).then(m).catch(j=>{var A;if(i())return;const w=t.retry??(Ad?0:3),N=t.retryDelay??Kne,_=typeof N=="function"?N(n,j):N,P=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,j);if(s||!P){h(j);return}n++,(A=t.onFail)==null||A.call(t,n,j),qne(_).then(()=>d()?void 0:p()).then(()=>{s?h(j):x()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(r==null||r(),a),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?x():p().then(x),a)}}var ud,J6,vI=(J6=class{constructor(){Yt(this,ud)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w1(this.gcTime)&&St(this,ud,ad.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ad?1/0:300*1e3))}clearGcTimeout(){xe(this,ud)&&(ad.clearTimeout(xe(this,ud)),St(this,ud,void 0))}},ud=new WeakMap,J6),hd,hh,Za,md,rr,yp,fd,Ci,ql,X6,Gne=(X6=class extends vI{constructor(s){super();Yt(this,Ci);Yt(this,hd);Yt(this,hh);Yt(this,Za);Yt(this,md);Yt(this,rr);Yt(this,yp);Yt(this,fd);St(this,fd,!1),St(this,yp,s.defaultOptions),this.setOptions(s.options),this.observers=[],St(this,md,s.client),St(this,Za,xe(this,md).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,St(this,hd,aA(this.options)),this.state=s.state??xe(this,hd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=xe(this,rr))==null?void 0:s.promise}setOptions(s){if(this.options={...xe(this,yp),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=aA(this.options);n.data!==void 0&&(this.setState(rA(n.data,n.dataUpdatedAt)),St(this,hd,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Za).remove(this)}setData(s,n){const r=_1(this.state.data,s,this.options);return bs(this,Ci,ql).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(s,n){bs(this,Ci,ql).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var r,a;const n=(r=xe(this,rr))==null?void 0:r.promise;return(a=xe(this,rr))==null||a.cancel(s),n?n.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,hd))}isActive(){return this.observers.some(s=>ei(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===q2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ic(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!hI(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=xe(this,rr))==null||n.continue()}onOnline(){var n;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=xe(this,rr))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),xe(this,Za).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(xe(this,rr)&&(xe(this,fd)?xe(this,rr).cancel({revert:!0}):xe(this,rr).cancelRetry()),this.scheduleGc()),xe(this,Za).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bs(this,Ci,ql).call(this,{type:"invalidate"})}async fetch(s,n){var c,d,u,m,h,p,x,y,v,j,w,N;if(this.state.fetchStatus!=="idle"&&((c=xe(this,rr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(xe(this,rr))return xe(this,rr).continueRetry(),xe(this,rr).promise}if(s&&this.setOptions(s),!this.options.queryFn){const _=this.observers.find(P=>P.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(St(this,fd,!0),r.signal)})},i=()=>{const _=fI(this.options,n),A=(()=>{const E={client:xe(this,md),queryKey:this.queryKey,meta:this.meta};return a(E),E})();return St(this,fd,!1),this.options.persister?this.options.persister(_,A,this):_(A)},o=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:xe(this,md),state:this.state,fetchFn:i};return a(_),_})();(d=this.options.behavior)==null||d.onFetch(o,this),St(this,hh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&bs(this,Ci,ql).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta}),St(this,rr,xI({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof C1&&_.revert&&this.setState({...xe(this,hh),fetchStatus:"idle"}),r.abort()},onFail:(_,P)=>{bs(this,Ci,ql).call(this,{type:"failed",failureCount:_,error:P})},onPause:()=>{bs(this,Ci,ql).call(this,{type:"pause"})},onContinue:()=>{bs(this,Ci,ql).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await xe(this,rr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=xe(this,Za).config).onSuccess)==null||p.call(h,_,this),(y=(x=xe(this,Za).config).onSettled)==null||y.call(x,_,this.state.error,this),_}catch(_){if(_ instanceof C1){if(_.silent)return xe(this,rr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw bs(this,Ci,ql).call(this,{type:"error",error:_}),(j=(v=xe(this,Za).config).onError)==null||j.call(v,_,this),(N=(w=xe(this,Za).config).onSettled)==null||N.call(w,this.state.data,_,this),_}finally{this.scheduleGc()}}},hd=new WeakMap,hh=new WeakMap,Za=new WeakMap,md=new WeakMap,rr=new WeakMap,yp=new WeakMap,fd=new WeakMap,Ci=new WeakSet,ql=function(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...yI(r.data,this.options),fetchMeta:s.meta??null};case"success":const a={...r,...rA(s.data,s.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return St(this,hh,s.manual?a:void 0),a;case"error":const i=s.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),Qn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),xe(this,Za).notify({query:this,type:"updated",action:s})})},X6);function yI(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gI(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function rA(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function aA(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var la,Ms,bp,Br,pd,mh,zl,Jo,jp,fh,ph,gd,xd,Xo,gh,Qs,vf,k1,E1,T1,P1,A1,O1,M1,bI,Z6,Yne=(Z6=class extends em{constructor(s,n){super();Yt(this,Qs);Yt(this,la);Yt(this,Ms);Yt(this,bp);Yt(this,Br);Yt(this,pd);Yt(this,mh);Yt(this,zl);Yt(this,Jo);Yt(this,jp);Yt(this,fh);Yt(this,ph);Yt(this,gd);Yt(this,xd);Yt(this,Xo);Yt(this,gh,new Set);this.options=n,St(this,la,s),St(this,Jo,null),St(this,zl,S1()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,Ms).addObserver(this),iA(xe(this,Ms),this.options)?bs(this,Qs,vf).call(this):this.updateResult(),bs(this,Qs,P1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return D1(xe(this,Ms),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return D1(xe(this,Ms),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,bs(this,Qs,A1).call(this),bs(this,Qs,O1).call(this),xe(this,Ms).removeObserver(this)}setOptions(s){const n=this.options,r=xe(this,Ms);if(this.options=xe(this,la).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ei(this.options.enabled,xe(this,Ms))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");bs(this,Qs,M1).call(this),xe(this,Ms).setOptions(this.options),n._defaulted&&!z0(this.options,n)&&xe(this,la).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,Ms),observer:this});const a=this.hasListeners();a&&lA(xe(this,Ms),r,this.options,n)&&bs(this,Qs,vf).call(this),this.updateResult(),a&&(xe(this,Ms)!==r||ei(this.options.enabled,xe(this,Ms))!==ei(n.enabled,xe(this,Ms))||ic(this.options.staleTime,xe(this,Ms))!==ic(n.staleTime,xe(this,Ms)))&&bs(this,Qs,k1).call(this);const i=bs(this,Qs,E1).call(this);a&&(xe(this,Ms)!==r||ei(this.options.enabled,xe(this,Ms))!==ei(n.enabled,xe(this,Ms))||i!==xe(this,Xo))&&bs(this,Qs,T1).call(this,i)}getOptimisticResult(s){const n=xe(this,la).getQueryCache().build(xe(this,la),s),r=this.createResult(n,s);return Jne(this,r)&&(St(this,Br,r),St(this,mh,this.options),St(this,pd,xe(this,Ms).state)),r}getCurrentResult(){return xe(this,Br)}trackResult(s,n){return new Proxy(s,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&xe(this,zl).status==="pending"&&xe(this,zl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(s){xe(this,gh).add(s)}getCurrentQuery(){return xe(this,Ms)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=xe(this,la).defaultQueryOptions(s),r=xe(this,la).getQueryCache().build(xe(this,la),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(s){return bs(this,Qs,vf).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,Br)))}createResult(s,n){var R;const r=xe(this,Ms),a=this.options,i=xe(this,Br),l=xe(this,pd),o=xe(this,mh),d=s!==r?s.state:xe(this,bp),{state:u}=s;let m={...u},h=!1,p;if(n._optimisticResults){const O=this.hasListeners(),k=!O&&iA(s,n),T=O&&lA(s,r,n,a);(k||T)&&(m={...m,...yI(u.data,s.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:y,status:v}=m;p=m.data;let j=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,j=!0):O=typeof n.placeholderData=="function"?n.placeholderData((R=xe(this,ph))==null?void 0:R.state.data,xe(this,ph)):n.placeholderData,O!==void 0&&(v="success",p=_1(i==null?void 0:i.data,O,n),h=!0)}if(n.select&&p!==void 0&&!j)if(i&&p===(l==null?void 0:l.data)&&n.select===xe(this,jp))p=xe(this,fh);else try{St(this,jp,n.select),p=n.select(p),p=_1(i==null?void 0:i.data,p,n),St(this,fh,p),St(this,Jo,null)}catch(O){St(this,Jo,O)}xe(this,Jo)&&(x=xe(this,Jo),p=xe(this,fh),y=Date.now(),v="error");const w=m.fetchStatus==="fetching",N=v==="pending",_=v==="error",P=N&&w,A=p!==void 0,C={status:v,fetchStatus:m.fetchStatus,isPending:N,isSuccess:v==="success",isError:_,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!N,isLoadingError:_&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&A,isStale:U2(s,n),refetch:this.refetch,promise:xe(this,zl),isEnabled:ei(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const O=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},k=()=>{const D=St(this,zl,C.promise=S1());O(D)},T=xe(this,zl);switch(T.status){case"pending":s.queryHash===r.queryHash&&O(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&k();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&k();break}}return C}updateResult(){const s=xe(this,Br),n=this.createResult(xe(this,Ms),this.options);if(St(this,pd,xe(this,Ms).state),St(this,mh,this.options),xe(this,pd).data!==void 0&&St(this,ph,xe(this,Ms)),z0(n,s))return;St(this,Br,n);const r=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!xe(this,gh).size)return!0;const l=new Set(i??xe(this,gh));return this.options.throwOnError&&l.add("error"),Object.keys(xe(this,Br)).some(o=>{const c=o;return xe(this,Br)[c]!==s[c]&&l.has(c)})};bs(this,Qs,bI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&bs(this,Qs,P1).call(this)}},la=new WeakMap,Ms=new WeakMap,bp=new WeakMap,Br=new WeakMap,pd=new WeakMap,mh=new WeakMap,zl=new WeakMap,Jo=new WeakMap,jp=new WeakMap,fh=new WeakMap,ph=new WeakMap,gd=new WeakMap,xd=new WeakMap,Xo=new WeakMap,gh=new WeakMap,Qs=new WeakSet,vf=function(s){bs(this,Qs,M1).call(this);let n=xe(this,Ms).fetch(this.options,s);return s!=null&&s.throwOnError||(n=n.catch($r)),n},k1=function(){bs(this,Qs,A1).call(this);const s=ic(this.options.staleTime,xe(this,Ms));if(Ad||xe(this,Br).isStale||!w1(s))return;const r=hI(xe(this,Br).dataUpdatedAt,s)+1;St(this,gd,ad.setTimeout(()=>{xe(this,Br).isStale||this.updateResult()},r))},E1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,Ms)):this.options.refetchInterval)??!1},T1=function(s){bs(this,Qs,O1).call(this),St(this,Xo,s),!(Ad||ei(this.options.enabled,xe(this,Ms))===!1||!w1(xe(this,Xo))||xe(this,Xo)===0)&&St(this,xd,ad.setInterval(()=>{(this.options.refetchIntervalInBackground||$2.isFocused())&&bs(this,Qs,vf).call(this)},xe(this,Xo)))},P1=function(){bs(this,Qs,k1).call(this),bs(this,Qs,T1).call(this,bs(this,Qs,E1).call(this))},A1=function(){xe(this,gd)&&(ad.clearTimeout(xe(this,gd)),St(this,gd,void 0))},O1=function(){xe(this,xd)&&(ad.clearInterval(xe(this,xd)),St(this,xd,void 0))},M1=function(){const s=xe(this,la).getQueryCache().build(xe(this,la),this.options);if(s===xe(this,Ms))return;const n=xe(this,Ms);St(this,Ms,s),St(this,bp,s.state),this.hasListeners()&&(n==null||n.removeObserver(this),s.addObserver(this))},bI=function(s){Qn.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(xe(this,Br))}),xe(this,la).getQueryCache().notify({query:xe(this,Ms),type:"observerResultsUpdated"})})},Z6);function Qne(t,s){return ei(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function iA(t,s){return Qne(t,s)||t.state.data!==void 0&&D1(t,s,s.refetchOnMount)}function D1(t,s,n){if(ei(s.enabled,t)!==!1&&ic(s.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&U2(t,s)}return!1}function lA(t,s,n,r){return(t!==s||ei(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&U2(t,n)}function U2(t,s){return ei(s.enabled,t)!==!1&&t.isStaleByTime(ic(s.staleTime,t))}function Jne(t,s){return!z0(t.getCurrentResult(),s)}function oA(t){return{onFetch:(s,n)=>{var u,m,h,p,x;const r=s.options,a=(h=(m=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=s.state.data)==null?void 0:p.pages)||[],l=((x=s.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const v=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(s.signal.aborted?y=!0:s.signal.addEventListener("abort",()=>{y=!0}),s.signal)})},j=fI(s.options,s.fetchOptions),w=async(N,_,P)=>{if(y)return Promise.reject();if(_==null&&N.pages.length)return Promise.resolve(N);const E=(()=>{const k={client:s.client,queryKey:s.queryKey,pageParam:_,direction:P?"backward":"forward",meta:s.options.meta};return v(k),k})(),C=await j(E),{maxPages:R}=s.options,O=P?Une:$ne;return{pages:O(N.pages,C,R),pageParams:O(N.pageParams,_,R)}};if(a&&i.length){const N=a==="backward",_=N?Xne:cA,P={pages:i,pageParams:l},A=_(r,P);o=await w(P,A,N)}else{const N=t??i.length;do{const _=c===0?l[0]??r.initialPageParam:cA(r,o);if(c>0&&_==null)break;o=await w(o,_),c++}while(c<N)}return o};s.options.persister?s.fetchFn=()=>{var y,v;return(v=(y=s.options).persister)==null?void 0:v.call(y,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=d}}}function cA(t,{pages:s,pageParams:n}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,n[r],n):void 0}function Xne(t,{pages:s,pageParams:n}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,n[0],n):void 0}var wp,Zi,qr,vd,el,Vo,e5,Zne=(e5=class extends vI{constructor(s){super();Yt(this,el);Yt(this,wp);Yt(this,Zi);Yt(this,qr);Yt(this,vd);St(this,wp,s.client),this.mutationId=s.mutationId,St(this,qr,s.mutationCache),St(this,Zi,[]),this.state=s.state||jI(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){xe(this,Zi).includes(s)||(xe(this,Zi).push(s),this.clearGcTimeout(),xe(this,qr).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){St(this,Zi,xe(this,Zi).filter(n=>n!==s)),this.scheduleGc(),xe(this,qr).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){xe(this,Zi).length||(this.state.status==="pending"?this.scheduleGc():xe(this,qr).remove(this))}continue(){var s;return((s=xe(this,vd))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,o,c,d,u,m,h,p,x,y,v,j,w,N,_,P,A,E,C,R;const n=()=>{bs(this,el,Vo).call(this,{type:"continue"})},r={client:xe(this,wp),meta:this.options.meta,mutationKey:this.options.mutationKey};St(this,vd,xI({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,k)=>{bs(this,el,Vo).call(this,{type:"failed",failureCount:O,error:k})},onPause:()=>{bs(this,el,Vo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,qr).canRun(this)}));const a=this.state.status==="pending",i=!xe(this,vd).canStart();try{if(a)n();else{bs(this,el,Vo).call(this,{type:"pending",variables:s,isPaused:i}),await((o=(l=xe(this,qr).config).onMutate)==null?void 0:o.call(l,s,this,r));const k=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,r));k!==this.state.context&&bs(this,el,Vo).call(this,{type:"pending",context:k,variables:s,isPaused:i})}const O=await xe(this,vd).start();return await((m=(u=xe(this,qr).config).onSuccess)==null?void 0:m.call(u,O,s,this.state.context,this,r)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,O,s,this.state.context,r)),await((y=(x=xe(this,qr).config).onSettled)==null?void 0:y.call(x,O,null,this.state.variables,this.state.context,this,r)),await((j=(v=this.options).onSettled)==null?void 0:j.call(v,O,null,s,this.state.context,r)),bs(this,el,Vo).call(this,{type:"success",data:O}),O}catch(O){try{throw await((N=(w=xe(this,qr).config).onError)==null?void 0:N.call(w,O,s,this.state.context,this,r)),await((P=(_=this.options).onError)==null?void 0:P.call(_,O,s,this.state.context,r)),await((E=(A=xe(this,qr).config).onSettled)==null?void 0:E.call(A,void 0,O,this.state.variables,this.state.context,this,r)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,O,s,this.state.context,r)),O}finally{bs(this,el,Vo).call(this,{type:"error",error:O})}}finally{xe(this,qr).runNext(this)}}},wp=new WeakMap,Zi=new WeakMap,qr=new WeakMap,vd=new WeakMap,el=new WeakSet,Vo=function(s){const n=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qn.batch(()=>{xe(this,Zi).forEach(r=>{r.onMutationUpdate(s)}),xe(this,qr).notify({mutation:this,type:"updated",action:s})})},e5);function jI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vl,ki,Np,t5,ere=(t5=class extends em{constructor(s={}){super();Yt(this,Vl);Yt(this,ki);Yt(this,Np);this.config=s,St(this,Vl,new Set),St(this,ki,new Map),St(this,Np,0)}build(s,n,r){const a=new Zne({client:s,mutationCache:this,mutationId:++gx(this,Np)._,options:s.defaultMutationOptions(n),state:r});return this.add(a),a}add(s){xe(this,Vl).add(s);const n=Tx(s);if(typeof n=="string"){const r=xe(this,ki).get(n);r?r.push(s):xe(this,ki).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(xe(this,Vl).delete(s)){const n=Tx(s);if(typeof n=="string"){const r=xe(this,ki).get(n);if(r)if(r.length>1){const a=r.indexOf(s);a!==-1&&r.splice(a,1)}else r[0]===s&&xe(this,ki).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=Tx(s);if(typeof n=="string"){const r=xe(this,ki).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var r;const n=Tx(s);if(typeof n=="string"){const a=(r=xe(this,ki).get(n))==null?void 0:r.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qn.batch(()=>{xe(this,Vl).forEach(s=>{this.notify({type:"removed",mutation:s})}),xe(this,Vl).clear(),xe(this,ki).clear()})}getAll(){return Array.from(xe(this,Vl))}find(s){const n={exact:!0,...s};return this.getAll().find(r=>tA(n,r))}findAll(s={}){return this.getAll().filter(n=>tA(s,n))}notify(s){Qn.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Qn.batch(()=>Promise.all(s.map(n=>n.continue().catch($r))))}},Vl=new WeakMap,ki=new WeakMap,Np=new WeakMap,t5);function Tx(t){var s;return(s=t.options.scope)==null?void 0:s.id}var Wl,Zo,oa,Hl,so,p0,R1,s5,tre=(s5=class extends em{constructor(n,r){super();Yt(this,so);Yt(this,Wl);Yt(this,Zo);Yt(this,oa);Yt(this,Hl);St(this,Wl,n),this.setOptions(r),this.bindMethods(),bs(this,so,p0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=xe(this,Wl).defaultMutationOptions(n),z0(this.options,r)||xe(this,Wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xe(this,oa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Od(r.mutationKey)!==Od(this.options.mutationKey)?this.reset():((a=xe(this,oa))==null?void 0:a.state.status)==="pending"&&xe(this,oa).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=xe(this,oa))==null||n.removeObserver(this)}onMutationUpdate(n){bs(this,so,p0).call(this),bs(this,so,R1).call(this,n)}getCurrentResult(){return xe(this,Zo)}reset(){var n;(n=xe(this,oa))==null||n.removeObserver(this),St(this,oa,void 0),bs(this,so,p0).call(this),bs(this,so,R1).call(this)}mutate(n,r){var a;return St(this,Hl,r),(a=xe(this,oa))==null||a.removeObserver(this),St(this,oa,xe(this,Wl).getMutationCache().build(xe(this,Wl),this.options)),xe(this,oa).addObserver(this),xe(this,oa).execute(n)}},Wl=new WeakMap,Zo=new WeakMap,oa=new WeakMap,Hl=new WeakMap,so=new WeakSet,p0=function(){var r;const n=((r=xe(this,oa))==null?void 0:r.state)??jI();St(this,Zo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},R1=function(n){Qn.batch(()=>{var r,a,i,l,o,c,d,u;if(xe(this,Hl)&&this.hasListeners()){const m=xe(this,Zo).variables,h=xe(this,Zo).context,p={client:xe(this,Wl),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(r=xe(this,Hl)).onSuccess)==null||a.call(r,n.data,m,h,p),(l=(i=xe(this,Hl)).onSettled)==null||l.call(i,n.data,null,m,h,p)):(n==null?void 0:n.type)==="error"&&((c=(o=xe(this,Hl)).onError)==null||c.call(o,n.error,m,h,p),(u=(d=xe(this,Hl)).onSettled)==null||u.call(d,void 0,n.error,m,h,p))}this.listeners.forEach(m=>{m(xe(this,Zo))})})},s5),tl,n5,sre=(n5=class extends em{constructor(s={}){super();Yt(this,tl);this.config=s,St(this,tl,new Map)}build(s,n,r){const a=n.queryKey,i=n.queryHash??B2(a,n);let l=this.get(i);return l||(l=new Gne({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){xe(this,tl).has(s.queryHash)||(xe(this,tl).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=xe(this,tl).get(s.queryHash);n&&(s.destroy(),n===s&&xe(this,tl).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Qn.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return xe(this,tl).get(s)}getAll(){return[...xe(this,tl).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>eA(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>eA(s,r)):n}notify(s){Qn.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},tl=new WeakMap,n5),On,ec,tc,xh,vh,sc,yh,bh,r5,nre=(r5=class{constructor(t={}){Yt(this,On);Yt(this,ec);Yt(this,tc);Yt(this,xh);Yt(this,vh);Yt(this,sc);Yt(this,yh);Yt(this,bh);St(this,On,t.queryCache||new sre),St(this,ec,t.mutationCache||new ere),St(this,tc,t.defaultOptions||{}),St(this,xh,new Map),St(this,vh,new Map),St(this,sc,0)}mount(){gx(this,sc)._++,xe(this,sc)===1&&(St(this,yh,$2.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,On).onFocus())})),St(this,bh,V0.subscribe(async t=>{t&&(await this.resumePausedMutations(),xe(this,On).onOnline())})))}unmount(){var t,s;gx(this,sc)._--,xe(this,sc)===0&&((t=xe(this,yh))==null||t.call(this),St(this,yh,void 0),(s=xe(this,bh))==null||s.call(this),St(this,bh,void 0))}isFetching(t){return xe(this,On).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return xe(this,ec).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=xe(this,On).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=xe(this,On).build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ic(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return xe(this,On).findAll(t).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(t,s,n){const r=this.defaultQueryOptions({queryKey:t}),a=xe(this,On).get(r.queryHash),i=a==null?void 0:a.state.data,l=Lne(s,i);if(l!==void 0)return xe(this,On).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,s,n){return Qn.batch(()=>xe(this,On).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=xe(this,On).get(s.queryHash))==null?void 0:n.state}removeQueries(t){const s=xe(this,On);Qn.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=xe(this,On);return Qn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},r=Qn.batch(()=>xe(this,On).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(t,s={}){return Qn.batch(()=>(xe(this,On).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=Qn.batch(()=>xe(this,On).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch($r)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($r)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=xe(this,On).build(this,s);return n.isStaleByTime(ic(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($r).catch($r)}fetchInfiniteQuery(t){return t.behavior=oA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($r).catch($r)}ensureInfiniteQueryData(t){return t.behavior=oA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return V0.isOnline()?xe(this,ec).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,On)}getMutationCache(){return xe(this,ec)}getDefaultOptions(){return xe(this,tc)}setDefaultOptions(t){St(this,tc,t)}setQueryDefaults(t,s){xe(this,xh).set(Od(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...xe(this,xh).values()],n={};return s.forEach(r=>{Gf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,s){xe(this,vh).set(Od(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...xe(this,vh).values()],n={};return s.forEach(r=>{Gf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...xe(this,tc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=B2(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===q2&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...xe(this,tc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){xe(this,On).clear(),xe(this,ec).clear()}},On=new WeakMap,ec=new WeakMap,tc=new WeakMap,xh=new WeakMap,vh=new WeakMap,sc=new WeakMap,yh=new WeakMap,bh=new WeakMap,r5),wI=b.createContext(void 0),Jt=t=>{const s=b.useContext(wI);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},rre=({client:t,children:s})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(wI.Provider,{value:t,children:s})),NI=b.createContext(!1),are=()=>b.useContext(NI);NI.Provider;function ire(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var lre=b.createContext(ire()),ore=()=>b.useContext(lre),cre=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},dre=t=>{b.useEffect(()=>{t.clearReset()},[t])},ure=({result:t,errorResetBoundary:s,throwOnError:n,query:r,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||pI(n,[t.error,r])),hre=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},mre=(t,s)=>t.isLoading&&t.isFetching&&!s,fre=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,dA=(t,s,n)=>s.fetchOptimistic(t).catch(()=>{n.clearReset()});function pre(t,s,n){var m,h,p,x,y;const r=are(),a=ore(),i=Jt(),l=i.defaultQueryOptions(t);(h=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||h.call(m,l),l._optimisticResults=r?"isRestoring":"optimistic",hre(l),cre(l,a),dre(a);const o=!i.getQueryCache().get(l.queryHash),[c]=b.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),u=!r&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(v=>{const j=u?c.subscribe(Qn.batchCalls(v)):$r;return c.updateResult(),j},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(l)},[l,c]),fre(l,d))throw dA(l,c,a);if(ure({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((x=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,l,d),l.experimental_prefetchInRender&&!Ad&&mre(d,r)){const v=o?dA(l,c,a):(y=i.getQueryCache().get(l.queryHash))==null?void 0:y.promise;v==null||v.catch($r).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function me(t,s){return pre(t,Yne)}function Ie(t,s){const n=Jt(),[r]=b.useState(()=>new tre(n,t));b.useEffect(()=>{r.setOptions(t)},[r,t]);const a=b.useSyncExternalStore(b.useCallback(l=>r.subscribe(Qn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((l,o)=>{r.mutate(l,o).catch($r)},[r]);if(a.error&&pI(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Qt=b.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:et("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));Qt.displayName="Textarea";var gre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xre=gre.reduce((t,s)=>{const n=f2(`Primitive.${s}`),r=b.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{}),vre="Label",_I=b.forwardRef((t,s)=>e.jsx(xre.label,{...t,ref:s,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_I.displayName=vre;var SI=_I;const yre=zh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=b.forwardRef(({className:t,...s},n)=>e.jsx(SI,{ref:n,className:et(yre(),t),...s}));Z.displayName=SI.displayName;function Xv(t){const s=b.useRef({value:t,previous:t});return b.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Zv="Checkbox",[bre]=Er(Zv),[jre,z2]=bre(Zv);function wre(t){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:l,name:o,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=t,[h,p]=ui({prop:n,defaultProp:a??!1,onChange:c,caller:Zv}),[x,y]=b.useState(null),[v,j]=b.useState(null),w=b.useRef(!1),N=x?!!l||!!x.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:x,setControl:y,name:o,form:l,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:lc(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:j};return e.jsx(jre,{scope:s,..._,children:Nre(m)?m(_):r})}var CI="CheckboxTrigger",kI=b.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:l,disabled:o,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=z2(CI,t),y=ys(a,u),v=b.useRef(c);return b.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const w=()=>m(v.current);return j.addEventListener("reset",w),()=>j.removeEventListener("reset",w)}},[i,m]),e.jsx(zt.button,{type:"button",role:"checkbox","aria-checked":lc(c)?"mixed":c,"aria-required":d,"data-state":OI(c),"data-disabled":o?"":void 0,disabled:o,value:l,...r,ref:y,onKeyDown:jt(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:jt(n,j=>{m(w=>lc(w)?!0:!w),x&&p&&(h.current=j.isPropagationStopped(),h.current||j.stopPropagation())})})});kI.displayName=CI;var V2=b.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...m}=t;return e.jsx(wre,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:o,required:l,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>e.jsxs(e.Fragment,{children:[e.jsx(kI,{...m,ref:s,__scopeCheckbox:n}),h&&e.jsx(AI,{__scopeCheckbox:n})]})})});V2.displayName=Zv;var EI="CheckboxIndicator",TI=b.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,i=z2(EI,n);return e.jsx(Tr,{present:r||lc(i.checked)||i.checked===!0,children:e.jsx(zt.span,{"data-state":OI(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});TI.displayName=EI;var PI="CheckboxBubbleInput",AI=b.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:o,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=z2(PI,t),x=ys(n,p),y=Xv(i),v=Lv(r);b.useEffect(()=>{const w=h;if(!w)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,A=!a.current;if(y!==i&&P){const E=new Event("click",{bubbles:A});w.indeterminate=lc(i),P.call(w,lc(i)?!1:i),w.dispatchEvent(E)}},[h,y,i,a]);const j=b.useRef(lc(i)?!1:i);return e.jsx(zt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:d,value:u,form:m,...s,tabIndex:-1,ref:x,style:{...s.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});AI.displayName=PI;function Nre(t){return typeof t=="function"}function lc(t){return t==="indeterminate"}function OI(t){return lc(t)?"indeterminate":t?"checked":"unchecked"}const Aa=b.forwardRef(({className:t,...s},n)=>e.jsx(V2,{ref:n,className:et("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(TI,{className:et("flex items-center justify-center text-current"),children:e.jsx(Tp,{className:"h-4 w-4"})})}));Aa.displayName=V2.displayName;function uA(t){const s=_re(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(Cre);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function _re(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=Ere(a),o=kre(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Sre=Symbol("radix.slottable");function Cre(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Sre}function kre(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Ere(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function W2(t){const s=t+"CollectionProvider",[n,r]=Er(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:v,children:j}=y,w=Be.useRef(null),N=Be.useRef(new Map).current;return e.jsx(a,{scope:v,itemMap:N,collectionRef:w,children:j})};l.displayName=s;const o=t+"CollectionSlot",c=uA(o),d=Be.forwardRef((y,v)=>{const{scope:j,children:w}=y,N=i(o,j),_=ys(v,N.collectionRef);return e.jsx(c,{ref:_,children:w})});d.displayName=o;const u=t+"CollectionItemSlot",m="data-radix-collection-item",h=uA(u),p=Be.forwardRef((y,v)=>{const{scope:j,children:w,...N}=y,_=Be.useRef(null),P=ys(v,_),A=i(u,j);return Be.useEffect(()=>(A.itemMap.set(_,{ref:_,...N}),()=>void A.itemMap.delete(_))),e.jsx(h,{[m]:"",ref:P,children:w})});p.displayName=u;function x(y){const v=i(t+"CollectionConsumer",y);return Be.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(v.itemMap.values()).sort((A,E)=>N.indexOf(A.ref.current)-N.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:l,Slot:d,ItemSlot:p},x,r]}var Tre=b.createContext(void 0);function Vp(t){const s=b.useContext(Tre);return t||s||"ltr"}var Gj="rovingFocusGroup.onEntryFocus",Pre={bubbles:!1,cancelable:!0},Wp="RovingFocusGroup",[F1,MI,Are]=W2(Wp),[Ore,tm]=Er(Wp,[Are]),[Mre,Dre]=Ore(Wp),DI=b.forwardRef((t,s)=>e.jsx(F1.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(F1.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Rre,{...t,ref:s})})}));DI.displayName=Wp;var Rre=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=t,h=b.useRef(null),p=ys(s,h),x=Vp(i),[y,v]=ui({prop:l,defaultProp:o??null,onChange:c,caller:Wp}),[j,w]=b.useState(!1),N=gl(d),_=MI(n),P=b.useRef(!1),[A,E]=b.useState(0);return b.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Gj,N),()=>C.removeEventListener(Gj,N)},[N]),e.jsx(Mre,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:y,onItemFocus:b.useCallback(C=>v(C),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:b.useCallback(()=>E(C=>C-1),[]),children:e.jsx(zt.div,{tabIndex:j||A===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:jt(t.onMouseDown,()=>{P.current=!0}),onFocus:jt(t.onFocus,C=>{const R=!P.current;if(C.target===C.currentTarget&&R&&!j){const O=new CustomEvent(Gj,Pre);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=_().filter(z=>z.focusable),T=k.find(z=>z.active),D=k.find(z=>z.id===y),U=[T,D,...k].filter(Boolean).map(z=>z.ref.current);II(U,u)}}P.current=!1}),onBlur:jt(t.onBlur,()=>w(!1))})})}),RI="RovingFocusGroupItem",FI=b.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...o}=t,c=Xn(),d=i||c,u=Dre(RI,n),m=u.currentTabStopId===d,h=MI(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:y}=u;return b.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),e.jsx(F1.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:e.jsx(zt.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:s,onMouseDown:jt(t.onMouseDown,v=>{r?u.onItemFocus(d):v.preventDefault()}),onFocus:jt(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:jt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const j=Lre(v,u.orientation,u.dir);if(j!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=h().filter(_=>_.focusable).map(_=>_.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const _=N.indexOf(v.currentTarget);N=u.loop?Bre(N,_+1):N.slice(_+1)}setTimeout(()=>II(N))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:y!=null}):l})})});FI.displayName=RI;var Fre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ire(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lre(t,s,n){const r=Ire(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fre[r]}function II(t,s=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function Bre(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var H2=DI,K2=FI,G2="Radio",[qre,LI]=Er(G2),[$re,Ure]=qre(G2),BI=b.forwardRef((t,s)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:d,...u}=t,[m,h]=b.useState(null),p=ys(s,v=>h(v)),x=b.useRef(!1),y=m?d||!!m.closest("form"):!0;return e.jsxs($re,{scope:n,checked:a,disabled:l,children:[e.jsx(zt.button,{type:"button",role:"radio","aria-checked":a,"data-state":zI(a),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:p,onClick:jt(t.onClick,v=>{a||c==null||c(),y&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),y&&e.jsx(UI,{control:m,bubbles:!x.current,name:r,value:o,checked:a,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});BI.displayName=G2;var qI="RadioIndicator",$I=b.forwardRef((t,s)=>{const{__scopeRadio:n,forceMount:r,...a}=t,i=Ure(qI,n);return e.jsx(Tr,{present:r||i.checked,children:e.jsx(zt.span,{"data-state":zI(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});$I.displayName=qI;var zre="RadioBubbleInput",UI=b.forwardRef(({__scopeRadio:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=b.useRef(null),o=ys(l,i),c=Xv(n),d=Lv(s);return b.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const x=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(x)}},[c,n,r]),e.jsx(zt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UI.displayName=zre;function zI(t){return t?"checked":"unchecked"}var Vre=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ey="RadioGroup",[Wre]=Er(ey,[tm,LI]),VI=tm(),WI=LI(),[Hre,Kre]=Wre(ey),HI=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=t,p=VI(n),x=Vp(d),[y,v]=ui({prop:i,defaultProp:a??null,onChange:m,caller:ey});return e.jsx(Hre,{scope:n,name:r,required:l,disabled:o,value:y,onValueChange:v,children:e.jsx(H2,{asChild:!0,...p,orientation:c,dir:x,loop:u,children:e.jsx(zt.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:x,...h,ref:s})})})});HI.displayName=ey;var KI="RadioGroupItem",GI=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,disabled:r,...a}=t,i=Kre(KI,n),l=i.disabled||r,o=VI(n),c=WI(n),d=b.useRef(null),u=ys(s,d),m=i.value===a.value,h=b.useRef(!1);return b.useEffect(()=>{const p=y=>{Vre.includes(y.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),e.jsx(K2,{asChild:!0,...o,focusable:!l,active:m,children:e.jsx(BI,{disabled:l,required:i.required,checked:m,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:jt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:jt(a.onFocus,()=>{var p;h.current&&((p=d.current)==null||p.click())})})})});GI.displayName=KI;var Gre="RadioGroupIndicator",YI=b.forwardRef((t,s)=>{const{__scopeRadioGroup:n,...r}=t,a=WI(n);return e.jsx($I,{...a,...r,ref:s})});YI.displayName=Gre;var QI=HI,JI=GI,Yre=YI;const Yf=b.forwardRef(({className:t,...s},n)=>e.jsx(QI,{className:et("grid gap-2",t),...s,ref:n}));Yf.displayName=QI.displayName;const Gl=b.forwardRef(({className:t,...s},n)=>e.jsx(JI,{ref:n,className:et("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(Yre,{className:"flex items-center justify-center",children:e.jsx(k5,{className:"h-3.5 w-3.5 fill-primary"})})}));Gl.displayName=JI.displayName;function hA(t,[s,n]){return Math.min(n,Math.max(s,t))}function Qre(t){const s=Jre(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(Zre);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function Jre(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=tae(a),o=eae(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Xre=Symbol("radix.slottable");function Zre(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xre}function eae(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function tae(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sae=[" ","Enter","ArrowUp","ArrowDown"],nae=[" ","Enter"],Md="Select",[ty,sy,rae]=W2(Md),[sm]=Er(Md,[rae,jc]),ny=jc(),[aae,wc]=sm(Md),[iae,lae]=sm(Md),XI=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:x}=t,y=ny(s),[v,j]=b.useState(null),[w,N]=b.useState(null),[_,P]=b.useState(!1),A=Vp(d),[E,C]=ui({prop:r,defaultProp:a??!1,onChange:i,caller:Md}),[R,O]=ui({prop:l,defaultProp:o,onChange:c,caller:Md}),k=b.useRef(null),T=v?x||!!v.closest("form"):!0,[D,F]=b.useState(new Set),U=Array.from(D).map(z=>z.props.value).join(";");return e.jsx(Bv,{...y,children:e.jsxs(aae,{required:p,scope:s,trigger:v,onTriggerChange:j,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:_,onValueNodeHasChildrenChange:P,contentId:Xn(),value:R,onValueChange:O,open:E,onOpenChange:C,dir:A,triggerPointerDownPosRef:k,disabled:h,children:[e.jsx(ty.Provider,{scope:s,children:e.jsx(iae,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(z=>{F(H=>new Set(H).add(z))},[]),onNativeOptionRemove:b.useCallback(z=>{F(H=>{const B=new Set(H);return B.delete(z),B})},[]),children:n})}),T?e.jsxs(wL,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:R,onChange:z=>O(z.target.value),disabled:h,form:x,children:[R===void 0?e.jsx("option",{value:""}):null,Array.from(D)]},U):null]})})};XI.displayName=Md;var ZI="SelectTrigger",eL=b.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=ny(n),l=wc(ZI,n),o=l.disabled||r,c=ys(s,l.onTriggerChange),d=sy(n),u=b.useRef("touch"),[m,h,p]=_L(y=>{const v=d().filter(N=>!N.disabled),j=v.find(N=>N.value===l.value),w=SL(v,y,j);w!==void 0&&l.onValueChange(w.value)}),x=y=>{o||(l.onOpenChange(!0),p()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(Lp,{asChild:!0,...i,children:e.jsx(zt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":NL(l.value)?"":void 0,...a,ref:c,onClick:jt(a.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&x(y)}),onPointerDown:jt(a.onPointerDown,y=>{u.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:jt(a.onKeyDown,y=>{const v=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(v&&y.key===" ")&&sae.includes(y.key)&&(x(),y.preventDefault())})})})});eL.displayName=ZI;var tL="SelectValue",sL=b.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:l="",...o}=t,c=wc(tL,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=ys(s,c.onValueNodeChange);return gr(()=>{d(u)},[d,u]),e.jsx(zt.span,{...o,ref:m,style:{pointerEvents:"none"},children:NL(c.value)?e.jsx(e.Fragment,{children:l}):i})});sL.displayName=tL;var oae="SelectIcon",nL=b.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx(zt.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});nL.displayName=oae;var cae="SelectPortal",rL=t=>e.jsx(Kh,{asChild:!0,...t});rL.displayName=cae;var Dd="SelectContent",aL=b.forwardRef((t,s)=>{const n=wc(Dd,t.__scopeSelect),[r,a]=b.useState();if(gr(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?qd.createPortal(e.jsx(iL,{scope:t.__scopeSelect,children:e.jsx(ty.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(lL,{...t,ref:s})});aL.displayName=Dd;var Ni=10,[iL,Nc]=sm(Dd),dae="SelectContentImpl",uae=Qre("SelectContent.RemoveScroll"),lL=b.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v,...j}=t,w=wc(Dd,n),[N,_]=b.useState(null),[P,A]=b.useState(null),E=ys(s,K=>_(K)),[C,R]=b.useState(null),[O,k]=b.useState(null),T=sy(n),[D,F]=b.useState(!1),U=b.useRef(!1);b.useEffect(()=>{if(N)return Tv(N)},[N]),Cv();const z=b.useCallback(K=>{const[ae,...se]=T().map(oe=>oe.ref.current),[de]=se.slice(-1),ue=document.activeElement;for(const oe of K)if(oe===ue||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===ae&&P&&(P.scrollTop=0),oe===de&&P&&(P.scrollTop=P.scrollHeight),oe==null||oe.focus(),document.activeElement!==ue))return},[T,P]),H=b.useCallback(()=>z([C,N]),[z,C,N]);b.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:B,triggerPointerDownPosRef:$}=w;b.useEffect(()=>{if(N){let K={x:0,y:0};const ae=de=>{var ue,oe;K={x:Math.abs(Math.round(de.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(de.pageY)-(((oe=$.current)==null?void 0:oe.y)??0))}},se=de=>{K.x<=10&&K.y<=10?de.preventDefault():N.contains(de.target)||B(!1),document.removeEventListener("pointermove",ae),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",se,{capture:!0})}}},[N,B,$]),b.useEffect(()=>{const K=()=>B(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[B]);const[I,L]=_L(K=>{const ae=T().filter(ue=>!ue.disabled),se=ae.find(ue=>ue.ref.current===document.activeElement),de=SL(ae,K,se);de&&setTimeout(()=>de.ref.current.focus())}),V=b.useCallback((K,ae,se)=>{const de=!U.current&&!se;(w.value!==void 0&&w.value===ae||de)&&(R(K),de&&(U.current=!0))},[w.value]),q=b.useCallback(()=>N==null?void 0:N.focus(),[N]),J=b.useCallback((K,ae,se)=>{const de=!U.current&&!se;(w.value!==void 0&&w.value===ae||de)&&k(K)},[w.value]),Q=r==="popper"?I1:oL,Y=Q===I1?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:y,avoidCollisions:v}:{};return e.jsx(iL,{scope:n,content:N,viewport:P,onViewportChange:A,itemRefCallback:V,selectedItem:C,onItemLeave:q,itemTextRefCallback:J,focusSelectedItem:H,selectedItemText:O,position:r,isPositioned:D,searchRef:I,children:e.jsx(Dp,{as:uae,allowPinchZoom:!0,children:e.jsx(Mp,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:jt(a,K=>{var ae;(ae=w.trigger)==null||ae.focus({preventScroll:!0}),K.preventDefault()}),children:e.jsx(Hh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...j,...Y,onPlaced:()=>F(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:jt(j.onKeyDown,K=>{const ae=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ae&&K.key.length===1&&L(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let de=T().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(K.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ue=K.target,oe=de.indexOf(ue);de=de.slice(oe+1)}setTimeout(()=>z(de)),K.preventDefault()}})})})})})})});lL.displayName=dae;var hae="SelectItemAlignedPosition",oL=b.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=wc(Dd,n),l=Nc(Dd,n),[o,c]=b.useState(null),[d,u]=b.useState(null),m=ys(s,E=>u(E)),h=sy(n),p=b.useRef(!1),x=b.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:j,focusSelectedItem:w}=l,N=b.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&y&&v&&j){const E=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),O=j.getBoundingClientRect();if(i.dir!=="rtl"){const ue=O.left-C.left,oe=R.left-ue,pe=E.left-oe,je=E.width+pe,Ne=Math.max(je,C.width),qe=window.innerWidth-Ni,$e=hA(oe,[Ni,Math.max(Ni,qe-Ne)]);o.style.minWidth=je+"px",o.style.left=$e+"px"}else{const ue=C.right-O.right,oe=window.innerWidth-R.right-ue,pe=window.innerWidth-E.right-oe,je=E.width+pe,Ne=Math.max(je,C.width),qe=window.innerWidth-Ni,$e=hA(oe,[Ni,Math.max(Ni,qe-Ne)]);o.style.minWidth=je+"px",o.style.right=$e+"px"}const k=h(),T=window.innerHeight-Ni*2,D=y.scrollHeight,F=window.getComputedStyle(d),U=parseInt(F.borderTopWidth,10),z=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),B=parseInt(F.paddingBottom,10),$=U+z+D+B+H,I=Math.min(v.offsetHeight*5,$),L=window.getComputedStyle(y),V=parseInt(L.paddingTop,10),q=parseInt(L.paddingBottom,10),J=E.top+E.height/2-Ni,Q=T-J,Y=v.offsetHeight/2,K=v.offsetTop+Y,ae=U+z+K,se=$-ae;if(ae<=J){const ue=k.length>0&&v===k[k.length-1].ref.current;o.style.bottom="0px";const oe=d.clientHeight-y.offsetTop-y.offsetHeight,pe=Math.max(Q,Y+(ue?q:0)+oe+H),je=ae+pe;o.style.height=je+"px"}else{const ue=k.length>0&&v===k[0].ref.current;o.style.top="0px";const pe=Math.max(J,U+y.offsetTop+(ue?V:0)+Y)+se;o.style.height=pe+"px",y.scrollTop=ae-J+y.offsetTop}o.style.margin=`${Ni}px 0`,o.style.minHeight=I+"px",o.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,o,d,y,v,j,i.dir,r]);gr(()=>N(),[N]);const[_,P]=b.useState();gr(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const A=b.useCallback(E=>{E&&x.current===!0&&(N(),w==null||w(),x.current=!1)},[N,w]);return e.jsx(fae,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(zt.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});oL.displayName=hae;var mae="SelectPopperPosition",I1=b.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ni,...i}=t,l=ny(n);return e.jsx(qv,{...l,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I1.displayName=mae;var[fae,Y2]=sm(Dd,{}),L1="SelectViewport",cL=b.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,i=Nc(L1,n),l=Y2(L1,n),o=ys(s,i.onViewportChange),c=b.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(ty.Slot,{scope:n,children:e.jsx(zt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:jt(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=l;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const x=window.innerHeight-Ni*2,y=parseFloat(m.style.minHeight),v=parseFloat(m.style.height),j=Math.max(y,v);if(j<x){const w=j+p,N=Math.min(x,w),_=w-N;m.style.height=N+"px",m.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});cL.displayName=L1;var dL="SelectGroup",[pae,gae]=sm(dL),xae=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Xn();return e.jsx(pae,{scope:n,id:a,children:e.jsx(zt.div,{role:"group","aria-labelledby":a,...r,ref:s})})});xae.displayName=dL;var uL="SelectLabel",hL=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=gae(uL,n);return e.jsx(zt.div,{id:a.id,...r,ref:s})});hL.displayName=uL;var W0="SelectItem",[vae,mL]=sm(W0),fL=b.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...l}=t,o=wc(W0,n),c=Nc(W0,n),d=o.value===r,[u,m]=b.useState(i??""),[h,p]=b.useState(!1),x=ys(s,w=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,w,r,a)}),y=Xn(),v=b.useRef("touch"),j=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(vae,{scope:n,value:r,disabled:a,textId:y,isSelected:d,onItemTextChange:b.useCallback(w=>{m(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:e.jsx(ty.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:e.jsx(zt.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:x,onFocus:jt(l.onFocus,()=>p(!0)),onBlur:jt(l.onBlur,()=>p(!1)),onClick:jt(l.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:jt(l.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:jt(l.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:jt(l.onPointerMove,w=>{var N;v.current=w.pointerType,a?(N=c.onItemLeave)==null||N.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(l.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:jt(l.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(nae.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});fL.displayName=W0;var yf="SelectItemText",pL=b.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,l=wc(yf,n),o=Nc(yf,n),c=mL(yf,n),d=lae(yf,n),[u,m]=b.useState(null),h=ys(s,j=>m(j),c.onItemTextChange,j=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,j,c.value,c.disabled)}),p=u==null?void 0:u.textContent,x=b.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=d;return gr(()=>(y(x),()=>v(x)),[y,v,x]),e.jsxs(e.Fragment,{children:[e.jsx(zt.span,{id:c.textId,...i,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?qd.createPortal(i.children,l.valueNode):null]})});pL.displayName=yf;var gL="SelectItemIndicator",xL=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return mL(gL,n).isSelected?e.jsx(zt.span,{"aria-hidden":!0,...r,ref:s}):null});xL.displayName=gL;var B1="SelectScrollUpButton",vL=b.forwardRef((t,s)=>{const n=Nc(B1,t.__scopeSelect),r=Y2(B1,t.__scopeSelect),[a,i]=b.useState(!1),l=ys(s,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(bL,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});vL.displayName=B1;var q1="SelectScrollDownButton",yL=b.forwardRef((t,s)=>{const n=Nc(q1,t.__scopeSelect),r=Y2(q1,t.__scopeSelect),[a,i]=b.useState(!1),l=ys(s,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?e.jsx(bL,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});yL.displayName=q1;var bL=b.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,i=Nc("SelectScrollButton",n),l=b.useRef(null),o=sy(n),c=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),gr(()=>{var u;const d=o().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),e.jsx(zt.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:jt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:jt(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:jt(a.onPointerLeave,()=>{c()})})}),yae="SelectSeparator",jL=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(zt.div,{"aria-hidden":!0,...r,ref:s})});jL.displayName=yae;var $1="SelectArrow",bae=b.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=ny(n),i=wc($1,n),l=Nc($1,n);return i.open&&l.position==="popper"?e.jsx($v,{...a,...r,ref:s}):null});bae.displayName=$1;var jae="SelectBubbleInput",wL=b.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=b.useRef(null),i=ys(r,a),l=Xv(s);return b.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("change",{bubbles:!0});u.call(o,s),o.dispatchEvent(m)}},[l,s]),e.jsx(zt.select,{...n,style:{...bF,...n.style},ref:i,defaultValue:s})});wL.displayName=jae;function NL(t){return t===""||t===void 0}function _L(t){const s=gl(t),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(l=>{const o=n.current+l;s(o),(function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(o)},[s]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function SL(t,s,n){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let l=wae(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==n));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function wae(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var Nae=XI,CL=eL,_ae=sL,Sae=nL,Cae=rL,kL=aL,kae=cL,EL=hL,TL=fL,Eae=pL,Tae=xL,PL=vL,AL=yL,OL=jL;const Ge=Nae,Je=_ae,Ve=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(CL,{ref:r,className:et("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(Sae,{asChild:!0,children:e.jsx(Vr,{className:"h-4 w-4 opacity-50"})})]}));Ve.displayName=CL.displayName;const ML=b.forwardRef(({className:t,...s},n)=>e.jsx(PL,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Nv,{className:"h-4 w-4"})}));ML.displayName=PL.displayName;const DL=b.forwardRef(({className:t,...s},n)=>e.jsx(AL,{ref:n,className:et("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Vr,{className:"h-4 w-4"})}));DL.displayName=AL.displayName;const We=b.forwardRef(({className:t,children:s,position:n="popper",...r},a)=>e.jsx(Cae,{children:e.jsxs(kL,{ref:a,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(ML,{}),e.jsx(kae,{className:et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(DL,{})]})}));We.displayName=kL.displayName;const Pae=b.forwardRef(({className:t,...s},n)=>e.jsx(EL,{ref:n,className:et("px-2 py-1.5 text-sm font-semibold",t),...s}));Pae.displayName=EL.displayName;const re=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(TL,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tae,{children:e.jsx(Tp,{className:"h-4 w-4"})})}),e.jsx(Eae,{children:s})]}));re.displayName=TL.displayName;const Aae=b.forwardRef(({className:t,...s},n)=>e.jsx(OL,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",t),...s}));Aae.displayName=OL.displayName;function kh({field:t,value:s,onChange:n,memberInfo:r,organizationInfo:a}){const[i,l]=b.useState(!1),[o,c]=b.useState("");b.useEffect(()=>{if(!r)return;let u=null;switch(t.type){case"user_name":u=`${r.first_name||""} ${r.last_name||""}`.trim();break;case"user_email":u=r.email||"";break;case"user_organization":u=(a==null?void 0:a.name)||"";break;case"user_job_title":u=r.job_title||"";break}u&&!s&&n(u)},[t.type,t.id,r==null?void 0:r.first_name,r==null?void 0:r.last_name,r==null?void 0:r.email,r==null?void 0:r.job_title,a==null?void 0:a.name,s]),b.useEffect(()=>{t.type==="select"&&t.allow_other&&s&&!(t.options||[]).includes(s)&&s!==""&&(l(!0),c(s))},[]);const d=()=>{if(["user_name","user_email","user_organization","user_job_title"].includes(t.type))return e.jsx(he,{type:"text",value:s||"",readOnly:!0,className:"bg-slate-50 cursor-not-allowed",placeholder:t.placeholder||"Auto-populated from your profile"});switch(t.type){case"text":case"email":case"tel":case"number":return e.jsx(he,{type:t.type,value:s||"",onChange:u=>n(u.target.value),placeholder:t.placeholder,required:t.required});case"textarea":return e.jsx(Qt,{value:s||"",onChange:u=>n(u.target.value),placeholder:t.placeholder,required:t.required,rows:4});case"date":case"time":return e.jsx(he,{type:t.type,value:s||"",onChange:u=>n(u.target.value),required:t.required});case"select":return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Ge,{value:i?"other":s||"",onValueChange:u=>{u==="other"?(l(!0),n("")):(l(!1),c(""),n(u))},children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:t.placeholder||"Select an option"})}),e.jsxs(We,{children:[(t.options||[]).map((u,m)=>e.jsx(re,{value:u,children:u},m)),t.allow_other&&e.jsx(re,{value:"other",children:"Other"})]})]}),i&&e.jsx(he,{type:"text",value:o,onChange:u=>{c(u.target.value),n(u.target.value)},placeholder:"Please specify...",className:"mt-2"})]});case"radio":return e.jsx(Yf,{value:s||"",onValueChange:n,children:(t.options||[]).map((u,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gl,{value:u,id:`${t.id}-${m}`}),e.jsx(Z,{htmlFor:`${t.id}-${m}`,className:"font-normal",children:u})]},m))});case"checkbox":return e.jsx("div",{className:"space-y-2",children:(t.options||[]).map((u,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Aa,{id:`${t.id}-${m}`,checked:(s||[]).includes(u),onCheckedChange:h=>{const p=s||[];n(h?[...p,u]:p.filter(x=>x!==u))}}),e.jsx(Z,{htmlFor:`${t.id}-${m}`,className:"font-normal",children:u})]},m))});case"file":return e.jsx(he,{type:"file",onChange:u=>{var h;const m=(h=u.target.files)==null?void 0:h[0];m&&n(m.name)},required:t.required});default:return e.jsxs("p",{className:"text-sm text-slate-500",children:["Unsupported field type: ",t.type]})}};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Z,{htmlFor:t.id,children:[t.label,t.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d()]})}function Oae(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let U1=1;class Mae{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const n=this.subscribers.indexOf(s);this.subscribers.splice(n,1)}),this.publish=s=>{this.subscribers.forEach(n=>n(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var n;const{message:r,...a}=s,i=typeof(s==null?void 0:s.id)=="number"||((n=s.id)==null?void 0:n.length)>0?s.id:U1++,l=this.toasts.find(c=>c.id===i),o=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...s,id:i,title:r}),{...c,...s,id:i,dismissible:o,title:r}):c):this.addToast({title:r,...a,dismissible:o,id:i}),i},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:s,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),s),this.message=(s,n)=>this.create({...n,message:s}),this.error=(s,n)=>this.create({...n,message:s,type:"error"}),this.success=(s,n)=>this.create({...n,type:"success",message:s}),this.info=(s,n)=>this.create({...n,type:"info",message:s}),this.warning=(s,n)=>this.create({...n,type:"warning",message:s}),this.loading=(s,n)=>this.create({...n,type:"loading",message:s}),this.promise=(s,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:s,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(s instanceof Function?s():s);let i=r!==void 0,l;const o=a.then(async d=>{if(l=["resolve",d],Be.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(Rae(d)&&!d.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,x=typeof m=="object"&&!Be.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:h,...x})}else if(d instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(d):n.error,h=typeof n.description=="function"?await n.description(d):n.description,x=typeof m=="object"&&!Be.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:h,...x})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(d):n.success,h=typeof n.description=="function"?await n.description(d):n.description,x=typeof m=="object"&&!Be.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:h,...x})}}).catch(async d=>{if(l=["reject",d],n.error!==void 0){i=!1;const u=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,p=typeof u=="object"&&!Be.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:m,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,u)=>o.then(()=>l[0]==="reject"?u(l[1]):d(l[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(s,n)=>{const r=(n==null?void 0:n.id)||U1++;return this.create({jsx:s(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ja=new Mae,Dae=(t,s)=>{const n=(s==null?void 0:s.id)||U1++;return Ja.addToast({title:t,...s,id:n}),n},Rae=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Fae=Dae,Iae=()=>Ja.toasts,Lae=()=>Ja.getActiveToasts(),te=Object.assign(Fae,{success:Ja.success,info:Ja.info,warning:Ja.warning,error:Ja.error,custom:Ja.custom,message:Ja.message,promise:Ja.promise,dismiss:Ja.dismiss,loading:Ja.loading},{getHistory:Iae,getToasts:Lae});Oae("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function RL({location:t="portal",memberInfo:s,organizationInfo:n}){const r=Jt(),[a,i]=b.useState(null),[l,o]=b.useState({}),[c,d]=b.useState(!1),[u,m]=b.useState(0),[h,p]=b.useState(!1),{data:x}=me({queryKey:["member-record",s==null?void 0:s.email],enabled:!!(s!=null&&s.email),staleTime:30*1e3,queryFn:async()=>{const{data:k,error:T}=await supabase.from("Member").select("*").eq("email",s.email).maybeSingle();return T?(console.error("Error loading member record:",T),null):k||null}}),{data:y=[]}=me({queryKey:["floaters",t],staleTime:60*1e3,queryFn:async()=>{const{data:k,error:T}=await supabase.from("Floater").select("*").eq("is_active",!0).or(`display_location.eq.${t},display_location.eq.both`).order("display_order",{ascending:!0});return T?(console.error("Error loading floaters:",T),[]):k||[]}}),{data:v=[]}=me({queryKey:["forms"],staleTime:60*1e3,queryFn:async()=>{const{data:k,error:T}=await supabase.from("Form").select("*");return T?(console.error("Error loading forms:",T),[]):k||[]}}),j=Ie({mutationFn:async({floaterId:k,currentCount:T})=>{const{error:D}=await supabase.from("Floater").update({click_count:(T||0)+1}).eq("id",k);if(D)throw console.error("Error updating floater click_count:",D),D},onSuccess:()=>{r.invalidateQueries({queryKey:["floaters"]})}}),w=Ie({mutationFn:async({formId:k,formName:T,data:D})=>{const F={form_id:k,form_name:T,submission_data:D,submitted_by_email:s==null?void 0:s.email,submitted_by_name:s?`${s.first_name} ${s.last_name}`:void 0},{error:U}=await supabase.from("FormSubmission").insert([F]);if(U)throw console.error("Error creating form submission:",U),U},onSuccess:()=>{p(!0),r.invalidateQueries({queryKey:["forms"]})},onError:()=>{te.error("Failed to submit form")}}),N=async k=>{try{if(j.mutate({floaterId:k.id,currentCount:k.click_count}),k.action_type==="webhook"&&k.webhook_url)await fetch(k.webhook_url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({floater_id:k.id,floater_name:k.name,timestamp:new Date().toISOString(),location:t})});else if(k.action_type==="url"&&k.redirect_url)switch(k.window_target||"new_tab"){case"current":window.location.href=k.redirect_url;break;case"new_tab":window.open(k.redirect_url,"_blank","noopener,noreferrer");break;case"parent":window.parent.location.href=k.redirect_url;break;case"popup":{const D=k.popup_width||800,F=k.popup_height||600,U=(window.screen.width-D)/2,z=(window.screen.height-F)/2;window.open(k.redirect_url,"_blank",`width=${D},height=${F},left=${U},top=${z},resizable=yes,scrollbars=yes`);break}default:window.open(k.redirect_url,"_blank","noopener,noreferrer")}else if(k.action_type==="form"&&k.form_slug){const T=v.find(D=>D.slug===k.form_slug);if(T){if(T.require_authentication&&!s){te.error("Please log in to access this form");return}i(T),o({}),m(0),p(!1)}}}catch(T){console.error("Failed to process floater click:",T)}},_=async k=>{if(k.preventDefault(),!a)return;if(a.fields.filter(F=>F.required).filter(F=>!l[F.id]).length>0){te.error("Please fill in all required fields");return}d(!0);try{await w.mutateAsync({formId:a.id,formName:a.name,data:l})}finally{d(!1)}},P=()=>{if(!a)return;const k=a.fields[u];if(k.required&&!l[k.id]){te.error("This field is required");return}u<a.fields.length-1&&m(u+1)},A=()=>{u>0&&m(u-1)},E=()=>{i(null),o({}),m(0),p(!1)},C=k=>{const T={position:"fixed",zIndex:1e3,cursor:"pointer",width:`${k.width||80}px`,height:`${k.height||80}px`,transition:"transform 0.2s ease"},D=k.offset_x||20,F=k.offset_y||20;switch(k.position){case"bottom-right":T.bottom=`${F}px`,T.right=`${D}px`;break;case"bottom-left":T.bottom=`${F}px`,T.left=`${D}px`;break;case"top-right":T.top=`${F}px`,T.right=`${D}px`;break;case"top-left":T.top=`${F}px`,T.left=`${D}px`;break;default:T.bottom=`${F}px`,T.right=`${D}px`}return T},R=k=>({width:"100%",height:"100%",objectFit:"contain",...(k.show_background??!0)&&{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}}),O=x||s;return y.length===0?null:e.jsxs(e.Fragment,{children:[y.map(k=>e.jsx("div",{style:C(k),onClick:()=>N(k),onMouseEnter:T=>T.currentTarget.style.transform="scale(1.05)",onMouseLeave:T=>T.currentTarget.style.transform="scale(1)",title:k.description||k.name,children:e.jsx("img",{src:k.image_url,alt:k.name,style:R(k)})},k.id)),e.jsx(Ct,{open:!!a,onOpenChange:k=>!k&&E(),children:e.jsx(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a&&e.jsx(e.Fragment,{children:h?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.success_message||"Thank you for your submission!"}),e.jsx(X,{onClick:E,className:"mt-6",children:"Close"})]}):a.layout_type==="card_swipe"?e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.name}),a.description&&e.jsx("p",{className:"text-slate-600",children:a.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.fields.map((k,T)=>e.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${T<=u?"bg-blue-600":"bg-slate-200"}`},T))}),e.jsxs("p",{className:"text-sm text-slate-600 text-center",children:["Question ",u+1," of ",a.fields.length]})]}),e.jsx("div",{className:"min-h-[200px]",children:e.jsx(kh,{field:a.fields[u],value:l[a.fields[u].id],onChange:k=>o(T=>({...T,[a.fields[u].id]:k})),memberInfo:O,organizationInfo:n})}),e.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t mt-6",children:[e.jsxs(X,{type:"button",variant:"outline",onClick:A,disabled:u===0,children:[e.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Previous"]}),u===a.fields.length-1?e.jsx(X,{onClick:_,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.submit_button_text||"Submit"}):e.jsxs(X,{onClick:P,children:["Next",e.jsx(Ss,{className:"w-4 h-4 ml-1"})]})]})]}):e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a.name}),a.description&&e.jsx("p",{className:"text-slate-600",children:a.description})]}),e.jsx("div",{className:"space-y-4",children:a.fields.map(k=>e.jsx(kh,{field:k,value:l[k.id],onChange:T=>o(D=>({...D,[k.id]:T})),memberInfo:O,organizationInfo:n},k.id))}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(X,{type:"button",variant:"outline",onClick:E,disabled:c,children:"Cancel"}),e.jsx(X,{type:"submit",disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):a.submit_button_text||"Submit"})]})]})})})})]})}function La({children:t,currentPageName:s}){const[n,r]=b.useState([]),[a,i]=b.useState(!0),[l,o]=b.useState(!1);return b.useEffect(()=>{(async()=>{if(!s){i(!1);return}try{const u=(await ee.entities.PageBanner.filter({is_active:!0})).filter(m=>m.associated_pages&&m.associated_pages.includes(s)).sort((m,h)=>(m.display_order||0)-(h.display_order||0));r(u)}catch(d){console.error("Failed to fetch banners:",d)}finally{i(!1)}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

            @font-face {
              font-family: 'Degular Medium';
              src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
              font-weight: 500;
              font-style: normal;
              font-display: swap;
            }
            
            h1 {
              font-family: 'Degular Medium', 'Poppins', sans-serif;
            }
            
            .nav-link:hover {
              color: #5C0085 !important;
            }
          `}),e.jsx(Mne,{}),!a&&n.length>0&&e.jsx("div",{className:"w-full",children:n.map(c=>e.jsx(Dne,{banner:c},c.id))}),e.jsx("main",{className:"flex-1",children:t}),e.jsx("footer",{className:"bg-slate-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/6cfe73a57_agcasRoundall.jpg",alt:"AGCAS",className:"w-10 h-10 object-contain"}),e.jsx("h3",{className:"text-xl font-bold",children:"AGCAS"})]}),e.jsx("p",{className:"text-slate-300 mb-4 text-sm",children:"The Association of Graduate Careers Advisory Services represents careers and employability services in higher education across the UK and Ireland."}),e.jsxs(X,{onClick:()=>o(!0),className:"text-white font-bold hover:opacity-90 transition-opacity px-6 py-5 rounded-none mt-4",style:{fontFamily:"Poppins, sans-serif",background:"linear-gradient(to top right, #5C0085, #BA0087, #EE00C3, #FF4229, #FFB000)"},children:["Subscribe to Newsletter",e.jsx(Ur,{className:"ml-0.5 w-5 h-5",strokeWidth:2.5})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(Gt,{to:Te("PublicEvents"),className:"text-slate-300 hover:text-white transition-colors",children:"Events"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("PublicResources"),className:"text-slate-300 hover:text-white transition-colors",children:"Resources"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("PublicArticles"),className:"text-slate-300 hover:text-white transition-colors",children:"Articles"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("JobBoard"),className:"text-slate-300 hover:text-white transition-colors",children:"Job Board"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("PublicAbout"),className:"text-slate-300 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("PublicContact"),className:"text-slate-300 hover:text-white transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx(Gt,{to:Te("Home"),className:"text-slate-300 hover:text-white transition-colors",children:"Member Login"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-3 text-sm text-slate-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"info@graduatefutures.org.uk"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Sv,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"+44 (0)114 251 5750"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Wr,{className:"w-4 h-4 mt-0.5 shrink-0"}),e.jsx("span",{children:"Sheffield, United Kingdom"})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-800 mt-8 pt-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-slate-400",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]}),e.jsxs("div",{className:"flex gap-6 text-sm text-slate-400",children:[e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Accessibility"})]})]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[40px] mx-auto mb-2"})}),e.jsxs("p",{className:"text-xs text-slate-500",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:"#eb008c"},children:"isaasi"})]})]})]})]})}),e.jsx(RL,{location:"public"})]}),e.jsx(Ct,{open:l,onOpenChange:o,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsx(kt,{children:e.jsx(Et,{className:"text-2xl",children:"Subscribe to Our Newsletter"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("p",{className:"text-slate-600",children:"Stay up to date with the latest news, events, and resources from Graduate Futures. Join our community and never miss an important update!"}),e.jsx("div",{className:"w-full",style:{minHeight:"500px"},children:e.jsx("iframe",{src:"https://forms.zohopublic.eu/isaasiagcas1/form/Newsletter/formperma/VRkTs4kbQec4LDCN5z0pRWyTRH7HGIqxhDx-dT35YTI",width:"100%",height:"600",frameBorder:"0",marginHeight:"0",marginWidth:"0",title:"Newsletter Signup Form",className:"rounded-lg",children:"Loading newsletter form..."})})]})]})})]})}function Bae({children:t}){return e.jsxs("div",{className:"flex flex-col min-h-screen bg-white",style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",rel:"stylesheet"}),e.jsx("style",{children:`
          @font-face {
            font-family: 'Degular Medium';
            src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
          }

          body, html {
            font-family: 'Poppins', sans-serif;
          }

          h1 {
            font-family: 'Degular Medium', 'Poppins', sans-serif;
          }
        `}),e.jsx("main",{className:"flex-1",children:t}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-3 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[50px] mx-auto"})}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#eb008c"},children:"isaasi"})," ","-  Copyright ",new Date().getFullYear()===2025?"2025":`2025-${new Date().getFullYear()}`]})]})})]})}function qae(){var o,c,d;const[t,s]=b.useState(0),{data:n=[]}=me({queryKey:["news-ticker-settings"],queryFn:async()=>{const{data:u,error:m}=await supabase.from("SystemSettings").select("setting_key, setting_value").in("setting_key",["news_ticker_count","news_ticker_cycle_seconds","news_ticker_enabled"]);return m?(console.error("Error loading news ticker settings:",m),[]):u||[]},staleTime:300*1e3}),r=((o=n.find(u=>u.setting_key==="news_ticker_enabled"))==null?void 0:o.setting_value)!=="false",a=parseInt((c=n.find(u=>u.setting_key==="news_ticker_count"))==null?void 0:c.setting_value)||3,i=parseInt((d=n.find(u=>u.setting_key==="news_ticker_cycle_seconds"))==null?void 0:d.setting_value)||5,{data:l=[]}=me({queryKey:["latest-news-ticker",a],queryFn:async()=>{const u=new Date().toISOString(),{data:m,error:h}=await supabase.from("NewsPost").select("*").eq("status","published").lte("published_date",u).order("published_date",{ascending:!1}).limit(a);return h?(console.error("Error loading latest news for ticker:",h),[]):m||[]},staleTime:120*1e3,refetchInterval:120*1e3});return b.useEffect(()=>{if(l.length<=1)return;const u=setInterval(()=>{s(m=>(m+1)%l.length)},i*1e3);return()=>clearInterval(u)},[l.length,i]),!r||l.length===0?null:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider shrink-0 bg-white/20 px-2 py-1 rounded",children:"Latest News"}),e.jsx("div",{className:"flex-1 relative h-6 overflow-hidden",children:l.map((u,m)=>e.jsxs(Gt,{to:`${Te("NewsView")}?slug=${u.slug}`,className:"absolute inset-0 flex items-center gap-2 hover:underline transition-all duration-500",style:{transform:`translateY(${(m-t)*100}%)`,opacity:m===t?1:0},children:[e.jsx("span",{className:"truncate",children:u.title}),e.jsx(Ss,{className:"w-4 h-4 shrink-0"})]},u.id))})]})})})}const $ae=t=>t?(...s)=>t(...s):(...s)=>fetch(...s);class Q2 extends Error{constructor(s,n="FunctionsError",r){super(s),this.name=n,this.context=r}}class Uae extends Q2{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class mA extends Q2{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class fA extends Q2{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var z1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(z1||(z1={}));class zae{constructor(s,{headers:n={},customFetch:r,region:a=z1.Any}={}){this.url=s,this.headers=n,this.region=a,this.fetch=$ae(r)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return Wt(this,arguments,void 0,function*(n,r={}){var a;let i,l;try{const{headers:o,method:c,body:d,signal:u,timeout:m}=r;let h={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let y;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let v=u;m&&(l=new AbortController,i=setTimeout(()=>l.abort(),m),u?(v=l.signal,u.addEventListener("abort",()=>l.abort())):v=l.signal);const j=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:v}).catch(P=>{throw new Uae(P)}),w=j.headers.get("x-relay-error");if(w&&w==="true")throw new mA(j);if(!j.ok)throw new fA(j);let N=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return N==="application/json"?_=yield j.json():N==="application/octet-stream"||N==="application/pdf"?_=yield j.blob():N==="text/event-stream"?_=j:N==="multipart/form-data"?_=yield j.formData():_=yield j.text(),{data:_,error:null,response:j}}catch(o){return{data:null,error:o,response:o instanceof fA||o instanceof mA?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var jr={};const nm=MH(DX);var Px={},Ax={},Ox={},Mx={},Dx={},Rx={},pA;function FL(){if(pA)return Rx;pA=1,Object.defineProperty(Rx,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Rx.default=t,Rx}var gA;function IL(){if(gA)return Dx;gA=1,Object.defineProperty(Dx,"__esModule",{value:!0});const s=nm.__importDefault(FL());class n{constructor(a){var i,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,m,h;let p=null,x=null,y=null,v=c.status,j=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const N=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");N&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,v=406,j="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const N=await c.text();try{p=JSON.parse(N),Array.isArray(p)&&c.status===404&&(x=[],p=null,v=200,j="OK")}catch{c.status===404&&N===""?(v=204,j="No Content"):p={message:N}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,j="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:x,count:y,status:v,statusText:j}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,u,m,h,p,x;let y="";const v=c==null?void 0:c.cause;if(v){const j=(d=v==null?void 0:v.message)!==null&&d!==void 0?d:"",w=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";y=`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${j}`,w&&(y+=` (${w})`),v!=null&&v.stack&&(y+=`
${v.stack}`)}else y=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(a,i)}returns(){return this}overrideTypes(){return this}}return Dx.default=n,Dx}var xA;function LL(){if(xA)return Mx;xA=1,Object.defineProperty(Mx,"__esModule",{value:!0});const s=nm.__importDefault(IL());class n extends s.default{select(a){let i=!1;const l=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:l,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:l,referencedTable:o=l}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:l=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var u;const m=[a?"analyze":null,i?"verbose":null,l?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${h}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Mx.default=n,Mx}var vA;function J2(){if(vA)return Ox;vA=1,Object.defineProperty(Ox,"__esModule",{value:!0});const s=nm.__importDefault(LL()),n=new RegExp("[,()]");class r extends s.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}regexMatch(i,l){return this.url.searchParams.append(i,`match.${l}`),this}regexIMatch(i,l){return this.url.searchParams.append(i,`imatch.${l}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}isDistinct(i,l){return this.url.searchParams.append(i,`isdistinct.${l}`),this}in(i,l){const o=Array.from(new Set(l)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${u}.${l}`),this}match(i){return Object.entries(i).forEach(([l,o])=>{this.url.searchParams.append(l,`eq.${o}`)}),this}not(i,l,o){return this.url.searchParams.append(i,`not.${l}.${o}`),this}or(i,{foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,l,o){return this.url.searchParams.append(i,`${l}.${o}`),this}}return Ox.default=r,Ox}var yA;function BL(){if(yA)return Ax;yA=1,Object.defineProperty(Ax,"__esModule",{value:!0});const s=nm.__importDefault(J2());class n{constructor(a,{headers:i={},schema:l,fetch:o}){this.url=a,this.headers=new Headers(i),this.schema=l,this.fetch=o}select(a,i){const{head:l=!1,count:o}=i??{},c=l?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new s.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:l=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new s.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:l=!1,count:o,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new s.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var l;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new s.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var i;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new s.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ax.default=n,Ax}var bA;function Vae(){if(bA)return Px;bA=1,Object.defineProperty(Px,"__esModule",{value:!0});const t=nm,s=t.__importDefault(BL()),n=t.__importDefault(J2());class r{constructor(i,{headers:l={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(l),this.schemaName=o,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${i}`);return new s.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:o=!1,get:c=!1,count:d}={}){var u;let m;const h=new URL(`${this.url}/rpc/${i}`);let p;o||c?(m=o?"HEAD":"GET",Object.entries(l).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{h.searchParams.append(y,v)})):(m="POST",p=l);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new n.default({method:m,url:h,headers:x,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Px.default=r,Px}var jA;function Wae(){if(jA)return jr;jA=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const t=nm,s=t.__importDefault(Vae());jr.PostgrestClient=s.default;const n=t.__importDefault(BL());jr.PostgrestQueryBuilder=n.default;const r=t.__importDefault(J2());jr.PostgrestFilterBuilder=r.default;const a=t.__importDefault(LL());jr.PostgrestTransformBuilder=a.default;const i=t.__importDefault(IL());jr.PostgrestBuilder=i.default;const l=t.__importDefault(FL());return jr.PostgrestError=l.default,jr.default={PostgrestClient:s.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:l.default},jr}var qL=Wae();const $L=vc(qL),Hae=a5({__proto__:null,default:$L},[qL]),{PostgrestClient:Kae,PostgrestQueryBuilder:qAe,PostgrestFilterBuilder:$Ae,PostgrestTransformBuilder:UAe,PostgrestBuilder:zAe,PostgrestError:VAe}=$L||Hae;class Gae{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const r=this.getWebSocketConstructor();return new r(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Yae="2.84.0",Qae=`realtime-js/${Yae}`,UL="1.0.0",Jae="2.0.0",wA=UL,V1=1e4,Xae=1e3,Zae=100;var ed;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ed||(ed={}));var Yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yn||(Yn={}));var Ei;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ei||(Ei={}));var W1;(function(t){t.websocket="websocket"})(W1||(W1={}));var td;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(td||(td={}));class eie{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(s,n){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(s));let r=[s.join_ref,s.ref,s.topic,s.event,s.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(s){var n;return this._isArrayBuffer((n=s.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var n,r,a,i;const l=s.topic,o=(n=s.ref)!==null&&n!==void 0?n:"",c=(r=s.join_ref)!==null&&r!==void 0?r:"",d=s.payload.event,u=(i=(a=s.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+l.length+d.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(h),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,c.length),p.setUint8(x++,o.length),p.setUint8(x++,l.length),p.setUint8(x++,d.length),p.setUint8(x++,this.BINARY_ENCODING),Array.from(c,v=>p.setUint8(x++,v.charCodeAt(0))),Array.from(o,v=>p.setUint8(x++,v.charCodeAt(0))),Array.from(l,v=>p.setUint8(x++,v.charCodeAt(0))),Array.from(d,v=>p.setUint8(x++,v.charCodeAt(0)));var y=new Uint8Array(h.byteLength+u.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(u),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(s){var n,r,a,i;const l=s.topic,o=(n=s.ref)!==null&&n!==void 0?n:"",c=(r=s.join_ref)!==null&&r!==void 0?r:"",d=s.payload.event,u=(i=(a=s.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+l.length+d.length,x=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(x),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,c.length),y.setUint8(v++,o.length),y.setUint8(v++,l.length),y.setUint8(v++,d.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(c,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(l,w=>y.setUint8(v++,w.charCodeAt(0))),Array.from(d,w=>y.setUint8(v++,w.charCodeAt(0)));var j=new Uint8Array(x.byteLength+h.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(h),x.byteLength),j.buffer}decode(s,n){if(this._isArrayBuffer(s)){let r=this._binaryDecode(s);return n(r)}if(typeof s=="string"){const r=JSON.parse(s),[a,i,l,o,c]=r;return n({join_ref:a,ref:i,topic:l,event:o,payload:c})}return n({})}_binaryDecode(s){const n=new DataView(s),r=n.getUint8(0),a=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,n,a)}}_decodeUserBroadcast(s,n,r){const a=n.getUint8(1),i=n.getUint8(2),l=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(s.slice(c,c+a));c=c+a;const u=r.decode(s.slice(c,c+i));c=c+i;const m=r.decode(s.slice(c,c+l));c=c+l;const h=s.slice(c,s.byteLength),p=o===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,x={type:this.BROADCAST_EVENT,event:u,payload:p};return l>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(s){var n;return s instanceof ArrayBuffer||((n=s==null?void 0:s.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class zL{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(cn||(cn={}));const NA=(t,s,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return s?Object.keys(s).reduce((i,l)=>(i[l]=tie(l,t,s,a),i),{}):{}},tie=(t,s,n,r)=>{const a=s.find(o=>o.name===t),i=a==null?void 0:a.type,l=n[t];return i&&!r.includes(i)?VL(i,l):H1(l)},VL=(t,s)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return aie(s,n)}switch(t){case cn.bool:return sie(s);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return nie(s);case cn.json:case cn.jsonb:return rie(s);case cn.timestamp:return iie(s);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:return H1(s);default:return H1(s)}},H1=t=>t,sie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nie=t=>{if(typeof t=="string"){const s=parseFloat(t);if(!Number.isNaN(s))return s}return t},rie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(s){return console.log(`JSON parse error: ${s}`),t}return t},aie=(t,s)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const l=t.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>VL(s,o))}return t},iie=t=>typeof t=="string"?t.replace(" ","T"):t,WL=t=>{const s=new URL(t);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class Yj{constructor(s,n,r={},a=V1){this.channel=s,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var r;return this._hasReceived(s)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(r=>r.status===s).forEach(r=>r.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var _A;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_A||(_A={}));class Cf{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cf.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=Cf.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Cf.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,r,a){const i=this.cloneDeep(s),l=this.transformState(n),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const m=i[d];if(m){const h=u.map(v=>v.presence_ref),p=m.map(v=>v.presence_ref),x=u.filter(v=>p.indexOf(v.presence_ref)<0),y=m.filter(v=>h.indexOf(v.presence_ref)<0);x.length>0&&(o[d]=x),y.length>0&&(c[d]=y)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},r,a)}static syncDiff(s,n,r,a){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=s[o])!==null&&d!==void 0?d:[];if(s[o]=this.cloneDeep(c),u.length>0){const m=s[o].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);s[o].unshift(...h)}r(o,u,c)}),this.map(l,(o,c)=>{let d=s[o];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),s[o]=d,a(o,d,c),d.length===0&&delete s[o]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(r=>n(r,s[r]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,r)=>{const a=s[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(SA||(SA={}));var kf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kf||(kf={}));var $l;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($l||($l={}));class X2{constructor(s,n={config:{}},r){var a,i;if(this.topic=s,this.params=n,this.socket=r,this.bindings={},this.state=Yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yj(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new zL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new Cf(this),this.broadcastEndpointURL=WL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,n=this.timeout){var r,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yn.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[kf.PRESENCE]&&this.bindings[kf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},h={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>s==null?void 0:s($l.CHANNEL_ERROR,p)),this._onClose(()=>s==null?void 0:s($l.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){s==null||s($l.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,v=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,j=[];for(let w=0;w<v;w++){const N=y[w],{filter:{event:_,schema:P,table:A,filter:E}}=N,C=p&&p[w];if(C&&C.event===_&&C.schema===P&&C.table===A&&C.filter===E)j.push(Object.assign(Object.assign({},N),{id:C.id}));else{this.unsubscribe(),this.state=Yn.errored,s==null||s($l.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,s&&s($l.SUBSCRIBED);return}}).receive("error",p=>{this.state=Yn.errored,s==null||s($l.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{s==null||s($l.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,r){return this.state===Yn.joined&&s===kf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,n,r)}async httpSend(s,n,r={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(s,n={}){var r,a;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Yn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Yj(this,Ei.leave,{},s),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yn.closed,this.bindings={}}async _fetchWithTimeout(s,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),l}_push(s,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Yj(this,s,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Zae){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,r){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,r){var a,i;const l=s.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Ei;if(r&&[o,c,d,u].indexOf(l)>=0&&r!==this._joinRef())return;let h=this._onMessage(l,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,y,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(y=p.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===l}).map(p=>p.callback(h,r)):(i=this.bindings[l])===null||i===void 0||i.filter(p=>{var x,y,v,j,w,N;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const _=p.id,P=(x=p.filter)===null||x===void 0?void 0:x.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(w=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:y,table:v,commit_timestamp:j,type:w,errors:N}=x;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:j,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(x))}p.callback(h,r)})}_isClosed(){return this.state===Yn.closed}_isJoined(){return this.state===Yn.joined}_isJoining(){return this.state===Yn.joining}_isLeaving(){return this.state===Yn.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,r){const a=s.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(s,n){const r=s.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&X2.isEqual(a.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const r in s)if(s[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Ei.close,{},s)}_onError(s){this._on(Ei.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yn.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=NA(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=NA(s.columns,s.old_record)),n}}const Qj=()=>{},Fx={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lie=[1e3,2e3,5e3,1e4],oie=1e4,cie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class die{constructor(s,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=V1,this.transport=null,this.heartbeatIntervalMs=Fx.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qj,this.ref=0,this.reconnectTimer=null,this.vsn=wA,this.logger=Qj,this.conn=null,this.sendBuffer=[],this.serializer=new eie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${W1.websocket}`,this.httpEndpoint=WL(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gae.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,r){this.logger(s,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ed.connecting:return td.Connecting;case ed.open:return td.Open;case ed.closing:return td.Closing;default:return td.Closed}}isConnected(){return this.connectionState()===td.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const r=`realtime:${s}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new X2(`realtime:${s}`,n,this);return this.channels.push(i),i}}push(s){const{topic:n,event:r,payload:a,ref:i}=s,l=()=>{this.encode(s,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Xae,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fx.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(r=>r.topic===s&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:i,ref:l}=n,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${a} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ed.open||this.conn.readyState===ed.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(Ei.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const r=s.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${s}${r}${a}`}_workerObjectUrl(s){let n;if(s)n=s;else{const r=new Blob([cie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n;s?n=s:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Qae};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Ei.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${s} callback`,a)}})}catch(r){this.log("error",`error triggering ${s} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fx.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,r,a,i,l,o,c,d,u,m,h,p;switch(this.transport=(n=s==null?void 0:s.transport)!==null&&n!==void 0?n:null,this.timeout=(r=s==null?void 0:s.timeout)!==null&&r!==void 0?r:V1,this.heartbeatIntervalMs=(a=s==null?void 0:s.heartbeatIntervalMs)!==null&&a!==void 0?a:Fx.HEARTBEAT_INTERVAL,this.worker=(i=s==null?void 0:s.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=s==null?void 0:s.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=s==null?void 0:s.heartbeatCallback)!==null&&o!==void 0?o:Qj,this.vsn=(c=s==null?void 0:s.vsn)!==null&&c!==void 0?c:wA,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=s==null?void 0:s.reconnectAfterMs)!==null&&d!==void 0?d:(x=>lie[x-1]||oie),this.vsn){case UL:this.encode=(u=s==null?void 0:s.encode)!==null&&u!==void 0?u:((x,y)=>y(JSON.stringify(x))),this.decode=(m=s==null?void 0:s.decode)!==null&&m!==void 0?m:((x,y)=>y(JSON.parse(x)));break;case Jae:this.encode=(h=s==null?void 0:s.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=s==null?void 0:s.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class Z2 extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uie extends Z2{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class K1 extends Z2{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}}const eC=t=>t?(...s)=>t(...s):(...s)=>fetch(...s),hie=()=>Response,G1=t=>{if(Array.isArray(t))return t.map(n=>G1(n));if(typeof t=="function"||t!==Object(t))return t;const s={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));s[a]=G1(r)}),s},mie=t=>{if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Jj=t=>{var s;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(s=t.error)===null||s===void 0?void 0:s.message)||JSON.stringify(t)},fie=(t,s,n)=>Wt(void 0,void 0,void 0,function*(){const r=yield hie();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{const i=t.status||500,l=(a==null?void 0:a.statusCode)||i+"";s(new uie(Jj(a),i,l))}).catch(a=>{s(new K1(Jj(a),a))}):s(new K1(Jj(t),t))}),pie=(t,s,n,r)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"||!r?a:(mie(r)?(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),a.body=JSON.stringify(r)):a.body=r,s!=null&&s.duplex&&(a.duplex=s.duplex),Object.assign(Object.assign({},a),n))};function Hp(t,s,n,r,a,i){return Wt(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(n,pie(s,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>fie(c,o,r))})})}function Qf(t,s,n,r){return Wt(this,void 0,void 0,function*(){return Hp(t,"GET",s,n,r)})}function Si(t,s,n,r,a){return Wt(this,void 0,void 0,function*(){return Hp(t,"POST",s,r,a,n)})}function Y1(t,s,n,r,a){return Wt(this,void 0,void 0,function*(){return Hp(t,"PUT",s,r,a,n)})}function gie(t,s,n,r){return Wt(this,void 0,void 0,function*(){return Hp(t,"HEAD",s,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function tC(t,s,n,r,a){return Wt(this,void 0,void 0,function*(){return Hp(t,"DELETE",s,r,a,n)})}class xie{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}execute(){return Wt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kn(s))return{data:null,error:s};throw s}})}}var HL;class vie{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[HL]="BlobDownloadBuilder",this.promise=null}asStream(){return new xie(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Wt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kn(s))return{data:null,error:s};throw s}})}}HL=Symbol.toStringTag;const yie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bie{constructor(s,n={},r,a){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=eC(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(s,n,r,a){return Wt(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},CA),a);let o=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),m=yield(s=="PUT"?Y1:Si)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}upload(s,n,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,n,r)})}uploadToSignedUrl(s,n,r,a){return Wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(s),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:CA.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Y1(this.fetch,o.toString(),c,{headers:u});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,n){return Wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(s);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Si(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Z2("No token returned by API");return{data:{signedUrl:l.toString(),path:s,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}update(s,n,r){return Wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,n,r)})}move(s,n,r){return Wt(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}copy(s,n,r){return Wt(this,void 0,void 0,function*(){try{return{data:{path:(yield Si(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}createSignedUrl(s,n,r){return Wt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s),i=yield Si(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}createSignedUrls(s,n,r){return Wt(this,void 0,void 0,function*(){try{const a=yield Si(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:s},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}download(s,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=i?`?${i}`:"",o=this._getFinalPath(s),c=()=>Qf(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new vie(c,this.shouldThrowOnError)}info(s){return Wt(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{const r=yield Qf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:G1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}exists(s){return Wt(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{return yield gie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r)&&r instanceof K1){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(s,n){const r=this._getFinalPath(s),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${d}`)}}}remove(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}list(s,n,r){return Wt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},yie),n),{prefix:s||""});return{data:yield Si(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}listV2(s,n){return Wt(this,void 0,void 0,function*(){try{const r=Object.assign({},s);return{data:yield Si(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}}const KL="2.84.0",GL={"X-Client-Info":`storage-js/${KL}`};class jie{constructor(s,n={},r,a){this.shouldThrowOnError=!1;const i=new URL(s);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GL),n),this.fetch=eC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(s){return Wt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(s);return{data:yield Qf(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}getBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}createBucket(s){return Wt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}updateBucket(s,n){return Wt(this,void 0,void 0,function*(){try{return{data:yield Y1(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}emptyBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class wie{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},GL),n),this.fetch=eC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{name:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}listBuckets(s){return Wt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const r=n.toString(),a=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Qf(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield tC(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}}const sC={"X-Client-Info":`storage-js/${KL}`,"Content-Type":"application/json"};class YL extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Oa(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Xj extends YL{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nie extends YL{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}}var kA;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kA||(kA={}));const nC=t=>t?(...s)=>t(...s):(...s)=>fetch(...s),_ie=t=>{if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},EA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sie=(t,s,n)=>Wt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(l=>{const o=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";s(new Xj(EA(l),a,o))}).catch(()=>{const l=a+"",o=i.statusText||`HTTP ${a} error`;s(new Xj(o,a,l))});else{const l=a+"",o=i.statusText||`HTTP ${a} error`;s(new Xj(o,a,l))}}else s(new Nie(EA(t),t))}),Cie=(t,s,n,r)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return r?(_ie(r)?(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n)):a};function kie(t,s,n,r,a,i){return Wt(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(n,Cie(s,r,a,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>Sie(c,o,r))})})}function Ma(t,s,n,r,a){return Wt(this,void 0,void 0,function*(){return kie(t,"POST",s,r,a,n)})}class Eie{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sC),n),this.fetch=nC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(s){return Wt(this,void 0,void 0,function*(){try{return{data:(yield Ma(this.fetch,`${this.url}/CreateIndex`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}getIndex(s,n){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oa(r))return{data:null,error:r};throw r}})}listIndexes(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/ListIndexes`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}deleteIndex(s,n){return Wt(this,void 0,void 0,function*(){try{return{data:(yield Ma(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oa(r))return{data:null,error:r};throw r}})}}class Tie{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sC),n),this.fetch=nC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(s){return Wt(this,void 0,void 0,function*(){try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ma(this.fetch,`${this.url}/PutVectors`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}getVectors(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/GetVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}listVectors(s){return Wt(this,void 0,void 0,function*(){try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:yield Ma(this.fetch,`${this.url}/ListVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}queryVectors(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/QueryVectors`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}deleteVectors(s){return Wt(this,void 0,void 0,function*(){try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ma(this.fetch,`${this.url}/DeleteVectors`,s,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}}class Pie{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sC),n),this.fetch=nC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:(yield Ma(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}getBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}listBuckets(){return Wt(this,arguments,void 0,function*(s={}){try{return{data:yield Ma(this.fetch,`${this.url}/ListVectorBuckets`,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}deleteBucket(s){return Wt(this,void 0,void 0,function*(){try{return{data:(yield Ma(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oa(n))return{data:null,error:n};throw n}})}}class Aie extends Pie{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new Oie(this.url,this.headers,s,this.fetch)}}class Oie extends Eie{constructor(s,n,r,a){super(s,n,a),this.vectorBucketName=r}createIndex(s){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Wt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const s=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Wt(this,arguments,void 0,function*(n={}){return s.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(s){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Wt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,s)})}deleteIndex(s){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Wt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,s)})}index(s){return new Mie(this.url,this.headers,this.vectorBucketName,s,this.fetch)}}class Mie extends Tie{constructor(s,n,r,a,i){super(s,n,i),this.vectorBucketName=r,this.indexName=a}putVectors(s){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Wt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(s){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Wt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const s=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Wt(this,arguments,void 0,function*(n={}){return s.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(s){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Wt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(s){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Wt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Die extends jie{constructor(s,n={},r,a){super(s,n,r,a)}from(s){return new bie(this.url,this.headers,s,this.fetch)}get vectors(){return new Aie(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wie(this.url+"/iceberg",this.headers,this.fetch)}}const Rie="2.84.0";let bf="";typeof Deno<"u"?bf="deno":typeof document<"u"?bf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bf="react-native":bf="node";const Fie={"X-Client-Info":`supabase-js-${bf}/${Rie}`},Iie={headers:Fie},Lie={schema:"public"},Bie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qie={},$ie=t=>t?(...s)=>t(...s):(...s)=>fetch(...s),Uie=()=>Headers,zie=(t,s,n)=>{const r=$ie(n),a=Uie();return async(i,l)=>{var o;const c=(o=await s())!==null&&o!==void 0?o:t;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},l),{headers:d}))}};function Vie(t){return t.endsWith("/")?t:t+"/"}function Wie(t,s){var n,r;const{db:a,auth:i,realtime:l,global:o}=t,{db:c,auth:d,realtime:u,global:m}=s,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Hie(t){const s=t==null?void 0:t.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vie(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const QL="2.84.0",Uu=30*1e3,Q1=3,Zj=Q1*Uu,Kie="http://localhost:9999",Gie="supabase.auth.token",Yie={"X-Client-Info":`gotrue-js/${QL}`},J1="X-Supabase-Api-Version",JL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jie=600*1e3;class Jf extends Error{constructor(s,n,r){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ht(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xie extends Jf{constructor(s,n,r){super(s,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zie(t){return Ht(t)&&t.name==="AuthApiError"}class sd extends Jf{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class _c extends Jf{constructor(s,n,r,a){super(s,r,a),this.name=n,this.status=r}}class Ca extends _c{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ele(t){return Ht(t)&&t.name==="AuthSessionMissingError"}class Mu extends _c{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ix extends _c{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Lx extends _c{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tle(t){return Ht(t)&&t.name==="AuthImplicitGrantRedirectError"}class TA extends _c{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X1 extends _c{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function ew(t){return Ht(t)&&t.name==="AuthRetryableFetchError"}class PA extends _c{constructor(s,n,r){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Z1 extends _c{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const H0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),AA=` 	
\r=`.split(""),sle=(()=>{const t=new Array(128);for(let s=0;s<t.length;s+=1)t[s]=-1;for(let s=0;s<AA.length;s+=1)t[AA[s].charCodeAt(0)]=-2;for(let s=0;s<H0.length;s+=1)t[H0[s].charCodeAt(0)]=s;return t})();function OA(t,s,n){if(t!==null)for(s.queue=s.queue<<8|t,s.queuedBits+=8;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;n(H0[r]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const r=s.queue>>s.queuedBits-6&63;n(H0[r]),s.queuedBits-=6}}function XL(t,s,n){const r=sle[t];if(r>-1)for(s.queue=s.queue<<6|r,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function MA(t){const s=[],n=l=>{s.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{ale(l,r,n)};for(let l=0;l<t.length;l+=1)XL(t.charCodeAt(l),a,i);return s.join("")}function nle(t,s){if(t<=127){s(t);return}else if(t<=2047){s(192|t>>6),s(128|t&63);return}else if(t<=65535){s(224|t>>12),s(128|t>>6&63),s(128|t&63);return}else if(t<=1114111){s(240|t>>18),s(128|t>>12&63),s(128|t>>6&63),s(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function rle(t,s){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}nle(r,s)}}function ale(t,s,n){if(s.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){s.utf8seq=r;break}if(s.utf8seq===2)s.codepoint=t&31;else if(s.utf8seq===3)s.codepoint=t&15;else if(s.utf8seq===4)s.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|t&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function th(t){const s=[],n={queue:0,queuedBits:0},r=a=>{s.push(a)};for(let a=0;a<t.length;a+=1)XL(t.charCodeAt(a),n,r);return new Uint8Array(s)}function ile(t){const s=[];return rle(t,n=>s.push(n)),new Uint8Array(s)}function id(t){const s=[],n={queue:0,queuedBits:0},r=a=>{s.push(a)};return t.forEach(a=>OA(a,n,r)),OA(null,n,r),s.join("")}function lle(t){return Math.round(Date.now()/1e3)+t}function ole(){return Symbol("auth-callback")}const mr=()=>typeof window<"u"&&typeof document<"u",zc={tested:!1,writable:!1},ZL=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zc.tested)return zc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zc.tested=!0,zc.writable=!0}catch{zc.tested=!0,zc.writable=!1}return zc.writable};function cle(t){const s={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{s[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{s[a]=r}),s}const eB=t=>t?(...s)=>t(...s):(...s)=>fetch(...s),dle=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zu=async(t,s,n)=>{await t.setItem(s,JSON.stringify(n))},Vc=async(t,s)=>{const n=await t.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qo=async(t,s)=>{await t.removeItem(s)};class ry{constructor(){this.promise=new ry.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}ry.promiseConstructor=Promise;function tw(t){const s=t.split(".");if(s.length!==3)throw new Z1("Invalid JWT structure");for(let r=0;r<s.length;r++)if(!Qie.test(s[r]))throw new Z1("JWT not in base64url format");return{header:JSON.parse(MA(s[0])),payload:JSON.parse(MA(s[1])),signature:th(s[2]),raw:{header:s[0],payload:s[1]}}}async function ule(t){return await new Promise(s=>{setTimeout(()=>s(null),t)})}function hle(t,s){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!s(i,null,l)){r(l);return}}catch(l){if(!s(i,l)){a(l);return}}})()})}function mle(t){return("0"+t.toString(16)).substr(-2)}function fle(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(s),Array.from(s,mle).join("")}async function ple(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function gle(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ple(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Du(t,s,n=!1){const r=fle();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await zu(t,`${s}-code-verifier`,a);const i=await gle(r);return[i,r===i?"plain":"s256"]}const xle=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vle(t){const s=t.headers.get(J1);if(!s||!s.match(xle))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function yle(t){if(!t)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(t<=s)throw new Error("JWT has expired")}function ble(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jle=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ru(t){if(!jle.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sw(){const t={};return new Proxy(t,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wle(t,s){return new Proxy(t,{get:(n,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,a)}return!s.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(n,r,a)}})}function DA(t){return JSON.parse(JSON.stringify(t))}const Gc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nle=[502,503,504];async function RA(t){var s;if(!dle(t))throw new X1(Gc(t),0);if(Nle.includes(t.status))throw new X1(Gc(t),t.status);let n;try{n=await t.json()}catch(i){throw new sd(Gc(i),i)}let r;const a=vle(t);if(a&&a.getTime()>=JL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new PA(Gc(n),t.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(r==="session_not_found")throw new Ca}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new PA(Gc(n),t.status,n.weak_password.reasons);throw new Xie(Gc(n),t.status||500,r)}const _le=(t,s,n,r)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ss(t,s,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[J1]||(i[J1]=JL["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const l=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Sle(t,s,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Sle(t,s,n,r,a,i){const l=_le(s,r,a,i);let o;try{o=await t(n,Object.assign({},l))}catch(c){throw console.error(c),new X1(Gc(c),0)}if(o.ok||await RA(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await RA(c)}}function wi(t){var s;let n=null;Ele(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lle(t.expires_in)));const r=(s=t.user)!==null&&s!==void 0?s:t;return{data:{session:n,user:r},error:null}}function FA(t){const s=wi(t);return!s.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(s.data.weak_password=t.weak_password),s}function Ko(t){var s;return{data:{user:(s=t.user)!==null&&s!==void 0?s:t},error:null}}function Cle(t){return{data:t,error:null}}function kle(t){const{action_link:s,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,l=bc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:s,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function IA(t){return t}function Ele(t){return t.access_token&&t.refresh_token&&t.expires_in}const nw=["global","local","others"];class Tle{constructor({url:s="",headers:n={},fetch:r}){this.url=s,this.headers=n,this.fetch=eB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,n=nw[0]){if(nw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nw.join(", ")}`);try{return await ss(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ht(r))return{data:null,error:r};throw r}}async inviteUserByEmail(s,n={}){try{return await ss(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ko})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async generateLink(s){try{const{options:n}=s,r=bc(s,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await ss(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kle,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ht(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await ss(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Ko})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,r,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ss(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=s==null?void 0:s.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:IA});if(u.error)throw u.error;const m=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ht(d))return{data:{users:[]},error:d};throw d}}async getUserById(s){Ru(s);try{return await ss(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Ko})}catch(n){if(Ht(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){Ru(s);try{return await ss(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:Ko})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async deleteUser(s,n=!1){Ru(s);try{return await ss(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ko})}catch(r){if(Ht(r))return{data:{user:null},error:r};throw r}}async _listFactors(s){Ru(s.userId);try{const{data:n,error:r}=await ss(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _deleteFactor(s){Ru(s.userId),Ru(s.id);try{return{data:await ss(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _listOAuthClients(s){var n,r,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ss(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=s==null?void 0:s.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:IA});if(u.error)throw u.error;const m=await u.json(),h=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);d[`${v}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ht(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(s){try{return await ss(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _getOAuthClient(s){try{return await ss(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _updateOAuthClient(s,n){try{return await ss(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ht(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(s){try{return await ss(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ht(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(s){try{return await ss(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ht(n))return{data:null,error:n};throw n}}}function LA(t={}){return{getItem:s=>t[s]||null,setItem:(s,n)=>{t[s]=n},removeItem:s=>{delete t[s]}}}const Fu={debug:!!(globalThis&&ZL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tB extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class Ple extends tB{}async function Ale(t,s,n){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,s);const r=new globalThis.AbortController;return s>0&&setTimeout(()=>{r.abort(),Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(s===0)throw Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ple(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Ole(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sB(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mle(t){return parseInt(t,16)}function Dle(t){const s=new TextEncoder().encode(t);return"0x"+Array.from(s,r=>r.toString(16).padStart(2,"0")).join("")}function Rle(t){var s;const{chainId:n,domain:r,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:o,requestId:c,resources:d,scheme:u,uri:m,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((s=t.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=sB(t.address),x=u?`${u}://${r}`:r,y=t.statement?`${t.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${p}

${y}`;let j=`URI: ${m}
Version: ${h}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),o&&(j+=`
Not Before: ${o.toISOString()}`),c&&(j+=`
Request ID: ${c}`),d){let w=`
Resources:`;for(const N of d){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);w+=`
- ${N}`}j+=w}return`${v}
${j}`}class zn extends Error{constructor({message:s,code:n,cause:r,name:a}){var i;super(s,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=a??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class K0 extends zn{constructor(s,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:s}),this.name="WebAuthnUnknownError",this.originalError=n}}function Fle({error:t,options:s}){var n,r,a;const{publicKey:i}=s;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(s.signal instanceof AbortSignal)return new zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(s.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(nB(l)){if(i.rp.id!==l)return new zn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ile({error:t,options:s}){const{publicKey:n}=s;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(s.signal instanceof AbortSignal)return new zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(nB(r)){if(n.rpId!==r)return new zn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Lle{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const Ble=new Lle;function qle(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:s,user:n,excludeCredentials:r}=t,a=bc(t,["challenge","user","excludeCredentials"]),i=th(s).buffer,l=Object.assign(Object.assign({},n),{id:th(n.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:i,user:l});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:th(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function $le(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:s,allowCredentials:n}=t,r=bc(t,["challenge","allowCredentials"]),a=th(s).buffer,i=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const o=n[l];i.allowCredentials[l]=Object.assign(Object.assign({},o),{id:th(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Ule(t){var s;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:id(new Uint8Array(t.response.attestationObject)),clientDataJSON:id(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function zle(t){var s;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:id(new Uint8Array(a.authenticatorData)),clientDataJSON:id(new Uint8Array(a.clientDataJSON)),signature:id(new Uint8Array(a.signature)),userHandle:a.userHandle?id(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(s=n.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function nB(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function BA(){var t,s;return!!(mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.get)=="function")}async function Vle(t){try{const s=await navigator.credentials.create(t);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new K0("Browser returned unexpected credential type",s)}:{data:null,error:new K0("Empty credential response",s)}}catch(s){return{data:null,error:Fle({error:s,options:t})}}}async function Wle(t){try{const s=await navigator.credentials.get(t);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new K0("Browser returned unexpected credential type",s)}:{data:null,error:new K0("Empty credential response",s)}}catch(s){return{data:null,error:Ile({error:s,options:t})}}}const Hle={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Kle={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function G0(...t){const s=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of t)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))r[i]=l;else if(n(l))r[i]=l;else if(s(l)){const o=r[i];s(o)?r[i]=G0(o,l):r[i]=G0(l)}else r[i]=l}return r}function Gle(t,s){return G0(Hle,t,s||{})}function Yle(t,s){return G0(Kle,t,s||{})}class Qle{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:n,friendlyName:r,signal:a},i){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:s,webauthn:n});if(!l)return{data:null,error:o};const c=a??Ble.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=Gle(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:m}=await Vle({publicKey:d,signal:c});return u?{data:{factorId:s,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=Yle(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:m}=await Wle(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:s,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(l){return Ht(l)?{data:null,error:l}:{data:null,error:new sd("Unexpected error in challenge",l)}}}async _verify({challengeId:s,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:s,webauthn:r})}async _authenticate({factorId:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new Jf("rpId is required for WebAuthn authentication")};try{if(!BA())return{data:null,error:new sd("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:s,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:i});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:s,challengeId:l.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(l){return Ht(l)?{data:null,error:l}:{data:null,error:new sd("Unexpected error in authenticate",l)}}}async _register({friendlyName:s,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new Jf("rpId is required for WebAuthn registration")};try{if(!BA())return{data:null,error:new sd("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:s});if(!l)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===s&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:i});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(l){return Ht(l)?{data:null,error:l}:{data:null,error:new sd("Unexpected error in register",l)}}}}Ole();const Jle={url:Kie,storageKey:Gie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qA(t,s,n){return await n()}const Iu={};class Xf{get jwks(){var s,n;return(n=(s=Iu[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){Iu[this.storageKey]=Object.assign(Object.assign({},Iu[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=Iu[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Iu[this.storageKey]=Object.assign(Object.assign({},Iu[this.storageKey]),{cachedAt:s})}constructor(s){var n,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Jle),s);if(this.storageKey=i.storageKey,this.instanceID=(n=Xf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Xf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&mr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Tle({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eB(i.fetch),this.lock=i.lock||qA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ale:this.lock=qA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qle(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=LA(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QL}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let n={},r="none";if(mr()&&(n=cle(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),mr()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tle(i)){const c=(s=i.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ht(n)?this._returnResult({error:n}):this._returnResult({error:new sd("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,r,a;try{const i=await ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=s==null?void 0:s.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.captchaToken}},xform:wi}),{data:l,error:o}=i;if(o||!l)return this._returnResult({data:{user:null,session:null},error:o});const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ht(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(s){var n,r,a;try{let i;if("email"in s){const{email:u,password:m,options:h}=s;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Du(this.storage,this.storageKey)),i=await ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:wi})}else if("phone"in s){const{phone:u,password:m,options:h}=s;i=await ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:wi})}else throw new Ix("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return this._returnResult({data:{user:null,session:null},error:o});const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ht(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(s){try{let n;if("email"in s){const{email:i,password:l,options:o}=s;n=await ss(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:FA})}else if("phone"in s){const{phone:i,password:l,options:o}=s;n=await ss(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:FA})}else throw new Ix("You must provide either an email or phone number and a password");const{data:r,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const i=new Mu;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Ht(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(s){var n,r,a,i;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=s.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=s.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=s.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;switch(n){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(s){var n,r,a,i,l,o,c,d,u,m,h;let p,x;if("message"in s)p=s.message,x=s.signature;else{const{chain:y,wallet:v,statement:j,options:w}=s;let N;if(mr())if(typeof v=="object")N=v;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")N=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),P=await N.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=sB(P[0]);let E=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const R=await N.request({method:"eth_chainId"});E=Mle(R)}const C={domain:_.host,address:A,statement:j,uri:_.href,version:"1",chainId:E,nonce:(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Rle(C),x=await N.request({method:"personal_sign",params:[Dle(p),A]})}try{const{data:y,error:v}=await ss(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((m=s.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=s.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:wi});if(v)throw v;if(!y||!y.session||!y.user){const j=new Mu;return this._returnResult({data:{user:null,session:null},error:j})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(Ht(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(s){var n,r,a,i,l,o,c,d,u,m,h,p;let x,y;if("message"in s)x=s.message,y=s.signature;else{const{chain:v,wallet:j,statement:w,options:N}=s;let _;if(mr())if(typeof j=="object")_=j;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))_=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const P=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const A=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),w?{statement:w}:null));let E;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")E=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)E=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)x=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(a=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N==null?void 0:N.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((d=N==null?void 0:N.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((m=(u=N==null?void 0:N.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...N.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const A=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=A}}try{const{data:v,error:j}=await ss(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:id(y)},!((h=s.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=s.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:wi});if(j)throw j;if(!v||!v.session||!v.user){const w=new Mu;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:j})}catch(v){if(Ht(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(s){const n=await Vc(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:l}=await ss(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:r},xform:wi});if(await qo(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const o=new Mu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Ht(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(s){try{const{options:n,provider:r,token:a,access_token:i,nonce:l}=s,o=await ss(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wi}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new Mu;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(Ht(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(s){var n,r,a,i,l;try{if("email"in s){const{email:o,options:c}=s;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Du(this.storage,this.storageKey));const{error:m}=await ss(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in s){const{phone:o,options:c}=s,{data:d,error:u}=await ss(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new Ix("You must provide either an email or phone number.")}catch(o){if(Ht(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(s){var n,r;try{let a,i;"options"in s&&(a=(n=s.options)===null||n===void 0?void 0:n.redirectTo,i=(r=s.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:o}=await ss(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:wi});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(Ht(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(s){var n,r,a,i,l;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Du(this.storage,this.storageKey));const d=await ss(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(r=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=s==null?void 0:s.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:Cle});return!((i=d.data)===null||i===void 0)&&i.url&&mr()&&!(!((l=s.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(Ht(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;if(r)throw r;if(!n)throw new Ca;const{error:a}=await ss(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(s){if(Ht(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:r,type:a,options:i}=s,{error:l}=await ss(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in s){const{phone:r,type:a,options:i}=s,{data:l,error:o}=await ss(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o})}throw new Ix("You must provide either an email or phone number and a type")}catch(n){if(Ht(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const r=s.expires_at?s.expires_at*1e3-Date.now()<Zj:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",s.expires_at),!r){if(this.userStorage){const l=await Vc(this.userStorage,this.storageKey+"-user");l!=null&&l.user?s.user=l.user:s.user=sw()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};s.user=wle(s.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await ss(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Ko}):await this._useSession(async n=>{var r,a,i;const{data:l,error:o}=n;if(o)throw o;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ca}:await ss(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ko})})}catch(n){if(Ht(n))return ele(n)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ca;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&s.email!=null&&([o,c]=await Du(this.storage,this.storageKey));const{data:d,error:u}=await ss(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ko});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(Ht(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Ca;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:l}=tw(s.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{data:o,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(s.access_token);if(c)throw c;i={access_token:s.access_token,refresh_token:s.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ht(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var r;if(!s){const{data:l,error:o}=n;if(o)throw o;s=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(s!=null&&s.refresh_token))throw new Ca;const{data:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ht(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(s,n){try{if(!mr())throw new Lx("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Lx(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new TA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new TA("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(s.code);if(N)throw N;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=s;if(!i||!o||!l||!d)throw new Lx("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(o);let h=u+m;c&&(h=parseInt(c));const p=h-u;p*1e3<=Uu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const x=h-m;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:h,refresh_token:l,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:s.type},error:null})}catch(r){if(Ht(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return this._returnResult({error:i});const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:o}=await this.admin.signOut(l,s);if(o&&!(Zie(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return s!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const n=ole(),r={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(s){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(s))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",s,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",i),console.error(i)}})}async resetPasswordForEmail(s,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Du(this.storage,this.storageKey,!0));try{return await ss(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ht(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var s;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:m,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ss(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return mr()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:s.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ht(r))return this._returnResult({data:{provider:s.provider,url:null},error:r});throw r}}async linkIdentityIdToken(s){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:i}}=n;if(a)throw a;const{options:l,provider:o,token:c,access_token:d,nonce:u}=s,m=await ss(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:wi}),{data:h,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Mu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(Ht(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(s){try{return await this._useSession(async n=>{var r,a;const{data:i,error:l}=n;if(l)throw l;return await ss(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await hle(async a=>(a>0&&await ule(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ss(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:wi})),(a,i)=>{const l=200*Math.pow(2,a);return i&&ew(i)&&Date.now()+l-r<Uu})}catch(r){if(this._debug(n,"error",r),Ht(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",r),mr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:s,url:r},error:null}}async _recoverAndRefresh(){var s,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Vc(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await zu(this.userStorage,this.storageKey+"-user",l)),a.user=(s=l==null?void 0:l.user)!==null&&s!==void 0?s:sw()}else if(a&&!a.user&&!a.user){const l=await Vc(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await qo(this.storage,this.storageKey+"-user"),await zu(this.storage,this.storageKey,a)):a.user=sw()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zj;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),ew(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(s){var n,r;if(!s)throw new Ca;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ry;const{data:i,error:l}=await this._refreshAccessToken(s);if(l)throw l;if(!i.session)throw new Ca;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Ht(i)){const l={data:null,error:i};return ew(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(s,n,r=!0){const a=`#_notifyAllSubscribers(${s})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:s,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(s,n)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const n=Object.assign({},s),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zu(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=DA(a);await zu(this.storage,this.storageKey,i)}else{const a=DA(n);await zu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await qo(this.storage,this.storageKey+"-code-verifier"),await qo(this.storage,this.storageKey+"-user"),this.userStorage&&await qo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Uu);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-s)/Uu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Uu}ms, refresh threshold is ${Q1} ticks`),a<=Q1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof tB)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,l]=await Du(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${s}?${a.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?this._returnResult({data:null,error:i}):await ss(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(s){try{return await this._useSession(async n=>{var r,a;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:c,error:d}=await ss(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(s.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?Ule(s.webauthn.credential_response):zle(s.webauthn.credential_response)})}:{code:s.code}),{data:o,error:c}=await ss(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=await ss(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:qle(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:$le(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(s){const{data:n,error:r}=await this._challenge({factorId:s.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){var s;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(s=n==null?void 0:n.factors)!==null&&s!==void 0?s:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var s,n;const{data:{session:r},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tw(r.access_token);let l=null;i.aal&&(l=i.aal);let o=l;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?await ss(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ca})})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(s,n){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ca});const l=await ss(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&mr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ht(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(s,n){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ca});const l=await ss(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&mr()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Ht(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?await ss(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ca})})}catch(s){if(Ht(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?await ss(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:s.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ca})})}catch(n){if(Ht(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(s,n={keys:[]}){let r=n.keys.find(o=>o.kid===s);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(o=>o.kid===s),r&&this.jwks_cached_at+Jie>a)return r;const{data:i,error:l}=await ss(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,r=i.keys.find(o=>o.kid===s),!r)?null:r}async getClaims(s,n={}){try{let r=s;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=tw(r);n!=null&&n.allowExpired||yle(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:a,signature:l},error:null}}const u=ble(a.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,l,ile(`${o}.${c}`)))throw new Z1("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(r){if(Ht(r))return this._returnResult({data:null,error:r});throw r}}}Xf.nextInstanceID={};const Xle=Xf;class Zle extends Xle{constructor(s){super(s)}}class eoe{constructor(s,n,r){var a,i,l;this.supabaseUrl=s,this.supabaseKey=n;const o=Hie(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:Lie,realtime:qie,auth:Object.assign(Object.assign({},Bie),{storageKey:c}),global:Iie},u=Wie(r??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=zie(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Kae(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Die(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new zae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,storageKey:l,flowType:o,lock:c,debug:d,throwOnError:u},m,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zle({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:l,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:a,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new die(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const toe=(t,s,n)=>new eoe(t,s,n);function soe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}soe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const noe=void 0,roe=void 0;console.error("Supabase URL or anon key is missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your env.");const Vs=toe(noe,roe),aoe=[{title:"Buy Tickets",url:Te("BuyProgramTickets"),icon:Vd,featureId:"page_BuyProgramTickets"},{title:"Browse Events",url:Te("Events"),icon:Ns,featureId:"page_Events"},{title:"Bookings",url:Te("Bookings"),icon:Ud,featureId:"page_Bookings"},{title:"My Tickets",url:Te("MyTickets"),icon:Ls,featureId:"page_MyTickets"},{title:"Balances",url:Te("Balances"),icon:uc,featureId:"page_Balances"},{title:"History",url:Te("History"),icon:_v,featureId:"page_History"},{title:"Team",url:Te("Team"),icon:Cs,featureId:"page_Team"},{title:"Member Directory",url:Te("MemberDirectory"),icon:wv,featureId:"page_MemberDirectory"},{title:"Organisation Directory",url:Te("OrganisationDirectory"),icon:yc,featureId:"page_OrganisationDirectory"},{title:"Resources",url:Te("Resources"),icon:pa,featureId:"page_Resources"},{title:"Articles",icon:ls,featureId:"page_ArticlesSection",subItems:[{title:"My Articles",url:Te("MyArticles"),featureId:"page_MyArticles"},{title:"Articles",url:Te("Articles"),featureId:"page_Articles"}]},{title:"News",url:Te("News"),icon:ls,featureId:"page_News"},{title:"My Job Postings",url:Te("MyJobPostings"),icon:Dn,featureId:"page_MyJobPostings"},{title:"Preferences",url:Te("Preferences"),icon:di,featureId:"page_Preferences"},{title:"Support",url:Te("Support"),icon:$d,featureId:"page_Support"}],ioe=[{title:"News",icon:ls,featureId:"page_NewsAdmin",subItems:[{title:"News Management",url:Te("MyNews"),featureId:"page_MyNews"},{title:"Settings",url:Te("NewsSettings"),featureId:"page_NewsSettings"}]},{title:"Articles",icon:ls,featureId:"page_ArticlesAdmin",subItems:[{title:"All Articles",url:Te("ArticleManagement"),featureId:"page_ArticleManagement"},{title:"Settings",url:Te("ArticlesSettings"),featureId:"page_ArticlesSettings"}]},{title:"Role Management",url:Te("RoleManagement"),icon:Bn,featureId:"page_RoleManagement"},{title:"Assign Member Roles",url:Te("MemberRoleAssignment"),icon:Cs,featureId:"page_MemberRoleAssignment"},{title:"Team Members",url:Te("TeamMemberManagement"),icon:Cs,featureId:"page_TeamMemberManagement"},{title:"Member Handle Management",url:Te("MemberHandleManagement"),icon:Ep,featureId:"page_MemberHandleManagement"},{title:"Member Directory Settings",url:Te("MemberDirectorySettings"),icon:Cs,featureId:"page_MemberDirectorySettings"},{title:"Discount Codes",url:Te("DiscountCodeManagement"),icon:Ls,featureId:"page_DiscountCodeManagement"},{title:"Event Settings",url:Te("EventSettings"),icon:di,featureId:"page_EventSettings"},{title:"Ticket Sales Analytics",url:Te("TicketSalesAnalytics"),icon:qh,featureId:"page_TicketSalesAnalytics"},{title:"Award Management",url:Te("AwardManagement"),icon:Wn,featureId:"page_AwardManagement"},{title:"Category Management",url:Te("CategoryManagement"),icon:Cd,featureId:"page_CategoryManagement"},{title:"Category Setup",url:Te("ResourceSettings"),icon:Cd,featureId:"page_ResourceSettings"},{title:"Resource Management",icon:pa,featureId:"page_ResourcesAdmin",subItems:[{title:"Resources",url:Te("ResourceManagement"),featureId:"page_ResourceManagement"},{title:"Tags",url:Te("TagManagement"),featureId:"page_TagManagement"},{title:"Settings",url:Te("ResourceSettings"),featureId:"page_ResourceSettings"},{title:"File Repository",url:Te("FileManagement"),featureId:"page_FileManagement"}]},{title:"Job Board Management",icon:Dn,featureId:"page_JobBoardAdmin",subItems:[{title:"Job Postings",url:Te("JobPostingManagement"),featureId:"page_JobPostingManagement"},{title:"Settings",url:Te("JobBoardSettings"),featureId:"page_JobBoardSettings"}]},{title:"Page Builder",icon:Ap,featureId:"page_PageBuilder",subItems:[{title:"Pages",url:Te("IEditPageManagement"),featureId:"page_IEditPageManagement"},{title:"Element Templates",url:Te("IEditTemplateManagement"),featureId:"page_IEditTemplateManagement"},{title:"Page Banners",url:Te("PageBannerManagement"),featureId:"page_PageBannerManagement"},{title:"Navigation Items",url:Te("NavigationManagement"),featureId:"page_NavigationManagement"},{title:"Buttons",url:Te("ButtonElements"),featureId:"page_ButtonElements"},{title:"Button Styles",url:Te("ButtonStyleManagement"),featureId:"page_ButtonStyleManagement"},{title:"Wall of Fame",url:Te("WallOfFameManagement"),featureId:"page_WallOfFameManagement"},{title:"Installed Fonts",url:Te("InstalledFonts"),featureId:"page_InstalledFonts"}]},{title:"Forms",icon:ls,featureId:"page_FormsAdmin",subItems:[{title:"Form Management",url:Te("FormManagement"),featureId:"page_FormManagement"},{title:"View Submissions",url:Te("FormSubmissions"),featureId:"page_FormSubmissions"}]},{title:"Floater Management",url:Te("FloaterManagement"),icon:Op,featureId:"page_FloaterManagement"},{title:"Team Invite Settings",url:Te("TeamInviteSettings"),icon:Rs,featureId:"page_TeamInviteSettings"},{title:"Data Export",url:Te("DataExport"),icon:lr,featureId:"page_DataExport"},{title:"Site Map",url:Te("SiteMap"),icon:ls,featureId:"page_SiteMap"},{title:"Support Management",url:Te("SupportManagement"),icon:$d,featureId:"page_SupportManagement"},{title:"Portal Navigation",url:Te("PortalNavigationManagement"),icon:ro,featureId:"page_PortalNavigationManagement"},{title:"Tour Management",url:Te("TourManagement"),icon:pa,featureId:"page_TourManagement"}];function loe({children:t,currentPageName:s}){const n=wl(),[r,a]=b.useState(()=>{const B=sessionStorage.getItem("agcas_member");return B?JSON.parse(B):null}),[i,l]=b.useState(()=>{const B=sessionStorage.getItem("agcas_organization");return B?JSON.parse(B):null}),o=Be.useRef(null),c=Be.useRef(null),d=Be.useRef(null),u="8px",{data:m=u}=me({queryKey:["borderRadiusSetting"],queryFn:async()=>{const{data:B,error:$}=await Vs.from("system_settings").select("setting_value").eq("setting_key","global_border_radius").maybeSingle();return $?(console.error("Error loading SystemSettings:",$),u):B&&B.setting_value?String(B.setting_value):u},staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h}=me({queryKey:["memberRecord",r&&r.email],enabled:!!(r&&r.email),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,queryFn:async()=>{const{data:B,error:$}=await Vs.from("member").select("*").eq("email",r.email).maybeSingle();return $?(console.error("Error loading memberRecord:",$),null):B||null}}),{data:p}=me({queryKey:["memberRole",r&&r.role_id],enabled:!!(r&&r.role_id),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,queryFn:async()=>{if(!r||!r.role_id)return null;const{data:B,error:$}=await Vs.from("role").select("*").eq("id",r.role_id).maybeSingle();return $?(console.error("Error loading memberRole:",$),null):B||null}}),{data:x=[]}=me({queryKey:["portal-menu"],staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,queryFn:async()=>{const{data:B,error:$}=await Vs.from("portal_menu").select("*").order("display_order",{ascending:!0});return $?(console.error("Error loading PortalMenu:",$),[]):B||[]}}),y=["Home","AdminSetup","VerifyMagicLink","TestLogin","UnpackedInternationalEmployability","PublicEvents","PublicAbout","PublicContact","PublicResources","PublicArticles","PublicNews","JobBoard","JobDetails","JobPostSuccess","sharon","content"],v=["PostJob","ArticleView","NewsView","icontent","ViewPage","OrganisationDirectory"],j=["RoleManagement","MemberRoleAssignment","TeamMemberManagement","DiscountCodeManagement","EventSettings","TicketSalesAnalytics","ResourceSettings","ResourceManagement","TagManagement","ResourceAuthorSettings","TourManagement","FileManagement","JobPostingManagement","JobBoardSettings","IEditPageManagement","IEditTemplateManagement","PageBannerManagement","NavigationManagement","MemberHandleManagement","ButtonElements","ButtonStyleManagement","AwardManagement","WallOfFameManagement","TeamInviteSettings","FormManagement","FormSubmissions","FloaterManagement","MemberDirectorySettings","SupportManagement"],w=["Home","AdminSetup","VerifyMagicLink","TestLogin"],N=()=>(p==null?void 0:p.is_admin)===!0,_=B=>{if(!r||!B)return!1;const $=(p==null?void 0:p.excluded_features)||[],I=r.member_excluded_features||[];return[...new Set([...$,...I])].includes(B)},P=()=>{const B=`page_${s}`;return _(B)},A=()=>j.includes(s),E=()=>{const B=sessionStorage.getItem("agcas_member");if(B){const $=JSON.parse(B);a($),console.log("[Layout] memberInfo reloaded from sessionStorage:",$)}},C=async B=>{if(!B||i)return;const $=sessionStorage.getItem("agcas_organization");if($)try{const I=JSON.parse($);l(I);return}catch(I){console.warn("Failed to parse cached organization, ignoring cache:",I)}try{let I=null;const{data:L,error:V}=await Vs.from("Organization").select("*").eq("id",B).maybeSingle();if(V&&console.error("Error fetching organization by id:",V),L)I=L;else{const{data:q,error:J}=await Vs.from("Organization").select("*").eq("zoho_account_id",B).maybeSingle();J&&console.error("Error fetching organization by zoho_account_id:",J),q&&(I=q)}I&&(sessionStorage.setItem("agcas_organization",JSON.stringify(I)),l(I))}catch(I){console.error("Unexpected error fetching organization:",I)}},R=()=>y.includes(s)?!0:v.includes(s)?!sessionStorage.getItem("agcas_member"):!1;b.useEffect(()=>{if(y.includes(s)||v.includes(s)&&!sessionStorage.getItem("agcas_member"))return;const B=sessionStorage.getItem("agcas_member");if(!B){window.location.href=Te("Home");return}const $=JSON.parse(B);if($.sessionExpiry&&new Date($.sessionExpiry)<new Date){sessionStorage.removeItem("agcas_member"),window.location.href=Te("Home");return}(!r||JSON.stringify(r)!==JSON.stringify($))&&a($),$.organization_id&&!$.is_team_member&&C($.organization_id)},[]),b.useEffect(()=>{(async()=>{if(!(r!=null&&r.email)||R())return;const $=Date.now(),I=600*1e3;if(!(d.current&&$-d.current<I))try{const{data:L,error:V}=await Vs.from("member").select("id").eq("email",r.email).maybeSingle();if(V){console.error("Supabase lookup error (Member):",V);return}if(!L){console.warn("Member not found for email:",r.email);return}const{error:q}=await Vs.from("member").update({last_activity:new Date().toISOString()}).eq("id",L.id);if(q){console.error("Supabase update error (Member.last_activity):",q);return}d.current=$}catch(L){console.error("Unexpected error updating last_activity:",L)}})()},[n.pathname,r==null?void 0:r.email]),b.useEffect(()=>{if(!R()&&r&&p){if(P()){window.location.href=Te("Events");return}A()&&!N()&&(window.location.href=Te("Events"))}},[s,r,p]),Be.useEffect(()=>{const B=c.current;if(B){const $=()=>{sessionStorage.setItem("agcas_sidebar_scroll",B.scrollTop.toString())};return B.addEventListener("scroll",$),()=>{B.removeEventListener("scroll",$)}}},[]),Be.useEffect(()=>{const B=c.current;if(B){const $=sessionStorage.getItem("agcas_sidebar_scroll");$&&setTimeout(()=>{B.scrollTop=parseFloat($)},0)}}),b.useEffect(()=>{o.current&&o.current.scrollTo(0,0)},[n.pathname]);const O=()=>{sessionStorage.removeItem("agcas_member"),sessionStorage.removeItem("agcas_organization"),window.location.href=Te("Home")};if(R())return w.includes(s)?e.jsx(Bae,{children:t}):e.jsx(La,{currentPageName:s,children:t});const k={Menu:ro,Calendar:Ns,CreditCard:Ud,Ticket:Ls,Wallet:uc,ShoppingCart:Vd,History:_v,Sparkles:pa,FileText:ls,Briefcase:Dn,Settings:di,BookOpen:wv,Building:yc,HelpCircle:$d,Users:Cs,Shield:Bn,BarChart3:qh,FileEdit:Ap,AtSign:Ep,FolderTree:Cd,Trophy:Wn,MousePointer2:Op,Mail:Rs,Download:lr},T=B=>{const $=x.filter(L=>L.is_active&&L.section===B);return $.filter(L=>!L.parent_id).sort((L,V)=>L.display_order-V.display_order).map(L=>{const V=$.filter(J=>J.parent_id===L.id),q=k[L.icon]||ro;return V.length>0?{title:L.title,icon:q,featureId:L.feature_id,subItems:V.sort((J,Q)=>J.display_order-Q.display_order).map(J=>({title:J.title,url:J.url?Te(J.url):"",featureId:J.feature_id}))}:{title:L.title,url:L.url?Te(L.url):"",icon:q,featureId:L.feature_id}})},D=x.length>0?T("user"):aoe,F=x.length>0?T("admin"):ioe,U=D.map(B=>{if(B.subItems){const $=B.subItems.filter(I=>!_(I.featureId));return $.length>0&&!_(B.featureId)?{...B,subItems:$}:null}else return _(B.featureId)?null:B}).filter(Boolean),z=N()?F.map(B=>{if(B.subItems){const $=B.subItems.filter(I=>!_(I.featureId));return $.length>0&&!_(B.featureId)?{...B,subItems:$}:null}else return _(B.featureId)?null:B}).filter(Boolean):[],H=Be.Children.map(t,B=>Be.isValidElement(B)?Be.cloneElement(B,{memberInfo:r,organizationInfo:i,memberRole:p,isAdmin:N(),refreshOrganizationInfo:()=>{r&&!r.is_team_member&&C(r.organization_id)},isFeatureExcluded:_,reloadMemberInfo:E}):B);return e.jsxs("div",{style:{fontFamily:"Poppins, sans-serif"},children:[e.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

          @font-face {
            font-family: 'Degular Medium';
            src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: block;
          }

          :root {
            --border-radius: ${m||"8px"};
          }

          /* Degular Medium for H1 headers */
          h1 {
            font-family: 'Degular Medium', 'Poppins', sans-serif;
          }
          
          /* Apply border radius globally to common UI elements */
          .Card, [class*="Card"], 
          .card, [class*="card"],
          button:not(.unstyled),
          input:not([type="checkbox"]):not([type="radio"]),
          textarea,
          select,
          [role="dialog"],
          [role="menu"],
          [role="listbox"],
          .shadow, .shadow-sm, .shadow-md, .shadow-lg {
            border-radius: var(--border-radius) !important;
          }
        `}),e.jsxs(OF,{style:{height:"100vh",overflow:"hidden"},children:[e.jsxs(MF,{className:"border-r border-slate-200 bg-white",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(DF,{className:"border-b border-slate-200 p-6",children:e.jsxs(Gt,{to:Te("Events"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-md border border-slate-200 overflow-hidden",children:h!=null&&h.profile_photo_url?e.jsx("img",{src:h.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(sn,{className:"w-6 h-6 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-slate-900",children:"AGCAS Events"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Member Portal"})]})]})}),e.jsx(FF,{ref:c,className:"p-3",children:p?e.jsxs(e.Fragment,{children:[r&&!r.is_team_member&&i&&e.jsxs(c0,{children:[e.jsx(d0,{className:"text-xs font-medium text-slate-500 uppercase tracking-wider px-3 py-2",children:"Your Account"}),e.jsx(u0,{children:e.jsxs("div",{className:"px-3 py-2 space-y-3",children:[i.name&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600 block mb-1",children:"Organisation"}),e.jsx("span",{className:"font-medium text-slate-900",children:i.name})]}),i.voucher_balance>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Vouchers"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:["",i.voucher_balance]})]})]})})]}),e.jsxs(c0,{className:r&&!r.is_team_member&&i?"mt-4":"",children:[e.jsx(d0,{className:"text-xs font-medium text-slate-500 uppercase tracking-wider px-3 py-2",children:"Navigation"}),e.jsx(u0,{children:e.jsx(h1,{children:U.map(B=>{const $=B.icon,I=B.url===n.pathname||B.subItems&&B.subItems.some(L=>L.url===n.pathname);return B.subItems?e.jsxs(p1,{defaultOpen:I,children:[e.jsx(gf,{children:e.jsx(g1,{asChild:!0,children:e.jsxs(xf,{className:`hover:bg-blue-50 hover:text-blue-700 transition-colors rounded-lg mb-1 flex items-center gap-3 px-3 py-2.5 group ${I?"bg-blue-50 text-blue-700 font-medium":""}`,children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1",children:B.title}),e.jsx(Ss,{className:"w-4 h-4 transition-transform group-data-[state=open]:rotate-90"})]})})}),e.jsx(x1,{children:e.jsx(m1,{children:B.subItems.map(L=>{const V=L.url===n.pathname;return e.jsx(f1,{children:e.jsx(Gt,{to:L.url,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm ${V?"bg-blue-50 text-blue-700 font-medium":"hover:bg-blue-50 hover:text-blue-700"}`,children:e.jsx("span",{children:L.title})})},L.title)})})})]},B.title):e.jsx(gf,{id:B.title==="Buy Tickets"?"buy-tickets-menu-item":void 0,children:e.jsx(xf,{asChild:!0,className:`hover:bg-blue-50 hover:text-blue-700 transition-colors rounded-lg mb-1 ${I?"bg-blue-50 text-blue-700 font-medium":""}`,children:e.jsxs(Gt,{to:B.url,className:"flex items-center gap-3 px-3 py-2.5",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:B.title})]})})},B.title)})})})]}),z.length>0&&e.jsxs(c0,{className:"mt-4",children:[e.jsx(d0,{className:"text-xs font-medium text-amber-600 uppercase tracking-wider px-3 py-2",children:"Administration"}),e.jsx(u0,{children:e.jsx(h1,{children:z.map(B=>{const $=B.icon,I=B.url===n.pathname||B.subItems&&B.subItems.some(L=>L.url===n.pathname);return B.subItems?e.jsxs(p1,{defaultOpen:I,children:[e.jsx(gf,{children:e.jsx(g1,{asChild:!0,children:e.jsxs(xf,{className:`hover:bg-amber-50 hover:text-amber-700 transition-colors rounded-lg mb-1 flex items-center gap-3 px-3 py-2.5 group ${I?"bg-amber-50 text-amber-700 font-medium":""}`,children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1",children:B.title}),e.jsx(Ss,{className:"w-4 h-4 transition-transform group-data-[state=open]:rotate-90"})]})})}),e.jsx(x1,{children:e.jsx(m1,{children:B.subItems.map(L=>{const V=L.url===n.pathname;return e.jsx(f1,{children:e.jsx(Gt,{to:L.url,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm ${V?"bg-amber-50 text-amber-700 font-medium":"hover:bg-amber-50 hover:text-amber-700"}`,children:e.jsx("span",{children:L.title})})},L.title)})})})]},B.title):e.jsx(gf,{children:e.jsx(xf,{asChild:!0,className:`hover:bg-amber-50 hover:text-amber-700 transition-colors rounded-lg mb-1 ${I?"bg-amber-50 text-amber-700 font-medium":""}`,children:e.jsxs(Gt,{to:B.url,className:"flex items-center gap-3 px-3 py-2.5",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:B.title})]})})},B.title)})})})]})]}):e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-5 h-5 border-2 border-slate-300 border-t-blue-600 rounded-full animate-spin"})})}),e.jsx(RF,{className:"border-t border-slate-200 p-4",children:r&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"px-3 py-2 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(sn,{className:"w-4 h-4 text-slate-500"}),e.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[r.first_name," ",r.last_name]})]}),e.jsx("p",{className:"text-xs text-slate-500 pl-6",children:r.email}),p&&e.jsx("div",{className:"pl-6 mt-2",children:e.jsx(ye,{className:"bg-blue-100 text-blue-700 text-xs",children:p.name})})]}),e.jsxs(X,{variant:"ghost",className:"w-full justify-start text-slate-600 hover:text-slate-900 hover:bg-slate-50",onClick:O,children:[e.jsx(A5,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen max-h-screen overflow-hidden",children:[!_("element_NewsTickerBar")&&e.jsx(qae,{}),e.jsx("main",{ref:o,className:"flex-1 overflow-y-auto overflow-x-hidden",children:H}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"inline-block mb-3 hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/fe03f7c5e_linked-aa.png",alt:"isaasi",className:"w-[50px] mx-auto"})}),e.jsxs("p",{className:"text-sm text-slate-600",children:[e.jsx("span",{style:{color:"#eb008c"},children:"i"}),"Connect by"," ",e.jsx("a",{href:"https://isaasi.co.uk",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity font-medium",style:{color:"#eb008c"},children:"isaasi"})," ","-  Copyright ",new Date().getFullYear()===2025?"2025":`2025-${new Date().getFullYear()}`]})]})})]}),!_("element_FloatersDisplay")&&e.jsx(RL,{location:"portal",memberInfo:r,organizationInfo:i})]},"main-sidebar-provider")]})}const le=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("rounded-xl border bg-card text-card-foreground shadow",t),...s}));le.displayName="Card";const Fe=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("flex flex-col space-y-1.5 p-6",t),...s}));Fe.displayName="CardHeader";const ze=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("font-semibold leading-none tracking-tight",t),...s}));ze.displayName="CardTitle";const As=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("text-sm text-muted-foreground",t),...s}));As.displayName="CardDescription";const ce=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("p-6 pt-0",t),...s}));ce.displayName="CardContent";const ooe=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("flex items-center p-6 pt-0",t),...s}));ooe.displayName="CardFooter";function os(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function ga(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function wr(t,s){const n=os(t);return isNaN(s)?ga(t,NaN):(s&&n.setDate(n.getDate()+s),n)}function Ii(t,s){const n=os(t);if(isNaN(s))return ga(t,NaN);if(!s)return n;const r=n.getDate(),a=ga(t,n.getTime());a.setMonth(n.getMonth()+s+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const rC=6048e5,coe=864e5,doe=6e4,Bx=43200,$A=1440;let uoe={};function rm(){return uoe}function vl(t,s){var o,c,d,u;const n=rm(),r=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=os(t),i=a.getDay(),l=(i<r?7:0)+i-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Rd(t){return vl(t,{weekStartsOn:1})}function rB(t){const s=os(t),n=s.getFullYear(),r=ga(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Rd(r),i=ga(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Rd(i);return s.getTime()>=a.getTime()?n+1:s.getTime()>=l.getTime()?n:n-1}function Eh(t){const s=os(t);return s.setHours(0,0,0,0),s}function Th(t){const s=os(t),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+t-+n}function Pi(t,s){const n=Eh(t),r=Eh(s),a=+n-Th(n),i=+r-Th(r);return Math.round((a-i)/coe)}function hoe(t){const s=rB(t),n=ga(t,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Rd(n)}function eS(t,s){const n=s*7;return wr(t,n)}function moe(t,s){return Ii(t,s*12)}function foe(t){let s;return t.forEach(function(n){const r=os(n);(s===void 0||s<r||isNaN(Number(r)))&&(s=r)}),s||new Date(NaN)}function poe(t){let s;return t.forEach(n=>{const r=os(n);(!s||s>r||isNaN(+r))&&(s=r)}),s||new Date(NaN)}function g0(t,s){const n=os(t),r=os(s),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function goe(t){return ga(t,Date.now())}function ca(t,s){const n=Eh(t),r=Eh(s);return+n==+r}function aC(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xoe(t){if(!aC(t)&&typeof t!="number")return!1;const s=os(t);return!isNaN(Number(s))}function Ph(t,s){const n=os(t),r=os(s),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function voe(t,s,n){const r=vl(t,n),a=vl(s,n),i=+r-Th(r),l=+a-Th(a);return Math.round((i-l)/rC)}function lo(t,s){const n=os(t),r=os(s),a=UA(n,r),i=Math.abs(Pi(n,r));n.setDate(n.getDate()-a*i);const l=+(UA(n,r)===-a),o=a*(i-l);return o===0?0:o}function UA(t,s){const n=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return n<0?-1:n>0?1:n}function aB(t){return s=>{const n=Math.trunc,r=n(s);return r===0?0:r}}function iB(t,s){return+os(t)-+os(s)}function yoe(t,s,n){const r=iB(t,s)/doe;return aB()(r)}function boe(t){const s=os(t);return s.setHours(23,59,59,999),s}function ay(t){const s=os(t),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function joe(t){const s=os(t);return+boe(s)==+ay(s)}function woe(t,s){const n=os(t),r=os(s),a=g0(n,r),i=Math.abs(Ph(n,r));let l;if(i<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let o=g0(n,r)===-a;joe(os(t))&&i===1&&g0(t,r)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function Noe(t,s,n){const r=iB(t,s)/1e3;return aB()(r)}function ma(t){const s=os(t);return s.setDate(1),s.setHours(0,0,0,0),s}function lB(t){const s=os(t),n=ga(t,0);return n.setFullYear(s.getFullYear(),0,1),n.setHours(0,0,0,0),n}function iC(t,s){var o,c,d,u;const n=rm(),r=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=os(t),i=a.getDay(),l=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function oB(t){return iC(t,{weekStartsOn:1})}const _oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Soe=(t,s,n)=>{let r;const a=_oe[t];return typeof a=="string"?r=a:s===1?r=a.one:r=a.other.replace("{{count}}",s.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rw(t){return(s={})=>{const n=s.width?String(s.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Coe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},koe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Eoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Toe={date:rw({formats:Coe,defaultWidth:"full"}),time:rw({formats:koe,defaultWidth:"full"}),dateTime:rw({formats:Eoe,defaultWidth:"full"})},Poe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Aoe=(t,s,n,r)=>Poe[t];function ef(t){return(s,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):l;a=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return a[i]}}const Ooe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Moe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Doe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Roe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Foe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ioe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Loe=(t,s)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Boe={ordinalNumber:Loe,era:ef({values:Ooe,defaultWidth:"wide"}),quarter:ef({values:Moe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ef({values:Doe,defaultWidth:"wide"}),day:ef({values:Roe,defaultWidth:"wide"}),dayPeriod:ef({values:Foe,defaultWidth:"wide",formattingValues:Ioe,defaultFormattingWidth:"wide"})};function tf(t){return(s,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=s.match(a);if(!i)return null;const l=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?$oe(o,m=>m.test(l)):qoe(o,m=>m.test(l));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=s.slice(l.length);return{value:d,rest:u}}}function qoe(t,s){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&s(t[n]))return n}function $oe(t,s){for(let n=0;n<t.length;n++)if(s(t[n]))return n}function Uoe(t){return(s,n={})=>{const r=s.match(t.matchPattern);if(!r)return null;const a=r[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const o=s.slice(a.length);return{value:l,rest:o}}}const zoe=/^(\d+)(th|st|nd|rd)?/i,Voe=/\d+/i,Woe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hoe={any:[/^b/i,/^(a|c)/i]},Koe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Goe={any:[/1/i,/2/i,/3/i,/4/i]},Yoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qoe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Joe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ece={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tce={ordinalNumber:Uoe({matchPattern:zoe,parsePattern:Voe,valueCallback:t=>parseInt(t,10)}),era:tf({matchPatterns:Woe,defaultMatchWidth:"wide",parsePatterns:Hoe,defaultParseWidth:"any"}),quarter:tf({matchPatterns:Koe,defaultMatchWidth:"wide",parsePatterns:Goe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tf({matchPatterns:Yoe,defaultMatchWidth:"wide",parsePatterns:Qoe,defaultParseWidth:"any"}),day:tf({matchPatterns:Joe,defaultMatchWidth:"wide",parsePatterns:Xoe,defaultParseWidth:"any"}),dayPeriod:tf({matchPatterns:Zoe,defaultMatchWidth:"any",parsePatterns:ece,defaultParseWidth:"any"})},lC={code:"en-US",formatDistance:Soe,formatLong:Toe,formatRelative:Aoe,localize:Boe,match:tce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sce(t){const s=os(t);return Pi(s,lB(s))+1}function cB(t){const s=os(t),n=+Rd(s)-+hoe(s);return Math.round(n/rC)+1}function dB(t,s){var u,m,h,p;const n=os(t),r=n.getFullYear(),a=rm(),i=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=ga(t,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const o=vl(l,s),c=ga(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=vl(c,s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function nce(t,s){var o,c,d,u;const n=rm(),r=(s==null?void 0:s.firstWeekContainsDate)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=dB(t,s),i=ga(t,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),vl(i,s)}function uB(t,s){const n=os(t),r=+vl(n,s)-+nce(n,s);return Math.round(r/rC)+1}function Js(t,s){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(s,"0");return n+r}const $o={y(t,s){const n=t.getFullYear(),r=n>0?n:1-n;return Js(s==="yy"?r%100:r,s.length)},M(t,s){const n=t.getMonth();return s==="M"?String(n+1):Js(n+1,2)},d(t,s){return Js(t.getDate(),s.length)},a(t,s){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,s){return Js(t.getHours()%12||12,s.length)},H(t,s){return Js(t.getHours(),s.length)},m(t,s){return Js(t.getMinutes(),s.length)},s(t,s){return Js(t.getSeconds(),s.length)},S(t,s){const n=s.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Js(a,s.length)}},Lu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zA={G:function(t,s,n){const r=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,s,n){if(s==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return $o.y(t,s)},Y:function(t,s,n,r){const a=dB(t,r),i=a>0?a:1-a;if(s==="YY"){const l=i%100;return Js(l,2)}return s==="Yo"?n.ordinalNumber(i,{unit:"year"}):Js(i,s.length)},R:function(t,s){const n=rB(t);return Js(n,s.length)},u:function(t,s){const n=t.getFullYear();return Js(n,s.length)},Q:function(t,s,n){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(r);case"QQ":return Js(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,s,n){const r=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(r);case"qq":return Js(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,s,n){const r=t.getMonth();switch(s){case"M":case"MM":return $o.M(t,s);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,s,n){const r=t.getMonth();switch(s){case"L":return String(r+1);case"LL":return Js(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,s,n,r){const a=uB(t,r);return s==="wo"?n.ordinalNumber(a,{unit:"week"}):Js(a,s.length)},I:function(t,s,n){const r=cB(t);return s==="Io"?n.ordinalNumber(r,{unit:"week"}):Js(r,s.length)},d:function(t,s,n){return s==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$o.d(t,s)},D:function(t,s,n){const r=sce(t);return s==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Js(r,s.length)},E:function(t,s,n){const r=t.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,s,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Js(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,s,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Js(i,s.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,s,n){const r=t.getDay(),a=r===0?7:r;switch(s){case"i":return String(a);case"ii":return Js(a,s.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,s,n){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,s,n){const r=t.getHours();let a;switch(r===12?a=Lu.noon:r===0?a=Lu.midnight:a=r/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,s,n){const r=t.getHours();let a;switch(r>=17?a=Lu.evening:r>=12?a=Lu.afternoon:r>=4?a=Lu.morning:a=Lu.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,s,n){if(s==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $o.h(t,s)},H:function(t,s,n){return s==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$o.H(t,s)},K:function(t,s,n){const r=t.getHours()%12;return s==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Js(r,s.length)},k:function(t,s,n){let r=t.getHours();return r===0&&(r=24),s==="ko"?n.ordinalNumber(r,{unit:"hour"}):Js(r,s.length)},m:function(t,s,n){return s==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$o.m(t,s)},s:function(t,s,n){return s==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$o.s(t,s)},S:function(t,s){return $o.S(t,s)},X:function(t,s,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(s){case"X":return WA(r);case"XXXX":case"XX":return Yc(r);case"XXXXX":case"XXX":default:return Yc(r,":")}},x:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"x":return WA(r);case"xxxx":case"xx":return Yc(r);case"xxxxx":case"xxx":default:return Yc(r,":")}},O:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+VA(r,":");case"OOOO":default:return"GMT"+Yc(r,":")}},z:function(t,s,n){const r=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+VA(r,":");case"zzzz":default:return"GMT"+Yc(r,":")}},t:function(t,s,n){const r=Math.trunc(t.getTime()/1e3);return Js(r,s.length)},T:function(t,s,n){const r=t.getTime();return Js(r,s.length)}};function VA(t,s=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+s+Js(i,2)}function WA(t,s){return t%60===0?(t>0?"-":"+")+Js(Math.abs(t)/60,2):Yc(t,s)}function Yc(t,s=""){const n=t>0?"-":"+",r=Math.abs(t),a=Js(Math.trunc(r/60),2),i=Js(r%60,2);return n+a+s+i}const HA=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},hB=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},rce=(t,s)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return HA(t,s);let i;switch(r){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",HA(r,s)).replace("{{time}}",hB(a,s))},ace={p:hB,P:rce},ice=/^D+$/,lce=/^Y+$/,oce=["D","DD","YY","YYYY"];function cce(t){return ice.test(t)}function dce(t){return lce.test(t)}function uce(t,s,n){const r=hce(t,s,n);if(console.warn(r),oce.includes(t))throw new RangeError(r)}function hce(t,s,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pce=/^'([^]*?)'?$/,gce=/''/g,xce=/[a-zA-Z]/;function Ot(t,s,n){var u,m,h,p,x,y,v,j;const r=rm(),a=(n==null?void 0:n.locale)??r.locale??lC,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((j=(v=r.locale)==null?void 0:v.options)==null?void 0:j.weekStartsOn)??0,o=os(t);if(!xoe(o))throw new RangeError("Invalid time value");let c=s.match(fce).map(w=>{const N=w[0];if(N==="p"||N==="P"){const _=ace[N];return _(w,a.formatLong)}return w}).join("").match(mce).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:vce(w)};if(zA[N])return{isToken:!0,value:w};if(N.match(xce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&dce(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&cce(N))&&uce(N,s,String(t));const _=zA[N[0]];return _(o,N,a.localize,d)}).join("")}function vce(t){const s=t.match(pce);return s?s[1].replace(gce,"'"):t}function yce(t,s,n){const r=rm(),a=(n==null?void 0:n.locale)??r.locale??lC,i=2520,l=g0(t,s);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let c,d;l>0?(c=os(s),d=os(t)):(c=os(t),d=os(s));const u=Noe(d,c),m=(Th(d)-Th(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):h===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",h,o);if(h<45)return a.formatDistance("xMinutes",h,o);if(h<90)return a.formatDistance("aboutXHours",1,o);if(h<$A){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,o)}else{if(h<i)return a.formatDistance("xDays",1,o);if(h<Bx){const x=Math.round(h/$A);return a.formatDistance("xDays",x,o)}else if(h<Bx*2)return p=Math.round(h/Bx),a.formatDistance("aboutXMonths",p,o)}if(p=woe(d,c),p<12){const x=Math.round(h/Bx);return a.formatDistance("xMonths",x,o)}else{const x=p%12,y=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",y,o):x<9?a.formatDistance("overXYears",y,o):a.formatDistance("almostXYears",y+1,o)}}function mB(t,s){return yce(t,goe(t),s)}function bce(t){const s=os(t),n=s.getFullYear(),r=s.getMonth(),a=ga(t,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function jce(t){return Math.trunc(+os(t)/1e3)}function wce(t){const s=os(t),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(0,0,0,0),s}function Nce(t,s){return voe(wce(t),ma(t),s)+1}function tS(t,s){const n=os(t),r=os(s);return n.getTime()>r.getTime()}function Y0(t,s){const n=os(t),r=os(s);return+n<+r}function oC(t,s){const n=os(t),r=os(s);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _ce(t,s){const n=os(t),r=os(s);return n.getFullYear()===r.getFullYear()}function aw(t,s){return wr(t,-s)}function iw(t,s){const n=os(t),r=n.getFullYear(),a=n.getDate(),i=ga(t,0);i.setFullYear(r,s,15),i.setHours(0,0,0,0);const l=bce(i);return n.setMonth(s,Math.min(a,l)),n}function KA(t,s){const n=os(t);return isNaN(+n)?ga(t,NaN):(n.setFullYear(s),n)}function Sce({event:t,organizationInfo:s,isFeatureExcluded:n}){const r=t.start_date?new Date(t.start_date):null,a=t.end_date?new Date(t.end_date):null,i=t.available_seats===0||t.available_seats===null,l=t.program_tag&&(s!=null&&s.program_ticket_balances)&&s.program_ticket_balances[t.program_tag]||0,o=l>0,c=t.program_tag&&!o;t.backstage_public_url;const d=!n||!n("element_AvailableSeatsDisplay");return e.jsxs(le,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 border-slate-200 bg-white",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-blue-50 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[t.program_tag&&e.jsx(ye,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200",children:t.program_tag}),s&&t.program_tag&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[e.jsx(Ls,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"font-medium",children:l})]})]}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-xs font-medium text-amber-900",children:"Purchase tickets to attend"})})]})]}),t.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsxs(Fe,{className:"pb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-slate-900 line-clamp-2",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mt-2",children:t.description})]}),e.jsxs(ce,{className:"space-y-3",children:[r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ns,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(r,"MMM d, yyyy")}),a&&r.getTime()!==a.getTime()&&e.jsxs("span",{className:"text-slate-400",children:["- ",Ot(a,"MMM d, yyyy")]})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(r,"h:mm a")})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:t.location})]}),d&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Cs,{className:"w-4 h-4 text-slate-400"}),i?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration"}):t.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[t.available_seats," seats available"]}):e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-100",children:c?e.jsxs(X,{className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",onClick:()=>window.location.href=Te("BuyProgramTickets"),children:[e.jsx(Vd,{className:"w-4 h-4 mr-2"}),"Buy Tickets"]}):e.jsx(X,{className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!i&&t.available_seats===0,onClick:()=>window.location.href=Te("EventDetails")+"?id="+t.id,children:!i&&t.available_seats===0?"Sold Out":"Register"})})]})]})}function Cce({programs:t,selectedProgram:s,onProgramChange:n}){return e.jsxs("div",{className:"flex items-center gap-2 min-w-[200px]",children:[e.jsx(gY,{className:"w-4 h-4 text-slate-400"}),e.jsxs(Ge,{value:s,onValueChange:n,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Filter by program"})}),e.jsx(We,{children:t.map(r=>e.jsx(re,{value:r,children:r==="all"?"All Programs":r},r))})]})]})}const cC=b.createContext({});function dC(t){const s=b.useRef(null);return s.current===null&&(s.current=t()),s.current}const uC=typeof window<"u",fB=uC?b.useLayoutEffect:b.useEffect,iy=b.createContext(null);function hC(t,s){t.indexOf(s)===-1&&t.push(s)}function mC(t,s){const n=t.indexOf(s);n>-1&&t.splice(n,1)}const oo=(t,s,n)=>n>s?s:n<t?t:n;let fC=()=>{};const co={},pB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gB(t){return typeof t=="object"&&t!==null}const xB=t=>/^0[^.\s]+$/u.test(t);function pC(t){let s;return()=>(s===void 0&&(s=t()),s)}const li=t=>t,kce=(t,s)=>n=>s(t(n)),Kp=(...t)=>t.reduce(kce),Zf=(t,s,n)=>{const r=s-t;return r===0?1:(n-t)/r};class gC{constructor(){this.subscriptions=[]}add(s){return hC(this.subscriptions,s),()=>mC(this.subscriptions,s)}notify(s,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,n,r);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(s,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fl=t=>t*1e3,ai=t=>t/1e3;function vB(t,s){return s?t*(1e3/s):0}const yB=(t,s,n)=>(((1-3*n+3*s)*t+(3*n-6*s))*t+3*s)*t,Ece=1e-7,Tce=12;function Pce(t,s,n,r,a){let i,l,o=0;do l=s+(n-s)/2,i=yB(l,r,a)-t,i>0?n=l:s=l;while(Math.abs(i)>Ece&&++o<Tce);return l}function Gp(t,s,n,r){if(t===s&&n===r)return li;const a=i=>Pce(i,0,1,t,n);return i=>i===0||i===1?i:yB(a(i),s,r)}const bB=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,jB=t=>s=>1-t(1-s),wB=Gp(.33,1.53,.69,.99),xC=jB(wB),NB=bB(xC),_B=t=>(t*=2)<1?.5*xC(t):.5*(2-Math.pow(2,-10*(t-1))),vC=t=>1-Math.sin(Math.acos(t)),SB=jB(vC),CB=bB(vC),Ace=Gp(.42,0,1,1),Oce=Gp(0,0,.58,1),kB=Gp(.42,0,.58,1),Mce=t=>Array.isArray(t)&&typeof t[0]!="number",EB=t=>Array.isArray(t)&&typeof t[0]=="number",Dce={linear:li,easeIn:Ace,easeInOut:kB,easeOut:Oce,circIn:vC,circInOut:CB,circOut:SB,backIn:xC,backInOut:NB,backOut:wB,anticipate:_B},Rce=t=>typeof t=="string",GA=t=>{if(EB(t)){fC(t.length===4);const[s,n,r,a]=t;return Gp(s,n,r,a)}else if(Rce(t))return Dce[t];return t},qx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Fce(t,s){let n=new Set,r=new Set,a=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(d.schedule(u),t()),u(o)}const d={schedule:(u,m=!1,h=!1)=>{const x=h&&a?n:r;return m&&l.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),l.delete(u)},process:u=>{if(o=u,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const Ice=40;function TB(t,s){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,l=qx.reduce((N,_)=>(N[_]=Fce(i),N),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:h,render:p,postRender:x}=l,y=()=>{const N=co.useManualTiming?a.timestamp:performance.now();n=!1,co.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(N-a.timestamp,Ice),1)),a.timestamp=N,a.isProcessing=!0,o.process(a),c.process(a),d.process(a),u.process(a),m.process(a),h.process(a),p.process(a),x.process(a),a.isProcessing=!1,n&&s&&(r=!1,t(y))},v=()=>{n=!0,r=!0,a.isProcessing||t(y)};return{schedule:qx.reduce((N,_)=>{const P=l[_];return N[_]=(A,E=!1,C=!1)=>(n||v(),P.schedule(A,E,C)),N},{}),cancel:N=>{for(let _=0;_<qx.length;_++)l[qx[_]].cancel(N)},state:a,steps:l}}const{schedule:wn,cancel:fc,state:fr,steps:lw}=TB(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let x0;function Lce(){x0=void 0}const da={now:()=>(x0===void 0&&da.set(fr.isProcessing||co.useManualTiming?fr.timestamp:performance.now()),x0),set:t=>{x0=t,queueMicrotask(Lce)}},PB=t=>s=>typeof s=="string"&&s.startsWith(t),yC=PB("--"),Bce=PB("var(--"),bC=t=>Bce(t)?qce.test(t.split("/*")[0].trim()):!1,qce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,am={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ep={...am,transform:t=>oo(0,1,t)},$x={...am,default:1},Ef=t=>Math.round(t*1e5)/1e5,jC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $ce(t){return t==null}const Uce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wC=(t,s)=>n=>!!(typeof n=="string"&&Uce.test(n)&&n.startsWith(t)||s&&!$ce(n)&&Object.prototype.hasOwnProperty.call(n,s)),AB=(t,s,n)=>r=>{if(typeof r!="string")return r;const[a,i,l,o]=r.match(jC);return{[t]:parseFloat(a),[s]:parseFloat(i),[n]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},zce=t=>oo(0,255,t),ow={...am,transform:t=>Math.round(zce(t))},ld={test:wC("rgb","red"),parse:AB("red","green","blue"),transform:({red:t,green:s,blue:n,alpha:r=1})=>"rgba("+ow.transform(t)+", "+ow.transform(s)+", "+ow.transform(n)+", "+Ef(ep.transform(r))+")"};function Vce(t){let s="",n="",r="",a="";return t.length>5?(s=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(s=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),s+=s,n+=n,r+=r,a+=a),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const sS={test:wC("#"),parse:Vce,transform:ld.transform},Yp=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Wo=Yp("deg"),pl=Yp("%"),as=Yp("px"),Wce=Yp("vh"),Hce=Yp("vw"),YA={...pl,parse:t=>pl.parse(t)/100,transform:t=>pl.transform(t*100)},Ku={test:wC("hsl","hue"),parse:AB("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pl.transform(Ef(s))+", "+pl.transform(Ef(n))+", "+Ef(ep.transform(r))+")"},Vn={test:t=>ld.test(t)||sS.test(t)||Ku.test(t),parse:t=>ld.test(t)?ld.parse(t):Ku.test(t)?Ku.parse(t):sS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ld.transform(t):Ku.transform(t),getAnimatableNone:t=>{const s=Vn.parse(t);return s.alpha=0,Vn.transform(s)}},Kce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gce(t){var s,n;return isNaN(t)&&typeof t=="string"&&(((s=t.match(jC))==null?void 0:s.length)||0)+(((n=t.match(Kce))==null?void 0:n.length)||0)>0}const OB="number",MB="color",Yce="var",Qce="var(",QA="${}",Jce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tp(t){const s=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const o=s.replace(Jce,c=>(Vn.test(c)?(r.color.push(i),a.push(MB),n.push(Vn.parse(c))):c.startsWith(Qce)?(r.var.push(i),a.push(Yce),n.push(c)):(r.number.push(i),a.push(OB),n.push(parseFloat(c))),++i,QA)).split(QA);return{values:n,split:o,indexes:r,types:a}}function DB(t){return tp(t).values}function RB(t){const{split:s,types:n}=tp(t),r=s.length;return a=>{let i="";for(let l=0;l<r;l++)if(i+=s[l],a[l]!==void 0){const o=n[l];o===OB?i+=Ef(a[l]):o===MB?i+=Vn.transform(a[l]):i+=a[l]}return i}}const Xce=t=>typeof t=="number"?0:Vn.test(t)?Vn.getAnimatableNone(t):t;function Zce(t){const s=DB(t);return RB(t)(s.map(Xce))}const pc={test:Gce,parse:DB,createTransformer:RB,getAnimatableNone:Zce};function cw(t,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(s-t)*6*n:n<1/2?s:n<2/3?t+(s-t)*(2/3-n)*6:t}function ede({hue:t,saturation:s,lightness:n,alpha:r}){t/=360,s/=100,n/=100;let a=0,i=0,l=0;if(!s)a=i=l=n;else{const o=n<.5?n*(1+s):n+s-n*s,c=2*n-o;a=cw(c,o,t+1/3),i=cw(c,o,t),l=cw(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:r}}function Q0(t,s){return n=>n>0?s:t}const En=(t,s,n)=>t+(s-t)*n,dw=(t,s,n)=>{const r=t*t,a=n*(s*s-r)+r;return a<0?0:Math.sqrt(a)},tde=[sS,ld,Ku],sde=t=>tde.find(s=>s.test(t));function JA(t){const s=sde(t);if(!s)return!1;let n=s.parse(t);return s===Ku&&(n=ede(n)),n}const XA=(t,s)=>{const n=JA(t),r=JA(s);if(!n||!r)return Q0(t,s);const a={...n};return i=>(a.red=dw(n.red,r.red,i),a.green=dw(n.green,r.green,i),a.blue=dw(n.blue,r.blue,i),a.alpha=En(n.alpha,r.alpha,i),ld.transform(a))},nS=new Set(["none","hidden"]);function nde(t,s){return nS.has(t)?n=>n<=0?t:s:n=>n>=1?s:t}function rde(t,s){return n=>En(t,s,n)}function NC(t){return typeof t=="number"?rde:typeof t=="string"?bC(t)?Q0:Vn.test(t)?XA:lde:Array.isArray(t)?FB:typeof t=="object"?Vn.test(t)?XA:ade:Q0}function FB(t,s){const n=[...t],r=n.length,a=t.map((i,l)=>NC(i)(i,s[l]));return i=>{for(let l=0;l<r;l++)n[l]=a[l](i);return n}}function ade(t,s){const n={...t,...s},r={};for(const a in n)t[a]!==void 0&&s[a]!==void 0&&(r[a]=NC(t[a])(t[a],s[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function ide(t,s){const n=[],r={color:0,var:0,number:0};for(let a=0;a<s.values.length;a++){const i=s.types[a],l=t.indexes[i][r[i]],o=t.values[l]??0;n[a]=o,r[i]++}return n}const lde=(t,s)=>{const n=pc.createTransformer(s),r=tp(t),a=tp(s);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?nS.has(t)&&!a.values.length||nS.has(s)&&!r.values.length?nde(t,s):Kp(FB(ide(r,a),a.values),n):Q0(t,s)};function IB(t,s,n){return typeof t=="number"&&typeof s=="number"&&typeof n=="number"?En(t,s,n):NC(t)(t,s)}const ode=t=>{const s=({timestamp:n})=>t(n);return{start:(n=!0)=>wn.update(s,n),stop:()=>fc(s),now:()=>fr.isProcessing?fr.timestamp:da.now()}},LB=(t,s,n=10)=>{let r="";const a=Math.max(Math.round(s/n),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},J0=2e4;function _C(t){let s=0;const n=50;let r=t.next(s);for(;!r.done&&s<J0;)s+=n,r=t.next(s);return s>=J0?1/0:s}function cde(t,s=100,n){const r=n({...t,keyframes:[0,s]}),a=Math.min(_C(r),J0);return{type:"keyframes",ease:i=>r.next(a*i).value/s,duration:ai(a)}}const dde=5;function BB(t,s,n){const r=Math.max(s-dde,0);return vB(n-t(r),s-r)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uw=.001;function ude({duration:t=Mn.duration,bounce:s=Mn.bounce,velocity:n=Mn.velocity,mass:r=Mn.mass}){let a,i,l=1-s;l=oo(Mn.minDamping,Mn.maxDamping,l),t=oo(Mn.minDuration,Mn.maxDuration,ai(t)),l<1?(a=d=>{const u=d*l,m=u*t,h=u-n,p=rS(d,l),x=Math.exp(-m);return uw-h/p*x},i=d=>{const m=d*l*t,h=m*n+n,p=Math.pow(l,2)*Math.pow(d,2)*t,x=Math.exp(-m),y=rS(Math.pow(d,2),l);return(-a(d)+uw>0?-1:1)*((h-p)*x)/y}):(a=d=>{const u=Math.exp(-d*t),m=(d-n)*t+1;return-uw+u*m},i=d=>{const u=Math.exp(-d*t),m=(n-d)*(t*t);return u*m});const o=5/t,c=mde(a,i,o);if(t=fl(t),isNaN(c))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:t}}}const hde=12;function mde(t,s,n){let r=n;for(let a=1;a<hde;a++)r=r-t(r)/s(r);return r}function rS(t,s){return t*Math.sqrt(1-s*s)}const fde=["duration","bounce"],pde=["stiffness","damping","mass"];function ZA(t,s){return s.some(n=>t[n]!==void 0)}function gde(t){let s={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...t};if(!ZA(t,pde)&&ZA(t,fde))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*oo(.05,1,1-(t.bounce||0))*Math.sqrt(a);s={...s,mass:Mn.mass,stiffness:a,damping:i}}else{const n=ude(t);s={...s,...n,mass:Mn.mass},s.isResolvedFromDuration=!0}return s}function X0(t=Mn.visualDuration,s=Mn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:p}=gde({...n,velocity:-ai(n.velocity||0)}),x=h||0,y=d/(2*Math.sqrt(c*u)),v=l-i,j=ai(Math.sqrt(c/u)),w=Math.abs(v)<5;r||(r=w?Mn.restSpeed.granular:Mn.restSpeed.default),a||(a=w?Mn.restDelta.granular:Mn.restDelta.default);let N;if(y<1){const P=rS(j,y);N=A=>{const E=Math.exp(-y*j*A);return l-E*((x+y*j*v)/P*Math.sin(P*A)+v*Math.cos(P*A))}}else if(y===1)N=P=>l-Math.exp(-j*P)*(v+(x+j*v)*P);else{const P=j*Math.sqrt(y*y-1);N=A=>{const E=Math.exp(-y*j*A),C=Math.min(P*A,300);return l-E*((x+y*j*v)*Math.sinh(C)+P*v*Math.cosh(C))/P}}const _={calculatedDuration:p&&m||null,next:P=>{const A=N(P);if(p)o.done=P>=m;else{let E=P===0?x:0;y<1&&(E=P===0?fl(x):BB(N,P,A));const C=Math.abs(E)<=r,R=Math.abs(l-A)<=a;o.done=C&&R}return o.value=o.done?l:A,o},toString:()=>{const P=Math.min(_C(_),J0),A=LB(E=>_.next(P*E).value,P,30);return P+"ms "+A},toTransition:()=>{}};return _}X0.applyToOptions=t=>{const s=cde(t,100,X0);return t.ease=s.ease,t.duration=fl(s.duration),t.type="keyframes",t};function aS({keyframes:t,velocity:s=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const m=t[0],h={done:!1,value:m},p=C=>o!==void 0&&C<o||c!==void 0&&C>c,x=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let y=n*s;const v=m+y,j=l===void 0?v:l(v);j!==v&&(y=j-m);const w=C=>-y*Math.exp(-C/r),N=C=>j+w(C),_=C=>{const R=w(C),O=N(C);h.done=Math.abs(R)<=d,h.value=h.done?j:O};let P,A;const E=C=>{p(h.value)&&(P=C,A=X0({keyframes:[h.value,x(h.value)],velocity:BB(N,C,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:C=>{let R=!1;return!A&&P===void 0&&(R=!0,_(C),E(C)),P!==void 0&&C>=P?A.next(C-P):(!R&&_(C),h)}}}function xde(t,s,n){const r=[],a=n||co.mix||IB,i=t.length-1;for(let l=0;l<i;l++){let o=a(t[l],t[l+1]);if(s){const c=Array.isArray(s)?s[l]||li:s;o=Kp(c,o)}r.push(o)}return r}function vde(t,s,{clamp:n=!0,ease:r,mixer:a}={}){const i=t.length;if(fC(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const o=xde(s,r,a),c=o.length,d=u=>{if(l&&u<t[0])return s[0];let m=0;if(c>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const h=Zf(t[m],t[m+1],u);return o[m](h)};return n?u=>d(oo(t[0],t[i-1],u)):d}function yde(t,s){const n=t[t.length-1];for(let r=1;r<=s;r++){const a=Zf(0,s,r);t.push(En(n,1,a))}}function bde(t){const s=[0];return yde(s,t.length-1),s}function jde(t,s){return t.map(n=>n*s)}function wde(t,s){return t.map(()=>s||kB).splice(0,t.length-1)}function Tf({duration:t=300,keyframes:s,times:n,ease:r="easeInOut"}){const a=Mce(r)?r.map(GA):GA(r),i={done:!1,value:s[0]},l=jde(n&&n.length===s.length?n:bde(s),t),o=vde(l,s,{ease:Array.isArray(a)?a:wde(s,a)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const Nde=t=>t!==null;function SC(t,{repeat:s,repeatType:n="loop"},r,a=1){const i=t.filter(Nde),o=a<0||s&&n!=="loop"&&s%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const _de={decay:aS,inertia:aS,tween:Tf,keyframes:Tf,spring:X0};function qB(t){typeof t.type=="string"&&(t.type=_de[t.type])}class CC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const Sde=t=>t/100;class kC extends CC{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==da.now()&&this.tick(da.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;qB(s);const{type:n=Tf,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:l=0}=s;let{keyframes:o}=s;const c=n||Tf;c!==Tf&&typeof o[0]!="number"&&(this.mixKeyframes=Kp(Sde,IB(o[0],o[1])),o=[0,100]);const d=c({...s,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...s,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=_C(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:h,repeatDelay:p,type:x,onUpdate:y,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-a/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,_=r;if(m){const C=Math.min(this.currentTime,a)/o;let R=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(h==="reverse"?(O=1-O,p&&(O-=p/o)):h==="mirror"&&(_=l)),N=oo(0,1,O)*o}const P=w?{done:!1,value:u[0]}:_.next(N);i&&(P.value=i(P.value));let{done:A}=P;!w&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&x!==aS&&(P.value=SC(u,this.options,v,this.speed)),y&&y(P.value),E&&this.finish(),P}then(s,n){return this.finished.then(s,n)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+ai(s)}get time(){return ai(this.currentTime)}set time(s){var n;s=fl(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(da.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=ai(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:s=ode,startTime:n}=this.options;this.driver||(this.driver=s(l=>this.tick(l))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(da.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(s=this.options).onComplete)==null||n.call(s)}cancel(){var s,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(s=this.options).onCancel)==null||n.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),s.observe(this)}}function Cde(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const od=t=>t*180/Math.PI,iS=t=>{const s=od(Math.atan2(t[1],t[0]));return lS(s)},kde={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iS,rotateZ:iS,skewX:t=>od(Math.atan(t[1])),skewY:t=>od(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lS=t=>(t=t%360,t<0&&(t+=360),t),eO=iS,tO=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sO=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ede={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tO,scaleY:sO,scale:t=>(tO(t)+sO(t))/2,rotateX:t=>lS(od(Math.atan2(t[6],t[5]))),rotateY:t=>lS(od(Math.atan2(-t[2],t[0]))),rotateZ:eO,rotate:eO,skewX:t=>od(Math.atan(t[4])),skewY:t=>od(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oS(t){return t.includes("scale")?1:0}function cS(t,s){if(!t||t==="none")return oS(s);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Ede,a=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kde,a=o}if(!a)return oS(s);const i=r[s],l=a[1].split(",").map(Pde);return typeof i=="function"?i(l):l[i]}const Tde=(t,s)=>{const{transform:n="none"}=getComputedStyle(t);return cS(n,s)};function Pde(t){return parseFloat(t.trim())}const im=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lm=new Set(im),nO=t=>t===am||t===as,Ade=new Set(["x","y","z"]),Ode=im.filter(t=>!Ade.has(t));function Mde(t){const s=[];return Ode.forEach(n=>{const r=t.getValue(n);r!==void 0&&(s.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),s}const jd={width:({x:t},{paddingLeft:s="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),height:({y:t},{paddingTop:s="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>cS(s,"x"),y:(t,{transform:s})=>cS(s,"y")};jd.translateX=jd.x;jd.translateY=jd.y;const wd=new Set;let dS=!1,uS=!1,hS=!1;function $B(){if(uS){const t=Array.from(wd).filter(r=>r.needsMeasurement),s=new Set(t.map(r=>r.element)),n=new Map;s.forEach(r=>{const a=Mde(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),s.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,l])=>{var o;(o=r.getValue(i))==null||o.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uS=!1,dS=!1,wd.forEach(t=>t.complete(hS)),wd.clear()}function UB(){wd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uS=!0)})}function Dde(){hS=!0,UB(),$B(),hS=!1}class EC{constructor(s,n,r,a,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(wd.add(this),dS||(dS=!0,wn.read(UB),wn.resolveKeyframes($B))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:r,motionValue:a}=this;if(s[0]===null){const i=a==null?void 0:a.get(),l=s[s.length-1];if(i!==void 0)s[0]=i;else if(r&&n){const o=r.readValue(n,l);o!=null&&(s[0]=o)}s[0]===void 0&&(s[0]=l),a&&i===void 0&&a.set(s[0])}Cde(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),wd.delete(this)}cancel(){this.state==="scheduled"&&(wd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rde=t=>t.startsWith("--");function Fde(t,s,n){Rde(s)?t.style.setProperty(s,n):t.style[s]=n}const Ide=pC(()=>window.ScrollTimeline!==void 0),Lde={};function Bde(t,s){const n=pC(t);return()=>Lde[s]??n()}const zB=Bde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jf=([t,s,n,r])=>`cubic-bezier(${t}, ${s}, ${n}, ${r})`,rO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jf([0,.65,.55,1]),circOut:jf([.55,0,1,.45]),backIn:jf([.31,.01,.66,-.59]),backOut:jf([.33,1.53,.69,.99])};function VB(t,s){if(t)return typeof t=="function"?zB()?LB(t,s):"ease-out":EB(t)?jf(t):Array.isArray(t)?t.map(n=>VB(n,s)||rO.easeOut):rO[t]}function qde(t,s,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[s]:n};c&&(u.offset=c);const m=VB(o,a);Array.isArray(m)&&(u.easing=m);const h={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return d&&(h.pseudoElement=d),t.animate(u,h)}function WB(t){return typeof t=="function"&&"applyToOptions"in t}function $de({type:t,...s}){return WB(t)&&zB()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class Ude extends CC{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=s;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=s,fC(typeof s.type!="string");const d=$de(s);this.animation=qde(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=SC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Fde(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,n;(n=(s=this.animation).finish)==null||n.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n;this.isPseudoElement||(n=(s=this.animation).commitStyles)==null||n.call(s)}get duration(){var n,r;const s=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ai(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+ai(s)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=fl(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&Ide()?(this.animation.timeline=s,li):n(this)}}const HB={anticipate:_B,backInOut:NB,circInOut:CB};function zde(t){return t in HB}function Vde(t){typeof t.ease=="string"&&zde(t.ease)&&(t.ease=HB[t.ease])}const aO=10;class Wde extends Ude{constructor(s){Vde(s),qB(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...l}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const o=new kC({...l,autoplay:!1}),c=fl(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-aO).value,o.sample(c).value,aO),o.stop()}}const iO=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pc.test(t)||t==="0")&&!t.startsWith("url("));function Hde(t){const s=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}function Kde(t,s,n,r){const a=t[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=iO(a,s),o=iO(i,s);return!l||!o?!1:Hde(t)||(n==="spring"||WB(n))&&r}function mS(t){t.duration=0,t.type="keyframes"}const Gde=new Set(["opacity","clipPath","filter","transform"]),Yde=pC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qde(t){var u;const{motionValue:s,name:n,repeatDelay:r,repeatType:a,damping:i,type:l}=t;if(!(((u=s==null?void 0:s.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return Yde()&&n&&Gde.has(n)&&(n!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&i!==0&&l!=="inertia"}const Jde=40;class Xde extends CC{constructor({autoplay:s=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...m}){var x;super(),this.stop=()=>{var y,v;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=da.now();const h={autoplay:s,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:l,name:c,motionValue:d,element:u,...m},p=(u==null?void 0:u.KeyframeResolver)||EC;this.keyframeResolver=new p(o,(y,v,j)=>this.onKeyframesResolved(y,v,h,!j),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(s,n,r,a){this.keyframeResolver=void 0;const{name:i,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=da.now(),Kde(s,i,l,o)||((co.instantAnimations||!c)&&(u==null||u(SC(s,r,n))),s[0]=s[s.length-1],mS(r),r.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Jde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:s},p=!d&&Qde(h)?new Wde({...h,element:h.motionValue.owner.current}):new kC(h);p.finished.then(()=>this.notifyFinished()).catch(li),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),Dde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const Zde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eue(t){const s=Zde.exec(t);if(!s)return[,];const[,n,r,a]=s;return[`--${n??r}`,a]}function KB(t,s,n=1){const[r,a]=eue(t);if(!r)return;const i=window.getComputedStyle(s).getPropertyValue(r);if(i){const l=i.trim();return pB(l)?parseFloat(l):l}return bC(a)?KB(a,s,n+1):a}function TC(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const GB=new Set(["width","height","top","left","right","bottom",...im]),tue={test:t=>t==="auto",parse:t=>t},YB=t=>s=>s.test(t),QB=[am,as,pl,Wo,Hce,Wce,tue],lO=t=>QB.find(YB(t));function sue(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xB(t):!0}const nue=new Set(["brightness","contrast","saturate","opacity"]);function rue(t){const[s,n]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[r]=n.match(jC)||[];if(!r)return t;const a=n.replace(r,"");let i=nue.has(s)?1:0;return r!==n&&(i*=100),s+"("+i+a+")"}const aue=/\b([a-z-]*)\(.*?\)/gu,fS={...pc,getAnimatableNone:t=>{const s=t.match(aue);return s?s.map(rue).join(" "):t}},oO={...am,transform:Math.round},iue={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:$x,scaleX:$x,scaleY:$x,scaleZ:$x,skew:Wo,skewX:Wo,skewY:Wo,distance:as,translateX:as,translateY:as,translateZ:as,x:as,y:as,z:as,perspective:as,transformPerspective:as,opacity:ep,originX:YA,originY:YA,originZ:as},PC={borderWidth:as,borderTopWidth:as,borderRightWidth:as,borderBottomWidth:as,borderLeftWidth:as,borderRadius:as,radius:as,borderTopLeftRadius:as,borderTopRightRadius:as,borderBottomRightRadius:as,borderBottomLeftRadius:as,width:as,maxWidth:as,height:as,maxHeight:as,top:as,right:as,bottom:as,left:as,padding:as,paddingTop:as,paddingRight:as,paddingBottom:as,paddingLeft:as,margin:as,marginTop:as,marginRight:as,marginBottom:as,marginLeft:as,backgroundPositionX:as,backgroundPositionY:as,...iue,zIndex:oO,fillOpacity:ep,strokeOpacity:ep,numOctaves:oO},lue={...PC,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:fS,WebkitFilter:fS},JB=t=>lue[t];function XB(t,s){let n=JB(t);return n!==fS&&(n=pc),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const oue=new Set(["auto","none","0"]);function cue(t,s,n){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!oue.has(i)&&tp(i).values.length&&(a=t[r]),r++}if(a&&n)for(const i of s)t[i]=XB(n,a)}class due extends EC{constructor(s,n,r,a,i){super(s,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<s.length;c++){let d=s[c];if(typeof d=="string"&&(d=d.trim(),bC(d))){const u=KB(d,n.current);u!==void 0&&(s[c]=u),c===s.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!GB.has(r)||s.length!==2)return;const[a,i]=s,l=lO(a),o=lO(i);if(l!==o)if(nO(l)&&nO(o))for(let c=0;c<s.length;c++){const d=s[c];typeof d=="string"&&(s[c]=parseFloat(d))}else jd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,r=[];for(let a=0;a<s.length;a++)(s[a]===null||sue(s[a]))&&r.push(a);r.length&&cue(s,r,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:r}=this;if(!s||!s.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jd[r](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&s.getValue(r,a).jump(a,!1)}measureEndState(){var o;const{element:s,name:n,unresolvedKeyframes:r}=this;if(!s||!s.current)return;const a=s.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,l=r[i];r[i]=jd[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function uue(t,s,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const ZB=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function e8(t){return gB(t)&&"offsetHeight"in t}const cO=30,hue=t=>!isNaN(parseFloat(t));class mue{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=da.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=da.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=hue(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new gC);const r=this.events[s].add(n);return s==="change"?()=>{r(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-r}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=da.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>cO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cO);return vB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,n;(s=this.dependents)==null||s.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ah(t,s){return new mue(t,s)}const{schedule:AC}=TB(queueMicrotask,!1),_i={x:!1,y:!1};function t8(){return _i.x||_i.y}function fue(t){return t==="x"||t==="y"?_i[t]?null:(_i[t]=!0,()=>{_i[t]=!1}):_i.x||_i.y?null:(_i.x=_i.y=!0,()=>{_i.x=_i.y=!1})}function s8(t,s){const n=uue(t),r=new AbortController,a={passive:!0,...s,signal:r.signal};return[n,a,()=>r.abort()]}function dO(t){return!(t.pointerType==="touch"||t8())}function pue(t,s,n={}){const[r,a,i]=s8(t,n),l=o=>{if(!dO(o))return;const{target:c}=o,d=s(c,o);if(typeof d!="function"||!c)return;const u=m=>{dO(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(o=>{o.addEventListener("pointerenter",l,a)}),i}const n8=(t,s)=>s?t===s?!0:n8(t,s.parentElement):!1,OC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xue(t){return gue.has(t.tagName)||t.tabIndex!==-1}const v0=new WeakSet;function uO(t){return s=>{s.key==="Enter"&&t(s)}}function hw(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const vue=(t,s)=>{const n=t.currentTarget;if(!n)return;const r=uO(()=>{if(v0.has(n))return;hw(n,"down");const a=uO(()=>{hw(n,"up")}),i=()=>hw(n,"cancel");n.addEventListener("keyup",a,s),n.addEventListener("blur",i,s)});n.addEventListener("keydown",r,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),s)};function hO(t){return OC(t)&&!t8()}function yue(t,s,n={}){const[r,a,i]=s8(t,n),l=o=>{const c=o.currentTarget;if(!hO(o))return;v0.add(c);const d=s(c,o),u=(p,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),v0.has(c)&&v0.delete(c),hO(p)&&typeof d=="function"&&d(p,{success:x})},m=p=>{u(p,c===window||c===document||n.useGlobalTarget||n8(c,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,a),e8(o)&&(o.addEventListener("focus",d=>vue(d,a)),!xue(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function r8(t){return gB(t)&&"ownerSVGElement"in t}function bue(t){return r8(t)&&t.tagName==="svg"}const Sr=t=>!!(t&&t.getVelocity),jue=[...QB,Vn,pc],wue=t=>jue.find(YB(t)),MC=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mO(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Nue(...t){return s=>{let n=!1;const r=t.map(a=>{const i=mO(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():mO(t[a],null)}}}}function _ue(...t){return b.useCallback(Nue(...t),t)}class Sue extends b.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=e8(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cue({children:t,isPresent:s,anchorX:n,root:r}){const a=b.useId(),i=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=b.useContext(MC),c=_ue(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:d,height:u,top:m,left:h,right:p}=l.current;if(s||!i.current||!d||!u)return;const x=n==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");o&&(y.nonce=o);const v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[s]),e.jsx(Sue,{isPresent:s,childRef:i,sizeRef:l,children:b.cloneElement(t,{ref:c})})}const kue=({children:t,initial:s,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:l,anchorX:o,root:c})=>{const d=dC(Eue),u=b.useId();let m=!0,h=b.useMemo(()=>(m=!1,{id:u,initial:s,isPresent:n,custom:a,onExitComplete:p=>{d.set(p,!0);for(const x of d.values())if(!x)return;r&&r()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[n,d,r]);return i&&m&&(h={...h}),b.useMemo(()=>{d.forEach((p,x)=>d.set(x,!1))},[n]),b.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=e.jsx(Cue,{isPresent:n,anchorX:o,root:c,children:t})),e.jsx(iy.Provider,{value:h,children:t})};function Eue(){return new Map}function a8(t=!0){const s=b.useContext(iy);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=s,i=b.useId();b.useEffect(()=>{if(t)return a(i)},[t]);const l=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,l]:[!0]}const Ux=t=>t.key||"";function fO(t){const s=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&s.push(n)}),s}const pO=({children:t,custom:s,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=a8(l),m=b.useMemo(()=>fO(t),[t]),h=l&&!d?[]:m.map(Ux),p=b.useRef(!0),x=b.useRef(m),y=dC(()=>new Map),[v,j]=b.useState(m),[w,N]=b.useState(m);fB(()=>{p.current=!1,x.current=m;for(let A=0;A<w.length;A++){const E=Ux(w[A]);h.includes(E)?y.delete(E):y.get(E)!==!0&&y.set(E,!1)}},[w,h.length,h.join("-")]);const _=[];if(m!==v){let A=[...m];for(let E=0;E<w.length;E++){const C=w[E],R=Ux(C);h.includes(R)||(A.splice(E,0,C),_.push(C))}return i==="wait"&&_.length&&(A=_),N(fO(A)),j(m),null}const{forceRender:P}=b.useContext(cC);return e.jsx(e.Fragment,{children:w.map(A=>{const E=Ux(A),C=l&&!d?!1:m===w||h.includes(E),R=()=>{if(y.has(E))y.set(E,!0);else return;let O=!0;y.forEach(k=>{k||(O=!1)}),O&&(P==null||P(),N(x.current),l&&(u==null||u()),r&&r())};return e.jsx(kue,{isPresent:C,initial:!p.current||n?void 0:!1,custom:s,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:R,anchorX:o,children:A},E)})})},i8=b.createContext({strict:!1}),gO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oh={};for(const t in gO)Oh[t]={isEnabled:s=>gO[t].some(n=>!!s[n])};function Tue(t){for(const s in t)Oh[s]={...Oh[s],...t[s]}}const Pue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Z0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pue.has(t)}let l8=t=>!Z0(t);function Aue(t){typeof t=="function"&&(l8=s=>s.startsWith("on")?!Z0(s):t(s))}try{Aue(require("@emotion/is-prop-valid").default)}catch{}function Oue(t,s,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(l8(a)||n===!0&&Z0(a)||!s&&!Z0(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const ly=b.createContext({});function oy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function sp(t){return typeof t=="string"||Array.isArray(t)}const DC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RC=["initial",...DC];function cy(t){return oy(t.animate)||RC.some(s=>sp(t[s]))}function o8(t){return!!(cy(t)||t.variants)}function Mue(t,s){if(cy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sp(n)?n:void 0,animate:sp(r)?r:void 0}}return t.inherit!==!1?s:{}}function Due(t){const{initial:s,animate:n}=Mue(t,b.useContext(ly));return b.useMemo(()=>({initial:s,animate:n}),[xO(s),xO(n)])}function xO(t){return Array.isArray(t)?t.join(" "):t}const np={};function Rue(t){for(const s in t)np[s]=t[s],yC(s)&&(np[s].isCSSVariable=!0)}function c8(t,{layout:s,layoutId:n}){return lm.has(t)||t.startsWith("origin")||(s||n!==void 0)&&(!!np[t]||t==="opacity")}const Fue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iue=im.length;function Lue(t,s,n){let r="",a=!0;for(let i=0;i<Iue;i++){const l=im[i],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const d=ZB(o,PC[l]);if(!c){a=!1;const u=Fue[l]||l;r+=`${u}(${d}) `}n&&(s[l]=d)}}return r=r.trim(),n?r=n(s,a?"":r):a&&(r="none"),r}function FC(t,s,n){const{style:r,vars:a,transformOrigin:i}=t;let l=!1,o=!1;for(const c in s){const d=s[c];if(lm.has(c)){l=!0;continue}else if(yC(c)){a[c]=d;continue}else{const u=ZB(d,PC[c]);c.startsWith("origin")?(o=!0,i[c]=u):r[c]=u}}if(s.transform||(l||n?r.transform=Lue(s,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const IC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d8(t,s,n){for(const r in s)!Sr(s[r])&&!c8(r,n)&&(t[r]=s[r])}function Bue({transformTemplate:t},s){return b.useMemo(()=>{const n=IC();return FC(n,s,t),Object.assign({},n.vars,n.style)},[s])}function que(t,s){const n=t.style||{},r={};return d8(r,n,t),Object.assign(r,Bue(t,s)),r}function $ue(t,s){const n={},r=que(t,s);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Uue={offset:"stroke-dashoffset",array:"stroke-dasharray"},zue={offset:"strokeDashoffset",array:"strokeDasharray"};function Vue(t,s,n=1,r=0,a=!0){t.pathLength=1;const i=a?Uue:zue;t[i.offset]=as.transform(-r);const l=as.transform(s),o=as.transform(n);t[i.array]=`${l} ${o}`}function u8(t,{attrX:s,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:l=0,...o},c,d,u){if(FC(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:h}=t;m.transform&&(h.transform=m.transform,delete m.transform),(h.transform||m.transformOrigin)&&(h.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),s!==void 0&&(m.x=s),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&Vue(m,a,i,l,!1)}const h8=()=>({...IC(),attrs:{}}),m8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Wue(t,s,n,r){const a=b.useMemo(()=>{const i=h8();return u8(i,s,m8(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};d8(i,t.style,t),a.style={...i,...a.style}}return a}const Hue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LC(t){return typeof t!="string"||t.includes("-")?!1:!!(Hue.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kue(t,s,n,{latestValues:r},a,i=!1){const o=(LC(t)?Wue:$ue)(s,r,a,t),c=Oue(s,typeof t=="string",i),d=t!==b.Fragment?{...c,...o,ref:n}:{},{children:u}=s,m=b.useMemo(()=>Sr(u)?u.get():u,[u]);return b.createElement(t,{...d,children:m})}function vO(t){const s=[{},{}];return t==null||t.values.forEach((n,r)=>{s[0][r]=n.get(),s[1][r]=n.getVelocity()}),s}function BC(t,s,n,r){if(typeof s=="function"){const[a,i]=vO(r);s=s(n!==void 0?n:t.custom,a,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[a,i]=vO(r);s=s(n!==void 0?n:t.custom,a,i)}return s}function y0(t){return Sr(t)?t.get():t}function Gue({scrapeMotionValuesFromProps:t,createRenderState:s},n,r,a){return{latestValues:Yue(n,r,a,t),renderState:s()}}function Yue(t,s,n,r){const a={},i=r(t,{});for(const h in i)a[h]=y0(i[h]);let{initial:l,animate:o}=t;const c=cy(t),d=o8(t);s&&d&&!c&&t.inherit!==!1&&(l===void 0&&(l=s.initial),o===void 0&&(o=s.animate));let u=n?n.initial===!1:!1;u=u||l===!1;const m=u?o:l;if(m&&typeof m!="boolean"&&!oy(m)){const h=Array.isArray(m)?m:[m];for(let p=0;p<h.length;p++){const x=BC(t,h[p]);if(x){const{transitionEnd:y,transition:v,...j}=x;for(const w in j){let N=j[w];if(Array.isArray(N)){const _=u?N.length-1:0;N=N[_]}N!==null&&(a[w]=N)}for(const w in y)a[w]=y[w]}}}return a}const f8=t=>(s,n)=>{const r=b.useContext(ly),a=b.useContext(iy),i=()=>Gue(t,s,r,a);return n?i():dC(i)};function qC(t,s,n){var i;const{style:r}=t,a={};for(const l in r)(Sr(r[l])||s.style&&Sr(s.style[l])||c8(l,t)||((i=n==null?void 0:n.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=r[l]);return a}const Que=f8({scrapeMotionValuesFromProps:qC,createRenderState:IC});function p8(t,s,n){const r=qC(t,s,n);for(const a in t)if(Sr(t[a])||Sr(s[a])){const i=im.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const Jue=f8({scrapeMotionValuesFromProps:p8,createRenderState:h8}),Xue=Symbol.for("motionComponentSymbol");function Gu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Zue(t,s,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),s&&(r?s.mount(r):s.unmount()),n&&(typeof n=="function"?n(r):Gu(n)&&(n.current=r))},[s])}const $C=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ehe="framerAppearId",g8="data-"+$C(ehe),x8=b.createContext({});function the(t,s,n,r,a){var y,v;const{visualElement:i}=b.useContext(ly),l=b.useContext(i8),o=b.useContext(iy),c=b.useContext(MC).reducedMotion,d=b.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:s,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=b.useContext(x8);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&she(d.current,n,a,m);const h=b.useRef(!1);b.useInsertionEffect(()=>{u&&h.current&&u.update(n,o)});const p=n[g8],x=b.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return fB(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,p)}),x.current=!1),u.enteringChildren=void 0)}),u}function she(t,s,n,r){const{layoutId:a,layout:i,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=s;t.projection=new n(t.latestValues,s["data-framer-portal-id"]?void 0:v8(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!l||o&&Gu(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function v8(t){if(t)return t.options.allowProjection!==!1?t.projection:v8(t.parent)}function mw(t,{forwardMotionProps:s=!1}={},n,r){n&&Tue(n);const a=LC(t)?Jue:Que;function i(o,c){let d;const u={...b.useContext(MC),...o,layoutId:nhe(o)},{isStatic:m}=u,h=Due(o),p=a(o,m);if(!m&&uC){rhe();const x=ahe(u);d=x.MeasureLayout,h.visualElement=the(t,p,u,r,x.ProjectionNode)}return e.jsxs(ly.Provider,{value:h,children:[d&&h.visualElement?e.jsx(d,{visualElement:h.visualElement,...u}):null,Kue(t,o,Zue(p,h.visualElement,c),p,m,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(i);return l[Xue]=t,l}function nhe({layoutId:t}){const s=b.useContext(cC).id;return s&&t!==void 0?s+"-"+t:t}function rhe(t,s){b.useContext(i8).strict}function ahe(t){const{drag:s,layout:n}=Oh;if(!s&&!n)return{};const r={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ihe(t,s){if(typeof Proxy>"u")return mw;const n=new Map,r=(i,l)=>mw(i,l,t,s),a=(i,l)=>r(i,l);return new Proxy(a,{get:(i,l)=>l==="create"?r:(n.has(l)||n.set(l,mw(l,void 0,t,s)),n.get(l))})}function y8({top:t,left:s,right:n,bottom:r}){return{x:{min:s,max:n},y:{min:t,max:r}}}function lhe({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function ohe(t,s){if(!s)return t;const n=s({x:t.left,y:t.top}),r=s({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fw(t){return t===void 0||t===1}function pS({scale:t,scaleX:s,scaleY:n}){return!fw(t)||!fw(s)||!fw(n)}function Qc(t){return pS(t)||b8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function b8(t){return yO(t.x)||yO(t.y)}function yO(t){return t&&t!=="0%"}function ev(t,s,n){const r=t-n,a=s*r;return n+a}function bO(t,s,n,r,a){return a!==void 0&&(t=ev(t,a,r)),ev(t,n,r)+s}function gS(t,s=0,n=1,r,a){t.min=bO(t.min,s,n,r,a),t.max=bO(t.max,s,n,r,a)}function j8(t,{x:s,y:n}){gS(t.x,s.translate,s.scale,s.originPoint),gS(t.y,n.translate,n.scale,n.originPoint)}const jO=.999999999999,wO=1.0000000000001;function che(t,s,n,r=!1){const a=n.length;if(!a)return;s.x=s.y=1;let i,l;for(let o=0;o<a;o++){i=n[o],l=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,j8(t,l)),r&&Qc(i.latestValues)&&Qu(t,i.latestValues))}s.x<wO&&s.x>jO&&(s.x=1),s.y<wO&&s.y>jO&&(s.y=1)}function Yu(t,s){t.min=t.min+s,t.max=t.max+s}function NO(t,s,n,r,a=.5){const i=En(t.min,t.max,a);gS(t,s,n,i,r)}function Qu(t,s){NO(t.x,s.x,s.scaleX,s.scale,s.originX),NO(t.y,s.y,s.scaleY,s.scale,s.originY)}function w8(t,s){return y8(ohe(t.getBoundingClientRect(),s))}function dhe(t,s,n){const r=w8(t,n),{scroll:a}=s;return a&&(Yu(r.x,a.offset.x),Yu(r.y,a.offset.y)),r}const _O=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ju=()=>({x:_O(),y:_O()}),SO=()=>({min:0,max:0}),In=()=>({x:SO(),y:SO()}),xS={current:null},N8={current:!1};function uhe(){if(N8.current=!0,!!uC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>xS.current=t.matches;t.addEventListener("change",s),s()}else xS.current=!1}const hhe=new WeakMap;function mhe(t,s,n){for(const r in s){const a=s[r],i=n[r];if(Sr(a))t.addValue(r,a);else if(Sr(i))t.addValue(r,Ah(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(r);t.addValue(r,Ah(l!==void 0?l:a,{owner:t}))}}for(const r in n)s[r]===void 0&&t.removeValue(r);return s}const CO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fhe{scrapeMotionValuesFromProps(s,n,r){return{}}constructor({parent:s,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=da.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,wn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=s,this.props=n,this.presenceContext=r,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=cy(n),this.isVariantNode=o8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in m){const p=m[h];c[h]!==void 0&&Sr(p)&&p.set(c[h])}}mount(s){var n;this.current=s,hhe.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),N8.current||uhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var s;this.projection&&this.projection.unmount(),fc(this.notifyUpdate),fc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(s=this.parent)==null||s.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const r=lm.has(s);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&wn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Oh){const n=Oh[s];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[s]&&a&&r(this.props)&&(this.features[s]=new a(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CO.length;r++){const a=CO[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,l=s[i];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=mhe(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const r=this.values.get(s);n!==r&&(r&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let r=this.values.get(s);return r===void 0&&n!==void 0&&(r=Ah(n===null?void 0:n,{owner:this}),this.addValue(s,r)),r}readValue(s,n){let r=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return r!=null&&(typeof r=="string"&&(pB(r)||xB(r))?r=parseFloat(r):!wue(r)&&pc.test(n)&&(r=XB(s,n)),this.setBaseTarget(s,Sr(r)?r.get():r)),Sr(r)?r.get():r}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=BC(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);l&&(r=l[s])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,s);return a!==void 0&&!Sr(a)?a:this.initialValues[s]!==void 0&&r===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new gC),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}scheduleRenderMicrotask(){AC.render(this.render)}}class _8 extends fhe{constructor(){super(...arguments),this.KeyframeResolver=due}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:r}){delete n[s],delete r[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Sr(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function S8(t,{style:s,vars:n},r,a){const i=t.style;let l;for(l in s)i[l]=s[l];a==null||a.applyProjectionStyles(i,r);for(l in n)i.setProperty(l,n[l])}function phe(t){return window.getComputedStyle(t)}class ghe extends _8{constructor(){super(...arguments),this.type="html",this.renderInstance=S8}readValueFromInstance(s,n){var r;if(lm.has(n))return(r=this.projection)!=null&&r.isProjecting?oS(n):Tde(s,n);{const a=phe(s),i=(yC(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(s,{transformPagePoint:n}){return w8(s,n)}build(s,n,r){FC(s,n,r.transformTemplate)}scrapeMotionValuesFromProps(s,n,r){return qC(s,n,r)}}const C8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xhe(t,s,n,r){S8(t,s,void 0,r);for(const a in s.attrs)t.setAttribute(C8.has(a)?a:$C(a),s.attrs[a])}class vhe extends _8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(lm.has(n)){const r=JB(n);return r&&r.default||0}return n=C8.has(n)?n:$C(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,r){return p8(s,n,r)}build(s,n,r){u8(s,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(s,n,r,a){xhe(s,n,r,a)}mount(s){this.isSVGTag=m8(s.tagName),super.mount(s)}}const yhe=(t,s)=>LC(t)?new vhe(s):new ghe(s,{allowProjection:t!==b.Fragment});function sh(t,s,n){const r=t.getProps();return BC(r,s,n!==void 0?n:r.custom,t)}const vS=t=>Array.isArray(t);function bhe(t,s,n){t.hasValue(s)?t.getValue(s).set(n):t.addValue(s,Ah(n))}function jhe(t){return vS(t)?t[t.length-1]||0:t}function whe(t,s){const n=sh(t,s);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const l in i){const o=jhe(i[l]);bhe(t,l,o)}}function Nhe(t){return!!(Sr(t)&&t.add)}function yS(t,s){const n=t.getValue("willChange");if(Nhe(n))return n.add(s);if(!n&&co.WillChange){const r=new co.WillChange("auto");t.addValue("willChange",r),r.add(s)}}function k8(t){return t.props[g8]}const _he=t=>t!==null;function She(t,{repeat:s,repeatType:n="loop"},r){const a=t.filter(_he),i=s&&n!=="loop"&&s%2===1?0:a.length-1;return a[i]}const Che={type:"spring",stiffness:500,damping:25,restSpeed:10},khe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ehe={type:"keyframes",duration:.8},The={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Phe=(t,{keyframes:s})=>s.length>2?Ehe:lm.has(t)?t.startsWith("scale")?khe(s[1]):Che:The;function Ahe({when:t,delay:s,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const UC=(t,s,n,r={},a,i)=>l=>{const o=TC(r,t)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-fl(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...o,delay:-d,onUpdate:h=>{s.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:s,element:i?void 0:a};Ahe(o)||Object.assign(u,Phe(t,u)),u.duration&&(u.duration=fl(u.duration)),u.repeatDelay&&(u.repeatDelay=fl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(mS(u),u.delay===0&&(m=!0)),(co.instantAnimations||co.skipAnimations)&&(m=!0,mS(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,m&&!i&&s.get()!==void 0){const h=She(u.keyframes,o);if(h!==void 0){wn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new kC(u):new Xde(u)};function Ohe({protectedKeys:t,needsAnimating:s},n){const r=t.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,r}function E8(t,s,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...o}=s;r&&(i=r);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in o){const m=t.getValue(u,t.latestValues[u]??null),h=o[u];if(h===void 0||d&&Ohe(d,u))continue;const p={delay:n,...TC(i||{},u)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(h)&&h===x&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const j=k8(t);if(j){const w=window.MotionHandoffAnimation(j,u,wn);w!==null&&(p.startTime=w,y=!0)}}yS(t,u),m.start(UC(u,m,h,t.shouldReduceMotion&&GB.has(u)?{type:!1}:p,t,y));const v=m.animation;v&&c.push(v)}return l&&Promise.all(c).then(()=>{wn.update(()=>{l&&whe(t,l)})}),c}function T8(t,s,n,r=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(s),l=t.size,o=(l-1)*r;return typeof n=="function"?n(i,l):a===1?i*r:o-i*r}function bS(t,s,n={}){var c;const r=sh(t,s,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(E8(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=a;return Mhe(t,s,d,u,m,h,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[d,u]=o==="beforeChildren"?[i,l]:[l,i];return d().then(()=>u())}else return Promise.all([i(),l(n.delay)])}function Mhe(t,s,n=0,r=0,a=0,i=1,l){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",s),o.push(bS(c,s,{...l,delay:n+(typeof r=="function"?0:r)+T8(t.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",s)));return Promise.all(o)}function Dhe(t,s,n={}){t.notify("AnimationStart",s);let r;if(Array.isArray(s)){const a=s.map(i=>bS(t,i,n));r=Promise.all(a)}else if(typeof s=="string")r=bS(t,s,n);else{const a=typeof s=="function"?sh(t,s,n.custom):s;r=Promise.all(E8(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",s)})}function P8(t,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(s[r]!==t[r])return!1;return!0}const Rhe=RC.length;function A8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?A8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const s={};for(let n=0;n<Rhe;n++){const r=RC[n],a=t.props[r];(sp(a)||a===!1)&&(s[r]=a)}return s}const Fhe=[...DC].reverse(),Ihe=DC.length;function Lhe(t){return s=>Promise.all(s.map(({animation:n,options:r})=>Dhe(t,n,r)))}function Bhe(t){let s=Lhe(t),n=kO(),r=!0;const a=c=>(d,u)=>{var h;const m=sh(t,u,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:x,...y}=m;d={...d,...y,...x}}return d};function i(c){s=c(t)}function l(c){const{props:d}=t,u=A8(t.parent)||{},m=[],h=new Set;let p={},x=1/0;for(let v=0;v<Ihe;v++){const j=Fhe[v],w=n[j],N=d[j]!==void 0?d[j]:u[j],_=sp(N),P=j===c?w.isActive:null;P===!1&&(x=v);let A=N===u[j]&&N!==d[j]&&_;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&P===null||!N&&!w.prevProp||oy(N)||typeof N=="boolean")continue;const E=qhe(w.prevProp,N);let C=E||j===c&&w.isActive&&!A&&_||v>x&&_,R=!1;const O=Array.isArray(N)?N:[N];let k=O.reduce(a(j),{});P===!1&&(k={});const{prevResolvedValues:T={}}=w,D={...T,...k},F=H=>{C=!0,h.has(H)&&(R=!0,h.delete(H)),w.needsAnimating[H]=!0;const B=t.getValue(H);B&&(B.liveStyle=!1)};for(const H in D){const B=k[H],$=T[H];if(p.hasOwnProperty(H))continue;let I=!1;vS(B)&&vS($)?I=!P8(B,$):I=B!==$,I?B!=null?F(H):h.add(H):B!==void 0&&h.has(H)?F(H):w.protectedKeys[H]=!0}w.prevProp=N,w.prevResolvedValues=k,w.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(C=!1);const U=A&&E;C&&(!U||R)&&m.push(...O.map(H=>{const B={type:j};if(typeof H=="string"&&r&&!U&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,I=sh($,H);if($.enteringChildren&&I){const{delayChildren:L}=I.transition||{};B.delay=T8($.enteringChildren,t,L)}}return{animation:H,options:B}}))}if(h.size){const v={};if(typeof d.initial!="boolean"){const j=sh(t,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(v.transition=j.transition)}h.forEach(j=>{const w=t.getBaseTarget(j),N=t.getValue(j);N&&(N.liveStyle=!0),v[j]=w??null}),m.push({animation:v})}let y=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?s(m):Promise.resolve()}function o(c,d){var m;if(n[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,d)}),n[c].isActive=d;const u=l(c);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=kO()}}}function qhe(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!P8(s,t):!1}function Wc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kO(){return{animate:Wc(!0),whileInView:Wc(),whileHover:Wc(),whileTap:Wc(),whileDrag:Wc(),whileFocus:Wc(),exit:Wc()}}class Sc{constructor(s){this.isMounted=!1,this.node=s}update(){}}class $he extends Sc{constructor(s){super(s),s.animationState||(s.animationState=Bhe(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();oy(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let Uhe=0;class zhe extends Sc{constructor(){super(...arguments),this.id=Uhe++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===r)return;const a=this.node.animationState.setActive("exit",!s);n&&!s&&a.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Vhe={animation:{Feature:$he},exit:{Feature:zhe}};function rp(t,s,n,r={passive:!0}){return t.addEventListener(s,n,r),()=>t.removeEventListener(s,n)}function Qp(t){return{point:{x:t.pageX,y:t.pageY}}}const Whe=t=>s=>OC(s)&&t(s,Qp(s));function Pf(t,s,n,r){return rp(t,s,Whe(n),r)}const O8=1e-4,Hhe=1-O8,Khe=1+O8,M8=.01,Ghe=0-M8,Yhe=0+M8;function zr(t){return t.max-t.min}function Qhe(t,s,n){return Math.abs(t-s)<=n}function EO(t,s,n,r=.5){t.origin=r,t.originPoint=En(s.min,s.max,t.origin),t.scale=zr(n)/zr(s),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Hhe&&t.scale<=Khe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ghe&&t.translate<=Yhe||isNaN(t.translate))&&(t.translate=0)}function Af(t,s,n,r){EO(t.x,s.x,n.x,r?r.originX:void 0),EO(t.y,s.y,n.y,r?r.originY:void 0)}function TO(t,s,n){t.min=n.min+s.min,t.max=t.min+zr(s)}function Jhe(t,s,n){TO(t.x,s.x,n.x),TO(t.y,s.y,n.y)}function PO(t,s,n){t.min=s.min-n.min,t.max=t.min+zr(s)}function Of(t,s,n){PO(t.x,s.x,n.x),PO(t.y,s.y,n.y)}function Qa(t){return[t("x"),t("y")]}const D8=({current:t})=>t?t.ownerDocument.defaultView:null,AO=(t,s)=>Math.abs(t-s);function Xhe(t,s){const n=AO(t.x,s.x),r=AO(t.y,s.y);return Math.sqrt(n**2+r**2)}class R8{constructor(s,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=Xhe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!x)return;const{point:y}=h,{timestamp:v}=fr;this.history.push({...y,timestamp:v});const{onStart:j,onMove:w}=this.handlers;p||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pw(p,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=gw(h.type==="pointercancel"?this.lastMoveEventInfo:pw(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,j),y&&y(h,j)},!OC(s))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=a||window;const o=Qp(s),c=pw(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=fr;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=n;m&&m(s,gw(c,this.history)),this.removeListeners=Kp(Pf(this.contextWindow,"pointermove",this.handlePointerMove),Pf(this.contextWindow,"pointerup",this.handlePointerUp),Pf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),fc(this.updatePoint)}}function pw(t,s){return s?{point:s(t.point)}:t}function OO(t,s){return{x:t.x-s.x,y:t.y-s.y}}function gw({point:t},s){return{point:t,delta:OO(t,F8(s)),offset:OO(t,Zhe(s)),velocity:eme(s,.1)}}function Zhe(t){return t[0]}function F8(t){return t[t.length-1]}function eme(t,s){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=F8(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>fl(s)));)n--;if(!r)return{x:0,y:0};const i=ai(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function tme(t,{min:s,max:n},r){return s!==void 0&&t<s?t=r?En(s,t,r.min):Math.max(t,s):n!==void 0&&t>n&&(t=r?En(n,t,r.max):Math.min(t,n)),t}function MO(t,s,n){return{min:s!==void 0?t.min+s:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sme(t,{top:s,left:n,bottom:r,right:a}){return{x:MO(t.x,n,a),y:MO(t.y,s,r)}}function DO(t,s){let n=s.min-t.min,r=s.max-t.max;return s.max-s.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nme(t,s){return{x:DO(t.x,s.x),y:DO(t.y,s.y)}}function rme(t,s){let n=.5;const r=zr(t),a=zr(s);return a>r?n=Zf(s.min,s.max-r,t.min):r>a&&(n=Zf(t.min,t.max-a,s.min)),oo(0,1,n)}function ame(t,s){const n={};return s.min!==void 0&&(n.min=s.min-t.min),s.max!==void 0&&(n.max=s.max-t.min),n}const jS=.35;function ime(t=jS){return t===!1?t=0:t===!0&&(t=jS),{x:RO(t,"left","right"),y:RO(t,"top","bottom")}}function RO(t,s,n){return{min:FO(t,s),max:FO(t,n)}}function FO(t,s){return typeof t=="number"?t:t[s]||0}const lme=new WeakMap;class ome{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qp(m).point)},l=(m,h)=>{const{drag:p,dragPropagation:x,onDragStart:y}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fue(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qa(j=>{let w=this.getAxisMotionValue(j).get()||0;if(pl.test(w)){const{projection:N}=this.visualElement;if(N&&N.layout){const _=N.layout.layoutBox[j];_&&(w=zr(_)*(parseFloat(w)/100))}}this.originPoint[j]=w}),y&&wn.postRender(()=>y(m,h)),yS(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:y,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:j}=h;if(x&&this.currentDirection===null){this.currentDirection=cme(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),v&&v(m,h)},c=(m,h)=>{this.latestPointerEvent=m,this.latestPanInfo=h,this.stop(m,h),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Qa(m=>{var h;return this.getAnimationState(m)==="paused"&&((h=this.getAxisMotionValue(m).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new R8(s,{onSessionStart:i,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:D8(this.visualElement)})}stop(s,n){const r=s||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&wn.postRender(()=>o(r,a))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,r){const{drag:a}=this.getProps();if(!r||!zx(s,a,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+r[s];this.constraints&&this.constraints[s]&&(l=tme(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){var i;const{dragConstraints:s,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;s&&Gu(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&r?this.constraints=sme(r.layoutBox,s):this.constraints=!1,this.elastic=ime(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qa(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ame(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!Gu(s))return!1;const r=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=dhe(r,a.root,this.visualElement.getTransformPagePoint());let l=nme(a.layout.layoutBox,i);if(n){const o=n(lhe(l));this.hasMutatedConstraints=!!o,o&&(l=y8(o))}return l}startAnimation(s){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Qa(u=>{if(!zx(u,n,this.currentDirection))return;let m=c&&c[u]||{};l&&(m={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,x={type:"inertia",velocity:r?s[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(o)}startAxisValueAnimation(s,n){const r=this.getAxisMotionValue(s);return yS(this.visualElement,s),r.start(UC(s,r,0,n,this.visualElement,!1))}stopAnimation(){Qa(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Qa(s=>{var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(s,(r.initial?r.initial[s]:void 0)||0)}snapToCursor(s){Qa(n=>{const{drag:r}=this.getProps();if(!zx(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:o}=a.layout.layoutBox[n];i.set(s[n]-En(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qa(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();a[l]=rme({min:c,max:c},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qa(l=>{if(!zx(l,s,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(En(c,d,a[l]))})}addListeners(){if(!this.visualElement.current)return;lme.set(this.visualElement,this);const s=this.visualElement.current,n=Pf(s,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Gu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wn.read(r);const l=rp(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Qa(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())}));return()=>{l(),n(),i(),o&&o()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=jS,dragMomentum:o=!0}=s;return{...s,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:o}}}function zx(t,s,n){return(s===!0||s===t)&&(n===null||n===t)}function cme(t,s=10){let n=null;return Math.abs(t.y)>s?n="y":Math.abs(t.x)>s&&(n="x"),n}class dme extends Sc{constructor(s){super(s),this.removeGroupControls=li,this.removeListeners=li,this.controls=new ome(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const IO=t=>(s,n)=>{t&&wn.postRender(()=>t(s,n))};class ume extends Sc{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(s){this.session=new R8(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D8(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:IO(s),onStart:IO(n),onMove:r,onEnd:(i,l)=>{delete this.session,a&&wn.postRender(()=>a(i,l))}}}mount(){this.removePointerDownListener=Pf(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const b0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LO(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const sf={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(as.test(t))t=parseFloat(t);else return t;const n=LO(t,s.target.x),r=LO(t,s.target.y);return`${n}% ${r}%`}},hme={correct:(t,{treeScale:s,projectionDelta:n})=>{const r=t,a=pc.parse(t);if(a.length>5)return r;const i=pc.createTransformer(t),l=typeof a[0]!="number"?1:0,o=n.x.scale*s.x,c=n.y.scale*s.y;a[0+l]/=o,a[1+l]/=c;const d=En(o,c,.5);return typeof a[2+l]=="number"&&(a[2+l]/=d),typeof a[3+l]=="number"&&(a[3+l]/=d),i(a)}};let xw=!1;class mme extends b.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=s;Rue(fme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),xw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),b0.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:l}=r;return l&&(l.isPresent=i,xw=!0,a||s.layoutDependency!==n||n===void 0||s.isPresent!==i?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||wn.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),AC.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=s;xw=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function I8(t){const[s,n]=a8(),r=b.useContext(cC);return e.jsx(mme,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(x8),isPresent:s,safeToRemove:n})}const fme={borderRadius:{...sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sf,borderTopRightRadius:sf,borderBottomLeftRadius:sf,borderBottomRightRadius:sf,boxShadow:hme};function pme(t,s,n){const r=Sr(t)?t:Ah(t);return r.start(UC("",r,s,n)),r.animation}const gme=(t,s)=>t.depth-s.depth;class xme{constructor(){this.children=[],this.isDirty=!1}add(s){hC(this.children,s),this.isDirty=!0}remove(s){mC(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(gme),this.isDirty=!1,this.children.forEach(s)}}function vme(t,s){const n=da.now(),r=({timestamp:a})=>{const i=a-n;i>=s&&(fc(r),t(i-s))};return wn.setup(r,!0),()=>fc(r)}const L8=["TopLeft","TopRight","BottomLeft","BottomRight"],yme=L8.length,BO=t=>typeof t=="string"?parseFloat(t):t,qO=t=>typeof t=="number"||as.test(t);function bme(t,s,n,r,a,i){a?(t.opacity=En(0,n.opacity??1,jme(r)),t.opacityExit=En(s.opacity??1,0,wme(r))):i&&(t.opacity=En(s.opacity??1,n.opacity??1,r));for(let l=0;l<yme;l++){const o=`border${L8[l]}Radius`;let c=$O(s,o),d=$O(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||qO(c)===qO(d)?(t[o]=Math.max(En(BO(c),BO(d),r),0),(pl.test(d)||pl.test(c))&&(t[o]+="%")):t[o]=d}(s.rotate||n.rotate)&&(t.rotate=En(s.rotate||0,n.rotate||0,r))}function $O(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const jme=B8(0,.5,SB),wme=B8(.5,.95,li);function B8(t,s,n){return r=>r<t?0:r>s?1:n(Zf(t,s,r))}function UO(t,s){t.min=s.min,t.max=s.max}function Ga(t,s){UO(t.x,s.x),UO(t.y,s.y)}function zO(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function VO(t,s,n,r,a){return t-=s,t=ev(t,1/n,r),a!==void 0&&(t=ev(t,1/a,r)),t}function Nme(t,s=0,n=1,r=.5,a,i=t,l=t){if(pl.test(s)&&(s=parseFloat(s),s=En(l.min,l.max,s/100)-l.min),typeof s!="number")return;let o=En(i.min,i.max,r);t===i&&(o-=s),t.min=VO(t.min,s,n,o,a),t.max=VO(t.max,s,n,o,a)}function WO(t,s,[n,r,a],i,l){Nme(t,s[n],s[r],s[a],s.scale,i,l)}const _me=["x","scaleX","originX"],Sme=["y","scaleY","originY"];function HO(t,s,n,r){WO(t.x,s,_me,n?n.x:void 0,r?r.x:void 0),WO(t.y,s,Sme,n?n.y:void 0,r?r.y:void 0)}function KO(t){return t.translate===0&&t.scale===1}function q8(t){return KO(t.x)&&KO(t.y)}function GO(t,s){return t.min===s.min&&t.max===s.max}function Cme(t,s){return GO(t.x,s.x)&&GO(t.y,s.y)}function YO(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function $8(t,s){return YO(t.x,s.x)&&YO(t.y,s.y)}function QO(t){return zr(t.x)/zr(t.y)}function JO(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class kme{constructor(){this.members=[]}add(s){hC(this.members,s),s.scheduleRender()}remove(s){if(mC(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(a=>s===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(s,n){const r=this.lead;if(s!==r&&(this.prevLead=r,this.lead=s,s.show(),r)){r.instance&&r.scheduleRender(),s.scheduleRender(),s.resumeFrom=r,n&&(s.resumeFrom.preserveOpacity=!0),r.snapshot&&(s.snapshot=r.snapshot,s.snapshot.latestValues=r.animationValues||r.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:r}=s;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eme(t,s,n){let r="";const a=t.x.translate/s.x,i=t.y.translate/s.y,l=(n==null?void 0:n.z)||0;if((a||i||l)&&(r=`translate3d(${a}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(r+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:p,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*s.x,c=t.y.scale*s.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const vw=["","X","Y","Z"],Tme=1e3;let Pme=0;function yw(t,s,n,r){const{latestValues:a}=s;a[t]&&(n[t]=a[t],s.setStaticValue(t,0),r&&(r[t]=0))}function U8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const n=k8(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wn,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&U8(r)}function z8({attachResizeListener:t,defaultParent:s,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},o=s==null?void 0:s()){this.id=Pme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mme),this.nodes.forEach(Ime),this.nodes.forEach(Lme),this.nodes.forEach(Dme)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xme)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gC),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=r8(l)&&!bue(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u,m=0;const h=()=>this.root.updateBlockedByResize=!1;wn.read(()=>{m=window.innerWidth}),t(l,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,u&&u(),u=vme(h,250),b0.hasAnimatedSinceResize&&(b0.hasAnimatedSinceResize=!1,this.nodes.forEach(eM)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||zme,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),j=!this.targetLayout||!$8(this.targetLayout,p),w=!m&&h;if(this.options.layoutRoot||this.resumeFrom||w||m&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...TC(x,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(u,w)}else m||eM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bme),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fme),this.nodes.forEach(Ame),this.nodes.forEach(Ome)):this.nodes.forEach(ZO),this.clearAllSnapshots();const o=da.now();fr.delta=oo(0,1e3/60,o-fr.timestamp),fr.timestamp=o,fr.isProcessing=!0,lw.update.process(fr),lw.preRender.process(fr),lw.render.process(fr),fr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rme),this.sharedNodes.forEach(qme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zr(this.snapshot.measuredBox.x)&&!zr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!q8(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||Qc(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),Vme(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return In();const o=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Wme))){const{scroll:u}=this.root;u&&(Yu(o.x,u.offset.x),Yu(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=In();if(Ga(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Ga(o,l),Yu(o.x,m.offset.x),Yu(o.y,m.offset.y))}return o}applyTransform(l,o=!1){const c=In();Ga(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qu(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qc(u.latestValues)&&Qu(c,u.latestValues)}return Qc(this.latestValues)&&Qu(c,this.latestValues),c}removeTransform(l){const o=In();Ga(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Qc(d.latestValues))continue;pS(d.latestValues)&&d.updateSnapshot();const u=In(),m=d.measurePageBox();Ga(u,m),HO(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Qc(this.latestValues)&&HO(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=fr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Of(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jhe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ga(this.target,this.layout.layoutBox),j8(this.target,this.targetDelta)):Ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),Of(this.relativeTargetOrigin,this.target,p.target),Ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pS(this.parent.latestValues)||b8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Ga(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;che(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=In());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zO(this.prevProjectionDelta.x,this.projectionDelta.x),zO(this.prevProjectionDelta.y,this.projectionDelta.y)),Af(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!JO(this.projectionDelta.x,this.prevProjectionDelta.x)||!JO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ju(),this.projectionDelta=Ju(),this.projectionDeltaWithTransform=Ju()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=In(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=p!==x,v=this.getStack(),j=!v||v.members.length<=1,w=!!(y&&!j&&this.options.crossfade===!0&&!this.path.some(Ume));this.animationProgress=0;let N;this.mixTargetDelta=_=>{const P=_/1e3;tM(m.x,l.x,P),tM(m.y,l.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Of(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$me(this.relativeTarget,this.relativeTargetOrigin,h,P),N&&Cme(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=In()),Ga(N,this.relativeTarget)),y&&(this.animationValues=u,bme(u,d,this.latestValues,P,w,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{b0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ah(0)),this.currentAnimation=pme(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tme),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&V8(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||In();const m=zr(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+m;const h=zr(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+h}Ga(o,c),Qu(o,u),Af(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new kme),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&yw("z",l,d,this.animationValues);for(let u=0;u<vw.length;u++)yw(`rotate${vw[u]}`,l,d,this.animationValues),yw(`skew${vw[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=y0(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=y0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qc(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Eme(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),l.transform=m;const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in np){if(u[x]===void 0)continue;const{correct:y,applyTo:v,isCSSVariable:j}=np[x],w=m==="none"?u[x]:y(u[x],d);if(v){const N=v.length;for(let _=0;_<N;_++)l[v[_]]=w}else j?this.options.visualElement.renderState.vars[x]=w:l[x]=w}this.options.layoutId&&(l.pointerEvents=d===this?y0(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(XO),this.root.sharedNodes.clear()}}}function Ame(t){t.updateLayout()}function Ome(t){var n;const s=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,l=s.source!==t.layout.source;i==="size"?Qa(m=>{const h=l?s.measuredBox[m]:s.layoutBox[m],p=zr(h);h.min=r[m].min,h.max=h.min+p}):V8(i,s.layoutBox,r)&&Qa(m=>{const h=l?s.measuredBox[m]:s.layoutBox[m],p=zr(r[m]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const o=Ju();Af(o,r,s.layoutBox);const c=Ju();l?Af(c,t.applyTransform(a,!0),s.measuredBox):Af(c,r,s.layoutBox);const d=!q8(o);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:p}=m;if(h&&p){const x=In();Of(x,s.layoutBox,h.layoutBox);const y=In();Of(y,r,p.layoutBox),$8(x,y)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Mme(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Dme(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rme(t){t.clearSnapshot()}function XO(t){t.clearMeasurements()}function ZO(t){t.isLayoutDirty=!1}function Fme(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function eM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ime(t){t.resolveTargetDelta()}function Lme(t){t.calcProjection()}function Bme(t){t.resetSkewAndRotation()}function qme(t){t.removeLeadSnapshot()}function tM(t,s,n){t.translate=En(s.translate,0,n),t.scale=En(s.scale,1,n),t.origin=s.origin,t.originPoint=s.originPoint}function sM(t,s,n,r){t.min=En(s.min,n.min,r),t.max=En(s.max,n.max,r)}function $me(t,s,n,r){sM(t.x,s.x,n.x,r),sM(t.y,s.y,n.y,r)}function Ume(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zme={duration:.45,ease:[.4,0,.1,1]},nM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rM=nM("applewebkit/")&&!nM("chrome/")?Math.round:li;function aM(t){t.min=rM(t.min),t.max=rM(t.max)}function Vme(t){aM(t.x),aM(t.y)}function V8(t,s,n){return t==="position"||t==="preserve-aspect"&&!Qhe(QO(s),QO(n),.2)}function Wme(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const Hme=z8({attachResizeListener:(t,s)=>rp(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bw={current:void 0},W8=z8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bw.current){const t=new Hme({});t.mount(window),t.setOptions({layoutScroll:!0}),bw.current=t}return bw.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Kme={pan:{Feature:ume},drag:{Feature:dme,ProjectionNode:W8,MeasureLayout:I8}};function iM(t,s,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&wn.postRender(()=>i(s,Qp(s)))}class Gme extends Sc{mount(){const{current:s}=this.node;s&&(this.unmount=pue(s,(n,r)=>(iM(this.node,r,"Start"),a=>iM(this.node,a,"End"))))}unmount(){}}class Yme extends Sc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kp(rp(this.node.current,"focus",()=>this.onFocus()),rp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lM(t,s,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&wn.postRender(()=>i(s,Qp(s)))}class Qme extends Sc{mount(){const{current:s}=this.node;s&&(this.unmount=yue(s,(n,r)=>(lM(this.node,r,"Start"),(a,{success:i})=>lM(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wS=new WeakMap,jw=new WeakMap,Jme=t=>{const s=wS.get(t.target);s&&s(t)},Xme=t=>{t.forEach(Jme)};function Zme({root:t,...s}){const n=t||document;jw.has(n)||jw.set(n,{});const r=jw.get(n),a=JSON.stringify(s);return r[a]||(r[a]=new IntersectionObserver(Xme,{root:t,...s})),r[a]}function efe(t,s,n){const r=Zme(s);return wS.set(t,n),r.observe(t),()=>{wS.delete(t),r.unobserve(t)}}const tfe={some:0,all:1};class sfe extends Sc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=s,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:tfe[a]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return efe(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(nfe(s,n))&&this.startObserver()}unmount(){}}function nfe({viewport:t={}},{viewport:s={}}={}){return n=>t[n]!==s[n]}const rfe={inView:{Feature:sfe},tap:{Feature:Qme},focus:{Feature:Yme},hover:{Feature:Gme}},afe={layout:{ProjectionNode:W8,MeasureLayout:I8}},ife={...Vhe,...rfe,...Kme,...afe},Vx=ihe(ife,yhe);function Fd({tourGroupName:t,viewId:s,onComplete:n,onDismissPermanently:r,autoShow:a=!1}){const[i,l]=b.useState(0),[o,c]=b.useState(a),[d,u]=b.useState(a),[m,h]=b.useState(!1),[p,x]=b.useState(null),[y,v]=b.useState({top:0,left:0}),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[P,A]=b.useState(!1);console.log("[PageTour] Render - tourGroupName:",t,"viewId:",s,"autoShow:",a),console.log("[PageTour] State - isActive:",o,"showPopup:",d,"currentStep:",i);const{data:E}=me({queryKey:["tourGroup",t,s],queryFn:async()=>{const B=await ee.entities.TourGroup.list();console.log("[PageTour] All tour groups from DB:",B),console.log("[PageTour] Looking for - page_name:",t,"viewId:",s);const $=B.find(I=>{const L=I.page_name===t,V=s?I.view_id===s:!I.view_id,q=I.is_active===!0;return console.log("[PageTour] Checking group:",I.id,{page_name:I.page_name,view_id:I.view_id,is_active:I.is_active,pageNameMatch:L,viewIdMatch:V,isActiveMatch:q}),L&&V&&q});return console.log("[PageTour] Found tour group:",$),$},enabled:!!t}),{data:C}=me({queryKey:["tourSteps",E==null?void 0:E.id],queryFn:async()=>{if(!(E!=null&&E.id))return console.log("[PageTour] No tour group ID, returning empty steps"),[];const B=await ee.entities.TourStep.list();console.log("[PageTour] All steps from DB:",B);const $=B.filter(I=>I.tour_group_id===E.id).sort((I,L)=>I.step_order-L.step_order);return console.log("[PageTour] Filtered steps for group",E.id,":",$),$},enabled:!!(E!=null&&E.id),initialData:[]});console.log("[PageTour] Data - tourGroup:",E==null?void 0:E.id,"steps:",C.length),b.useEffect(()=>{if(console.log("[PageTour] autoShow useEffect triggered - autoShow:",a,"steps.length:",C.length),a&&C.length>0&&E){const B=setTimeout(()=>{if(E.mandatory_selector){if(console.log("[PageTour] Checking for mandatory selector:",E.mandatory_selector),!document.querySelector(E.mandatory_selector)){console.log("[PageTour] Mandatory element not found, showing error popup"),_(!0),A(!0),c(!0),u(!0),h(!0);return}console.log("[PageTour] Mandatory element found, proceeding with tour")}console.log("[PageTour] Setting isActive and showPopup to true"),_(!1),A(!0),c(!0),u(!0),l(0)},500);return()=>clearTimeout(B)}},[a,C,E]),b.useEffect(()=>{if(!o||i>=C.length||!d||C.length===0||N||!P)return;h(!1);const B=C[i];let $,I=0;const L=20;let V=null;const q=()=>{const Q=B.size||"medium";return{width:{small:320,medium:384,large:512}[Q]||384,height:270}},J=()=>{const{width:Q,height:Y}=q(),K=window.innerWidth,ae=window.innerHeight,se=window.pageYOffset||document.documentElement.scrollTop,de=window.pageXOffset||document.documentElement.scrollLeft,ue=B.gap||40;if(!B.target_selector){x(null);let pe=de+(K-Q)/2,je=se+(ae-Y)/2;pe=Math.max(de+ue,pe),je=Math.max(se+ue,je),pe=Math.min(de+K-Q-ue,pe),je=Math.min(se+ae-Y-ue,je),v({top:je,left:pe}),h(!0);return}const oe=document.querySelector(B.target_selector);if(oe){if(V=oe,x(oe),oe.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{const pe=window.pageYOffset||document.documentElement.scrollTop,je=window.pageXOffset||document.documentElement.scrollLeft,Ne=oe.getBoundingClientRect();let qe=0,$e=0;switch(B.placement||"bottom"){case"top":qe=Ne.top+pe-Y-ue,$e=Ne.left+je+(Ne.width-Q)/2,qe<pe&&(qe=Ne.bottom+pe+ue);break;case"bottom":qe=Ne.bottom+pe+ue,$e=Ne.left+je+(Ne.width-Q)/2,qe+Y>pe+ae&&(qe=Ne.top+pe-Y-ue);break;case"left":qe=Ne.top+pe+(Ne.height-Y)/2,$e=Ne.left+je-Q-ue,$e<je&&($e=Ne.right+je+ue);break;case"right":default:qe=Ne.top+pe+(Ne.height-Y)/2,$e=Ne.right+je+ue,$e+Q>je+K&&($e=Ne.left+je-Q-ue);break}$e=Math.max(je+ue,$e),qe=Math.max(pe+ue,qe),$e=Math.min(je+K-Q-ue,$e),qe=Math.min(pe+ae-Y-ue,qe),v({top:qe,left:$e}),h(!0)},300),oe.style.position="relative",oe.style.zIndex="10001",oe.style.backgroundColor="#fef08a",oe.style.boxShadow="0 0 0 4px rgba(234, 179, 8, 0.6)",oe.style.borderRadius="8px",oe.style.transition="all 0.3s ease",B.mode==="interactive"){const pe=()=>{R()};oe.addEventListener("click",pe),oe._tourClickHandler=pe}}else if(I<L)I++,$=setTimeout(J,100);else{x(null);let pe=de+(K-Q)/2,je=se+(ae-Y)/2;pe=Math.max(de+ue,pe),je=Math.max(se+ue,je),pe=Math.min(de+K-Q-ue,pe),je=Math.min(se+ae-Y-ue,je),v({top:je,left:pe}),h(!0)}};return J(),()=>{clearTimeout($),V&&(V._tourClickHandler&&(V.removeEventListener("click",V._tourClickHandler),delete V._tourClickHandler),V.style.position="",V.style.zIndex="",V.style.backgroundColor="",V.style.boxShadow="",V.style.borderRadius="",V.style.transition="")}},[i,o,d,C,N,P]);const R=()=>{i<C.length-1?l(i+1):T()},O=()=>{i>0&&l(i-1)},k=()=>{T()},T=()=>{c(!1),u(!1),_(!1),A(!1),j&&r?r():n&&n()};if(console.log("[PageTour] Return condition check - isActive:",o,"showPopup:",d,"mandatoryCheckComplete:",P,"mandatoryElementMissing:",N,"currentStep:",i,"steps.length:",C.length),!o||!d||!P||!N&&(i>=C.length||C.length===0))return console.log("[PageTour] Returning null - not showing tour"),null;if(console.log("[PageTour] Rendering tour UI"),N){const B=window.innerWidth,$=window.pageYOffset||document.documentElement.scrollTop,I=window.pageXOffset||document.documentElement.scrollLeft,L=384,V=40;let q=I+(B-L)/2,J=$+V;q=Math.max(I+V,q),q=Math.min(I+B-L-V,q);const Q=(E==null?void 0:E.mandatory_selector_missing_message)||"Required page elements for this tour are not currently available.";return e.jsxs(e.Fragment,{children:[d&&e.jsx(Vx.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[10000] bg-black/20",onClick:k}),e.jsx(pO,{children:d&&m&&e.jsx(Vx.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},style:{position:"absolute",top:`${J}px`,left:`${q}px`,zIndex:10002},className:"w-96",children:e.jsxs(le,{className:"shadow-2xl border-2 border-red-500 bg-gradient-to-br from-white to-red-50",children:[e.jsx(Fe,{className:"pb-4 border-b border-red-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(js,{className:"h-5 w-5 text-red-600"})}),e.jsx(ze,{className:"text-xl",children:"Tour Unavailable"})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7 -mt-1 -mr-2 hover:bg-red-100",onClick:k,children:e.jsx(ks,{className:"h-4 w-4"})})]})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsx("p",{className:"text-base text-slate-700 leading-relaxed",children:Q}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"dont-show-again",checked:j,onChange:Y=>w(Y.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx("label",{htmlFor:"dont-show-again",className:"text-sm text-slate-700 cursor-pointer",children:"Don't show this tour automatically again"})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{size:"sm",onClick:T,className:"bg-red-600 hover:bg-red-700",children:"Close"})})]})]})})})]})}const D=C[i],F=D.mode==="interactive"&&D.target_selector,U=!D.target_selector,z=i===C.length-1,H=()=>{const B=D.size||"medium";return{small:"w-80",medium:"w-96",large:"w-[512px]"}[B]||"w-96"};return e.jsxs(e.Fragment,{children:[d&&e.jsx(Vx.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-[10000] ${F?"bg-black/70":"bg-black/20"}`,onClick:F?void 0:k}),e.jsx(pO,{children:d&&m&&e.jsx(Vx.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},style:{position:"absolute",top:`${y.top}px`,left:`${y.left}px`,zIndex:10002},className:H(),children:e.jsxs(le,{className:"shadow-2xl border-2 border-blue-500 bg-gradient-to-br from-white to-blue-50",children:[e.jsx(Fe,{className:"pb-4 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(pa,{className:"h-5 w-5 text-blue-600"})}),e.jsx(ze,{className:"text-xl",children:D.title})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7 -mt-1 -mr-2 hover:bg-red-100",onClick:k,children:e.jsx(ks,{className:"h-4 w-4"})})]})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsx("p",{className:"text-base text-slate-700 leading-relaxed",children:D.content}),(U||z)&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"dont-show-again",checked:j,onChange:B=>w(B.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx("label",{htmlFor:"dont-show-again",className:"text-sm text-slate-700 cursor-pointer",children:"Don't show this tour automatically again"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"flex-shrink-0",children:i>0?e.jsxs(X,{variant:"outline",size:"sm",onClick:O,className:"text-slate-600",children:[e.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Back"]}):e.jsx("div",{className:"w-20"})}),e.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Step ",i+1," of ",C.length]}),e.jsx("div",{className:"flex gap-1",children:C.map((B,$)=>e.jsx("div",{className:`h-2 w-2 rounded-full transition-colors ${$===i?"bg-blue-600":"bg-slate-300"}`},$))})]}),e.jsx("div",{className:"flex-shrink-0",children:F?e.jsx("div",{className:"w-20"}):e.jsx(X,{size:"sm",onClick:R,className:"bg-blue-600 hover:bg-blue-700",children:z?e.jsxs(e.Fragment,{children:["Finish",e.jsx(Ss,{className:"w-4 h-4 ml-1"})]}):e.jsxs(e.Fragment,{children:["Next",e.jsx(Ss,{className:"w-4 h-4 ml-1"})]})})})]})]})]})})})]})}function Id({onClick:t}){return e.jsxs(X,{onClick:t,variant:"outline",size:"sm",className:"gap-2 border-purple-200 bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100",id:"page-tour-button",children:[e.jsx(pa,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-purple-700 font-medium",children:"Page Tour"})]})}function NS({organizationInfo:t,isFeatureExcluded:s,memberInfo:n,memberRole:r,reloadMemberInfo:a}){var R;const[i,l]=b.useState(""),[o,c]=b.useState("all"),[d,u]=b.useState(!1),[m,h]=b.useState(!1);console.log("[Events] Render - showTour:",d,"tourAutoShow:",m,"shouldShowTours (from memberRole):",r==null?void 0:r.show_tours);const p=(r==null?void 0:r.show_tours)!==!1,x=((R=n==null?void 0:n.page_tours_seen)==null?void 0:R.Events)===!0;console.log("[Events] shouldShowTours:",p,"hasSeenTour:",x),b.useEffect(()=>{console.log("[Events] Auto-show useEffect - shouldShowTours:",p,"hasSeenTour:",x,"memberInfo:",!!n),p&&!x&&n&&(console.log("[Events] Auto-showing tour"),h(!0),u(!0))},[p,x,n]);const{data:y=[],isLoading:v,error:j}=me({queryKey:["events"],queryFn:async()=>{console.log("[Events] Fetching events from Supabase");const{data:O,error:k}=await Vs.from("event").select("*").order("start_date",{ascending:!0});if(k)throw console.error("[Events] Error loading events from Supabase:",k),k;return O||[]},initialData:[]});j&&console.error("[Events] eventsError:",j);const w=["all",...new Set(y.map(O=>O.program_tag).filter(Boolean))],N=O=>t!=null&&t.program_ticket_balances&&t.program_ticket_balances[O]||0;let _=y.filter(O=>{var D,F;const k=((D=O.title)==null?void 0:D.toLowerCase().includes(i.toLowerCase()))||((F=O.description)==null?void 0:F.toLowerCase().includes(i.toLowerCase())),T=o==="all"||O.program_tag===o;return k&&T});_.sort((O,k)=>{const T=new Date(O.start_date),D=new Date(k.start_date);return T.getTime()-D.getTime()});const P=async O=>{if(console.log("[Events] updateMemberTourStatus called for:",O),!(!n||n.is_team_member)){if(!n.id){console.warn("[Events] memberInfo.id is missing; cannot update tour status in Supabase.",n);return}try{const k={...n.page_tours_seen||{},[O]:!0},{error:T}=await Vs.from("member").update({page_tours_seen:k}).eq("id",n.id);if(T){console.error("[Events] Failed to update tour status in Supabase:",T);return}const D={...n,page_tours_seen:k};sessionStorage.setItem("agcas_member",JSON.stringify(D)),console.log("[Events] Tour status updated successfully in Supabase"),typeof a=="function"&&a()}catch(k){console.error("[Events] Exception updating tour status:",k)}}},A=async()=>{console.log("[Events] handleTourComplete called"),u(!1),h(!1)},E=async()=>{console.log("[Events] handleTourDismiss called"),u(!1),h(!1),await P("Events")},C=()=>{console.log("[Events] handleStartTour called - resetting then showing tour"),u(!1),h(!1),setTimeout(()=>{console.log("[Events] Now setting showTour and tourAutoShow to true"),u(!0),h(!0)},10)};return console.log("[Events] Rendering PageTour?",d&&p),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[d&&p&&e.jsx(Fd,{tourGroupName:"Events",viewId:null,onComplete:A,onDismissPermanently:E,autoShow:m}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Register your tickets"}),p&&typeof C=="function"&&e.jsx(Id,{onClick:C})]})}),!(s!=null&&s("element_EventsSearch"))&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search events by name or description...",value:i,onChange:O=>l(O.target.value),className:"pl-10"})]}),e.jsx(Cce,{programs:w,selectedProgram:o,onProgramChange:c})]})}),v?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((O,k)=>e.jsxs(le,{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-2/3"})]})]},k))}):j?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Ns,{className:"w-16 h-16 text-red-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-2",children:"Error loading events"}),e.jsx("p",{className:"text-slate-600",children:"Please check your Supabase connection and event table."})]}):e.jsxs(e.Fragment,{children:[t&&o!=="all"&&e.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-white rounded-lg border border-slate-200",children:[e.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),e.jsxs("span",{className:"font-medium text-slate-700",children:["You have ",N(o)," ",N(o)===1?"ticket":"tickets"," ","available for ",o]})]}),_.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Ns,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(O=>e.jsx(Sce,{event:O,organizationInfo:t,isFeatureExcluded:s},O.id))})]})]})]})}function H8(){const[t,s]=b.useState(""),[n,r]=b.useState(!1),[a,i]=b.useState(""),[l,o]=b.useState(!1),c=async d=>{var u,m;d.preventDefault(),i(""),r(!0),o(!1);try{const h=await ee.functions.invoke("sendMagicLink",{email:t});h.data.success?(o(!0),s("")):i(h.data.error||"Unable to send login link")}catch(h){i(((m=(u=h.response)==null?void 0:u.data)==null?void 0:m.error)||"An error occurred. Please try again.")}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl shadow-lg mb-4 p-2",children:e.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/68efc20f3e0a30fafad6dde7/6cfe73a57_agcasRoundall.jpg",alt:"AGCAS",className:"w-full h-full object-contain"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"AGCAS Events"}),e.jsx("p",{className:"text-slate-600",children:"Professional Development & Training Portal"})]}),e.jsxs(le,{className:"shadow-xl border-slate-200",children:[e.jsxs(Fe,{className:"space-y-1 pb-4",children:[e.jsx(ze,{className:"text-2xl font-bold text-center",children:"Member Access"}),e.jsx(As,{className:"text-center",children:"Enter your AGCAS member email to receive a secure login link"})]}),e.jsxs(ce,{children:[l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Check your email!"}),e.jsx("p",{className:"text-sm text-green-700",children:"We've sent a secure login link to your email address. Click the link to access the portal."}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"The link will expire in 30 minutes."})]})]}),e.jsx(X,{variant:"outline",onClick:()=>o(!1),className:"w-full",children:"Send another link"})]}):e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-700",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{id:"email",type:"email",placeholder:"your.email@institution.ac.uk",value:t,onChange:d=>s(d.target.value),className:"pl-10",required:!0,disabled:n})]})]}),a&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-800",children:a})]}),e.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send Login Link"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Only AGCAS members can access this portal. If you're having trouble logging in, please contact your membership administrator."})})]})]}),e.jsxs("p",{className:"text-center text-sm text-slate-500 mt-6",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]})]})})}function K8(){const[t,s]=b.useState(!1),[n,r]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(!1),[c,d]=b.useState(null),[u,m]=b.useState(null),[h,p]=b.useState(null),[x,y]=b.useState(null),{data:v}=me({queryKey:["zoho-tokens"],queryFn:()=>ee.entities.ZohoToken.list(),initialData:[]}),{data:j}=me({queryKey:["xero-tokens"],queryFn:()=>ee.entities.XeroToken.list(),initialData:[]}),w=v.length>0,N=j.length>0,_=async()=>{s(!0);try{const C=await ee.functions.invoke("getZohoAuthUrl"),{authUrl:R}=C.data,O=window.open(R,"ZohoAuth","width=600,height=700");p(O);const k=setInterval(()=>{O.closed&&(clearInterval(k),p(null),s(!1),window.location.reload())},1e3)}catch(C){console.error("Auth error:",C),s(!1)}},P=async()=>{var C,R,O;i(!0),m(null);try{const k=await ee.functions.invoke("testFunction",{accessToken:v.length>0?v[0].access_token:null});m(k.data)}catch(k){m({success:!1,error:((R=(C=k.response)==null?void 0:C.data)==null?void 0:R.error)||k.message,fullError:JSON.stringify(((O=k.response)==null?void 0:O.data)||k,null,2)})}finally{i(!1)}},A=async()=>{var C,R;r(!0),d(null);try{const O=await ee.functions.invoke("syncBackstageEvents",{accessToken:v[0].access_token});d(O.data)}catch(O){d({success:!1,error:((R=(C=O.response)==null?void 0:C.data)==null?void 0:R.error)||O.message})}finally{r(!1)}},E=async()=>{o(!0);try{const C=await ee.functions.invoke("getXeroAuthUrl"),{authUrl:R}=C.data,O=window.open(R,"XeroAuth","width=600,height=700");y(O);const k=setInterval(()=>{O.closed&&(clearInterval(k),y(null),o(!1),window.location.reload())},1e3)}catch(C){console.error("Xero auth error:",C),o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl shadow-lg mb-4",children:e.jsx(Bn,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Admin Setup"}),e.jsx("p",{className:"text-slate-600",children:"Configure Zoho and Xero integrations for AGCAS Events"})," "]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Test Function"}),e.jsx(As,{children:"Test that backend functions are working correctly"})]}),e.jsxs(ce,{className:"space-y-4",children:[u&&e.jsx("div",{className:`flex items-start gap-3 p-4 rounded-lg border ${u.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:u.success?e.jsxs(e.Fragment,{children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Test Successful"}),e.jsx("p",{className:"text-sm text-green-700",children:u.message}),u.backstageDomain&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Domain: ",u.backstageDomain]}),u.portalName&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Portal: ",u.portalName]}),u.constructedUrl&&e.jsxs("p",{className:"text-xs text-green-600 mt-1 break-all",children:["URL: ",u.constructedUrl]}),u.accessTokenPrefix&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Token: ",u.accessTokenPrefix]}),u.statusCode&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Status: ",u.statusCode]}),u.eventCount!==void 0&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Events: ",u.eventCount]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:u.timestamp})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Test Failed"}),e.jsx("p",{className:"text-sm text-red-700",children:u.error}),u.fullError&&e.jsx("pre",{className:"text-xs text-red-600 mt-2 overflow-auto max-h-40 bg-red-100 p-2 rounded",children:u.fullError})]})]})}),e.jsx(X,{onClick:P,disabled:a,className:"w-full",size:"lg",children:a?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing..."]}):"Run Test Function"})]})]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Zoho Authentication"}),e.jsx(As,{children:"Connect your Zoho CRM and Backstage accounts to sync members and events"})]}),e.jsxs(ce,{className:"space-y-6",children:[w?e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:" Connected"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your Zoho account is connected and ready to sync data."}),e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Last updated: ",new Date(v[0].expires_at).toLocaleString()]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:" Authentication Required"}),e.jsx("br",{}),"You need to authenticate with Zoho before members can access the portal."]})}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"This will allow the app to:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Search and validate member contacts in Zoho CRM"}),e.jsx("li",{children:"Access organization and account information"}),e.jsx("li",{children:"Sync events from Zoho Backstage"}),e.jsx("li",{children:"Create registrations and manage bookings"})]})]})]}),e.jsx(X,{onClick:_,disabled:t,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:t?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Authenticating..."]}):w?e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 mr-2"}),"Re-authenticate with Zoho"]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 mr-2"}),"Authenticate with Zoho"]})}),w&&e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"The app will automatically refresh tokens as needed. Re-authenticate only if you experience issues."})})]})]}),e.jsxs(le,{className:"shadow-xl border-slate-200 mb-6",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Xero Authentication"}),e.jsx(As,{children:"Connect your Xero account to automatically create invoices for account charges"})]}),e.jsxs(ce,{className:"space-y-6",children:[N?e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:" Connected"}),e.jsx("p",{className:"text-sm text-green-700",children:"Your Xero account is connected and ready to create invoices."}),j[0]&&j[0].expires_at&&e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Last updated: ",new Date(j[0].expires_at).toLocaleString()]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:" Authentication Required"}),e.jsx("br",{}),"Connect to Xero to enable automatic invoice creation for account charges."]})}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"This will allow the app to:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"Create invoices in your Xero account"}),e.jsx("li",{children:"Access contact information for billing"}),e.jsx("li",{children:"Track invoice status and payments"})]})]})]}),e.jsx(X,{onClick:E,disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Authenticating..."]}):N?e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 mr-2"}),"Re-authenticate with Xero"]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 mr-2"}),"Authenticate with Xero"]})}),N&&e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"The app will automatically refresh tokens as needed. Re-authenticate only if you experience issues."})})]})]}),w&&e.jsxs(le,{className:"shadow-xl border-slate-200",children:[e.jsxs(Fe,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-5 h-5"}),"Backstage Event Sync"]}),e.jsx(As,{children:"Sync events from Zoho Backstage to make them available in the portal"})]}),e.jsxs(ce,{className:"space-y-4",children:[c&&e.jsx("div",{className:`flex items-start gap-3 p-4 rounded-lg border ${c.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:c.success?e.jsxs(e.Fragment,{children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"Sync Complete"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Successfully synced ",c.synced," of ",c.total," events",c.errors>0&&` (${c.errors} errors)`]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Sync Failed"}),e.jsx("p",{className:"text-sm text-red-700",children:c.error})]})]})}),e.jsx(X,{onClick:A,disabled:n,className:"w-full",size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Syncing Events..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a0,{className:"w-5 h-5 mr-2"}),"Sync Events from Backstage"]})}),e.jsx("p",{className:"text-xs text-slate-500",children:"This will fetch all events from Backstage and update the portal. Existing events will be updated with latest information."})]})]})]})})}var dy="Switch",[lfe]=Er(dy),[ofe,cfe]=lfe(dy),G8=b.forwardRef((t,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,p]=b.useState(null),x=ys(s,N=>p(N)),y=b.useRef(!1),v=h?u||!!h.closest("form"):!0,[j,w]=ui({prop:a,defaultProp:i??!1,onChange:d,caller:dy});return e.jsxs(ofe,{scope:n,checked:j,disabled:o,children:[e.jsx(zt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":X8(j),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:x,onClick:jt(t.onClick,N=>{w(_=>!_),v&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),v&&e.jsx(J8,{control:h,bubbles:!y.current,name:r,value:c,checked:j,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});G8.displayName=dy;var Y8="SwitchThumb",Q8=b.forwardRef((t,s)=>{const{__scopeSwitch:n,...r}=t,a=cfe(Y8,n);return e.jsx(zt.span,{"data-state":X8(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});Q8.displayName=Y8;var dfe="SwitchBubbleInput",J8=b.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=b.useRef(null),o=ys(l,i),c=Xv(n),d=Lv(s);return b.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&p){const x=new Event("click",{bubbles:r});p.call(u,n),u.dispatchEvent(x)}},[c,n,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});J8.displayName=dfe;function X8(t){return t?"checked":"unchecked"}var Z8=G8,ufe=Q8;const fs=b.forwardRef(({className:t,...s},n)=>e.jsx(Z8,{className:et("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(ufe,{className:et("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));fs.displayName=Z8.displayName;function hfe({attendees:t,onUpdate:s,onRemove:n,onAdd:r,memberInfo:a}){const[i,l]=b.useState({}),o=async(p,x)=>{if(!x||!x.includes("@")){s(p,"isValid",null),s(p,"validationStatus",null),s(p,"validationMessage",null);return}l(y=>({...y,[p]:!0}));try{const y=await ee.functions.invoke("validateColleague",{email:x,memberEmail:a.email,organizationId:a.organization_id});y.data.valid?(s(p,"isValid",!0),s(p,"validationStatus",y.data.status),s(p,"validationMessage",y.data.message),y.data.first_name&&(s(p,"first_name",y.data.first_name),s(p,"last_name",y.data.last_name))):(s(p,"isValid",!0),s(p,"validationStatus",y.data.status),s(p,"validationMessage",y.data.error||"Could not verify. Please enter attendee details."))}catch(y){console.error("Validation error:",y),s(p,"isValid",!0),s(p,"validationStatus","external"),s(p,"validationMessage","Could not verify email. Please enter attendee details manually.")}finally{l(y=>({...y,[p]:!1}))}},c=(p,x)=>{t[p].isSelf||o(p,x)},d=p=>{if(p.isSelf)return"border-blue-200 bg-blue-50";switch(p.validationStatus){case"registered":return"border-green-200 bg-green-50";case"unregistered_domain_match":return"border-blue-200 bg-blue-50";case"external":return"border-amber-200 bg-amber-50";case"wrong_organization":case"error":return"border-red-200 bg-red-50";default:return"border-slate-200 bg-white"}},u=p=>{if(i[t.indexOf(p)])return e.jsx(bt,{className:"w-4 h-4 animate-spin text-slate-400"});switch(p.validationStatus){case"registered":return e.jsx(ar,{className:"w-4 h-4 text-green-600"});case"unregistered_domain_match":return e.jsx(JP,{className:"w-4 h-4 text-blue-600"});case"external":return e.jsx(JP,{className:"w-4 h-4 text-amber-600"});case"wrong_organization":case"error":return e.jsx(js,{className:"w-4 h-4 text-red-600"});default:return null}},m=p=>{switch(p){case"registered":return"text-green-700";case"unregistered_domain_match":return"text-blue-700";case"external":return"text-amber-700";case"wrong_organization":case"error":return"text-red-600";default:return"text-slate-600"}},h=p=>!p.isSelf&&(p.validationStatus==="unregistered_domain_match"||p.validationStatus==="external"||p.validationStatus==="wrong_organization");return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map((p,x)=>e.jsx("div",{className:`p-4 rounded-lg border ${d(p)}`,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(he,{placeholder:"Email address",type:"email",value:p.email,onChange:y=>s(x,"email",y.target.value),onBlur:y=>c(x,y.target.value),disabled:p.isSelf,className:p.isSelf?"bg-blue-50":""}),!p.isSelf&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:u(p)})]}),h(p)&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-slate-200",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700",children:"Attendee Details Required"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(he,{placeholder:"First Name *",value:p.first_name||"",onChange:y=>s(x,"first_name",y.target.value),className:"text-sm",required:!0}),e.jsx(he,{placeholder:"Last Name *",value:p.last_name||"",onChange:y=>s(x,"last_name",y.target.value),className:"text-sm",required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!p.isSelf&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>n(x),className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-8 w-8 shrink-0",children:e.jsx(hs,{className:"w-4 h-4"})}),p.isSelf&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx(sn,{className:"w-4 h-4"}),e.jsx("span",{children:"This is you"})]}),!p.isSelf&&p.validationStatus==="registered"&&p.first_name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[e.jsx(sn,{className:"w-4 h-4"}),e.jsxs("span",{children:[p.first_name," ",p.last_name]})]}),!p.isSelf&&p.validationMessage&&!(p.validationStatus==="registered"&&p.first_name)&&e.jsxs("p",{className:`text-xs flex items-start gap-1 flex-1 ${m(p.validationStatus)}`,children:[u(p),e.jsx("span",{className:"flex-1",children:p.validationMessage})]})]})]})},x))})}function mfe({totalCost:t,memberInfo:s,organizationInfo:n,attendees:r,numberOfLinks:a,event:i,submitting:l,setSubmitting:o,registrationMode:c,refreshOrganizationInfo:d}){const u=c==="links"?a:r.filter(x=>x.isValid).length,m=i.program_tag&&(n!=null&&n.program_ticket_balances)&&n.program_ticket_balances[i.program_tag]||0,h=m>=u,p=async()=>{var x,y;if((c==="colleagues"||c==="self")&&r.filter(j=>!j.isSelf&&(j.validationStatus==="unregistered_domain_match"||j.validationStatus==="external")&&(!j.first_name||!j.last_name)).length>0){te.error("Please provide first and last names for all attendees");return}if(!h){te.error("Insufficient program tickets. Please purchase more tickets first.");return}if(c==="colleagues"&&r.some(v=>!v.isValid)){te.error("Please remove or fix invalid attendee emails");return}if(u===0){te.error("Please add at least one attendee or specify number of links");return}o(!0);try{const v=await ee.functions.invoke("createBooking",{eventId:i.id,memberEmail:s.email,attendees:c==="colleagues"||c==="self"?r.filter(j=>j.isValid):[],registrationMode:c,numberOfLinks:c==="links"?a:0,ticketsRequired:u,programTag:i.program_tag});v.data.success?(sessionStorage.removeItem(`event_registration_${i.id}`),d&&d(),te.success("Booking confirmed!"),setTimeout(()=>{window.location.href=Te("MyBookings")},1500)):te.error(v.data.error||"Failed to create booking")}catch(v){te.error(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.error)||"Failed to create booking")}finally{o(!1)}};return e.jsxs(le,{className:"border-slate-200 shadow-lg sticky top-8",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{className:"text-xl",children:"Booking Summary"})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[i.program_tag?e.jsxs("div",{className:"p-4 rounded-lg border-2 border-purple-200 bg-purple-50",id:"booking-summary-tickets",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-purple-900",children:"unpacked tickets"})]}),e.jsxs("span",{className:"text-xs text-purple-600",children:["Available: ",m]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Tickets Required:"}),e.jsx("span",{className:"font-bold text-purple-900",children:u})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-purple-700",children:"Tickets Available:"}),e.jsx("span",{className:"font-bold text-purple-900",children:m})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-purple-700",children:"Remaining After Booking:"}),e.jsx("span",{className:`font-bold ${h?"text-green-600":"text-red-600"}`,children:Math.max(0,m-u)})]})]}),!h&&e.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600 mt-0.5 shrink-0"}),e.jsxs("div",{className:"text-xs text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Insufficient tickets"}),e.jsxs("p",{children:["You need ",u-m," more ",i.program_tag," ticket",u-m>1?"s":""," to complete this booking."]})]})]})})]}):e.jsx("div",{className:"p-4 rounded-lg border-2 border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"No Program Required"}),e.jsx("p",{children:"This event is not associated with a program and cannot be booked through this system."})]})]})}),!h&&i.program_tag&&e.jsxs(X,{variant:"outline",className:"w-full",onClick:()=>window.location.href=Te("BuyProgramTickets"),children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Buy ",i.program_tag," Tickets"]}),e.jsx(X,{id:"confirm-booking-button",onClick:p,disabled:!h||!i.program_tag||l||u===0,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):"Confirm Booking"}),u===0&&c==="colleagues"&&e.jsx("p",{className:"text-xs text-center text-slate-500",children:"Add attendees to proceed with booking"})]})]})}function ffe({mode:t,onModeChange:s,isFeatureExcluded:n}){const a=[{id:"self",icon:sn,title:"Self Register",description:"Register yourself only",featureId:"element_SelfRegistration"},{id:"colleagues",icon:Cs,title:"Register Attendees",description:"Register your attendee(s) now"}].filter(i=>i.featureId&&n?!n(i.featureId):!0);return e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(i=>{const l=i.icon,o=t===i.id;return e.jsx("button",{onClick:()=>s(i.id),className:"text-left",children:e.jsx(le,{className:`border-2 transition-all cursor-pointer hover:shadow-md ${o?"border-green-600 bg-green-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${o?"bg-green-600 text-white":"bg-slate-100 text-slate-600"}`,children:e.jsx(l,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold mb-1 ${o?"text-green-900":"text-slate-900"}`,children:i.title}),e.jsx("p",{className:`text-sm ${o?"text-green-700":"text-slate-600"}`,children:i.description})]})]})})})},i.id)})})}function pfe({organizationId:t,onSelect:s,memberInfo:n}){const[r,a]=b.useState(""),[i,l]=b.useState([]),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[m,h]=b.useState(!1),[p,x]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[P,A]=b.useState(null);b.useEffect(()=>{t&&(async()=>{try{const F=(await ee.entities.Organization.list()).find(z=>z.id===t||z.zoho_account_id===t);if(console.log("Looking for organization with ID:",t),console.log("Found organization:",F),console.log("Base44 Org ID:",F==null?void 0:F.id),console.log("Contacts synced at:",F==null?void 0:F.contacts_synced_at),!F){console.error("Organization not found");return}A(F.id),!F.contacts_synced_at||yoe(new Date,new Date(F.contacts_synced_at))>15?(console.log("Contacts need syncing (never synced or older than 15 minutes)"),await E(t)):(console.log("Contacts are up to date, loading from database"),_(!0),C(F.id))}catch(D){console.error("Failed to check org sync status:",D)}})()},[t]);const E=async T=>{u(!0);try{console.log("Triggering sync for organization:",T);const D=await ee.functions.invoke("syncOrganizationContacts",{organizationId:T});if(console.log("Sync response:",D.data),D.data.success){_(!0);const U=(await ee.entities.Organization.list()).find(z=>z.zoho_account_id===T);U&&(A(U.id),await C(U.id))}}catch(D){console.error("Sync failed:",D)}finally{u(!1)}},C=async T=>{c(!0);try{console.log("Loading contacts for Base44 organization ID:",T);const D=await ee.entities.OrganizationContact.filter({organization_id:T,is_active:!0});console.log("Loaded contacts:",D.length),console.log("Sample contact:",D[0]),l(D)}catch(D){console.error("Failed to load contacts:",D)}finally{c(!1)}},R=i.filter(T=>{var H,B,$;if(!r)return!1;const D=r.toLowerCase(),F=(H=T.first_name)==null?void 0:H.toLowerCase().includes(D),U=(B=T.last_name)==null?void 0:B.toLowerCase().includes(D),z=($=T.email)==null?void 0:$.toLowerCase().includes(D);return F||U||z}),O=T=>{s({email:T.email,first_name:T.first_name,last_name:T.last_name,zoho_contact_id:T.zoho_contact_id,isValid:!0,validationStatus:"registered"}),a(""),w(!1)},k=async()=>{if(!(!p||!p.includes("@"))){v(!0);try{const T=await ee.functions.invoke("validateColleague",{email:p,memberEmail:n.email,organizationId:t});T.data.valid?s({email:p,first_name:T.data.first_name||"",last_name:T.data.last_name||"",zoho_contact_id:T.data.zoho_contact_id,isValid:!0,validationStatus:T.data.status,validationMessage:T.data.message}):s({email:p,first_name:"",last_name:"",isValid:!1,validationStatus:T.data.status,validationMessage:T.data.error}),x(""),h(!1)}catch{s({email:p,first_name:"",last_name:"",isValid:!1,validationStatus:"error",validationMessage:"Validation failed"}),x(""),h(!1)}finally{v(!1)}}};return d?e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 text-center",children:[e.jsx(bt,{className:"w-6 h-6 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Syncing organization contacts..."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This may take a moment"})]}):m?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Enter email address",type:"email",value:p,onChange:T=>x(T.target.value),onKeyPress:T=>T.key==="Enter"&&k(),disabled:y,autoFocus:!0}),e.jsx(X,{onClick:k,size:"sm",disabled:y,children:y?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):"Add"})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"text-xs",disabled:y,children:" Back to search"})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:r,onChange:T=>{a(T.target.value),w(T.target.value.length>0)},onFocus:()=>r&&w(!0),className:"pl-10",disabled:o})]}),j&&r&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o?e.jsxs("div",{className:"p-4 text-center text-slate-500",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin mx-auto mb-1"}),e.jsx("p",{className:"text-sm",children:"Loading..."})]}):R.length>0?e.jsxs(e.Fragment,{children:[R.map(T=>e.jsxs("button",{onClick:()=>O(T),className:"w-full px-4 py-3 text-left hover:bg-slate-50 border-b border-slate-100 last:border-0 transition-colors",children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[T.first_name," ",T.last_name]}),e.jsx("div",{className:"text-sm text-slate-500",children:T.email})]},T.id)),e.jsx("button",{onClick:()=>{h(!0),w(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-t border-slate-200 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Can't find them? Enter email manually"})]})})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"No matches found"}),e.jsx("button",{onClick:()=>{h(!0),w(!1)},className:"w-full px-4 py-2 text-left bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Enter email manually"})]})})]})})]})}function eq({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,isFeatureExcluded:r,memberRole:a,reloadMemberInfo:i}){var je;const[l,o]=b.useState(null),[c,d]=b.useState(!1),[u,m]=b.useState(!1),h=t||l,[p,x]=b.useState([]),[y,v]=b.useState(!1),[j,w]=b.useState("colleagues"),[N,_]=b.useState(!1),[P,A]=b.useState(!1),E=b.useRef(null),R=new URLSearchParams(window.location.search).get("id"),O=(a==null?void 0:a.show_tours)!==!1,k=((je=h==null?void 0:h.page_tours_seen)==null?void 0:je.EventDetails)===!0;Be.useEffect(()=>{O&&!k&&h&&(m(!0),d(!0))},[O,k,h]);const T=Be.useMemo(()=>{const qe=[{id:"self",icon:"User",title:"Self Register",description:"Register yourself only",featureId:"element_SelfRegistration"},{id:"colleagues",icon:"Users",title:"Register Attendees",description:"Register your attendee(s) now"}].filter($e=>$e.featureId&&r?!r($e.featureId):!0);return console.log("[EventDetails] Available registration modes:",qe.map($e=>$e.id)),qe},[r]);b.useEffect(()=>{if(!t){const Ne=sessionStorage.getItem("agcas_member");o(Ne?JSON.parse(Ne):null)}},[t]),b.useEffect(()=>{if(console.log("[EventDetails] Initialization useEffect - hasInitialized.current:",E.current,"eventId:",R),E.current===R){console.log("[EventDetails] Already initialized for this eventId, skipping initialization");return}if(console.log("[EventDetails] Running initialization logic"),E.current=R,h){if(R){const Ne=sessionStorage.getItem(`event_registration_${R}`);if(console.log("[EventDetails] Saved registration in sessionStorage:",Ne?"exists":"not found"),Ne){let{attendees:qe,registrationMode:$e,memberAttending:Ee}=JSON.parse(Ne);console.log("[EventDetails] Loaded saved registration - mode:",$e,"attendees:",qe.length);const Se=T.some(Ye=>Ye.id===$e);if(console.log('[EventDetails] Is saved mode "'+$e+'" still available?',Se),!Se){console.log("[EventDetails] Saved mode is no longer available - resetting to defaults"),sessionStorage.removeItem(`event_registration_${R}`);let Ye,Qe=!1,Me=[],lt=!1;const Ce=T.find(_e=>_e.id==="colleagues"),it=T.find(_e=>_e.id==="self");Ce?(Ye="colleagues",lt=!0):it?(Ye="self",Qe=!0,Me=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]):(Ye=T.length>0?T[0].id:"colleagues",Ye==="colleagues"&&(lt=!0)),w(Ye),_(Qe),x(Me),A(lt);return}$e==="links"&&($e="self",Ee=!0,qe=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}],console.log("[EventDetails] Converted links mode to self mode")),x(qe),w($e),_(Ee!==void 0?Ee:!1),$e==="colleagues"&&qe.length===0?A(!0):A(!1)}else{console.log("[EventDetails] No saved registration - initializing defaults");let qe,$e=!1,Ee=[],Se=!1;const Ye=T.find(Me=>Me.id==="colleagues"),Qe=T.find(Me=>Me.id==="self");Ye?(qe="colleagues",Se=!0):Qe?(qe="self",$e=!0,Ee=[{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]):(qe=T.length>0?T[0].id:"colleagues",qe==="colleagues"&&(Se=!0)),w(qe),_($e),x(Ee),A(Se)}}}else{console.log("[EventDetails] No memberInfo - setting up for unauthenticated user"),x([]);const qe=T.find($e=>$e.id==="colleagues")?"colleagues":T.length>0?T[0].id:"colleagues";w(qe),_(!1),A(qe==="colleagues")}},[R]),b.useEffect(()=>{if(R&&h&&E.current===R){const Ne={attendees:p,registrationMode:j,memberAttending:N};sessionStorage.setItem(`event_registration_${R}`,JSON.stringify(Ne))}},[p,j,N,R,h]);const{data:D,isLoading:F}=me({queryKey:["event",R],queryFn:async()=>(await ee.entities.Event.list()).find(qe=>qe.id===R),enabled:!!R}),U=Ne=>{x(p.filter((qe,$e)=>$e!==Ne))},z=(Ne,qe,$e)=>{const Ee=[...p];Ee[Ne][qe]=$e,x(Ee)},H=Ne=>{x([...p,{...Ne,isValid:!0,isSelf:!1}]),A(!1)},B=Ne=>{w(Ne),A(!1),h?Ne==="self"?(x([{email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0}]),_(!0)):Ne==="colleagues"&&(x([]),_(!1),A(!0)):(x([]),_(!1),Ne==="colleagues"&&A(!0))},$=()=>{if(!h)return;const Ne=!N;if(_(Ne),Ne){const qe={email:h.email||"",first_name:h.first_name||"",last_name:h.last_name||"",isValid:!0,isSelf:!0};if(!p.some($e=>$e.isSelf))x([qe,...p]);else{const $e=p.filter(Ee=>!Ee.isSelf);x([qe,...$e])}}else x(p.filter(qe=>!qe.isSelf))},I=async()=>{d(!1),m(!1)},L=async()=>{d(!1),m(!1),await q("EventDetails")},V=()=>{d(!1),m(!1),setTimeout(()=>{d(!0),m(!0)},10)},q=async Ne=>{if(h&&!h.is_team_member)try{const $e=(await ee.entities.Member.list()).find(Ee=>Ee.email===h.email);if($e){const Ee={...$e.page_tours_seen||{},[Ne]:!0};await ee.entities.Member.update($e.id,{page_tours_seen:Ee});const Se={...h,page_tours_seen:Ee};sessionStorage.setItem("agcas_member",JSON.stringify(Se)),i&&i()}}catch(qe){console.error("Failed to update tour status:",qe)}};if(F)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading event..."})});if(!D)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Event not found"}),e.jsx(Gt,{to:Te("Events"),children:e.jsx(X,{children:"Back to Events"})})]})});const J=D.start_date?new Date(D.start_date):null,Q=D.end_date?new Date(D.end_date):null,Y=D.available_seats===0||D.available_seats===null,K=p.filter(Ne=>Ne.isValid).length*(D.ticket_price||0),ae=j==="links"?0:p.filter(Ne=>Ne.isValid).length,se=D.program_tag&&(s!=null&&s.program_ticket_balances)&&s.program_ticket_balances[D.program_tag]||0,de=se>=ae,ue=de&&D.program_tag&&!y&&ae>0,oe=!r||!r("element_AvailableSeatsDisplay"),pe=async()=>{var Ne,qe;if((j==="colleagues"||j==="self")&&p.filter(Ee=>!Ee.isSelf&&(Ee.validationStatus==="unregistered_domain_match"||Ee.validationStatus==="external")&&(!Ee.first_name||!Ee.last_name)).length>0){te.error("Please provide first and last names for all attendees");return}if(!de){te.error("Insufficient program tickets. Please purchase more tickets first.");return}if(j==="colleagues"&&p.some($e=>!$e.isValid)){te.error("Please remove or fix invalid attendee emails");return}if(ae===0){te.error("Please add at least one attendee or specify number of links");return}v(!0);try{const $e=await ee.functions.invoke("createBooking",{eventId:D.id,memberEmail:h.email,attendees:j==="colleagues"||j==="self"?p.filter(Ee=>Ee.isValid):[],registrationMode:j,numberOfLinks:0,ticketsRequired:ae,programTag:D.program_tag});$e.data.success?(sessionStorage.removeItem(`event_registration_${D.id}`),n&&n(),te.success("Booking confirmed!"),setTimeout(()=>{window.location.href=Te("Bookings")},1500)):te.error($e.data.error||"Failed to create booking")}catch($e){te.error(((qe=(Ne=$e.response)==null?void 0:Ne.data)==null?void 0:qe.error)||"Failed to create booking")}finally{v(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[c&&O&&e.jsx(Fd,{tourGroupName:"EventDetails",viewId:null,onComplete:I,onDismissPermanently:L,autoShow:u}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Gt,{to:Te("Events"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to Events"]}),O&&e.jsx(Id,{onClick:V})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[D.image_url&&e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg",children:e.jsx("img",{src:D.image_url,alt:D.title,className:"w-full h-64 object-cover"})}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:D.title}),D.program_tag&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:D.program_tag})]}),e.jsxs("div",{className:"space-y-3 pt-4",children:[J&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(Ns,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{className:"font-medium",children:Ot(J,"EEEE, MMMM d, yyyy")}),Q&&J.getTime()!==Q.getTime()&&e.jsxs("span",{className:"text-slate-500",children:["- ",Ot(Q,"MMMM d, yyyy")]})]}),J&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(an,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{children:Ot(J,"h:mm a")}),Q&&e.jsxs("span",{className:"text-slate-500",children:["- ",Ot(Q,"h:mm a")]})]}),D.location&&e.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[e.jsx(Wr,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{children:D.location})]}),oe&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cs,{className:"w-5 h-5 text-slate-400"}),Y?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration - No Capacity Limit"}):D.available_seats!==void 0&&D.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[D.available_seats," seats available"]}):D.available_seats!==void 0?e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"}):null]})]})]}),D.description&&e.jsxs(ce,{className:"pt-6 border-t border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"About this event"}),e.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:D.description})]})]}),j==="colleagues"&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ze,{className:"text-xl",children:"Attendees"}),e.jsxs("div",{className:"flex items-center gap-4",children:[h&&e.jsxs("div",{className:"flex items-center gap-3",id:"member-attending-toggle",children:[e.jsx(fs,{id:"member-attending",checked:N,onCheckedChange:$}),e.jsx(Z,{htmlFor:"member-attending",className:"text-sm font-medium text-slate-700 cursor-pointer",children:"I am attending"})]}),e.jsxs(X,{id:"add-colleague-button",variant:"outline",size:"sm",onClick:()=>A(!0),className:"gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add Colleague"]})]})]})}),e.jsxs(ce,{className:"pt-6 space-y-4",children:[P&&e.jsxs("div",{className:"p-4 border border-blue-200 rounded-lg bg-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-slate-900",children:"Add Colleague"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(!1),children:"Cancel"})]}),e.jsx("div",{id:"colleague-search-input",children:e.jsx(pfe,{organizationId:h==null?void 0:h.organization_id,onSelect:H,memberInfo:h})})]}),p.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Cs,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{children:"No attendees added yet"}),h&&e.jsx("p",{className:"text-sm mt-1",children:'Toggle "I am attending" or add colleagues to get started.'})]}):e.jsxs(e.Fragment,{children:[e.jsx(hfe,{attendees:p,onUpdate:z,onRemove:U,memberInfo:h}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:pe,disabled:!ue,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",size:"lg",children:y?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):"Confirm Booking"}),!de&&D.program_tag&&e.jsxs("p",{className:"text-xs text-center text-amber-600 mt-2",children:["Insufficient program tickets. You need ",ae-se," more ticket",ae-se>1?"s":"","."]}),ae===0&&e.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Add attendees to proceed with booking"})]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx(mfe,{totalCost:K,memberInfo:h,organizationInfo:s,attendees:p.filter(Ne=>Ne.isValid),numberOfLinks:0,event:D,submitting:y,setSubmitting:v,registrationMode:j,refreshOrganizationInfo:n}),T.length>1&&e.jsx("div",{children:e.jsx(ffe,{mode:j,onModeChange:B,isFeatureExcluded:r})})]})]})]})]})}function gfe({organizationId:t,selectedVouchers:s,onVoucherToggle:n,maxAmount:r}){const{data:a,isLoading:i,error:l}=me({queryKey:["vouchers",t],queryFn:async()=>{if(!t)return[];console.log("[VoucherSelector] Fetching vouchers for org:",t);const u=await ee.entities.Voucher.list();console.log("[VoucherSelector] All vouchers fetched:",u.length);const m=u.filter(h=>h.organization_id===t&&h.status==="active");return console.log("[VoucherSelector] Active vouchers for this org:",m.length),m},enabled:!!t,initialData:[],staleTime:5e3}),o=b.useMemo(()=>{if(!a||a.length===0)return[];console.log("[VoucherSelector] BEFORE client-side sort:",a.map(m=>({code:m.code,value:m.value,expires_at:m.expires_at,expiryTimestamp:new Date(m.expires_at).getTime()})));const u=[...a].sort((m,h)=>{const p=new Date(m.expires_at).getTime(),x=new Date(h.expires_at).getTime();return p!==x?p-x:m.value-h.value});return console.log("[VoucherSelector] AFTER client-side sort:",u.map(m=>({code:m.code,value:m.value,expires_at:m.expires_at,expiryTimestamp:new Date(m.expires_at).getTime()}))),u},[a]),c=b.useMemo(()=>{const u=new Map;if(!r||s.length===0)return u;const m=s.map(p=>o.find(x=>x.id===p)).filter(p=>p!==void 0).sort((p,x)=>{const y=new Date(p.expires_at).getTime(),v=new Date(x.expires_at).getTime();return y!==v?y-v:p.value-x.value});let h=r;for(const p of m){if(h<=0)break;const x=Math.min(p.value,h),y=x>=p.value,v=p.value-x;u.set(p.id,{amountUsed:x,isFullyUsed:y,remainingValue:v}),h-=x}return u},[o,s,r]),d=(u,m)=>{n(m?[...s,u]:s.filter(h=>h!==u))};return i?e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Loading vouchers..."})]})}):l?e.jsx("div",{className:"p-4 rounded-lg border border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-600",children:[e.jsx(js,{className:"w-4 h-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Error loading vouchers"}),e.jsx("p",{className:"text-xs mt-1",children:l.message})]})]})}):t?o.length===0?e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[e.jsx(js,{className:"w-4 h-4 mt-0.5"}),e.jsx("span",{children:"No active vouchers available"})]})}):e.jsxs("div",{className:"space-y-3",children:[o.length>0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Sorted by expiry date - vouchers expiring soonest are listed first"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.map(u=>{const m=s.includes(u.id),h=c.get(u.id),p=(h==null?void 0:h.isFullyUsed)||!1,x=(h==null?void 0:h.remainingValue)||0,y=m&&!p&&x>0,v=new Date(u.expires_at),j=Math.ceil((v-new Date)/(1e3*60*60*24)),w=j<=30;let N="bg-white";m&&p?N="bg-green-50":m&&y?N="bg-yellow-50":m&&(N="bg-blue-50");let _="border-slate-200";m&&p?_="border-green-300":m&&y?_="border-yellow-300":m&&(_="border-blue-500");let P="text-slate-400";return m&&p?P="text-green-600":m&&y?P="text-yellow-600":m&&(P="text-blue-600"),e.jsx("div",{className:`p-3 rounded-lg border transition-all ${_} ${N}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ls,{className:`w-4 h-4 shrink-0 ${P}`}),e.jsx("span",{className:"font-semibold text-slate-900 truncate",children:u.code}),e.jsxs(ye,{className:"bg-green-100 text-green-700 text-xs",children:["",u.value.toFixed(2)]})]}),u.description&&e.jsx("p",{className:"text-xs text-slate-600 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(Ns,{className:"w-3 h-3 text-slate-400"}),e.jsxs("span",{className:w?"text-amber-600 font-medium":"text-slate-500",children:["Expires ",Ot(v,"MMM d, yyyy"),w&&` (${j} days)`]})]}),y&&e.jsx("div",{className:"mt-2 pt-2 border-t border-yellow-200",children:e.jsxs("p",{className:"text-xs text-yellow-700 font-medium",children:["Remaining balance after purchase: ",x.toFixed(2)]})})]}),e.jsx(fs,{checked:m,onCheckedChange:A=>d(u.id,A),className:"shrink-0"})]})},u.id)})})]}):e.jsx("div",{className:"p-4 rounded-lg border border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start gap-2 text-sm text-amber-600",children:[e.jsx(js,{className:"w-4 h-4 mt-0.5"}),e.jsx("span",{children:"Organization information not available"})]})})}var tq="clover",xfe=function(s){return s===3?"v3":s},sq="https://js.stripe.com",vfe="".concat(sq,"/").concat(tq,"/stripe.js"),yfe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,bfe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,jfe=function(s){return yfe.test(s)||bfe.test(s)},wfe=function(){for(var s=document.querySelectorAll('script[src^="'.concat(sq,'"]')),n=0;n<s.length;n++){var r=s[n];if(jfe(r.src))return r}return null},oM=function(s){var n="",r=document.createElement("script");r.src="".concat(vfe).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},Nfe=function(s,n){!s||!s._registerWrapper||s._registerWrapper({name:"stripe-js",version:"8.5.3",startTime:n})},nf=null,Wx=null,Hx=null,_fe=function(s){return function(n){s(new Error("Failed to load Stripe.js",{cause:n}))}},Sfe=function(s,n){return function(){window.Stripe?s(window.Stripe):n(new Error("Stripe.js not available"))}},Cfe=function(s){return nf!==null?nf:(nf=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=wfe();if(!(a&&s)){if(!a)a=oM(s);else if(a&&Hx!==null&&Wx!==null){var i;a.removeEventListener("load",Hx),a.removeEventListener("error",Wx),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=oM(s)}}Hx=Sfe(n,r),Wx=_fe(r),a.addEventListener("load",Hx),a.addEventListener("error",Wx)}catch(l){r(l);return}}),nf.catch(function(n){return nf=null,Promise.reject(n)}))},kfe=function(s,n,r){if(s===null)return null;var a=n[0],i=a.match(/^pk_test/),l=xfe(s.version),o=tq;i&&l!==o&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("8.5.3"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=s.apply(void 0,n);return Nfe(c,r),c},rf,nq=!1,rq=function(){return rf||(rf=Cfe(null).catch(function(s){return rf=null,Promise.reject(s)}),rf)};Promise.resolve().then(function(){return rq()}).catch(function(t){nq||console.warn(t)});var aq=function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];nq=!0;var a=Date.now();return rq().then(function(i){return kfe(i,n,a)})},ww={exports:{}},Nw,cM;function Efe(){if(cM)return Nw;cM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nw=t,Nw}var _w,dM;function Tfe(){if(dM)return _w;dM=1;var t=Efe();function s(){}function n(){}return n.resetWarningCache=s,_w=function(){function r(l,o,c,d,u,m){if(m!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:s};return i.PropTypes=i,i},_w}var uM;function Pfe(){return uM||(uM=1,ww.exports=Tfe()()),ww.exports}var Afe=Pfe();const rn=vc(Afe);function hM(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?hM(Object(n),!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j0=function(s){return typeof s}:j0=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},j0(t)}function iq(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function Ofe(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Mfe(t,s){if(t==null)return{};var n=Ofe(t,s),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,s){return Dfe(t)||Rfe(t,s)||Ffe(t,s)||Ife()}function Dfe(t){if(Array.isArray(t))return t}function Rfe(t,s){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],a=!0,i=!1,l,o;try{for(n=n.call(t);!(a=(l=n.next()).done)&&(r.push(l.value),!(s&&r.length===s));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function Ffe(t,s){if(t){if(typeof t=="string")return fM(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,s)}}function fM(t,s){(s==null||s>t.length)&&(s=t.length);for(var n=0,r=new Array(s);n<s;n++)r[n]=t[n];return r}function Ife(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fr=function(s,n,r){var a=!!r,i=Be.useRef(r);Be.useEffect(function(){i.current=r},[r]),Be.useEffect(function(){if(!a||!s)return function(){};var l=function(){i.current&&i.current.apply(i,arguments)};return s.on(n,l),function(){s.off(n,l)}},[a,n,s,i])},_S=function(s){var n=Be.useRef(s);return Be.useEffect(function(){n.current=s},[s]),n.current},Mh=function(s){return s!==null&&j0(s)==="object"},Lfe=function(s){return Mh(s)&&typeof s.then=="function"},Bfe=function(s){return Mh(s)&&typeof s.elements=="function"&&typeof s.createToken=="function"&&typeof s.createPaymentMethod=="function"&&typeof s.confirmCardPayment=="function"},pM="[object Object]",qfe=function t(s,n){if(!Mh(s)||!Mh(n))return s===n;var r=Array.isArray(s),a=Array.isArray(n);if(r!==a)return!1;var i=Object.prototype.toString.call(s)===pM,l=Object.prototype.toString.call(n)===pM;if(i!==l)return!1;if(!i&&!r)return s===n;var o=Object.keys(s),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d={},u=0;u<o.length;u+=1)d[o[u]]=!0;for(var m=0;m<c.length;m+=1)d[c[m]]=!0;var h=Object.keys(d);if(h.length!==o.length)return!1;var p=s,x=n,y=function(j){return t(p[j],x[j])};return h.every(y)},oq=function(s,n,r){return Mh(s)?Object.keys(s).reduce(function(a,i){var l=!Mh(n)||!qfe(s[i],n[i]);return r.includes(i)?(l&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):l?mM(mM({},a||{}),{},iq({},i,s[i])):a},null):null},cq="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",gM=function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cq;if(s===null||Bfe(s))return s;throw new Error(n)},$fe=function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cq;if(Lfe(s))return{tag:"async",stripePromise:Promise.resolve(s).then(function(a){return gM(a,n)})};var r=gM(s,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Ufe=function(s){!s||!s._registerWrapper||!s.registerAppInfo||(s._registerWrapper({name:"react-stripe-js",version:"5.4.1"}),s.registerAppInfo({name:"react-stripe-js",version:"5.4.1",url:"https://stripe.com/docs/stripe-js/react"}))},uy=Be.createContext(null);uy.displayName="ElementsContext";var dq=function(s,n){if(!s)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return s},zC=function(s){var n=s.stripe,r=s.options,a=s.children,i=Be.useMemo(function(){return $fe(n)},[n]),l=Be.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),o=lq(l,2),c=o[0],d=o[1];Be.useEffect(function(){var h=!0,p=function(y){d(function(v){return v.stripe?v:{stripe:y,elements:y.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&h&&p(x)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,r]);var u=_S(n);Be.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var m=_S(r);return Be.useEffect(function(){if(c.elements){var h=oq(r,m,["clientSecret","fonts"]);h&&c.elements.update(h)}},[r,m,c.elements]),Be.useEffect(function(){Ufe(c.stripe)},[c.stripe]),Be.createElement(uy.Provider,{value:c},a)};zC.propTypes={stripe:rn.any,options:rn.object};var zfe=function(s){var n=Be.useContext(uy);return dq(n,s)},uq=function(){var s=zfe("calls useElements()"),n=s.elements;return n};rn.func.isRequired;var hq=Be.createContext(null);hq.displayName="CheckoutContext";rn.any,rn.shape({clientSecret:rn.oneOfType([rn.string,rn.instanceOf(Promise)]).isRequired,elementsOptions:rn.object}).isRequired;var SS=function(s){var n=Be.useContext(hq),r=Be.useContext(uy);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(s," in both <CheckoutProvider> and <Elements> providers."));return n}else return dq(r,s)},Vfe=["mode"],Wfe=function(s){return s.charAt(0).toUpperCase()+s.slice(1)},xa=function(s,n){var r="".concat(Wfe(s),"Element"),a=function(c){var d=c.id,u=c.className,m=c.options,h=m===void 0?{}:m,p=c.onBlur,x=c.onFocus,y=c.onReady,v=c.onChange,j=c.onEscape,w=c.onClick,N=c.onLoadError,_=c.onLoaderStart,P=c.onNetworksChange,A=c.onConfirm,E=c.onCancel,C=c.onShippingAddressChange,R=c.onShippingRateChange,O=c.onSavedPaymentMethodRemove,k=c.onSavedPaymentMethodUpdate,T=SS("mounts <".concat(r,">")),D="elements"in T?T.elements:null,F="checkoutState"in T?T.checkoutState:null,U=(F==null?void 0:F.type)==="success"||(F==null?void 0:F.type)==="loading"?F.sdk:null,z=Be.useState(null),H=lq(z,2),B=H[0],$=H[1],I=Be.useRef(null),L=Be.useRef(null);Fr(B,"blur",p),Fr(B,"focus",x),Fr(B,"escape",j),Fr(B,"click",w),Fr(B,"loaderror",N),Fr(B,"loaderstart",_),Fr(B,"networkschange",P),Fr(B,"confirm",A),Fr(B,"cancel",E),Fr(B,"shippingaddresschange",C),Fr(B,"shippingratechange",R),Fr(B,"savedpaymentmethodremove",O),Fr(B,"savedpaymentmethodupdate",k),Fr(B,"change",v);var V;y&&(s==="expressCheckout"?V=y:V=function(){y(B)}),Fr(B,"ready",V),Be.useLayoutEffect(function(){if(I.current===null&&L.current!==null&&(D||U)){var J=null;if(U)switch(s){case"paymentForm":J=U.createPaymentFormElement();break;case"payment":J=U.createPaymentElement(h);break;case"address":if("mode"in h){var Q=h.mode,Y=Mfe(h,Vfe);if(Q==="shipping")J=U.createShippingAddressElement(Y);else if(Q==="billing")J=U.createBillingAddressElement(Y);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":J=U.createExpressCheckoutElement(h);break;case"currencySelector":J=U.createCurrencySelectorElement();break;case"taxId":J=U.createTaxIdElement(h);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else D&&(J=D.create(s,h));I.current=J,$(J),J&&J.mount(L.current)}},[D,U,h]);var q=_S(h);return Be.useEffect(function(){if(I.current){var J=oq(h,q,["paymentRequest"]);J&&"update"in I.current&&I.current.update(J)}},[h,q]),Be.useLayoutEffect(function(){return function(){if(I.current&&typeof I.current.destroy=="function")try{I.current.destroy(),I.current=null}catch{}}},[]),Be.createElement("div",{id:d,className:u,ref:L})},i=function(c){SS("mounts <".concat(r,">"));var d=c.id,u=c.className;return Be.createElement("div",{id:d,className:u})},l=n?i:a;return l.propTypes={id:rn.string,className:rn.string,onChange:rn.func,onBlur:rn.func,onFocus:rn.func,onReady:rn.func,onEscape:rn.func,onClick:rn.func,onLoadError:rn.func,onLoaderStart:rn.func,onNetworksChange:rn.func,onConfirm:rn.func,onCancel:rn.func,onShippingAddressChange:rn.func,onShippingRateChange:rn.func,onSavedPaymentMethodRemove:rn.func,onSavedPaymentMethodUpdate:rn.func,options:rn.object},l.displayName=r,l.__elementType=s,l},va=typeof window>"u",Hfe=Be.createContext(null);Hfe.displayName="EmbeddedCheckoutProviderContext";var mq=function(){var s=SS("calls useStripe()"),n=s.stripe;return n};xa("auBankAccount",va);xa("card",va);xa("cardNumber",va);xa("cardExpiry",va);xa("cardCvc",va);xa("iban",va);var fq=xa("payment",va);xa("expressCheckout",va);xa("paymentRequestButton",va);xa("linkAuthentication",va);xa("address",va);xa("shippingAddress",va);xa("paymentMethodMessaging",va);xa("taxId",va);let Sw=null;function Kfe({clientSecret:t,onSuccess:s,onCancel:n,amount:r}){const a=mq(),i=uq(),[l,o]=b.useState(!1),[c,d]=b.useState(null),u=async m=>{if(m.preventDefault(),!(!a||!i)){o(!0),d(null);try{const{error:h}=await a.confirmPayment({elements:i,confirmParams:{return_url:window.location.href},redirect:"if_required"});h?(d(h.message),o(!1)):s()}catch(h){console.error("Stripe confirmPayment error:",h),d(h.message),o(!1)}}};return e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Amount to charge:"})," ",r.toFixed(2)]})}),e.jsx("div",{children:e.jsx(fq,{options:{layout:"tabs"}})}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 mr-0.5 mt-0.5 text-red-600 shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:c})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:l,className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",disabled:!a||l,className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay ${r.toFixed(2)}`})]})]})}function pq({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,isFeatureExcluded:r,memberRole:a,reloadMemberInfo:i}){var ot;const[l,o]=b.useState(null),[c,d]=b.useState(1),[u,m]=b.useState(""),[h,p]=b.useState(!1),[x,y]=b.useState([]),[v,j]=b.useState(0),[w,N]=b.useState("account"),[_,P]=b.useState(""),[A,E]=b.useState(null),[C,R]=b.useState(!1),[O,k]=b.useState(!1),[T,D]=b.useState(null),[F,U]=b.useState(!1),[z,H]=b.useState(null),[B,$]=b.useState(null),[I,L]=b.useState(!1),[V,q]=b.useState(!1),[J,Q]=b.useState(!1),[Y,K]=b.useState(!1),ae=b.useRef(!1),se=b.useRef(!1),de=Jt(),ue=t&&!t.is_team_member&&a&&a.show_tours!==!1;b.useEffect(()=>{(async()=>{try{const tt=await ee.functions.invoke("getStripePublishableKey");tt.data.publishableKey?Sw=aq(tt.data.publishableKey):console.warn("Stripe publishable key not found in response.")}catch(tt){console.error("Failed to load Stripe publishable key:",tt)}})()},[]),b.useEffect(()=>{t&&s&&(async()=>{try{console.log("[BuyProgramTickets] Updating expired vouchers...");const tt=await ee.functions.invoke("updateExpiredVouchers");tt.data.success&&tt.data.updated_count>0?(console.log("[BuyProgramTickets] Updated expired vouchers:",tt.data.updated_count),de.invalidateQueries({queryKey:["vouchers"]})):console.log("[BuyProgramTickets] No expired vouchers found or update not needed"),de.invalidateQueries({queryKey:["vouchers"]})}catch(tt){console.error("[BuyProgramTickets] Failed to update expired vouchers:",tt)}})()},[t,s,de]),b.useEffect(()=>{if(!ue||l!==null||ae.current)return;(t.page_tours_seen||{})["BuyProgramTickets_list"]||(ae.current=!0,Q(!0),L(!0))},[t,l,ue]),b.useEffect(()=>{if(!ue||l===null||se.current)return;(t.page_tours_seen||{})["BuyProgramTickets_form"]||(se.current=!0,K(!0),q(!0))},[t,l,ue]);const{data:oe,isLoading:pe}=me({queryKey:["programs"],queryFn:()=>ee.entities.Program.filter({is_active:!0}),initialData:[]}),{data:je}=me({queryKey:["events"],queryFn:()=>ee.entities.Event.list(),initialData:[]}),{data:Ne}=me({queryKey:["vouchers",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?await ee.entities.Voucher.filter({organization_id:s.id,status:"active"}):[],enabled:!!(s!=null&&s.id)&&!r("payment_training_vouchers"),initialData:[]});b.useEffect(()=>{if(l){const Pe=sessionStorage.getItem(`program_purchase_${l.id}`);if(Pe){const{selectedVouchers:tt,trainingFund:vt,paymentMethod:ns,po:ms,qty:en}=JSON.parse(Pe),gs=(tt||[]).filter(Gr=>Ne.some(Nn=>Nn.id===Gr));y(gs),j(vt||0),N(ns||"account"),m(ms||""),d(en||1)}else y([]),j(0),N("account"),m(""),d(1),E(null),P("")}else y([]),j(0),N("account"),m(""),d(1),E(null),P("")},[l,Ne]),b.useEffect(()=>{if(x.length>0&&Ne.length>0){const Pe=x.filter(tt=>Ne.some(vt=>vt.id===tt));Pe.length!==x.length&&(console.log("[BuyProgramTickets] Cleaning up invalid voucher IDs from state"),y(Pe))}},[Ne,x]),b.useEffect(()=>{if(l){const Pe={selectedVouchers:x,trainingFund:v,paymentMethod:w,po:u,qty:c};sessionStorage.setItem(`program_purchase_${l.id}`,JSON.stringify(Pe))}},[l,x,v,w,u,c]),b.useEffect(()=>{l&&(E(null),P(""))},[c,l==null?void 0:l.id]);const qe=async Pe=>{if(t&&!t.is_team_member)try{const vt=(await ee.entities.Member.list()).find(ns=>ns.email===t.email);if(vt){const ns={...vt.page_tours_seen||{},[Pe]:!0};await ee.entities.Member.update(vt.id,{page_tours_seen:ns});const ms={...t,page_tours_seen:ns};sessionStorage.setItem("agcas_member",JSON.stringify(ms)),i&&i()}}catch(tt){console.error("Failed to update tour status:",tt)}},$e=async()=>{L(!1),Q(!1)},Ee=async()=>{L(!1),Q(!1),await qe("BuyProgramTickets_list")},Se=async()=>{q(!1),K(!1)},Ye=async()=>{q(!1),K(!1),await qe("BuyProgramTickets_form")},Qe=()=>{L(!0),Q(!0)},Me=()=>{q(!0),K(!0)};if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const lt=s.program_ticket_balances?Object.values(s.program_ticket_balances).reduce((Pe,tt)=>Pe+tt,0):0,Ce=je.reduce((Pe,tt)=>(tt.program_tag&&(Pe[tt.program_tag]=(Pe[tt.program_tag]||0)+1),Pe),{}),it=(Pe,tt)=>{const vt=Pe.offer_type||"none";let ns=vt;vt==="none"&&(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity?ns="bogo":Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&(ns="bulk_discount"));const ms=Pe.program_ticket_price*tt;if(ns==="bogo"){if((Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"){if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&tt>=Pe.bogo_buy_quantity)return ms}else if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&tt>=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity){const gs=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity,Gr=Math.floor(tt/gs),Nn=tt%gs,cr=Gr*Pe.bogo_buy_quantity+Nn;return Pe.program_ticket_price*cr}}else if(ns==="bulk_discount"&&Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&tt>=Pe.bulk_discount_threshold){const en=ms*(Pe.bulk_discount_percentage/100);return ms-en}return ms},_e=(Pe,tt)=>{const vt=Pe.offer_type||"none";let ns=vt;if(vt==="none"&&Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&(ns="bogo"),ns==="bogo"){if((Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"){if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&tt>=Pe.bogo_buy_quantity)return Math.floor(tt/Pe.bogo_buy_quantity)*Pe.bogo_get_free_quantity}else if(Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&tt>=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity){const en=Pe.bogo_buy_quantity+Pe.bogo_get_free_quantity;return Math.floor(tt/en)*Pe.bogo_get_free_quantity}}return 0},Ue=(Pe,tt)=>(Pe.bogo_logic_type||"buy_x_get_y_free")==="buy_x_get_y_free"?tt+_e(Pe,tt):tt,rt=Pe=>{o(Pe),d(1),m(""),y([]),j(0),N("account"),E(null),P("")},ht=l?it(l,c):0,ct=A?A.totalCostAfterDiscount:ht,Rt=l?_e(l,c):0,rs=l?Ue(l,c):0,Us=x.reduce((Pe,tt)=>{const vt=Ne.find(ns=>ns.id===tt);return Pe+((vt==null?void 0:vt.value)||0)},0),Es=r("payment_training_vouchers")?0:Math.min(Us,ct),mn=r("payment_training_fund")?0:Math.min((s==null?void 0:s.training_fund_balance)||0,ct-Es),Zt=Math.max(0,ct-Es-v),yn=Pe=>{const tt=Math.max(0,Math.min(mn,parseFloat(Pe)||0));j(tt)},Fs=async()=>{var Pe,tt;if(!_.trim()){te.error("Please enter a discount code");return}if(!l){te.error("Please select a program first.");return}R(!0);try{const vt=await ee.functions.invoke("applyDiscountCode",{code:_.trim().toUpperCase(),totalCost:ht,programTag:l.program_tag,memberEmail:t.email});vt.data.success?(E(vt.data),te.success(vt.data.message)):(te.error(vt.data.error||"Invalid discount code"),E(null))}catch(vt){console.error("Error applying discount:",vt);const ns=((tt=(Pe=vt.response)==null?void 0:Pe.data)==null?void 0:tt.error)||"Invalid discount code";te.error(ns),E(null)}finally{R(!1)}},Ar=()=>{E(null),P(""),te.info("Discount code removed")},er=Es+v+Zt,He=Math.abs(er-ct)<.01,nt=async()=>{var Pe,tt,vt,ns;U(!1),p(!0);try{const ms=await ee.functions.invoke("processProgramTicketPurchase",{memberEmail:t.email,programName:l.name,quantity:parseInt(c),purchaseOrderNumber:null,selectedVoucherIds:r("payment_training_vouchers")?[]:x,trainingFundAmount:r("payment_training_fund")?0:v,accountAmount:0,paymentMethod:"card",stripePaymentIntentId:B,appliedDiscountId:(A==null?void 0:A.discountId)||null});((Pe=ms==null?void 0:ms.data)==null?void 0:Pe.success)===!0?(l&&sessionStorage.removeItem(`program_purchase_${l.id}`),n&&await n(),D({programName:l.name,quantity:rs,totalCost:ct,isSimulatedPayment:!1,paymentMethod:"card"}),k(!0),o(null),d(1),m(""),y([]),j(0),N("account"),H(null),$(null),E(null),P("")):(console.error("[BuyProgramTickets] FAILED - response.data:",ms.data),te.error(((tt=ms.data)==null?void 0:tt.error)||"Failed to process purchase"))}catch(ms){console.error("[BuyProgramTickets] CAUGHT ERROR during handleStripePaymentSuccess:",ms);const en=((ns=(vt=ms.response)==null?void 0:vt.data)==null?void 0:ns.error)||ms.message||"Failed to process purchase after card payment";te.error(en)}finally{p(!1)}},cs=async Pe=>{var tt,vt,ns,ms,en;if(Pe.preventDefault(),c===""||c<1){te.error("Please enter a valid quantity (at least 1)");return}if(!He){te.error("Please allocate the full amount across payment methods");return}if(Zt>0&&w==="account"&&!u.trim()){te.error("Please enter a purchase order number for account charges");return}if(w==="card"&&Zt>0){p(!0);try{const gs=await ee.functions.invoke("createStripePaymentIntent",{amount:Zt,currency:"gbp",memberEmail:t.email,metadata:{program_name:l.program_tag,quantity:c,organization_id:s.id,discount_code:(A==null?void 0:A.code)||null}});gs.data.success?(H(gs.data.clientSecret),$(gs.data.paymentIntentId),U(!0)):te.error("Failed to initialize payment: "+(gs.data.error||"Unknown error"))}catch(gs){console.error("Error creating Stripe Payment Intent:",gs),te.error("Failed to initialize payment")}finally{p(!1)}return}p(!0);try{const gs=await ee.functions.invoke("processProgramTicketPurchase",{memberEmail:t.email,programName:l.name,quantity:parseInt(c),purchaseOrderNumber:w==="account"?u.trim():null,selectedVoucherIds:r("payment_training_vouchers")?[]:x,trainingFundAmount:r("payment_training_fund")?0:v,accountAmount:w==="account"?Zt:0,paymentMethod:w,appliedDiscountId:(A==null?void 0:A.discountId)||null});console.log("[BuyProgramTickets] RAW RESPONSE:",JSON.stringify(gs,null,2)),console.log("[BuyProgramTickets] response.data:",gs.data),console.log("[BuyProgramTickets] response.data.success:",(tt=gs.data)==null?void 0:tt.success),((vt=gs==null?void 0:gs.data)==null?void 0:vt.success)===!0?(l&&sessionStorage.removeItem(`program_purchase_${l.id}`),n&&await n(),D({programName:l.name,quantity:rs,totalCost:ct,isSimulatedPayment:!1,paymentMethod:w}),k(!0),o(null),d(1),m(""),y([]),j(0),N("account"),E(null),P("")):(console.error("[BuyProgramTickets] FAILED - response.data:",gs.data),te.error(((ns=gs.data)==null?void 0:ns.error)||"Failed to process purchase"))}catch(gs){console.error("[BuyProgramTickets] CAUGHT ERROR"),console.error("[BuyProgramTickets] Error object:",gs),console.error("[BuyProgramTickets] Error.toString():",gs.toString()),console.error("[BuyProgramTickets] JSON.stringify(error):",JSON.stringify(gs,Object.getOwnPropertyNames(gs)));const Gr=((en=(ms=gs.response)==null?void 0:ms.data)==null?void 0:en.error)||gs.message||"Failed to process purchase";te.error(Gr)}finally{p(!1)}},we=()=>{k(!1),D(null)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[I&&ue&&!l&&e.jsx(Fd,{tourGroupName:"BuyProgramTickets",viewId:"list",onComplete:$e,onDismissPermanently:Ee,autoShow:J}),V&&ue&&l&&e.jsx(Fd,{tourGroupName:"BuyProgramTickets",viewId:"form",onComplete:Se,onDismissPermanently:Ye,autoShow:Y}),e.jsx("div",{className:"max-w-7xl mx-auto",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>o(null),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to Programs"]}),ue&&e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(Id,{onClick:Me})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[l.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-full object-cover"})}),e.jsxs(Fe,{children:[e.jsx(ze,{className:"text-2xl",children:l.name}),l.description&&e.jsx("p",{className:"text-slate-600 mt-2",children:l.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"text-slate-600",children:"Current Balance:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-xl font-bold text-purple-600",children:((ot=s.program_ticket_balances)==null?void 0:ot[l.program_tag])||0})]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-xs text-slate-500",children:"This is the number of tickets your organisation has already purchased but not yet allocated to attendees"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"quantity-input",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:l.bogo_logic_type==="enter_total_pay_less"?"Enter total number of tickets you want to receive":"Enter number of tickets to purchase"}),e.jsx(he,{id:"quantity-input",type:"number",min:"1",max:"1000",value:c,onChange:Pe=>{const tt=Pe.target.value;if(tt==="")d("");else{const vt=parseInt(tt);!isNaN(vt)&&vt>=0&&d(vt)}},onBlur:Pe=>{const tt=parseInt(Pe.target.value);isNaN(tt)||tt<1?d(1):d(tt)},placeholder:"Enter quantity",className:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Price per Ticket:"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",l.program_ticket_price]})]}),Rt>0&&e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:l.bogo_logic_type==="enter_total_pay_less"?"Discount Applied (Free Tickets):":"Free Tickets:"}),e.jsx("span",{className:"text-lg font-bold text-green-600",children:l.bogo_logic_type==="enter_total_pay_less"?`${Rt} ticket${Rt>1?"s":""}`:`+${Rt}`})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-purple-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Tickets You'll Receive:"}),e.jsx("span",{className:"text-xl font-bold text-purple-600",children:rs})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-purple-200 pt-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Cost:"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["",ht.toFixed(2)]})]}),(()=>{const Pe=l.offer_type||"none";let tt=Pe;return Pe==="none"&&(l.bogo_buy_quantity&&l.bogo_get_free_quantity?tt="bogo":l.bulk_discount_threshold&&l.bulk_discount_percentage&&(tt="bulk_discount")),tt==="bogo"&&Rt>0?e.jsx("p",{className:"text-xs text-green-600 mt-2 font-medium",children:l.bogo_logic_type==="enter_total_pay_less"?` BOGO offer applied: You entered ${c} ticket${c>1?"s":""}, paying for ${c-Rt}!`:` Buy ${l.bogo_buy_quantity}, Get ${l.bogo_get_free_quantity} Free offer applied!`}):tt==="bulk_discount"&&l.bulk_discount_threshold&&l.bulk_discount_percentage&&c>=l.bulk_discount_threshold?e.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[" ",l.bulk_discount_percentage,"% bulk discount applied!"]}):null})()]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(le,{id:"payment-options-card",className:"border-slate-200 shadow-lg sticky top-8",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{className:"font-semibold tracking-tight text-xl",children:"Payment Options"})}),e.jsxs(ce,{className:"pt-6 space-y-6",children:[!r("payment_training_vouchers")&&e.jsxs("div",{id:"training-vouchers-section",className:"p-4 rounded-lg border border-slate-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ls,{className:"w-4 h-4 text-blue-600"}),e.jsx(Z,{className:"text-sm font-medium",children:"Training Vouchers"})]}),e.jsx(gfe,{organizationId:s==null?void 0:s.id,selectedVouchers:x,onVoucherToggle:y,maxAmount:ct}),Es>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Voucher Value Applied:"}),e.jsxs("span",{className:"font-bold text-blue-900",children:["",Es.toFixed(2)]})]})})]}),!r("payment_training_fund")&&e.jsxs("div",{id:"training-fund-section",className:"p-4 rounded-lg border border-slate-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uc,{className:"w-4 h-4 text-green-600"}),e.jsx(Z,{className:"text-sm font-medium",children:"Training Fund"})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Available: ",((s==null?void 0:s.training_fund_balance)||0).toFixed(2)]})]}),e.jsx(he,{type:"number",min:"0",max:mn,step:"0.01",placeholder:"Amount in ",value:v||"",onChange:Pe=>yn(Pe.target.value),disabled:mn===0})]}),Zt>0&&e.jsxs("div",{id:"remaining-balance-section",className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ud,{className:"w-4 h-4 text-indigo-600"}),e.jsx(Z,{className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-sm font-medium",children:"Pay Balance"})]}),e.jsx("div",{id:"amount-due-display",className:"mb-4 p-3 bg-white rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Amount Due:"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",Zt.toFixed(2)]})]})}),e.jsx(Yf,{value:w,onValueChange:N,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[" ",e.jsxs("div",{id:"account-payment-option",className:"flex items-start space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer hover:bg-slate-100",style:{borderColor:w==="account"?"#6366f1":"#e2e8f0"},onClick:()=>N("account"),children:[e.jsx(Gl,{value:"account",id:"account",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"account",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 font-medium cursor-pointer",children:"Charge to Organisation Account"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Requires purchase order number"})]})]}),w==="account"&&e.jsxs("div",{id:"purchase-order-field",className:"flex items-start gap-2 ml-2",children:[e.jsx("div",{className:"pt-6",children:e.jsx(ls,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"po-number",className:"text-xs text-slate-600 mb-1 block",children:"Purchase Order Number *"}),e.jsx(he,{id:"po-number",type:"text",value:u,onChange:Pe=>m(Pe.target.value),placeholder:"e.g., PO-2024-001",required:!0})]})]})]}),e.jsxs("div",{id:"card-payment-option",className:"flex items-start space-x-3 p-3 rounded-lg border-2 transition-colors cursor-pointer hover:bg-slate-100",style:{borderColor:w==="card"?"#6366f1":"#e2e8f0"},onClick:()=>N("card"),children:[e.jsx(Gl,{value:"card",id:"card",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"card",className:"font-medium cursor-pointer",children:"Credit/Debit Card"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Secure payment via Stripe"})]})]})]})})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Subtotal"}),e.jsxs("span",{className:A?"line-through text-slate-400":"font-semibold text-slate-900",children:["",ht.toFixed(2)]})]}),A?e.jsxs("div",{className:"p-4 rounded-lg border border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yd,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:A.code}),e.jsx("p",{className:"text-xs text-green-700",children:A.type==="percentage"?`${A.value}% off`:`${A.value} off`})]})]}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6 text-green-700 hover:text-green-900 hover:bg-green-100",onClick:Ar,children:e.jsx(ks,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-green-700",children:"Discount:"}),e.jsxs("span",{className:"font-semibold text-green-900",children:["-",A.discountAmount.toFixed(2)]})]})})]}):e.jsxs("div",{id:"discount-code-section",className:"p-4 rounded-lg border border-slate-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(yd,{className:"w-4 h-4 text-purple-600"}),e.jsx(Z,{className:"text-sm font-medium",children:"Discount Code"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Enter code",value:_,onChange:Pe=>P(Pe.target.value.toUpperCase()),onKeyPress:Pe=>Pe.key==="Enter"&&Fs(),disabled:C}),e.jsx(X,{onClick:Fs,disabled:C||!_.trim(),size:"sm",variant:"outline",children:C?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-1 animate-spin"}),"Applying..."]}):"Apply"})]})]}),(Es>0||v>0)&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Vouchers & Training Fund"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["-",(Es+v).toFixed(2)]})]}),e.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Amount Due"}),e.jsxs("span",{className:`text-xl font-bold ${Zt===0?"text-green-600":"text-slate-900"}`,children:["",Zt.toFixed(2)]})]}),Zt===0&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Fully covered by vouchers & training fund"}),Zt>0&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["To be paid by ",w==="account"?"account charge":"credit/debit card"]})]})]}),e.jsx(X,{id:"complete-purchase-button",onClick:cs,disabled:!He||h||c==="",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",size:"lg",children:h?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vd,{className:"w-5 h-5 mr-2"}),"Complete Purchase"]})})]})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Buy unpacked tickets"})}),ue&&e.jsx(Id,{onClick:Qe})]})}),e.jsx(le,{id:"total-tickets-summary-card",className:"border-slate-200 shadow-sm bg-gradient-to-br from-purple-50 to-blue-50 mb-8",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Available"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:lt}),e.jsx("span",{className:"text-slate-600",children:"unpacked tickets"})]})]}),e.jsx("div",{className:"p-4 bg-white/50 rounded-lg",children:e.jsx(Ls,{className:"w-8 h-8 text-purple-600"})})]}),s.name&&e.jsxs("p",{className:"text-sm text-slate-500 mt-3",children:["for ",s.name]})]})}),pe?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(3).fill(0).map((Pe,tt)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},tt))}):oe.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Programs Available"}),e.jsx("p",{className:"text-slate-600",children:"Program tickets will be available here once programs are configured"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:oe.map((Pe,tt)=>{var ms;const vt=((ms=s.program_ticket_balances)==null?void 0:ms[Pe.program_tag])||0,ns=Ce[Pe.program_tag]||0;return e.jsx("button",{id:tt===0?"first-program-card":void 0,onClick:()=>rt(Pe),className:"text-left group",children:e.jsxs(le,{className:"border-slate-200 hover:border-purple-300 hover:shadow-lg transition-all overflow-hidden h-full",children:[Pe.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:Pe.image_url,alt:Pe.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx(ze,{className:"text-lg group-hover:text-purple-600 transition-colors",children:"International Employability unpacked"}),e.jsxs("div",{className:"flex items-center gap-1 text-purple-600 bg-purple-50 px-2 py-1 rounded-full shrink-0",children:[e.jsx(Ls,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:vt})]})]})}),e.jsxs(ce,{className:"space-y-3",children:[Pe.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:Pe.description}),e.jsxs("div",{className:"pt-2 border-t border-slate-100 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500",children:[ns," ",ns===1?"event":"events"]}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["",Pe.program_ticket_price]}),e.jsx("span",{className:"text-xs text-slate-500",children:"per ticket"})]})]}),Pe.bogo_buy_quantity&&Pe.bogo_get_free_quantity&&e.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["Buy ",Pe.bogo_buy_quantity,", Get ",Pe.bogo_get_free_quantity," Free!"]}),!Pe.bogo_buy_quantity&&Pe.bulk_discount_threshold&&Pe.bulk_discount_percentage&&e.jsxs("p",{className:"text-xs text-green-600",children:[Pe.bulk_discount_percentage,"% off when buying ",Pe.bulk_discount_threshold,"+ tickets"]})]})]})]})},Pe.id)})})]})}),e.jsx(Ct,{open:F,onOpenChange:U,children:e.jsxs(Nt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(kt,{children:[e.jsx(Et,{children:"Enter Payment Details"}),e.jsx(Pa,{children:"Complete your purchase by entering your card information below."})]}),z&&Sw&&e.jsx(zC,{stripe:Sw,options:{clientSecret:z},children:e.jsx(Kfe,{clientSecret:z,onSuccess:nt,onCancel:()=>{U(!1),H(null),$(null),p(!1)},amount:Zt})})]})}),e.jsx(Ct,{open:O,onOpenChange:k,children:e.jsxs(Nt,{className:"sm:max-w-md",children:[e.jsxs(kt,{children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full",children:e.jsx(ar,{className:"w-10 h-10 text-green-600"})}),e.jsx(Et,{className:"text-center text-2xl",children:"Purchase Successful!"}),e.jsx(Pa,{className:"text-center pt-4",children:T&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-base text-slate-700",children:["You've successfully purchased ",e.jsx("span",{className:"font-bold text-purple-600",children:T.quantity})," ticket",T.quantity>1?"s":""," for"]}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:"International Employability"}),e.jsx("p",{className:"text-sm text-slate-600 paddingTop-2",children:"Register your attendees now."})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full mt-4",children:[e.jsx(X,{onClick:()=>{we(),window.location.href=Te("Events")},className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Register"}),e.jsx(X,{variant:"outline",onClick:we,className:"w-full",children:"Buy More Tickets"})]})]})})]})}function gq(){const[t,s]=b.useState("verifying"),[n,r]=b.useState("");return b.useEffect(()=>{(async()=>{var o,c;const l=new URLSearchParams(window.location.search).get("token");if(!l){s("error"),r("Invalid or missing verification token");return}try{const d=await ee.functions.invoke("verifyMagicLink",{token:l});if(d.data.success){s("success"),r("Login successful! Redirecting...");const u=new Date(Date.now()+1800*1e3).toISOString(),m={...d.data.user,sessionExpiry:u};sessionStorage.setItem("agcas_member",JSON.stringify(m));let h="Events";if(d.data.user.role_id)try{const x=(await ee.entities.Role.list()).find(y=>y.id===d.data.user.role_id);x&&x.default_landing_page&&(h=x.default_landing_page)}catch(p){console.error("Error fetching role:",p)}setTimeout(()=>{window.location.href=Te(h)},1500)}else s("error"),r(d.data.error||"Verification failed")}catch(d){s("error"),r(((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"An error occurred during verification")}})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:e.jsx(le,{className:"w-full max-w-md shadow-xl border-slate-200",children:e.jsxs(ce,{className:"p-12",children:[t==="verifying"&&e.jsxs("div",{className:"text-center",children:[e.jsx(bt,{className:"w-16 h-16 text-blue-600 mx-auto mb-4 animate-spin"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verifying..."}),e.jsx("p",{className:"text-slate-600",children:"Please wait while we verify your login link"})]}),t==="success"&&e.jsxs("div",{className:"text-center",children:[e.jsx(ar,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:n}),e.jsx("p",{className:"text-slate-600",children:"Taking you to your dashboard..."})]}),t==="error"&&e.jsxs("div",{className:"text-center",children:[e.jsx(js,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-red-600 mb-6",children:n}),e.jsx("a",{href:Te("Home"),className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Request New Link"})]})]})})})}function xq(){const[t,s]=b.useState(""),[n,r]=b.useState(!1),[a,i]=b.useState(""),[l,o]=b.useState(!1),{data:c=[],isLoading:d,error:u}=me({queryKey:["roles"],queryFn:async()=>{const{data:p,error:x}=await Vs.from("role").select("*").order("name",{ascending:!0});if(x)throw console.error("[TestLogin] Error loading roles from Supabase:",x),x;return p||[]},initialData:[]}),m=async p=>{p.preventDefault(),i(""),r(!0),o(!1);try{console.log("[TestLogin] Looking up member by email in Supabase:",t);const{data:x,error:y}=await Vs.from("member").select("*").eq("email",t).maybeSingle();if(y)throw console.error("[TestLogin] Error fetching member:",y),y;if(!x){i("No member found with that email in the portal database.");return}const v={...x,sessionExpiry:new Date(Date.now()+1440*60*1e3).toISOString()};sessionStorage.setItem("agcas_member",JSON.stringify(v));try{if(!v.is_team_member&&v.id){const{error:w}=await Vs.from("member").update({last_login:new Date().toISOString()}).eq("id",v.id);w?console.warn("[TestLogin] Failed to update last_login in Supabase:",w.message):console.log("[TestLogin] Updated last_login for member:",v.email)}}catch(w){console.warn("[TestLogin] Exception updating last_login:",w.message)}o(!0);let j="Events";if(v.role_id)try{const{data:w,error:N}=await Vs.from("role").select("*").eq("id",v.role_id).maybeSingle();N?console.warn("[TestLogin] Error fetching role for landing page:",N):w&&w.default_landing_page&&(j=w.default_landing_page,console.log("[TestLogin] Using role default landing page:",j))}catch(w){console.warn("[TestLogin] Exception determining role landing page:",w)}setTimeout(()=>{window.location.href=Te(j)},1e3)}catch(x){console.error("[TestLogin] Error:",x),i(x.message||"An error occurred. Please try again.")}finally{r(!1)}},h=(p,x)=>{navigator.clipboard.writeText(p),te.success(`${x} copied to clipboard`)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsx("div",{className:"mb-6 p-4 bg-amber-500 text-amber-950 rounded-lg border-2 border-amber-600",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(js,{className:"w-5 h-5 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm",children:"TEST MODE ONLY"}),e.jsx("p",{className:"text-xs mt-1",children:"This page is for development testing only. Remove before production deployment."})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{className:"border-slate-700 shadow-2xl bg-slate-800/50 backdrop-blur",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:e.jsx(sn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ze,{className:"text-2xl text-white",children:"Test Login"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Login as any member for testing"})]})]})}),e.jsxs(ce,{children:[e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"test-email",className:"text-sm font-medium text-slate-300",children:"Member Email Address"}),e.jsx(he,{id:"test-email",type:"email",placeholder:"Enter member email...",value:t,onChange:p=>s(p.target.value),required:!0,disabled:n,className:"bg-slate-700 border-slate-600 text-white placeholder:text-slate-400"}),e.jsx("p",{className:"text-xs text-slate-400",children:"This will look up the member in the portal database and log you in for testing."})]}),a&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-950/50 border border-red-800 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-200",children:a})]}),l&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-green-950/50 border border-green-800 rounded-lg",children:[e.jsx(ar,{className:"w-5 h-5 text-green-400 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-green-200",children:"Login successful! Redirecting..."})]}),e.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:n||l,children:n?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Validating member..."]}):l?"Redirecting...":"Login as Member"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"How It Works"}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-400",children:[e.jsx("p",{children:"1. Enter any member email from your portal data"}),e.jsx("p",{children:"2. System looks up the member in Supabase"}),e.jsx("p",{children:"3. Stores a test session in your browser"}),e.jsx("p",{children:"4. Redirects you to the member's landing page"})]})]})]})]}),e.jsxs(le,{className:"border-slate-700 shadow-2xl bg-slate-800/50 backdrop-blur",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(Bn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ze,{className:"text-2xl text-white",children:"Available Roles"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Copy role IDs to assign to members"})]})]})}),e.jsxs(ce,{children:[d?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(bt,{className:"w-6 h-6 animate-spin text-slate-400"})}):u?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Bn,{className:"w-12 h-12 text-red-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-red-400",children:"Error loading roles from Supabase"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Check the role table and Supabase connection."})]}):c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Bn,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-slate-400",children:"No roles created yet"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Import roles into the"," ",e.jsx("code",{className:"px-1 py-0.5 bg-slate-700 rounded",children:"role"})," ","table in Supabase."]})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:c.map(p=>e.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600 hover:border-slate-500 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:p.name}),p.is_admin&&e.jsx(ye,{className:"bg-amber-600 text-white text-xs",children:"Admin"}),p.is_default&&e.jsx(ye,{className:"bg-green-600 text-white text-xs",children:"Default"})]}),p.description&&e.jsx("p",{className:"text-xs text-slate-400 mb-2",children:p.description})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-xs bg-slate-900 text-blue-300 px-2 py-1 rounded overflow-x-auto",children:p.id}),e.jsx(X,{size:"sm",variant:"ghost",onClick:()=>h(p.id,"Role ID"),className:"shrink-0 text-slate-400 hover:text-white h-7",children:e.jsx(ni,{className:"w-3 h-3"})})]}),p.excluded_features&&p.excluded_features.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:e.jsxs("p",{className:"text-xs text-slate-500",children:[p.excluded_features.length," feature(s) restricted"]})})]},p.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"How to Use"}),e.jsxs("ol",{className:"space-y-1 text-xs text-slate-400 list-decimal list-inside",children:[e.jsx("li",{children:"Click copy button to copy a role ID"}),e.jsx("li",{children:"In Supabase, ensure your member records have a role_id"}),e.jsx("li",{children:"Use this page to test login and landing page behaviour for each role"})]})]})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("a",{href:Te("Home"),className:"text-sm text-slate-400 hover:text-slate-300 transition-colors",children:" Back to normal login"})})]})})}function vq({memberInfo:t,organizationInfo:s}){const{data:n,isLoading:r}=me({queryKey:["vouchers",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await ee.entities.Voucher.filter({organization_id:s.id,status:"active"})).sort((d,u)=>new Date(d.expires_at).getTime()-new Date(u.expires_at).getTime()):[],enabled:!!(s!=null&&s.id),initialData:[]});if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const a=n.reduce((c,d)=>c+d.value,0),i=s.program_ticket_balances||{},l=Object.keys(i).sort(),o=Object.values(i).reduce((c,d)=>c+d,0);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Account Balances"}),e.jsx("p",{className:"text-slate-600",children:"View your organization's training fund and voucher balances"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-600 rounded-lg",children:e.jsx(uc,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ze,{className:"text-xl",children:"Training Fund"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Available for program ticket purchases"})]})]})}),e.jsxs(ce,{children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-4xl font-bold text-green-700",children:["",(s.training_fund_balance||0).toFixed(2)]})}),e.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"Use your training fund balance when purchasing program tickets"})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx(Ls,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ze,{className:"text-xl",children:"Training Vouchers"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Active vouchers available"})]})]})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("span",{className:"text-4xl font-bold text-blue-700",children:["",a.toFixed(2)]})}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:e.jsxs("span",{children:[n.length," active ",n.length===1?"voucher":"vouchers"]})})]}),e.jsx("p",{className:"text-sm text-slate-600 mt-3",children:"Apply vouchers when purchasing program tickets"})]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:e.jsx(Ls,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ze,{className:"text-xl",children:"Program Tickets"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Available tickets by program"})]})]})}),e.jsx(ce,{className:"pt-6",children:l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No program tickets"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Purchase program tickets to see them here"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border-2 border-purple-200",children:[e.jsx("span",{className:"font-semibold text-slate-700",children:"Total Tickets"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:o})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(c=>e.jsx(le,{className:"border-2 border-purple-200 bg-white",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:c}),e.jsx("p",{className:"text-xs text-slate-500",children:"Available tickets"})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:i[c]})})]})})},c))})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{className:"text-xl",children:"Active Vouchers"})}),e.jsx(ce,{className:"pt-6",children:r?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading vouchers..."}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No active vouchers"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Vouchers will appear here when allocated to your organization"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(c=>{const d=new Date(c.expires_at),u=lo(d,new Date),m=u<=30&&u>=0,h=u<0;return e.jsx(le,{className:`border-2 ${h?"border-red-200 bg-red-50":m?"border-amber-200 bg-amber-50":"border-blue-200 bg-blue-50"}`,children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ls,{className:`w-4 h-4 ${h?"text-red-600":m?"text-amber-600":"text-blue-600"}`}),e.jsx("h3",{className:"font-semibold text-slate-900",children:c.code})]}),c.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:c.description})]}),e.jsxs(ye,{className:"bg-green-100 text-green-700 font-semibold shrink-0 ml-2",children:["",c.value.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(Ns,{className:`w-3 h-3 ${h?"text-red-600":m?"text-amber-600":"text-slate-400"}`}),e.jsxs("span",{className:h?"text-red-600 font-medium":m?"text-amber-600 font-medium":"text-slate-500",children:[h?"Expired":"Expires"," ",Ot(d,"MMM d, yyyy"),m&&!h&&` (${u} days)`]})]}),m&&!h&&e.jsxs("div",{className:"flex items-start gap-2 mt-3 p-2 bg-amber-100 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 text-amber-700 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"This voucher expires soon. Use it before it becomes invalid."})]})]})},c.id)})})})]})]})})}function yq({memberInfo:t,organizationInfo:s}){if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const n=s.program_ticket_balances?Object.values(s.program_ticket_balances).reduce((l,o)=>l+o,0):0,r=[{icon:Ns,title:"Browse Events",description:"Explore our comprehensive calendar of professional development events, training sessions, and networking opportunities tailored for AGCAS members.",link:Te("Events"),linkText:"View Events",color:"blue"},{icon:Ud,title:"My Bookings",description:"View and manage all your event registrations in one place. Track your upcoming events and download booking confirmations.",link:Te("MyBookings"),linkText:"View Bookings",color:"green"},{icon:Ls,title:"Program Tickets",description:"Purchase and manage program-specific tickets that give you flexible access to events within designated training programs.",link:Te("BuyProgramTickets"),linkText:"Buy Tickets",color:"purple"},{icon:uc,title:"Account Balances",description:"Monitor your organization's training fund balance and available vouchers. Keep track of your professional development budget.",link:Te("Balances"),linkText:"View Balances",color:"indigo"}],a=["Browse available events and filter by program","Check your organization's available tickets and vouchers","Register yourself or colleagues for events","Manage your bookings and track attendance"],i={blue:{bg:"from-blue-600 to-indigo-600",icon:"bg-blue-100 text-blue-600",border:"border-blue-200"},green:{bg:"from-green-600 to-emerald-600",icon:"bg-green-100 text-green-600",border:"border-green-200"},purple:{bg:"from-purple-600 to-pink-600",icon:"bg-purple-100 text-purple-600",border:"border-purple-200"},indigo:{bg:"from-indigo-600 to-blue-600",icon:"bg-indigo-100 text-indigo-600",border:"border-indigo-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-16 px-4 md:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Welcome back, ",t.first_name,"!"]}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Your professional development journey starts here. Book training events, manage your tickets, and stay connected with the AGCAS community."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(Gt,{to:Te("Events"),children:e.jsxs(X,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:["Browse Events",e.jsx(X_,{className:"w-5 h-5 ml-2"})]})}),e.jsx(Gt,{to:Te("MyBookings"),children:e.jsx(X,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:"My Bookings"})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 -mt-8 mb-12",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Organisation"}),e.jsx("p",{className:"text-xl font-bold text-slate-900",children:s.name})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ns,{className:"w-6 h-6 text-blue-600"})})]})})}),e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Training Fund"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",(s.training_fund_balance||0).toFixed(2)]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(uc,{className:"w-6 h-6 text-green-600"})})]})})}),e.jsx(le,{className:"border-slate-200 shadow-lg",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Program Tickets"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:n})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Ls,{className:"w-6 h-6 text-purple-600"})})]})})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 mb-12",children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{className:"border-b border-slate-200",children:[e.jsx(ze,{className:"text-2xl",children:"How to Use This Portal"}),e.jsx(As,{className:"text-base mt-2",children:"Follow these simple steps to make the most of your AGCAS membership"})]}),e.jsx(ce,{className:"pt-6",children:e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map((l,o)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:o+1}),e.jsx("p",{className:"text-slate-700 pt-1",children:l})]},o))})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 pb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8",children:"Portal Features"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.map((l,o)=>{const c=l.icon,d=i[l.color];return e.jsxs(le,{className:`border-2 ${d.border} hover:shadow-xl transition-all`,children:[e.jsxs(Fe,{children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:`p-3 ${d.icon} rounded-lg`,children:e.jsx(c,{className:"w-6 h-6"})})}),e.jsx(ze,{className:"text-xl mb-2",children:l.title}),e.jsx(As,{className:"text-base text-slate-600",children:l.description})]}),e.jsx(ce,{children:e.jsx(Gt,{to:l.link,children:e.jsxs(X,{className:`w-full bg-gradient-to-r ${d.bg} hover:opacity-90`,children:[l.linkText,e.jsx(X_,{className:"w-4 h-4 ml-2"})]})})})]},o)})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 pb-16",children:e.jsx(le,{className:"border-slate-200 shadow-sm bg-gradient-to-r from-slate-50 to-blue-50",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Need Help?"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-2xl mx-auto",children:"If you have any questions about using the portal, booking events, or managing your account, please don't hesitate to contact your AGCAS membership administrator."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Easy event booking"}),e.jsx(ar,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Flexible ticket management"}),e.jsx(ar,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Real-time balance tracking"})]})]})})})]})}function bq(){return b.useEffect(()=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://static.zohocdn.com/backstage/v1.0/styles/ticket-widget/v1.3/register-widget.min.css",document.head.appendChild(t);const s=document.createElement("script");return s.src="https://static.zohocdn.com/backstage/v1.0/javascript/ticket-widget/v1.3/register-widget.min.js",s.async=!0,s.onload=()=>{window.ZBSCheckOutWidget&&window.ZBSCheckOutWidget._createWidget({eventUrl:"https://agcasevents.zohobackstage.eu/embed/international-employability/buyTickets",modal:!1,clickableElements:[],ticketClassIdVsSelectorMap:{},skipValidation:!1,widgetOptions:{theme:{primaryButton:{backgroundColor:"#003A1A",textColor:"#ffffff",borderColor:"#FFFFFF"},eventHeader:{backgroundColor:"#003A1A",textColor:"#ffffff"}},visibilityOptions:{showEventHeader:!0,showCheckoutProgress:!0,showBSBranding:!0,showEventDate:!0,showEventVenue:!0,ticketClassIds:[]},redirectUrl:"",affiliate:"",promoCode:"",showFillInfo:!1,showRegisterModalWithInfoPage:!1,messageContents:{"lbl.closed":"closed","lbl.yet.to.start":"yet to start","lbl.sales.ended":"sales ended","lbl.unavailable":"unavailable","lbl.sold.out":"sold out","lbl.open":"register now"}},onOrderComplete:function(n){},onClose:function(n){}},"#zbs-register-widget-section")},document.body.appendChild(s),()=>{document.head.removeChild(t),document.body.removeChild(s)}},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-900 to-emerald-800 text-white py-16 px-4 md:px-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsx("div",{className:"inline-block px-4 py-2 bg-white/10 rounded-full text-sm font-medium mb-4",children:"Unpacked Series"}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"International Employability"}),e.jsx("p",{className:"text-xl md:text-2xl text-green-100 max-w-3xl mx-auto",children:"Join us for an insightful session exploring strategies, challenges, and opportunities in international employability for students and graduates."})]})}),e.jsx("div",{className:"max-w-5xl mx-auto px-4 md:px-8 py-12",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4 text-center",children:"Event Registration"}),e.jsx("p",{className:"text-center text-slate-600 mb-8",children:"Secure your place at this exclusive AGCAS event"}),e.jsx("div",{id:"zbs-register-widget-section"})]})})}),e.jsx("footer",{className:"bg-white border-t border-slate-200 py-6 mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:[" ",new Date().getFullYear()," AGCAS. All rights reserved."]})})})]})}function Wd({categories:t,selectedSubcategories:s,onSubcategoryToggle:n,searchQuery:r,onSearchChange:a,onClearSearch:i,isLoading:l=!1,displayName:o="Articles"}){const[c,d]=Be.useState({}),[u,m]=Be.useState({}),[h,p]=Be.useState(!0),x=w=>{d(N=>({...N,[w]:!N[w]}))},y=w=>{m(N=>({...N,[w]:!N[w]}))},v=(w,N)=>{N.stopPropagation();const _=t.find(P=>P.name===w);_&&_.subcategories&&_.subcategories.forEach(A=>{s.includes(A)&&n(A)})},j=w=>{const N=t.find(_=>_.name===w);return!N||!N.subcategories?!1:N.subcategories.some(_=>s.includes(_))};return Be.useEffect(()=>{if(!t||t.length===0)return;const w={};t.forEach(N=>{j(N.name)&&(w[N.name]=!0)}),d(N=>({...N,...w}))},[t]),l?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."})}):!t||t.length===0?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"No categories available"})}):e.jsxs("div",{className:"space-y-0",children:[e.jsx("style",{jsx:!0,children:`
        .accordion-content {
          overflow: hidden;
          transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .accordion-content[data-state="closed"] {
          max-height: 0;
          opacity: 0;
        }
        .accordion-content[data-state="open"] {
          max-height: 1000px;
          opacity: 1;
        }
        .accordion-content[data-state="open-category"] {
          max-height: 2000px;
          opacity: 1;
        }
      `}),e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>p(!h),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold rounded-md transition-colors text-left hover:bg-slate-100 text-slate-700",children:[e.jsxs("span",{children:["Search ",o]}),h?e.jsx(Vr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(Ss,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]}),e.jsx("div",{className:"accordion-content","data-state":h?"open":"closed",children:e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:r,onChange:w=>a(w.target.value),className:"pl-10 pr-10"}),r&&e.jsx("button",{onClick:i,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ks,{className:"w-4 h-4"})})]})})})]}),e.jsx("div",{children:t.map(w=>{if(!(w.subcategories&&w.subcategories.length>0))return null;const _=c[w.name],P=u[w.name],A=[...w.subcategories].sort((O,k)=>O.localeCompare(k,void 0,{sensitivity:"base"})),E=P?A:A.slice(0,8),C=A.length>8,R=j(w.name);return e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>x(w.name),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold rounded-md transition-colors text-left hover:bg-slate-100 text-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"break-words",children:w.name}),R&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium",children:w.subcategories.filter(O=>s.includes(O)).length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[R&&e.jsx("span",{onClick:O=>v(w.name,O),className:"text-xs text-blue-600 hover:text-blue-700 hover:underline",children:"Clear"}),_?e.jsx(Vr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(Ss,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]})]}),e.jsx("div",{className:"accordion-content","data-state":_?"open-category":"closed",children:e.jsxs("div",{className:"space-y-0.5 pt-1",children:[E.map(O=>{const k=s.includes(O);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 rounded-md cursor-pointer transition-colors ${k?"bg-blue-50":"hover:bg-slate-50"}`,onClick:T=>{T.target===T.currentTarget&&n(O)},children:[e.jsx(Aa,{id:`article-subcategory-${O}`,checked:k,onCheckedChange:()=>n(O),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(Z,{htmlFor:`article-subcategory-${O}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${k?"text-blue-700 font-medium":"text-slate-700"}`,children:O})]},O)}),C&&e.jsx("button",{onClick:()=>y(w.name),className:"w-full text-left px-2 py-1 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",children:P?" Show less":`+ View ${A.length-8} more`})]})})]},w.id)})})]})}const Gfe="modulepreload",Yfe=function(t){return"/"+t},xM={},hy=function(s,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=l(n.map(d=>{if(d=Yfe(d),d in xM)return;xM[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gfe,u||(h.as="script"),h.crossOrigin="",h.href=d,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((p,x)=>{h.addEventListener("load",p),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})};function $s({text:t,link:s,buttonStyleId:n,customBgColor:r,customTextColor:a,customBorderColor:i,openInNewTab:l=!1,size:o="medium",showArrow:c=!1,children:d,onClick:u,className:m,disabled:h=!1,icon:p,...x}){const[y,v]=Be.useState(null);Be.useEffect(()=>{n&&(async()=>{try{const{base44:C}=await hy(async()=>{const{base44:k}=await Promise.resolve().then(()=>Jv);return{base44:k}},[]),O=(await C.entities.ButtonStyle.list()).find(k=>k.id===n);v(O)}catch(C){console.error("Failed to fetch button style:",C)}})()},[n]);const j=r||a||i,w=j?{backgroundColor:r||"transparent",color:a||"#ffffff",...i?{border:`2px solid ${i}`}:{},fontFamily:"Poppins, sans-serif"}:y?{backgroundColor:y.background_color||"transparent",color:y.text_color||"#000000",borderColor:y.border_color||"#000000",borderWidth:y.border_width?`${y.border_width}px`:"2px",borderStyle:"solid",borderRadius:y.border_radius?`${y.border_radius}px`:"0px",fontFamily:y.font_family||"Poppins, sans-serif"}:{fontFamily:"Poppins, sans-serif"},N=y!=null&&y.hover_background_color||y!=null&&y.hover_text_color?{"--hover-bg":y.hover_background_color||w.backgroundColor,"--hover-text":y.hover_text_color||w.color}:{},_={small:"px-4 py-2 text-xs",medium:"px-6 py-3 text-sm",large:"px-8 py-4 text-base",xlarge:"px-10 py-5 text-lg"},P=et("inline-flex items-center justify-center gap-2 whitespace-nowrap",y||j?"":"rounded-none bg-transparent",_[o]||_.medium,"font-bold",y||j?"":"text-black","transition-all duration-300",y||j?"":"hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed",y||j?"agcas-styled-button":"agcas-button",m),A=s?"a":"button";return e.jsxs(A,{href:s||void 0,target:l?"_blank":void 0,rel:l?"noopener noreferrer":void 0,onClick:u,disabled:!s&&h,className:P,style:{...w,...N},...x,children:[e.jsx("style",{jsx:!0,children:`
        .agcas-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
        .agcas-button:disabled {
          background: transparent;
        }
        .agcas-styled-button:hover:not(:disabled) {
          background-color: var(--hover-bg);
          color: var(--hover-text);
        }
      `}),t||d,c&&e.jsx(Ur,{className:"w-5 h-5 ml-0.5",strokeWidth:2.5}),p&&e.jsx(p,{className:"w-5 h-5 ml-0.5",strokeWidth:2.5})]})}function Xa({onClick:t,className:s,disabled:n=!1,...r}){return e.jsxs("button",{onClick:t,disabled:n,className:et("inline-flex items-center justify-center","rounded-none bg-transparent","w-16 h-16 text-black","transition-all duration-300","hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed","agcas-square-button",s),style:{fontFamily:"Poppins, sans-serif"},...r,children:[e.jsx("style",{jsx:!0,children:`
        .agcas-square-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-square-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
        .agcas-square-button:disabled {
          background: transparent;
        }
      `}),e.jsx(Ur,{className:"w-10 h-10",strokeWidth:2.5})]})}const Qfe={ArrowUpRight:Ur,Download:lr,ExternalLink:tn,PlayCircle:$h,Eye:kr,FileText:ls,Mail:Rs,Plus:Tt};function Hd({article:t,buttonStyles:s=[],viewPageUrl:n="ArticleView",showActions:r=!0,displayName:a="Articles"}){const i=s.find(d=>d.card_type==="article")||null,l=`${Te(n)}?slug=${t.slug}`,o=a.endsWith("s")?a.slice(0,-1):a,c=()=>{if(!i)return e.jsx(X,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:e.jsxs(Gt,{to:l,children:[e.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Read ",o]})});let d=i.button_text||`Read ${o}`;d.includes("Article")&&(d=d.replace("Article",o));const u=i.button_type,m=i.icon_name&&Qfe[i.icon_name];return u==="square_agcas"?e.jsx(Gt,{to:l,children:e.jsx(Xa,{})}):u==="rectangular_agcas"?e.jsx(Gt,{to:l,children:e.jsx($s,{icon:i.icon_name!=="none"?m:void 0,className:"w-full",children:d})}):e.jsx(X,{asChild:!0,className:"w-full bg-blue-600 hover:bg-blue-700",children:e.jsxs(Gt,{to:l,children:[m&&i.icon_name!=="none"&&e.jsx(m,{className:"w-4 h-4 mr-2"}),d]})})};return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col",children:[t.feature_image_url&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:t.feature_image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-full h-[3px]",style:{backgroundColor:"#5d0d77"}})]}),e.jsxs(Fe,{className:"pb-3 flex-grow",children:[e.jsx(ze,{className:"text-lg line-clamp-2",children:t.title}),t.published_date&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 py-2",children:[e.jsx(Ns,{className:"w-3 h-3"}),e.jsx("span",{children:Ot(new Date(t.published_date),"MMM d, yyyy")})]}),r&&t.author_name&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 pb-3",children:[e.jsx(sn,{className:"w-3 h-3"}),e.jsxs("span",{children:["by ",t.author_name]})]}),t.summary&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3",children:t.summary}),t.subcategories&&t.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 pt-4",children:[t.subcategories.slice(0,3).map((d,u)=>e.jsx(ye,{variant:"secondary",className:"text-xs",children:d},u)),t.subcategories.length>3&&e.jsxs(ye,{variant:"secondary",className:"text-xs",children:["+",t.subcategories.length-3]})]})]}),e.jsx(ce,{className:"pt-0 pb-4 mt-auto",children:c()})]})}function jq({memberInfo:t,memberRole:s}){const[n,r]=b.useState(""),[a,i]=b.useState([]),[l,o]=b.useState(1),[c,d]=b.useState("newest"),[u,m]=b.useState(6),[h,p]=b.useState(!1),x=Jt(),{data:y}=me({queryKey:["current-user",t==null?void 0:t.email],queryFn:async()=>await ee.auth.me(),enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:v=[],isLoading:j}=me({queryKey:["published-articles"],queryFn:async()=>(await ee.entities.BlogPost.list("-published_date")).filter(J=>J.status==="published"),staleTime:0,refetchOnWindowFocus:!0}),{data:w=[],isLoading:N}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(Q=>Q.is_active&&Q.applies_to_content_types&&Q.applies_to_content_types.includes("Articles")).sort((Q,Y)=>(Q.display_order||0)-(Y.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:_=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await ee.entities.ArticleView.list(),staleTime:30*1e3}),{data:P=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await ee.entities.ArticleReaction.list(),staleTime:30*1e3}),{data:A=[]}=me({queryKey:["buttonStyles-articles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(J=>J.card_type==="article"&&J.is_active),staleTime:0,refetchOnWindowFocus:!0}),{data:E,isLoading:C}=me({queryKey:["article-display-name"],queryFn:async()=>{const J=(await ee.entities.SystemSettings.list()).find(Q=>Q.setting_key==="article_display_name");return(J==null?void 0:J.setting_value)||"Articles"},staleTime:0});Be.useEffect(()=>{var q;if((q=y==null?void 0:y.preferences)!=null&&q.resources&&!h){const J=y.preferences.resources.selectedSubcategories||[];i(J),p(!0)}},[y,h]);const R=Ie({mutationFn:async()=>{const q={...(y==null?void 0:y.preferences)||{},resources:{selectedCategory:"all",selectedSubcategories:a}};await ee.auth.updateMe({preferences:q})},onSuccess:()=>{x.invalidateQueries({queryKey:["current-user"]}),te.success("Filter preferences saved as default")},onError:q=>{te.error("Failed to save preferences: "+q.message)}}),O=b.useMemo(()=>{const q={};return v.forEach(J=>{q[J.id]={viewCount:_.filter(Q=>Q.article_id===J.id).length,likeCount:P.filter(Q=>Q.article_id===J.id&&Q.reaction_type==="up").length}}),q},[v,_,P]),k=b.useMemo(()=>v.filter(q=>{var Y,K,ae;const J=((Y=q.title)==null?void 0:Y.toLowerCase().includes(n.toLowerCase()))||((K=q.summary)==null?void 0:K.toLowerCase().includes(n.toLowerCase()))||((ae=q.tags)==null?void 0:ae.some(se=>se.toLowerCase().includes(n.toLowerCase()))),Q=a.length===0||q.subcategories&&q.subcategories.some(se=>a.includes(se));return J&&Q}),[v,n,a]),T=b.useMemo(()=>{const q=[...k];switch(c){case"newest":q.sort((J,Q)=>new Date(Q.published_date||Q.created_date)-new Date(J.published_date||J.created_date));break;case"oldest":q.sort((J,Q)=>new Date(J.published_date||J.created_date)-new Date(Q.published_date||J.created_date));break;case"title-asc":q.sort((J,Q)=>J.title.localeCompare(Q.title));break;case"title-desc":q.sort((J,Q)=>Q.title.localeCompare(J.title));break;case"most-viewed":q.sort((J,Q)=>{var Y,K;return(((Y=O[Q.id])==null?void 0:Y.viewCount)||0)-(((K=O[J.id])==null?void 0:K.viewCount)||0)});break;case"most-liked":q.sort((J,Q)=>{var Y,K;return(((Y=O[Q.id])==null?void 0:Y.likeCount)||0)-(((K=O[J.id])==null?void 0:K.likeCount)||0)});break}return q},[k,c,O]),D=Math.ceil(T.length/u),F=(l-1)*u,U=F+u,z=T.slice(F,U),H=()=>{const q=[];if(D<=5)for(let Q=1;Q<=D;Q++)q.push(Q);else if(l<=3){for(let Q=1;Q<=4;Q++)q.push(Q);D>5&&q.push("..."),q.push(D)}else if(l>=D-2){q.push(1),D>5&&q.push("...");for(let Q=D-3;Q<=D;Q++)q.push(Q)}else{q.push(1),q.push("...");for(let Q=l-1;Q<=l+1;Q++)q.push(Q);q.push("..."),q.push(D)}return q};Be.useEffect(()=>{o(1)},[a,n,c,u]);const B=q=>{i(J=>J.includes(q)?J.filter(Q=>Q!==q):[...J,q])},$=q=>{o(q),window.scrollTo({top:0,behavior:"smooth"})},I=()=>{R.mutate()},L=j||N||C,V=b.useMemo(()=>{var J;if(!((J=y==null?void 0:y.preferences)!=null&&J.resources))return a.length>0;const q=y.preferences.resources.selectedSubcategories||[];return q.length!==a.length?!0:!q.every(Q=>a.includes(Q))||!a.every(Q=>q.includes(Q))},[y,a]);return L?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((q,J)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},J))})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:E}),e.jsxs("p",{className:"text-slate-600",children:["Explore ",E.toLowerCase()," shared by our community"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wd,{categories:w,selectedSubcategories:a,onSubcategoryToggle:B,searchQuery:n,onSearchChange:r,onClearSearch:()=>r(""),isLoading:N,displayName:E}),t&&V&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:I,variant:"outline",size:"sm",className:"w-full gap-2",disabled:R.isPending,children:R.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-3 h-3"}),"Save as Default"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"Apply these filters by default"})]})]})}),e.jsx("div",{className:"flex-1",children:T.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",E.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:n||a.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",F+1,"-",Math.min(U,T.length)," of ",T.length," ",E.toLowerCase()]}),e.jsxs(Ge,{value:c,onValueChange:d,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:z.map(q=>e.jsx(Hd,{article:q,buttonStyles:A,displayName:E},q.id))}),T.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:u.toString(),onValueChange:q=>{m(Number(q)),o(1)},children:[e.jsx(Ve,{className:"w-20",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",l," of ",D]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>$(l-1),disabled:l===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),H().map((q,J)=>e.jsx(Be.Fragment,{children:q==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:l===q?"default":"outline",size:"sm",onClick:()=>$(q),className:l===q?"bg-blue-600 hover:bg-blue-700":"",children:q})},J)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>$(l+1),disabled:l===D,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]})})]})]})})}var Cw,vM;function Jfe(){if(vM)return Cw;vM=1;function t(){this.__data__=[],this.size=0}return Cw=t,Cw}var kw,yM;function wq(){if(yM)return kw;yM=1;function t(s,n){return s===n||s!==s&&n!==n}return kw=t,kw}var Ew,bM;function my(){if(bM)return Ew;bM=1;var t=wq();function s(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return Ew=s,Ew}var Tw,jM;function Xfe(){if(jM)return Tw;jM=1;var t=my(),s=Array.prototype,n=s.splice;function r(a){var i=this.__data__,l=t(i,a);if(l<0)return!1;var o=i.length-1;return l==o?i.pop():n.call(i,l,1),--this.size,!0}return Tw=r,Tw}var Pw,wM;function Zfe(){if(wM)return Pw;wM=1;var t=my();function s(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return Pw=s,Pw}var Aw,NM;function epe(){if(NM)return Aw;NM=1;var t=my();function s(n){return t(this.__data__,n)>-1}return Aw=s,Aw}var Ow,_M;function tpe(){if(_M)return Ow;_M=1;var t=my();function s(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return Ow=s,Ow}var Mw,SM;function fy(){if(SM)return Mw;SM=1;var t=Jfe(),s=Xfe(),n=Zfe(),r=epe(),a=tpe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var d=l[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Mw=i,Mw}var Dw,CM;function spe(){if(CM)return Dw;CM=1;var t=fy();function s(){this.__data__=new t,this.size=0}return Dw=s,Dw}var Rw,kM;function npe(){if(kM)return Rw;kM=1;function t(s){var n=this.__data__,r=n.delete(s);return this.size=n.size,r}return Rw=t,Rw}var Fw,EM;function rpe(){if(EM)return Fw;EM=1;function t(s){return this.__data__.get(s)}return Fw=t,Fw}var Iw,TM;function ape(){if(TM)return Iw;TM=1;function t(s){return this.__data__.has(s)}return Iw=t,Iw}var Lw,PM;function Nq(){if(PM)return Lw;PM=1;var t=typeof xx=="object"&&xx&&xx.Object===Object&&xx;return Lw=t,Lw}var Bw,AM;function po(){if(AM)return Bw;AM=1;var t=Nq(),s=typeof self=="object"&&self&&self.Object===Object&&self,n=t||s||Function("return this")();return Bw=n,Bw}var qw,OM;function VC(){if(OM)return qw;OM=1;var t=po(),s=t.Symbol;return qw=s,qw}var $w,MM;function ipe(){if(MM)return $w;MM=1;var t=VC(),s=Object.prototype,n=s.hasOwnProperty,r=s.toString,a=t?t.toStringTag:void 0;function i(l){var o=n.call(l,a),c=l[a];try{l[a]=void 0;var d=!0}catch{}var u=r.call(l);return d&&(o?l[a]=c:delete l[a]),u}return $w=i,$w}var Uw,DM;function lpe(){if(DM)return Uw;DM=1;var t=Object.prototype,s=t.toString;function n(r){return s.call(r)}return Uw=n,Uw}var zw,RM;function py(){if(RM)return zw;RM=1;var t=VC(),s=ipe(),n=lpe(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function l(o){return o==null?o===void 0?a:r:i&&i in Object(o)?s(o):n(o)}return zw=l,zw}var Vw,FM;function _q(){if(FM)return Vw;FM=1;function t(s){var n=typeof s;return s!=null&&(n=="object"||n=="function")}return Vw=t,Vw}var Ww,IM;function Sq(){if(IM)return Ww;IM=1;var t=py(),s=_q(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(o){if(!s(o))return!1;var c=t(o);return c==r||c==a||c==n||c==i}return Ww=l,Ww}var Hw,LM;function ope(){if(LM)return Hw;LM=1;var t=po(),s=t["__core-js_shared__"];return Hw=s,Hw}var Kw,BM;function cpe(){if(BM)return Kw;BM=1;var t=ope(),s=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!s&&s in r}return Kw=n,Kw}var Gw,qM;function Cq(){if(qM)return Gw;qM=1;var t=Function.prototype,s=t.toString;function n(r){if(r!=null){try{return s.call(r)}catch{}try{return r+""}catch{}}return""}return Gw=n,Gw}var Yw,$M;function dpe(){if($M)return Yw;$M=1;var t=Sq(),s=cpe(),n=_q(),r=Cq(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,o=Object.prototype,c=l.toString,d=o.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(h){if(!n(h)||s(h))return!1;var p=t(h)?u:i;return p.test(r(h))}return Yw=m,Yw}var Qw,UM;function upe(){if(UM)return Qw;UM=1;function t(s,n){return s==null?void 0:s[n]}return Qw=t,Qw}var Jw,zM;function om(){if(zM)return Jw;zM=1;var t=dpe(),s=upe();function n(r,a){var i=s(r,a);return t(i)?i:void 0}return Jw=n,Jw}var Xw,VM;function WC(){if(VM)return Xw;VM=1;var t=om(),s=po(),n=t(s,"Map");return Xw=n,Xw}var Zw,WM;function gy(){if(WM)return Zw;WM=1;var t=om(),s=t(Object,"create");return Zw=s,Zw}var eN,HM;function hpe(){if(HM)return eN;HM=1;var t=gy();function s(){this.__data__=t?t(null):{},this.size=0}return eN=s,eN}var tN,KM;function mpe(){if(KM)return tN;KM=1;function t(s){var n=this.has(s)&&delete this.__data__[s];return this.size-=n?1:0,n}return tN=t,tN}var sN,GM;function fpe(){if(GM)return sN;GM=1;var t=gy(),s="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var l=this.__data__;if(t){var o=l[i];return o===s?void 0:o}return r.call(l,i)?l[i]:void 0}return sN=a,sN}var nN,YM;function ppe(){if(YM)return nN;YM=1;var t=gy(),s=Object.prototype,n=s.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return nN=r,nN}var rN,QM;function gpe(){if(QM)return rN;QM=1;var t=gy(),s="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?s:a,this}return rN=n,rN}var aN,JM;function xpe(){if(JM)return aN;JM=1;var t=hpe(),s=mpe(),n=fpe(),r=ppe(),a=gpe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var d=l[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,aN=i,aN}var iN,XM;function vpe(){if(XM)return iN;XM=1;var t=xpe(),s=fy(),n=WC();function r(){this.size=0,this.__data__={hash:new t,map:new(n||s),string:new t}}return iN=r,iN}var lN,ZM;function ype(){if(ZM)return lN;ZM=1;function t(s){var n=typeof s;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?s!=="__proto__":s===null}return lN=t,lN}var oN,eD;function xy(){if(eD)return oN;eD=1;var t=ype();function s(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return oN=s,oN}var cN,tD;function bpe(){if(tD)return cN;tD=1;var t=xy();function s(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return cN=s,cN}var dN,sD;function jpe(){if(sD)return dN;sD=1;var t=xy();function s(n){return t(this,n).get(n)}return dN=s,dN}var uN,nD;function wpe(){if(nD)return uN;nD=1;var t=xy();function s(n){return t(this,n).has(n)}return uN=s,uN}var hN,rD;function Npe(){if(rD)return hN;rD=1;var t=xy();function s(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return hN=s,hN}var mN,aD;function kq(){if(aD)return mN;aD=1;var t=vpe(),s=bpe(),n=jpe(),r=wpe(),a=Npe();function i(l){var o=-1,c=l==null?0:l.length;for(this.clear();++o<c;){var d=l[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=s,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,mN=i,mN}var fN,iD;function _pe(){if(iD)return fN;iD=1;var t=fy(),s=WC(),n=kq(),r=200;function a(i,l){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!s||c.length<r-1)return c.push([i,l]),this.size=++o.size,this;o=this.__data__=new n(c)}return o.set(i,l),this.size=o.size,this}return fN=a,fN}var pN,lD;function Spe(){if(lD)return pN;lD=1;var t=fy(),s=spe(),n=npe(),r=rpe(),a=ape(),i=_pe();function l(o){var c=this.__data__=new t(o);this.size=c.size}return l.prototype.clear=s,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,pN=l,pN}var gN,oD;function Cpe(){if(oD)return gN;oD=1;var t="__lodash_hash_undefined__";function s(n){return this.__data__.set(n,t),this}return gN=s,gN}var xN,cD;function kpe(){if(cD)return xN;cD=1;function t(s){return this.__data__.has(s)}return xN=t,xN}var vN,dD;function Epe(){if(dD)return vN;dD=1;var t=kq(),s=Cpe(),n=kpe();function r(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new t;++i<l;)this.add(a[i])}return r.prototype.add=r.prototype.push=s,r.prototype.has=n,vN=r,vN}var yN,uD;function Tpe(){if(uD)return yN;uD=1;function t(s,n){for(var r=-1,a=s==null?0:s.length;++r<a;)if(n(s[r],r,s))return!0;return!1}return yN=t,yN}var bN,hD;function Ppe(){if(hD)return bN;hD=1;function t(s,n){return s.has(n)}return bN=t,bN}var jN,mD;function Eq(){if(mD)return jN;mD=1;var t=Epe(),s=Tpe(),n=Ppe(),r=1,a=2;function i(l,o,c,d,u,m){var h=c&r,p=l.length,x=o.length;if(p!=x&&!(h&&x>p))return!1;var y=m.get(l),v=m.get(o);if(y&&v)return y==o&&v==l;var j=-1,w=!0,N=c&a?new t:void 0;for(m.set(l,o),m.set(o,l);++j<p;){var _=l[j],P=o[j];if(d)var A=h?d(P,_,j,o,l,m):d(_,P,j,l,o,m);if(A!==void 0){if(A)continue;w=!1;break}if(N){if(!s(o,function(E,C){if(!n(N,C)&&(_===E||u(_,E,c,d,m)))return N.push(C)})){w=!1;break}}else if(!(_===P||u(_,P,c,d,m))){w=!1;break}}return m.delete(l),m.delete(o),w}return jN=i,jN}var wN,fD;function Ape(){if(fD)return wN;fD=1;var t=po(),s=t.Uint8Array;return wN=s,wN}var NN,pD;function Ope(){if(pD)return NN;pD=1;function t(s){var n=-1,r=Array(s.size);return s.forEach(function(a,i){r[++n]=[i,a]}),r}return NN=t,NN}var _N,gD;function Mpe(){if(gD)return _N;gD=1;function t(s){var n=-1,r=Array(s.size);return s.forEach(function(a){r[++n]=a}),r}return _N=t,_N}var SN,xD;function Dpe(){if(xD)return SN;xD=1;var t=VC(),s=Ape(),n=wq(),r=Eq(),a=Ope(),i=Mpe(),l=1,o=2,c="[object Boolean]",d="[object Date]",u="[object Error]",m="[object Map]",h="[object Number]",p="[object RegExp]",x="[object Set]",y="[object String]",v="[object Symbol]",j="[object ArrayBuffer]",w="[object DataView]",N=t?t.prototype:void 0,_=N?N.valueOf:void 0;function P(A,E,C,R,O,k,T){switch(C){case w:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case j:return!(A.byteLength!=E.byteLength||!k(new s(A),new s(E)));case c:case d:case h:return n(+A,+E);case u:return A.name==E.name&&A.message==E.message;case p:case y:return A==E+"";case m:var D=a;case x:var F=R&l;if(D||(D=i),A.size!=E.size&&!F)return!1;var U=T.get(A);if(U)return U==E;R|=o,T.set(A,E);var z=r(D(A),D(E),R,O,k,T);return T.delete(A),z;case v:if(_)return _.call(A)==_.call(E)}return!1}return SN=P,SN}var CN,vD;function Rpe(){if(vD)return CN;vD=1;function t(s,n){for(var r=-1,a=n.length,i=s.length;++r<a;)s[i+r]=n[r];return s}return CN=t,CN}var kN,yD;function HC(){if(yD)return kN;yD=1;var t=Array.isArray;return kN=t,kN}var EN,bD;function Fpe(){if(bD)return EN;bD=1;var t=Rpe(),s=HC();function n(r,a,i){var l=a(r);return s(r)?l:t(l,i(r))}return EN=n,EN}var TN,jD;function Ipe(){if(jD)return TN;jD=1;function t(s,n){for(var r=-1,a=s==null?0:s.length,i=0,l=[];++r<a;){var o=s[r];n(o,r,s)&&(l[i++]=o)}return l}return TN=t,TN}var PN,wD;function Lpe(){if(wD)return PN;wD=1;function t(){return[]}return PN=t,PN}var AN,ND;function Bpe(){if(ND)return AN;ND=1;var t=Ipe(),s=Lpe(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(o){return r.call(l,o)}))}:s;return AN=i,AN}var ON,_D;function qpe(){if(_D)return ON;_D=1;function t(s,n){for(var r=-1,a=Array(s);++r<s;)a[r]=n(r);return a}return ON=t,ON}var MN,SD;function vy(){if(SD)return MN;SD=1;function t(s){return s!=null&&typeof s=="object"}return MN=t,MN}var DN,CD;function $pe(){if(CD)return DN;CD=1;var t=py(),s=vy(),n="[object Arguments]";function r(a){return s(a)&&t(a)==n}return DN=r,DN}var RN,kD;function Upe(){if(kD)return RN;kD=1;var t=$pe(),s=vy(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(l){return s(l)&&r.call(l,"callee")&&!a.call(l,"callee")};return RN=i,RN}var wf={exports:{}},FN,ED;function zpe(){if(ED)return FN;ED=1;function t(){return!1}return FN=t,FN}wf.exports;var TD;function Tq(){return TD||(TD=1,(function(t,s){var n=po(),r=zpe(),a=s&&!s.nodeType&&s,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,o=l?n.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||r;t.exports=d})(wf,wf.exports)),wf.exports}var IN,PD;function Vpe(){if(PD)return IN;PD=1;var t=9007199254740991,s=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&s.test(r))&&r>-1&&r%1==0&&r<a}return IN=n,IN}var LN,AD;function Pq(){if(AD)return LN;AD=1;var t=9007199254740991;function s(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return LN=s,LN}var BN,OD;function Wpe(){if(OD)return BN;OD=1;var t=py(),s=Pq(),n=vy(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",o="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",m="[object Object]",h="[object RegExp]",p="[object Set]",x="[object String]",y="[object WeakMap]",v="[object ArrayBuffer]",j="[object DataView]",w="[object Float32Array]",N="[object Float64Array]",_="[object Int8Array]",P="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",O="[object Uint32Array]",k={};k[w]=k[N]=k[_]=k[P]=k[A]=k[E]=k[C]=k[R]=k[O]=!0,k[r]=k[a]=k[v]=k[i]=k[j]=k[l]=k[o]=k[c]=k[d]=k[u]=k[m]=k[h]=k[p]=k[x]=k[y]=!1;function T(D){return n(D)&&s(D.length)&&!!k[t(D)]}return BN=T,BN}var qN,MD;function Hpe(){if(MD)return qN;MD=1;function t(s){return function(n){return s(n)}}return qN=t,qN}var Nf={exports:{}};Nf.exports;var DD;function Kpe(){return DD||(DD=1,(function(t,s){var n=Nq(),r=s&&!s.nodeType&&s,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,l=i&&n.process,o=(function(){try{var c=a&&a.require&&a.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}})();t.exports=o})(Nf,Nf.exports)),Nf.exports}var $N,RD;function Aq(){if(RD)return $N;RD=1;var t=Wpe(),s=Hpe(),n=Kpe(),r=n&&n.isTypedArray,a=r?s(r):t;return $N=a,$N}var UN,FD;function Gpe(){if(FD)return UN;FD=1;var t=qpe(),s=Upe(),n=HC(),r=Tq(),a=Vpe(),i=Aq(),l=Object.prototype,o=l.hasOwnProperty;function c(d,u){var m=n(d),h=!m&&s(d),p=!m&&!h&&r(d),x=!m&&!h&&!p&&i(d),y=m||h||p||x,v=y?t(d.length,String):[],j=v.length;for(var w in d)(u||o.call(d,w))&&!(y&&(w=="length"||p&&(w=="offset"||w=="parent")||x&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,j)))&&v.push(w);return v}return UN=c,UN}var zN,ID;function Ype(){if(ID)return zN;ID=1;var t=Object.prototype;function s(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return zN=s,zN}var VN,LD;function Qpe(){if(LD)return VN;LD=1;function t(s,n){return function(r){return s(n(r))}}return VN=t,VN}var WN,BD;function Jpe(){if(BD)return WN;BD=1;var t=Qpe(),s=t(Object.keys,Object);return WN=s,WN}var HN,qD;function Xpe(){if(qD)return HN;qD=1;var t=Ype(),s=Jpe(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return s(i);var l=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&l.push(o);return l}return HN=a,HN}var KN,$D;function Zpe(){if($D)return KN;$D=1;var t=Sq(),s=Pq();function n(r){return r!=null&&s(r.length)&&!t(r)}return KN=n,KN}var GN,UD;function ege(){if(UD)return GN;UD=1;var t=Gpe(),s=Xpe(),n=Zpe();function r(a){return n(a)?t(a):s(a)}return GN=r,GN}var YN,zD;function tge(){if(zD)return YN;zD=1;var t=Fpe(),s=Bpe(),n=ege();function r(a){return t(a,n,s)}return YN=r,YN}var QN,VD;function sge(){if(VD)return QN;VD=1;var t=tge(),s=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,l,o,c,d,u){var m=o&s,h=t(i),p=h.length,x=t(l),y=x.length;if(p!=y&&!m)return!1;for(var v=p;v--;){var j=h[v];if(!(m?j in l:r.call(l,j)))return!1}var w=u.get(i),N=u.get(l);if(w&&N)return w==l&&N==i;var _=!0;u.set(i,l),u.set(l,i);for(var P=m;++v<p;){j=h[v];var A=i[j],E=l[j];if(c)var C=m?c(E,A,j,l,i,u):c(A,E,j,i,l,u);if(!(C===void 0?A===E||d(A,E,o,c,u):C)){_=!1;break}P||(P=j=="constructor")}if(_&&!P){var R=i.constructor,O=l.constructor;R!=O&&"constructor"in i&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof O=="function"&&O instanceof O)&&(_=!1)}return u.delete(i),u.delete(l),_}return QN=a,QN}var JN,WD;function nge(){if(WD)return JN;WD=1;var t=om(),s=po(),n=t(s,"DataView");return JN=n,JN}var XN,HD;function rge(){if(HD)return XN;HD=1;var t=om(),s=po(),n=t(s,"Promise");return XN=n,XN}var ZN,KD;function age(){if(KD)return ZN;KD=1;var t=om(),s=po(),n=t(s,"Set");return ZN=n,ZN}var e_,GD;function ige(){if(GD)return e_;GD=1;var t=om(),s=po(),n=t(s,"WeakMap");return e_=n,e_}var t_,YD;function lge(){if(YD)return t_;YD=1;var t=nge(),s=WC(),n=rge(),r=age(),a=ige(),i=py(),l=Cq(),o="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",m="[object WeakMap]",h="[object DataView]",p=l(t),x=l(s),y=l(n),v=l(r),j=l(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=h||s&&w(new s)!=o||n&&w(n.resolve())!=d||r&&w(new r)!=u||a&&w(new a)!=m)&&(w=function(N){var _=i(N),P=_==c?N.constructor:void 0,A=P?l(P):"";if(A)switch(A){case p:return h;case x:return o;case y:return d;case v:return u;case j:return m}return _}),t_=w,t_}var s_,QD;function oge(){if(QD)return s_;QD=1;var t=Spe(),s=Eq(),n=Dpe(),r=sge(),a=lge(),i=HC(),l=Tq(),o=Aq(),c=1,d="[object Arguments]",u="[object Array]",m="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function x(y,v,j,w,N,_){var P=i(y),A=i(v),E=P?u:a(y),C=A?u:a(v);E=E==d?m:E,C=C==d?m:C;var R=E==m,O=C==m,k=E==C;if(k&&l(y)){if(!l(v))return!1;P=!0,R=!1}if(k&&!R)return _||(_=new t),P||o(y)?s(y,v,j,w,N,_):n(y,v,E,j,w,N,_);if(!(j&c)){var T=R&&p.call(y,"__wrapped__"),D=O&&p.call(v,"__wrapped__");if(T||D){var F=T?y.value():y,U=D?v.value():v;return _||(_=new t),N(F,U,j,w,_)}}return k?(_||(_=new t),r(y,v,j,w,N,_)):!1}return s_=x,s_}var n_,JD;function cge(){if(JD)return n_;JD=1;var t=oge(),s=vy();function n(r,a,i,l,o){return r===a?!0:r==null||a==null||!s(r)&&!s(a)?r!==r&&a!==a:t(r,a,i,l,n,o)}return n_=n,n_}var r_,XD;function dge(){if(XD)return r_;XD=1;var t=cge();function s(n,r){return t(n,r)}return r_=s,r_}var w0={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var uge=w0.exports,ZD;function hge(){return ZD||(ZD=1,(function(t,s){(function(r,a){t.exports=a()})(typeof self<"u"?self:uge,function(){return(function(n){var r={};function a(i){if(r[i])return r[i].exports;var l=r[i]={i,l:!1,exports:{}};return n[i].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=n,a.c=r,a.d=function(i,l,o){a.o(i,l)||Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:o})},a.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(l,"a",l),l},a.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},a.p="",a(a.s=109)})([(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(17),l=a(18),o=a(19),c=a(45),d=a(46),u=a(47),m=a(48),h=a(49),p=a(12),x=a(32),y=a(33),v=a(31),j=a(1),w={Scope:j.Scope,create:j.create,find:j.find,query:j.query,register:j.register,Container:i.default,Format:l.default,Leaf:o.default,Embed:m.default,Scroll:c.default,Block:u.default,Inline:d.default,Text:h.default,Attributor:{Attribute:p.default,Class:x.default,Style:y.default,Store:v.default}};r.default=w}),(function(n,r,a){var i=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,w){j.__proto__=w}||function(j,w){for(var N in w)w.hasOwnProperty(N)&&(j[N]=w[N])};return function(j,w){v(j,w);function N(){this.constructor=j}j.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=(function(v){i(j,v);function j(w){var N=this;return w="[Parchment] "+w,N=v.call(this,w)||this,N.message=w,N.name=N.constructor.name,N}return j})(Error);r.ParchmentError=l;var o={},c={},d={},u={};r.DATA_KEY="__blot";var m;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function h(v,j){var w=x(v);if(w==null)throw new l("Unable to create "+v+" blot");var N=w,_=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:N.create(j);return new N(_,j)}r.create=h;function p(v,j){return j===void 0&&(j=!1),v==null?null:v[r.DATA_KEY]!=null?v[r.DATA_KEY].blot:j?p(v.parentNode,j):null}r.find=p;function x(v,j){j===void 0&&(j=m.ANY);var w;if(typeof v=="string")w=u[v]||o[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)w=u.text;else if(typeof v=="number")v&m.LEVEL&m.BLOCK?w=u.block:v&m.LEVEL&m.INLINE&&(w=u.inline);else if(v instanceof HTMLElement){var N=(v.getAttribute("class")||"").split(/\s+/);for(var _ in N)if(w=c[N[_]],w)break;w=w||d[v.tagName]}return w==null?null:j&m.LEVEL&w.scope&&j&m.TYPE&w.scope?w:null}r.query=x;function y(){for(var v=[],j=0;j<arguments.length;j++)v[j]=arguments[j];if(v.length>1)return v.map(function(_){return y(_)});var w=v[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new l("Invalid definition");if(w.blotName==="abstract")throw new l("Cannot register abstract class");if(u[w.blotName||w.attrName]=w,typeof w.keyName=="string")o[w.keyName]=w;else if(w.className!=null&&(c[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(_){return _.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var N=Array.isArray(w.tagName)?w.tagName:[w.tagName];N.forEach(function(_){(d[_]==null||w.className==null)&&(d[_]=w)})}return w}r.register=y}),(function(n,r,a){var i=a(51),l=a(11),o=a(3),c=a(20),d="\0",u=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};u.prototype.insert=function(m,h){var p={};return m.length===0?this:(p.insert=m,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},u.prototype.retain=function(m,h){if(m<=0)return this;var p={retain:m};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(m){var h=this.ops.length,p=this.ops[h-1];if(m=o(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(m),this;if(l(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[h-1].attributes=m.attributes),this}}return h===this.ops.length?this.ops.push(m):this.ops.splice(h,0,m),this},u.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},u.prototype.filter=function(m){return this.ops.filter(m)},u.prototype.forEach=function(m){this.ops.forEach(m)},u.prototype.map=function(m){return this.ops.map(m)},u.prototype.partition=function(m){var h=[],p=[];return this.forEach(function(x){var y=m(x)?h:p;y.push(x)}),[h,p]},u.prototype.reduce=function(m,h){return this.ops.reduce(m,h)},u.prototype.changeLength=function(){return this.reduce(function(m,h){return h.insert?m+c.length(h):h.delete?m-h.delete:m},0)},u.prototype.length=function(){return this.reduce(function(m,h){return m+c.length(h)},0)},u.prototype.slice=function(m,h){m=m||0,typeof h!="number"&&(h=1/0);for(var p=[],x=c.iterator(this.ops),y=0;y<h&&x.hasNext();){var v;y<m?v=x.next(m-y):(v=x.next(h-y),p.push(v)),y+=c.length(v)}return new u(p)},u.prototype.compose=function(m){var h=c.iterator(this.ops),p=c.iterator(m.ops),x=[],y=p.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var v=y.retain;h.peekType()==="insert"&&h.peekLength()<=v;)v-=h.peekLength(),x.push(h.next());y.retain-v>0&&p.next(y.retain-v)}for(var j=new u(x);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")j.push(p.next());else if(h.peekType()==="delete")j.push(h.next());else{var w=Math.min(h.peekLength(),p.peekLength()),N=h.next(w),_=p.next(w);if(typeof _.retain=="number"){var P={};typeof N.retain=="number"?P.retain=w:P.insert=N.insert;var A=c.attributes.compose(N.attributes,_.attributes,typeof N.retain=="number");if(A&&(P.attributes=A),j.push(P),!p.hasNext()&&l(j.ops[j.ops.length-1],P)){var E=new u(h.rest());return j.concat(E).chop()}}else typeof _.delete=="number"&&typeof N.retain=="number"&&j.push(_)}return j.chop()},u.prototype.concat=function(m){var h=new u(this.ops.slice());return m.ops.length>0&&(h.push(m.ops[0]),h.ops=h.ops.concat(m.ops.slice(1))),h},u.prototype.diff=function(m,h){if(this.ops===m.ops)return new u;var p=[this,m].map(function(w){return w.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:d;var _=w===m?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),x=new u,y=i(p[0],p[1],h),v=c.iterator(this.ops),j=c.iterator(m.ops);return y.forEach(function(w){for(var N=w[1].length;N>0;){var _=0;switch(w[0]){case i.INSERT:_=Math.min(j.peekLength(),N),x.push(j.next(_));break;case i.DELETE:_=Math.min(N,v.peekLength()),v.next(_),x.delete(_);break;case i.EQUAL:_=Math.min(v.peekLength(),j.peekLength(),N);var P=v.next(_),A=j.next(_);l(P.insert,A.insert)?x.retain(_,c.attributes.diff(P.attributes,A.attributes)):x.push(A).delete(_);break}N-=_}}),x.chop()},u.prototype.eachLine=function(m,h){h=h||`
`;for(var p=c.iterator(this.ops),x=new u,y=0;p.hasNext();){if(p.peekType()!=="insert")return;var v=p.peek(),j=c.length(v)-p.peekLength(),w=typeof v.insert=="string"?v.insert.indexOf(h,j)-j:-1;if(w<0)x.push(p.next());else if(w>0)x.push(p.next(w));else{if(m(x,p.next(1).attributes||{},y)===!1)return;y+=1,x=new u}}x.length()>0&&m(x,{},y)},u.prototype.transform=function(m,h){if(h=!!h,typeof m=="number")return this.transformPosition(m,h);for(var p=c.iterator(this.ops),x=c.iterator(m.ops),y=new u;p.hasNext()||x.hasNext();)if(p.peekType()==="insert"&&(h||x.peekType()!=="insert"))y.retain(c.length(p.next()));else if(x.peekType()==="insert")y.push(x.next());else{var v=Math.min(p.peekLength(),x.peekLength()),j=p.next(v),w=x.next(v);if(j.delete)continue;w.delete?y.push(w):y.retain(v,c.attributes.transform(j.attributes,w.attributes,h))}return y.chop()},u.prototype.transformPosition=function(m,h){h=!!h;for(var p=c.iterator(this.ops),x=0;p.hasNext()&&x<=m;){var y=p.peekLength(),v=p.peekType();if(p.next(),v==="delete"){m-=Math.min(y,m-x);continue}else v==="insert"&&(x<m||!h)&&(m+=y);x+=y}return m},n.exports=u}),(function(n,r){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,l=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},d=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var x=a.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!x&&!y)return!1;var v;for(v in p);return typeof v>"u"||a.call(p,v)},u=function(p,x){l&&x.name==="__proto__"?l(p,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):p[x.name]=x.newValue},m=function(p,x){if(x==="__proto__")if(a.call(p,x)){if(o)return o(p,x).value}else return;return p[x]};n.exports=function h(){var p,x,y,v,j,w,N=arguments[0],_=1,P=arguments.length,A=!1;for(typeof N=="boolean"&&(A=N,N=arguments[1]||{},_=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});_<P;++_)if(p=arguments[_],p!=null)for(x in p)y=m(N,x),v=m(p,x),N!==v&&(A&&v&&(d(v)||(j=c(v)))?(j?(j=!1,w=y&&c(y)?y:[]):w=y&&d(y)?y:{},u(N,{name:x,newValue:h(A,w,v)})):typeof v<"u"&&u(N,{name:x,newValue:v}));return N}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var i=(function(){function k(T,D){for(var F=0;F<D.length;F++){var U=D[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,D,F){return D&&k(T.prototype,D),F&&k(T,F),T}})(),l=function k(T,D,F){T===null&&(T=Function.prototype);var U=Object.getOwnPropertyDescriptor(T,D);if(U===void 0){var z=Object.getPrototypeOf(T);return z===null?void 0:k(z,D,F)}else{if("value"in U)return U.value;var H=U.get;return H===void 0?void 0:H.call(F)}},o=a(3),c=N(o),d=a(2),u=N(d),m=a(0),h=N(m),p=a(16),x=N(p),y=a(6),v=N(y),j=a(7),w=N(j);function N(k){return k&&k.__esModule?k:{default:k}}function _(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function P(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function A(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var E=1,C=(function(k){A(T,k);function T(){return _(this,T),P(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return i(T,[{key:"attach",value:function(){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(F,U){var z=h.default.query(F,h.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,U)}},{key:"formatAt",value:function(F,U,z,H){this.format(z,H)}},{key:"insertAt",value:function(F,U,z){if(typeof U=="string"&&U.endsWith(`
`)){var H=h.default.create(R.blotName);this.parent.insertBefore(H,F===0?this:this.next),H.insertAt(0,U.slice(0,-1))}else l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,F,U,z)}}]),T})(h.default.Embed);C.scope=h.default.Scope.BLOCK_BLOT;var R=(function(k){A(T,k);function T(D){_(this,T);var F=P(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,D));return F.cache={},F}return i(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(F,U){return U.length()===0?F:F.insert(U.value(),O(U))},new u.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(F,U){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,F,U),this.cache={}}},{key:"formatAt",value:function(F,U,z,H){U<=0||(h.default.query(z,h.default.Scope.BLOCK)?F+U===this.length()&&this.format(z,H):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,F,Math.min(U,this.length()-F-1),z,H),this.cache={})}},{key:"insertAt",value:function(F,U,z){if(z!=null)return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,F,U,z);if(U.length!==0){var H=U.split(`
`),B=H.shift();B.length>0&&(F<this.length()-1||this.children.tail==null?l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),B):this.children.tail.insertAt(this.children.tail.length(),B),this.cache={});var $=this;H.reduce(function(I,L){return $=$.split(I,!0),$.insertAt(0,L),L.length},F+B.length)}}},{key:"insertBefore",value:function(F,U){var z=this.children.head;l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,F,U),z instanceof x.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(F,U){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,F,U),this.cache={}}},{key:"optimize",value:function(F){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(F===0||F>=this.length()-E)){var z=this.clone();return F===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var H=l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,F,U);return this.cache={},H}}}]),T})(h.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[v.default,h.default.Embed,w.default];function O(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(T=(0,c.default)(T,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?T:O(k.parent,T)}r.bubbleFormats=O,r.BlockEmbed=C,r.default=R}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(I,L){var V=[],q=!0,J=!1,Q=void 0;try{for(var Y=I[Symbol.iterator](),K;!(q=(K=Y.next()).done)&&(V.push(K.value),!(L&&V.length===L));q=!0);}catch(ae){J=!0,Q=ae}finally{try{!q&&Y.return&&Y.return()}finally{if(J)throw Q}}return V}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return $(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function $(I,L){for(var V=0;V<L.length;V++){var q=L[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(I,q.key,q)}}return function(I,L,V){return L&&$(I.prototype,L),V&&$(I,V),I}})();a(50);var c=a(2),d=O(c),u=a(14),m=O(u),h=a(8),p=O(h),x=a(9),y=O(x),v=a(0),j=O(v),w=a(15),N=O(w),_=a(3),P=O(_),A=a(10),E=O(A),C=a(34),R=O(C);function O($){return $&&$.__esModule?$:{default:$}}function k($,I,L){return I in $?Object.defineProperty($,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):$[I]=L,$}function T($,I){if(!($ instanceof I))throw new TypeError("Cannot call a class as a function")}var D=(0,E.default)("quill"),F=(function(){o($,null,[{key:"debug",value:function(L){L===!0&&(L="log"),E.default.level(L)}},{key:"find",value:function(L){return L.__quill||j.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&D.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,V){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var Q=L.attrName||L.blotName;typeof Q=="string"?this.register("formats/"+Q,L,V):Object.keys(L).forEach(function(Y){q.register(Y,L[Y],V)})}else this.imports[L]!=null&&!J&&D.warn("Overwriting "+L+" with",V),this.imports[L]=V,(L.startsWith("blots/")||L.startsWith("formats/"))&&V.blotName!=="abstract"?j.default.register(V):L.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function $(I){var L=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,$),this.options=U(I,V),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",I);this.options.debug&&$.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=j.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new N.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,Y){var K=L.selection.lastRange,ae=K&&K.length===0?K.index:void 0;z.call(L,function(){return L.editor.update(null,Y,ae)},Q)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o($,[{key:"addContainer",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var q=L;L=document.createElement("div"),L.classList.add(q)}return this.container.insertBefore(L,V),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,V,q){var J=this,Q=H(L,V,q),Y=l(Q,4);return L=Y[0],V=Y[1],q=Y[3],z.call(this,function(){return J.editor.deleteText(L,V)},q,L,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,V){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return z.call(this,function(){var Q=q.getSelection(!0),Y=new d.default;if(Q==null)return Y;if(j.default.query(L,j.default.Scope.BLOCK))Y=q.editor.formatLine(Q.index,Q.length,k({},L,V));else{if(Q.length===0)return q.selection.format(L,V),Y;Y=q.editor.formatText(Q.index,Q.length,k({},L,V))}return q.setSelection(Q,p.default.sources.SILENT),Y},J)}},{key:"formatLine",value:function(L,V,q,J,Q){var Y=this,K=void 0,ae=H(L,V,q,J,Q),se=l(ae,4);return L=se[0],V=se[1],K=se[2],Q=se[3],z.call(this,function(){return Y.editor.formatLine(L,V,K)},Q,L,0)}},{key:"formatText",value:function(L,V,q,J,Q){var Y=this,K=void 0,ae=H(L,V,q,J,Q),se=l(ae,4);return L=se[0],V=se[1],K=se[2],Q=se[3],z.call(this,function(){return Y.editor.formatText(L,V,K)},Q,L,0)}},{key:"getBounds",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof L=="number"?q=this.selection.getBounds(L,V):q=this.selection.getBounds(L.index,L.length);var J=this.container.getBoundingClientRect();return{bottom:q.bottom-J.top,height:q.height,left:q.left-J.left,right:q.right-J.left,top:q.top-J.top,width:q.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,q=H(L,V),J=l(q,2);return L=J[0],V=J[1],this.editor.getContents(L,V)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,V):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,V)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,q=H(L,V),J=l(q,2);return L=J[0],V=J[1],this.editor.getText(L,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,V,q){var J=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return z.call(this,function(){return J.editor.insertEmbed(L,V,q)},Q,L)}},{key:"insertText",value:function(L,V,q,J,Q){var Y=this,K=void 0,ae=H(L,0,q,J,Q),se=l(ae,4);return L=se[0],K=se[2],Q=se[3],z.call(this,function(){return Y.editor.insertText(L,V,K)},Q,L,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,V,q){this.clipboard.dangerouslyPasteHTML(L,V,q)}},{key:"removeFormat",value:function(L,V,q){var J=this,Q=H(L,V,q),Y=l(Q,4);return L=Y[0],V=Y[1],q=Y[3],z.call(this,function(){return J.editor.removeFormat(L,V)},q,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var V=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){L=new d.default(L);var J=V.getLength(),Q=V.editor.deleteText(0,J),Y=V.editor.applyDelta(L),K=Y.ops[Y.ops.length-1];K!=null&&typeof K.insert=="string"&&K.insert[K.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),Y.delete(1));var ae=Q.compose(Y);return ae},q)}},{key:"setSelection",value:function(L,V,q){if(L==null)this.selection.setRange(null,V||$.sources.API);else{var J=H(L,V,q),Q=l(J,4);L=Q[0],V=Q[1],q=Q[3],this.selection.setRange(new w.Range(L,V),q),q!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,q=new d.default().insert(L);return this.setContents(q,V)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,V=this.scroll.update(L);return this.selection.update(L),V}},{key:"updateContents",value:function(L){var V=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){return L=new d.default(L),V.editor.applyDelta(L,q)},q,!0)}}]),$})();F.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},F.events=p.default.events,F.sources=p.default.sources,F.version="1.3.7",F.imports={delta:d.default,parchment:j.default,"core/module":y.default,"core/theme":R.default};function U($,I){if(I=(0,P.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===F.DEFAULTS.theme)I.theme=R.default;else if(I.theme=F.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var L=(0,P.default)(!0,{},I.theme.DEFAULTS);[L,I].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(Q){J.modules[Q]===!0&&(J.modules[Q]={})})});var V=Object.keys(L.modules).concat(Object.keys(I.modules)),q=V.reduce(function(J,Q){var Y=F.import("modules/"+Q);return Y==null?D.error("Cannot load "+Q+" module. Are you sure you registered it?"):J[Q]=Y.DEFAULTS||{},J},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,P.default)(!0,{},F.DEFAULTS,{modules:q},L,I),["bounds","container","scrollingContainer"].forEach(function(J){typeof I[J]=="string"&&(I[J]=document.querySelector(I[J]))}),I.modules=Object.keys(I.modules).reduce(function(J,Q){return I.modules[Q]&&(J[Q]=I.modules[Q]),J},{}),I}function z($,I,L,V){if(this.options.strict&&!this.isEnabled()&&I===p.default.sources.USER)return new d.default;var q=L==null?null:this.getSelection(),J=this.editor.delta,Q=$();if(q!=null&&(L===!0&&(L=q.index),V==null?q=B(q,Q,I):V!==0&&(q=B(q,L,V,I)),this.setSelection(q,p.default.sources.SILENT)),Q.length()>0){var Y,K=[p.default.events.TEXT_CHANGE,Q,J,I];if((Y=this.emitter).emit.apply(Y,[p.default.events.EDITOR_CHANGE].concat(K)),I!==p.default.sources.SILENT){var ae;(ae=this.emitter).emit.apply(ae,K)}}return Q}function H($,I,L,V,q){var J={};return typeof $.index=="number"&&typeof $.length=="number"?typeof I!="number"?(q=V,V=L,L=I,I=$.length,$=$.index):(I=$.length,$=$.index):typeof I!="number"&&(q=V,V=L,L=I,I=0),(typeof L>"u"?"undefined":i(L))==="object"?(J=L,q=V):typeof L=="string"&&(V!=null?J[L]=V:q=L),q=q||p.default.sources.API,[$,I,J,q]}function B($,I,L,V){if($==null)return null;var q=void 0,J=void 0;if(I instanceof d.default){var Q=[$.index,$.index+$.length].map(function(se){return I.transformPosition(se,V!==p.default.sources.USER)}),Y=l(Q,2);q=Y[0],J=Y[1]}else{var K=[$.index,$.index+$.length].map(function(se){return se<I||se===I&&V===p.default.sources.USER?se:L>=0?se+L:Math.max(I,se+L)}),ae=l(K,2);q=ae[0],J=ae[1]}return new w.Range(q,J-q)}r.expandConfig=U,r.overload=H,r.default=F}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:v(P,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(7),c=m(o),d=a(0),u=m(d);function m(v){return v&&v.__esModule?v:{default:v}}function h(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function p(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function x(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var y=(function(v){x(j,v);function j(){return h(this,j),p(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"formatAt",value:function(N,_,P,A){if(j.compare(this.statics.blotName,P)<0&&u.default.query(P,u.default.Scope.BLOT)){var E=this.isolate(N,_);A&&E.wrap(P,A)}else l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,N,_,P,A)}},{key:"optimize",value:function(N){if(l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,N),this.parent instanceof j&&j.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(N,_){var P=j.order.indexOf(N),A=j.order.indexOf(_);return P>=0||A>=0?P-A:N===_?0:N<_?-1:1}}]),j})(u.default.Inline);y.allowedChildren=[y,u.default.Embed,c.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default.Text);r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function w(N,_){for(var P=0;P<_.length;P++){var A=_[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(N,A.key,A)}}return function(N,_,P){return _&&w(N.prototype,_),P&&w(N,P),N}})(),l=function w(N,_,P){N===null&&(N=Function.prototype);var A=Object.getOwnPropertyDescriptor(N,_);if(A===void 0){var E=Object.getPrototypeOf(N);return E===null?void 0:w(E,_,P)}else{if("value"in A)return A.value;var C=A.get;return C===void 0?void 0:C.call(P)}},o=a(54),c=m(o),d=a(10),u=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function h(w,N){if(!(w instanceof N))throw new TypeError("Cannot call a class as a function")}function p(w,N){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:w}function x(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(w,N):w.__proto__=N)}var y=(0,u.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(w){document.addEventListener(w,function(){for(var N=arguments.length,_=Array(N),P=0;P<N;P++)_[P]=arguments[P];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var E;(E=A.__quill.emitter).handleDOM.apply(E,_)}})})});var j=(function(w){x(N,w);function N(){h(this,N);var _=p(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return _.listeners={},_.on("error",y.error),_}return i(N,[{key:"emit",value:function(){y.log.apply(y,arguments),l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(P){for(var A=arguments.length,E=Array(A>1?A-1:0),C=1;C<A;C++)E[C-1]=arguments[C];(this.listeners[P.type]||[]).forEach(function(R){var O=R.node,k=R.handler;(P.target===O||O.contains(P.target))&&k.apply(void 0,[P].concat(E))})}},{key:"listenDOM",value:function(P,A,E){this.listeners[P]||(this.listeners[P]=[]),this.listeners[P].push({node:A,handler:E})}}]),N})(c.default);j.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},j.sources={API:"api",SILENT:"silent",USER:"user"},r.default=j}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});function i(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function o(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,o),this.quill=c,this.options=d};l.DEFAULTS={},r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=["error","warn","log","info"],l="warn";function o(d){if(i.indexOf(d)<=i.indexOf(l)){for(var u,m=arguments.length,h=Array(m>1?m-1:0),p=1;p<m;p++)h[p-1]=arguments[p];(u=console)[d].apply(u,h)}}function c(d){return i.reduce(function(u,m){return u[m]=o.bind(console,m,d),u},{})}o.level=c.level=function(d){l=d},r.default=c}),(function(n,r,a){var i=Array.prototype.slice,l=a(52),o=a(53),c=n.exports=function(h,p,x){return x||(x={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?x.strict?h===p:h==p:m(h,p,x)};function d(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function m(h,p,x){var y,v;if(d(h)||d(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=i.call(h),p=i.call(p),c(h,p,x)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(y=0;y<h.length;y++)if(h[y]!==p[y])return!1;return!0}try{var j=l(h),w=l(p)}catch{return!1}if(j.length!=w.length)return!1;for(j.sort(),w.sort(),y=j.length-1;y>=0;y--)if(j[y]!=w[y])return!1;for(y=j.length-1;y>=0;y--)if(v=j[y],!c(h[v],p[v],x))return!1;return typeof h==typeof p}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),l=(function(){function o(c,d,u){u===void 0&&(u={}),this.attrName=c,this.keyName=d;var m=i.Scope.TYPE&i.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&i.Scope.LEVEL|m:this.scope=i.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(c){return[].map.call(c.attributes,function(d){return d.name})},o.prototype.add=function(c,d){return this.canAdd(c,d)?(c.setAttribute(this.keyName,d),!0):!1},o.prototype.canAdd=function(c,d){var u=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},o.prototype.remove=function(c){c.removeAttribute(this.keyName)},o.prototype.value=function(c){var d=c.getAttribute(this.keyName);return this.canAdd(c,d)&&d?d:""},o})();r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var i=(function(){function C(R,O){var k=[],T=!0,D=!1,F=void 0;try{for(var U=R[Symbol.iterator](),z;!(T=(z=U.next()).done)&&(k.push(z.value),!(O&&k.length===O));T=!0);}catch(H){D=!0,F=H}finally{try{!T&&U.return&&U.return()}finally{if(D)throw F}}return k}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function C(R,O){for(var k=0;k<O.length;k++){var T=O[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,O,k){return O&&C(R.prototype,O),k&&C(R,k),R}})(),o=function C(R,O,k){R===null&&(R=Function.prototype);var T=Object.getOwnPropertyDescriptor(R,O);if(T===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:C(D,O,k)}else{if("value"in T)return T.value;var F=T.get;return F===void 0?void 0:F.call(k)}},c=a(2),d=w(c),u=a(0),m=w(u),h=a(4),p=w(h),x=a(6),y=w(x),v=a(7),j=w(v);function w(C){return C&&C.__esModule?C:{default:C}}function N(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function _(C,R){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:C}function P(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(C,R):C.__proto__=R)}var A=(function(C){P(R,C);function R(){return N(this,R),_(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R})(y.default);A.blotName="code",A.tagName="CODE";var E=(function(C){P(R,C);function R(){return N(this,R),_(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return l(R,[{key:"delta",value:function(){var k=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(D,F){return D.insert(F).insert(`
`,k.formats())},new d.default)}},{key:"format",value:function(k,T){if(!(k===this.statics.blotName&&T)){var D=this.descendant(j.default,this.length()-1),F=i(D,1),U=F[0];U!=null&&U.deleteAt(U.length()-1,1),o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,k,T)}}},{key:"formatAt",value:function(k,T,D,F){if(T!==0&&!(m.default.query(D,m.default.Scope.BLOCK)==null||D===this.statics.blotName&&F===this.statics.formats(this.domNode))){var U=this.newlineIndex(k);if(!(U<0||U>=k+T)){var z=this.newlineIndex(k,!0)+1,H=U-z+1,B=this.isolate(z,H),$=B.next;B.format(D,F),$ instanceof R&&$.formatAt(0,k-z+T-H,D,F)}}}},{key:"insertAt",value:function(k,T,D){if(D==null){var F=this.descendant(j.default,k),U=i(F,2),z=U[0],H=U[1];z.insertAt(H,T)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var D=this.domNode.textContent.slice(k).indexOf(`
`);return D>-1?k+D:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,k);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(k),T.moveChildren(this),T.remove())}},{key:"replace",value:function(k){o(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var D=m.default.find(T);D==null?T.parentNode.removeChild(T):D instanceof m.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(k){var T=o(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,k);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),R})(p.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",r.Code=A,r.default=E}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(I,L){var V=[],q=!0,J=!1,Q=void 0;try{for(var Y=I[Symbol.iterator](),K;!(q=(K=Y.next()).done)&&(V.push(K.value),!(L&&V.length===L));q=!0);}catch(ae){J=!0,Q=ae}finally{try{!q&&Y.return&&Y.return()}finally{if(J)throw Q}}return V}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return $(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function $(I,L){for(var V=0;V<L.length;V++){var q=L[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(I,q.key,q)}}return function(I,L,V){return L&&$(I.prototype,L),V&&$(I,V),I}})(),c=a(2),d=T(c),u=a(20),m=T(u),h=a(0),p=T(h),x=a(13),y=T(x),v=a(24),j=T(v),w=a(4),N=T(w),_=a(16),P=T(_),A=a(21),E=T(A),C=a(11),R=T(C),O=a(3),k=T(O);function T($){return $&&$.__esModule?$:{default:$}}function D($,I,L){return I in $?Object.defineProperty($,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):$[I]=L,$}function F($,I){if(!($ instanceof I))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,z=(function(){function $(I){F(this,$),this.scroll=I,this.delta=this.getDelta()}return o($,[{key:"applyDelta",value:function(L){var V=this,q=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),L=B(L),L.reduce(function(Q,Y){var K=Y.retain||Y.delete||Y.insert.length||1,ae=Y.attributes||{};if(Y.insert!=null){if(typeof Y.insert=="string"){var se=Y.insert;se.endsWith(`
`)&&q&&(q=!1,se=se.slice(0,-1)),Q>=J&&!se.endsWith(`
`)&&(q=!0),V.scroll.insertAt(Q,se);var de=V.scroll.line(Q),ue=l(de,2),oe=ue[0],pe=ue[1],je=(0,k.default)({},(0,w.bubbleFormats)(oe));if(oe instanceof N.default){var Ne=oe.descendant(p.default.Leaf,pe),qe=l(Ne,1),$e=qe[0];je=(0,k.default)(je,(0,w.bubbleFormats)($e))}ae=m.default.attributes.diff(je,ae)||{}}else if(i(Y.insert)==="object"){var Ee=Object.keys(Y.insert)[0];if(Ee==null)return Q;V.scroll.insertAt(Q,Ee,Y.insert[Ee])}J+=K}return Object.keys(ae).forEach(function(Se){V.scroll.formatAt(Q,K,Se,ae[Se])}),Q+K},0),L.reduce(function(Q,Y){return typeof Y.delete=="number"?(V.scroll.deleteAt(Q,Y.delete),Q):Q+(Y.retain||Y.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,V){return this.scroll.deleteAt(L,V),this.update(new d.default().retain(L).delete(V))}},{key:"formatLine",value:function(L,V){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(Q){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[Q])){var Y=q.scroll.lines(L,Math.max(V,1)),K=V;Y.forEach(function(ae){var se=ae.length();if(!(ae instanceof y.default))ae.format(Q,J[Q]);else{var de=L-ae.offset(q.scroll),ue=ae.newlineIndex(de+K)-de+1;ae.formatAt(de,ue,Q,J[Q])}K-=se})}}),this.scroll.optimize(),this.update(new d.default().retain(L).retain(V,(0,E.default)(J)))}},{key:"formatText",value:function(L,V){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(Q){q.scroll.formatAt(L,V,Q,J[Q])}),this.update(new d.default().retain(L).retain(V,(0,E.default)(J)))}},{key:"getContents",value:function(L,V){return this.delta.slice(L,L+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,V){return L.concat(V.delta())},new d.default)}},{key:"getFormat",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],J=[];V===0?this.scroll.path(L).forEach(function(Y){var K=l(Y,1),ae=K[0];ae instanceof N.default?q.push(ae):ae instanceof p.default.Leaf&&J.push(ae)}):(q=this.scroll.lines(L,V),J=this.scroll.descendants(p.default.Leaf,L,V));var Q=[q,J].map(function(Y){if(Y.length===0)return{};for(var K=(0,w.bubbleFormats)(Y.shift());Object.keys(K).length>0;){var ae=Y.shift();if(ae==null)return K;K=H((0,w.bubbleFormats)(ae),K)}return K});return k.default.apply(k.default,Q)}},{key:"getText",value:function(L,V){return this.getContents(L,V).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(L,V,q){return this.scroll.insertAt(L,V,q),this.update(new d.default().retain(L).insert(D({},V,q)))}},{key:"insertText",value:function(L,V){var q=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(L,V),Object.keys(J).forEach(function(Q){q.scroll.formatAt(L,V.length,Q,J[Q])}),this.update(new d.default().retain(L).insert(V,(0,E.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==N.default.blotName||L.children.length>1?!1:L.children.head instanceof P.default}},{key:"removeFormat",value:function(L,V){var q=this.getText(L,V),J=this.scroll.line(L+V),Q=l(J,2),Y=Q[0],K=Q[1],ae=0,se=new d.default;Y!=null&&(Y instanceof y.default?ae=Y.newlineIndex(K)-K+1:ae=Y.length()-K,se=Y.delta().slice(K,K+ae-1).insert(`
`));var de=this.getContents(L,V+ae),ue=de.diff(new d.default().insert(q).concat(se)),oe=new d.default().retain(L).concat(ue);return this.applyDelta(oe)}},{key:"update",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(U)&&p.default.find(V[0].target)){var Q=p.default.find(V[0].target),Y=(0,w.bubbleFormats)(Q),K=Q.offset(this.scroll),ae=V[0].oldValue.replace(j.default.CONTENTS,""),se=new d.default().insert(ae),de=new d.default().insert(Q.value()),ue=new d.default().retain(K).concat(se.diff(de,q));L=ue.reduce(function(oe,pe){return pe.insert?oe.insert(pe.insert,Y):oe.push(pe)},new d.default),this.delta=J.compose(L)}else this.delta=this.getDelta(),(!L||!(0,R.default)(J.compose(L),this.delta))&&(L=J.diff(this.delta,q));return L}}]),$})();function H($,I){return Object.keys(I).reduce(function(L,V){return $[V]==null||(I[V]===$[V]?L[V]=I[V]:Array.isArray(I[V])?I[V].indexOf($[V])<0&&(L[V]=I[V].concat([$[V]])):L[V]=[I[V],$[V]]),L},{})}function B($){return $.reduce(function(I,L){if(L.insert===1){var V=(0,E.default)(L.attributes);return delete V.image,I.insert({image:L.attributes.image},V)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,E.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var q=L.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(q,L.attributes)}return I.push(L)},new d.default)}r.default=z}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var i=(function(){function C(R,O){var k=[],T=!0,D=!1,F=void 0;try{for(var U=R[Symbol.iterator](),z;!(T=(z=U.next()).done)&&(k.push(z.value),!(O&&k.length===O));T=!0);}catch(H){D=!0,F=H}finally{try{!T&&U.return&&U.return()}finally{if(D)throw F}}return k}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function C(R,O){for(var k=0;k<O.length;k++){var T=O[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}return function(R,O,k){return O&&C(R.prototype,O),k&&C(R,k),R}})(),o=a(0),c=j(o),d=a(21),u=j(d),m=a(11),h=j(m),p=a(8),x=j(p),y=a(10),v=j(y);function j(C){return C&&C.__esModule?C:{default:C}}function w(C){if(Array.isArray(C)){for(var R=0,O=Array(C.length);R<C.length;R++)O[R]=C[R];return O}else return Array.from(C)}function N(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}var _=(0,v.default)("quill:selection"),P=function C(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;N(this,C),this.index=R,this.length=O},A=(function(){function C(R,O){var k=this;N(this,C),this.emitter=O,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new P(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,x.default.sources.USER),1)}),this.emitter.on(x.default.events.EDITOR_CHANGE,function(T,D){T===x.default.events.TEXT_CHANGE&&D.length()>0&&k.update(x.default.sources.SILENT)}),this.emitter.on(x.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var T=k.getNativeRange();T!=null&&T.start.node!==k.cursor.textNode&&k.emitter.once(x.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(x.default.events.SCROLL_OPTIMIZE,function(T,D){if(D.range){var F=D.range,U=F.startNode,z=F.startOffset,H=F.endNode,B=F.endOffset;k.setNativeRange(U,z,H,B)}}),this.update(x.default.sources.SILENT)}return l(C,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var k=O.cursor.restore();if(!k)return;setTimeout(function(){O.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(x.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(O,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var D=c.default.find(T.start.node,!1);if(D==null)return;if(D instanceof c.default.Leaf){var F=D.split(T.start.offset);D.parent.insertBefore(this.cursor,F)}else D.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(O,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();O=Math.min(O,T-1),k=Math.min(O+k,T-1)-O;var D=void 0,F=this.scroll.leaf(O),U=i(F,2),z=U[0],H=U[1];if(z==null)return null;var B=z.position(H,!0),$=i(B,2);D=$[0],H=$[1];var I=document.createRange();if(k>0){I.setStart(D,H);var L=this.scroll.leaf(O+k),V=i(L,2);if(z=V[0],H=V[1],z==null)return null;var q=z.position(H,!0),J=i(q,2);return D=J[0],H=J[1],I.setEnd(D,H),I.getBoundingClientRect()}else{var Q="left",Y=void 0;return D instanceof Text?(H<D.data.length?(I.setStart(D,H),I.setEnd(D,H+1)):(I.setStart(D,H-1),I.setEnd(D,H),Q="right"),Y=I.getBoundingClientRect()):(Y=z.domNode.getBoundingClientRect(),H>0&&(Q="right")),{bottom:Y.top+Y.height,height:Y.height,left:Y[Q],right:Y[Q],top:Y.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var k=O.getRangeAt(0);if(k==null)return null;var T=this.normalizeNative(k);return _.info("getNativeRange",T),T}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var k=this.normalizedToRange(O);return[k,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var k=this,T=[[O.start.node,O.start.offset]];O.native.collapsed||T.push([O.end.node,O.end.offset]);var D=T.map(function(z){var H=i(z,2),B=H[0],$=H[1],I=c.default.find(B,!0),L=I.offset(k.scroll);return $===0?L:I instanceof c.default.Container?L+I.length():L+I.index(B,$)}),F=Math.min(Math.max.apply(Math,w(D)),this.scroll.length()-1),U=Math.min.apply(Math,[F].concat(w(D)));return new P(U,F-U)}},{key:"normalizeNative",value:function(O){if(!E(this.root,O.startContainer)||!O.collapsed&&!E(this.root,O.endContainer))return null;var k={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[k.start,k.end].forEach(function(T){for(var D=T.node,F=T.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>F)D=D.childNodes[F],F=0;else if(D.childNodes.length===F)D=D.lastChild,F=D instanceof Text?D.data.length:D.childNodes.length+1;else break;T.node=D,T.offset=F}),k}},{key:"rangeToNative",value:function(O){var k=this,T=O.collapsed?[O.index]:[O.index,O.index+O.length],D=[],F=this.scroll.length();return T.forEach(function(U,z){U=Math.min(F-1,U);var H=void 0,B=k.scroll.leaf(U),$=i(B,2),I=$[0],L=$[1],V=I.position(L,z!==0),q=i(V,2);H=q[0],L=q[1],D.push(H,L)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(O){var k=this.lastRange;if(k!=null){var T=this.getBounds(k.index,k.length);if(T!=null){var D=this.scroll.length()-1,F=this.scroll.line(Math.min(k.index,D)),U=i(F,1),z=U[0],H=z;if(k.length>0){var B=this.scroll.line(Math.min(k.index+k.length,D)),$=i(B,1);H=$[0]}if(!(z==null||H==null)){var I=O.getBoundingClientRect();T.top<I.top?O.scrollTop-=I.top-T.top:T.bottom>I.bottom&&(O.scrollTop+=T.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(O,k){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",O,k,T,D),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||T.parentNode==null))){var U=document.getSelection();if(U!=null)if(O!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||F||O!==z.startContainer||k!==z.startOffset||T!==z.endContainer||D!==z.endOffset){O.tagName=="BR"&&(k=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),T.tagName=="BR"&&(D=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var H=document.createRange();H.setStart(O,k),H.setEnd(T,D),U.removeAllRanges(),U.addRange(H)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof k=="string"&&(T=k,k=!1),_.info("setRange",O),O!=null){var D=this.rangeToNative(O);this.setNativeRange.apply(this,w(D).concat([k]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.default.sources.USER,k=this.lastRange,T=this.getRange(),D=i(T,2),F=D[0],U=D[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(k,this.lastRange)){var z;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[x.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(k),O];if((z=this.emitter).emit.apply(z,[x.default.events.EDITOR_CHANGE].concat(H)),O!==x.default.sources.SILENT){var B;(B=this.emitter).emit.apply(B,H)}}}}]),C})();function E(C,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),C.contains(R)}r.Range=P,r.default=A}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function x(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&x(y.prototype,v),j&&x(y,j),y}})(),l=function x(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:x(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(0),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(){return u(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"insertInto",value:function(j,w){j.children.length===0?l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,j,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y})(c.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var x in p)p.hasOwnProperty(x)&&(h[x]=p[x])};return function(h,p){m(h,p);function x(){this.constructor=h}h.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(44),o=a(30),c=a(1),d=(function(m){i(h,m);function h(p){var x=m.call(this,p)||this;return x.build(),x}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(x){try{var y=u(x);p.insertBefore(y,p.children.head||void 0)}catch(v){if(v instanceof c.ParchmentError)return;throw v}})},h.prototype.deleteAt=function(p,x){if(p===0&&x===this.length())return this.remove();this.children.forEachAt(p,x,function(y,v,j){y.deleteAt(v,j)})},h.prototype.descendant=function(p,x){var y=this.children.find(x),v=y[0],j=y[1];return p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p?[v,j]:v instanceof h?v.descendant(p,j):[null,-1]},h.prototype.descendants=function(p,x,y){x===void 0&&(x=0),y===void 0&&(y=Number.MAX_VALUE);var v=[],j=y;return this.children.forEachAt(x,y,function(w,N,_){(p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p)&&v.push(w),w instanceof h&&(v=v.concat(w.descendants(p,N,j))),j-=_}),v},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},h.prototype.formatAt=function(p,x,y,v){this.children.forEachAt(p,x,function(j,w,N){j.formatAt(w,N,y,v)})},h.prototype.insertAt=function(p,x,y){var v=this.children.find(p),j=v[0],w=v[1];if(j)j.insertAt(w,x,y);else{var N=y==null?c.create("text",x):c.create(x,y);this.appendChild(N)}},h.prototype.insertBefore=function(p,x){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return p instanceof y}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,x)},h.prototype.length=function(){return this.children.reduce(function(p,x){return p+x.length()},0)},h.prototype.moveChildren=function(p,x){this.children.forEach(function(y){p.insertBefore(y,x)})},h.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var x=c.create(this.statics.defaultChild);this.appendChild(x),x.optimize(p)}else this.remove()},h.prototype.path=function(p,x){x===void 0&&(x=!1);var y=this.children.find(p,x),v=y[0],j=y[1],w=[[this,p]];return v instanceof h?w.concat(v.path(j,x)):(v!=null&&w.push([v,j]),w)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),m.prototype.replace.call(this,p)},h.prototype.split=function(p,x){if(x===void 0&&(x=!1),!x){if(p===0)return this;if(p===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(p,this.length(),function(v,j,w){v=v.split(j,x),y.appendChild(v)}),y},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,x){var y=this,v=[],j=[];p.forEach(function(w){w.target===y.domNode&&w.type==="childList"&&(v.push.apply(v,w.addedNodes),j.push.apply(j,w.removedNodes))}),j.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var N=c.find(w);N!=null&&(N.domNode.parentNode==null||N.domNode.parentNode===y.domNode)&&N.detach()}}),v.filter(function(w){return w.parentNode==y.domNode}).sort(function(w,N){return w===N?0:w.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var N=null;w.nextSibling!=null&&(N=c.find(w.nextSibling));var _=u(w);(_.next!=N||_.next==null)&&(_.parent!=null&&_.parent.removeChild(y),y.insertBefore(_,N||void 0))})},h})(o.default);function u(m){var h=c.find(m);if(h==null)try{h=c.create(m)}catch{h=c.create(c.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(x){h.domNode.appendChild(x)}),m.parentNode&&m.parentNode.replaceChild(h.domNode,m),h.attach()}return h}r.default=d}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var x in p)p.hasOwnProperty(x)&&(h[x]=p[x])};return function(h,p){m(h,p);function x(){this.constructor=h}h.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12),o=a(31),c=a(17),d=a(1),u=(function(m){i(h,m);function h(p){var x=m.call(this,p)||this;return x.attributes=new o.default(x.domNode),x}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,x){var y=d.query(p);y instanceof l.default?this.attributes.attribute(y,x):x&&y!=null&&(p!==this.statics.blotName||this.formats()[p]!==x)&&this.replaceWith(p,x)},h.prototype.formats=function(){var p=this.attributes.values(),x=this.statics.formats(this.domNode);return x!=null&&(p[this.statics.blotName]=x),p},h.prototype.replaceWith=function(p,x){var y=m.prototype.replaceWith.call(this,p,x);return this.attributes.copy(y),y},h.prototype.update=function(p,x){var y=this;m.prototype.update.call(this,p,x),p.some(function(v){return v.target===y.domNode&&v.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,x){var y=m.prototype.wrap.call(this,p,x);return y instanceof h&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},h})(c.default);r.default=u}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])};return function(u,m){d(u,m);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(30),o=a(1),c=(function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.value=function(m){return!0},u.prototype.index=function(m,h){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(m,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},u.scope=o.Scope.INLINE_BLOT,u})(l.default);r.default=c}),(function(n,r,a){var i=a(11),l=a(3),o={attributes:{compose:function(d,u,m){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var h=l(!0,{},u);m||(h=Object.keys(h).reduce(function(x,y){return h[y]!=null&&(x[y]=h[y]),x},{}));for(var p in d)d[p]!==void 0&&u[p]===void 0&&(h[p]=d[p]);return Object.keys(h).length>0?h:void 0},diff:function(d,u){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var m=Object.keys(d).concat(Object.keys(u)).reduce(function(h,p){return i(d[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(m).length>0?m:void 0},transform:function(d,u,m){if(typeof d!="object")return u;if(typeof u=="object"){if(!m)return u;var h=Object.keys(u).reduce(function(p,x){return d[x]===void 0&&(p[x]=u[x]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(d){return new c(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function c(d){this.ops=d,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(d){d||(d=1/0);var u=this.ops[this.index];if(u){var m=this.offset,h=o.length(u);if(d>=h-m?(d=h-m,this.index+=1,this.offset=0):this.offset+=d,typeof u.delete=="number")return{delete:d};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=d:typeof u.insert=="string"?p.insert=u.insert.substr(m,d):p.insert=u.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,u=this.index,m=this.next(),h=this.ops.slice(this.index);return this.offset=d,this.index=u,[m].concat(h)}else return[]},n.exports=o}),(function(n,r){var a=(function(){function i(y,v){return v!=null&&y instanceof v}var l;try{l=Map}catch{l=function(){}}var o;try{o=Set}catch{o=function(){}}var c;try{c=Promise}catch{c=function(){}}function d(y,v,j,w,N){typeof v=="object"&&(j=v.depth,w=v.prototype,N=v.includeNonEnumerable,v=v.circular);var _=[],P=[],A=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof j>"u"&&(j=1/0);function E(C,R){if(C===null)return null;if(R===0)return C;var O,k;if(typeof C!="object")return C;if(i(C,l))O=new l;else if(i(C,o))O=new o;else if(i(C,c))O=new c(function(I,L){C.then(function(V){I(E(V,R-1))},function(V){L(E(V,R-1))})});else if(d.__isArray(C))O=[];else if(d.__isRegExp(C))O=new RegExp(C.source,x(C)),C.lastIndex&&(O.lastIndex=C.lastIndex);else if(d.__isDate(C))O=new Date(C.getTime());else{if(A&&Buffer.isBuffer(C))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(C.length):O=new Buffer(C.length),C.copy(O),O;i(C,Error)?O=Object.create(C):typeof w>"u"?(k=Object.getPrototypeOf(C),O=Object.create(k)):(O=Object.create(w),k=w)}if(v){var T=_.indexOf(C);if(T!=-1)return P[T];_.push(C),P.push(O)}i(C,l)&&C.forEach(function(I,L){var V=E(L,R-1),q=E(I,R-1);O.set(V,q)}),i(C,o)&&C.forEach(function(I){var L=E(I,R-1);O.add(L)});for(var D in C){var F;k&&(F=Object.getOwnPropertyDescriptor(k,D)),!(F&&F.set==null)&&(O[D]=E(C[D],R-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(C),D=0;D<U.length;D++){var z=U[D],H=Object.getOwnPropertyDescriptor(C,z);H&&!H.enumerable&&!N||(O[z]=E(C[z],R-1),H.enumerable||Object.defineProperty(O,z,{enumerable:!1}))}if(N)for(var B=Object.getOwnPropertyNames(C),D=0;D<B.length;D++){var $=B[D],H=Object.getOwnPropertyDescriptor(C,$);H&&H.enumerable||(O[$]=E(C[$],R-1),Object.defineProperty(O,$,{enumerable:!1}))}return O}return E(y,j)}d.clonePrototype=function(v){if(v===null)return null;var j=function(){};return j.prototype=v,new j};function u(y){return Object.prototype.toString.call(y)}d.__objToStr=u;function m(y){return typeof y=="object"&&u(y)==="[object Date]"}d.__isDate=m;function h(y){return typeof y=="object"&&u(y)==="[object Array]"}d.__isArray=h;function p(y){return typeof y=="object"&&u(y)==="[object RegExp]"}d.__isRegExp=p;function x(y){var v="";return y.global&&(v+="g"),y.ignoreCase&&(v+="i"),y.multiline&&(v+="m"),v}return d.__getRegExpFlags=x,d})();typeof n=="object"&&n.exports&&(n.exports=a)}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function O(k,T){var D=[],F=!0,U=!1,z=void 0;try{for(var H=k[Symbol.iterator](),B;!(F=(B=H.next()).done)&&(D.push(B.value),!(T&&D.length===T));F=!0);}catch($){U=!0,z=$}finally{try{!F&&H.return&&H.return()}finally{if(U)throw z}}return D}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return O(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function O(k,T){for(var D=0;D<T.length;D++){var F=T[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,T,D){return T&&O(k.prototype,T),D&&O(k,D),k}})(),o=function O(k,T,D){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,T);if(F===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:O(U,T,D)}else{if("value"in F)return F.value;var z=F.get;return z===void 0?void 0:z.call(D)}},c=a(0),d=_(c),u=a(8),m=_(u),h=a(4),p=_(h),x=a(16),y=_(x),v=a(13),j=_(v),w=a(25),N=_(w);function _(O){return O&&O.__esModule?O:{default:O}}function P(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function A(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function E(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}function C(O){return O instanceof p.default||O instanceof h.BlockEmbed}var R=(function(O){E(k,O);function k(T,D){P(this,k);var F=A(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T));return F.emitter=D.emitter,Array.isArray(D.whitelist)&&(F.whitelist=D.whitelist.reduce(function(U,z){return U[z]=!0,U},{})),F.domNode.addEventListener("DOMNodeInserted",function(){}),F.optimize(),F.enable(),F}return l(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,F){var U=this.line(D),z=i(U,2),H=z[0],B=z[1],$=this.line(D+F),I=i($,1),L=I[0];if(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,D,F),L!=null&&H!==L&&B>0){if(H instanceof h.BlockEmbed||L instanceof h.BlockEmbed){this.optimize();return}if(H instanceof j.default){var V=H.newlineIndex(H.length(),!0);if(V>-1&&(H=H.split(V+1),H===L)){this.optimize();return}}else if(L instanceof j.default){var q=L.newlineIndex(0);q>-1&&L.split(q+1)}var J=L.children.head instanceof y.default?null:L.children.head;H.moveChildren(L,J),H.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,F,U,z){this.whitelist!=null&&!this.whitelist[U]||(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,D,F,U,z),this.optimize())}},{key:"insertAt",value:function(D,F,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[F])){if(D>=this.length())if(U==null||d.default.query(F,d.default.Scope.BLOCK)==null){var z=d.default.create(this.statics.defaultChild);this.appendChild(z),U==null&&F.endsWith(`
`)&&(F=F.slice(0,-1)),z.insertAt(0,F,U)}else{var H=d.default.create(F,U);this.appendChild(H)}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,D,F,U);this.optimize()}}},{key:"insertBefore",value:function(D,F){if(D.statics.scope===d.default.Scope.INLINE_BLOT){var U=d.default.create(this.statics.defaultChild);U.appendChild(D),D=U}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,D,F)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(C,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function z(H,B,$){var I=[],L=$;return H.children.forEachAt(B,$,function(V,q,J){C(V)?I.push(V):V instanceof d.default.Container&&(I=I.concat(z(V,q,L))),L-=J}),I};return U(this,D,F)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,D,F),D.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,D,F))}},{key:"path",value:function(D){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var F=m.default.sources.USER;typeof D=="string"&&(F=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,F,D),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,F,D)}}}]),k})(d.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[p.default,h.BlockEmbed,N.default],r.default=R}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=(function(){function Y(K,ae){var se=[],de=!0,ue=!1,oe=void 0;try{for(var pe=K[Symbol.iterator](),je;!(de=(je=pe.next()).done)&&(se.push(je.value),!(ae&&se.length===ae));de=!0);}catch(Ne){ue=!0,oe=Ne}finally{try{!de&&pe.return&&pe.return()}finally{if(ue)throw oe}}return se}return function(K,ae){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return Y(K,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function Y(K,ae){for(var se=0;se<ae.length;se++){var de=ae[se];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(K,de.key,de)}}return function(K,ae,se){return ae&&Y(K.prototype,ae),se&&Y(K,se),K}})(),c=a(21),d=O(c),u=a(11),m=O(u),h=a(3),p=O(h),x=a(2),y=O(x),v=a(20),j=O(v),w=a(0),N=O(w),_=a(5),P=O(_),A=a(10),E=O(A),C=a(9),R=O(C);function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function k(Y,K,ae){return K in Y?Object.defineProperty(Y,K,{value:ae,enumerable:!0,configurable:!0,writable:!0}):Y[K]=ae,Y}function T(Y,K){if(!(Y instanceof K))throw new TypeError("Cannot call a class as a function")}function D(Y,K){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:Y}function F(Y,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);Y.prototype=Object.create(K&&K.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,K):Y.__proto__=K)}var U=(0,E.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=(function(Y){F(K,Y),o(K,null,[{key:"match",value:function(se,de){return de=Q(de),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ue){return!!de[ue]!==se[ue]&&de[ue]!==null})?!1:de.key===(se.which||se.keyCode)}}]);function K(ae,se){T(this,K);var de=D(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ae,se));return de.bindings={},Object.keys(de.options.bindings).forEach(function(ue){ue==="list autofill"&&ae.scroll.whitelist!=null&&!ae.scroll.whitelist.list||de.options.bindings[ue]&&de.addBinding(de.options.bindings[ue])}),de.addBinding({key:K.keys.ENTER,shiftKey:null},V),de.addBinding({key:K.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(de.addBinding({key:K.keys.BACKSPACE},{collapsed:!0},$),de.addBinding({key:K.keys.DELETE},{collapsed:!0},I)):(de.addBinding({key:K.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),de.addBinding({key:K.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),de.addBinding({key:K.keys.BACKSPACE},{collapsed:!1},L),de.addBinding({key:K.keys.DELETE},{collapsed:!1},L),de.addBinding({key:K.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),de.listen(),de}return o(K,[{key:"addBinding",value:function(se){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},oe=Q(se);if(oe==null||oe.key==null)return U.warn("Attempted to add invalid keyboard binding",oe);typeof de=="function"&&(de={handler:de}),typeof ue=="function"&&(ue={handler:ue}),oe=(0,p.default)(oe,de,ue),this.bindings[oe.key]=this.bindings[oe.key]||[],this.bindings[oe.key].push(oe)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(de){if(!de.defaultPrevented){var ue=de.which||de.keyCode,oe=(se.bindings[ue]||[]).filter(function(ct){return K.match(de,ct)});if(oe.length!==0){var pe=se.quill.getSelection();if(!(pe==null||!se.quill.hasFocus())){var je=se.quill.getLine(pe.index),Ne=l(je,2),qe=Ne[0],$e=Ne[1],Ee=se.quill.getLeaf(pe.index),Se=l(Ee,2),Ye=Se[0],Qe=Se[1],Me=pe.length===0?[Ye,Qe]:se.quill.getLeaf(pe.index+pe.length),lt=l(Me,2),Ce=lt[0],it=lt[1],_e=Ye instanceof N.default.Text?Ye.value().slice(0,Qe):"",Ue=Ce instanceof N.default.Text?Ce.value().slice(it):"",rt={collapsed:pe.length===0,empty:pe.length===0&&qe.length()<=1,format:se.quill.getFormat(pe),offset:$e,prefix:_e,suffix:Ue},ht=oe.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==rt.collapsed||ct.empty!=null&&ct.empty!==rt.empty||ct.offset!=null&&ct.offset!==rt.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(Rt){return rt.format[Rt]==null}))return!1}else if(i(ct.format)==="object"&&!Object.keys(ct.format).every(function(Rt){return ct.format[Rt]===!0?rt.format[Rt]!=null:ct.format[Rt]===!1?rt.format[Rt]==null:(0,m.default)(ct.format[Rt],rt.format[Rt])}))return!1;return ct.prefix!=null&&!ct.prefix.test(rt.prefix)||ct.suffix!=null&&!ct.suffix.test(rt.suffix)?!1:ct.handler.call(se,pe,rt)!==!0});ht&&de.preventDefault()}}}})}}]),K})(R.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(K,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","+1",P.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(K,ae){if(ae.collapsed&&ae.offset!==0)return!0;this.quill.format("indent","-1",P.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(K,ae){ae.format.indent!=null?this.quill.format("indent","-1",P.default.sources.USER):ae.format.list!=null&&this.quill.format("list",!1,P.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(K){this.quill.deleteText(K.index-1,1,P.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(K){this.quill.history.cutoff();var ae=new y.default().retain(K.index).delete(K.length).insert("	");this.quill.updateContents(ae,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,P.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(K,ae){this.quill.format("list",!1,P.default.sources.USER),ae.format.indent&&this.quill.format("indent",!1,P.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(K){var ae=this.quill.getLine(K.index),se=l(ae,2),de=se[0],ue=se[1],oe=(0,p.default)({},de.formats(),{list:"checked"}),pe=new y.default().retain(K.index).insert(`
`,oe).retain(de.length()-ue-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,P.default.sources.USER),this.quill.setSelection(K.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(K,ae){var se=this.quill.getLine(K.index),de=l(se,2),ue=de[0],oe=de[1],pe=new y.default().retain(K.index).insert(`
`,ae.format).retain(ue.length()-oe-1).retain(1,{header:null});this.quill.updateContents(pe,P.default.sources.USER),this.quill.setSelection(K.index+1,P.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(K,ae){var se=ae.prefix.length,de=this.quill.getLine(K.index),ue=l(de,2),oe=ue[0],pe=ue[1];if(pe>se)return!0;var je=void 0;switch(ae.prefix.trim()){case"[]":case"[ ]":je="unchecked";break;case"[x]":je="checked";break;case"-":case"*":je="bullet";break;default:je="ordered"}this.quill.insertText(K.index," ",P.default.sources.USER),this.quill.history.cutoff();var Ne=new y.default().retain(K.index-pe).delete(se+1).retain(oe.length()-2-pe).retain(1,{list:je});this.quill.updateContents(Ne,P.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-se,P.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(K){var ae=this.quill.getLine(K.index),se=l(ae,2),de=se[0],ue=se[1],oe=new y.default().retain(K.index+de.length()-ue-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(oe,P.default.sources.USER)}},"embed left":B(H.keys.LEFT,!1),"embed left shift":B(H.keys.LEFT,!0),"embed right":B(H.keys.RIGHT,!1),"embed right shift":B(H.keys.RIGHT,!0)}};function B(Y,K){var ae,se=Y===H.keys.LEFT?"prefix":"suffix";return ae={key:Y,shiftKey:K,altKey:null},k(ae,se,/^$/),k(ae,"handler",function(ue){var oe=ue.index;Y===H.keys.RIGHT&&(oe+=ue.length+1);var pe=this.quill.getLeaf(oe),je=l(pe,1),Ne=je[0];return Ne instanceof N.default.Embed?(Y===H.keys.LEFT?K?this.quill.setSelection(ue.index-1,ue.length+1,P.default.sources.USER):this.quill.setSelection(ue.index-1,P.default.sources.USER):K?this.quill.setSelection(ue.index,ue.length+1,P.default.sources.USER):this.quill.setSelection(ue.index+ue.length+1,P.default.sources.USER),!1):!0}),ae}function $(Y,K){if(!(Y.index===0||this.quill.getLength()<=1)){var ae=this.quill.getLine(Y.index),se=l(ae,1),de=se[0],ue={};if(K.offset===0){var oe=this.quill.getLine(Y.index-1),pe=l(oe,1),je=pe[0];if(je!=null&&je.length()>1){var Ne=de.formats(),qe=this.quill.getFormat(Y.index-1,1);ue=j.default.attributes.diff(Ne,qe)||{}}}var $e=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(K.prefix)?2:1;this.quill.deleteText(Y.index-$e,$e,P.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(Y.index-$e,$e,ue,P.default.sources.USER),this.quill.focus()}}function I(Y,K){var ae=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(K.suffix)?2:1;if(!(Y.index>=this.quill.getLength()-ae)){var se={},de=0,ue=this.quill.getLine(Y.index),oe=l(ue,1),pe=oe[0];if(K.offset>=pe.length()-1){var je=this.quill.getLine(Y.index+1),Ne=l(je,1),qe=Ne[0];if(qe){var $e=pe.formats(),Ee=this.quill.getFormat(Y.index,1);se=j.default.attributes.diff($e,Ee)||{},de=qe.length()}}this.quill.deleteText(Y.index,ae,P.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(Y.index+de-1,ae,se,P.default.sources.USER)}}function L(Y){var K=this.quill.getLines(Y),ae={};if(K.length>1){var se=K[0].formats(),de=K[K.length-1].formats();ae=j.default.attributes.diff(de,se)||{}}this.quill.deleteText(Y,P.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(Y.index,1,ae,P.default.sources.USER),this.quill.setSelection(Y.index,P.default.sources.SILENT),this.quill.focus()}function V(Y,K){var ae=this;Y.length>0&&this.quill.scroll.deleteAt(Y.index,Y.length);var se=Object.keys(K.format).reduce(function(de,ue){return N.default.query(ue,N.default.Scope.BLOCK)&&!Array.isArray(K.format[ue])&&(de[ue]=K.format[ue]),de},{});this.quill.insertText(Y.index,`
`,se,P.default.sources.USER),this.quill.setSelection(Y.index+1,P.default.sources.SILENT),this.quill.focus(),Object.keys(K.format).forEach(function(de){se[de]==null&&(Array.isArray(K.format[de])||de!=="link"&&ae.quill.format(de,K.format[de],P.default.sources.USER))})}function q(Y){return{key:H.keys.TAB,shiftKey:!Y,format:{"code-block":!0},handler:function(ae){var se=N.default.query("code-block"),de=ae.index,ue=ae.length,oe=this.quill.scroll.descendant(se,de),pe=l(oe,2),je=pe[0],Ne=pe[1];if(je!=null){var qe=this.quill.getIndex(je),$e=je.newlineIndex(Ne,!0)+1,Ee=je.newlineIndex(qe+Ne+ue),Se=je.domNode.textContent.slice($e,Ee).split(`
`);Ne=0,Se.forEach(function(Ye,Qe){Y?(je.insertAt($e+Ne,se.TAB),Ne+=se.TAB.length,Qe===0?de+=se.TAB.length:ue+=se.TAB.length):Ye.startsWith(se.TAB)&&(je.deleteAt($e+Ne,se.TAB.length),Ne-=se.TAB.length,Qe===0?de-=se.TAB.length:ue-=se.TAB.length),Ne+=Ye.length+1}),this.quill.update(P.default.sources.USER),this.quill.setSelection(de,ue,P.default.sources.SILENT)}}}}function J(Y){return{key:Y[0].toUpperCase(),shortKey:!0,handler:function(ae,se){this.quill.format(Y,!se.format[Y],P.default.sources.USER)}}}function Q(Y){if(typeof Y=="string"||typeof Y=="number")return Q({key:Y});if((typeof Y>"u"?"undefined":i(Y))==="object"&&(Y=(0,d.default)(Y,!1)),typeof Y.key=="string")if(H.keys[Y.key.toUpperCase()]!=null)Y.key=H.keys[Y.key.toUpperCase()];else if(Y.key.length===1)Y.key=Y.key.toUpperCase().charCodeAt(0);else return null;return Y.shortKey&&(Y[z]=Y.shortKey,delete Y.shortKey),Y}r.default=H,r.SHORTKEY=z}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function j(w,N){var _=[],P=!0,A=!1,E=void 0;try{for(var C=w[Symbol.iterator](),R;!(P=(R=C.next()).done)&&(_.push(R.value),!(N&&_.length===N));P=!0);}catch(O){A=!0,E=O}finally{try{!P&&C.return&&C.return()}finally{if(A)throw E}}return _}return function(w,N){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return j(w,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var P=Object.getOwnPropertyDescriptor(w,N);if(P===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in P)return P.value;var E=P.get;return E===void 0?void 0:E.call(_)}},o=(function(){function j(w,N){for(var _=0;_<N.length;_++){var P=N[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),c=a(0),d=h(c),u=a(7),m=h(u);function h(j){return j&&j.__esModule?j:{default:j}}function p(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function x(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function y(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var v=(function(j){y(w,j),o(w,null,[{key:"value",value:function(){}}]);function w(N,_){p(this,w);var P=x(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N));return P.selection=_,P.textNode=document.createTextNode(w.CONTENTS),P.domNode.appendChild(P.textNode),P._length=0,P}return o(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,P){if(this._length!==0)return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,_,P);for(var A=this,E=0;A!=null&&A.statics.scope!==d.default.Scope.BLOCK_BLOT;)E+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=w.CONTENTS.length,A.optimize(),A.formatAt(E,w.CONTENTS.length,_,P),this._length=0)}},{key:"index",value:function(_,P){return _===this.textNode?0:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,_,P)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,P=this.selection.getNativeRange(),A=void 0,E=void 0,C=void 0;if(P!=null&&P.start.node===_&&P.end.node===_){var R=[_,P.start.offset,P.end.offset];A=R[0],E=R[1],C=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var O=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof m.default?(A=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=w.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var k=[E,C].map(function(D){return Math.max(0,Math.min(A.data.length,D-1))}),T=i(k,2);return E=T[0],C=T[1],{startNode:A,startOffset:E,endNode:A,endOffset:C}}}}},{key:"update",value:function(_,P){var A=this;if(_.some(function(C){return C.type==="characterData"&&C.target===A.textNode})){var E=this.restore();E&&(P.range=E)}}},{key:"value",value:function(){return""}}]),w})(d.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",r.default=v}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=d(i),o=a(4),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(){return u(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default.Container);p.allowedChildren=[c.default,o.BlockEmbed,p],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:v(P,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(0),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function m(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function h(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var p=(function(v){h(j,v);function j(){return u(this,j),m(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"value",value:function(N){var _=l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"value",this).call(this,N);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(P){return("00"+parseInt(P).toString(16)).slice(-2)}).join("")):_}}]),j})(c.default.Attributor.Style),x=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),y=new p("color","color",{scope:c.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=x,r.ColorStyle=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var i=(function(){function y(v,j){for(var w=0;w<j.length;w++){var N=j[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,j,w){return j&&y(v.prototype,j),w&&y(v,w),v}})(),l=function y(v,j,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,j);if(N===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,j,w)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(w)}},o=a(6),c=d(o);function d(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){h(v,y);function v(){return u(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"format",value:function(w,N){if(w!==this.statics.blotName||!N)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,N);N=this.constructor.sanitize(N),this.domNode.setAttribute("href",N)}}],[{key:"create",value:function(w){var N=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,w);return w=this.sanitize(w),N.setAttribute("href",w),N.setAttribute("rel","noopener noreferrer"),N.setAttribute("target","_blank"),N}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return x(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),v})(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function x(y,v){var j=document.createElement("a");j.href=y;var w=j.href.slice(0,j.href.indexOf(":"));return v.indexOf(w)>-1}r.default=p,r.sanitize=x}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),o=a(23),c=m(o),d=a(107),u=m(d);function m(v){return v&&v.__esModule?v:{default:v}}function h(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}var p=0;function x(v,j){v.setAttribute(j,v.getAttribute(j)!=="true")}var y=(function(){function v(j){var w=this;h(this,v),this.select=j,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:w.togglePicker();break;case c.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),x(this.label,"aria-expanded"),x(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var N=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),w.hasAttribute("value")&&_.setAttribute("data-value",w.getAttribute("value")),w.textContent&&_.setAttribute("data-label",w.textContent),_.addEventListener("click",function(){N.selectItem(_,!0)}),_.addEventListener("keydown",function(P){switch(P.keyCode){case c.default.keys.ENTER:N.selectItem(_,!0),P.preventDefault();break;case c.default.keys.ESCAPE:N.escape(),P.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=u.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,N=document.createElement("span");N.classList.add("ql-picker-options"),N.setAttribute("aria-hidden","true"),N.tabIndex="-1",N.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",N.id),this.options=N,[].slice.call(this.select.options).forEach(function(_){var P=w.buildItem(_);N.appendChild(P),_.selected===!0&&w.selectItem(P)}),this.container.appendChild(N)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(N){w.container.setAttribute(N.name,N.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(w!==_&&(_!=null&&_.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),N))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var P=document.createEvent("Event");P.initEvent("change",!0,!0),this.select.dispatchEvent(P)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var N=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(N)}else this.selectItem(null);var _=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),v})();r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(0),l=U(i),o=a(5),c=U(o),d=a(4),u=U(d),m=a(16),h=U(m),p=a(25),x=U(p),y=a(24),v=U(y),j=a(35),w=U(j),N=a(6),_=U(N),P=a(22),A=U(P),E=a(7),C=U(E),R=a(55),O=U(R),k=a(42),T=U(k),D=a(23),F=U(D);function U(z){return z&&z.__esModule?z:{default:z}}c.default.register({"blots/block":u.default,"blots/block/embed":d.BlockEmbed,"blots/break":h.default,"blots/container":x.default,"blots/cursor":v.default,"blots/embed":w.default,"blots/inline":_.default,"blots/scroll":A.default,"blots/text":C.default,"modules/clipboard":O.default,"modules/history":T.default,"modules/keyboard":F.default}),l.default.register(u.default,h.default,v.default,_.default,A.default,C.default),r.default=c.default}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(1),l=(function(){function o(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?d=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?d=document.createElement(c):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},o.prototype.deleteAt=function(c,d){var u=this.isolate(c,d);u.remove()},o.prototype.formatAt=function(c,d,u,m){var h=this.isolate(c,d);if(i.query(u,i.Scope.BLOT)!=null&&m)h.wrap(u,m);else if(i.query(u,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);h.wrap(p),p.format(u,m)}},o.prototype.insertAt=function(c,d,u){var m=u==null?i.create("text",d):i.create(d,u),h=this.split(c);this.parent.insertBefore(m,h)},o.prototype.insertInto=function(c,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var u=null;c.children.insertBefore(this,d),d!=null&&(u=d.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=u)&&c.domNode.insertBefore(this.domNode,u),this.parent=c,this.attach()},o.prototype.isolate=function(c,d){var u=this.split(c);return u.split(d),u},o.prototype.length=function(){return 1},o.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},o.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},o.prototype.replaceWith=function(c,d){var u=typeof c=="string"?i.create(c,d):c;return u.replace(this),u},o.prototype.split=function(c,d){return c===0?this:this.next},o.prototype.update=function(c,d){},o.prototype.wrap=function(c,d){var u=typeof c=="string"?i.create(c,d):c;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o})();r.default=l}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(12),l=a(32),o=a(33),c=a(1),d=(function(){function u(m){this.attributes={},this.domNode=m,this.build()}return u.prototype.attribute=function(m,h){h?m.add(this.domNode,h)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},u.prototype.build=function(){var m=this;this.attributes={};var h=i.default.keys(this.domNode),p=l.default.keys(this.domNode),x=o.default.keys(this.domNode);h.concat(p).concat(x).forEach(function(y){var v=c.query(y,c.Scope.ATTRIBUTE);v instanceof i.default&&(m.attributes[v.attrName]=v)})},u.prototype.copy=function(m){var h=this;Object.keys(this.attributes).forEach(function(p){var x=h.attributes[p].value(h.domNode);m.format(p,x)})},u.prototype.move=function(m){var h=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=m.attributes[p].value(m.domNode),h},{})},u})();r.default=d}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])};return function(u,m){d(u,m);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12);function o(d,u){var m=d.getAttribute("class")||"";return m.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var c=(function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(m,h){return this.canAdd(m,h)?(this.remove(m),m.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(m){var h=o(m,this.keyName);h.forEach(function(p){m.classList.remove(p)}),m.classList.length===0&&m.removeAttribute("class")},u.prototype.value=function(m){var h=o(m,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},u})(l.default);r.default=c}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])};return function(u,m){d(u,m);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(12);function o(d){var u=d.split("-"),m=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+m}var c=(function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(m,h){return this.canAdd(m,h)?(m.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(m){m.style[o(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},u.prototype.value=function(m){var h=m.style[o(this.keyName)];return this.canAdd(m,h)?h:""},u})(l.default);r.default=c}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function c(d,u){for(var m=0;m<u.length;m++){var h=u[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,m){return u&&c(d.prototype,u),m&&c(d,m),d}})();function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=(function(){function c(d,u){l(this,c),this.quill=d,this.options=u,this.modules={}}return i(c,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(m){u.modules[m]==null&&u.addModule(m)})}},{key:"addModule",value:function(u){var m=this.quill.constructor.import("modules/"+u);return this.modules[u]=new m(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),c})();o.DEFAULTS={modules:{}},o.themes={default:o},r.default=o}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function j(w,N){for(var _=0;_<N.length;_++){var P=N[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var P=Object.getOwnPropertyDescriptor(w,N);if(P===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in P)return P.value;var E=P.get;return E===void 0?void 0:E.call(_)}},o=a(0),c=m(o),d=a(7),u=m(d);function m(j){return j&&j.__esModule?j:{default:j}}function h(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function p(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function x(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var y="\uFEFF",v=(function(j){x(w,j);function w(N){h(this,w);var _=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(P){_.contentNode.appendChild(P)}),_.leftGuard=document.createTextNode(y),_.rightGuard=document.createTextNode(y),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return i(w,[{key:"index",value:function(_,P){return _===this.leftGuard?0:_===this.rightGuard?1:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,_,P)}},{key:"restore",value:function(_){var P=void 0,A=void 0,E=_.data.split(y).join("");if(_===this.leftGuard)if(this.prev instanceof u.default){var C=this.prev.length();this.prev.insertAt(C,E),P={startNode:this.prev.domNode,startOffset:C+E.length}}else A=document.createTextNode(E),this.parent.insertBefore(c.default.create(A),this),P={startNode:A,startOffset:E.length};else _===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,E),P={startNode:this.next.domNode,startOffset:E.length}):(A=document.createTextNode(E),this.parent.insertBefore(c.default.create(A),this.next),P={startNode:A,startOffset:E.length}));return _.data=y,P}},{key:"update",value:function(_,P){var A=this;_.forEach(function(E){if(E.type==="characterData"&&(E.target===A.leftGuard||E.target===A.rightGuard)){var C=A.restore(E.target);C&&(P.range=C)}})}}]),w})(c.default.Embed);r.default=v}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new l.default.Attributor.Attribute("align","align",c),u=new l.default.Attributor.Class("align","ql-align",c),m=new l.default.Attributor.Style("align","text-align",c);r.AlignAttribute=d,r.AlignClass=u,r.AlignStyle=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var i=a(0),l=c(i),o=a(26);function c(m){return m&&m.__esModule?m:{default:m}}var d=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=d,r.BackgroundStyle=u}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var i=a(0),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},d=new l.default.Attributor.Attribute("direction","dir",c),u=new l.default.Attributor.Class("direction","ql-direction",c),m=new l.default.Attributor.Style("direction","direction",c);r.DirectionAttribute=d,r.DirectionClass=u,r.DirectionStyle=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var i=(function(){function j(w,N){for(var _=0;_<N.length;_++){var P=N[_];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,N,_){return N&&j(w.prototype,N),_&&j(w,_),w}})(),l=function j(w,N,_){w===null&&(w=Function.prototype);var P=Object.getOwnPropertyDescriptor(w,N);if(P===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:j(A,N,_)}else{if("value"in P)return P.value;var E=P.get;return E===void 0?void 0:E.call(_)}},o=a(0),c=d(o);function d(j){return j&&j.__esModule?j:{default:j}}function u(j,w){if(!(j instanceof w))throw new TypeError("Cannot call a class as a function")}function m(j,w){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:j}function h(j,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);j.prototype=Object.create(w&&w.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(j,w):j.__proto__=w)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},x=new c.default.Attributor.Class("font","ql-font",p),y=(function(j){h(w,j);function w(){return u(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"value",value:function(_){return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),w})(c.default.Attributor.Style),v=new y("font","font-family",p);r.FontStyle=v,r.FontClass=x}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var i=a(0),l=o(i);function o(u){return u&&u.__esModule?u:{default:u}}var c=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=c,r.SizeStyle=d}),(function(n,r,a){n.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var i=(function(){function N(_,P){for(var A=0;A<P.length;A++){var E=P[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,P,A){return P&&N(_.prototype,P),A&&N(_,A),_}})(),l=a(0),o=h(l),c=a(5),d=h(c),u=a(9),m=h(u);function h(N){return N&&N.__esModule?N:{default:N}}function p(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function x(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function y(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var v=(function(N){y(_,N);function _(P,A){p(this,_);var E=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,P,A));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(d.default.events.EDITOR_CHANGE,function(C,R,O,k){C!==d.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||k===d.default.sources.USER?E.record(R,O):E.transform(R))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return i(_,[{key:"change",value:function(A,E){if(this.stack[A].length!==0){var C=this.stack[A].pop();this.stack[E].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[A],d.default.sources.USER),this.ignoreChange=!1;var R=w(C[A]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,E){if(A.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(E),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var O=this.stack.undo.pop();C=C.compose(O.undo),A=O.redo.compose(A)}else this.lastRecorded=R;this.stack.undo.push({redo:A,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(E){E.undo=A.transform(E.undo,!0),E.redo=A.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=A.transform(E.undo,!0),E.redo=A.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_})(m.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function j(N){var _=N.ops[N.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(P){return o.default.query(P,o.default.Scope.BLOCK)!=null}):!1}function w(N){var _=N.reduce(function(A,E){return A+=E.delete||0,A},0),P=N.length()-_;return j(N)&&(P-=1),P}r.default=v,r.getLastChangeIndex=w}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var i=(function(){function V(q,J){for(var Q=0;Q<J.length;Q++){var Y=J[Q];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(q,Y.key,Y)}}return function(q,J,Q){return J&&V(q.prototype,J),Q&&V(q,Q),q}})(),l=function V(q,J,Q){q===null&&(q=Function.prototype);var Y=Object.getOwnPropertyDescriptor(q,J);if(Y===void 0){var K=Object.getPrototypeOf(q);return K===null?void 0:V(K,J,Q)}else{if("value"in Y)return Y.value;var ae=Y.get;return ae===void 0?void 0:ae.call(Q)}},o=a(3),c=R(o),d=a(2),u=R(d),m=a(8),h=R(m),p=a(23),x=R(p),y=a(34),v=R(y),j=a(59),w=R(j),N=a(60),_=R(N),P=a(28),A=R(P),E=a(61),C=R(E);function R(V){return V&&V.__esModule?V:{default:V}}function O(V,q){if(!(V instanceof q))throw new TypeError("Cannot call a class as a function")}function k(V,q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:V}function T(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);V.prototype=Object.create(q&&q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,q):V.__proto__=q)}var D=[!1,"center","right","justify"],F=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],z=["1","2","3",!1],H=["small",!1,"large","huge"],B=(function(V){T(q,V);function q(J,Q){O(this,q);var Y=k(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Q)),K=function ae(se){if(!document.body.contains(J.root))return document.body.removeEventListener("click",ae);Y.tooltip!=null&&!Y.tooltip.root.contains(se.target)&&document.activeElement!==Y.tooltip.textbox&&!Y.quill.hasFocus()&&Y.tooltip.hide(),Y.pickers!=null&&Y.pickers.forEach(function(de){de.container.contains(se.target)||de.close()})};return J.emitter.listenDOM("click",document.body,K),Y}return i(q,[{key:"addModule",value:function(Q){var Y=l(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(Y),Y}},{key:"buildButtons",value:function(Q,Y){Q.forEach(function(K){var ae=K.getAttribute("class")||"";ae.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),Y[se]!=null))if(se==="direction")K.innerHTML=Y[se][""]+Y[se].rtl;else if(typeof Y[se]=="string")K.innerHTML=Y[se];else{var de=K.value||"";de!=null&&Y[se][de]&&(K.innerHTML=Y[se][de])}})})}},{key:"buildPickers",value:function(Q,Y){var K=this;this.pickers=Q.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&L(se,D),new _.default(se,Y.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var de=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&L(se,F,de==="background"?"#ffffff":"#000000"),new w.default(se,Y[de])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?L(se,U):se.classList.contains("ql-header")?L(se,z):se.classList.contains("ql-size")&&L(se,H)),new A.default(se)});var ae=function(){K.pickers.forEach(function(de){de.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,ae)}}]),q})(v.default);B.DEFAULTS=(0,c.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var Q=new FileReader;Q.onload=function(Y){var K=q.quill.getSelection(!0);q.quill.updateContents(new u.default().retain(K.index).delete(K.length).insert({image:Y.target.result}),h.default.sources.USER),q.quill.setSelection(K.index+1,h.default.sources.SILENT),J.value=""},Q.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=(function(V){T(q,V);function q(J,Q){O(this,q);var Y=k(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,Q));return Y.textbox=Y.root.querySelector('input[type="text"]'),Y.listen(),Y}return i(q,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(Y){x.default.match(Y,"enter")?(Q.save(),Y.preventDefault()):x.default.match(Y,"escape")&&(Q.cancel(),Y.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Y!=null?this.textbox.value=Y:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Y=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=Y;break}case"video":Q=I(Q);case"formula":{if(!Q)break;var K=this.quill.getSelection(!0);if(K!=null){var ae=K.index+K.length;this.quill.insertEmbed(ae,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ae+1," ",h.default.sources.USER),this.quill.setSelection(ae+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q})(C.default);function I(V){var q=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":V}function L(V,q){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(Q){var Y=document.createElement("option");Q===J?Y.setAttribute("selected","selected"):Y.setAttribute("value",Q),V.appendChild(Y)})}r.BaseTooltip=$,r.default=B}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},l.prototype.contains=function(o){for(var c,d=this.iterator();c=d();)if(c===o)return!0;return!1},l.prototype.insertBefore=function(o,c){o&&(o.next=c,c!=null?(o.prev=c.prev,c.prev!=null&&(c.prev.next=o),c.prev=o,c===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},l.prototype.offset=function(o){for(var c=0,d=this.head;d!=null;){if(d===o)return c;c+=d.length(),d=d.next}return-1},l.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},l.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var c=o;return o!=null&&(o=o.next),c}},l.prototype.find=function(o,c){c===void 0&&(c=!1);for(var d,u=this.iterator();d=u();){var m=d.length();if(o<m||c&&o===m&&(d.next==null||d.next.length()!==0))return[d,o];o-=m}return[null,0]},l.prototype.forEach=function(o){for(var c,d=this.iterator();c=d();)o(c)},l.prototype.forEachAt=function(o,c,d){if(!(c<=0))for(var u=this.find(o),m=u[0],h=u[1],p,x=o-h,y=this.iterator(m);(p=y())&&x<o+c;){var v=p.length();o>x?d(p,o-x,Math.min(c,x+v-o)):d(p,0,Math.min(v,o+c-x)),x+=v}},l.prototype.map=function(o){return this.reduce(function(c,d){return c.push(o(d)),c},[])},l.prototype.reduce=function(o,c){for(var d,u=this.iterator();d=u();)c=o(c,d);return c},l})();r.default=i}),(function(n,r,a){var i=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var x in p)p.hasOwnProperty(x)&&(h[x]=p[x])};return function(h,p){m(h,p);function x(){this.constructor=h}h.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(17),o=a(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,u=(function(m){i(h,m);function h(p){var x=m.call(this,p)||this;return x.scroll=x,x.observer=new MutationObserver(function(y){x.update(y)}),x.observer.observe(x.domNode,c),x.attach(),x}return h.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,x){this.update(),p===0&&x===this.length()?this.children.forEach(function(y){y.remove()}):m.prototype.deleteAt.call(this,p,x)},h.prototype.formatAt=function(p,x,y,v){this.update(),m.prototype.formatAt.call(this,p,x,y,v)},h.prototype.insertAt=function(p,x,y){this.update(),m.prototype.insertAt.call(this,p,x,y)},h.prototype.optimize=function(p,x){var y=this;p===void 0&&(p=[]),x===void 0&&(x={}),m.prototype.optimize.call(this,x);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)p.push(v.pop());for(var j=function(P,A){A===void 0&&(A=!0),!(P==null||P===y)&&P.domNode.parentNode!=null&&(P.domNode[o.DATA_KEY].mutations==null&&(P.domNode[o.DATA_KEY].mutations=[]),A&&j(P.parent))},w=function(P){P.domNode[o.DATA_KEY]==null||P.domNode[o.DATA_KEY].mutations==null||(P instanceof l.default&&P.children.forEach(w),P.optimize(x))},N=p,_=0;N.length>0;_+=1){if(_>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(N.forEach(function(P){var A=o.find(P.target,!0);A!=null&&(A.domNode===P.target&&(P.type==="childList"?(j(o.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(E){var C=o.find(E,!1);j(C,!1),C instanceof l.default&&C.children.forEach(function(R){j(R,!1)})})):P.type==="attributes"&&j(A.prev)),j(A))}),this.children.forEach(w),N=[].slice.call(this.observer.takeRecords()),v=N.slice();v.length>0;)p.push(v.pop())}},h.prototype.update=function(p,x){var y=this;x===void 0&&(x={}),p=p||this.observer.takeRecords(),p.map(function(v){var j=o.find(v.target,!0);return j==null?null:j.domNode[o.DATA_KEY].mutations==null?(j.domNode[o.DATA_KEY].mutations=[v],j):(j.domNode[o.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===y||v.domNode[o.DATA_KEY]==null||v.update(v.domNode[o.DATA_KEY].mutations||[],x)}),this.domNode[o.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,x),this.optimize(p,x)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h})(l.default);r.default=u}),(function(n,r,a){var i=this&&this.__extends||(function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var p in h)h.hasOwnProperty(p)&&(m[p]=h[p])};return function(m,h){u(m,h);function p(){this.constructor=m}m.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(18),o=a(1);function c(u,m){if(Object.keys(u).length!==Object.keys(m).length)return!1;for(var h in u)if(u[h]!==m[h])return!1;return!0}var d=(function(u){i(m,u);function m(){return u!==null&&u.apply(this,arguments)||this}return m.formats=function(h){if(h.tagName!==m.tagName)return u.formats.call(this,h)},m.prototype.format=function(h,p){var x=this;h===this.statics.blotName&&!p?(this.children.forEach(function(y){y instanceof l.default||(y=y.wrap(m.blotName,!0)),x.attributes.copy(y)}),this.unwrap()):u.prototype.format.call(this,h,p)},m.prototype.formatAt=function(h,p,x,y){if(this.formats()[x]!=null||o.query(x,o.Scope.ATTRIBUTE)){var v=this.isolate(h,p);v.format(x,y)}else u.prototype.formatAt.call(this,h,p,x,y)},m.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var x=this.next;x instanceof m&&x.prev===this&&c(p,x.formats())&&(x.moveChildren(this),x.remove())},m.blotName="inline",m.scope=o.Scope.INLINE_BLOT,m.tagName="SPAN",m})(l.default);r.default=d}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])};return function(u,m){d(u,m);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(18),o=a(1),c=(function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.formats=function(m){var h=o.query(u.blotName).tagName;if(m.tagName!==h)return d.formats.call(this,m)},u.prototype.format=function(m,h){o.query(m,o.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!h?this.replaceWith(u.blotName):d.prototype.format.call(this,m,h))},u.prototype.formatAt=function(m,h,p,x){o.query(p,o.Scope.BLOCK)!=null?this.format(p,x):d.prototype.formatAt.call(this,m,h,p,x)},u.prototype.insertAt=function(m,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)d.prototype.insertAt.call(this,m,h,p);else{var x=this.split(m),y=o.create(h,p);x.parent.insertBefore(y,x)}},u.prototype.update=function(m,h){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,m,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u})(l.default);r.default=c}),(function(n,r,a){var i=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var m in u)u.hasOwnProperty(m)&&(d[m]=u[m])};return function(d,u){c(d,u);function m(){this.constructor=d}d.prototype=u===null?Object.create(u):(m.prototype=u.prototype,new m)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(19),o=(function(c){i(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(u){},d.prototype.format=function(u,m){c.prototype.formatAt.call(this,0,this.length(),u,m)},d.prototype.formatAt=function(u,m,h,p){u===0&&m===this.length()?this.format(h,p):c.prototype.formatAt.call(this,u,m,h,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d})(l.default);r.default=o}),(function(n,r,a){var i=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var h in m)m.hasOwnProperty(h)&&(u[h]=m[h])};return function(u,m){d(u,m);function h(){this.constructor=u}u.prototype=m===null?Object.create(m):(h.prototype=m.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=a(19),o=a(1),c=(function(d){i(u,d);function u(m){var h=d.call(this,m)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(m){return document.createTextNode(m)},u.value=function(m){var h=m.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(m,h){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+h)},u.prototype.index=function(m,h){return this.domNode===m?h:-1},u.prototype.insertAt=function(m,h,p){p==null?(this.text=this.text.slice(0,m)+h+this.text.slice(m),this.domNode.data=this.text):d.prototype.insertAt.call(this,m,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(m){d.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(m,h){return[this.domNode,m]},u.prototype.split=function(m,h){if(h===void 0&&(h=!1),!h){if(m===0)return this;if(m===this.length())return this.next}var p=o.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(m,h){var p=this;m.some(function(x){return x.type==="characterData"&&x.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u})(l.default);r.default=c}),(function(n,r,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,c){return arguments.length>1&&!this.contains(o)==!c?c:l.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,c){return c=c||0,this.substr(c,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,c){var d=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>d.length)&&(c=d.length),c-=o.length;var u=d.indexOf(o,c);return u!==-1&&u===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),u=d.length>>>0,m=arguments[1],h,p=0;p<u;p++)if(h=d[p],c.call(m,h,p,d))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var a=-1,i=1,l=0;function o(_,P,A){if(_==P)return _?[[l,_]]:[];(A<0||_.length<A)&&(A=null);var E=m(_,P),C=_.substring(0,E);_=_.substring(E),P=P.substring(E),E=h(_,P);var R=_.substring(_.length-E);_=_.substring(0,_.length-E),P=P.substring(0,P.length-E);var O=c(_,P);return C&&O.unshift([l,C]),R&&O.push([l,R]),x(O),A!=null&&(O=j(O,A)),O=w(O),O}function c(_,P){var A;if(!_)return[[i,P]];if(!P)return[[a,_]];var E=_.length>P.length?_:P,C=_.length>P.length?P:_,R=E.indexOf(C);if(R!=-1)return A=[[i,E.substring(0,R)],[l,C],[i,E.substring(R+C.length)]],_.length>P.length&&(A[0][0]=A[2][0]=a),A;if(C.length==1)return[[a,_],[i,P]];var O=p(_,P);if(O){var k=O[0],T=O[1],D=O[2],F=O[3],U=O[4],z=o(k,D),H=o(T,F);return z.concat([[l,U]],H)}return d(_,P)}function d(_,P){for(var A=_.length,E=P.length,C=Math.ceil((A+E)/2),R=C,O=2*C,k=new Array(O),T=new Array(O),D=0;D<O;D++)k[D]=-1,T[D]=-1;k[R+1]=0,T[R+1]=0;for(var F=A-E,U=F%2!=0,z=0,H=0,B=0,$=0,I=0;I<C;I++){for(var L=-I+z;L<=I-H;L+=2){var V=R+L,q;L==-I||L!=I&&k[V-1]<k[V+1]?q=k[V+1]:q=k[V-1]+1;for(var J=q-L;q<A&&J<E&&_.charAt(q)==P.charAt(J);)q++,J++;if(k[V]=q,q>A)H+=2;else if(J>E)z+=2;else if(U){var Q=R+F-L;if(Q>=0&&Q<O&&T[Q]!=-1){var Y=A-T[Q];if(q>=Y)return u(_,P,q,J)}}}for(var K=-I+B;K<=I-$;K+=2){var Q=R+K,Y;K==-I||K!=I&&T[Q-1]<T[Q+1]?Y=T[Q+1]:Y=T[Q-1]+1;for(var ae=Y-K;Y<A&&ae<E&&_.charAt(A-Y-1)==P.charAt(E-ae-1);)Y++,ae++;if(T[Q]=Y,Y>A)$+=2;else if(ae>E)B+=2;else if(!U){var V=R+F-K;if(V>=0&&V<O&&k[V]!=-1){var q=k[V],J=R+q-V;if(Y=A-Y,q>=Y)return u(_,P,q,J)}}}}return[[a,_],[i,P]]}function u(_,P,A,E){var C=_.substring(0,A),R=P.substring(0,E),O=_.substring(A),k=P.substring(E),T=o(C,R),D=o(O,k);return T.concat(D)}function m(_,P){if(!_||!P||_.charAt(0)!=P.charAt(0))return 0;for(var A=0,E=Math.min(_.length,P.length),C=E,R=0;A<C;)_.substring(R,C)==P.substring(R,C)?(A=C,R=A):E=C,C=Math.floor((E-A)/2+A);return C}function h(_,P){if(!_||!P||_.charAt(_.length-1)!=P.charAt(P.length-1))return 0;for(var A=0,E=Math.min(_.length,P.length),C=E,R=0;A<C;)_.substring(_.length-C,_.length-R)==P.substring(P.length-C,P.length-R)?(A=C,R=A):E=C,C=Math.floor((E-A)/2+A);return C}function p(_,P){var A=_.length>P.length?_:P,E=_.length>P.length?P:_;if(A.length<4||E.length*2<A.length)return null;function C(H,B,$){for(var I=H.substring($,$+Math.floor(H.length/4)),L=-1,V="",q,J,Q,Y;(L=B.indexOf(I,L+1))!=-1;){var K=m(H.substring($),B.substring(L)),ae=h(H.substring(0,$),B.substring(0,L));V.length<ae+K&&(V=B.substring(L-ae,L)+B.substring(L,L+K),q=H.substring(0,$-ae),J=H.substring($+K),Q=B.substring(0,L-ae),Y=B.substring(L+K))}return V.length*2>=H.length?[q,J,Q,Y,V]:null}var R=C(A,E,Math.ceil(A.length/4)),O=C(A,E,Math.ceil(A.length/2)),k;if(!R&&!O)return null;O?R?k=R[4].length>O[4].length?R:O:k=O:k=R;var T,D,F,U;_.length>P.length?(T=k[0],D=k[1],F=k[2],U=k[3]):(F=k[0],U=k[1],T=k[2],D=k[3]);var z=k[4];return[T,D,F,U,z]}function x(_){_.push([l,""]);for(var P=0,A=0,E=0,C="",R="",O;P<_.length;)switch(_[P][0]){case i:E++,R+=_[P][1],P++;break;case a:A++,C+=_[P][1],P++;break;case l:A+E>1?(A!==0&&E!==0&&(O=m(R,C),O!==0&&(P-A-E>0&&_[P-A-E-1][0]==l?_[P-A-E-1][1]+=R.substring(0,O):(_.splice(0,0,[l,R.substring(0,O)]),P++),R=R.substring(O),C=C.substring(O)),O=h(R,C),O!==0&&(_[P][1]=R.substring(R.length-O)+_[P][1],R=R.substring(0,R.length-O),C=C.substring(0,C.length-O))),A===0?_.splice(P-E,A+E,[i,R]):E===0?_.splice(P-A,A+E,[a,C]):_.splice(P-A-E,A+E,[a,C],[i,R]),P=P-A-E+(A?1:0)+(E?1:0)+1):P!==0&&_[P-1][0]==l?(_[P-1][1]+=_[P][1],_.splice(P,1)):P++,E=0,A=0,C="",R="";break}_[_.length-1][1]===""&&_.pop();var k=!1;for(P=1;P<_.length-1;)_[P-1][0]==l&&_[P+1][0]==l&&(_[P][1].substring(_[P][1].length-_[P-1][1].length)==_[P-1][1]?(_[P][1]=_[P-1][1]+_[P][1].substring(0,_[P][1].length-_[P-1][1].length),_[P+1][1]=_[P-1][1]+_[P+1][1],_.splice(P-1,1),k=!0):_[P][1].substring(0,_[P+1][1].length)==_[P+1][1]&&(_[P-1][1]+=_[P+1][1],_[P][1]=_[P][1].substring(_[P+1][1].length)+_[P+1][1],_.splice(P+1,1),k=!0)),P++;k&&x(_)}var y=o;y.INSERT=i,y.DELETE=a,y.EQUAL=l,n.exports=y;function v(_,P){if(P===0)return[l,_];for(var A=0,E=0;E<_.length;E++){var C=_[E];if(C[0]===a||C[0]===l){var R=A+C[1].length;if(P===R)return[E+1,_];if(P<R){_=_.slice();var O=P-A,k=[C[0],C[1].slice(0,O)],T=[C[0],C[1].slice(O)];return _.splice(E,1,k,T),[E+1,_]}else A=R}}throw new Error("cursor_pos is out of bounds!")}function j(_,P){var A=v(_,P),E=A[1],C=A[0],R=E[C],O=E[C+1];if(R==null)return _;if(R[0]!==l)return _;if(O!=null&&R[1]+O[1]===O[1]+R[1])return E.splice(C,2,O,R),N(E,C,2);if(O!=null&&O[1].indexOf(R[1])===0){E.splice(C,2,[O[0],R[1]],[0,R[1]]);var k=O[1].slice(R[1].length);return k.length>0&&E.splice(C+2,0,[O[0],k]),N(E,C,3)}else return _}function w(_){for(var P=!1,A=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},E=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},C=2;C<_.length;C+=1)_[C-2][0]===l&&E(_[C-2][1])&&_[C-1][0]===a&&A(_[C-1][1])&&_[C][0]===i&&A(_[C][1])&&(P=!0,_[C-1][1]=_[C-2][1].slice(-1)+_[C-1][1],_[C][1]=_[C-2][1].slice(-1)+_[C][1],_[C-2][1]=_[C-2][1].slice(0,-1));if(!P)return _;for(var R=[],C=0;C<_.length;C+=1)_[C][1].length>0&&R.push(_[C]);return R}function N(_,P,A){for(var E=P+A-1;E>=0&&E>=P-1;E--)if(E+1<_.length){var C=_[E],R=_[E+1];C[0]===R[1]&&_.splice(E,2,[C[0],C[1]+R[1]])}return _}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:a,r.shim=a;function a(i){var l=[];for(var o in i)l.push(o);return l}}),(function(n,r){var a=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=a?i:l,r.supported=i;function i(o){return Object.prototype.toString.call(o)=="[object Arguments]"}r.unsupported=l;function l(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}}),(function(n,r){var a=Object.prototype.hasOwnProperty,i="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(i=!1));function o(d,u,m){this.fn=d,this.context=u,this.once=m||!1}function c(){this._events=new l,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],m,h;if(this._eventsCount===0)return u;for(h in m=this._events)a.call(m,h)&&u.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},c.prototype.listeners=function(u,m){var h=i?i+u:u,p=this._events[h];if(m)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var x=0,y=p.length,v=new Array(y);x<y;x++)v[x]=p[x].fn;return v},c.prototype.emit=function(u,m,h,p,x,y){var v=i?i+u:u;if(!this._events[v])return!1;var j=this._events[v],w=arguments.length,N,_;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),w){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,h),!0;case 4:return j.fn.call(j.context,m,h,p),!0;case 5:return j.fn.call(j.context,m,h,p,x),!0;case 6:return j.fn.call(j.context,m,h,p,x,y),!0}for(_=1,N=new Array(w-1);_<w;_++)N[_-1]=arguments[_];j.fn.apply(j.context,N)}else{var P=j.length,A;for(_=0;_<P;_++)switch(j[_].once&&this.removeListener(u,j[_].fn,void 0,!0),w){case 1:j[_].fn.call(j[_].context);break;case 2:j[_].fn.call(j[_].context,m);break;case 3:j[_].fn.call(j[_].context,m,h);break;case 4:j[_].fn.call(j[_].context,m,h,p);break;default:if(!N)for(A=1,N=new Array(w-1);A<w;A++)N[A-1]=arguments[A];j[_].fn.apply(j[_].context,N)}}return!0},c.prototype.on=function(u,m,h){var p=new o(m,h||this),x=i?i+u:u;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},c.prototype.once=function(u,m,h){var p=new o(m,h||this,!0),x=i?i+u:u;return this._events[x]?this._events[x].fn?this._events[x]=[this._events[x],p]:this._events[x].push(p):(this._events[x]=p,this._eventsCount++),this},c.prototype.removeListener=function(u,m,h,p){var x=i?i+u:u;if(!this._events[x])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[x],this;var y=this._events[x];if(y.fn)y.fn===m&&(!p||y.once)&&(!h||y.context===h)&&(--this._eventsCount===0?this._events=new l:delete this._events[x]);else{for(var v=0,j=[],w=y.length;v<w;v++)(y[v].fn!==m||p&&!y[v].once||h&&y[v].context!==h)&&j.push(y[v]);j.length?this._events[x]=j.length===1?j[0]:j:--this._eventsCount===0?this._events=new l:delete this._events[x]}return this},c.prototype.removeAllListeners=function(u){var m;return u?(m=i?i+u:u,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof n<"u"&&(n.exports=c)}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee},l=(function(){function Ee(Se,Ye){var Qe=[],Me=!0,lt=!1,Ce=void 0;try{for(var it=Se[Symbol.iterator](),_e;!(Me=(_e=it.next()).done)&&(Qe.push(_e.value),!(Ye&&Qe.length===Ye));Me=!0);}catch(Ue){lt=!0,Ce=Ue}finally{try{!Me&&it.return&&it.return()}finally{if(lt)throw Ce}}return Qe}return function(Se,Ye){if(Array.isArray(Se))return Se;if(Symbol.iterator in Object(Se))return Ee(Se,Ye);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function Ee(Se,Ye){for(var Qe=0;Qe<Ye.length;Qe++){var Me=Ye[Qe];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Se,Me.key,Me)}}return function(Se,Ye,Qe){return Ye&&Ee(Se.prototype,Ye),Qe&&Ee(Se,Qe),Se}})(),c=a(3),d=T(c),u=a(2),m=T(u),h=a(0),p=T(h),x=a(5),y=T(x),v=a(10),j=T(v),w=a(9),N=T(w),_=a(36),P=a(37),A=a(13),E=T(A),C=a(26),R=a(38),O=a(39),k=a(40);function T(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}function D(Ee,Se,Ye){return Se in Ee?Object.defineProperty(Ee,Se,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):Ee[Se]=Ye,Ee}function F(Ee,Se){if(!(Ee instanceof Se))throw new TypeError("Cannot call a class as a function")}function U(Ee,Se){if(!Ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Se&&(typeof Se=="object"||typeof Se=="function")?Se:Ee}function z(Ee,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Se);Ee.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Ee,enumerable:!1,writable:!0,configurable:!0}}),Se&&(Object.setPrototypeOf?Object.setPrototypeOf(Ee,Se):Ee.__proto__=Se)}var H=(0,j.default)("quill:clipboard"),B="__ql-matcher",$=[[Node.TEXT_NODE,$e],[Node.TEXT_NODE,je],["br",ue],[Node.ELEMENT_NODE,je],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,qe],["li",pe],["b",ae.bind(ae,"bold")],["i",ae.bind(ae,"italic")],["style",oe]],I=[_.AlignAttribute,R.DirectionAttribute].reduce(function(Ee,Se){return Ee[Se.keyName]=Se,Ee},{}),L=[_.AlignStyle,P.BackgroundStyle,C.ColorStyle,R.DirectionStyle,O.FontStyle,k.SizeStyle].reduce(function(Ee,Se){return Ee[Se.keyName]=Se,Ee},{}),V=(function(Ee){z(Se,Ee);function Se(Ye,Qe){F(this,Se);var Me=U(this,(Se.__proto__||Object.getPrototypeOf(Se)).call(this,Ye,Qe));return Me.quill.root.addEventListener("paste",Me.onPaste.bind(Me)),Me.container=Me.quill.addContainer("ql-clipboard"),Me.container.setAttribute("contenteditable",!0),Me.container.setAttribute("tabindex",-1),Me.matchers=[],$.concat(Me.options.matchers).forEach(function(lt){var Ce=l(lt,2),it=Ce[0],_e=Ce[1];!Qe.matchVisual&&_e===Ne||Me.addMatcher(it,_e)}),Me}return o(Se,[{key:"addMatcher",value:function(Qe,Me){this.matchers.push([Qe,Me])}},{key:"convert",value:function(Qe){if(typeof Qe=="string")return this.container.innerHTML=Qe.replace(/\>\r?\n +\</g,"><"),this.convert();var Me=this.quill.getFormat(this.quill.selection.savedRange.index);if(Me[E.default.blotName]){var lt=this.container.innerText;return this.container.innerHTML="",new m.default().insert(lt,D({},E.default.blotName,Me[E.default.blotName]))}var Ce=this.prepareMatching(),it=l(Ce,2),_e=it[0],Ue=it[1],rt=K(this.container,_e,Ue);return Q(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new m.default().retain(rt.length()-1).delete(1))),H.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Qe,Me){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof Qe=="string")this.quill.setContents(this.convert(Qe),Me),this.quill.setSelection(0,y.default.sources.SILENT);else{var Ce=this.convert(Me);this.quill.updateContents(new m.default().retain(Qe).concat(Ce),lt),this.quill.setSelection(Qe+Ce.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(Qe){var Me=this;if(!(Qe.defaultPrevented||!this.quill.isEnabled())){var lt=this.quill.getSelection(),Ce=new m.default().retain(lt.index),it=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){Ce=Ce.concat(Me.convert()).delete(lt.length),Me.quill.updateContents(Ce,y.default.sources.USER),Me.quill.setSelection(Ce.length()-lt.length,y.default.sources.SILENT),Me.quill.scrollingContainer.scrollTop=it,Me.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Qe=this,Me=[],lt=[];return this.matchers.forEach(function(Ce){var it=l(Ce,2),_e=it[0],Ue=it[1];switch(_e){case Node.TEXT_NODE:lt.push(Ue);break;case Node.ELEMENT_NODE:Me.push(Ue);break;default:[].forEach.call(Qe.container.querySelectorAll(_e),function(rt){rt[B]=rt[B]||[],rt[B].push(Ue)});break}}),[Me,lt]}}]),Se})(N.default);V.DEFAULTS={matchers:[],matchVisual:!0};function q(Ee,Se,Ye){return(typeof Se>"u"?"undefined":i(Se))==="object"?Object.keys(Se).reduce(function(Qe,Me){return q(Qe,Me,Se[Me])},Ee):Ee.reduce(function(Qe,Me){return Me.attributes&&Me.attributes[Se]?Qe.push(Me):Qe.insert(Me.insert,(0,d.default)({},D({},Se,Ye),Me.attributes))},new m.default)}function J(Ee){if(Ee.nodeType!==Node.ELEMENT_NODE)return{};var Se="__ql-computed-style";return Ee[Se]||(Ee[Se]=window.getComputedStyle(Ee))}function Q(Ee,Se){for(var Ye="",Qe=Ee.ops.length-1;Qe>=0&&Ye.length<Se.length;--Qe){var Me=Ee.ops[Qe];if(typeof Me.insert!="string")break;Ye=Me.insert+Ye}return Ye.slice(-1*Se.length)===Se}function Y(Ee){if(Ee.childNodes.length===0)return!1;var Se=J(Ee);return["block","list-item"].indexOf(Se.display)>-1}function K(Ee,Se,Ye){return Ee.nodeType===Ee.TEXT_NODE?Ye.reduce(function(Qe,Me){return Me(Ee,Qe)},new m.default):Ee.nodeType===Ee.ELEMENT_NODE?[].reduce.call(Ee.childNodes||[],function(Qe,Me){var lt=K(Me,Se,Ye);return Me.nodeType===Ee.ELEMENT_NODE&&(lt=Se.reduce(function(Ce,it){return it(Me,Ce)},lt),lt=(Me[B]||[]).reduce(function(Ce,it){return it(Me,Ce)},lt)),Qe.concat(lt)},new m.default):new m.default}function ae(Ee,Se,Ye){return q(Ye,Ee,!0)}function se(Ee,Se){var Ye=p.default.Attributor.Attribute.keys(Ee),Qe=p.default.Attributor.Class.keys(Ee),Me=p.default.Attributor.Style.keys(Ee),lt={};return Ye.concat(Qe).concat(Me).forEach(function(Ce){var it=p.default.query(Ce,p.default.Scope.ATTRIBUTE);it!=null&&(lt[it.attrName]=it.value(Ee),lt[it.attrName])||(it=I[Ce],it!=null&&(it.attrName===Ce||it.keyName===Ce)&&(lt[it.attrName]=it.value(Ee)||void 0),it=L[Ce],it!=null&&(it.attrName===Ce||it.keyName===Ce)&&(it=L[Ce],lt[it.attrName]=it.value(Ee)||void 0))}),Object.keys(lt).length>0&&(Se=q(Se,lt)),Se}function de(Ee,Se){var Ye=p.default.query(Ee);if(Ye==null)return Se;if(Ye.prototype instanceof p.default.Embed){var Qe={},Me=Ye.value(Ee);Me!=null&&(Qe[Ye.blotName]=Me,Se=new m.default().insert(Qe,Ye.formats(Ee)))}else typeof Ye.formats=="function"&&(Se=q(Se,Ye.blotName,Ye.formats(Ee)));return Se}function ue(Ee,Se){return Q(Se,`
`)||Se.insert(`
`),Se}function oe(){return new m.default}function pe(Ee,Se){var Ye=p.default.query(Ee);if(Ye==null||Ye.blotName!=="list-item"||!Q(Se,`
`))return Se;for(var Qe=-1,Me=Ee.parentNode;!Me.classList.contains("ql-clipboard");)(p.default.query(Me)||{}).blotName==="list"&&(Qe+=1),Me=Me.parentNode;return Qe<=0?Se:Se.compose(new m.default().retain(Se.length()-1).retain(1,{indent:Qe}))}function je(Ee,Se){return Q(Se,`
`)||(Y(Ee)||Se.length()>0&&Ee.nextSibling&&Y(Ee.nextSibling))&&Se.insert(`
`),Se}function Ne(Ee,Se){if(Y(Ee)&&Ee.nextElementSibling!=null&&!Q(Se,`

`)){var Ye=Ee.offsetHeight+parseFloat(J(Ee).marginTop)+parseFloat(J(Ee).marginBottom);Ee.nextElementSibling.offsetTop>Ee.offsetTop+Ye*1.5&&Se.insert(`
`)}return Se}function qe(Ee,Se){var Ye={},Qe=Ee.style||{};return Qe.fontStyle&&J(Ee).fontStyle==="italic"&&(Ye.italic=!0),Qe.fontWeight&&(J(Ee).fontWeight.startsWith("bold")||parseInt(J(Ee).fontWeight)>=700)&&(Ye.bold=!0),Object.keys(Ye).length>0&&(Se=q(Se,Ye)),parseFloat(Qe.textIndent||0)>0&&(Se=new m.default().insert("	").concat(Se)),Se}function $e(Ee,Se){var Ye=Ee.data;if(Ee.parentNode.tagName==="O:P")return Se.insert(Ye.trim());if(Ye.trim().length===0&&Ee.parentNode.classList.contains("ql-clipboard"))return Se;if(!J(Ee.parentNode).whiteSpace.startsWith("pre")){var Qe=function(lt,Ce){return Ce=Ce.replace(/[^\u00a0]/g,""),Ce.length<1&&lt?" ":Ce};Ye=Ye.replace(/\r\n/g," ").replace(/\n/g," "),Ye=Ye.replace(/\s\s+/g,Qe.bind(Qe,!0)),(Ee.previousSibling==null&&Y(Ee.parentNode)||Ee.previousSibling!=null&&Y(Ee.previousSibling))&&(Ye=Ye.replace(/^\s+/,Qe.bind(Qe,!1))),(Ee.nextSibling==null&&Y(Ee.parentNode)||Ee.nextSibling!=null&&Y(Ee.nextSibling))&&(Ye=Ye.replace(/\s+$/,Qe.bind(Qe,!1)))}return Se.insert(Ye)}r.default=V,r.matchAttributor=se,r.matchBlot=de,r.matchNewline=je,r.matchSpacing=Ne,r.matchText=$e}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function x(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&x(y.prototype,v),j&&x(y,j),y}})(),l=function x(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:x(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(6),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(){return u(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"optimize",value:function(j){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,j),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y})(c.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var i=(function(){function k(T,D){var F=[],U=!0,z=!1,H=void 0;try{for(var B=T[Symbol.iterator](),$;!(U=($=B.next()).done)&&(F.push($.value),!(D&&F.length===D));U=!0);}catch(I){z=!0,H=I}finally{try{!U&&B.return&&B.return()}finally{if(z)throw H}}return F}return function(T,D){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return k(T,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function k(T,D){for(var F=0;F<D.length;F++){var U=D[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,D,F){return D&&k(T.prototype,D),F&&k(T,F),T}})(),o=a(2),c=j(o),d=a(0),u=j(d),m=a(5),h=j(m),p=a(10),x=j(p),y=a(9),v=j(y);function j(k){return k&&k.__esModule?k:{default:k}}function w(k,T,D){return T in k?Object.defineProperty(k,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[T]=D,k}function N(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function _(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function P(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var A=(0,x.default)("quill:toolbar"),E=(function(k){P(T,k);function T(D,F){N(this,T);var U=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,D,F));if(Array.isArray(U.options.container)){var z=document.createElement("div");R(z,U.options.container),D.container.parentNode.insertBefore(z,D.container),U.container=z}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var H;return H=A.error("Container required for toolbar",U.options),_(U,H)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(B){U.addHandler(B,U.options.handlers[B])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(B){U.attach(B)}),U.quill.on(h.default.events.EDITOR_CHANGE,function(B,$){B===h.default.events.SELECTION_CHANGE&&U.update($)}),U.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var B=U.quill.selection.getRange(),$=i(B,1),I=$[0];U.update(I)}),U}return l(T,[{key:"addHandler",value:function(F,U){this.handlers[F]=U}},{key:"attach",value:function(F){var U=this,z=[].find.call(F.classList,function(B){return B.indexOf("ql-")===0});if(z){if(z=z.slice(3),F.tagName==="BUTTON"&&F.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){A.warn("ignoring attaching to disabled format",z,F);return}if(u.default.query(z)==null){A.warn("ignoring attaching to nonexistent format",z,F);return}}var H=F.tagName==="SELECT"?"change":"click";F.addEventListener(H,function(B){var $=void 0;if(F.tagName==="SELECT"){if(F.selectedIndex<0)return;var I=F.options[F.selectedIndex];I.hasAttribute("selected")?$=!1:$=I.value||!1}else F.classList.contains("ql-active")?$=!1:$=F.value||!F.hasAttribute("value"),B.preventDefault();U.quill.focus();var L=U.quill.selection.getRange(),V=i(L,1),q=V[0];if(U.handlers[z]!=null)U.handlers[z].call(U,$);else if(u.default.query(z).prototype instanceof u.default.Embed){if($=prompt("Enter "+z),!$)return;U.quill.updateContents(new c.default().retain(q.index).delete(q.length).insert(w({},z,$)),h.default.sources.USER)}else U.quill.format(z,$,h.default.sources.USER);U.update(q)}),this.controls.push([z,F])}}},{key:"update",value:function(F){var U=F==null?{}:this.quill.getFormat(F);this.controls.forEach(function(z){var H=i(z,2),B=H[0],$=H[1];if($.tagName==="SELECT"){var I=void 0;if(F==null)I=null;else if(U[B]==null)I=$.querySelector("option[selected]");else if(!Array.isArray(U[B])){var L=U[B];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),I=$.querySelector('option[value="'+L+'"]')}I==null?($.value="",$.selectedIndex=-1):I.selected=!0}else if(F==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var V=U[B]===$.getAttribute("value")||U[B]!=null&&U[B].toString()===$.getAttribute("value")||U[B]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",V)}else $.classList.toggle("ql-active",U[B]!=null)})}}]),T})(v.default);E.DEFAULTS={};function C(k,T,D){var F=document.createElement("button");F.setAttribute("type","button"),F.classList.add("ql-"+T),D!=null&&(F.value=D),k.appendChild(F)}function R(k,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(D){var F=document.createElement("span");F.classList.add("ql-formats"),D.forEach(function(U){if(typeof U=="string")C(F,U);else{var z=Object.keys(U)[0],H=U[z];Array.isArray(H)?O(F,z,H):C(F,z,H)}}),k.appendChild(F)})}function O(k,T,D){var F=document.createElement("select");F.classList.add("ql-"+T),D.forEach(function(U){var z=document.createElement("option");U!==!1?z.setAttribute("value",U):z.setAttribute("selected","selected"),F.appendChild(z)}),k.appendChild(F)}E.DEFAULTS={container:null,handlers:{clean:function(){var T=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var F=this.quill.getFormat();Object.keys(F).forEach(function(U){u.default.query(U,u.default.Scope.INLINE)!=null&&T.quill.format(U,!1)})}else this.quill.removeFormat(D,h.default.sources.USER)},direction:function(T){var D=this.quill.getFormat().align;T==="rtl"&&D==null?this.quill.format("align","right",h.default.sources.USER):!T&&D==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",T,h.default.sources.USER)},indent:function(T){var D=this.quill.getSelection(),F=this.quill.getFormat(D),U=parseInt(F.indent||0);if(T==="+1"||T==="-1"){var z=T==="+1"?1:-1;F.direction==="rtl"&&(z*=-1),this.quill.format("indent",U+z,h.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,h.default.sources.USER)},list:function(T){var D=this.quill.getSelection(),F=this.quill.getFormat(D);T==="check"?F.list==="checked"||F.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",T,h.default.sources.USER)}}},r.default=E,r.addControls=R}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function x(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&x(y.prototype,v),j&&x(y,j),y}})(),l=function x(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:x(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(28),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(v,j){u(this,y);var w=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.label.innerHTML=j,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(N){N.classList.add("ql-primary")}),w}return i(y,[{key:"buildItem",value:function(j){var w=l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,j);return w.style.backgroundColor=j.getAttribute("value")||"",w}},{key:"selectItem",value:function(j,w){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,j,w);var N=this.label.querySelector(".ql-color-label"),_=j&&j.getAttribute("data-value")||"";N&&(N.tagName==="line"?N.style.stroke=_:N.style.fill=_)}}]),y})(c.default);r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function x(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&x(y.prototype,v),j&&x(y,j),y}})(),l=function x(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:x(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(28),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(v,j){u(this,y);var w=m(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(N){N.innerHTML=j[N.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return i(y,[{key:"selectItem",value:function(j,w){l(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,j,w),j=j||this.defaultItem,this.label.innerHTML=j.innerHTML}}]),y})(c.default);r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function c(d,u){for(var m=0;m<u.length;m++){var h=u[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,m){return u&&c(d.prototype,u),m&&c(d,m),d}})();function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=(function(){function c(d,u){var m=this;l(this,c),this.quill=d,this.boundsContainer=u||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var m=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),x=this.root.getBoundingClientRect(),y=0;if(x.right>p.right&&(y=p.right-x.right,this.root.style.left=m+y+"px"),x.left<p.left&&(y=p.left-x.left,this.root.style.left=m+y+"px"),x.bottom>p.bottom){var v=x.bottom-x.top,j=u.bottom-u.top+v;this.root.style.top=h-j+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c})();r.default=o}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function O(k,T){var D=[],F=!0,U=!1,z=void 0;try{for(var H=k[Symbol.iterator](),B;!(F=(B=H.next()).done)&&(D.push(B.value),!(T&&D.length===T));F=!0);}catch($){U=!0,z=$}finally{try{!F&&H.return&&H.return()}finally{if(U)throw z}}return D}return function(k,T){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return O(k,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function O(k,T,D){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,T);if(F===void 0){var U=Object.getPrototypeOf(k);return U===null?void 0:O(U,T,D)}else{if("value"in F)return F.value;var z=F.get;return z===void 0?void 0:z.call(D)}},o=(function(){function O(k,T){for(var D=0;D<T.length;D++){var F=T[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,T,D){return T&&O(k.prototype,T),D&&O(k,D),k}})(),c=a(3),d=N(c),u=a(8),m=N(u),h=a(43),p=N(h),x=a(27),y=N(x),v=a(15),j=a(41),w=N(j);function N(O){return O&&O.__esModule?O:{default:O}}function _(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function P(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function A(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=(function(O){A(k,O);function k(T,D){_(this,k),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=E);var F=P(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,D));return F.quill.container.classList.add("ql-snow"),F}return o(k,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),w.default),this.tooltip=new R(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,U){D.handlers.link.call(D,!U.format.link)})}}]),k})(p.default);C.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var T=this.quill.getSelection();if(T==null||T.length==0)return;var D=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var F=this.quill.theme.tooltip;F.edit("link",D)}else this.quill.format("link",!1)}}}}});var R=(function(O){A(k,O);function k(T,D){_(this,k);var F=P(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,T,D));return F.preview=F.root.querySelector("a.ql-preview"),F}return o(k,[{key:"listen",value:function(){var D=this;l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(D.linkRange!=null){var U=D.linkRange;D.restoreFocus(),D.quill.formatText(U,"link",!1,m.default.sources.USER),delete D.linkRange}F.preventDefault(),D.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(F,U,z){if(F!=null){if(F.length===0&&z===m.default.sources.USER){var H=D.quill.scroll.descendant(y.default,F.index),B=i(H,2),$=B[0],I=B[1];if($!=null){D.linkRange=new v.Range(F.index-I,$.length());var L=y.default.formats($.domNode);D.preview.textContent=L,D.preview.setAttribute("href",L),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k})(h.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(29),l=Me(i),o=a(36),c=a(38),d=a(64),u=a(65),m=Me(u),h=a(66),p=Me(h),x=a(67),y=Me(x),v=a(37),j=a(26),w=a(39),N=a(40),_=a(56),P=Me(_),A=a(68),E=Me(A),C=a(27),R=Me(C),O=a(69),k=Me(O),T=a(70),D=Me(T),F=a(71),U=Me(F),z=a(72),H=Me(z),B=a(73),$=Me(B),I=a(13),L=Me(I),V=a(74),q=Me(V),J=a(75),Q=Me(J),Y=a(57),K=Me(Y),ae=a(41),se=Me(ae),de=a(28),ue=Me(de),oe=a(59),pe=Me(oe),je=a(60),Ne=Me(je),qe=a(61),$e=Me(qe),Ee=a(108),Se=Me(Ee),Ye=a(62),Qe=Me(Ye);function Me(lt){return lt&&lt.__esModule?lt:{default:lt}}l.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":j.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":N.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":j.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":N.SizeStyle},!0),l.default.register({"formats/align":o.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":d.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":j.ColorStyle,"formats/font":w.FontClass,"formats/size":N.SizeClass,"formats/blockquote":m.default,"formats/code-block":L.default,"formats/header":p.default,"formats/list":y.default,"formats/bold":P.default,"formats/code":I.Code,"formats/italic":E.default,"formats/link":R.default,"formats/script":k.default,"formats/strike":D.default,"formats/underline":U.default,"formats/image":H.default,"formats/video":$.default,"formats/list/item":x.ListItem,"modules/formula":q.default,"modules/syntax":Q.default,"modules/toolbar":K.default,"themes/bubble":Se.default,"themes/snow":Qe.default,"ui/icons":se.default,"ui/picker":ue.default,"ui/icon-picker":Ne.default,"ui/color-picker":pe.default,"ui/tooltip":$e.default},!0),r.default=l.default}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var i=(function(){function y(v,j){for(var w=0;w<j.length;w++){var N=j[w];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,j,w){return j&&y(v.prototype,j),w&&y(v,w),v}})(),l=function y(v,j,w){v===null&&(v=Function.prototype);var N=Object.getOwnPropertyDescriptor(v,j);if(N===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,j,w)}else{if("value"in N)return N.value;var P=N.get;return P===void 0?void 0:P.call(w)}},o=a(0),c=d(o);function d(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=(function(y){h(v,y);function v(){return u(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"add",value:function(w,N){if(N==="+1"||N==="-1"){var _=this.value(w)||0;N=N==="+1"?_+1:_-1}return N===0?(this.remove(w),!0):l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,w,N)}},{key:"canAdd",value:function(w,N){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,N)||l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,w,parseInt(N))}},{key:"value",value:function(w){return parseInt(l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w))||void 0}}]),v})(c.default.Attributor.Class),x=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=x}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(4),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function p(x,y){for(var v=0;v<y.length;v++){var j=y[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,y,v){return y&&p(x.prototype,y),v&&p(x,v),x}})(),l=a(4),o=c(l);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function u(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function m(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var h=(function(p){m(x,p);function x(){return d(this,x),u(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),x})(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var i=(function(){function _(P,A){for(var E=0;E<A.length;E++){var C=A[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}}return function(P,A,E){return A&&_(P.prototype,A),E&&_(P,E),P}})(),l=function _(P,A,E){P===null&&(P=Function.prototype);var C=Object.getOwnPropertyDescriptor(P,A);if(C===void 0){var R=Object.getPrototypeOf(P);return R===null?void 0:_(R,A,E)}else{if("value"in C)return C.value;var O=C.get;return O===void 0?void 0:O.call(E)}},o=a(0),c=p(o),d=a(4),u=p(d),m=a(25),h=p(m);function p(_){return _&&_.__esModule?_:{default:_}}function x(_,P,A){return P in _?Object.defineProperty(_,P,{value:A,enumerable:!0,configurable:!0,writable:!0}):_[P]=A,_}function y(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}function v(_,P){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:_}function j(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(_,P):_.__proto__=P)}var w=(function(_){j(P,_);function P(){return y(this,P),v(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return i(P,[{key:"format",value:function(E,C){E===N.blotName&&!C?this.replaceWith(c.default.create(this.statics.scope)):l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,E,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,C){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,C),this):(this.parent.unwrap(),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,E,C))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:l(P.__proto__||Object.getPrototypeOf(P),"formats",this).call(this,E)}}]),P})(u.default);w.blotName="list-item",w.tagName="LI";var N=(function(_){j(P,_),i(P,null,[{key:"create",value:function(E){var C=E==="ordered"?"OL":"UL",R=l(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,C);return(E==="checked"||E==="unchecked")&&R.setAttribute("data-checked",E==="checked"),R}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function P(A){y(this,P);var E=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A)),C=function(O){if(O.target.parentNode===A){var k=E.statics.formats(A),T=c.default.find(O.target);k==="checked"?T.format("list","unchecked"):k==="unchecked"&&T.format("list","checked")}};return A.addEventListener("touchstart",C),A.addEventListener("mousedown",C),E}return i(P,[{key:"format",value:function(E,C){this.children.length>0&&this.children.tail.format(E,C)}},{key:"formats",value:function(){return x({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,C){if(E instanceof w)l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,E,C);else{var R=C==null?this.length():C.offset(this),O=this.split(R);O.parent.insertBefore(E,O)}}},{key:"optimize",value:function(E){l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,E);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var C=c.default.create(this.statics.defaultChild);E.moveChildren(C),this.appendChild(C)}l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,E)}}]),P})(h.default);N.blotName="list",N.scope=c.default.Scope.BLOCK_BLOT,N.tagName=["OL","UL"],N.defaultChild="list-item",N.allowedChildren=[w],r.ListItem=w,r.default=N}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(56),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function x(y,v){for(var j=0;j<v.length;j++){var w=v[j];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,j){return v&&x(y.prototype,v),j&&x(y,j),y}})(),l=function x(y,v,j){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:x(N,v,j)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(j)}},o=a(6),c=d(o);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function h(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=(function(x){h(y,x);function y(){return u(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,null,[{key:"create",value:function(j){return j==="super"?document.createElement("sup"):j==="sub"?document.createElement("sub"):l(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,j)}},{key:"formats",value:function(j){if(j.tagName==="SUB")return"sub";if(j.tagName==="SUP")return"super"}}]),y})(c.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="strike",m.tagName="S",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=a(6),l=o(i);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var m=(function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(l.default);m.blotName="underline",m.tagName="U",r.default=m}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:v(P,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(0),c=u(o),d=a(27);function u(v){return v&&v.__esModule?v:{default:v}}function m(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function h(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function p(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var x=["alt","height","width"],y=(function(v){p(j,v);function j(){return m(this,j),h(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"format",value:function(N,_){x.indexOf(N)>-1?_?this.domNode.setAttribute(N,_):this.domNode.removeAttribute(N):l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,_)}}],[{key:"create",value:function(N){var _=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,N);return typeof N=="string"&&_.setAttribute("src",this.sanitize(N)),_}},{key:"formats",value:function(N){return x.reduce(function(_,P){return N.hasAttribute(P)&&(_[P]=N.getAttribute(P)),_},{})}},{key:"match",value:function(N){return/\.(jpe?g|gif|png)$/.test(N)||/^data:image\/.+;base64/.test(N)}},{key:"sanitize",value:function(N){return(0,d.sanitize)(N,["http","https","data"])?N:"//:0"}},{key:"value",value:function(N){return N.getAttribute("src")}}]),j})(c.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0});var i=(function(){function v(j,w){for(var N=0;N<w.length;N++){var _=w[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,w,N){return w&&v(j.prototype,w),N&&v(j,N),j}})(),l=function v(j,w,N){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,w);if(_===void 0){var P=Object.getPrototypeOf(j);return P===null?void 0:v(P,w,N)}else{if("value"in _)return _.value;var A=_.get;return A===void 0?void 0:A.call(N)}},o=a(4),c=a(27),d=u(c);function u(v){return v&&v.__esModule?v:{default:v}}function m(v,j){if(!(v instanceof j))throw new TypeError("Cannot call a class as a function")}function h(v,j){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:v}function p(v,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);v.prototype=Object.create(j&&j.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(v,j):v.__proto__=j)}var x=["height","width"],y=(function(v){p(j,v);function j(){return m(this,j),h(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,[{key:"format",value:function(N,_){x.indexOf(N)>-1?_?this.domNode.setAttribute(N,_):this.domNode.removeAttribute(N):l(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,N,_)}}],[{key:"create",value:function(N){var _=l(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,N);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(N)),_}},{key:"formats",value:function(N){return x.reduce(function(_,P){return N.hasAttribute(P)&&(_[P]=N.getAttribute(P)),_},{})}},{key:"sanitize",value:function(N){return d.default.sanitize(N)}},{key:"value",value:function(N){return N.getAttribute("src")}}]),j})(o.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var i=(function(){function N(_,P){for(var A=0;A<P.length;A++){var E=P[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,P,A){return P&&N(_.prototype,P),A&&N(_,A),_}})(),l=function N(_,P,A){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,P);if(E===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:N(C,P,A)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(A)}},o=a(35),c=p(o),d=a(5),u=p(d),m=a(9),h=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function x(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function y(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function v(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var j=(function(N){v(_,N);function _(){return x(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,null,[{key:"create",value:function(A){var E=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",A)),E}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),_})(c.default);j.blotName="formula",j.className="ql-formula",j.tagName="SPAN";var w=(function(N){v(_,N),i(_,null,[{key:"register",value:function(){u.default.register(j,!0)}}]);function _(){x(this,_);var P=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return P}return _})(h.default);r.FormulaBlot=j,r.default=w}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var i=(function(){function A(E,C){for(var R=0;R<C.length;R++){var O=C[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,C,R){return C&&A(E.prototype,C),R&&A(E,R),E}})(),l=function A(E,C,R){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,C);if(O===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:A(k,C,R)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(R)}},o=a(0),c=y(o),d=a(5),u=y(d),m=a(9),h=y(m),p=a(13),x=y(p);function y(A){return A&&A.__esModule?A:{default:A}}function v(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function j(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function w(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var N=(function(A){w(E,A);function E(){return v(this,E),j(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return i(E,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),E})(x.default);N.className="ql-syntax";var _=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),P=(function(A){w(E,A),i(E,null,[{key:"register",value:function(){u.default.register(_,!0),u.default.register(N,!0)}}]);function E(C,R){v(this,E);var O=j(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,R));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return O.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){O.highlight(),k=null},O.options.interval)}),O.highlight(),O}return i(E,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(N).forEach(function(k){k.highlight(R.options.highlight)}),this.quill.update(u.default.sources.SILENT),O!=null&&this.quill.setSelection(O,u.default.sources.SILENT)}}}]),E})(h.default);P.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(A){var E=window.hljs.highlightAuto(A);return E.value}})(),interval:1e3},r.CodeBlock=N,r.CodeToken=_,r.default=P}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,a){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var i=function E(C,R,O){C===null&&(C=Function.prototype);var k=Object.getOwnPropertyDescriptor(C,R);if(k===void 0){var T=Object.getPrototypeOf(C);return T===null?void 0:E(T,R,O)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(O)}},l=(function(){function E(C,R){for(var O=0;O<R.length;O++){var k=R[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,R,O){return R&&E(C.prototype,R),O&&E(C,O),C}})(),o=a(3),c=v(o),d=a(8),u=v(d),m=a(43),h=v(m),p=a(15),x=a(41),y=v(x);function v(E){return E&&E.__esModule?E:{default:E}}function j(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function w(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function N(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],P=(function(E){N(C,E);function C(R,O){j(this,C),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=_);var k=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,O));return k.quill.container.classList.add("ql-bubble"),k}return l(C,[{key:"extendToolbar",value:function(O){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),y.default)}}]),C})(h.default);P.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=(function(E){N(C,E);function C(R,O){j(this,C);var k=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,R,O));return k.quill.on(u.default.events.EDITOR_CHANGE,function(T,D,F,U){if(T===u.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&U===u.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var z=k.quill.getLines(D.index,D.length);if(z.length===1)k.position(k.quill.getBounds(D));else{var H=z[z.length-1],B=k.quill.getIndex(H),$=Math.min(H.length()-1,D.index+D.length-B),I=k.quill.getBounds(new p.Range(B,$));k.position(I)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return l(C,[{key:"listen",value:function(){var O=this;i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var k=O.quill.getSelection();k!=null&&O.position(O.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var k=i(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,O),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",k===0)return k;T.style.marginLeft=-1*k-T.offsetWidth/2+"px"}}]),C})(m.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=A,r.default=P}),(function(n,r,a){n.exports=a(63)})]).default})})(w0)),w0.exports}var ji,eR;function mge(){if(eR)return ji;eR=1;var t=ji&&ji.__extends||(function(){var u=function(m,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var y in x)x.hasOwnProperty(y)&&(p[y]=x[y])},u(m,h)};return function(m,h){u(m,h);function p(){this.constructor=m}m.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),s=ji&&ji.__assign||function(){return s=Object.assign||function(u){for(var m,h=1,p=arguments.length;h<p;h++){m=arguments[h];for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(u[x]=m[x])}return u},s.apply(this,arguments)},n=ji&&ji.__spreadArrays||function(){for(var u=0,m=0,h=arguments.length;m<h;m++)u+=arguments[m].length;for(var p=Array(u),x=0,m=0;m<h;m++)for(var y=arguments[m],v=0,j=y.length;v<j;v++,x++)p[x]=y[v];return p},r=ji&&ji.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},a=r(_p()),i=r(r2()),l=r(dge()),o=r(hge()),c=(function(u){t(m,u);function m(h){var p=u.call(this,h)||this;p.dirtyProps=["modules","formats","bounds","theme","children"],p.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],p.state={generation:0},p.selection=null,p.onEditorChange=function(y,v,j,w){var N,_,P,A;y==="text-change"?(_=(N=p).onEditorChangeText)===null||_===void 0||_.call(N,p.editor.root.innerHTML,v,w,p.unprivilegedEditor):y==="selection-change"&&((A=(P=p).onEditorChangeSelection)===null||A===void 0||A.call(P,v,w,p.unprivilegedEditor))};var x=p.isControlled()?h.value:h.defaultValue;return p.value=x??"",p}return m.prototype.validateProps=function(h){var p;if(a.default.Children.count(h.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(a.default.Children.count(h.children)){var x=a.default.Children.only(h.children);if(((p=x)===null||p===void 0?void 0:p.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&h.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(h,p){var x=this,y;if(this.validateProps(h),!this.editor||this.state.generation!==p.generation)return!0;if("value"in h){var v=this.getEditorContents(),j=(y=h.value,y??"");this.isEqualValue(j,v)||this.setEditorContents(this.editor,j)}return h.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,h.readOnly),n(this.cleanProps,this.dirtyProps).some(function(w){return!l.default(h[w],x.props[w])})},m.prototype.shouldComponentRegenerate=function(h){var p=this;return this.dirtyProps.some(function(x){return!l.default(h[x],p.props[x])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(h,p){var x=this;if(this.editor&&this.shouldComponentRegenerate(h)){var y=this.editor.getContents(),v=this.editor.getSelection();this.regenerationSnapshot={delta:y,selection:v},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==p.generation){var j=this.regenerationSnapshot,y=j.delta,w=j.selection;delete this.regenerationSnapshot,this.instantiateEditor();var N=this.editor;N.setContents(y),d(function(){return x.setEditorSelection(N,w)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(h,p){var x=new o.default(h,p);return p.tabIndex!=null&&this.setEditorTabIndex(x,p.tabIndex),this.hookEditor(x),x},m.prototype.hookEditor=function(h){this.unprivilegedEditor=this.makeUnprivilegedEditor(h),h.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(h){h.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(h){return h&&h.ops},m.prototype.isEqualValue=function(h,p){return this.isDelta(h)&&this.isDelta(p)?l.default(h.ops,p.ops):l.default(h,p)},m.prototype.setEditorContents=function(h,p){var x=this;this.value=p;var y=this.getEditorSelection();typeof p=="string"?h.setContents(h.clipboard.convert(p)):h.setContents(p),d(function(){return x.setEditorSelection(h,y)})},m.prototype.setEditorSelection=function(h,p){if(this.selection=p,p){var x=h.getLength();p.index=Math.max(0,Math.min(p.index,x-1)),p.length=Math.max(0,Math.min(p.length,x-1-p.index)),h.setSelection(p)}},m.prototype.setEditorTabIndex=function(h,p){var x,y;!((y=(x=h)===null||x===void 0?void 0:x.scroll)===null||y===void 0)&&y.domNode&&(h.scroll.domNode.tabIndex=p)},m.prototype.setEditorReadOnly=function(h,p){p?h.disable():h.enable()},m.prototype.makeUnprivilegedEditor=function(h){var p=h;return{getHTML:function(){return p.root.innerHTML},getLength:p.getLength.bind(p),getText:p.getText.bind(p),getContents:p.getContents.bind(p),getSelection:p.getSelection.bind(p),getBounds:p.getBounds.bind(p)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var h=i.default.findDOMNode(this.editingArea);if(!h)throw new Error("Cannot find element for editing area");if(h.nodeType===3)throw new Error("Editing area cannot be a text node");return h},m.prototype.renderEditingArea=function(){var h=this,p=this.props,x=p.children,y=p.preserveWhitespace,v=this.state.generation,j={key:v,ref:function(w){h.editingArea=w}};return a.default.Children.count(x)?a.default.cloneElement(a.default.Children.only(x),j):y?a.default.createElement("pre",s({},j)):a.default.createElement("div",s({},j))},m.prototype.render=function(){var h;return a.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(h=this.props.className,h??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(h,p,x,y){var v,j;if(this.editor){var w=this.isDelta(this.value)?y.getContents():y.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=p,this.value=w,(j=(v=this.props).onChange)===null||j===void 0||j.call(v,h,p,x,y))}},m.prototype.onEditorChangeSelection=function(h,p,x){var y,v,j,w,N,_;if(this.editor){var P=this.getEditorSelection(),A=!P&&h,E=P&&!h;l.default(h,P)||(this.selection=h,(v=(y=this.props).onChangeSelection)===null||v===void 0||v.call(y,h,p,x),A?(w=(j=this.props).onFocus)===null||w===void 0||w.call(j,h,p,x):E&&((_=(N=this.props).onBlur)===null||_===void 0||_.call(N,P,p,x)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=o.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(a.default.Component);function d(u){Promise.resolve().then(u)}return ji=c,ji}var fge=mge();const KC=vc(fge);function Oq({tags:t,setTags:s}){const[n,r]=b.useState(""),a=l=>{l.key==="Enter"&&n.trim()&&(l.preventDefault(),t.includes(n.trim())||s([...t,n.trim()]),r(""))},i=l=>{s(t.filter(o=>o!==l))};return e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Tags"})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsx(he,{value:n,onChange:l=>r(l.target.value),onKeyDown:a,placeholder:"Type and press Enter...",className:"text-sm"}),t.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((l,o)=>e.jsxs(ye,{variant:"secondary",className:"gap-1",children:[l,e.jsx("button",{onClick:()=>i(l),className:"hover:text-red-600",children:e.jsx(ks,{className:"w-3 h-3"})})]},o))})]})]})}function Mq({categories:t,selectedSubcategories:s,onChange:n}){const[r,a]=Be.useState({}),[i,l]=Be.useState(""),o=u=>{a(m=>({...m,[u]:!m[u]}))},c=u=>{const m=s.includes(u)?s.filter(h=>h!==u):[...s,u];n(m)},d=Be.useMemo(()=>{if(!i.trim())return t;const u=i.toLowerCase();return t.map(m=>{if(!m.subcategories||m.subcategories.length===0)return null;const h=m.subcategories.filter(x=>x.toLowerCase().includes(u)),p=m.name.toLowerCase().includes(u);return h.length===0&&!p?null:{...m,subcategories:h.length>0?h:m.subcategories}}).filter(Boolean)},[t,i]);return Be.useEffect(()=>{const u={};t.forEach(m=>{var h;(h=m.subcategories)!=null&&h.some(p=>s.includes(p))&&(u[m.name]=!0)}),a(m=>({...m,...u}))},[t,s]),!t||t.length===0?e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."}):e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{children:"Categories"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search categories...",value:i,onChange:u=>l(u.target.value),className:"pl-10 pr-10"}),i&&e.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ks,{className:"w-4 h-4"})})]}),s.length>0&&e.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:[s.length," selected"]}),e.jsx("div",{className:"border border-slate-200 rounded-lg max-h-64 overflow-y-auto",children:d.map(u=>{if(!(u.subcategories&&u.subcategories.length>0))return null;const h=r[u.name],p=[...u.subcategories].sort((x,y)=>x.localeCompare(y,void 0,{sensitivity:"base"}));return e.jsxs("div",{className:"border-b border-slate-200 last:border-b-0",children:[e.jsxs("button",{onClick:()=>o(u.name),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-semibold hover:bg-slate-50 text-purple-700",children:[e.jsx("span",{children:u.name}),h?e.jsx(Vr,{className:"w-4 h-4"}):e.jsx(Ss,{className:"w-4 h-4"})]}),h&&e.jsx("div",{className:"px-3 pb-2 space-y-1",children:p.map(x=>{const y=s.includes(x);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 rounded cursor-pointer transition-colors ${y?"bg-blue-50":"hover:bg-slate-50"}`,onClick:()=>c(x),children:[e.jsx(Aa,{id:`editor-sub-${x}`,checked:y,onCheckedChange:()=>c(x),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(Z,{htmlFor:`editor-sub-${x}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${y?"text-blue-700 font-medium":"text-slate-700"}`,children:x})]},x)})})]},u.id)})}),s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-blue-50 rounded-lg",children:s.map((u,m)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:[u,e.jsx("button",{onClick:()=>c(u),className:"hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(ks,{className:"w-3 h-3"})})]},m))})]})}function Dq({status:t,setStatus:s}){var r,a;const n={draft:{label:"Draft",color:"bg-amber-100 text-amber-700"},published:{label:"Published",color:"bg-green-100 text-green-700"},archived:{label:"Archived",color:"bg-slate-100 text-slate-700"}};return e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ze,{className:"text-base",children:"Status"}),e.jsx(ye,{className:(r=n[t])==null?void 0:r.color,children:(a=n[t])==null?void 0:a.label})]})}),e.jsxs(ce,{children:[e.jsxs(Ge,{value:t,onValueChange:s,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"draft",children:"Draft"}),e.jsx(re,{value:"published",children:"Published"}),e.jsx(re,{value:"archived",children:"Archived"})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[t==="draft"&&"Only visible to you",t==="published"&&"Visible to all members",t==="archived"&&"Hidden from listings"]})]})]})}function Rq({seoTitle:t,onSeoTitleChange:s,seoDescription:n,onSeoDescriptionChange:r,defaultTitle:a,defaultDescription:i}){return e.jsx(p1,{children:e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs(g1,{className:"flex items-center justify-between w-full hover:opacity-70",children:[e.jsx(ze,{className:"text-base",children:"SEO Settings"}),e.jsx(Vr,{className:"w-4 h-4 transition-transform ui-open:rotate-180"})]})}),e.jsx(x1,{children:e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"seo-title",className:"text-sm",children:"SEO Title"}),e.jsx(he,{id:"seo-title",value:t,onChange:l=>s(l.target.value),placeholder:a||"Article title for search engines...",className:"mt-2"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length||(a==null?void 0:a.length)||0," / 60 characters recommended"]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"seo-desc",className:"text-sm",children:"SEO Description"}),e.jsx(Qt,{id:"seo-desc",value:n,onChange:l=>r(l.target.value),placeholder:i||"Brief description for search results...",className:"mt-2 min-h-[80px]"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.length||(i==null?void 0:i.length)||0," / 160 characters recommended"]})]})]})})]})})}function Fq({memberInfo:t}){const n=new URLSearchParams(window.location.search).get("id"),r=!!n,a=Jt(),i=b.useRef(null),[l,o]=b.useState(""),[c,d]=b.useState(""),[u,m]=b.useState(""),[h,p]=b.useState(""),[x,y]=b.useState(""),[v,j]=b.useState([]),[w,N]=b.useState([]),[_,P]=b.useState("draft"),[A,E]=b.useState(""),[C,R]=b.useState(""),[O,k]=b.useState(new Date().toISOString()),[T,D]=b.useState(!1),[F,U]=b.useState(!1),[z,H]=b.useState(null),[B,$]=b.useState("member"),[I,L]=b.useState(null),{data:V}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await ee.entities.Member.list()).find(qe=>qe.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:q=[]}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter($e=>$e.is_active&&$e.applies_to_content_types&&$e.applies_to_content_types.includes("Articles")).sort(($e,Ee)=>($e.display_order||0)-(Ee.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:J=[]}=me({queryKey:["guest-writers-active"],queryFn:async()=>(await ee.entities.GuestWriter.list()).filter(qe=>qe.is_active),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:Q,isLoading:Y}=me({queryKey:["article",n],queryFn:async()=>(await ee.entities.BlogPost.list()).find(qe=>qe.id===n),enabled:r});b.useEffect(()=>{if(Q){if(o(Q.title||""),Q.guest_writer_id)$("guest"),L(Q.guest_writer_id),d(Q.slug||"");else if(V!=null&&V.handle){$("member");const Ne=`-by-${V.handle}`;let qe=Q.slug||"";qe.endsWith(Ne)&&(qe=qe.slice(0,-Ne.length)),d(qe)}m(Q.summary||""),p(Q.content||""),y(Q.feature_image_url||""),j(Q.subcategories||[]),N(Q.tags||[]),P(Q.status||"draft"),k(Q.published_date||new Date().toISOString()),E(Q.seo_title||""),R(Q.seo_description||"")}},[Q,V]),b.useEffect(()=>{if(l&&!r){const Ne=l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");d(Ne)}},[l,r]),b.useEffect(()=>{if(!t||!l||!(V!=null&&V.handle))return;const Ne=setTimeout(async()=>{if(r){U(!0);try{const qe=`${c}-by-${V.handle}`;await ee.entities.BlogPost.update(n,{title:l,slug:qe,summary:u,content:h,feature_image_url:x,subcategories:v,tags:w,status:_,published_date:O,seo_title:A,seo_description:C}),H(new Date)}catch(qe){console.error("Auto-save failed:",qe)}finally{U(!1)}}},3e3);return()=>clearTimeout(Ne)},[l,c,u,h,x,v,w,_,O,A,C,r,n,t,V]);const K=Ie({mutationFn:async(Ne=!1)=>{if(!t)throw new Error("Member information not available");if(!V)throw new Error("Member record not found");let qe,$e;if(B==="guest"){if(!I)throw new Error("Please select a guest writer");const Ee=J.find(Se=>Se.id===I);if(!Ee)throw new Error("Selected guest writer not found");qe=c,$e={title:l,slug:qe,author_id:null,guest_writer_id:I,author_name:Ee.full_name,summary:u,content:h,feature_image_url:x,subcategories:v,tags:w,status:Ne?"published":_,published_date:O,seo_title:A,seo_description:C}}else{if(!V.handle)throw new Error("You need a handle to publish articles. Please contact an administrator.");qe=`${c}-by-${V.handle}`,$e={title:l,slug:qe,author_id:V.id,guest_writer_id:null,author_name:`${t.first_name} ${t.last_name}`,summary:u,content:h,feature_image_url:x,subcategories:v,tags:w,status:Ne?"published":_,published_date:O,seo_title:A,seo_description:C}}return r?await ee.entities.BlogPost.update(n,$e):await ee.entities.BlogPost.create($e)},onSuccess:(Ne,qe)=>{a.invalidateQueries({queryKey:["articles"]}),te.success(qe?"Article published successfully!":"Article saved successfully!"),H(new Date),r||(window.location.href=`${Te("ArticleEditor")}?id=${Ne.id}`)},onError:Ne=>{te.error(Ne.message||"Failed to save article")}}),ae=Ie({mutationFn:()=>ee.entities.BlogPost.delete(n),onSuccess:()=>{a.invalidateQueries({queryKey:["articles"]}),te.success("Article deleted successfully"),window.location.href=Te("Articles")},onError:()=>{te.error("Failed to delete article")}}),se=async Ne=>{var $e;const qe=($e=Ne.target.files)==null?void 0:$e[0];if(qe){D(!0);try{const{file_url:Ee}=await ee.integrations.Core.UploadFile({file:qe});y(Ee),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{D(!1)}}},de=()=>{const Ne=document.createElement("input");Ne.type="file",Ne.accept="image/*",Ne.onchange=async qe=>{var Ee,Se;const $e=(Ee=qe.target.files)==null?void 0:Ee[0];if($e)try{const{file_url:Ye}=await ee.integrations.Core.UploadFile({file:$e}),Qe=(Se=i.current)==null?void 0:Se.getEditor();if(Qe){const Me=Qe.getSelection(!0);Qe.insertEmbed(Me.index,"image",Ye)}te.success("Image inserted")}catch{te.error("Failed to upload image")}},Ne.click()},ue=b.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:de}}}),[]),oe=()=>{window.confirm("Are you sure you want to delete this article? This action cannot be undone.")&&ae.mutate()};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});if(r&&(Y||!V))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading article..."})});if(!(V!=null&&V.handle))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Handle Required"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You need a unique handle to create or edit articles. This handle will be part of your article URLs."}),e.jsx("p",{className:"text-sm text-slate-500",children:"Please contact an administrator to get a handle assigned to your account."})]})})})});const pe=B==="guest"?c:`${c}-by-${V.handle}`,je=J.find(Ne=>Ne.id===I);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Gt,{to:Te("Articles"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to Articles"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[F&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),z&&!F&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(ar,{className:"w-4 h-4 text-green-600"}),"Saved ",Ot(z,"h:mm a")]}),e.jsxs(X,{variant:"outline",onClick:()=>K.mutate(!1),disabled:K.isPending||!l||!c,className:"gap-2",children:[e.jsx(gn,{className:"w-4 h-4"}),"Save Draft"]}),e.jsx(X,{onClick:()=>K.mutate(!0),disabled:K.isPending||!l||!c,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:_==="published"?"Update":"Publish"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",className:"text-base font-semibold",children:"Article Title"}),e.jsx(he,{id:"title",placeholder:"Enter your article title...",value:l,onChange:Ne=>o(Ne.target.value),className:"text-2xl font-bold border-0 px-0 focus-visible:ring-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{className:"text-sm",children:"Article Author"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"authorType",value:"member",checked:B==="member",onChange:Ne=>$(Ne.target.value),className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Me (",t.first_name," ",t.last_name,")"]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"authorType",value:"guest",checked:B==="guest",onChange:Ne=>$(Ne.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Guest Writer"})]})]})]}),B==="guest"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"guestWriter",children:"Select Guest Writer"}),e.jsxs("select",{id:"guestWriter",value:I||"",onChange:Ne=>L(Ne.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Choose a guest writer..."}),J.map(Ne=>e.jsxs("option",{value:Ne.id,children:[Ne.full_name," ",Ne.organization?`(${Ne.organization})`:""]},Ne.id))]}),je&&e.jsxs("p",{className:"text-xs text-slate-500",children:[je.email," ",je.job_title&&` ${je.job_title}`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Z,{htmlFor:"slug",className:"text-sm",children:["URL Slug",B==="member"&&(V==null?void 0:V.handle)&&e.jsxs("span",{className:"text-slate-500 font-normal ml-2",children:["(Your handle: @",V.handle,")"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"/articles/"}),e.jsx(he,{id:"slug",placeholder:"article-url-slug",value:c,onChange:Ne=>d(Ne.target.value),className:"flex-1"})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Final URL: ",e.jsxs("span",{className:"font-mono text-blue-600",children:["/articles/",pe]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"summary",children:"Summary / Excerpt"}),e.jsx(Qt,{id:"summary",placeholder:"Brief description of the article (shown in listings)...",value:u,onChange:Ne=>m(Ne.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Content"}),e.jsx("div",{style:{height:"500px"},children:e.jsx(KC,{ref:i,theme:"snow",value:h,onChange:p,modules:ue,placeholder:"Start writing your article content here...",style:{height:"450px"}})})]})]})})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Feature Image"})}),e.jsx(ce,{className:"space-y-4",children:x?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Feature",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>y(""),children:e.jsx(ks,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"hidden",disabled:T}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-slate-400 transition-colors",children:[T?e.jsx(bt,{className:"w-8 h-8 text-slate-400 mx-auto mb-2 animate-spin"}):e.jsx(Xs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:T?"Uploading...":"Click to upload"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Organization"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(Mq,{categories:q,selectedSubcategories:v,onChange:j}),e.jsx(Oq,{tags:w,onChange:N})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Publishing"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(Dq,{value:_,onChange:P}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"published-date",children:"Published Date & Time"}),e.jsx(he,{id:"published-date",type:"datetime-local",value:O?new Date(O).toISOString().slice(0,16):"",onChange:Ne=>{const qe=Ne.target.value?new Date(Ne.target.value).toISOString():new Date().toISOString();k(qe)}}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set a future date to schedule the article. Past dates show when it was originally published."}),O&&new Date(O)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(an,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["Scheduled for ",Ot(new Date(O),"MMM d, yyyy h:mm a")]})]})]})]})]}),e.jsx(Rq,{seoTitle:A,seoDescription:C,onSeoTitleChange:E,onSeoDescriptionChange:R}),r&&e.jsxs(X,{variant:"destructive",onClick:oe,disabled:ae.isPending,className:"w-full gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),"Delete Article"]})]})]})]})})}function pge({articleId:t,memberInfo:s,showThumbsUp:n=!0,showThumbsDown:r=!0}){const[a,i]=b.useState(""),[l,o]=b.useState(""),[c,d]=b.useState(""),[u,m]=b.useState(!1),h=Jt();b.useEffect(()=>{if(s)d(s.email);else{let A=sessionStorage.getItem("public_user_id");A||(A=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",A)),d(A)}},[s]);const{data:p=[],isLoading:x}=me({queryKey:["article-comments",t],queryFn:async()=>(await ee.entities.ArticleComment.list("-created_date")).filter(E=>E.article_id===t),enabled:!!t}),{data:y=[]}=me({queryKey:["user-reactions",c],queryFn:async()=>c?(await ee.entities.CommentReaction.list()).filter(E=>E.user_identifier===c):[],enabled:!!c}),v=Ie({mutationFn:async A=>await ee.entities.ArticleComment.create(A),onSuccess:()=>{h.invalidateQueries({queryKey:["article-comments",t]}),i(""),o(""),te.success("Comment added successfully")},onError:()=>{te.error("Failed to add comment")}}),j=Ie({mutationFn:async({commentId:A,reactionType:E,currentReaction:C})=>{const R=p.find(k=>k.id===A);if(!R)throw new Error("Comment not found");if(C&&C.reaction_type===E){await ee.entities.CommentReaction.delete(C.id);const k=E==="up"?{thumbs_up_count:Math.max(0,(R.thumbs_up_count||0)-1)}:{thumbs_down_count:Math.max(0,(R.thumbs_down_count||0)-1)};return await ee.entities.ArticleComment.update(A,k),{action:"removed",reactionType:E}}if(C&&C.reaction_type!==E){await ee.entities.CommentReaction.update(C.id,{reaction_type:E});const k=E==="up"?{thumbs_up_count:(R.thumbs_up_count||0)+1,thumbs_down_count:Math.max(0,(R.thumbs_down_count||0)-1)}:{thumbs_down_count:(R.thumbs_down_count||0)+1,thumbs_up_count:Math.max(0,(R.thumbs_up_count||0)-1)};return await ee.entities.ArticleComment.update(A,k),{action:"switched",reactionType:E}}await ee.entities.CommentReaction.create({comment_id:A,reaction_type:E,user_identifier:c,is_member:!!s});const O=E==="up"?{thumbs_up_count:(R.thumbs_up_count||0)+1}:{thumbs_down_count:(R.thumbs_down_count||0)+1};return await ee.entities.ArticleComment.update(A,O),{action:"added",reactionType:E}},onSuccess:()=>{h.invalidateQueries({queryKey:["article-comments",t]}),h.invalidateQueries({queryKey:["user-reactions",c]})},onError:()=>{te.error("Failed to update reaction")}}),w=async A=>{if(A.preventDefault(),!a.trim()){te.error("Please enter a comment");return}if(!s&&!l.trim()){te.error("Please enter your name");return}m(!0);try{if(!(await ee.integrations.Core.InvokeLLM({prompt:`You are a content moderation system. Analyze the following comment for inappropriate content including profanity, hate speech, sexually explicit material, threats, or harassment. 

Comment to analyze: "${a.trim()}"

Respond with your analysis.`,response_json_schema:{type:"object",properties:{is_safe:{type:"boolean",description:"true if content is appropriate, false if it contains inappropriate content"},reason:{type:"string",description:"Brief explanation of why content was flagged (empty if safe)"}}}})).is_safe){m(!1),te.error(e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n4,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Comment blocked"}),e.jsx("p",{className:"text-sm",children:"Your comment contains inappropriate content and cannot be posted. Please revise and try again."})]})]})}),{duration:5e3});return}const C={article_id:t,content:a.trim(),author_name:s?`${s.first_name} ${s.last_name}`:l.trim(),author_member_id:(s==null?void 0:s.email)||null,is_member:!!s,thumbs_up_count:0,thumbs_down_count:0};v.mutate(C)}catch(E){console.error("Content moderation error:",E),te.error("Failed to verify comment content. Please try again.")}finally{m(!1)}},N=(A,E)=>{const C=y.find(R=>R.comment_id===A);j.mutate({commentId:A,reactionType:E,currentReaction:C})},_=A=>y.find(E=>E.comment_id===A),P=v.isPending||u;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(e4,{className:"w-5 h-5 text-slate-600"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Comments (",p.length,")"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"pt-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Your Name *"}),e.jsx(he,{id:"name",placeholder:"Enter your name",value:l,onChange:A=>o(A.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"comment",children:s?"Add a comment":"Your Comment *"}),e.jsx(Qt,{id:"comment",placeholder:"Share your thoughts...",value:a,onChange:A=>i(A.target.value),rows:3,required:!0}),e.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(n4,{className:"w-3 h-3"}),"Comments are automatically checked for inappropriate content"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{type:"submit",disabled:P,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Checking content..."]}):v.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Posting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O5,{className:"w-4 h-4"}),"Post Comment"]})})})]})})}),x?e.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((A,E)=>e.jsx(le,{className:"border-slate-200 animate-pulse",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/4 mb-3"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-3/4"})]})},E))}):p.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(e4,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No comments yet. Be the first to share your thoughts!"})]})}):e.jsx("div",{className:"space-y-4",children:p.map(A=>{const E=_(A.id),C=(E==null?void 0:E.reaction_type)==="up",R=(E==null?void 0:E.reaction_type)==="down";return e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold flex-shrink-0",children:A.is_member?e.jsx(sn,{className:"w-5 h-5"}):A.author_name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:A.author_name}),A.is_member&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Member"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[" ",Ot(new Date(A.created_date),"MMM d, yyyy")]})]}),e.jsx("p",{className:"text-slate-700 mb-3 whitespace-pre-wrap break-words",children:A.content}),(n||r)&&e.jsxs("div",{className:"flex items-center gap-4",children:[n&&e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>N(A.id,"up"),disabled:j.isPending,className:`gap-1 ${C?"text-blue-600 bg-blue-50":"text-slate-600"} hover:text-blue-600 hover:bg-blue-50`,children:[e.jsx(D5,{className:`w-4 h-4 ${C?"fill-blue-600":""}`}),e.jsx("span",{className:"text-sm font-medium",children:A.thumbs_up_count||0})]}),r&&e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>N(A.id,"down"),disabled:j.isPending,className:`gap-1 ${R?"text-red-600 bg-red-50":"text-slate-600"} hover:text-red-600 hover:bg-red-50`,children:[e.jsx(M5,{className:`w-4 h-4 ${R?"fill-red-600":""}`}),e.jsx("span",{className:"text-sm font-medium",children:A.thumbs_down_count||0})]})]})]})]})})},A.id)})})]})}function gge({articleId:t,memberInfo:s,showThumbsUp:n=!0,showThumbsDown:r=!0}){const[a,i]=b.useState(""),l=Jt();b.useEffect(()=>{if(s)i(s.email);else{let y=sessionStorage.getItem("public_user_id");y||(y=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",y)),i(y)}},[s]);const{data:o=[]}=me({queryKey:["article-reactions",t],queryFn:async()=>(await ee.entities.ArticleReaction.list()).filter(v=>v.article_id===t),enabled:!!t}),{data:c}=me({queryKey:["user-article-reaction",t,a],queryFn:async()=>a?(await ee.entities.ArticleReaction.list()).find(v=>v.article_id===t&&v.user_identifier===a):null,enabled:!!t&&!!a}),d=o.filter(y=>y.reaction_type==="up").length,u=o.filter(y=>y.reaction_type==="down").length,m=Ie({mutationFn:async y=>c&&c.reaction_type===y?(await ee.entities.ArticleReaction.delete(c.id),{action:"removed"}):c&&c.reaction_type!==y?(await ee.entities.ArticleReaction.update(c.id,{reaction_type:y}),{action:"switched"}):(await ee.entities.ArticleReaction.create({article_id:t,reaction_type:y,user_identifier:a,is_member:!!s}),{action:"added"}),onSuccess:()=>{l.invalidateQueries({queryKey:["article-reactions",t]}),l.invalidateQueries({queryKey:["user-article-reaction",t,a]})},onError:()=>{te.error("Failed to update reaction")}}),h=y=>{m.mutate(y)},p=(c==null?void 0:c.reaction_type)==="up",x=(c==null?void 0:c.reaction_type)==="down";return e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsxs(X,{variant:"outline",size:"lg",onClick:()=>h("up"),disabled:m.isPending,className:`gap-2 ${p?"bg-blue-50 border-blue-300 text-blue-700 hover:bg-blue-100":"hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700"} transition-all`,children:[e.jsx(D5,{className:`w-5 h-5 ${p?"fill-blue-700":""}`}),e.jsx("span",{className:"text-lg font-semibold",children:d})]}),r&&e.jsxs(X,{variant:"outline",size:"lg",onClick:()=>h("down"),disabled:m.isPending,className:`gap-2 ${x?"bg-red-50 border-red-300 text-red-700 hover:bg-red-100":"hover:bg-red-50 hover:border-red-300 hover:text-red-700"} transition-all`,children:[e.jsx(M5,{className:`w-5 h-5 ${x?"fill-red-700":""}`}),e.jsx("span",{className:"text-lg font-semibold",children:u})]})]})}function Iq({memberInfo:t}){console.log("[ArticleView] Component initialized"),console.log("[ArticleView] window.location.href:",window.location.href),console.log("[ArticleView] window.location.search:",window.location.search),console.log("[ArticleView] window.location.hash:",window.location.hash),console.log("[ArticleView] window.location.pathname:",window.location.pathname);const s=new URLSearchParams(window.location.search);console.log("[ArticleView] urlParams created from window.location.search");const n=s.get("slug");console.log("[ArticleView] slug extracted from urlParams:",n);const[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(!1),{data:d}=me({queryKey:["article-settings"],queryFn:async()=>{const z=await ee.entities.SystemSettings.list();console.log("[ArticleView] All settings fetched:",z.length);const H=z.find(K=>K.setting_key==="article_show_view_count"),B=z.find(K=>K.setting_key==="article_show_author_bio"),$=z.find(K=>K.setting_key==="article_show_awards_label"),I=z.find(K=>K.setting_key==="article_show_about_author_label"),L=z.find(K=>K.setting_key==="article_show_author_organization"),V=z.find(K=>K.setting_key==="article_show_author_email"),q=z.find(K=>K.setting_key==="article_show_author_photo"),J=z.find(K=>K.setting_key==="article_show_thumbs_up"),Q=z.find(K=>K.setting_key==="article_show_thumbs_down");console.log("[ArticleView] Photo setting found:",q);const Y={showViewCount:(H==null?void 0:H.setting_value)!=="false",showAuthorBio:(B==null?void 0:B.setting_value)!=="false",showAwardsLabel:($==null?void 0:$.setting_value)!=="false",showAboutAuthorLabel:(I==null?void 0:I.setting_value)!=="false",showAuthorOrganization:(L==null?void 0:L.setting_value)!=="false",showAuthorEmail:(V==null?void 0:V.setting_value)!=="false",showAuthorPhoto:(q==null?void 0:q.setting_value)!=="false",showThumbsUp:(J==null?void 0:J.setting_value)!=="false",showThumbsDown:(Q==null?void 0:Q.setting_value)!=="false"};return console.log("[ArticleView] Parsed settings:",Y),Y},initialData:{showViewCount:!0,showAuthorBio:!0,showAwardsLabel:!0,showAboutAuthorLabel:!0,showAuthorOrganization:!0,showAuthorEmail:!0,showAuthorPhoto:!0,showThumbsUp:!0,showThumbsDown:!0},refetchOnMount:!0}),u=!!sessionStorage.getItem("agcas_member");b.useEffect(()=>{if(t)a(t.email);else{let z=sessionStorage.getItem("public_user_id");z||(z=`public_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("public_user_id",z)),a(z)}},[t]);const{data:m,isLoading:h}=me({queryKey:["article-by-slug",n],queryFn:async()=>{console.log("[ArticleView] Fetching article for slug:",n);const H=(await ee.entities.BlogPost.list()).find(B=>B.slug===n);return console.log("[ArticleView] Article found:",!!H),console.log("[ArticleView] Article author_id:",H==null?void 0:H.author_id),H},enabled:!!n}),{data:p=0}=me({queryKey:["article-view-count",m==null?void 0:m.id],queryFn:async()=>(await ee.entities.ArticleView.list()).filter(H=>H.article_id===m.id).length,enabled:!!(m!=null&&m.id),staleTime:10*1e3}),{data:x}=me({queryKey:["author-member",m==null?void 0:m.author_id],queryFn:async()=>{if(!(m!=null&&m.author_id))return null;const H=(await ee.entities.Member.list()).find(B=>B.id===m.author_id);return console.log("[ArticleView] authorMember found:",H),console.log("[ArticleView] authorMember.organization_id:",H==null?void 0:H.organization_id),H},enabled:!!(m!=null&&m.author_id)}),{data:y}=me({queryKey:["guest-writer",m==null?void 0:m.guest_writer_id],queryFn:async()=>m!=null&&m.guest_writer_id?(await ee.entities.GuestWriter.list()).find(H=>H.id===m.guest_writer_id):null,enabled:!!(m!=null&&m.guest_writer_id)}),v=y||x,j=!!y,{data:w,isLoading:N,isError:_}=me({queryKey:["author-organization",x==null?void 0:x.organization_id],queryFn:async()=>{if(console.log("[ArticleView] Fetching organization for Zoho ID:",x==null?void 0:x.organization_id),!(x!=null&&x.organization_id))return console.log("[ArticleView] No organization_id, returning null"),null;const z=await ee.entities.Organization.list();console.log("[ArticleView] All organizations:",z.length),console.log("[ArticleView] Looking for org with zoho_account_id:",x.organization_id);const H=z.find(B=>B.zoho_account_id===x.organization_id);return console.log("[ArticleView] Found organization:",H),H},enabled:!!(x!=null&&x.organization_id)&&!j,staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1});console.log("[ArticleView] Query state - orgLoading:",N,"orgError:",_,"authorOrganization:",w);const P=j?y==null?void 0:y.organization:w==null?void 0:w.name,{data:A}=me({queryKey:["author-stats",x==null?void 0:x.id],queryFn:async()=>{if(!(x!=null&&x.id))return{eventsAttended:0,articlesWritten:0,jobsPosted:0};const[z,H,B]=await Promise.all([ee.entities.Booking.list(),ee.entities.BlogPost.list(),ee.entities.JobPosting.list()]),$=z.filter(V=>V.member_id===x.id&&V.status==="confirmed").length,I=H.filter(V=>V.author_id===x.id&&V.status==="published").length,L=B.filter(V=>V.posted_by_member_id===x.id).length;return{eventsAttended:$,articlesWritten:I,jobsPosted:L}},enabled:!!(x!=null&&x.id)&&!j}),{data:E=[]}=me({queryKey:["awards"],queryFn:async()=>(await ee.entities.Award.list()).filter(H=>H.is_active).sort((H,B)=>(H.level||0)-(B.level||0))}),{data:C=[]}=me({queryKey:["author-offline-assignments",x==null?void 0:x.id],queryFn:async()=>x!=null&&x.id?(await ee.entities.OfflineAwardAssignment.list()).filter(H=>H.member_id===x.id):[],enabled:!!(x!=null&&x.id)}),{data:R=[]}=me({queryKey:["offlineAwards"],queryFn:async()=>(await ee.entities.OfflineAward.list()).filter(H=>H.is_active)}),O=Be.useMemo(()=>!A||!E||E.length===0?[]:E.filter(z=>(z.award_type==="events_attended"?A.eventsAttended:z.award_type==="articles_published"?A.articlesWritten:z.award_type==="jobs_posted"?A.jobsPosted:0)>=z.threshold),[A,E]),k=Be.useMemo(()=>!C||C.length===0||!R?[]:C.map(z=>R.find(H=>H.id===z.offline_award_id)).filter(Boolean).sort((z,H)=>(z.level||0)-(H.level||0)),[C,R]),T=Ie({mutationFn:async()=>{if(!m||!r||i)return;(await ee.entities.ArticleView.list()).some(B=>B.article_id===m.id&&B.user_identifier===r)||(await ee.entities.ArticleView.create({article_id:m.id,user_identifier:r,is_member:!!t}),l(!0))}});b.useEffect(()=>{m&&r&&!i&&T.mutate()},[m,r,i]);const D=()=>{const H=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;window.open(H,"_blank","width=600,height=600")},F=()=>{const z=encodeURIComponent((m==null?void 0:m.title)||"Check out this article"),H=encodeURIComponent(`I thought you might find this article interesting:

${(m==null?void 0:m.title)||""}

${(m==null?void 0:m.summary)||""}

${window.location.href}`);window.location.href=`mailto:?subject=${z}&body=${H}`};if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading article..."})});if(!m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Article not found"}),e.jsx(Gt,{to:Te(u?"Articles":"PublicArticles"),children:e.jsx(X,{children:"Back to Articles"})})]})});const U=t&&m.author_id===t.id;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs(Gt,{to:Te(u?"Articles":"PublicArticles"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to Articles"]}),U&&e.jsx(Gt,{to:`${Te("ArticleEditor")}?id=${m.id}`,children:e.jsxs(X,{variant:"outline",className:"gap-2",children:[e.jsx(Di,{className:"w-4 h-4"}),"Edit"]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-lg mb-8",children:[m.feature_image_url&&e.jsx("div",{className:"h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:m.feature_image_url,alt:m.title,className:"w-full h-full object-cover"})}),e.jsxs(ce,{className:"pt-8 pb-12 px-8 md:px-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 mb-6",children:[m.subcategories&&m.subcategories.length>0&&e.jsxs(e.Fragment,{children:[m.subcategories.slice(0,3).map((z,H)=>e.jsx(ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:z},H)),m.subcategories.length>3&&e.jsxs(ye,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:["+",m.subcategories.length-3," more"]})]}),(d==null?void 0:d.showViewCount)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(kr,{className:"w-4 h-4 text-purple-600"}),e.jsxs("span",{className:"font-medium",children:[p," ",p===1?"view":"views"]})]}),m.published_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{children:Ot(new Date(m.published_date),"MMMM d, yyyy")})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:m.title}),m.summary&&e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:m.summary}),v&&e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[(d==null?void 0:d.showAboutAuthorLabel)&&e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-4",children:"About the author"}),e.jsxs("div",{className:"flex items-start gap-4",children:[(d==null?void 0:d.showAuthorPhoto)&&e.jsx("div",{className:"flex-shrink-0",children:v.profile_photo_url?e.jsx("img",{src:v.profile_photo_url,alt:j?v.full_name:`${v.first_name} ${v.last_name}`,className:"w-20 h-20 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(sn,{className:"w-10 h-10 text-slate-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:j?v.full_name:`${v.first_name} ${v.last_name}`}),(d==null?void 0:d.showAuthorOrganization)&&P&&e.jsx("p",{className:"text-sm text-blue-700 font-medium mt-0.5",children:P}),v.job_title&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.job_title}),(d==null?void 0:d.showAuthorEmail)&&v.email&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:v.email})]})}),(d==null?void 0:d.showAuthorBio)&&v.biography&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:`text-sm text-slate-700 leading-relaxed ${o?"":"line-clamp-3"}`,children:v.biography}),e.jsx("button",{onClick:()=>c(!o),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 mt-2 font-medium",children:o?e.jsxs(e.Fragment,{children:["Hide ",e.jsx(Nv,{className:"w-4 h-4"})]}):e.jsxs(e.Fragment,{children:["Read More ",e.jsx(Vr,{className:"w-4 h-4"})]})})]}),!j&&(O.length>0||k.length>0)&&e.jsxs("div",{className:"mt-4",children:[(d==null?void 0:d.showAwardsLabel)&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-xs font-semibold text-slate-700",children:"Awards"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.slice(0,4).map(z=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200",title:z.description,children:[z.image_url?e.jsx("img",{src:z.image_url,alt:z.name,className:"w-5 h-5 object-contain"}):e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"text-xs font-medium text-slate-900",children:z.name})]},z.id)),k.slice(0,4).map(z=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200",title:z.description,children:[z.image_url?e.jsx("img",{src:z.image_url,alt:z.name,className:"w-5 h-5 object-contain"}):e.jsx(Wn,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-slate-900",children:z.name})]},z.id)),O.length+k.length>4&&e.jsx("div",{className:"px-3 py-1.5 bg-slate-100 rounded-lg border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",O.length+k.length-4," more"]})})]})]})]})]})]}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none",dangerouslySetInnerHTML:{__html:m.content}}),m.tags&&m.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(yd,{className:"w-4 h-4 text-slate-400"}),m.tags.map(z=>e.jsx(ye,{variant:"outline",className:"text-sm",children:z},z))]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[((d==null?void 0:d.showThumbsUp)||(d==null?void 0:d.showThumbsDown))&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Was this article helpful?"}),e.jsx(gge,{articleId:m.id,memberInfo:t,showThumbsUp:d==null?void 0:d.showThumbsUp,showThumbsDown:d==null?void 0:d.showThumbsDown})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 pt-4 border-t border-slate-200",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Share this article:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"lg",onClick:D,className:"gap-2 hover:bg-[#0077B5] hover:text-white hover:border-[#0077B5] transition-all",children:[e.jsx(jh,{className:"w-5 h-5"}),e.jsx("span",{children:"LinkedIn"})]}),e.jsxs(X,{variant:"outline",size:"lg",onClick:F,className:"gap-2 hover:bg-slate-700 hover:text-white hover:border-slate-700 transition-all",children:[e.jsx(Rs,{className:"w-5 h-5"}),e.jsx("span",{children:"Email"})]})]})]})]})})]})]}),e.jsx(pge,{articleId:m.id,memberInfo:t,showThumbsUp:d==null?void 0:d.showThumbsUp,showThumbsDown:d==null?void 0:d.showThumbsDown})]})})}function Lq(){const t=[{icon:Cs,title:"Community",description:"Bringing together careers professionals across UK and Ireland higher education institutions."},{icon:kQ,title:"Excellence",description:"Setting high standards for careers guidance and employability support in higher education."},{icon:NG,title:"Innovation",description:"Championing best practices and innovative approaches to careers education."},{icon:_Y,title:"Support",description:"Providing professional development and networking opportunities for our members."}];return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About AGCAS"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"The Association of Graduate Careers Advisory Services represents careers and employability services in higher education across the UK and Ireland."})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Our Mission"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-8",children:"AGCAS exists to support career development and employability professionals working in higher education. We provide a platform for professional development, networking, and knowledge sharing that enables our members to deliver outstanding support to students and graduates."}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"What We Do"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-8",children:"We offer a comprehensive range of services including professional development training, research and best practice guidance, networking events, and advocacy for the careers and employability sector. Our members benefit from access to a supportive community of professionals who share knowledge, resources, and expertise."})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Our Values"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,n)=>{const r=s.icon;return e.jsx(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:e.jsxs(ce,{className:"p-6 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(r,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:s.title}),e.jsx("p",{className:"text-slate-600 text-sm",children:s.description})]})},n)})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 rounded-2xl p-8 md:p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:"Membership"}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"AGCAS membership is open to individuals and institutions involved in careers education, information, advice and guidance in higher education. Our members include careers advisers, employability professionals, academics, and other professionals committed to supporting student career development."}),e.jsx("p",{className:"text-slate-600 text-lg leading-relaxed",children:"Join a community of over 1,000 careers professionals and gain access to exclusive training events, research publications, networking opportunities, and much more."})]})]})]})}function Bq(){const[t,s]=b.useState({name:"",email:"",subject:"",message:""}),[n,r]=b.useState(!1),a=async i=>{i.preventDefault(),r(!0),setTimeout(()=>{te.success("Thank you for your message! We'll be in touch soon."),s({name:"",email:"",subject:"",message:""}),r(!1)},1e3)};return e.jsxs("div",{className:"bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"Get in touch with the AGCAS team. We're here to help with any questions about membership, events, or our services."})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Get In Touch"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Rs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Email"}),e.jsx("a",{href:"mailto:info@agcas.org.uk",className:"text-blue-600 hover:text-blue-700",children:"info@agcas.org.uk"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Sv,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Phone"}),e.jsx("a",{href:"tel:+441142515750",className:"text-blue-600 hover:text-blue-700",children:"+44 (0)114 251 5750"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Wr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Address"}),e.jsxs("p",{className:"text-slate-600",children:["AGCAS",e.jsx("br",{}),"Sheffield",e.jsx("br",{}),"United Kingdom"]})]})]})]})]}),e.jsx(le,{className:"border-slate-200 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Office Hours"}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Monday - Friday",e.jsx("br",{}),"9:00 AM - 5:00 PM (GMT)"]})]})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Send Us a Message"})}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",value:t.name,onChange:i=>s({...t,name:i.target.value}),placeholder:"Your name",required:!0})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:t.email,onChange:i=>s({...t,email:i.target.value}),placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subject",children:"Subject *"}),e.jsx(he,{id:"subject",value:t.subject,onChange:i=>s({...t,subject:i.target.value}),placeholder:"What is this regarding?",required:!0})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"message",children:"Message *"}),e.jsx(Qt,{id:"message",value:t.message,onChange:i=>s({...t,message:i.target.value}),placeholder:"Tell us how we can help...",rows:6,required:!0})]}),e.jsx(X,{type:"submit",disabled:n,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700",children:n?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(O5,{className:"w-4 h-4 mr-2"}),"Send Message"]})})]})})]})})]})})]})}function qq(){const{data:t,isLoading:s}=me({queryKey:["public-events"],queryFn:()=>ee.entities.Event.filter({status:"published"},"-start_date",50),initialData:[]});return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Upcoming Events"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl",children:"Discover professional development opportunities, training sessions, and networking events for careers professionals in higher education."})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:s?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((n,r)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},r))}):t.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ns,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Upcoming Events"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Check back soon for new professional development opportunities"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>{const r=n.start_date?new Date(n.start_date):null,a=n.available_seats===0||n.available_seats===null;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow overflow-hidden",children:[n.image_url&&e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100",children:e.jsx("img",{src:n.image_url,alt:n.title,className:"w-full h-full object-cover"})}),e.jsxs(Fe,{children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx(ze,{className:"text-lg",children:n.title}),n.program_tag&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:n.program_tag})]}),n.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:n.description})]}),e.jsxs(ce,{className:"space-y-3",children:[r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ns,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(r,"MMM d, yyyy")})]}),r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(r,"h:mm a")})]}),n.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:n.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Cs,{className:"w-4 h-4 text-slate-400"}),a?e.jsx("span",{className:"text-green-600 font-medium",children:"Open Registration"}):n.available_seats>0?e.jsxs("span",{className:"text-green-600 font-medium",children:[n.available_seats," seats available"]}):e.jsx("span",{className:"text-red-600 font-medium",children:"Sold out"})]}),e.jsx("div",{className:"pt-3 border-t border-slate-100",children:e.jsx(X,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href=Te("Home"),children:"Member Login to Book"})})]})]},n.id)})})})]})}const xge=[{id:"page_user_BuyProgramTickets",label:"Buy Tickets",category:"User Navigation"},{id:"page_user_Events",label:"Browse Events",category:"User Navigation"},{id:"page_user_Bookings",label:"Bookings",category:"User Navigation"},{id:"page_user_MyTickets",label:"My Tickets",category:"User Navigation"},{id:"page_user_Balances",label:"Balances",category:"User Navigation"},{id:"page_user_History",label:"History",category:"User Navigation"},{id:"page_user_Team",label:"Team",category:"User Navigation"},{id:"page_user_MemberDirectory",label:"Member Directory",category:"User Navigation"},{id:"page_user_OrganisationDirectory",label:"Organisation Directory",category:"User Navigation"},{id:"page_user_Resources",label:"Resources",category:"User Navigation"},{id:"page_user_ArticlesSection",label:"Articles Section (Parent)",category:"User Navigation"},{id:"page_user_MyArticles",label:"My Articles",category:"User Navigation"},{id:"page_user_Articles",label:"Articles",category:"User Navigation"},{id:"page_user_News",label:"News",category:"User Navigation"},{id:"page_user_MyJobPostings",label:"My Job Postings",category:"User Navigation"},{id:"page_user_Preferences",label:"Preferences",category:"User Navigation"},{id:"page_user_Support",label:"Support",category:"User Navigation"},{id:"page_admin_NewsSection",label:"News Section (Parent)",category:"Admin Navigation"},{id:"page_admin_MyNews",label:"News Management",category:"Admin Navigation"},{id:"page_admin_NewsSettings",label:"News Settings",category:"Admin Navigation"},{id:"page_admin_ArticlesSection",label:"Articles Section (Parent)",category:"Admin Navigation"},{id:"page_admin_ArticleManagement",label:"All Articles",category:"Admin Navigation"},{id:"page_admin_ArticlesSettings",label:"Articles Settings",category:"Admin Navigation"},{id:"page_admin_RoleManagement",label:"Role Management",category:"Admin Navigation"},{id:"page_admin_MemberRoleAssignment",label:"Assign Member Roles",category:"Admin Navigation"},{id:"page_admin_TeamMemberManagement",label:"Team Members",category:"Admin Navigation"},{id:"page_admin_MemberHandleManagement",label:"Member Handle Management",category:"Admin Navigation"},{id:"page_admin_MemberDirectorySettings",label:"Member Directory Settings",category:"Admin Navigation"},{id:"page_admin_DiscountCodeManagement",label:"Discount Codes",category:"Admin Navigation"},{id:"page_admin_EventSettings",label:"Event Settings",category:"Admin Navigation"},{id:"page_admin_TicketSalesAnalytics",label:"Ticket Sales Analytics",category:"Admin Navigation"},{id:"page_admin_AwardManagement",label:"Award Management",category:"Admin Navigation"},{id:"page_admin_CategoryManagement",label:"Category Management",category:"Admin Navigation"},{id:"page_admin_ResourceSettings",label:"Category Setup",category:"Admin Navigation"},{id:"page_admin_ResourcesSection",label:"Resource Management Section (Parent)",category:"Admin Navigation"},{id:"page_admin_ResourceManagement",label:"Resources",category:"Admin Navigation"},{id:"page_admin_TagManagement",label:"Tags",category:"Admin Navigation"},{id:"page_admin_FileManagement",label:"File Repository",category:"Admin Navigation"},{id:"page_admin_JobBoardSection",label:"Job Board Section (Parent)",category:"Admin Navigation"},{id:"page_admin_JobPostingManagement",label:"Job Postings",category:"Admin Navigation"},{id:"page_admin_JobBoardSettings",label:"Job Board Settings",category:"Admin Navigation"},{id:"page_admin_PageBuilder",label:"Page Builder Section (Parent)",category:"Admin Navigation"},{id:"page_admin_IEditPageManagement",label:"Pages",category:"Admin Navigation"},{id:"page_admin_IEditTemplateManagement",label:"Element Templates",category:"Admin Navigation"},{id:"page_admin_PageBannerManagement",label:"Page Banners",category:"Admin Navigation"},{id:"page_admin_NavigationManagement",label:"Navigation Items",category:"Admin Navigation"},{id:"page_admin_ButtonElements",label:"Buttons",category:"Admin Navigation"},{id:"page_admin_ButtonStyleManagement",label:"Button Styles",category:"Admin Navigation"},{id:"page_admin_WallOfFameManagement",label:"Wall of Fame",category:"Admin Navigation"},{id:"page_admin_InstalledFonts",label:"Installed Fonts",category:"Admin Navigation"},{id:"page_admin_FormsSection",label:"Forms Section (Parent)",category:"Admin Navigation"},{id:"page_admin_FormManagement",label:"Form Management",category:"Admin Navigation"},{id:"page_admin_FormSubmissions",label:"View Submissions",category:"Admin Navigation"},{id:"page_admin_FloaterManagement",label:"Floater Management",category:"Admin Navigation"},{id:"page_admin_TeamInviteSettings",label:"Team Invite Settings",category:"Admin Navigation"},{id:"page_admin_DataExport",label:"Data Export",category:"Admin Navigation"},{id:"page_admin_SiteMap",label:"Site Map",category:"Admin Navigation"},{id:"page_admin_SupportManagement",label:"Support Management",category:"Admin Navigation"},{id:"page_admin_PortalNavigationManagement",label:"Portal Navigation (Legacy)",category:"Admin Navigation"},{id:"page_admin_PortalMenuManagement",label:"Portal Menu Management",category:"Admin Navigation"},{id:"page_admin_TourManagement",label:"Tour Management",category:"Admin Navigation"},{id:"page_admin_MemberGroupManagement",label:"Member Groups",category:"Admin Navigation"},{id:"page_Dashboard",label:"Dashboard Page",category:"Standalone Pages"},{id:"page_EventDetails",label:"Event Details Page",category:"Standalone Pages"},{id:"page_ArticleEditor",label:"Article Editor Page",category:"Standalone Pages"},{id:"page_ArticleView",label:"Article View Page",category:"Standalone Pages"},{id:"page_NewsEditor",label:"News Editor Page",category:"Standalone Pages"},{id:"page_NewsView",label:"News View Page",category:"Standalone Pages"},{id:"page_IEditPageEditor",label:"Page Builder Editor",category:"Standalone Pages"},{id:"page_GuestWriterManagement",label:"Guest Writer Management",category:"Standalone Pages"},{id:"page_OrganisationDirectorySettings",label:"Organisation Directory Settings",category:"Standalone Pages"},{id:"element_EventDescription",label:"Event Description Element",category:"UI Elements"},{id:"element_EventsPageDescription",label:"Events Page Description",category:"UI Elements"},{id:"element_EventsSearch",label:"Events Page Search & Filters",category:"UI Elements"},{id:"element_SelfRegistration",label:"Self Registration for Events",category:"UI Elements"},{id:"element_PurchaseButton",label:"Purchase Button",category:"UI Elements"},{id:"element_AvailableSeatsDisplay",label:"Event Available Seats Display",category:"UI Elements"},{id:"element_FloatersDisplay",label:"Floater Elements Display",category:"UI Elements"},{id:"element_NewsTickerBar",label:"News Ticker Bar",category:"UI Elements"},{id:"payment_training_vouchers",label:"Use Training Vouchers for Purchases",category:"Payment Options"},{id:"payment_training_fund",label:"Use Training Fund for Purchases",category:"Payment Options"}];function $q({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(null),m=Jt();b.useEffect(()=>{s!=null&&(!t||n("page_RoleManagement"))&&(window.location.href=Te("Events"))},[t,s,n]);const{data:h,isLoading:p}=me({queryKey:["roles"],queryFn:()=>ee.entities.Role.list(),initialData:[]}),x=Ie({mutationFn:E=>ee.entities.Role.create(E),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),l(!1),a(null),te.success("Role created successfully")},onError:E=>{te.error("Failed to create role: "+E.message)}}),y=Ie({mutationFn:({id:E,roleData:C})=>ee.entities.Role.update(E,C),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),l(!1),a(null),te.success("Role updated successfully")},onError:E=>{te.error("Failed to update role: "+E.message)}}),v=Ie({mutationFn:E=>ee.entities.Role.delete(E),onSuccess:()=>{m.invalidateQueries({queryKey:["roles"]}),c(!1),u(null),te.success("Role deleted successfully")},onError:E=>{te.error("Failed to delete role: "+E.message)}}),j=()=>{a({name:"",description:"",excluded_features:[],is_default:!1,is_admin:!1,show_tours:!0,default_landing_page:"Events",layout_theme:"default"}),l(!0)},w=E=>{a({...E}),l(!0)},N=E=>{u(E),c(!0)},_=()=>{if(!r.name.trim()){te.error("Role name is required");return}r.id?y.mutate({id:r.id,roleData:{name:r.name,description:r.description,excluded_features:r.excluded_features,is_default:r.is_default,is_admin:r.is_admin,show_tours:r.show_tours,default_landing_page:r.default_landing_page||"Events",layout_theme:r.layout_theme||"default",requires_effective_from_date:r.requires_effective_from_date||!1}}):x.mutate({name:r.name,description:r.description,excluded_features:r.excluded_features,is_default:r.is_default,is_admin:r.is_admin,show_tours:r.show_tours,default_landing_page:r.default_landing_page||"Events",layout_theme:r.layout_theme||"default",requires_effective_from_date:r.requires_effective_from_date||!1})},P=E=>{const C=r.excluded_features||[],R=C.includes(E)?C.filter(O=>O!==E):[...C,E];a({...r,excluded_features:R})},A=xge.reduce((E,C)=>(E[C.category]||(E[C.category]=[]),E[C.category].push(C),E),{});return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_RoleManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Role Management"}),e.jsx("p",{className:"text-slate-600",children:"Define roles and control what features members can access"})]}),e.jsxs(X,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading roles..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Bn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Roles Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first role to start managing member access"}),e.jsxs(X,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Role"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(E=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Bn,{className:"w-5 h-5 text-blue-600"}),e.jsx(ze,{className:"text-lg",children:E.name})]}),e.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[E.is_default&&e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Default Role"}),E.is_admin&&e.jsx(ye,{className:"bg-amber-100 text-amber-700",children:"Administrator"}),E.show_tours&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:"Tours Enabled"}),E.requires_effective_from_date&&e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:"Effective From Required"})]})]})})}),e.jsxs(ce,{className:"pt-4",children:[E.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:E.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase",children:"Restrictions"}),E.excluded_features&&E.excluded_features.length>0?e.jsxs("div",{className:"text-sm text-slate-700",children:[E.excluded_features.length," feature",E.excluded_features.length>1?"s":""," restricted"]}):e.jsx("div",{className:"text-sm text-green-600",children:"Full access"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(E),className:"flex-1",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>N(E),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},E.id))}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:r!=null&&r.id?"Edit Role":"Create New Role"})}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"role-name",children:"Role Name *"}),e.jsx(he,{id:"role-name",value:r.name,onChange:E=>a({...r,name:E.target.value}),placeholder:"e.g., Standard Member"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"role-description",children:"Description"}),e.jsx(Qt,{id:"role-description",value:r.description||"",onChange:E=>a({...r,description:E.target.value}),placeholder:"Describe what this role includes...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"landing-page",children:"Default Landing Page"}),e.jsxs(Ge,{value:r.default_landing_page||"Events",onValueChange:E=>a({...r,default_landing_page:E}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select landing page"})}),e.jsxs(We,{children:[e.jsx(re,{value:"Events",children:"Browse Events"}),e.jsx(re,{value:"Dashboard",children:"Dashboard"}),e.jsx(re,{value:"Bookings",children:"Bookings"}),e.jsx(re,{value:"Balances",children:"Balances"}),e.jsx(re,{value:"BuyProgramTickets",children:"Buy Program Tickets"}),e.jsx(re,{value:"History",children:"History"}),e.jsx(re,{value:"Resources",children:"Resources"}),e.jsx(re,{value:"Articles",children:"Articles"}),e.jsx(re,{value:"MyArticles",children:"My Articles"}),e.jsx(re,{value:"MyJobPostings",children:"My Job Postings"}),e.jsx(re,{value:"Team",children:"Team"}),e.jsx(re,{value:"MemberDirectory",children:"Member Directory"}),e.jsx(re,{value:"OrganisationDirectory",children:"Organisation Directory"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"The page users with this role will see after logging in"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"layout-theme",children:"Layout Theme"}),e.jsxs(Ge,{value:r.layout_theme||"default",onValueChange:E=>a({...r,layout_theme:E}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select theme"})}),e.jsxs(We,{children:[e.jsx(re,{value:"default",children:"Default Theme"}),e.jsx(re,{value:"new_header",children:"New Header Theme"}),e.jsx(re,{value:"bare_home",children:"Bare Home Page Layout"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Visual theme/layout to apply for users with this role"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is-default",checked:r.is_default||!1,onCheckedChange:E=>a({...r,is_default:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-default",className:"cursor-pointer",children:"Default Role"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Automatically assign this role to new members"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsx(fs,{id:"is-admin",checked:r.is_admin||!1,onCheckedChange:E=>a({...r,is_admin:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-admin",className:"cursor-pointer font-medium text-amber-900",children:"Administrator Role"}),e.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Grant full admin access to manage roles and members"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(fs,{id:"show-tours",checked:r.show_tours!==!1,onCheckedChange:E=>a({...r,show_tours:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"show-tours",className:"cursor-pointer font-medium text-purple-900",children:"Enable Page Tours"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Show guided tours to users with this role"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx(fs,{id:"requires-effective-from",checked:r.requires_effective_from_date||!1,onCheckedChange:E=>a({...r,requires_effective_from_date:E})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"requires-effective-from",className:"cursor-pointer font-medium text-blue-900",children:"Requires Effective From Date"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:'Require an "Effective From" date when assigning this role (e.g., for Alumni)'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{className:"text-base",children:"Feature Restrictions"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1 mb-4",children:"Select features that members with this role should NOT have access to"})]}),Object.entries(A).map(([E,C])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:E}),e.jsx("div",{className:"space-y-2 pl-4",children:C.map(R=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsx(fs,{id:R.id,checked:(r.excluded_features||[]).includes(R.id),onCheckedChange:()=>P(R.id)}),e.jsx(Z,{htmlFor:R.id,className:"flex-1 cursor-pointer",children:R.label})]},R.id))})]},E))]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:_,disabled:x.isPending||y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:r!=null&&r.id?"Update Role":"Create Role"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Role"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',d==null?void 0:d.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"Members assigned to this role will lose their role assignment."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),u(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>d&&v.mutate(d.id),disabled:v.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Role"})]})]})})]})})}function vge(t){const s=yge(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(jge);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function yge(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=Nge(a),o=wge(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var bge=Symbol("radix.slottable");function jge(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bge}function wge(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Nge(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yy="Popover",[Uq]=Er(yy,[jc]),Jp=jc(),[_ge,Cc]=Uq(yy),zq=t=>{const{__scopePopover:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!1}=t,o=Jp(s),c=b.useRef(null),[d,u]=b.useState(!1),[m,h]=ui({prop:r,defaultProp:a??!1,onChange:i,caller:yy});return e.jsx(Bv,{...o,children:e.jsx(_ge,{scope:s,contentId:Xn(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:l,children:n})})};zq.displayName=yy;var Vq="PopoverAnchor",Sge=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=Cc(Vq,n),i=Jp(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return b.useEffect(()=>(l(),()=>o()),[l,o]),e.jsx(Lp,{...i,...r,ref:s})});Sge.displayName=Vq;var Wq="PopoverTrigger",Hq=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=Cc(Wq,n),i=Jp(n),l=ys(s,a.triggerRef),o=e.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Jq(a.open),...r,ref:l,onClick:jt(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:e.jsx(Lp,{asChild:!0,...i,children:o})});Hq.displayName=Wq;var GC="PopoverPortal",[Cge,kge]=Uq(GC,{forceMount:void 0}),Kq=t=>{const{__scopePopover:s,forceMount:n,children:r,container:a}=t,i=Cc(GC,s);return e.jsx(Cge,{scope:s,forceMount:n,children:e.jsx(Tr,{present:n||i.open,children:e.jsx(Kh,{asChild:!0,container:a,children:r})})})};Kq.displayName=GC;var Dh="PopoverContent",Gq=b.forwardRef((t,s)=>{const n=kge(Dh,t.__scopePopover),{forceMount:r=n.forceMount,...a}=t,i=Cc(Dh,t.__scopePopover);return e.jsx(Tr,{present:r||i.open,children:i.modal?e.jsx(Tge,{...a,ref:s}):e.jsx(Pge,{...a,ref:s})})});Gq.displayName=Dh;var Ege=vge("PopoverContent.RemoveScroll"),Tge=b.forwardRef((t,s)=>{const n=Cc(Dh,t.__scopePopover),r=b.useRef(null),a=ys(s,r),i=b.useRef(!1);return b.useEffect(()=>{const l=r.current;if(l)return Tv(l)},[]),e.jsx(Dp,{as:Ege,allowPinchZoom:!0,children:e.jsx(Yq,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:jt(t.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:jt(t.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:jt(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pge=b.forwardRef((t,s)=>{const n=Cc(Dh,t.__scopePopover),r=b.useRef(!1),a=b.useRef(!1);return e.jsx(Yq,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Yq=b.forwardRef((t,s)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=t,h=Cc(Dh,n),p=Jp(n);return Cv(),e.jsx(Mp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Hh,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:e.jsx(qv,{"data-state":Jq(h.open),role:"dialog",id:h.contentId,...p,...m,ref:s,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Qq="PopoverClose",Age=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=Cc(Qq,n);return e.jsx(zt.button,{type:"button",...r,ref:s,onClick:jt(t.onClick,()=>a.onOpenChange(!1))})});Age.displayName=Qq;var Oge="PopoverArrow",Mge=b.forwardRef((t,s)=>{const{__scopePopover:n,...r}=t,a=Jp(n);return e.jsx($v,{...a,...r,ref:s})});Mge.displayName=Oge;function Jq(t){return t?"open":"closed"}var Dge=zq,Rge=Hq,Fge=Kq,Xq=Gq;const Zq=Dge,e7=Rge,YC=b.forwardRef(({className:t,align:s="center",sideOffset:n=4,...r},a)=>e.jsx(Fge,{children:e.jsx(Xq,{ref:a,align:s,sideOffset:n,className:et("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));YC.displayName=Xq.displayName;var is=function(){return is=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},is.apply(this,arguments)};function Ige(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function t7(t,s,n){for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}function Xp(t){return t.mode==="multiple"}function Zp(t){return t.mode==="range"}function by(t){return t.mode==="single"}var Lge={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Bge(t,s){return Ot(t,"LLLL y",s)}function qge(t,s){return Ot(t,"d",s)}function $ge(t,s){return Ot(t,"LLLL",s)}function Uge(t){return"".concat(t)}function zge(t,s){return Ot(t,"cccccc",s)}function Vge(t,s){return Ot(t,"yyyy",s)}var Wge=Object.freeze({__proto__:null,formatCaption:Bge,formatDay:qge,formatMonthCaption:$ge,formatWeekNumber:Uge,formatWeekdayName:zge,formatYearCaption:Vge}),Hge=function(t,s,n){return Ot(t,"do MMMM (EEEE)",n)},Kge=function(){return"Month: "},Gge=function(){return"Go to next month"},Yge=function(){return"Go to previous month"},Qge=function(t,s){return Ot(t,"cccc",s)},Jge=function(t){return"Week n. ".concat(t)},Xge=function(){return"Year: "},Zge=Object.freeze({__proto__:null,labelDay:Hge,labelMonthDropdown:Kge,labelNext:Gge,labelPrevious:Yge,labelWeekNumber:Jge,labelWeekday:Qge,labelYearDropdown:Xge});function exe(){var t="buttons",s=Lge,n=lC,r={},a={},i=1,l={},o=new Date;return{captionLayout:t,classNames:s,formatters:Wge,labels:Zge,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:l,today:o,mode:"default"}}function txe(t){var s=t.fromYear,n=t.toYear,r=t.fromMonth,a=t.toMonth,i=t.fromDate,l=t.toDate;return r?i=ma(r):s&&(i=new Date(s,0,1)),a?l=ay(a):n&&(l=new Date(n,11,31)),{fromDate:i?Eh(i):void 0,toDate:l?Eh(l):void 0}}var s7=b.createContext(void 0);function sxe(t){var s,n=t.initialProps,r=exe(),a=txe(n),i=a.fromDate,l=a.toDate,o=(s=n.captionLayout)!==null&&s!==void 0?s:r.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(by(n)||Xp(n)||Zp(n))&&(c=n.onSelect);var d=is(is(is({},r),n),{captionLayout:o,classNames:is(is({},r.classNames),n.classNames),components:is({},n.components),formatters:is(is({},r.formatters),n.formatters),fromDate:i,labels:is(is({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:is(is({},r.modifiers),n.modifiers),modifiersClassNames:is(is({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:is(is({},r.styles),n.styles),toDate:l});return e.jsx(s7.Provider,{value:d,children:t.children})}function hn(){var t=b.useContext(s7);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function n7(t){var s=hn(),n=s.locale,r=s.classNames,a=s.styles,i=s.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function nxe(t){return e.jsx("svg",is({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function r7(t){var s,n,r=t.onChange,a=t.value,i=t.children,l=t.caption,o=t.className,c=t.style,d=hn(),u=(n=(s=d.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&n!==void 0?n:nxe;return e.jsxs("div",{className:o,style:c,children:[e.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),e.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,e.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function rxe(t){var s,n=hn(),r=n.fromDate,a=n.toDate,i=n.styles,l=n.locale,o=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var m=[];if(_ce(r,a))for(var h=ma(r),p=r.getMonth();p<=a.getMonth();p++)m.push(iw(h,p));else for(var h=ma(new Date),p=0;p<=11;p++)m.push(iw(h,p));var x=function(v){var j=Number(v.target.value),w=iw(ma(t.displayMonth),j);t.onChange(w)},y=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:r7;return e.jsx(y,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:l}),children:m.map(function(v){return e.jsx("option",{value:v.getMonth(),children:o(v,{locale:l})},v.getMonth())})})}function axe(t){var s,n=t.displayMonth,r=hn(),a=r.fromDate,i=r.toDate,l=r.locale,o=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,h=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var p=a.getFullYear(),x=i.getFullYear(),y=p;y<=x;y++)h.push(KA(lB(new Date),y));var v=function(w){var N=KA(ma(n),Number(w.target.value));t.onChange(N)},j=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:r7;return e.jsx(j,{name:"years","aria-label":m(),className:c.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:u(n,{locale:l}),children:h.map(function(w){return e.jsx("option",{value:w.getFullYear(),children:u(w,{locale:l})},w.getFullYear())})})}function ixe(t,s){var n=b.useState(t),r=n[0],a=n[1],i=s===void 0?r:s;return[i,a]}function lxe(t){var s=t.month,n=t.defaultMonth,r=t.today,a=s||n||r||new Date,i=t.toDate,l=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(i&&Ph(i,a)<0){var d=-1*(c-1);a=Ii(i,d)}return l&&Ph(a,l)<0&&(a=l),ma(a)}function oxe(){var t=hn(),s=lxe(t),n=ixe(s,t.month),r=n[0],a=n[1],i=function(l){var o;if(!t.disableNavigation){var c=ma(l);a(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[r,i]}function cxe(t,s){for(var n=s.reverseMonths,r=s.numberOfMonths,a=ma(t),i=ma(Ii(a,r)),l=Ph(i,a),o=[],c=0;c<l;c++){var d=Ii(a,c);o.push(d)}return n&&(o=o.reverse()),o}function dxe(t,s){if(!s.disableNavigation){var n=s.toDate,r=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=r?i:1,o=ma(t);if(!n)return Ii(o,l);var c=Ph(n,t);if(!(c<i))return Ii(o,l)}}function uxe(t,s){if(!s.disableNavigation){var n=s.fromDate,r=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,l=r?i:1,o=ma(t);if(!n)return Ii(o,-l);var c=Ph(o,n);if(!(c<=0))return Ii(o,-l)}}var a7=b.createContext(void 0);function hxe(t){var s=hn(),n=oxe(),r=n[0],a=n[1],i=cxe(r,s),l=dxe(r,s),o=uxe(r,s),c=function(m){return i.some(function(h){return oC(m,h)})},d=function(m,h){c(m)||(h&&Y0(m,h)?a(Ii(m,1+s.numberOfMonths*-1)):a(m))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:o,nextMonth:l,isDateDisplayed:c};return e.jsx(a7.Provider,{value:u,children:t.children})}function eg(){var t=b.useContext(a7);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function tR(t){var s,n=hn(),r=n.classNames,a=n.styles,i=n.components,l=eg().goToMonth,o=function(u){l(Ii(u,t.displayIndex?-t.displayIndex:0))},c=(s=i==null?void 0:i.CaptionLabel)!==null&&s!==void 0?s:n7,d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:d}),e.jsx(rxe,{onChange:o,displayMonth:t.displayMonth}),e.jsx(axe,{onChange:o,displayMonth:t.displayMonth})]})}function mxe(t){return e.jsx("svg",is({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function fxe(t){return e.jsx("svg",is({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var tv=b.forwardRef(function(t,s){var n=hn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var l=i.join(" "),o=is(is({},a.button_reset),a.button);return t.style&&Object.assign(o,t.style),e.jsx("button",is({},t,{ref:s,type:"button",className:l,style:o}))});function pxe(t){var s,n,r=hn(),a=r.dir,i=r.locale,l=r.classNames,o=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var h=d(t.previousMonth,{locale:i}),p=[l.nav_button,l.nav_button_previous].join(" "),x=u(t.nextMonth,{locale:i}),y=[l.nav_button,l.nav_button_next].join(" "),v=(s=m==null?void 0:m.IconRight)!==null&&s!==void 0?s:fxe,j=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:mxe;return e.jsxs("div",{className:l.nav,style:o.nav,children:[!t.hidePrevious&&e.jsx(tv,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(v,{className:l.nav_icon,style:o.nav_icon}):e.jsx(j,{className:l.nav_icon,style:o.nav_icon})}),!t.hideNext&&e.jsx(tv,{name:"next-month","aria-label":x,className:y,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(j,{className:l.nav_icon,style:o.nav_icon}):e.jsx(v,{className:l.nav_icon,style:o.nav_icon})})]})}function sR(t){var s=hn().numberOfMonths,n=eg(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,l=n.displayMonths,o=l.findIndex(function(x){return oC(t.displayMonth,x)}),c=o===0,d=o===l.length-1,u=s>1&&(c||!d),m=s>1&&(d||!c),h=function(){r&&i(r)},p=function(){a&&i(a)};return e.jsx(pxe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:h,onNextClick:p})}function gxe(t){var s,n=hn(),r=n.classNames,a=n.disableNavigation,i=n.styles,l=n.captionLayout,o=n.components,c=(s=o==null?void 0:o.CaptionLabel)!==null&&s!==void 0?s:n7,d;return a?d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?d=e.jsx(tR,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?d=e.jsxs(e.Fragment,{children:[e.jsx(tR,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(sR,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(sR,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:i.caption,children:d})}function xxe(t){var s=hn(),n=s.footer,r=s.styles,a=s.classNames.tfoot;return n?e.jsx("tfoot",{className:a,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:n})})}):e.jsx(e.Fragment,{})}function vxe(t,s,n){for(var r=n?Rd(new Date):vl(new Date,{locale:t,weekStartsOn:s}),a=[],i=0;i<7;i++){var l=wr(r,i);a.push(l)}return a}function yxe(){var t=hn(),s=t.classNames,n=t.styles,r=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,l=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=vxe(a,i,l);return e.jsxs("tr",{style:n.head_row,className:s.head_row,children:[r&&e.jsx("td",{style:n.head_cell,className:s.head_cell}),d.map(function(u,m){return e.jsx("th",{scope:"col",className:s.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:o(u,{locale:a})},m)})]})}function bxe(){var t,s=hn(),n=s.classNames,r=s.styles,a=s.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:yxe;return e.jsx("thead",{style:r.head,className:n.head,children:e.jsx(i,{})})}function jxe(t){var s=hn(),n=s.locale,r=s.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:n})})}var QC=b.createContext(void 0);function wxe(t){if(!Xp(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(QC.Provider,{value:s,children:t.children})}return e.jsx(Nxe,{initialProps:t.initialProps,children:t.children})}function Nxe(t){var s=t.initialProps,n=t.children,r=s.selected,a=s.min,i=s.max,l=function(d,u,m){var h,p;(h=s.onDayClick)===null||h===void 0||h.call(s,d,u,m);var x=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!x){var y=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!y){var v=r?t7([],r):[];if(u.selected){var j=v.findIndex(function(w){return ca(d,w)});v.splice(j,1)}else v.push(d);(p=s.onSelect)===null||p===void 0||p.call(s,v,d,u,m)}}},o={disabled:[]};r&&o.disabled.push(function(d){var u=i&&r.length>i-1,m=r.some(function(h){return ca(h,d)});return!!(u&&!m)});var c={selected:r,onDayClick:l,modifiers:o};return e.jsx(QC.Provider,{value:c,children:n})}function JC(){var t=b.useContext(QC);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function _xe(t,s){var n=s||{},r=n.from,a=n.to;return r&&a?ca(a,t)&&ca(r,t)?void 0:ca(a,t)?{from:a,to:void 0}:ca(r,t)?void 0:tS(r,t)?{from:t,to:a}:{from:r,to:t}:a?tS(t,a)?{from:a,to:t}:{from:t,to:a}:r?Y0(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var XC=b.createContext(void 0);function Sxe(t){if(!Zp(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(XC.Provider,{value:s,children:t.children})}return e.jsx(Cxe,{initialProps:t.initialProps,children:t.children})}function Cxe(t){var s=t.initialProps,n=t.children,r=s.selected,a=r||{},i=a.from,l=a.to,o=s.min,c=s.max,d=function(p,x,y){var v,j;(v=s.onDayClick)===null||v===void 0||v.call(s,p,x,y);var w=_xe(p,r);(j=s.onSelect)===null||j===void 0||j.call(s,w,p,x,y)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],l?(u.range_end=[l],ca(i,l)||(u.range_middle=[{after:i,before:l}])):u.range_end=[i]):l&&(u.range_start=[l],u.range_end=[l]),o&&(i&&!l&&u.disabled.push({after:aw(i,o-1),before:wr(i,o-1)}),i&&l&&u.disabled.push({after:i,before:wr(i,o-1)}),!i&&l&&u.disabled.push({after:aw(l,o-1),before:wr(l,o-1)})),c){if(i&&!l&&(u.disabled.push({before:wr(i,-c+1)}),u.disabled.push({after:wr(i,c-1)})),i&&l){var m=Pi(l,i)+1,h=c-m;u.disabled.push({before:aw(i,h)}),u.disabled.push({after:wr(l,h)})}!i&&l&&(u.disabled.push({before:wr(l,-c+1)}),u.disabled.push({after:wr(l,c-1)}))}return e.jsx(XC.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function ZC(){var t=b.useContext(XC);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function N0(t){return Array.isArray(t)?t7([],t):t!==void 0?[t]:[]}function kxe(t){var s={};return Object.entries(t).forEach(function(n){var r=n[0],a=n[1];s[r]=N0(a)}),s}var Li;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Li||(Li={}));var Exe=Li.Selected,Ll=Li.Disabled,Txe=Li.Hidden,Pxe=Li.Today,a_=Li.RangeEnd,i_=Li.RangeMiddle,l_=Li.RangeStart,Axe=Li.Outside;function Oxe(t,s,n){var r,a=(r={},r[Exe]=N0(t.selected),r[Ll]=N0(t.disabled),r[Txe]=N0(t.hidden),r[Pxe]=[t.today],r[a_]=[],r[i_]=[],r[l_]=[],r[Axe]=[],r);return t.fromDate&&a[Ll].push({before:t.fromDate}),t.toDate&&a[Ll].push({after:t.toDate}),Xp(t)?a[Ll]=a[Ll].concat(s.modifiers[Ll]):Zp(t)&&(a[Ll]=a[Ll].concat(n.modifiers[Ll]),a[l_]=n.modifiers[l_],a[i_]=n.modifiers[i_],a[a_]=n.modifiers[a_]),a}var i7=b.createContext(void 0);function Mxe(t){var s=hn(),n=JC(),r=ZC(),a=Oxe(s,n,r),i=kxe(s.modifiers),l=is(is({},a),i);return e.jsx(i7.Provider,{value:l,children:t.children})}function l7(){var t=b.useContext(i7);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Dxe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Rxe(t){return!!(t&&typeof t=="object"&&"from"in t)}function Fxe(t){return!!(t&&typeof t=="object"&&"after"in t)}function Ixe(t){return!!(t&&typeof t=="object"&&"before"in t)}function Lxe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Bxe(t,s){var n,r=s.from,a=s.to;if(r&&a){var i=Pi(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var l=Pi(t,r)>=0&&Pi(a,t)>=0;return l}return a?ca(a,t):r?ca(r,t):!1}function qxe(t){return aC(t)}function $xe(t){return Array.isArray(t)&&t.every(aC)}function Uxe(t,s){return s.some(function(n){if(typeof n=="boolean")return n;if(qxe(n))return ca(t,n);if($xe(n))return n.includes(t);if(Rxe(n))return Bxe(t,n);if(Lxe(n))return n.dayOfWeek.includes(t.getDay());if(Dxe(n)){var r=Pi(n.before,t),a=Pi(n.after,t),i=r>0,l=a<0,o=tS(n.before,n.after);return o?l&&i:i||l}return Fxe(n)?Pi(t,n.after)>0:Ixe(n)?Pi(n.before,t)>0:typeof n=="function"?n(t):!1})}function ek(t,s,n){var r=Object.keys(s).reduce(function(i,l){var o=s[l];return Uxe(t,o)&&i.push(l),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!oC(t,n)&&(a.outside=!0),a}function zxe(t,s){for(var n=ma(t[0]),r=ay(t[t.length-1]),a,i,l=n;l<=r;){var o=ek(l,s),c=!o.disabled&&!o.hidden;if(!c){l=wr(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),a||(a=l),l=wr(l,1)}return i||a}var Vxe=365;function o7(t,s){var n=s.moveBy,r=s.direction,a=s.context,i=s.modifiers,l=s.retry,o=l===void 0?{count:0,lastFocused:t}:l,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,h={day:wr,week:eS,month:Ii,year:moe,startOfWeek:function(v){return a.ISOWeek?Rd(v):vl(v,{locale:m,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?oB(v):iC(v,{locale:m,weekStartsOn:c})}},p=h[n](t,r==="after"?1:-1);r==="before"&&d?p=foe([d,p]):r==="after"&&u&&(p=poe([u,p]));var x=!0;if(i){var y=ek(p,i);x=!y.disabled&&!y.hidden}return x?p:o.count>Vxe?o.lastFocused:o7(p,{moveBy:n,direction:r,context:a,modifiers:i,retry:is(is({},o),{count:o.count+1})})}var c7=b.createContext(void 0);function Wxe(t){var s=eg(),n=l7(),r=b.useState(),a=r[0],i=r[1],l=b.useState(),o=l[0],c=l[1],d=zxe(s.displayMonths,n),u=a??(o&&s.isDateDisplayed(o))?o:d,m=function(){c(a),i(void 0)},h=function(v){i(v)},p=hn(),x=function(v,j){if(a){var w=o7(a,{moveBy:v,direction:j,context:p,modifiers:n});ca(a,w)||(s.goToDate(w,a),h(w))}},y={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return e.jsx(c7.Provider,{value:y,children:t.children})}function tk(){var t=b.useContext(c7);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Hxe(t,s){var n=l7(),r=ek(t,n,s);return r}var sk=b.createContext(void 0);function Kxe(t){if(!by(t.initialProps)){var s={selected:void 0};return e.jsx(sk.Provider,{value:s,children:t.children})}return e.jsx(Gxe,{initialProps:t.initialProps,children:t.children})}function Gxe(t){var s=t.initialProps,n=t.children,r=function(i,l,o){var c,d,u;if((c=s.onDayClick)===null||c===void 0||c.call(s,i,l,o),l.selected&&!s.required){(d=s.onSelect)===null||d===void 0||d.call(s,void 0,i,l,o);return}(u=s.onSelect)===null||u===void 0||u.call(s,i,i,l,o)},a={selected:s.selected,onDayClick:r};return e.jsx(sk.Provider,{value:a,children:n})}function d7(){var t=b.useContext(sk);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Yxe(t,s){var n=hn(),r=d7(),a=JC(),i=ZC(),l=tk(),o=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,m=l.blur,h=l.focus,p=l.focusMonthBefore,x=l.focusMonthAfter,y=l.focusYearBefore,v=l.focusYearAfter,j=l.focusStartOfWeek,w=l.focusEndOfWeek,N=function(H){var B,$,I,L;by(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,t,s,H):Xp(n)?($=a.onDayClick)===null||$===void 0||$.call(a,t,s,H):Zp(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,t,s,H):(L=n.onDayClick)===null||L===void 0||L.call(n,t,s,H)},_=function(H){var B;h(t),(B=n.onDayFocus)===null||B===void 0||B.call(n,t,s,H)},P=function(H){var B;m(),(B=n.onDayBlur)===null||B===void 0||B.call(n,t,s,H)},A=function(H){var B;(B=n.onDayMouseEnter)===null||B===void 0||B.call(n,t,s,H)},E=function(H){var B;(B=n.onDayMouseLeave)===null||B===void 0||B.call(n,t,s,H)},C=function(H){var B;(B=n.onDayPointerEnter)===null||B===void 0||B.call(n,t,s,H)},R=function(H){var B;(B=n.onDayPointerLeave)===null||B===void 0||B.call(n,t,s,H)},O=function(H){var B;(B=n.onDayTouchCancel)===null||B===void 0||B.call(n,t,s,H)},k=function(H){var B;(B=n.onDayTouchEnd)===null||B===void 0||B.call(n,t,s,H)},T=function(H){var B;(B=n.onDayTouchMove)===null||B===void 0||B.call(n,t,s,H)},D=function(H){var B;(B=n.onDayTouchStart)===null||B===void 0||B.call(n,t,s,H)},F=function(H){var B;(B=n.onDayKeyUp)===null||B===void 0||B.call(n,t,s,H)},U=function(H){var B;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?o():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():o();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),d();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),u();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?y():p();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?v():x();break;case"Home":H.preventDefault(),H.stopPropagation(),j();break;case"End":H.preventDefault(),H.stopPropagation(),w();break}(B=n.onDayKeyDown)===null||B===void 0||B.call(n,t,s,H)},z={onClick:N,onFocus:_,onBlur:P,onKeyDown:U,onKeyUp:F,onMouseEnter:A,onMouseLeave:E,onPointerEnter:C,onPointerLeave:R,onTouchCancel:O,onTouchEnd:k,onTouchMove:T,onTouchStart:D};return z}function Qxe(){var t=hn(),s=d7(),n=JC(),r=ZC(),a=by(t)?s.selected:Xp(t)?n.selected:Zp(t)?r.selected:void 0;return a}function Jxe(t){return Object.values(Li).includes(t)}function Xxe(t,s){var n=[t.classNames.day];return Object.keys(s).forEach(function(r){var a=t.modifiersClassNames[r];if(a)n.push(a);else if(Jxe(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function Zxe(t,s){var n=is({},t.styles.day);return Object.keys(s).forEach(function(r){var a;n=is(is({},n),(a=t.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function e0e(t,s,n){var r,a,i,l=hn(),o=tk(),c=Hxe(t,s),d=Yxe(t,c),u=Qxe(),m=!!(l.onDayClick||l.mode!=="default");b.useEffect(function(){var A;c.outside||o.focusedDay&&m&&ca(o.focusedDay,t)&&((A=n.current)===null||A===void 0||A.focus())},[o.focusedDay,t,n,m,c.outside]);var h=Xxe(l,c).join(" "),p=Zxe(l,c),x=!!(c.outside&&!l.showOutsideDays||c.hidden),y=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:jxe,v=e.jsx(y,{date:t,displayMonth:s,activeModifiers:c}),j={style:p,className:h,children:v,role:"gridcell"},w=o.focusTarget&&ca(o.focusTarget,t)&&!c.outside,N=o.focusedDay&&ca(o.focusedDay,t),_=is(is(is({},j),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=N||w?0:-1,r)),d),P={isButton:m,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:_,divProps:j};return P}function t0e(t){var s=b.useRef(null),n=e0e(t.date,t.displayMonth,s);return n.isHidden?e.jsx("div",{role:"gridcell"}):n.isButton?e.jsx(tv,is({name:"day",ref:s},n.buttonProps)):e.jsx("div",is({},n.divProps))}function s0e(t){var s=t.number,n=t.dates,r=hn(),a=r.onWeekNumberClick,i=r.styles,l=r.classNames,o=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(s),{locale:o});if(!a)return e.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:u});var m=c(Number(s),{locale:o}),h=function(p){a(s,n,p)};return e.jsx(tv,{name:"week-number","aria-label":m,className:l.weeknumber,style:i.weeknumber,onClick:h,children:u})}function n0e(t){var s,n,r=hn(),a=r.styles,i=r.classNames,l=r.showWeekNumber,o=r.components,c=(s=o==null?void 0:o.Day)!==null&&s!==void 0?s:t0e,d=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:s0e,u;return l&&(u=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(d,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[u,t.dates.map(function(m){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:m})},jce(m))})]})}function nR(t,s,n){for(var r=n!=null&&n.ISOWeek?oB(s):iC(s,n),a=n!=null&&n.ISOWeek?Rd(t):vl(t,n),i=Pi(r,a),l=[],o=0;o<=i;o++)l.push(wr(a,o));var c=l.reduce(function(d,u){var m=n!=null&&n.ISOWeek?cB(u):uB(u,n),h=d.find(function(p){return p.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function r0e(t,s){var n=nR(ma(t),ay(t),s);if(s!=null&&s.useFixedWeeks){var r=Nce(t,s);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],l=eS(i,6-r),o=nR(eS(i,1),l,s);n.push.apply(n,o)}}return n}function a0e(t){var s,n,r,a=hn(),i=a.locale,l=a.classNames,o=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,x=r0e(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),y=(s=u==null?void 0:u.Head)!==null&&s!==void 0?s:bxe,v=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:n0e,j=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:xxe;return e.jsxs("table",{id:t.id,className:l.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(y,{}),e.jsx("tbody",{className:l.tbody,style:o.tbody,children:x.map(function(w){return e.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),e.jsx(j,{displayMonth:t.displayMonth})]})}function i0e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var l0e=i0e()?b.useLayoutEffect:b.useEffect,o_=!1,o0e=0;function rR(){return"react-day-picker-".concat(++o0e)}function c0e(t){var s,n=t??(o_?rR():null),r=b.useState(n),a=r[0],i=r[1];return l0e(function(){a===null&&i(rR())},[]),b.useEffect(function(){o_===!1&&(o_=!0)},[]),(s=t??a)!==null&&s!==void 0?s:void 0}function d0e(t){var s,n,r=hn(),a=r.dir,i=r.classNames,l=r.styles,o=r.components,c=eg().displayMonths,d=c0e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],h=l.month,p=t.displayIndex===0,x=t.displayIndex===c.length-1,y=!p&&!x;a==="rtl"&&(s=[p,x],x=s[0],p=s[1]),p&&(m.push(i.caption_start),h=is(is({},h),l.caption_start)),x&&(m.push(i.caption_end),h=is(is({},h),l.caption_end)),y&&(m.push(i.caption_between),h=is(is({},h),l.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:gxe;return e.jsxs("div",{className:m.join(" "),style:h,children:[e.jsx(v,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(a0e,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function u0e(t){var s=hn(),n=s.classNames,r=s.styles;return e.jsx("div",{className:n.months,style:r.months,children:t.children})}function h0e(t){var s,n,r=t.initialProps,a=hn(),i=tk(),l=eg(),o=b.useState(!1),c=o[0],d=o[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=is(is({},a.styles.root),a.style),h=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var v;return is(is({},x),(v={},v[y]=r[y],v))},{}),p=(n=(s=r.components)===null||s===void 0?void 0:s.Months)!==null&&n!==void 0?n:u0e;return e.jsx("div",is({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:e.jsx(p,{children:l.displayMonths.map(function(x,y){return e.jsx(d0e,{displayIndex:y,displayMonth:x},y)})})}))}function m0e(t){var s=t.children,n=Ige(t,["children"]);return e.jsx(sxe,{initialProps:n,children:e.jsx(hxe,{children:e.jsx(Kxe,{initialProps:n,children:e.jsx(wxe,{initialProps:n,children:e.jsx(Sxe,{initialProps:n,children:e.jsx(Mxe,{children:e.jsx(Wxe,{children:s})})})})})})})}function f0e(t){return e.jsx(m0e,is({},t,{children:e.jsx(h0e,{initialProps:t})}))}function nk({className:t,classNames:s,showOutsideDays:n=!0,...r}){return e.jsx(f0e,{showOutsideDays:n,className:et("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:et(Uf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:et("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:et(Uf({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:a,...i})=>e.jsx(Zn,{className:et("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>e.jsx(Ss,{className:et("h-4 w-4",a),...i})},...r})}nk.displayName="Calendar";function u7({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(""),[i,l]=b.useState("all"),[o,c]=b.useState(null),[d,u]=b.useState(null),m=Jt();b.useEffect(()=>{s!=null&&(!t||n("page_MemberRoleAssignment"))&&(window.location.href=Te("Events"))},[t,s,n]);const{data:h,isLoading:p}=me({queryKey:["members"],queryFn:()=>ee.entities.Member.list(),initialData:[]}),{data:x,isLoading:y}=me({queryKey:["roles"],queryFn:()=>ee.entities.Role.list(),initialData:[]}),v=Ie({mutationFn:({memberId:A,roleId:E,effectiveFrom:C})=>ee.entities.Member.update(A,{role_id:E,role_effective_from:C||null}),onSuccess:()=>{m.invalidateQueries({queryKey:["members"]}),te.success("Member role updated successfully"),c(null),u(null)},onError:A=>{te.error("Failed to update member role: "+A.message)}}),j=(A,E)=>{if(E==="none"||!E){v.mutate({memberId:A,roleId:null,effectiveFrom:null});return}const C=x.find(R=>R.id===E);C!=null&&C.requires_effective_from_date?(c({memberId:A,roleId:E,requiresDate:!0}),u(null)):v.mutate({memberId:A,roleId:E,effectiveFrom:null})},w=()=>{if(o){if(!d){te.error("Please select an Effective From date");return}v.mutate({memberId:o.memberId,roleId:o.roleId,effectiveFrom:Ot(d,"yyyy-MM-dd")})}},N=h.filter(A=>{var O,k,T;const E=r.toLowerCase(),C=((O=A.email)==null?void 0:O.toLowerCase().includes(E))||((k=A.first_name)==null?void 0:k.toLowerCase().includes(E))||((T=A.last_name)==null?void 0:T.toLowerCase().includes(E)),R=i==="all"||i==="none"&&!A.role_id||A.role_id===i;return C&&R}),_=A=>{const E=x.find(C=>C.id===A);return(E==null?void 0:E.name)||"No Role"},P=p||y;return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_MemberRoleAssignment")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Assign Member Roles"}),e.jsx("p",{className:"text-slate-600",children:"Assign roles to members to control their access to features"})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search members by name or email...",value:r,onChange:A=>a(A.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-64",children:e.jsxs(Ge,{value:i,onValueChange:l,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Filter by role"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Roles"}),e.jsx(re,{value:"none",children:"No Role Assigned"}),x.map(A=>e.jsx(re,{value:A.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-3 h-3"}),A.name]})},A.id))]})]})})]})})}),P?e.jsx("div",{className:"text-center py-12",children:"Loading members..."}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Members Found"}),e.jsx("p",{className:"text-slate-600",children:r?"Try adjusting your search":"No members in the system yet"})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{children:["Members (",N.length,")"]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:N.map(A=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 truncate",children:[A.first_name," ",A.last_name]}),A.role_id&&e.jsx(ye,{variant:"outline",className:"text-xs",children:_(A.role_id)}),A.role_effective_from&&e.jsxs(ye,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:["Effective: ",Ot(new Date(A.role_effective_from),"dd MMM yyyy")]})]}),e.jsx("p",{className:"text-sm text-slate-600 truncate",children:A.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-48",children:e.jsxs(Ge,{value:A.role_id||"none",onValueChange:E=>j(A.id,E==="none"?null:E),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select role"})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:e.jsx("span",{className:"text-slate-500",children:"No Role"})}),x.map(E=>e.jsx(re,{value:E.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-3 h-3"}),E.name,E.is_default&&e.jsx("span",{className:"text-xs text-green-600",children:"(Default)"})]})},E.id))]})]})}),A.role_id&&e.jsx(ar,{className:"w-5 h-5 text-green-600"}),(o==null?void 0:o.memberId)===A.id&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{className:"text-xs text-blue-700 mb-1 block",children:"Effective From Date *"}),e.jsxs(Zq,{children:[e.jsx(e7,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-40 justify-start text-left font-normal",children:[e.jsx(Ns,{className:"mr-2 h-4 w-4"}),d?Ot(d,"dd MMM yyyy"):e.jsx("span",{className:"text-slate-500",children:"Pick a date"})]})}),e.jsx(YC,{className:"w-auto p-0",align:"start",children:e.jsx(nk,{mode:"single",selected:d,onSelect:u,initialFocus:!0})})]})]}),e.jsx(X,{size:"sm",onClick:w,disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Confirm"}),e.jsx(X,{size:"sm",variant:"outline",onClick:()=>{c(null),u(null)},children:"Cancel"})]})]})]},A.id))})})]})]})})}function h7({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(null),[m,h]=b.useState(""),p=Jt();b.useEffect(()=>{s!=null&&(!t||n("page_TeamMemberManagement"))&&(window.location.href=Te("Events"))},[t,s,n]);const{data:x,isLoading:y}=me({queryKey:["team-members"],queryFn:()=>ee.entities.TeamMember.list(),initialData:[]}),{data:v,isLoading:j}=me({queryKey:["roles"],queryFn:()=>ee.entities.Role.list(),initialData:[]}),w=Ie({mutationFn:D=>ee.entities.TeamMember.create(D),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),l(!1),a(null),te.success("Team member created successfully")},onError:D=>{te.error("Failed to create team member: "+D.message)}}),N=Ie({mutationFn:({id:D,teamMemberData:F})=>ee.entities.TeamMember.update(D,F),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),l(!1),a(null),te.success("Team member updated successfully")},onError:D=>{te.error("Failed to update team member: "+D.message)}}),_=Ie({mutationFn:D=>ee.entities.TeamMember.delete(D),onSuccess:()=>{p.invalidateQueries({queryKey:["team-members"]}),c(!1),u(null),te.success("Team member deleted successfully")},onError:D=>{te.error("Failed to delete team member: "+D.message)}}),P=()=>{a({email:"",first_name:"",last_name:"",role_id:"",is_active:!0}),l(!0)},A=D=>{a({...D}),l(!0)},E=D=>{u(D),c(!0)},C=()=>{if(!r.email||!r.email.trim()){te.error("Email is required");return}if(!r.first_name||!r.first_name.trim()){te.error("First name is required");return}if(!r.last_name||!r.last_name.trim()){te.error("Last name is required");return}if(!r.role_id){te.error("Role is required");return}const D={email:r.email.trim(),first_name:r.first_name.trim(),last_name:r.last_name.trim(),role_id:r.role_id,is_active:r.is_active};r.id?N.mutate({id:r.id,teamMemberData:D}):w.mutate(D)},R=D=>{const F=v.find(U=>U.id===D);return(F==null?void 0:F.name)||"Unknown Role"},O=D=>{const F=v.find(U=>U.id===D);return(F==null?void 0:F.is_admin)||!1},k=x.filter(D=>{var U,z,H;const F=m.toLowerCase();return((U=D.email)==null?void 0:U.toLowerCase().includes(F))||((z=D.first_name)==null?void 0:z.toLowerCase().includes(F))||((H=D.last_name)==null?void 0:H.toLowerCase().includes(F))}),T=y||j;return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||n("page_TeamMemberManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Team Member Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage internal team members and administrators"})]}),e.jsxs(X,{onClick:P,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(kd,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:m,onChange:D=>h(D.target.value),className:"pl-10"})]})})}),T?e.jsx("div",{className:"text-center py-12",children:"Loading team members..."}):k.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:m?"No Team Members Found":"No Team Members Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:m?"Try adjusting your search":"Create your first team member to get started"}),!m&&e.jsxs(X,{onClick:P,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(kd,{className:"w-4 h-4 mr-2"}),"Add Team Member"]})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{children:["Team Members (",k.length,")"]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:k.map(D=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h3",{className:"font-semibold text-slate-900 truncate",children:[D.first_name," ",D.last_name]}),!D.is_active&&e.jsx(ye,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Inactive"}),D.is_active&&e.jsx(ye,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"})]}),e.jsx("p",{className:"text-sm text-slate-600 truncate mb-1",children:D.email}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"text-xs text-slate-600",children:R(D.role_id)}),O(D.role_id)&&e.jsx(ye,{className:"bg-amber-100 text-amber-700 text-xs",children:"Admin"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(D),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>E(D),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]},D.id))})})]}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{children:r!=null&&r.id?"Edit Team Member":"Add New Team Member"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"first-name",children:"First Name *"}),e.jsx(he,{id:"first-name",value:r.first_name,onChange:D=>a({...r,first_name:D.target.value}),placeholder:"John"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"last-name",children:"Last Name *"}),e.jsx(he,{id:"last-name",value:r.last_name,onChange:D=>a({...r,last_name:D.target.value}),placeholder:"Doe"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email Address *"}),e.jsx(he,{id:"email",type:"email",value:r.email,onChange:D=>a({...r,email:D.target.value}),placeholder:"john.doe@example.com",disabled:!!r.id}),r.id&&e.jsx("p",{className:"text-xs text-slate-500",children:"Email cannot be changed after creation"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"role",children:"Role *"}),e.jsxs(Ge,{value:r.role_id,onValueChange:D=>a({...r,role_id:D}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a role"})}),e.jsx(We,{children:v.map(D=>e.jsx(re,{value:D.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-3 h-3"}),D.name,D.is_admin&&e.jsx("span",{className:"text-xs text-amber-600",children:"(Admin)"})]})},D.id))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is-active",checked:r.is_active,onCheckedChange:D=>a({...r,is_active:D})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-active",className:"cursor-pointer",children:"Active Account"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Inactive accounts cannot log in"})]})]}),!r.id&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 text-blue-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-800",children:"After creating this team member, they can log in using the magic link system on the home page."})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:C,disabled:w.isPending||N.isPending,className:"bg-indigo-600 hover:bg-indigo-700",children:r!=null&&r.id?"Update Team Member":"Create Team Member"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Team Member"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-900 font-medium",children:"Are you sure you want to delete this team member?"}),d&&e.jsxs("p",{className:"text-xs text-red-700 mt-1",children:[d.first_name," ",d.last_name," (",d.email,")"]}),e.jsx("p",{className:"text-xs text-red-700 mt-2",children:"This action cannot be undone. They will no longer be able to access the system."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),u(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>d&&_.mutate(d.id),disabled:_.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Team Member"})]})]})})]})})}function m7({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(null),m=Jt(),{data:h,isLoading:p}=me({queryKey:["discount-codes"],queryFn:()=>ee.entities.DiscountCode.list("-created_date"),initialData:[]}),{data:x}=me({queryKey:["organizations"],queryFn:()=>ee.entities.Organization.list(),initialData:[]}),{data:y}=me({queryKey:["programs"],queryFn:()=>ee.entities.Program.list(),initialData:[]}),{data:v}=me({queryKey:["discount-usage"],queryFn:()=>ee.entities.DiscountCodeUsage.list(),initialData:[]}),j=Ie({mutationFn:T=>ee.entities.DiscountCode.create(T),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),l(!1),a(null),te.success("Discount code created successfully")},onError:T=>{te.error("Failed to create discount code: "+T.message)}}),w=Ie({mutationFn:({id:T,codeData:D})=>ee.entities.DiscountCode.update(T,D),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),l(!1),a(null),te.success("Discount code updated successfully")},onError:T=>{te.error("Failed to update discount code: "+T.message)}}),N=Ie({mutationFn:T=>ee.entities.DiscountCode.delete(T),onSuccess:()=>{m.invalidateQueries({queryKey:["discount-codes"]}),c(!1),u(null),te.success("Discount code deleted successfully")},onError:T=>{te.error("Failed to delete discount code: "+T.message)}}),_=T=>{if(T.organization_id){const D=v.find(F=>F.discount_code_id===T.id&&F.organization_id===T.organization_id);return!D||D.usage_count===0}else return(T.current_usage_count||0)===0},P=()=>{a({code:"",type:"percentage",value:0,description:"",is_active:!1,expires_at:"",min_purchase_amount:0,max_usage_count:null,program_tag:"",organization_id:""}),l(!0)},A=T=>{a({...T,expires_at:T.expires_at?Ot(new Date(T.expires_at),"yyyy-MM-dd'T'HH:mm"):"",organization_id:T.organization_id||"",program_tag:T.program_tag||"",max_usage_count:T.max_usage_count||null}),l(!0)},E=T=>{a({...T,id:void 0,code:T.code+"_COPY",is_active:!1,current_usage_count:0,expires_at:T.expires_at?Ot(new Date(T.expires_at),"yyyy-MM-dd'T'HH:mm"):"",organization_id:T.organization_id||"",program_tag:T.program_tag||""}),l(!0)},C=T=>{if(!_(T)){te.error("Cannot delete a discount code that has been used");return}u(T),c(!0)},R=async T=>{try{await ee.entities.DiscountCode.update(T.id,{is_active:!T.is_active}),m.invalidateQueries({queryKey:["discount-codes"]}),te.success(`Discount code ${T.is_active?"deactivated":"activated"}`)}catch(D){te.error("Failed to update status: "+D.message)}},O=()=>{if(!r.code.trim()){te.error("Code is required");return}if(r.value<=0){te.error("Value must be greater than 0");return}if(r.type==="percentage"&&r.value>100){te.error("Percentage cannot exceed 100%");return}const T={code:r.code.toUpperCase().trim(),type:r.type,value:parseFloat(r.value),description:r.description||"",is_active:r.is_active,expires_at:r.expires_at?new Date(r.expires_at).toISOString():null,min_purchase_amount:parseFloat(r.min_purchase_amount)||0,max_usage_count:r.max_usage_count?parseInt(r.max_usage_count):null,program_tag:r.program_tag||null,organization_id:r.organization_id||null};r.id?w.mutate({id:r.id,codeData:T}):j.mutate(T)},k=T=>{if(T.organization_id){const D=v.find(U=>U.discount_code_id===T.id&&U.organization_id===T.organization_id);return{used:(D==null?void 0:D.usage_count)||0,max:T.max_usage_count,hasMax:!!T.max_usage_count}}else return{used:T.current_usage_count||0,max:T.max_usage_count,hasMax:!!T.max_usage_count}};return!t||n("page_DiscountCodeManagement")?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Discount Code Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage discount codes for program ticket purchases"})]}),e.jsxs(X,{onClick:P,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Code"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading discount codes..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Discount Codes Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first discount code to start offering promotions"}),e.jsxs(X,{onClick:P,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Code"]})]})}):e.jsx("div",{className:"grid gap-6",children:h.map(T=>{const D=k(T),F=T.organization_id?x.find(z=>z.id===T.organization_id):null,U=T.expires_at&&new Date(T.expires_at)<new Date;return e.jsxs(le,{className:`border-2 ${T.is_active?U?"border-red-200 bg-red-50":"border-slate-200":"border-slate-200 bg-slate-50"}`,children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),e.jsx(ze,{className:"text-2xl font-bold",children:T.code}),T.is_active?e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Active"}):e.jsx(ye,{className:"bg-slate-200 text-slate-700",children:"Draft"}),U&&e.jsx(ye,{className:"bg-red-100 text-red-700",children:"Expired"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[T.type==="percentage"?e.jsxs(ye,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[T.value,"% OFF"]}):e.jsxs(ye,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:["",T.value.toFixed(2)," OFF"]}),T.organization_id?e.jsxs(ye,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Fa,{className:"w-3 h-3 mr-1"}),(F==null?void 0:F.name)||"Organization"]}):e.jsxs(ye,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(T5,{className:"w-3 h-3 mr-1"}),"Global"]}),T.program_tag&&e.jsx(ye,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:T.program_tag})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>A(T),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>E(T),children:[e.jsx(ni,{className:"w-3 h-3 mr-1"}),"Copy"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>R(T),children:T.is_active?"Deactivate":"Activate"}),_(T)&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(T),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})}),e.jsx(ce,{className:"pt-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[T.description&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-700",children:T.description})]}),T.min_purchase_amount>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Minimum Purchase"}),e.jsxs("p",{className:"text-sm text-slate-700",children:["",T.min_purchase_amount.toFixed(2)]})]}),T.expires_at&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Expires"}),e.jsx("p",{className:`text-sm ${U?"text-red-600 font-medium":"text-slate-700"}`,children:Ot(new Date(T.expires_at),"MMM d, yyyy h:mm a")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Usage"}),D.hasMax?e.jsxs("p",{className:"text-sm text-slate-700",children:[D.used," / ",D.max," times used"]}):e.jsxs("p",{className:"text-sm text-slate-700",children:[D.used," times used (no limit)"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Created"}),e.jsx("p",{className:"text-sm text-slate-700",children:Ot(new Date(T.created_date),"MMM d, yyyy")})]})]})]})})]},T.id)})}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:r!=null&&r.id?"Edit Discount Code":"Create New Discount Code"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"code",children:"Code *"}),e.jsx(he,{id:"code",value:r.code,onChange:T=>a({...r,code:T.target.value.toUpperCase()}),placeholder:"e.g., SUMMER20"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"type",children:"Type *"}),e.jsxs(Ge,{value:r.type,onValueChange:T=>a({...r,type:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"percentage",children:"Percentage"}),e.jsx(re,{value:"fixed",children:"Fixed Amount"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Z,{htmlFor:"value",children:["Value * ",r.type==="percentage"?"(%)":"()"]}),e.jsx(he,{id:"value",type:"number",step:"0.01",min:"0",max:r.type==="percentage"?"100":void 0,value:r.value,onChange:T=>a({...r,value:T.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:r.description,onChange:T=>a({...r,description:T.target.value}),placeholder:"Internal description for this code...",rows:2})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"organization",children:"Organization (Optional)"}),e.jsxs(Ge,{value:r.organization_id,onValueChange:T=>a({...r,organization_id:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Global (all organizations)"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"Global (all organizations)"}),x.map(T=>e.jsx(re,{value:T.id,children:T.name},T.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"program",children:"Program (Optional)"}),e.jsxs(Ge,{value:r.program_tag,onValueChange:T=>a({...r,program_tag:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"All programs"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"All programs"}),y.map(T=>e.jsx(re,{value:T.program_tag,children:T.name},T.id))]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"min-purchase",children:"Minimum Purchase ()"}),e.jsx(he,{id:"min-purchase",type:"number",step:"0.01",min:"0",value:r.min_purchase_amount,onChange:T=>a({...r,min_purchase_amount:T.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"max-usage",children:"Max Uses (Optional)"}),e.jsx(he,{id:"max-usage",type:"number",min:"1",value:r.max_usage_count||"",onChange:T=>a({...r,max_usage_count:T.target.value}),placeholder:"Unlimited"}),e.jsx("p",{className:"text-xs text-slate-500",children:r.organization_id?"Per organization":"Total across all organizations"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"expires",children:"Expiry Date (Optional)"}),e.jsx(he,{id:"expires",type:"datetime-local",value:r.expires_at,onChange:T=>a({...r,expires_at:T.target.value})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is-active",checked:r.is_active,onCheckedChange:T=>a({...r,is_active:T})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-active",className:"cursor-pointer font-medium",children:"Active"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Only active codes can be used by members"})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:O,disabled:j.isPending||w.isPending,className:"bg-blue-600 hover:bg-blue-700",children:r!=null&&r.id?"Update Code":"Create Code"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Discount Code"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',d==null?void 0:d.code,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This action cannot be undone."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(!1),u(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>d&&N.mutate(d.id),disabled:N.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Code"})]})]})})]})})}var p0e=Symbol("radix.slottable");function g0e(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=p0e,s}var f7="AlertDialog",[x0e]=Er(f7,[R3]),go=R3(),p7=t=>{const{__scopeAlertDialog:s,...n}=t,r=go(s);return e.jsx(Av,{...r,...n,modal:!0})};p7.displayName=f7;var v0e="AlertDialogTrigger",y0e=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=go(n);return e.jsx(RZ,{...a,...r,ref:s})});y0e.displayName=v0e;var b0e="AlertDialogPortal",g7=t=>{const{__scopeAlertDialog:s,...n}=t,r=go(s);return e.jsx(Ov,{...r,...n})};g7.displayName=b0e;var j0e="AlertDialogOverlay",x7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=go(n);return e.jsx(Gh,{...a,...r,ref:s})});x7.displayName=j0e;var nh="AlertDialogContent",[w0e,N0e]=x0e(nh),_0e=g0e("AlertDialogContent"),v7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:r,...a}=t,i=go(n),l=b.useRef(null),o=ys(s,l),c=b.useRef(null);return e.jsx(AZ,{contentName:nh,titleName:y7,docsSlug:"alert-dialog",children:e.jsx(w0e,{scope:n,cancelRef:c,children:e.jsxs(Yh,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:jt(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(_0e,{children:r}),e.jsx(C0e,{contentRef:l})]})})})});v7.displayName=nh;var y7="AlertDialogTitle",b7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=go(n);return e.jsx(Rp,{...a,...r,ref:s})});b7.displayName=y7;var j7="AlertDialogDescription",w7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=go(n);return e.jsx(Fp,{...a,...r,ref:s})});w7.displayName=j7;var S0e="AlertDialogAction",N7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=go(n);return e.jsx(Mv,{...a,...r,ref:s})});N7.displayName=S0e;var _7="AlertDialogCancel",S7=b.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:a}=N0e(_7,n),i=go(n),l=ys(s,a);return e.jsx(Mv,{...i,...r,ref:l})});S7.displayName=_7;var C0e=({contentRef:t})=>{const s=`\`${nh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nh}\` by passing a \`${j7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},k0e=p7,E0e=g7,C7=x7,k7=v7,E7=N7,T7=S7,P7=b7,A7=w7;const Yl=k0e,T0e=E0e,O7=b.forwardRef(({className:t,...s},n)=>e.jsx(C7,{className:et("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));O7.displayName=C7.displayName;const il=b.forwardRef(({className:t,...s},n)=>e.jsxs(T0e,{children:[e.jsx(O7,{}),e.jsx(k7,{ref:n,className:et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));il.displayName=k7.displayName;const ll=({className:t,...s})=>e.jsx("div",{className:et("flex flex-col space-y-2 text-center sm:text-left",t),...s});ll.displayName="AlertDialogHeader";const ol=({className:t,...s})=>e.jsx("div",{className:et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});ol.displayName="AlertDialogFooter";const cl=b.forwardRef(({className:t,...s},n)=>e.jsx(P7,{ref:n,className:et("text-lg font-semibold",t),...s}));cl.displayName=P7.displayName;const dl=b.forwardRef(({className:t,...s},n)=>e.jsx(A7,{ref:n,className:et("text-sm text-muted-foreground",t),...s}));dl.displayName=A7.displayName;const ul=b.forwardRef(({className:t,...s},n)=>e.jsx(E7,{ref:n,className:et(Uf(),t),...s}));ul.displayName=E7.displayName;const hl=b.forwardRef(({className:t,...s},n)=>e.jsx(T7,{ref:n,className:et(Uf({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));hl.displayName=T7.displayName;function M7({memberInfo:t,memberRole:s,reloadMemberInfo:n}){var B;const[r,a]=Be.useState(null),[i,l]=Be.useState(!1),[o,c]=Be.useState(null),[d,u]=Be.useState(new Set),[m,h]=Be.useState(!1),[p,x]=Be.useState(!1),y=Be.useRef(!1),v=(s==null?void 0:s.show_tours)!==!1,j=((B=t==null?void 0:t.page_tours_seen)==null?void 0:B.MyTickets)===!0;Be.useEffect(()=>{v&&!j&&t&&!y.current&&(y.current=!0,x(!0),h(!0))},[v,j,t]);const{data:w,isLoading:N}=me({queryKey:["my-tickets",t==null?void 0:t.email],queryFn:async()=>t!=null&&t.email?(await ee.entities.Booking.list("-created_date")).filter(I=>I.attendee_email===t.email):[],enabled:!!(t!=null&&t.email),initialData:[]}),{data:_,isLoading:P}=me({queryKey:["events"],queryFn:()=>ee.entities.Event.list(),initialData:[]}),{data:A,isLoading:E}=me({queryKey:["members"],queryFn:()=>ee.entities.Member.list(),initialData:[]}),C=async()=>{h(!1),x(!1)},R=async()=>{h(!1),x(!1),await k("MyTickets")},O=()=>{h(!1),x(!1),setTimeout(()=>{h(!0),x(!0)},10)},k=async $=>{if(t&&!t.is_team_member)try{const I=await ee.entities.Member.get(t.id);if(I){const L={...I.page_tours_seen||{},[$]:!0};await ee.entities.Member.update(I.id,{page_tours_seen:L});const V={...t,page_tours_seen:L};sessionStorage.setItem("agcas_member",JSON.stringify(V)),n&&n()}}catch(I){console.error("Failed to update tour status:",I)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const T=N||P||E,D=$=>{switch($){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},F=$=>$?new Date($).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z":"",U=($,I)=>{const L=$.start_date?new Date($.start_date):null,V=$.end_date?new Date($.end_date):null;if(!L)return;const q=V||new Date(L.getTime()+3600*1e3),J=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//AGCAS Events//iConnect//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${I.id}@agcas-events.com`,`DTSTAMP:${F(new Date)}`,`DTSTART:${F(L)}`,`DTEND:${F(q)}`,`SUMMARY:${$.title}`,$.description?`DESCRIPTION:${$.description.replace(/\n/g,"\\n")}`:"",$.location?`LOCATION:${$.location}`:"",`STATUS:${I.status==="confirmed"?"CONFIRMED":"TENTATIVE"}`,"END:VEVENT","END:VCALENDAR"].filter(ae=>ae).join(`\r
`),Q=new Blob([J],{type:"text/calendar;charset=utf-8"}),Y=window.URL.createObjectURL(Q),K=document.createElement("a");K.href=Y,K.download=`${$.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(Y)},z=$=>{c($),l(!0)},H=async()=>{if(!o||!o.backstage_order_id){te.error("Unable to cancel: Missing ticket information"),l(!1);return}a(o.id),l(!1);try{const I=(await ee.entities.Member.list()).find(V=>V.email===t.email);if(!I){te.error("Unable to verify member identity"),a(null),c(null);return}const L=await ee.functions.invoke("cancelTicketViaFlow",{orderId:o.backstage_order_id,cancelReason:"Cancelled by member via iConnect",memberId:I.id});if(L.data.success)u(V=>new Set([...V,o.id])),te.success("Ticket cancelled successfully"),setTimeout(()=>{window.location.reload()},1500);else throw new Error(L.data.error||"Failed to cancel ticket")}catch($){console.error("Cancellation error:",$),te.error("Failed to cancel ticket. Please try again or contact support.")}finally{a(null),c(null)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[m&&v&&e.jsx(Fd,{tourGroupName:"MyTickets",viewId:null,onComplete:C,onDismissPermanently:R,autoShow:p}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"My Tickets"}),v&&e.jsx(Id,{onClick:O})]}),e.jsx("p",{className:"text-slate-600",children:"Events you are registered to attend"})]}),T?e.jsx("div",{className:"space-y-6",children:Array(4).fill(0).map(($,I)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})]},I))}):w.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No tickets yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have any event tickets registered in your name yet"}),e.jsx(Gt,{to:Te("Events"),children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Browse Events"})})]})}):e.jsx("div",{className:"space-y-6",children:w.map(($,I)=>{const L=_.find(K=>K.id===$.event_id),V=A.find(K=>K.id===$.member_id);if(!L)return null;const q=L.start_date?new Date(L.start_date):null,J=$.member_id===t.id||t.email===$.attendee_email,Q=$.status==="cancelled"||d.has($.id),Y=L.backstage_public_url||null;return e.jsxs(le,{id:I===0?"first-my-ticket-card":void 0,className:`border-slate-200 shadow-sm hover:shadow-md transition-shadow ${Q?"opacity-75 border-red-300 bg-red-50/30":""}`,children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx(ze,{className:`text-xl ${Q?"line-through text-slate-500":""}`,children:L.title}),L.program_tag&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 border-blue-200",children:L.program_tag})]}),e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx(ye,{id:I===0?"first-ticket-status-badge":void 0,className:D(Q?"cancelled":$.status),children:Q?"cancelled":$.status})}),!J&&V&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-2",children:[e.jsx(sn,{className:"w-3 h-3"}),e.jsxs("span",{children:["Booked by ",V.first_name," ",V.last_name]})]})]}),L.image_url&&e.jsx("img",{src:L.image_url,alt:L.title,className:`w-24 h-24 object-cover rounded-lg shrink-0 ${Q?"grayscale":""}`})]})}),e.jsxs(ce,{className:"pt-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[q&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q?"text-slate-400":"text-slate-600"}`,children:[e.jsx(Ns,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(q,"EEEE, MMMM d, yyyy")})]}),q&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q?"text-slate-400":"text-slate-600"}`,children:[e.jsx(an,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(q,"h:mm a")})]}),L.location&&e.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q?"text-slate-400":"text-slate-600"}`,children:[e.jsx(Wr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:L.location})]})]}),e.jsxs("div",{className:"space-y-3",children:[$.backstage_order_id&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(Ls,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"text-slate-600",children:"Ticket ID:"}),e.jsx("span",{className:"font-mono text-purple-600 bg-purple-50 px-2 py-0.5 rounded",children:$.backstage_order_id})]}),$.booking_reference&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx("span",{className:"text-slate-600",children:"Booking Ref:"}),e.jsx("span",{className:"font-semibold text-slate-900",children:$.booking_reference})]}),!Q&&q&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{id:I===0?"add-to-calendar-button":void 0,variant:"outline",size:"sm",onClick:()=>U(L,$),className:"flex-1",children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),"Add to Calendar"]}),$.backstage_order_id&&e.jsx(X,{id:I===0?"cancel-ticket-button":void 0,variant:"outline",size:"sm",onClick:()=>z($),disabled:r===$.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ds,{className:"w-4 h-4"})})]}),Y&&e.jsx(X,{id:I===0?"go-to-event-page-button":void 0,variant:"outline",size:"sm",asChild:!0,className:"w-full",children:e.jsxs("a",{href:Y,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(tn,{className:"w-4 h-4 mr-2"}),"Go to Event Page"]})})]}),Q&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 text-red-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-red-800 font-medium",children:"This ticket has been cancelled"})]})]})]}),$.status==="pending"&&!Q&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg mt-4",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"This ticket is pending confirmation. Please check your email for the confirmation link."})]})]})]},$.id)})})]}),e.jsx(Yl,{open:i,onOpenChange:l,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{className:"text-lg font-semibold",children:"Cancel Registration?"}),e.jsx(dl,{className:"text-sm text-muted-foreground",children:"Cancelling this registration will make the ticket available for reallocation."})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"No, keep registration"}),e.jsx(ul,{onClick:H,className:"bg-red-600 hover:bg-red-700",children:"Yes, cancel registration"})]})]})})]})}function D7({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(24),[i,l]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(null),[m,h]=b.useState(null),[p,x]=b.useState(""),[y,v]=b.useState(""),[j,w]=b.useState(!1),[N,_]=b.useState(null),[P,A]=b.useState(null),[E,C]=b.useState(null),[R,O]=b.useState(""),[k,T]=b.useState("none"),[D,F]=b.useState("buy_x_get_y_free"),[U,z]=b.useState(""),[H,B]=b.useState(""),[$,I]=b.useState(""),[L,V]=b.useState(""),[q,J]=b.useState(!1),Q=Jt();b.useEffect(()=>{s!=null&&(!t||n("page_EventSettings"))&&(window.location.href=Te("Events"))},[t,s,n]);const{data:Y,isLoading:K}=me({queryKey:["events"],queryFn:()=>ee.entities.Event.list("-start_date"),initialData:[]}),{data:ae,isLoading:se}=me({queryKey:["system-settings"],queryFn:()=>ee.entities.SystemSettings.list(),initialData:[]}),{data:de,isLoading:ue}=me({queryKey:["programs"],queryFn:()=>ee.entities.Program.filter({is_active:!0}),initialData:[]});b.useEffect(()=>{const Ce=ae.find(it=>it.setting_key==="cancellation_deadline_hours");Ce&&a(parseInt(Ce.setting_value)||0)},[ae]);const oe=Ie({mutationFn:()=>ee.functions.invoke("syncBackstageEvents",{}),onSuccess:()=>{Q.invalidateQueries({queryKey:["events"]}),te.success("Events synced successfully")},onError:Ce=>{te.error("Failed to sync events: "+Ce.message)}}),pe=async()=>{l(!0);try{const Ce=ae.find(it=>it.setting_key==="cancellation_deadline_hours");Ce?await ee.entities.SystemSettings.update(Ce.id,{setting_value:r.toString(),description:"Number of hours before event start that cancellations are allowed"}):await ee.entities.SystemSettings.create({setting_key:"cancellation_deadline_hours",setting_value:r.toString(),description:"Number of hours before event start that cancellations are allowed"}),Q.invalidateQueries({queryKey:["system-settings"]}),te.success("Settings saved successfully")}catch(Ce){te.error("Failed to save settings: "+Ce.message)}finally{l(!1)}},je=()=>{oe.mutate()},Ne=Ce=>{c(Ce),u(null),h(null),x(Ce.description||""),v(Ce.backstage_public_url||"")},qe=Ce=>{const it=Ce.target.files[0];if(it){u(it);const _e=new FileReader;_e.onloadend=()=>{h(_e.result)},_e.readAsDataURL(it)}},$e=async()=>{if(!o)return;const Ce=d!==null,it=p!==(o.description||""),_e=y!==(o.backstage_public_url||"");if(!Ce&&!it&&!_e){te.error("No changes to save");return}w(!0);try{const Ue=sessionStorage.getItem("agcas_member"),rt=Ue?JSON.parse(Ue):null;if(!rt||!rt.email)throw new Error("User session not found. Please log in again.");const ht={eventId:o.id,userEmail:rt.email,description:p,backstagePublicUrl:y};if(Ce){const Rt=new FileReader;Rt.readAsDataURL(d),await new Promise((rs,Us)=>{Rt.onload=()=>{ht.imageBase64=Rt.result,ht.fileName=d.name,rs()},Rt.onerror=()=>{Us(new Error("Failed to read image file"))}})}const ct=await ee.functions.invoke("updateEventImage",ht);if(ct.data&&ct.data.success)Q.invalidateQueries({queryKey:["events"]}),te.success("Event updated successfully"),c(null),u(null),h(null),x(""),v("");else throw new Error(ct.data?ct.data.error:"Failed to update event")}catch(Ue){console.error("Event update error:",Ue),te.error("Failed to update event: "+Ue.message)}finally{w(!1)}},Ee=Ce=>{_(Ce),A(null),C(null),O(Ce.description||"");let it=Ce.offer_type||"none";Ce.offer_type||(Ce.bogo_buy_quantity!==null&&Ce.bogo_get_free_quantity!==null?it="bogo":Ce.bulk_discount_threshold!==null&&Ce.bulk_discount_percentage!==null&&(it="bulk_discount")),T(it),F(Ce.bogo_logic_type||"buy_x_get_y_free"),z(Ce.bogo_buy_quantity===null||Ce.bogo_buy_quantity===void 0?"":Ce.bogo_buy_quantity.toString()),B(Ce.bogo_get_free_quantity===null||Ce.bogo_get_free_quantity===void 0?"":Ce.bogo_get_free_quantity.toString()),I(Ce.bulk_discount_threshold===null||Ce.bulk_discount_threshold===void 0?"":Ce.bulk_discount_threshold.toString()),V(Ce.bulk_discount_percentage===null||Ce.bulk_discount_percentage===void 0?"":Ce.bulk_discount_percentage.toString())},Se=Ce=>{const it=Ce.target.files[0];if(it){A(it);const _e=new FileReader;_e.onloadend=()=>{C(_e.result)},_e.readAsDataURL(it)}},Ye=(Ce,it,_e,Ue,rt,ht)=>{const ct={offerType:Ce,bogoBuyQuantity:null,bogoGetFreeQuantity:null,bogoLogicType:null,bulkDiscountThreshold:null,bulkDiscountPercentage:null};return Ce==="bogo"?(ct.bogoBuyQuantity=it===""||it===null?null:parseInt(it),ct.bogoGetFreeQuantity=_e===""||_e===null?null:parseInt(_e),ct.bogoLogicType=Ue):Ce==="bulk_discount"&&(ct.bulkDiscountThreshold=rt===""||rt===null?null:parseInt(rt),ct.bulkDiscountPercentage=ht===""||ht===null?null:parseFloat(ht)),ct},Qe=async()=>{if(!N)return;const Ce=P!==null,it=R!==(N.description||"");let _e=N.offer_type||"none";N.offer_type||(N.bogo_buy_quantity!==null&&N.bogo_get_free_quantity!==null?_e="bogo":N.bulk_discount_threshold!==null&&N.bulk_discount_percentage!==null&&(_e="bulk_discount"));const Ue=Ye(_e,N.bogo_buy_quantity,N.bogo_get_free_quantity,N.bogo_logic_type,N.bulk_discount_threshold,N.bulk_discount_percentage),rt=Ye(k,U,H,D,$,L),ht=JSON.stringify(Ue)!==JSON.stringify(rt);if(!Ce&&!it&&!ht){te.error("No changes to save");return}if(k==="bogo"){if(!U||!H){te.error("Please enter both BOGO buy and free quantities");return}const ct=parseInt(U),Rt=parseInt(H);if(isNaN(ct)||ct<1||isNaN(Rt)||Rt<1){te.error("BOGO quantities must be positive integers");return}}if(k==="bulk_discount"){if(!$||!L){te.error("Please enter both bulk discount threshold and percentage");return}const ct=parseInt($),Rt=parseFloat(L);if(isNaN(ct)||ct<2){te.error("Bulk discount threshold must be an integer of at least 2");return}if(isNaN(Rt)||Rt<0||Rt>100){te.error("Bulk discount percentage must be a number between 0 and 100");return}}J(!0);try{const ct=sessionStorage.getItem("agcas_member"),Rt=ct?JSON.parse(ct):null;if(!Rt||!Rt.email)throw new Error("User session not found. Please log in again.");const rs={programId:N.id,userEmail:Rt.email,description:R,offerType:k};if(k==="bogo"?(rs.bogoBuyQuantity=parseInt(U),rs.bogoGetFreeQuantity=parseInt(H),rs.bogoLogicType=D,rs.bulkDiscountThreshold=null,rs.bulkDiscountPercentage=null):k==="bulk_discount"?(rs.bulkDiscountThreshold=parseInt($),rs.bulkDiscountPercentage=parseFloat(L),rs.bogoBuyQuantity=null,rs.bogoGetFreeQuantity=null,rs.bogoLogicType=null):(rs.bogoBuyQuantity=null,rs.bogoGetFreeQuantity=null,rs.bogoLogicType=null,rs.bulkDiscountThreshold=null,rs.bulkDiscountPercentage=null),Ce){const Es=new FileReader;Es.readAsDataURL(P),await new Promise((mn,Zt)=>{Es.onload=()=>{rs.imageBase64=Es.result,rs.fileName=P.name,mn()},Es.onerror=()=>{Zt(new Error("Failed to read image file"))}})}const Us=await ee.functions.invoke("updateProgramDetails",rs);if(Us.data&&Us.data.success)Q.invalidateQueries({queryKey:["programs"]}),te.success("Program updated successfully"),_(null),A(null),C(null),O(""),T("none"),F("buy_x_get_y_free"),z(""),B(""),I(""),V("");else throw new Error(Us.data?Us.data.error:"Failed to update program")}catch(ct){console.error("Program update error:",ct),te.error("Failed to update program: "+ct.message)}finally{J(!1)}};if(s==null)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});if(!t||n("page_EventSettings"))return null;const Me=Y.filter(Ce=>Ce.start_date?new Date(Ce.start_date)>new Date:!1),lt=Y.filter(Ce=>Ce.start_date?new Date(Ce.start_date)<=new Date:!1);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Event Settings"}),e.jsx("p",{className:"text-slate-600",children:"Manage synced events and system configuration"})]}),e.jsxs(X,{onClick:je,disabled:oe.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(a0,{className:`w-4 h-4 mr-2 ${oe.isPending?"animate-spin":""}`}),"Sync Events"]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(di,{className:"w-5 h-5 text-amber-600"}),e.jsx(ze,{children:"Cancellation Settings"})]})}),e.jsx(ce,{className:"pt-6",children:e.jsx("div",{className:"max-w-2xl space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"cancellation-deadline",children:"Cancellation Deadline (Hours Before Event)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(he,{id:"cancellation-deadline",type:"number",min:"0",step:"1",value:r,onChange:Ce=>a(parseInt(Ce.target.value)||0),className:"w-32"}),e.jsx("span",{className:"text-sm text-slate-600",children:"hours"}),e.jsxs(X,{onClick:pe,disabled:i,className:"ml-auto",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Members will not be able to cancel tickets within this timeframe before the event starts. Set to 0 to allow cancellations up until the event start time."})]})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-8",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),e.jsx(ze,{children:"Programs"})]})}),e.jsx(ce,{className:"pt-6",children:de.length===0?e.jsx("p",{className:"text-center text-slate-500 py-8",children:"No active programs found"}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(Ce=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[Ce.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:Ce.image_url,alt:Ce.name,className:"w-full h-full object-cover"})}),e.jsxs(Fe,{className:"border-b border-slate-200",children:[e.jsx(ze,{className:"text-base",children:Ce.name}),Ce.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mt-2",children:Ce.description})]}),e.jsx(ce,{className:"pt-4",children:e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>Ee(Ce),className:"w-full",children:[e.jsx(Ti,{className:"w-3 h-3 mr-2"}),"Edit Program"]})})]},Ce.id))})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Ns,{className:"w-6 h-6 text-blue-600"}),"Upcoming Events (",Me.length,")"]}),Me.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-8 text-center text-slate-500",children:"No upcoming events synced"})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Me.map(Ce=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[Ce.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:Ce.image_url,alt:Ce.title,className:"w-full h-full object-cover"})}),e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx(ze,{className:"text-base line-clamp-2",children:Ce.title}),Ce.program_tag&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 border-blue-200 shrink-0",children:Ce.program_tag})]})}),e.jsxs(ce,{className:"pt-4 space-y-2",children:[Ce.start_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(an,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:Ot(new Date(Ce.start_date),"MMM d, yyyy h:mm a")})]}),Ce.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(Wr,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:Ce.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[e.jsx(Ls,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:Ce.available_seats===0||Ce.available_seats===null?"Unlimited seats":`${Ce.available_seats} seats available`})]}),Ce.ticket_price>0&&e.jsx("div",{className:"pt-2 mt-2 border-t border-slate-200",children:e.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:["",Ce.ticket_price.toFixed(2)]})}),e.jsx("div",{className:"pt-2",children:e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>Ne(Ce),className:"w-full",children:[e.jsx(Ti,{className:"w-3 h-3 mr-2"}),"Edit Event"]})})]})]},Ce.id))})]}),lt.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[e.jsx(Ns,{className:"w-6 h-6 text-slate-400"}),"Past Events (",lt.length,")"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:lt.map(Ce=>e.jsxs(le,{className:"border-slate-200 shadow-sm opacity-60",children:[Ce.image_url&&e.jsx("div",{className:"h-32 overflow-hidden bg-slate-100",children:e.jsx("img",{src:Ce.image_url,alt:Ce.title,className:"w-full h-full object-cover"})}),e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx(ze,{className:"text-base line-clamp-2",children:Ce.title}),Ce.program_tag&&e.jsx(ye,{variant:"outline",className:"shrink-0",children:Ce.program_tag})]})}),e.jsxs(ce,{className:"pt-4 space-y-2",children:[Ce.start_date&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(an,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{children:Ot(new Date(Ce.start_date),"MMM d, yyyy h:mm a")})]}),Ce.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(Wr,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:Ce.location})]})]})]},Ce.id))})]})]})]}),e.jsx(Ct,{open:!!o,onOpenChange:Ce=>{Ce||(c(null),u(null),h(null),x(""),v(""))},children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Edit Event Details"})}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:o.title}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update the image, description, and public event link"})]}),e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Current Image"}),o.image_url?e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:o.image_url,alt:"Current event image",className:"w-full h-48 object-cover"})}):e.jsxs("div",{className:"border border-slate-200 rounded-lg p-8 text-center bg-slate-50",children:[e.jsx(Ti,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No image set"})]})]}),m&&e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"New Image Preview"}),e.jsx("div",{className:"border border-blue-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:m,alt:"Preview",className:"w-full h-48 object-cover"})})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"image-upload",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select New Image (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{id:"image-upload",type:"file",accept:"image/*",onChange:qe,className:"flex-1"}),d&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{u(null),h(null)},children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"event-description",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Event Description"}),e.jsx(Qt,{id:"event-description",value:p,onChange:Ce=>x(Ce.target.value),placeholder:"Enter event description...",rows:6,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This description will override the synced description from Backstage"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"event-public-url",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Public Event Page URL"}),e.jsx(he,{id:"event-public-url",type:"url",value:y,onChange:Ce=>v(Ce.target.value),placeholder:"https://agcasevents.zohobackstage.eu/event/...",className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Paste the public Backstage event link that attendees will use to view event details"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{c(null),u(null),h(null),x(""),v("")},disabled:j,children:"Cancel"}),e.jsx(X,{onClick:$e,disabled:j,className:"bg-blue-600 hover:bg-blue-700",children:j?e.jsxs(e.Fragment,{children:[e.jsx(a0,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})}),e.jsx(Ct,{open:!!N,onOpenChange:Ce=>{Ce||(_(null),A(null),C(null),O(""),T("none"),F("buy_x_get_y_free"),z(""),B(""),I(""),V(""))},children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Edit Program Details"})}),N&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:N.name}),e.jsx("p",{className:"text-sm text-slate-600",children:"Update the image, description, and offer details for this program"})]}),e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Current Image"}),N.image_url?e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:N.image_url,alt:"Current program image",className:"w-full h-48 object-cover"})}):e.jsxs("div",{className:"border border-slate-200 rounded-lg p-8 text-center bg-slate-50",children:[e.jsx(Ti,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"No image set"})]})]}),E&&e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"New Image Preview"}),e.jsx("div",{className:"border border-blue-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:E,alt:"Preview",className:"w-full h-48 object-cover"})})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"program-image-upload",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Select New Image (Optional)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{id:"program-image-upload",type:"file",accept:"image/*",onChange:Se,className:"flex-1"}),P&&e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{A(null),C(null)},children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"program-description",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Program Description"}),e.jsx(Qt,{id:"program-description",value:R,onChange:Ce=>O(Ce.target.value),placeholder:"Enter program description...",rows:6,className:"w-full"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This description will be displayed on the program cards"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-3 block",children:"Offer Type"}),e.jsx(Yf,{value:k,onValueChange:T,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="none"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>T("none"),children:[e.jsx(Gl,{value:"none",id:"offer-none",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"offer-none",className:"font-medium cursor-pointer",children:"No Offer"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Standard pricing with no discounts"})]})]}),e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="bogo"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>T("bogo"),children:[e.jsx(Gl,{value:"bogo",id:"offer-bogo",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"offer-bogo",className:"font-medium cursor-pointer",children:"BOGO (Buy X Get Y Free)"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Customers receive free tickets with their purchase"})]})]}),e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${k==="bulk_discount"?"border-blue-500 bg-blue-50":"border-slate-200 hover:bg-slate-100"}`,onClick:()=>T("bulk_discount"),children:[e.jsx(Gl,{value:"bulk_discount",id:"offer-bulk",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"offer-bulk",className:"font-medium cursor-pointer",children:"Bulk Discount"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Percentage discount when buying multiple tickets"})]})]})]})})]}),k==="bogo"&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-300",children:[e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"BOGO Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bogo-buy-qty",className:"text-xs text-slate-600 mb-1 block",children:"Buy Quantity"}),e.jsx(he,{id:"bogo-buy-qty",type:"number",min:"1",value:U,onChange:Ce=>z(Ce.target.value),placeholder:"e.g., 4"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bogo-free-qty",className:"text-xs text-slate-600 mb-1 block",children:"Get Free Quantity"}),e.jsx(he,{id:"bogo-free-qty",type:"number",min:"1",value:H,onChange:Ce=>B(Ce.target.value),placeholder:"e.g., 1"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"BOGO Logic Type"}),e.jsx(Yf,{value:D,onValueChange:F,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Gl,{value:"buy_x_get_y_free",id:"logic-legacy",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"logic-legacy",className:"text-sm cursor-pointer",children:"Buy X, Get Y Free (Legacy)"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["User enters ",U||"X","  Receives ",U&&H?parseInt(U)+parseInt(H):"X+Y","  Pays for ",U||"X"]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Gl,{value:"enter_total_pay_less",id:"logic-new",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"logic-new",className:"text-sm cursor-pointer",children:"Enter Total, Pay for Fewer"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["User enters ",U&&H?parseInt(U)+parseInt(H):"X+Y","  Receives ",U&&H?parseInt(U)+parseInt(H):"X+Y","  Pays for ",U||"X"]})]})]})]})})]})]}),k==="bulk_discount"&&e.jsx("div",{className:"space-y-4 pt-4 border-t border-slate-300",children:e.jsxs("div",{children:[e.jsx(Z,{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Bulk Discount Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bulk-threshold",className:"text-xs text-slate-600 mb-1 block",children:"Minimum Tickets"}),e.jsx(he,{id:"bulk-threshold",type:"number",min:"2",value:$,onChange:Ce=>I(Ce.target.value),placeholder:"e.g., 10"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bulk-percentage",className:"text-xs text-slate-600 mb-1 block",children:"Discount %"}),e.jsx(he,{id:"bulk-percentage",type:"number",min:"0",max:"100",step:"0.1",value:L,onChange:Ce=>V(Ce.target.value),placeholder:"e.g., 15"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:$&&L?`Customers buying ${$}+ tickets will receive ${L}% off`:"Enter values to see preview"})]})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{_(null),A(null),C(null),O(""),T("none"),F("buy_x_get_y_free"),z(""),B(""),I(""),V("")},disabled:q,children:"Cancel"}),e.jsx(X,{onClick:Qe,disabled:q,className:"bg-blue-600 hover:bg-blue-700",children:q?e.jsxs(e.Fragment,{children:[e.jsx(a0,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})})]})}function R7({memberInfo:t,memberRole:s}){var F;const[n,r]=Be.useState(null),[a,i]=Be.useState(!1),[l,o]=Be.useState(null),[c,d]=Be.useState(new Set),[u,m]=Be.useState(!1),[h,p]=Be.useState(!1),x=Be.useRef(!1),y=(s==null?void 0:s.show_tours)!==!1,v=((F=t==null?void 0:t.page_tours_seen)==null?void 0:F.Bookings)===!0;Be.useEffect(()=>{y&&!v&&t&&!x.current&&(x.current=!0,p(!0),m(!0))},[y,v,t]);const{data:j,isLoading:w}=me({queryKey:["my-bookings",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return[];const z=(await ee.entities.Member.list()).find(B=>B.email===t.email);return z?(await ee.entities.Booking.list("-created_date")).filter(B=>B.member_id===z.id):[]},enabled:!!(t!=null&&t.email),initialData:[]}),{data:N,isLoading:_}=me({queryKey:["events"],queryFn:()=>ee.entities.Event.list(),initialData:[]}),P=async()=>{m(!1),p(!1)},A=async()=>{m(!1),p(!1),await C("Bookings")},E=()=>{m(!1),p(!1),setTimeout(()=>{m(!0),p(!0)},10)},C=async U=>{if(t&&!t.is_team_member)try{const H=(await ee.entities.Member.list()).find(B=>B.email===t.email);if(H){const B={...H.page_tours_seen||{},[U]:!0};await ee.entities.Member.update(H.id,{page_tours_seen:B});const $={...t,page_tours_seen:B};sessionStorage.setItem("agcas_member",JSON.stringify($))}}catch(z){console.error("Failed to update tour status:",z)}},R=U=>{o(U),i(!0)},O=async()=>{if(!l||!l.backstage_order_id){te.error("Unable to cancel: Missing ticket information"),i(!1);return}r(l.id),i(!1);try{const z=(await ee.entities.Member.list()).find(B=>B.email===t.email);if(!z){te.error("Unable to verify member identity"),r(null),o(null);return}const H=await ee.functions.invoke("cancelTicketViaFlow",{orderId:l.backstage_order_id,cancelReason:"Cancelled by member via iConnect",memberId:z.id});if(H.data.success)d(B=>new Set([...B,l.id])),te.success("Ticket cancelled successfully"),setTimeout(()=>{window.location.reload()},1500);else throw new Error(H.data.error||"Failed to cancel ticket")}catch(U){console.error("Cancellation error:",U),te.error("Failed to cancel ticket. Please try again or contact support.")}finally{r(null),o(null)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const k=w||_,T=j.reduce((U,z)=>{const H=z.booking_reference||"unknown";return U[H]||(U[H]=[]),U[H].push(z),U},{}),D=U=>{switch(U){case"confirmed":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-amber-100 text-amber-700 border-amber-200";case"cancelled":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[u&&y&&e.jsx(Fd,{tourGroupName:"Bookings",viewId:null,onComplete:P,onDismissPermanently:A,autoShow:h}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Bookings"}),y&&e.jsx(Id,{onClick:E})]}),e.jsx("p",{className:"text-slate-600",children:"View and manage your event registrations"})]}),k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((U,z)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"})]})})]},z))}):j.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ns,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No bookings yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Your event registrations will appear here once you book tickets"}),e.jsx(Gt,{to:Te("Events"),children:e.jsx("button",{className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Browse Events"})})]})}):e.jsx("div",{className:"space-y-6",children:Object.entries(T).map(([U,z],H)=>{const B=z[0],$=N.find(L=>L.id===B.event_id);if(!$)return null;const I=$.start_date?new Date($.start_date):null;return e.jsxs(le,{id:H===0?"first-booking-card":void 0,className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ze,{className:"text-xl",children:$.title}),$.program_tag&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 border-blue-200",children:$.program_tag})]}),e.jsxs("div",{className:"space-y-2",children:[I&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Ns,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(I,"EEEE, MMMM d, yyyy")})]}),I&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:Ot(I,"h:mm a")})]}),$.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:$.location})]})]})]}),$.image_url&&e.jsx("img",{src:$.image_url,alt:$.title,className:"w-24 h-24 object-cover rounded-lg"})]})}),e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ls,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-600",children:"Booking Reference:"}),e.jsx("span",{className:"font-semibold text-slate-900",children:U})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:["Attendees (",z.length,")"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:z.map((L,V)=>{const q=L.status==="cancelled"||c.has(L.id);return e.jsxs("div",{id:H===0&&V===0?"first-ticket-card":void 0,className:`flex flex-col gap-2 p-3 rounded-lg border ${q?"bg-red-50/50 border-red-200":"bg-slate-50 border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(sn,{className:"w-4 h-4 text-slate-400 shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1 min-w-0",children:L.attendee_first_name&&L.attendee_last_name?e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm font-medium truncate ${q?"line-through text-slate-500":"text-slate-900"}`,children:[L.attendee_first_name," ",L.attendee_last_name]}),e.jsx("p",{className:`text-xs truncate ${q?"text-slate-400":"text-slate-500"}`,children:L.attendee_email})]}):L.attendee_email?e.jsx("p",{className:`text-sm truncate ${q?"line-through text-slate-500":"text-slate-700"}`,children:L.attendee_email}):e.jsx("p",{className:"text-sm text-slate-500 italic",children:"Pending confirmation"})})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(ye,{className:`${D(q?"cancelled":L.status)}`,children:q?"cancelled":L.status}),!q&&L.backstage_order_id&&e.jsx(X,{id:H===0&&V===0?"first-ticket-edit-button":void 0,variant:"ghost",size:"icon",className:"h-6 w-6 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>R(L),disabled:n===L.id,children:e.jsx(Ds,{className:"w-3 h-3"})})]})]}),L.backstage_order_id&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 pl-6",children:[e.jsx(Ls,{className:"w-3 h-3 text-purple-400"}),e.jsx("span",{className:"font-mono text-purple-600 bg-purple-50 px-2 py-0.5 rounded",children:L.backstage_order_id})]})]},L.id)})})]}),z.some(L=>L.status==="pending")&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-amber-800",children:"Some bookings are pending confirmation. Confirmation links have been sent to the attendees' email addresses."})]})]})})]},U)})})]}),e.jsx(Yl,{open:a,onOpenChange:i,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Cancel Registration?"}),e.jsx(dl,{children:"Cancelling this registration will make the ticket available for reallocation."})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"No, keep registration"}),e.jsx(ul,{onClick:O,className:"bg-red-600 hover:bg-red-700",children:"Yes, cancel registration"})]})]})})]})}function F7({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(null),[i,l]=b.useState(null),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[m,h]=b.useState(""),[p,x]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(""),[N,_]=b.useState(""),P=Jt(),A=[{value:"Events",label:"Events"},{value:"BuyProgramTickets",label:"Buy Program Tickets"},{value:"EventDetails",label:"Event Details"},{value:"Bookings",label:"Bookings"},{value:"MyTickets",label:"My Tickets"},{value:"History",label:"History"},{value:"Dashboard",label:"Dashboard"},{value:"Articles",label:"Articles"},{value:"ArticleEditor",label:"Article Editor"},{value:"ArticleView",label:"Article View"},{value:"RoleManagement",label:"Role Management"},{value:"MemberRoleAssignment",label:"Member Role Assignment"},{value:"TeamMemberManagement",label:"Team Member Management"},{value:"DiscountCodeManagement",label:"Discount Code Management"},{value:"EventSettings",label:"Event Settings"},{value:"TourManagement",label:"Tour Management"},{value:"PublicEvents",label:"Public Events"},{value:"PublicAbout",label:"Public About"},{value:"PublicContact",label:"Public Contact"}].sort((J,Q)=>J.label.localeCompare(Q.label)),E=[{value:"none",label:"No specific view (single page tour)",description:"Use this for pages with just one view"},{value:"list",label:"List View",description:"Use for listing/browsing views (e.g., program cards, event list)"},{value:"form",label:"Form View",description:"Use for form/detail views (e.g., purchase form, registration form)"}],C=[{group:"Navigation",label:"Buy Tickets Menu Item",selector:"#buy-tickets-menu-item",page:"all"},{group:"Navigation",label:"Events Menu Item",selector:"a[href*='Events']",page:"all"},{group:"Navigation",label:"Bookings Menu Item",selector:"a[href*='Bookings']",page:"all"},{group:"Navigation",label:"My Tickets Menu Item",selector:"a[href*='MyTickets']",page:"all"},{group:"Buy Program Tickets",label:"Total Tickets Summary Card",selector:"#total-tickets-summary-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"First Program Card",selector:"#first-program-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Quantity Input Field",selector:"#quantity-input",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Payment Options Card",selector:"#payment-options-card",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Training Vouchers Section",selector:"#training-vouchers-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Training Fund Section",selector:"#training-fund-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Remaining Balance Section",selector:"#remaining-balance-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Amount Due Display",selector:"#amount-due-display",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Account Payment Option",selector:"#account-payment-option",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Card Payment Option",selector:"#card-payment-option",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Purchase Order Field",selector:"#purchase-order-field",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Discount Code Section",selector:"#discount-code-section",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Complete Purchase Button",selector:"#complete-purchase-button",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"Page Tour Button",selector:"#page-tour-button",page:"BuyProgramTickets"},{group:"Buy Program Tickets",label:"All Program Cards",selector:".grid button",page:"BuyProgramTickets"},{group:"Events",label:"Search Input",selector:"input[placeholder*='Search']",page:"Events"},{group:"Events",label:"First Event Card",selector:".grid > div:first-child",page:"Events"},{group:"Events",label:"Event Cards Grid",selector:".grid",page:"Events"},{group:"Event Details",label:"Event Title",selector:"h1",page:"EventDetails"},{group:"Event Details",label:"Booking Summary - Tickets Card",selector:"#booking-summary-tickets",page:"EventDetails"},{group:"Event Details",label:"Confirm Booking Button",selector:"#confirm-booking-button",page:"EventDetails"},{group:"Event Details",label:"I Am Attending Toggle",selector:"#member-attending-toggle",page:"EventDetails"},{group:"Event Details",label:"Add Colleague Button",selector:"#add-colleague-button",page:"EventDetails"},{group:"Event Details",label:"Colleague Search Input",selector:"#colleague-search-input",page:"EventDetails"},{group:"Event Details",label:"Attendee List",selector:"#attendee-list",page:"EventDetails"},{group:"Bookings",label:"First Booking Card",selector:"#first-booking-card",page:"Bookings"},{group:"Bookings",label:"First Ticket Card",selector:"#first-ticket-card",page:"Bookings"},{group:"Bookings",label:"First Ticket Edit Button",selector:"#first-ticket-edit-button",page:"Bookings"},{group:"Bookings",label:"Bookings Table",selector:"table",page:"Bookings"},{group:"Bookings",label:"First Booking Row",selector:"table tbody tr:first-child",page:"Bookings"},{group:"My Tickets",label:"First My Ticket Card",selector:"#first-my-ticket-card",page:"MyTickets"},{group:"My Tickets",label:"First Ticket Status Badge",selector:"#first-ticket-status-badge",page:"MyTickets"},{group:"My Tickets",label:"Add to Calendar Button",selector:"#add-to-calendar-button",page:"MyTickets"},{group:"My Tickets",label:"Cancel Ticket Button",selector:"#cancel-ticket-button",page:"MyTickets"},{group:"My Tickets",label:"Go to Event Page Button",selector:"#go-to-event-page-button",page:"MyTickets"},{group:"General",label:"Page Heading (H1)",selector:"h1",page:"all"},{group:"General",label:"Main Content Area",selector:"main",page:"all"},{group:"General",label:"Primary Action Button",selector:"button[type='submit']",page:"all"},{group:"General",label:"First Card",selector:".grid > div:first-child",page:"all"},{group:"Custom",label:"Enter Custom Selector...",selector:"custom",page:"all"}],R=()=>{const J=(r==null?void 0:r.page_name)||(s==null?void 0:s.page_name);return J?C.filter(Q=>Q.page==="all"||Q.page===J):C},O=()=>R().reduce((Q,Y)=>(Q[Y.group]||(Q[Y.group]=[]),Q[Y.group].push(Y),Q),{}),{data:k,isLoading:T}=me({queryKey:["tourGroups"],queryFn:()=>ee.entities.TourGroup.list(),initialData:[]}),{data:D,isLoading:F}=me({queryKey:["tourSteps",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await ee.entities.TourStep.list()).filter(Q=>Q.tour_group_id===s.id).sort((Q,Y)=>Q.step_order-Y.step_order):[],enabled:!!(s!=null&&s.id),initialData:[]}),U=Ie({mutationFn:J=>ee.entities.TourGroup.create(J),onSuccess:()=>{P.invalidateQueries({queryKey:["tourGroups"]}),c(!1),a(null),te.success("Tour group created")}}),z=Ie({mutationFn:({id:J,data:Q})=>ee.entities.TourGroup.update(J,Q),onSuccess:()=>{P.invalidateQueries({queryKey:["tourGroups"]}),c(!1),a(null),te.success("Tour group updated")}}),H=Ie({mutationFn:J=>ee.entities.TourGroup.delete(J),onSuccess:()=>{P.invalidateQueries({queryKey:["tourGroups"]}),n(null),te.success("Tour group deleted")}}),B=Ie({mutationFn:J=>ee.entities.TourStep.create(J),onSuccess:()=>{P.invalidateQueries({queryKey:["tourSteps"]}),u(!1),l(null),te.success("Tour step created")}}),$=Ie({mutationFn:({id:J,data:Q})=>ee.entities.TourStep.update(J,Q),onSuccess:()=>{P.invalidateQueries({queryKey:["tourSteps"]}),u(!1),l(null),te.success("Tour step updated")}}),I=Ie({mutationFn:J=>ee.entities.TourStep.delete(J),onSuccess:()=>{P.invalidateQueries({queryKey:["tourSteps"]}),te.success("Tour step deleted")}});if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(le,{className:"border-red-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-red-700",children:"Only administrators can manage tours."})]})})})});const L=J=>{J.preventDefault();const Q=new FormData(J.target),Y=Q.get("view_id");let K=null;j&&(j==="custom"?K=N||null:K=j);const ae={name:Q.get("name"),page_name:Q.get("page_name"),view_id:Y==="none"?null:Y,description:Q.get("description")||null,is_active:Q.get("is_active")==="on",mandatory_selector:K,mandatory_selector_missing_message:Q.get("mandatory_selector_missing_message")||null};r!=null&&r.id?z.mutate({id:r.id,data:ae}):U.mutate(ae)},V=J=>{J.preventDefault();let Q=null;if(!y&&(p==="custom"?Q=m:Q=p,!Q)){te.error("Please select or enter a target selector, or mark this as a welcome step.");return}const Y=new FormData(J.target),K={tour_group_id:s.id,step_order:parseInt(Y.get("step_order")),target_selector:Q,title:Y.get("title"),content:Y.get("content"),placement:Y.get("placement"),mode:Y.get("mode"),size:Y.get("size")||"medium",gap:parseInt(Y.get("gap"))||40};i!=null&&i.id?$.mutate({id:i.id,data:K}):B.mutate(K)},q=async(J,Q)=>{const Y=D.findIndex(de=>de.id===J);if(Y===-1||Q==="up"&&Y===0||Q==="down"&&Y===D.length-1)return;const K=Q==="up"?Y-1:Y+1,ae=D[Y],se=D[K];await ee.entities.TourStep.update(ae.id,{step_order:se.step_order}),await ee.entities.TourStep.update(se.id,{step_order:ae.step_order}),P.invalidateQueries({queryKey:["tourSteps"]})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Tour Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage guided tours for your app pages"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(le,{className:"lg:col-span-1 border-slate-200",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ze,{className:"text-lg",children:"Tour Groups"}),e.jsxs(X,{size:"sm",onClick:()=>{a(null),c(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-1"}),"New"]})]})}),e.jsx(ce,{className:"p-4",children:T?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading..."}):k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pa,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"No tour groups yet"})]}):e.jsx("div",{className:"space-y-2",children:k.map(J=>e.jsx("button",{onClick:()=>n(J),className:`w-full text-left p-3 rounded-lg border-2 transition-all ${(s==null?void 0:s.id)===J.id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:J.name}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[J.page_name,J.view_id?` (${J.view_id})`:""]})]}),e.jsx(ye,{variant:J.is_active?"default":"secondary",className:"shrink-0",children:J.is_active?"Active":"Inactive"})]})},J.id))})})]}),e.jsxs(le,{className:"lg:col-span-2 border-slate-200",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ze,{className:"text-lg",children:s?`Steps: ${s.name}`:"Select a Tour Group"}),s&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{a(s),c(!0)},children:[e.jsx(Di,{className:"w-4 h-4 mr-1"}),"Edit Group"]}),e.jsxs(X,{size:"sm",variant:"outline",onClick:()=>{confirm("Delete this tour group and all its steps?")&&H.mutate(s.id)},className:"text-red-600 hover:text-red-700",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),"Delete"]}),e.jsxs(X,{size:"sm",onClick:()=>{l(null),v(!1),x(""),h(""),u(!0)},className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Add Step"]})]})]})}),e.jsx(ce,{className:"p-4",children:s?F?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading steps..."}):D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"No steps yet for this tour"}),e.jsxs(X,{onClick:()=>{l(null),v(!1),x(""),h(""),u(!0)},className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Step"]})]}):e.jsx("div",{className:"space-y-3",children:D.map((J,Q)=>e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>q(J.id,"up"),disabled:Q===0,children:e.jsx(S5,{className:"w-4 h-4"})}),e.jsx(ye,{variant:"outline",className:"w-6 h-6 flex items-center justify-center p-0",children:J.step_order}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>q(J.id,"down"),disabled:Q===D.length-1,children:e.jsx(_5,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-1",children:J.title}),e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:J.content}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[J.target_selector?e.jsx(ye,{variant:"outline",className:"text-xs",children:J.target_selector}):e.jsx(ye,{variant:"default",className:"text-xs bg-blue-100 text-blue-700 border-blue-200",children:"Welcome Step"}),e.jsx(ye,{variant:"outline",className:"text-xs",children:J.placement}),e.jsx(ye,{variant:"outline",className:"text-xs",children:J.mode}),J.gap!==void 0&&e.jsxs(ye,{variant:"outline",className:"text-xs",children:["Gap: ",J.gap,"px"]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{if(l(J),J.target_selector===null)v(!0),x(""),h("");else{v(!1);const Y=C.find(K=>K.selector===J.target_selector);Y?(x(Y.selector),h("")):(x("custom"),h(J.target_selector))}u(!0)},children:e.jsx(Di,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{confirm("Delete this step?")&&I.mutate(J.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})},J.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Select a tour group to view and edit its steps"})]})})]})]}),e.jsx(Ct,{open:o,onOpenChange:J=>{c(J),J?r&&r.mandatory_selector?C.find(Y=>Y.selector===r.mandatory_selector)?(w(r.mandatory_selector),_("")):(w("custom"),_(r.mandatory_selector)):(w(""),_("")):(w(""),_(""),a(null))},children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:r?"Edit Tour Group":"New Tour Group"})}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",name:"name",defaultValue:r==null?void 0:r.name,placeholder:"e.g., Buy Program Tickets - List View",required:!0})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"page_name",children:"Page Name *"}),e.jsxs(Ge,{name:"page_name",defaultValue:r==null?void 0:r.page_name,required:!0,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a page"})}),e.jsx(We,{children:A.map(J=>e.jsx(re,{value:J.value,children:J.label},J.value))})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"The page this tour will appear on"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"view_id",children:"View ID"}),e.jsxs(Ge,{name:"view_id",defaultValue:(r==null?void 0:r.view_id)||"none",children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a view type"})}),e.jsx(We,{children:E.map(J=>e.jsx(re,{value:J.value,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:J.label}),e.jsx("span",{className:"text-xs text-slate-500",children:J.description})]})},J.value))})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Use this to create different tours for different views of the same page"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Qt,{id:"description",name:"description",defaultValue:r==null?void 0:r.description,placeholder:"What does this tour cover?",rows:3})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[e.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Tour Requirements (Optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"mandatory_selector",children:"Mandatory Element CSS Selector"}),e.jsxs(Ge,{value:j===null?"":j,onValueChange:J=>{w(J),J!=="custom"&&_("")},children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select an element (optional)"})}),e.jsxs(We,{className:"max-h-[400px]",children:[e.jsx(re,{value:null,children:"None (no mandatory element)"}),Object.entries(O()).map(([J,Q])=>e.jsxs(Be.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-slate-500 bg-slate-50 sticky top-0",children:J}),Q.map(Y=>e.jsxs(re,{value:Y.selector,children:[Y.label,Y.selector!=="custom"&&e.jsx("span",{className:"text-xs text-slate-400 ml-2",children:Y.selector})]},Y.selector))]},J))]})]}),j==="custom"&&e.jsx("div",{className:"mt-2",children:e.jsx(he,{placeholder:"Enter CSS selector (e.g., #my-element, .my-class)",value:N,onChange:J=>_(J.target.value)})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"If specified, this element must be present on the page for the tour to start"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"mandatory_selector_missing_message",children:"Message if Element Missing"}),e.jsx(Qt,{id:"mandatory_selector_missing_message",name:"mandatory_selector_missing_message",defaultValue:r==null?void 0:r.mandatory_selector_missing_message,placeholder:"e.g., Please add at least one program before viewing this tour.",rows:2}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Custom message shown when the mandatory element is not found"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{id:"is_active",name:"is_active",defaultChecked:(r==null?void 0:r.is_active)!==!1}),e.jsx(Z,{htmlFor:"is_active",children:"Active"})]}),e.jsxs($t,{children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:r?"Update":"Create"})]})]})]})}),e.jsx(Ct,{open:d,onOpenChange:J=>{u(J),J||(v(!1),x(""),h(""))},children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{children:i?"Edit Tour Step":"New Tour Step"})}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"step_order",children:"Step Order *"}),e.jsx(he,{id:"step_order",name:"step_order",type:"number",min:"1",defaultValue:(i==null?void 0:i.step_order)||D.length+1,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"is_welcome_step",checked:y,onChange:J=>{v(J.target.checked),J.target.checked&&(x(""),h(""))},className:"h-4 w-4 rounded border-gray-300"}),e.jsx(Z,{htmlFor:"is_welcome_step",className:"cursor-pointer flex-1",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-blue-900",children:"Welcome/Info Step"}),e.jsx("div",{className:"text-xs text-blue-700",children:"No element to highlight - displays centered popup with 'don't show again' option"})]})})]}),y&&e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"size",children:"Card Size"}),e.jsxs(Ge,{name:"size",defaultValue:(i==null?void 0:i.size)||"medium",children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"small",children:"Small (320px)"}),e.jsx(re,{value:"medium",children:"Medium (384px)"}),e.jsx(re,{value:"large",children:"Large (512px)"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Choose the width of the welcome card"})]}),!y&&e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"target_selector",children:"Target Element *"}),e.jsxs(Ge,{value:p||"",onValueChange:J=>{x(J),J!=="custom"&&h("")},children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a target element"})}),e.jsx(We,{className:"max-h-[400px]",children:Object.entries(O()).map(([J,Q])=>e.jsxs(Be.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-slate-500 bg-slate-50 sticky top-0",children:J}),Q.map(Y=>e.jsxs(re,{value:Y.selector,children:[Y.label,Y.selector!=="custom"&&e.jsx("span",{className:"text-xs text-slate-400 ml-2",children:Y.selector})]},Y.selector))]},J))})]}),p==="custom"&&e.jsx("div",{className:"mt-2",children:e.jsx(he,{placeholder:"Enter CSS selector (e.g., #my-element, .my-class)",value:m,onChange:J=>h(J.target.value)})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s!=null&&s.page_name?`Showing elements for "${s.page_name}" page and general elements`:'Select a common element or choose "Custom" to enter your own CSS selector'})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",name:"title",defaultValue:i==null?void 0:i.title,placeholder:y?"e.g., Welcome to Buy Program Tickets":"e.g., Select a Program",required:!0})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"content",children:"Content *"}),e.jsx(Qt,{id:"content",name:"content",defaultValue:i==null?void 0:i.content,placeholder:y?"This is your first time here! Let us guide you through the process.":"Explain what the user should do or provide welcome information...",rows:4,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"placement",children:"Placement"}),e.jsxs(Ge,{name:"placement",defaultValue:(i==null?void 0:i.placement)||"bottom",children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"top",children:"Top"}),e.jsx(re,{value:"bottom",children:"Bottom"}),e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"right",children:"Right"})]})]}),y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Not used for welcome steps (always centered)"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"mode",children:"Mode"}),e.jsxs(Ge,{name:"mode",defaultValue:(i==null?void 0:i.mode)||"standard",children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"standard",children:"Standard"}),e.jsx(re,{value:"interactive",children:"Interactive"})]})]}),y&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Not used for welcome steps (always standard)"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"gap",children:"Spacing Gap (pixels)"}),e.jsx(he,{id:"gap",name:"gap",type:"number",min:"0",max:"100",defaultValue:(i==null?void 0:i.gap)||40,placeholder:"40"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Distance between the popup and the target element (or screen edge for welcome steps). Default: 40px"})]}),e.jsxs($t,{children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>{u(!1),v(!1),x(""),h("")},children:"Cancel"}),e.jsx(X,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:i?"Update":"Create"})]})]})]})})]})})}function I7({memberInfo:t,organizationInfo:s,refreshOrganizationInfo:n,memberRole:r,reloadMemberInfo:a}){var H;const[i,l]=b.useState(null),[o,c]=b.useState(null),[d,u]=b.useState(!1),[m,h]=b.useState(null),[p,x]=b.useState(null),[y,v]=b.useState(!1),[j,w]=b.useState(!1),N=(r==null?void 0:r.show_tours)!==!1,_=((H=t==null?void 0:t.page_tours_seen)==null?void 0:H.History)===!0;b.useEffect(()=>{N&&!_&&t&&(w(!0),v(!0))},[N,_,t]);const{data:P,isLoading:A}=me({queryKey:["program-transactions",s==null?void 0:s.id],queryFn:async()=>s!=null&&s.id?(await ee.entities.ProgramTicketTransaction.list("-created_date")).filter($=>$.organization_id===s.id):[],enabled:!!(s!=null&&s.id),initialData:[]});if(!t||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})});const E=s.program_ticket_balances||{},C=Object.keys(E).sort(),R=i?P.filter(B=>B.program_name===i):P,O=async B=>{if(t&&!t.is_team_member)try{const I=(await ee.entities.Member.list()).find(L=>L.email===t.email);if(I){const L={...I.page_tours_seen||{},[B]:!0};await ee.entities.Member.update(I.id,{page_tours_seen:L});const V={...t,page_tours_seen:L};sessionStorage.setItem("agcas_member",JSON.stringify(V)),a&&a()}}catch($){console.error("Failed to update tour status:",$)}},k=async()=>{v(!1),w(!1)},T=async()=>{v(!1),w(!1),await O("History")},D=()=>{v(!1),w(!1),setTimeout(()=>{v(!0),w(!0)},10)},F=async B=>{if(!B.xero_invoice_pdf_uri){te.error("Invoice not available");return}c(B.id);try{const $=await ee.integrations.Core.CreateFileSignedUrl({file_uri:B.xero_invoice_pdf_uri,expires_in:300});if($.signed_url){const L=await(await fetch($.signed_url)).arrayBuffer(),V=new Blob([L],{type:"application/pdf"}),J=`${URL.createObjectURL(V)}#view=Fit&navpanes=0&toolbar=0`;h(J),x(B.xero_invoice_number),u(!0)}else te.error("Failed to generate invoice link")}catch($){console.error("Error loading invoice:",$),te.error("Failed to load invoice")}finally{c(null)}},U=()=>{if(!m)return;const B=document.createElement("a");B.href=m,B.download=`invoice-${p||"download"}.pdf`,document.body.appendChild(B),B.click(),document.body.removeChild(B),te.success("Downloading invoice...")},z=B=>{if(!B&&m){const $=m.split("#")[0];URL.revokeObjectURL($),h(null),x(null)}u(B)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[y&&N&&e.jsx(Fd,{tourGroupName:"History",viewId:null,onComplete:k,onDismissPermanently:T,autoShow:j}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",id:"history-page-title",children:"History"}),N&&e.jsx(Id,{onClick:D})]}),e.jsx("p",{className:"text-slate-600",children:"View your organisation's program ticket balances and transaction history"})]}),C.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",id:"program-balance-cards",children:C.map(B=>e.jsx("button",{onClick:()=>l(i===B?null:B),className:"text-left",children:e.jsxs(le,{className:`border-2 transition-all hover:shadow-lg cursor-pointer ${i===B?"border-purple-600 bg-purple-50":"border-slate-200 hover:border-slate-300"}`,children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:`w-5 h-5 ${i===B?"text-purple-600":"text-slate-400"}`}),e.jsx(ze,{className:"text-lg",children:B})]}),i===B&&e.jsx(ye,{className:"bg-purple-600",children:"Selected"})]})}),e.jsxs(ce,{children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:E[B]}),e.jsx("span",{className:"text-slate-600",children:"tickets"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Click to view transactions"})]})]})},B))}),e.jsxs(le,{className:"border-slate-200 shadow-sm",id:"transaction-history-card",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{className:"flex items-center gap-2",children:i?e.jsxs(e.Fragment,{children:["Transaction History: ",i,e.jsx("button",{onClick:()=>l(null),className:"ml-auto text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}):"All Transactions"})}),e.jsx(ce,{className:"pt-6",children:A?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading transactions..."}):R.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"No transactions yet"})]}):e.jsx("div",{className:"space-y-3",children:R.map(B=>{let $,I,L;B.transaction_type==="purchase"?($=Vd,I="bg-green-100 text-green-600",L="Purchase"):B.transaction_type==="refund"?($=Aj,I="bg-blue-100 text-blue-600",L="Return to balance"):($=Ns,I="bg-purple-100 text-purple-600",L="Used for Event");const V=$;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:`p-3 rounded-lg ${I}`,children:e.jsx(V,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:L}),e.jsx(ye,{variant:"outline",className:"text-xs",children:B.program_name})]}),B.transaction_type==="purchase"?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["PO: ",B.purchase_order_number,"  ",B.quantity," ticket",B.quantity>1?"s":""]}),B.xero_invoice_number&&e.jsxs("p",{className:"text-xs text-slate-500",children:["Invoice: ",B.xero_invoice_number]})]}):B.transaction_type==="refund"?e.jsxs("p",{className:"text-sm text-slate-600",children:[B.event_name,"  ",B.quantity," ticket",B.quantity>1?"s":""," returned",B.booking_reference&&`  ${B.booking_reference}`]}):e.jsxs("p",{className:"text-sm text-slate-600",children:[B.event_name,"  ",B.quantity," ticket",B.quantity>1?"s":"",B.booking_reference&&`  ${B.booking_reference}`]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Ot(new Date(B.created_date),"MMM d, yyyy  h:mm a")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`flex items-center gap-1 font-semibold ${B.transaction_type==="purchase"?"text-green-600":B.transaction_type==="refund"?"text-blue-600":"text-purple-600"}`,children:[B.transaction_type==="purchase"?e.jsx(Aj,{className:"w-4 h-4"}):B.transaction_type==="refund"?e.jsx(Aj,{className:"w-4 h-4"}):e.jsx(qG,{className:"w-4 h-4"}),e.jsxs("span",{children:[B.transaction_type==="usage"?"-":"+",B.quantity]})]}),B.xero_invoice_pdf_uri&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>F(B),disabled:o===B.id,className:"shrink-0",children:o===B.id?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ls,{className:"w-4 h-4 mr-1"}),"Invoice"]})})]})]},B.id)})})})]})]}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Program Tickets Yet"}),e.jsx("p",{className:"text-slate-600",children:"Purchase program tickets to get started"})]})})]}),e.jsx(Ct,{open:d,onOpenChange:z,children:e.jsxs(Nt,{className:"max-w-4xl h-[90vh] p-0 flex flex-col",children:[e.jsx(kt,{className:"p-6 pb-4 border-b border-slate-200 shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Et,{children:["Invoice ",p||"Preview"]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:U,className:"gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),"Download"]})]})}),e.jsx("div",{className:"flex-1 min-h-0",children:m?e.jsx("iframe",{src:m,className:"w-full h-full border-0",title:"Invoice PDF"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-slate-400"})})})]})})]})}function P0e({organizationId:t,organizationName:s,programNameFilter:n,memberInfo:r,onClose:a,onTransactionUpdated:i}){const[l,o]=b.useState(null),[c,d]=b.useState(null),[u,m]=b.useState(""),h=Jt(),{data:p,isLoading:x}=me({queryKey:["organization-transactions",t,n],queryFn:async()=>{let R=(await ee.entities.ProgramTicketTransaction.list()).filter(O=>O.organization_id===t);return n&&n!=="all"&&(R=R.filter(O=>O.program_name===n)),R.sort((O,k)=>new Date(k.created_date).getTime()-new Date(O.created_date).getTime())},enabled:!!t,initialData:[]}),y=Ie({mutationFn:async({transactionId:C,quantity:R})=>(await ee.functions.invoke("cancelProgramTicketTransaction",{transactionId:C,quantityToCancel:R,adminEmail:r.email})).data,onSuccess:C=>{h.invalidateQueries({queryKey:["organization-transactions"]}),h.invalidateQueries({queryKey:["all-transactions"]}),h.invalidateQueries({queryKey:["all-organizations"]}),o(null),m(""),te.success(C.message||"Transaction cancelled successfully"),i&&i()},onError:C=>{var O,k;const R=((k=(O=C.response)==null?void 0:O.data)==null?void 0:k.error)||C.message||"Failed to cancel transaction";te.error(R)}}),v=Ie({mutationFn:async({transactionId:C})=>(await ee.functions.invoke("reinstateProgramTicketTransaction",{transactionId:C,adminEmail:r.email})).data,onSuccess:C=>{h.invalidateQueries({queryKey:["organization-transactions"]}),h.invalidateQueries({queryKey:["all-transactions"]}),h.invalidateQueries({queryKey:["all-organizations"]}),d(null),te.success(C.message||"Transaction reinstated successfully"),i&&i()},onError:C=>{var O,k;const R=((k=(O=C.response)==null?void 0:O.data)==null?void 0:k.error)||C.message||"Failed to reinstate transaction";te.error(R)}}),j=C=>{const R=C.original_quantity||C.quantity,O=C.cancelled_quantity||0,k=R-O;o(C),m(k.toString())},w=()=>{const C=parseInt(u);if(isNaN(C)||C<=0){te.error("Please enter a valid quantity");return}const R=l.original_quantity||l.quantity,O=l.cancelled_quantity||0,k=R-O;if(C>k){te.error(`Cannot cancel more than ${k} ticket(s)`);return}y.mutate({transactionId:l.id,quantity:C})},N=C=>{d(C)},_=()=>{v.mutate({transactionId:c.id})},P=async C=>{if(!C.xero_invoice_pdf_uri){te.error("No invoice PDF available");return}try{const R=await ee.integrations.Core.CreateFileSignedUrl({file_uri:C.xero_invoice_pdf_uri,expires_in:300});R.signed_url&&window.open(R.signed_url,"_blank")}catch(R){te.error("Failed to download invoice"),console.error("Invoice download error:",R)}},A=C=>{switch(C){case"purchase":return"bg-green-100 text-green-700";case"usage":return"bg-blue-100 text-blue-700";case"refund":return"bg-purple-100 text-purple-700";case"cancellation_void":return"bg-red-100 text-red-700";case"reinstatement":return"bg-emerald-100 text-emerald-700";default:return"bg-slate-100 text-slate-700"}},E=C=>{switch(C){case"purchase":return"Purchase";case"usage":return"Usage";case"refund":return"Refund";case"cancellation_void":return"Cancelled";case"reinstatement":return"Reinstated";default:return C}};return e.jsxs(e.Fragment,{children:[e.jsx(Ct,{open:!0,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsxs(Et,{className:"text-xl",children:["Transaction History - ",s,n&&n!=="all"&&e.jsxs("span",{className:"text-slate-500 font-normal ml-2",children:["(",n,")"]})]})}),x?e.jsx("div",{className:"py-12 text-center text-slate-600",children:"Loading transactions..."}):p.length===0?e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No transactions found"})}):e.jsx("div",{className:"space-y-3",children:p.map(C=>{const R=C.original_quantity||C.quantity||0,O=C.cancelled_quantity||0,k=R-O,T=C.transaction_type==="purchase",D=!C.status||C.status==="active",F=C.status==="cancelled",U=T&&D&&k>0,z=T&&O>0;return console.log("[OrganizationTransactionsModal] Transaction:",{id:C.id,type:C.transaction_type,status:C.status,originalQty:R,cancelledQty:O,remainingQty:k,isPurchase:T,isActive:D,isCancelled:F,canBeCancelled:U,canBeReinstated:z}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx(ye,{className:A(C.transaction_type),children:E(C.transaction_type)}),C.status==="cancelled"&&e.jsx(ye,{className:"bg-red-100 text-red-700",children:"Fully Cancelled"}),T&&O>0&&C.status!=="cancelled"&&e.jsx(ye,{className:"bg-amber-100 text-amber-700",children:"Partially Cancelled"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Program:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.program_name})]}),T?e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Quantity:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:O>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-600",children:R}),e.jsx("span",{className:"text-slate-400 mx-1",children:"-"}),e.jsx("span",{className:"text-red-600",children:O}),e.jsx("span",{className:"text-slate-400 mx-1",children:"="}),e.jsx("span",{className:"text-blue-600",children:k})]}):R})]}):e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Quantity:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.quantity})]}),C.member_email&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Member:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.member_email})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ns,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"text-slate-600",children:Ot(new Date(C.created_date),"MMM d, yyyy HH:mm")})]}),C.purchase_order_number&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"PO Number:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.purchase_order_number})]}),C.booking_reference&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Booking Ref:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.booking_reference})]}),C.event_name&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Event:"}),e.jsx("span",{className:"font-medium text-slate-900 ml-2",children:C.event_name})]}),C.xero_invoice_number&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-slate-600",children:"Invoice:"}),e.jsx("span",{className:"font-medium text-slate-900",children:C.xero_invoice_number}),C.xero_invoice_pdf_uri&&e.jsx(X,{variant:"ghost",size:"sm",className:"h-6 px-2",onClick:()=>P(C),children:e.jsx(lr,{className:"w-3 h-3"})})]}),C.total_cost_before_discount&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Value:"}),e.jsxs("span",{className:"font-medium text-slate-900 ml-2",children:["",C.total_cost_before_discount.toFixed(2)]})]})]}),C.notes&&e.jsx("div",{className:"mt-2 text-sm text-slate-600 italic",children:C.notes})]}),e.jsxs("div",{className:"flex-shrink-0 flex gap-2",children:[U&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>j(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50 whitespace-nowrap",children:"Cancel Tickets"}),z&&e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>N(C),className:"text-green-600 hover:text-green-700 hover:bg-green-50 whitespace-nowrap",children:[e.jsx(s4,{className:"w-3 h-3 mr-1"}),"Reinstate"]})]})]})})},C.id)})}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:a,children:"Close"})})]})}),l&&e.jsx(Ct,{open:!0,onOpenChange:()=>o(null),children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Cancel Tickets"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-amber-900 mb-1",children:"Important:"}),e.jsx("p",{className:"text-amber-800",children:"This will void the selected tickets from this purchase. The tickets will be removed from the organization's available balance. You can reinstate them later if needed."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Original Purchase:"}),e.jsxs("span",{className:"font-semibold text-slate-900 ml-2",children:[l.original_quantity||l.quantity," ticket(s)"]})]}),(l.cancelled_quantity||0)>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Already Cancelled:"}),e.jsxs("span",{className:"font-semibold text-red-600 ml-2",children:[l.cancelled_quantity," ticket(s)"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Available to Cancel:"}),e.jsxs("span",{className:"font-semibold text-blue-600 ml-2",children:[(l.original_quantity||l.quantity)-(l.cancelled_quantity||0)," ticket(s)"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"cancel-quantity",children:"Quantity to Cancel *"}),e.jsx(he,{id:"cancel-quantity",type:"number",min:"1",max:(l.original_quantity||l.quantity)-(l.cancelled_quantity||0),value:u,onChange:C=>m(C.target.value),placeholder:"Enter number of tickets to cancel"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>o(null),disabled:y.isPending,children:"Cancel"}),e.jsx(X,{onClick:w,disabled:y.isPending||!u,className:"bg-red-600 hover:bg-red-700",children:y.isPending?"Cancelling...":"Confirm Cancellation"})]})]})}),c&&e.jsx(Ct,{open:!0,onOpenChange:()=>d(null),children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Reinstate Cancelled Tickets"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(s4,{className:"w-5 h-5 text-green-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-green-900 mb-1",children:"Reinstate Transaction"}),e.jsx("p",{className:"text-green-800",children:"This will reverse the cancellation and restore the tickets back to the organization's available balance."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Program:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:c.program_name})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Tickets to Reinstate:"}),e.jsxs("span",{className:"font-semibold text-green-600 ml-2",children:[c.cancelled_quantity||0," ticket(s)"]})]}),c.purchase_order_number&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"PO Number:"}),e.jsx("span",{className:"font-semibold text-slate-900 ml-2",children:c.purchase_order_number})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>d(null),disabled:v.isPending,children:"Cancel"}),e.jsx(X,{onClick:_,disabled:v.isPending,className:"bg-green-600 hover:bg-green-700",children:v.isPending?"Reinstating...":"Confirm Reinstatement"})]})]})})]})}function L7({isAdmin:t,memberRole:s,memberInfo:n,isFeatureExcluded:r}){const[a,i]=b.useState(""),[l,o]=b.useState("all"),[c,d]=b.useState("tickets_desc"),[u,m]=b.useState(null);Be.useEffect(()=>{s!=null&&(!t||r("page_TicketSalesAnalytics"))&&(window.location.href=Te("Events"))},[t,s,r]);const{data:h,isLoading:p}=me({queryKey:["all-transactions"],queryFn:()=>ee.entities.ProgramTicketTransaction.list(),initialData:[]}),{data:x,isLoading:y}=me({queryKey:["all-organizations"],queryFn:()=>ee.entities.Organization.list(),initialData:[]}),v=p||y,j=b.useMemo(()=>[...new Set(h.map(E=>E.program_name).filter(Boolean))].sort(),[h]),w=b.useMemo(()=>{const A=new Map;return(l==="all"?h:h.filter(C=>C.program_name===l)).forEach(C=>{const R=C.organization_id;if(!R)return;if(!A.has(R)){const k=x.find(T=>T.id===R);A.set(R,{organization_id:R,organization_name:(k==null?void 0:k.name)||"Unknown Organization",total_tickets_purchased:0,total_tickets_used:0,total_tickets_refunded:0,net_tickets:0,total_sales_value:0,programs:new Set,transaction_count:0})}const O=A.get(R);if(O.transaction_count++,C.program_name&&O.programs.add(C.program_name),C.transaction_type==="purchase"){const k=C.original_quantity||C.quantity,T=C.cancelled_quantity||0,D=k-T;O.total_tickets_purchased+=D,O.net_tickets+=D;const F=C.total_cost_before_discount||0;O.total_sales_value+=F}else C.transaction_type==="refund"?(O.total_tickets_refunded+=C.quantity||0,O.net_tickets+=C.quantity||0):C.transaction_type==="usage"&&(O.total_tickets_used+=C.quantity||0)}),Array.from(A.values())},[h,x,l]),N=b.useMemo(()=>{let A=w.filter(E=>E.organization_name.toLowerCase().includes(a.toLowerCase()));return A.sort((E,C)=>{switch(c){case"tickets_desc":return C.total_tickets_purchased-E.total_tickets_purchased;case"tickets_asc":return E.total_tickets_purchased-C.total_tickets_purchased;case"value_desc":return C.total_sales_value-E.total_sales_value;case"value_asc":return E.total_sales_value-C.total_sales_value;case"name_asc":return E.organization_name.localeCompare(C.organization_name);case"name_desc":return C.organization_name.localeCompare(E.organization_name);default:return 0}}),A},[w,a,c]),_=b.useMemo(()=>N.reduce((A,E)=>({tickets:A.tickets+E.total_tickets_purchased,value:A.value+E.total_sales_value,organizations:A.organizations+1}),{tickets:0,value:0,organizations:0}),[N]),P=()=>{const A=["Organization","Tickets Purchased","Tickets Used","Tickets Refunded","Net Tickets","Sales Value ()","Programs","Transactions"],E=N.map(T=>[T.organization_name,T.total_tickets_purchased,T.total_tickets_used,T.total_tickets_refunded,T.net_tickets,T.total_sales_value.toFixed(2),Array.from(T.programs).join("; "),T.transaction_count]),C=[A.join(","),...E.map(T=>T.map(D=>`"${D}"`).join(","))].join(`
`),R=new Blob([C],{type:"text/csv"}),O=window.URL.createObjectURL(R),k=document.createElement("a");k.href=O,k.download=`ticket-sales-${Ot(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(O),k.remove()};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):!t||r("page_TicketSalesAnalytics")?null:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(qh,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Ticket Sales Analytics"})]}),e.jsx("p",{className:"text-slate-600",children:"Overview of ticket sales across all organizations"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"pb-3",children:e.jsx(ze,{className:"text-sm font-medium text-slate-600",children:"Total Organizations"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-3xl font-bold text-slate-900",children:_.organizations})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"pb-3",children:e.jsx(ze,{className:"text-sm font-medium text-slate-600",children:"Total Tickets Sold"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-3xl font-bold text-slate-900",children:_.tickets})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"pb-3",children:e.jsx(ze,{className:"text-sm font-medium text-slate-600",children:"Total Sales Value"})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nY,{className:"w-5 h-5 text-green-600"}),e.jsxs("span",{className:"text-3xl font-bold text-slate-900",children:["",_.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search organizations...",value:a,onChange:A=>i(A.target.value),className:"pl-10"})]}),e.jsxs(Ge,{value:l,onValueChange:o,children:[e.jsx(Ve,{className:"w-full md:w-[200px]",children:e.jsx(Je,{placeholder:"Filter by program"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Programs"}),j.map(A=>e.jsx(re,{value:A,children:A},A))]})]}),e.jsxs(Ge,{value:c,onValueChange:d,children:[e.jsx(Ve,{className:"w-full md:w-[200px]",children:e.jsx(Je,{placeholder:"Sort by"})}),e.jsxs(We,{children:[e.jsx(re,{value:"tickets_desc",children:"Tickets (High to Low)"}),e.jsx(re,{value:"tickets_asc",children:"Tickets (Low to High)"}),e.jsx(re,{value:"value_desc",children:"Value (High to Low)"}),e.jsx(re,{value:"value_asc",children:"Value (Low to High)"}),e.jsx(re,{value:"name_asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name_desc",children:"Name (Z-A)"})]})]}),e.jsxs(X,{variant:"outline",onClick:P,className:"gap-2",disabled:N.length===0,children:[e.jsx(lr,{className:"w-4 h-4"}),"Export CSV"]})]})})}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{children:"Sales by Organization"})}),e.jsx(ce,{className:"p-0",children:v?e.jsx("div",{className:"p-12 text-center text-slate-600",children:"Loading sales data..."}):N.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(MQ,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No sales data found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your filters"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Organization"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Purchased"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Used"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Refunded"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Net Balance"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Sales Value"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Programs"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-600 uppercase tracking-wider",children:"Transactions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:N.map(A=>e.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer transition-colors",onClick:()=>m(A),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"font-medium text-slate-900",children:A.organization_name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:"font-semibold text-green-600",children:A.total_tickets_purchased})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-slate-600",children:A.total_tickets_used}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-slate-600",children:A.total_tickets_refunded}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("span",{className:`font-semibold ${A.net_tickets>0?"text-blue-600":"text-slate-600"}`,children:A.net_tickets})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold text-slate-900",children:["",A.total_sales_value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:A.programs.size})}),e.jsx("td",{className:"px-6 py-4 text-center text-slate-600",children:A.transaction_count})]},A.organization_id))})]})})})]})]}),u&&e.jsx(P0e,{organizationId:u.organization_id,organizationName:u.organization_name,programNameFilter:l,memberInfo:n,onClose:()=>m(null),onTransactionUpdated:()=>{m(null)}})]})}function rk({categories:t,selectedSubcategories:s,onSubcategoryToggle:n,searchQuery:r,onSearchChange:a,onClearSearch:i,isLoading:l=!1}){const[o,c]=Be.useState({}),[d,u]=Be.useState({}),[m,h]=Be.useState(!0),p=j=>{c(w=>({...w,[j]:!w[j]}))},x=j=>{u(w=>({...w,[j]:!w[j]}))},y=(j,w)=>{w.stopPropagation();const N=t.find(_=>_.name===j);N&&N.subcategories&&N.subcategories.forEach(P=>{s.includes(P)&&n(P)})},v=j=>{const w=t.find(N=>N.name===j);return!w||!w.subcategories?!1:w.subcategories.some(N=>s.includes(N))};return Be.useEffect(()=>{if(!t||t.length===0)return;const j={};t.forEach(w=>{v(w.name)&&(j[w.name]=!0)}),c(w=>({...w,...j}))},[t]),l?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Loading categories..."})}):!t||t.length===0?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"text-sm text-slate-500 italic",children:"No categories available"})}):e.jsxs("div",{className:"space-y-0",children:[e.jsx("style",{jsx:!0,children:`
        .accordion-content {
          overflow: hidden;
          transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .accordion-content[data-state="closed"] {
          max-height: 0;
          opacity: 0;
        }
        .accordion-content[data-state="open"] {
          max-height: 1000px;
          opacity: 1;
        }
        .accordion-content[data-state="open-category"] {
          max-height: 2000px;
          opacity: 1;
        }
      `}),e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>h(!m),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold transition-colors text-left hover:bg-slate-100 text-slate-700",children:[e.jsx("span",{children:"Search Resources"}),m?e.jsx(Vr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(Ss,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]}),e.jsx("div",{className:"accordion-content","data-state":m?"open":"closed",children:e.jsx("div",{className:"pt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:r,onChange:j=>a(j.target.value),className:"pl-10 pr-10 rounded-none"}),r&&e.jsx("button",{onClick:i,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ks,{className:"w-4 h-4"})})]})})})]}),e.jsx("div",{children:t.map(j=>{if(!(j.subcategories&&j.subcategories.length>0))return null;const N=o[j.name],_=d[j.name],P=[...j.subcategories].sort((R,O)=>R.localeCompare(O,void 0,{sensitivity:"base"})),A=_?P:P.slice(0,8),E=P.length>8,C=v(j.name);return e.jsxs("div",{className:"border-b border-slate-200 py-3",children:[e.jsxs("button",{onClick:()=>p(j.name),className:"w-full flex items-center justify-between px-2 py-1.5 text-sm font-semibold transition-colors text-left hover:bg-slate-100 text-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"break-words",children:j.name}),C&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 font-medium",children:j.subcategories.filter(R=>s.includes(R)).length})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C&&e.jsx("span",{onClick:R=>y(j.name,R),className:"text-xs text-blue-600 hover:text-blue-700 hover:underline",children:"Clear"}),N?e.jsx(Vr,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"}):e.jsx(Ss,{className:"w-3.5 h-3.5 text-slate-600 flex-shrink-0 transition-transform duration-200 ease-in-out"})]})]}),e.jsx("div",{className:"accordion-content","data-state":N?"open-category":"closed",children:e.jsxs("div",{className:"space-y-0.5 pt-1",children:[A.map(R=>{const O=s.includes(R);return e.jsxs("div",{className:`flex items-start gap-2 px-2 py-1 cursor-pointer transition-colors ${O?"bg-blue-50":"hover:bg-slate-50"}`,onClick:k=>{k.target===k.currentTarget&&n(R)},children:[e.jsx(Aa,{id:`subcategory-${R}`,checked:O,onCheckedChange:()=>n(R),className:"mt-0.5 flex-shrink-0 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 rounded-none"}),e.jsx(Z,{htmlFor:`subcategory-${R}`,className:`text-xs cursor-pointer break-words flex-1 leading-tight pt-0.5 ${O?"text-blue-700 font-medium":"text-slate-700"}`,children:R})]},R)}),E&&e.jsx("button",{onClick:()=>x(j.name),className:"w-full text-left px-2 py-1 text-xs text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors",children:_?" Show less":`+ View ${P.length-8} more`})]})})]},j.id)})})]})}function A0e(t){const s=O0e(t),n=b.forwardRef((r,a)=>{const{children:i,...l}=r,o=b.Children.toArray(i),c=o.find(D0e);if(c){const d=c.props.children,u=o.map(m=>m===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function O0e(t){const s=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const l=F0e(a),o=R0e(i,a.props);return a.type!==b.Fragment&&(o.ref=r?Hr(r,l):l),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var M0e=Symbol("radix.slottable");function D0e(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M0e}function R0e(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function F0e(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CS=["Enter"," "],I0e=["ArrowDown","PageUp","Home"],B7=["ArrowUp","PageDown","End"],L0e=[...I0e,...B7],B0e={ltr:[...CS,"ArrowRight"],rtl:[...CS,"ArrowLeft"]},q0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tg="Menu",[ap,$0e,U0e]=W2(tg),[Kd,q7]=Er(tg,[U0e,jc,tm]),jy=jc(),$7=tm(),[z0e,Gd]=Kd(tg),[V0e,sg]=Kd(tg),U7=t=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:l=!0}=t,o=jy(s),[c,d]=b.useState(null),u=b.useRef(!1),m=gl(i),h=Vp(a);return b.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),e.jsx(Bv,{...o,children:e.jsx(z0e,{scope:s,open:n,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(V0e,{scope:s,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:l,children:r})})})};U7.displayName=tg;var W0e="MenuAnchor",ak=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=jy(n);return e.jsx(Lp,{...a,...r,ref:s})});ak.displayName=W0e;var ik="MenuPortal",[H0e,z7]=Kd(ik,{forceMount:void 0}),V7=t=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=t,i=Gd(ik,s);return e.jsx(H0e,{scope:s,forceMount:n,children:e.jsx(Tr,{present:n||i.open,children:e.jsx(Kh,{asChild:!0,container:a,children:r})})})};V7.displayName=ik;var oi="MenuContent",[K0e,lk]=Kd(oi),W7=b.forwardRef((t,s)=>{const n=z7(oi,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=Gd(oi,t.__scopeMenu),l=sg(oi,t.__scopeMenu);return e.jsx(ap.Provider,{scope:t.__scopeMenu,children:e.jsx(Tr,{present:r||i.open,children:e.jsx(ap.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(G0e,{...a,ref:s}):e.jsx(Y0e,{...a,ref:s})})})})}),G0e=b.forwardRef((t,s)=>{const n=Gd(oi,t.__scopeMenu),r=b.useRef(null),a=ys(s,r);return b.useEffect(()=>{const i=r.current;if(i)return Tv(i)},[]),e.jsx(ok,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:jt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Y0e=b.forwardRef((t,s)=>{const n=Gd(oi,t.__scopeMenu);return e.jsx(ok,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q0e=A0e("MenuContent.ScrollLock"),ok=b.forwardRef((t,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...y}=t,v=Gd(oi,n),j=sg(oi,n),w=jy(n),N=$7(n),_=$0e(n),[P,A]=b.useState(null),E=b.useRef(null),C=ys(s,E,v.onContentChange),R=b.useRef(0),O=b.useRef(""),k=b.useRef(0),T=b.useRef(null),D=b.useRef("right"),F=b.useRef(0),U=x?Dp:b.Fragment,z=x?{as:Q0e,allowPinchZoom:!0}:void 0,H=$=>{var K,ae;const I=O.current+$,L=_().filter(se=>!se.disabled),V=document.activeElement,q=(K=L.find(se=>se.ref.current===V))==null?void 0:K.textValue,J=L.map(se=>se.textValue),Q=ove(J,I,q),Y=(ae=L.find(se=>se.textValue===Q))==null?void 0:ae.ref.current;(function se(de){O.current=de,window.clearTimeout(R.current),de!==""&&(R.current=window.setTimeout(()=>se(""),1e3))})(I),Y&&setTimeout(()=>Y.focus())};b.useEffect(()=>()=>window.clearTimeout(R.current),[]),Cv();const B=b.useCallback($=>{var L,V;return D.current===((L=T.current)==null?void 0:L.side)&&dve($,(V=T.current)==null?void 0:V.area)},[]);return e.jsx(K0e,{scope:n,searchRef:O,onItemEnter:b.useCallback($=>{B($)&&$.preventDefault()},[B]),onItemLeave:b.useCallback($=>{var I;B($)||((I=E.current)==null||I.focus(),A(null))},[B]),onTriggerLeave:b.useCallback($=>{B($)&&$.preventDefault()},[B]),pointerGraceTimerRef:k,onPointerGraceIntentChange:b.useCallback($=>{T.current=$},[]),children:e.jsx(U,{...z,children:e.jsx(Mp,{asChild:!0,trapped:a,onMountAutoFocus:jt(i,$=>{var I;$.preventDefault(),(I=E.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Hh,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:e.jsx(H2,{asChild:!0,...N,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:A,onEntryFocus:jt(c,$=>{j.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(qv,{role:"menu","aria-orientation":"vertical","data-state":l$(v.open),"data-radix-menu-content":"",dir:j.dir,...w,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:jt(y.onKeyDown,$=>{const L=$.target.closest("[data-radix-menu-content]")===$.currentTarget,V=$.ctrlKey||$.altKey||$.metaKey,q=$.key.length===1;L&&($.key==="Tab"&&$.preventDefault(),!V&&q&&H($.key));const J=E.current;if($.target!==J||!L0e.includes($.key))return;$.preventDefault();const Y=_().filter(K=>!K.disabled).map(K=>K.ref.current);B7.includes($.key)&&Y.reverse(),ive(Y)}),onBlur:jt(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),O.current="")}),onPointerMove:jt(t.onPointerMove,ip($=>{const I=$.target,L=F.current!==$.clientX;if($.currentTarget.contains(I)&&L){const V=$.clientX>F.current?"right":"left";D.current=V,F.current=$.clientX}}))})})})})})})});W7.displayName=oi;var J0e="MenuGroup",ck=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(zt.div,{role:"group",...r,ref:s})});ck.displayName=J0e;var X0e="MenuLabel",H7=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(zt.div,{...r,ref:s})});H7.displayName=X0e;var sv="MenuItem",aR="menu.itemSelect",wy=b.forwardRef((t,s)=>{const{disabled:n=!1,onSelect:r,...a}=t,i=b.useRef(null),l=sg(sv,t.__scopeMenu),o=lk(sv,t.__scopeMenu),c=ys(s,i),d=b.useRef(!1),u=()=>{const m=i.current;if(!n&&m){const h=new CustomEvent(aR,{bubbles:!0,cancelable:!0});m.addEventListener(aR,p=>r==null?void 0:r(p),{once:!0}),Z5(m,h),h.defaultPrevented?d.current=!1:l.onClose()}};return e.jsx(K7,{...a,ref:c,disabled:n,onClick:jt(t.onClick,u),onPointerDown:m=>{var h;(h=t.onPointerDown)==null||h.call(t,m),d.current=!0},onPointerUp:jt(t.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:jt(t.onKeyDown,m=>{const h=o.searchRef.current!=="";n||h&&m.key===" "||CS.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});wy.displayName=sv;var K7=b.forwardRef((t,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=t,l=lk(sv,n),o=$7(n),c=b.useRef(null),d=ys(s,c),[u,m]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),e.jsx(ap.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:e.jsx(K2,{asChild:!0,...o,focusable:!r,children:e.jsx(zt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:jt(t.onPointerMove,ip(x=>{r?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:jt(t.onPointerLeave,ip(x=>l.onItemLeave(x))),onFocus:jt(t.onFocus,()=>m(!0)),onBlur:jt(t.onBlur,()=>m(!1))})})})}),Z0e="MenuCheckboxItem",G7=b.forwardRef((t,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return e.jsx(Z7,{scope:t.__scopeMenu,checked:n,children:e.jsx(wy,{role:"menuitemcheckbox","aria-checked":nv(n)?"mixed":n,...a,ref:s,"data-state":uk(n),onSelect:jt(a.onSelect,()=>r==null?void 0:r(nv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});G7.displayName=Z0e;var Y7="MenuRadioGroup",[eve,tve]=Kd(Y7,{value:void 0,onValueChange:()=>{}}),Q7=b.forwardRef((t,s)=>{const{value:n,onValueChange:r,...a}=t,i=gl(r);return e.jsx(eve,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(ck,{...a,ref:s})})});Q7.displayName=Y7;var J7="MenuRadioItem",X7=b.forwardRef((t,s)=>{const{value:n,...r}=t,a=tve(J7,t.__scopeMenu),i=n===a.value;return e.jsx(Z7,{scope:t.__scopeMenu,checked:i,children:e.jsx(wy,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":uk(i),onSelect:jt(r.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,n)},{checkForDefaultPrevented:!1})})})});X7.displayName=J7;var dk="MenuItemIndicator",[Z7,sve]=Kd(dk,{checked:!1}),e$=b.forwardRef((t,s)=>{const{__scopeMenu:n,forceMount:r,...a}=t,i=sve(dk,n);return e.jsx(Tr,{present:r||nv(i.checked)||i.checked===!0,children:e.jsx(zt.span,{...a,ref:s,"data-state":uk(i.checked)})})});e$.displayName=dk;var nve="MenuSeparator",t$=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(zt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});t$.displayName=nve;var rve="MenuArrow",s$=b.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=jy(n);return e.jsx($v,{...a,...r,ref:s})});s$.displayName=rve;var ave="MenuSub",[HAe,n$]=Kd(ave),_f="MenuSubTrigger",r$=b.forwardRef((t,s)=>{const n=Gd(_f,t.__scopeMenu),r=sg(_f,t.__scopeMenu),a=n$(_f,t.__scopeMenu),i=lk(_f,t.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>u,[u]),b.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),e.jsx(ak,{asChild:!0,...d,children:e.jsx(K7,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":l$(n.open),...t,ref:Hr(s,a.onTriggerChange),onClick:m=>{var h;(h=t.onClick)==null||h.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:jt(t.onPointerMove,ip(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:jt(t.onPointerLeave,ip(m=>{var p,x;u();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const y=(x=n.content)==null?void 0:x.dataset.side,v=y==="right",j=v?-5:5,w=h[v?"left":"right"],N=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:w,y:h.top},{x:N,y:h.top},{x:N,y:h.bottom},{x:w,y:h.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:jt(t.onKeyDown,m=>{var p;const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||B0e[r.dir].includes(m.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),m.preventDefault())})})})});r$.displayName=_f;var a$="MenuSubContent",i$=b.forwardRef((t,s)=>{const n=z7(oi,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=Gd(oi,t.__scopeMenu),l=sg(oi,t.__scopeMenu),o=n$(a$,t.__scopeMenu),c=b.useRef(null),d=ys(s,c);return e.jsx(ap.Provider,{scope:t.__scopeMenu,children:e.jsx(Tr,{present:r||i.open,children:e.jsx(ap.Slot,{scope:t.__scopeMenu,children:e.jsx(ok,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:jt(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:jt(t.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:jt(t.onKeyDown,u=>{var p;const m=u.currentTarget.contains(u.target),h=q0e[l.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(p=o.trigger)==null||p.focus(),u.preventDefault())})})})})})});i$.displayName=a$;function l$(t){return t?"open":"closed"}function nv(t){return t==="indeterminate"}function uk(t){return nv(t)?"indeterminate":t?"checked":"unchecked"}function ive(t){const s=document.activeElement;for(const n of t)if(n===s||(n.focus(),document.activeElement!==s))return}function lve(t,s){return t.map((n,r)=>t[(s+r)%t.length])}function ove(t,s,n){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let l=lve(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==n));const c=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function cve(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i],c=s[l],d=o.x,u=o.y,m=c.x,h=c.y;u>r!=h>r&&n<(m-d)*(r-u)/(h-u)+d&&(a=!a)}return a}function dve(t,s){if(!s)return!1;const n={x:t.clientX,y:t.clientY};return cve(n,s)}function ip(t){return s=>s.pointerType==="mouse"?t(s):void 0}var uve=U7,hve=ak,mve=V7,fve=W7,pve=ck,gve=H7,xve=wy,vve=G7,yve=Q7,bve=X7,jve=e$,wve=t$,Nve=s$,_ve=r$,Sve=i$,Ny="DropdownMenu",[Cve]=Er(Ny,[q7]),Kr=q7(),[kve,o$]=Cve(Ny),c$=t=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Kr(s),d=b.useRef(null),[u,m]=ui({prop:a,defaultProp:i??!1,onChange:l,caller:Ny});return e.jsx(kve,{scope:s,triggerId:Xn(),triggerRef:d,contentId:Xn(),open:u,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(h=>!h),[m]),modal:o,children:e.jsx(uve,{...c,open:u,onOpenChange:m,dir:r,modal:o,children:n})})};c$.displayName=Ny;var d$="DropdownMenuTrigger",u$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,i=o$(d$,n),l=Kr(n);return e.jsx(hve,{asChild:!0,...l,children:e.jsx(zt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Hr(s,i.triggerRef),onPointerDown:jt(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:jt(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});u$.displayName=d$;var Eve="DropdownMenuPortal",h$=t=>{const{__scopeDropdownMenu:s,...n}=t,r=Kr(s);return e.jsx(mve,{...r,...n})};h$.displayName=Eve;var m$="DropdownMenuContent",f$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=o$(m$,n),i=Kr(n),l=b.useRef(!1);return e.jsx(fve,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:jt(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:jt(t.onInteractOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f$.displayName=m$;var Tve="DropdownMenuGroup",Pve=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(pve,{...a,...r,ref:s})});Pve.displayName=Tve;var Ave="DropdownMenuLabel",p$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(gve,{...a,...r,ref:s})});p$.displayName=Ave;var Ove="DropdownMenuItem",g$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(xve,{...a,...r,ref:s})});g$.displayName=Ove;var Mve="DropdownMenuCheckboxItem",x$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(vve,{...a,...r,ref:s})});x$.displayName=Mve;var Dve="DropdownMenuRadioGroup",Rve=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(yve,{...a,...r,ref:s})});Rve.displayName=Dve;var Fve="DropdownMenuRadioItem",v$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(bve,{...a,...r,ref:s})});v$.displayName=Fve;var Ive="DropdownMenuItemIndicator",y$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(jve,{...a,...r,ref:s})});y$.displayName=Ive;var Lve="DropdownMenuSeparator",b$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(wve,{...a,...r,ref:s})});b$.displayName=Lve;var Bve="DropdownMenuArrow",qve=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(Nve,{...a,...r,ref:s})});qve.displayName=Bve;var $ve="DropdownMenuSubTrigger",j$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(_ve,{...a,...r,ref:s})});j$.displayName=$ve;var Uve="DropdownMenuSubContent",w$=b.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Kr(n);return e.jsx(Sve,{...a,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});w$.displayName=Uve;var zve=c$,Vve=u$,Wve=h$,N$=f$,_$=p$,S$=g$,C$=x$,k$=v$,E$=y$,T$=b$,P$=j$,A$=w$;const Kx=zve,Gx=Vve,Hve=b.forwardRef(({className:t,inset:s,children:n,...r},a)=>e.jsxs(P$,{ref:a,className:et("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...r,children:[n,e.jsx(Ss,{className:"ml-auto"})]}));Hve.displayName=P$.displayName;const Kve=b.forwardRef(({className:t,...s},n)=>e.jsx(A$,{ref:n,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Kve.displayName=A$.displayName;const Sf=b.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(Wve,{children:e.jsx(N$,{ref:r,sideOffset:s,className:et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Sf.displayName=N$.displayName;const ka=b.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(S$,{ref:r,className:et("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",t),...n}));ka.displayName=S$.displayName;const Gve=b.forwardRef(({className:t,children:s,checked:n,...r},a)=>e.jsxs(C$,{ref:a,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(E$,{children:e.jsx(Tp,{className:"h-4 w-4"})})}),s]}));Gve.displayName=C$.displayName;const Yve=b.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(k$,{ref:r,className:et("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(E$,{children:e.jsx(k5,{className:"h-2 w-2 fill-current"})})}),s]}));Yve.displayName=k$.displayName;const Qve=b.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(_$,{ref:r,className:et("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));Qve.displayName=_$.displayName;const Jve=b.forwardRef(({className:t,...s},n)=>e.jsx(T$,{ref:n,className:et("-mx-1 my-1 h-px bg-muted",t),...s}));Jve.displayName=T$.displayName;const Xve={ArrowUpRight:Ur,Download:lr,ExternalLink:tn,PlayCircle:$h,Eye:kr,FileText:ls,Mail:Rs,Plus:Tt};function O$({resource:t,isLocked:s=!1,buttonStyles:n=[],enabledSocialIcons:r=["x","linkedin","email"]}){const a=n.find(u=>u.resource_type===t.resource_type)||null,i=u=>{switch(u){case"download":return e.jsx(lr,{className:"w-4 h-4"});case"video":return e.jsx($h,{className:"w-4 h-4"});case"external_link":return e.jsx(tn,{className:"w-4 h-4"});default:return e.jsx(tn,{className:"w-4 h-4"})}},l=u=>{switch(u){case"download":return"Download";case"video":return"Watch Video";case"external_link":return"Visit Site";default:return"View Resource"}},o=()=>{window.open(t.target_url,"_blank","noopener,noreferrer")},c=u=>{const m=encodeURIComponent(t.target_url),h=encodeURIComponent(t.title),p=encodeURIComponent(t.description||"");switch(u){case"x":window.open(`https://twitter.com/intent/tweet?text=${h}&url=${m}`,"_blank","noopener,noreferrer");break;case"linkedin":window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${m}`,"_blank","noopener,noreferrer");break;case"email":window.location.href=`mailto:?subject=${h}&body=${p}%0A%0A${m}`;break}},d=()=>{if(!a)return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:o,className:`bg-blue-600 hover:bg-blue-700 ${t.is_public?"flex-1":"w-full"}`,children:[i(t.resource_type),e.jsx("span",{className:"ml-2",children:l(t.resource_type)})]}),t.is_public&&e.jsxs(Kx,{children:[e.jsx(Gx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(nd,{className:"w-4 h-4"})})}),e.jsxs(Sf,{align:"end",children:[r.includes("x")&&e.jsxs(ka,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ka,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ka,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]});const u=a.button_text||l(t.resource_type),m=a.button_type,h=a.icon_name&&Xve[a.icon_name];return m==="square_agcas"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Xa,{onClick:o,className:"shrink-0"}),t.is_public&&e.jsxs(Kx,{children:[e.jsx(Gx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(nd,{className:"w-4 h-4"})})}),e.jsxs(Sf,{align:"end",children:[r.includes("x")&&e.jsxs(ka,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ka,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ka,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]}):m==="rectangular_agcas"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx($s,{onClick:o,icon:h&&a.icon_name!=="none"?h:void 0,className:t.is_public?"flex-1":"w-full",children:u}),t.is_public&&e.jsxs(Kx,{children:[e.jsx(Gx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(nd,{className:"w-4 h-4"})})}),e.jsxs(Sf,{align:"end",children:[r.includes("x")&&e.jsxs(ka,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ka,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ka,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:o,className:`bg-blue-600 hover:bg-blue-700 ${t.is_public?"flex-1":"w-full"}`,children:[h&&a.icon_name!=="none"?e.jsx(h,{className:"w-4 h-4 mr-2"}):i(t.resource_type),u]}),t.is_public&&e.jsxs(Kx,{children:[e.jsx(Gx,{asChild:!0,children:e.jsx("button",{className:"shrink-0 w-10 self-stretch inline-flex items-center justify-center bg-transparent rounded-none transition-all duration-300 hover:text-white agcas-share-button",children:e.jsx(nd,{className:"w-4 h-4"})})}),e.jsxs(Sf,{align:"end",children:[r.includes("x")&&e.jsxs(ka,{onClick:()=>c("x"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Share on X"]}),r.includes("linkedin")&&e.jsxs(ka,{onClick:()=>c("linkedin"),className:"cursor-pointer",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"Share on LinkedIn"]}),r.includes("email")&&e.jsxs(ka,{onClick:()=>c("email"),className:"cursor-pointer",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Share via Email"]})]})]})]})};return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow duration-300 overflow-hidden h-full flex flex-col rounded-none relative",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-share-button {
          box-shadow: inset 0 0 0 2px black;
        }
        .agcas-share-button:hover {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          box-shadow: none !important;
        }
      `}),s&&e.jsx("div",{className:"absolute top-0 right-0 z-10 bg-slate-900 p-2 shadow-lg",children:e.jsx(Z_,{className:"w-5 h-5 text-white"})}),t.image_url&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-48 overflow-hidden bg-slate-100 relative",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsx("div",{className:"w-full h-[3px]",style:{backgroundColor:"#5d0d77"}})]}),e.jsxs(Fe,{className:"pb-3 flex-grow",children:[e.jsx(ze,{className:"text-lg line-clamp-2",children:t.title}),(t.published_date||t.created_date)&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 py-3",children:[e.jsx(Ns,{className:"w-3 h-3"}),e.jsx("span",{children:Ot(new Date(t.published_date||t.created_date),"dd MMM yyyy")})]}),t.author_name&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 mt-2",children:[e.jsx(sn,{className:"w-3 h-3"}),e.jsxs("span",{children:["by ",t.author_name]})]}),t.description&&e.jsx("p",{className:"text-sm text-slate-600",children:t.description}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 pt-4",children:t.tags.map((u,m)=>e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded-none",children:u},m))})]}),e.jsx(ce,{className:"pt-0 pb-4 mt-auto",children:s?e.jsxs(X,{onClick:()=>window.location.href=Te("Home"),variant:"outline",className:"w-full border-slate-300 hover:bg-slate-50 rounded-none",children:[e.jsx(Z_,{className:"w-4 h-4 mr-2 text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"Member only content - click to login"})]}):d()})]})}function M$({memberInfo:t,memberRole:s,isAdmin:n}){const[r,a]=b.useState(""),[i,l]=b.useState([]),[o,c]=b.useState(1),[d,u]=b.useState("newest"),[m,h]=b.useState(12),[p,x]=b.useState(!1),y=Jt(),{data:v}=me({queryKey:["current-user",t==null?void 0:t.email],queryFn:async()=>await ee.auth.me(),enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j=[],isLoading:w}=me({queryKey:["resources"],queryFn:async()=>{console.log("[Resources] Fetching at:",new Date().toISOString());const $=await ee.entities.Resource.list("-published_date");console.log("[Resources Debug] Raw resources from DB:",$.length,$[0]);const I=$.filter(L=>L.status==="draft"?!1:n||L.is_public===!0?!0:s?!L.allowed_role_ids||L.allowed_role_ids.length===0?!0:L.allowed_role_ids.includes(s.id):!1);return console.log("[Resources Debug] Filtered resources:",I.length),I},enabled:!!s||n===!0,initialData:[],refetchOnWindowFocus:!1}),{data:N=[],isLoading:_}=me({queryKey:["resourceCategories-resources"],queryFn:async()=>{const $=await ee.entities.ResourceCategory.list();console.log("[Resources Debug] Raw categories from DB:",$.length,$[0]);const L=$.filter(V=>V.is_active&&V.applies_to_content_types&&V.applies_to_content_types.includes("Resources")).sort((V,q)=>(V.display_order||0)-(q.display_order||0));return console.log("[Resources Debug] Active sorted resource categories:",L.length,L),L},staleTime:0,refetchOnWindowFocus:!0}),{data:P=[]}=me({queryKey:["buttonStyles-resources"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(I=>I.card_type==="resource"&&I.is_active),staleTime:0,refetchOnWindowFocus:!0});Be.useEffect(()=>{var $;if(($=v==null?void 0:v.preferences)!=null&&$.resources&&!p){const I=v.preferences.resources.selectedSubcategories||[];l(I),x(!0)}},[v,p]);const A=Ie({mutationFn:async()=>{const $={...(v==null?void 0:v.preferences)||{},resources:{selectedCategory:"all",selectedSubcategories:i}};await ee.auth.updateMe({preferences:$})},onSuccess:()=>{y.invalidateQueries({queryKey:["current-user"]}),te.success("Filter preferences saved as default")},onError:$=>{te.error("Failed to save preferences: "+$.message)}}),E=b.useMemo(()=>j.filter($=>{var V,q,J;const I=!r.trim()||((V=$.title)==null?void 0:V.toLowerCase().includes(r.toLowerCase()))||((q=$.description)==null?void 0:q.toLowerCase().includes(r.toLowerCase()))||((J=$.tags)==null?void 0:J.some(Q=>Q.toLowerCase().includes(r.toLowerCase()))),L=i.length===0||$.subcategories&&Array.isArray($.subcategories)&&$.subcategories.some(Q=>i.includes(Q));return I&&L}),[j,r,i]),C=b.useMemo(()=>{const $=[...E];switch(d){case"newest":$.sort((I,L)=>new Date(L.published_date||L.created_date)-new Date(I.published_date||I.created_date));break;case"oldest":$.sort((I,L)=>new Date(I.published_date||I.created_date)-new Date(L.published_date||I.created_date));break;case"title-asc":$.sort((I,L)=>I.title.localeCompare(L.title));break;case"title-desc":$.sort((I,L)=>L.title.localeCompare(I.title));break}return $},[E,d]),R=Math.ceil(C.length/m),O=(o-1)*m,k=O+m,T=C.slice(O,k),D=()=>{const $=[];if(R<=5)for(let L=1;L<=R;L++)$.push(L);else if(o<=3){for(let L=1;L<=4;L++)$.push(L);R>5&&$.push("..."),$.push(R)}else if(o>=R-2){$.push(1),R>5&&$.push("...");for(let L=R-3;L<=R;L++)$.push(L)}else{$.push(1),$.push("...");for(let L=o-1;L<=o+1;L++)$.push(L);$.push("..."),$.push(R)}return $};Be.useEffect(()=>{c(1)},[i,r,d,m]);const F=$=>{l(I=>I.includes($)?I.filter(L=>L!==$):[...I,$])},U=$=>{c($),window.scrollTo({top:0,behavior:"smooth"})},z=()=>{A.mutate()},H=w||_,B=b.useMemo(()=>{var I;if(!((I=v==null?void 0:v.preferences)!=null&&I.resources))return i.length>0;const $=v.preferences.resources.selectedSubcategories||[];return $.length!==i.length?!0:!$.every(L=>i.includes(L))||!i.every(L=>$.includes(L))},[v,i]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-pagination-button {
          box-shadow: inset 0 0 0 2px black;
          background: transparent;
          border: none;
          border-radius: 0;
          transition: all 0.3s;
        }
        .agcas-pagination-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button.active {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Resources"}),e.jsx("p",{className:"text-slate-600",children:"Explore helpful resources curated for you"})]}),e.jsxs(X,{onClick:()=>{y.invalidateQueries({queryKey:["resources"]}),te.success("Refreshing resources...")},variant:"outline",className:"gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Refresh"]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-none shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(rk,{categories:N,selectedSubcategories:i,onSubcategoryToggle:F,searchQuery:r,onSearchChange:a,onClearSearch:()=>a(""),isLoading:_}),t&&B&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx(X,{onClick:z,variant:"outline",size:"sm",className:"w-full gap-2 rounded-none",disabled:A.isPending,children:A.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-3 h-3"}),"Save as Default"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"Apply these filters by default"})]})]})}),e.jsx("div",{className:"flex-1",children:H?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(12).fill(0).map(($,I)=>e.jsxs(le,{className:"animate-pulse border-slate-200 rounded-none",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},I))}):C.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm rounded-none",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-slate-600",children:r||i.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",O+1,"-",Math.min(k,C.length)," of ",C.length," resources"]}),e.jsxs(Ge,{value:d,onValueChange:u,children:[e.jsxs(Ve,{className:"w-48 rounded-none",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{className:"rounded-none",children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:T.map($=>e.jsx(O$,{resource:$,buttonStyles:P},$.id))}),e.jsx(le,{className:"border-slate-200 shadow-sm rounded-none",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:m.toString(),onValueChange:$=>{h(Number($)),c(1)},children:[e.jsx(Ve,{className:"w-20 rounded-none",children:e.jsx(Je,{})}),e.jsxs(We,{className:"rounded-none",children:[e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",o," of ",R]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>U(o-1),disabled:o===1,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Zn,{className:"w-4 h-4"})}),D().map(($,I)=>e.jsx(Be.Fragment,{children:$==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx("button",{onClick:()=>U($),className:`agcas-pagination-button px-3 py-2 min-w-[2.5rem] ${o===$?"active":""}`,children:$})},I)),e.jsx("button",{onClick:()=>U(o+1),disabled:o===R,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]})})]})]})]})}function D$(){const[t,s]=b.useState("all"),[n,r]=b.useState([]),[a,i]=b.useState(""),[l,o]=b.useState(1),[c,d]=b.useState("newest"),[u,m]=b.useState(6),h=b.useMemo(()=>{const T=sessionStorage.getItem("agcas_member");if(!T)return!1;const D=JSON.parse(T);return!(D.sessionExpiry&&new Date(D.sessionExpiry)<new Date)},[]),{data:p=[],isLoading:x}=me({queryKey:["public-resources"],queryFn:async()=>(console.log("[PublicResources] Fetching at:",new Date().toISOString()),(await ee.entities.Resource.list("-published_date")).filter(D=>D.status!=="draft")),initialData:[],refetchOnWindowFocus:!1}),{data:y=[],isLoading:v}=me({queryKey:["resourceCategories-public"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(F=>F.is_active&&F.applies_to_content_types&&F.applies_to_content_types.includes("Resources")).sort((F,U)=>(F.display_order||0)-(U.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:j=[]}=me({queryKey:["buttonStyles-resources"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(D=>D.card_type==="resource"&&D.is_active),staleTime:0,refetchOnWindowFocus:!0}),w=b.useMemo(()=>p.filter(T=>{var U,z,H;const D=((U=T.title)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))||((z=T.description)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))||((H=T.tags)==null?void 0:H.some(B=>B.toLowerCase().includes(a.toLowerCase()))),F=n.length===0||T.subcategories&&T.subcategories.some(B=>n.includes(B));return D&&F}),[p,a,n]),N=b.useMemo(()=>{const T=[...w];switch(c){case"newest":T.sort((D,F)=>new Date(F.published_date||F.created_date)-new Date(D.published_date||D.created_date));break;case"oldest":T.sort((D,F)=>new Date(D.published_date||D.created_date)-new Date(F.published_date||D.created_date));break;case"title-asc":T.sort((D,F)=>D.title.localeCompare(F.title));break;case"title-desc":T.sort((D,F)=>F.title.localeCompare(D.title));break}return T},[w,c]),_=Math.ceil(N.length/u),P=(l-1)*u,A=P+u,E=N.slice(P,A),C=()=>{const T=[];if(_<=5)for(let F=1;F<=_;F++)T.push(F);else if(l<=3){for(let F=1;F<=4;F++)T.push(F);_>5&&T.push("..."),T.push(_)}else if(l>=_-2){T.push(1),_>5&&T.push("...");for(let F=_-3;F<=_;F++)T.push(F)}else{T.push(1),T.push("...");for(let F=l-1;F<=l+1;F++)T.push(F);T.push("..."),T.push(_)}return T};Be.useEffect(()=>{o(1)},[n,a,c,u]);const R=T=>{r(D=>D.includes(T)?D.filter(F=>F!==T):[...D,T])},O=T=>{o(T),window.scrollTo({top:0,behavior:"smooth"})},k=x||v;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("style",{jsx:!0,children:`
        .agcas-pagination-button {
          box-shadow: inset 0 0 0 2px black;
          background: transparent;
          border: none;
          border-radius: 0;
          transition: all 0.3s;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          font-weight: 500;
          color: #334155; /* slate-700 */
        }
        .agcas-pagination-button:hover:not(:disabled) {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button.active {
          background: linear-gradient(to right top, rgb(92, 0, 133), rgb(186, 0, 135), rgb(238, 0, 195), rgb(255, 66, 41), rgb(255, 176, 0));
          color: white;
          box-shadow: none !important;
        }
        .agcas-pagination-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }
      `}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Resources & Materials"}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100 max-w-3xl",children:"Access our comprehensive library of resources, guides, and materials to support your work"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(rk,{categories:y,selectedSubcategories:n,onSubcategoryToggle:R,searchQuery:a,onSearchChange:i,onClearSearch:()=>i(""),isLoading:v})})}),e.jsx("div",{className:"flex-1",children:k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((T,D)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},D))}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-slate-600",children:a||n.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",P+1,"-",Math.min(A,N.length)," of ",N.length," resources"]}),e.jsxs(Ge,{value:c,onValueChange:d,children:[e.jsxs(Ve,{className:"w-48 rounded-none",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:E.map(T=>e.jsx(O$,{resource:T,isLocked:!T.is_public&&!h,buttonStyles:j},T.id))}),N.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:u.toString(),onValueChange:T=>{m(Number(T)),o(1)},children:[e.jsx(Ve,{className:"w-20 rounded-none",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",l," of ",_]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(l-1),disabled:l===1,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Zn,{className:"w-4 h-4"})}),C().map((T,D)=>e.jsx(Be.Fragment,{children:T==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx("button",{onClick:()=>O(T),className:`agcas-pagination-button px-3 py-2 min-w-[2.5rem] ${l===T?"active":""}`,children:T})},D)),e.jsx("button",{onClick:()=>O(l+1),disabled:l===_,className:"agcas-pagination-button px-3 py-2",children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]})})]})})]})}function R$({isAdmin:t}){const s=Jt(),{data:n,isLoading:r}=me({queryKey:["roles"],queryFn:()=>ee.entities.Role.list(),initialData:[]}),{data:a,isLoading:i}=me({queryKey:["resource-author-settings"],queryFn:async()=>{const N=await ee.entities.ResourceAuthorSettings.list();return N.length>0?N[0]:null}}),[l,o]=b.useState([]),[c,d]=b.useState(500),[u,m]=b.useState(!0),[h,p]=b.useState(["x","linkedin","email"]);Be.useEffect(()=>{a&&(o(a.author_role_ids||[]),d(a.description_character_limit||500),m(a.show_folders!==!1),p(a.enabled_social_icons||["x","linkedin","email"]))},[a]);const x=Ie({mutationFn:async({roleIds:N,limit:_,showFolders:P,socialIcons:A})=>a?await ee.entities.ResourceAuthorSettings.update(a.id,{author_role_ids:N,description_character_limit:_,show_folders:P,enabled_social_icons:A}):await ee.entities.ResourceAuthorSettings.create({author_role_ids:N,description_character_limit:_,show_folders:P,enabled_social_icons:A}),onSuccess:()=>{s.invalidateQueries({queryKey:["resource-author-settings"]}),te.success("Settings saved successfully")},onError:N=>{te.error("Failed to save settings: "+N.message)}}),y=N=>{o(_=>_.includes(N)?_.filter(P=>P!==N):[..._,N])},v=N=>{p(_=>_.includes(N)?_.filter(P=>P!==N):[..._,N])},j=()=>{const N=parseInt(c);if(isNaN(N)||N<1){te.error("Description limit must be a positive number");return}x.mutate({roleIds:l,limit:N,showFolders:u,socialIcons:h})};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})});const w=r||i;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Resource Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure resource management preferences"})]}),w?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Loading settings..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(KG,{className:"w-5 h-5 text-blue-600"}),"Author Roles"]})}),e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Select the roles whose members can be assigned as authors when creating or editing resources. This includes both regular members and team members with the selected roles."})}),n.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-slate-600",children:"No roles available. Create roles first in Role Management."})}):e.jsx("div",{className:"space-y-2",children:n.map(N=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>y(N.id),children:[e.jsx(Aa,{id:`role-${N.id}`,checked:l.includes(N.id),onCheckedChange:()=>y(N.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(Z,{htmlFor:`role-${N.id}`,className:"flex-1 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900",children:N.name}),N.is_admin&&e.jsx(ye,{className:"bg-amber-100 text-amber-700 text-xs",children:"Admin"})]}),N.description&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:N.description})]})]},N.id))})]}),l.length>0&&e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900 mb-2",children:["Selected: ",l.length," ",l.length===1?"role":"roles"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(N=>{const _=n.find(P=>P.id===N);return _?e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:_.name},N):null})})]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-600"}),"Folder Management"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(Aa,{id:"show-folders",checked:u,onCheckedChange:m,className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"show-folders",className:"cursor-pointer font-medium",children:"Show Folder Management"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enable folder organization in the Resource Management page"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(nd,{className:"w-5 h-5 text-blue-600"}),"Social Sharing Icons"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Choose which social sharing icons to display on public resource cards. Users will be able to share resources on the selected platforms."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("x"),children:[e.jsx(Aa,{id:"icon-x",checked:h.includes("x"),onCheckedChange:()=>v("x"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(Z,{htmlFor:"icon-x",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),e.jsx("span",{className:"font-medium text-slate-900",children:"X (Twitter)"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("linkedin"),children:[e.jsx(Aa,{id:"icon-linkedin",checked:h.includes("linkedin"),onCheckedChange:()=>v("linkedin"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(Z,{htmlFor:"icon-linkedin",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{className:"font-medium text-slate-900",children:"LinkedIn"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>v("email"),children:[e.jsx(Aa,{id:"icon-email",checked:h.includes("email"),onCheckedChange:()=>v("email"),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(Z,{htmlFor:"icon-email",className:"flex-1 cursor-pointer flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-slate-900",children:"Email"})]})]})]}),h.length>0&&e.jsx("div",{className:"p-4 bg-slate-50 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-slate-900 mb-2",children:["Selected: ",h.length," ",h.length===1?"platform":"platforms"]})})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-600"}),"Description Character Limit"]})}),e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-900",children:"Set the maximum number of characters allowed for resource descriptions. This helps maintain consistent formatting and prevents overly long descriptions."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description-limit",children:"Maximum Characters"}),e.jsx(he,{id:"description-limit",type:"number",min:"1",value:c,onChange:N=>d(N.target.value),placeholder:"500",className:"max-w-xs"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Recommended: 500 characters (approximately 75-100 words)"})]}),c&&e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-slate-700",children:["Current limit: ",e.jsx("span",{className:"font-semibold text-blue-600",children:c})," characters"]})})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(X,{onClick:j,disabled:x.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),x.isPending?"Saving...":"Save All Settings"]})})]})]})})}function F$({isAdmin:t}){var bo,gg,au;const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(""),[o,c]=b.useState("all"),[d,u]=b.useState(""),[m,h]=b.useState(null),[p,x]=b.useState(""),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(""),[P,A]=b.useState(!1),[E,C]=b.useState(null),[R,O]=b.useState(!1),[k,T]=b.useState(null),[D,F]=b.useState(!1),[U,z]=b.useState(!1),[H,B]=b.useState(null),[$,I]=b.useState([]),[L,V]=b.useState(!1),[q,J]=b.useState({}),[Q,Y]=b.useState(null),[K,ae]=b.useState({}),[se,de]=b.useState([]),[ue,oe]=b.useState(null),[pe,je]=b.useState(null),[Ne,qe]=b.useState(1),[$e,Ee]=b.useState(9),Se=Jt(),{data:Ye,isLoading:Qe}=me({queryKey:["admin-resources"],queryFn:()=>ee.entities.Resource.list("-created_date"),initialData:[],refetchOnWindowFocus:!1}),{data:Me}=me({queryKey:["resourceCategories"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(De=>De.is_active).sort((De,Ke)=>(De.display_order||0)-(Ke.display_order||0)),initialData:[],refetchOnWindowFocus:!1}),{data:lt}=me({queryKey:["file-repository"],queryFn:()=>ee.entities.FileRepository.list("-created_date"),initialData:[],refetchOnWindowFocus:!1}),{data:Ce}=me({queryKey:["file-repository-folders"],queryFn:()=>ee.entities.FileRepositoryFolder.list("display_order"),initialData:[],refetchOnWindowFocus:!1}),{data:it}=me({queryKey:["roles"],queryFn:()=>ee.entities.Role.list(),initialData:[],refetchOnWindowFocus:!1}),{data:_e}=me({queryKey:["resource-author-settings"],queryFn:async()=>{const ie=await ee.entities.ResourceAuthorSettings.list();return ie.length>0?ie[0]:null},refetchOnWindowFocus:!1}),{data:Ue}=me({queryKey:["members"],queryFn:()=>ee.entities.Member.list(),initialData:[],refetchOnWindowFocus:!1}),{data:rt}=me({queryKey:["team-members"],queryFn:()=>ee.entities.TeamMember.list(),initialData:[],refetchOnWindowFocus:!1}),{data:ht,isLoading:ct}=me({queryKey:["resource-folders"],queryFn:()=>ee.entities.ResourceFolder.list("display_order"),initialData:[],refetchOnWindowFocus:!1}),Rt=b.useMemo(()=>{if(!_e||!_e.author_role_ids||_e.author_role_ids.length===0)return[];const ie=_e.author_role_ids,De=Ue.filter(wt=>wt.role_id&&ie.includes(wt.role_id)).map(wt=>({id:wt.id,name:`${wt.first_name} ${wt.last_name}`,email:wt.email,type:"member"})),Ke=rt.filter(wt=>wt.role_id&&ie.includes(wt.role_id)).map(wt=>({id:wt.id,name:`${wt.first_name} ${wt.last_name}`,email:wt.email,type:"team_member"}));return[...De,...Ke].sort((wt,Ps)=>wt.name.localeCompare(Ps.name))},[_e,Ue,rt]),rs=b.useMemo(()=>{const ie=new Set;return Ye.forEach(De=>{De.tags&&Array.isArray(De.tags)&&De.tags.forEach(Ke=>ie.add(Ke))}),Array.from(ie).sort()},[Ye]),Us=b.useMemo(()=>{if(!d.trim())return[];const ie=d.toLowerCase();return rs.filter(De=>De.toLowerCase().includes(ie)&&!((s==null?void 0:s.tags)||[]).includes(De))},[d,rs,s==null?void 0:s.tags]),Es=b.useMemo(()=>{const ie=De=>ht.filter(Ke=>Ke.parent_folder_id===De).sort((Ke,wt)=>(Ke.display_order||0)-(wt.display_order||0)).map(Ke=>({...Ke,children:ie(Ke.id)}));return ie(null)},[ht]),mn=b.useMemo(()=>{const ie=De=>Ce.filter(Ke=>Ke.parent_folder_id===De).sort((Ke,wt)=>(Ke.display_order||0)-(wt.display_order||0)).map(Ke=>({...Ke,children:ie(Ke.id)}));return ie(null)},[Ce]),Zt=ie=>{if(!ie)return[];const De=[];let Ke=ie;for(;Ke;){const wt=ht.find(Ps=>Ps.id===Ke);if(wt)De.unshift(wt),Ke=wt.parent_folder_id;else break}return De},yn=ie=>{if(!ie)return[];const De=[];let Ke=ie;for(;Ke;){const wt=Ce.find(Ps=>Ps.id===Ke);if(wt)De.unshift(wt),Ke=wt.parent_folder_id;else break}return De},Fs=b.useMemo(()=>Zt(E),[E,ht]),Ar=b.useMemo(()=>yn(Q),[Q,Ce]),er=ie=>{const De=[ie];return ht.filter(wt=>wt.parent_folder_id===ie).forEach(wt=>{De.push(...er(wt.id))}),De},He=b.useMemo(()=>{if(!p.trim())return Me;const ie=p.toLowerCase();return Me.map(De=>{if(!De.subcategories||De.subcategories.length===0)return null;const Ke=De.subcategories.filter(Ps=>Ps.toLowerCase().includes(ie)),wt=De.name.toLowerCase().includes(ie);return Ke.length===0&&!wt?null:{...De,subcategories:Ke.length>0?Ke:De.subcategories}}).filter(Boolean)},[Me,p]),nt=b.useMemo(()=>Ye.filter(ie=>{var Ps,Mr;const De=E===null?!ie.folder_id:ie.folder_id===E,Ke=o==="all"||ie.subcategories&&ie.subcategories.some(fi=>{const Pn=Me.find(_n=>_n.subcategories&&_n.subcategories.includes(fi));return(Pn==null?void 0:Pn.name)===o}),wt=!i||((Ps=ie.title)==null?void 0:Ps.toLowerCase().includes(i.toLowerCase()))||((Mr=ie.description)==null?void 0:Mr.toLowerCase().includes(i.toLowerCase()));return De&&Ke&&wt}),[Ye,E,o,i,Me]),cs=b.useMemo(()=>lt.filter(ie=>{const De=Q===null?!ie.folder_id:ie.folder_id===Q;return m==="image"?De&&ie.file_type==="image":De}),[lt,Q,m]);b.useEffect(()=>{qe(1)},[i,o,E,$e]);const we=Math.ceil(nt.length/$e),ot=(Ne-1)*$e,Pe=ot+$e,tt=nt.slice(ot,Pe),vt=()=>{const ie=[];if(we<=5)for(let Ke=1;Ke<=we;Ke++)ie.push(Ke);else if(Ne<=3){for(let Ke=1;Ke<=4;Ke++)ie.push(Ke);we>5&&ie.push("..."),ie.push(we)}else if(Ne>=we-2){ie.push(1),we>5&&ie.push("...");for(let Ke=we-3;Ke<=we;Ke++)ie.push(Ke)}else{ie.push(1),ie.push("...");for(let Ke=Ne-1;Ke<=Ne+1;Ke++)ie.push(Ke);ie.push(we)}return ie},ns=ie=>Ye.filter(De=>De.folder_id===ie).length,ms=ie=>lt.filter(Ke=>m==="image"?Ke.file_type==="image":!0).filter(Ke=>Ke.folder_id===ie).length,en=Ie({mutationFn:ie=>ee.entities.ResourceFolder.create(ie),onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),O(!1),T(null),te.success("Folder created successfully")},onError:ie=>{te.error("Failed to create folder: "+ie.message)}}),gs=Ie({mutationFn:({id:ie,data:De})=>ee.entities.ResourceFolder.update(ie,De),onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),O(!1),T(null),te.success("Folder updated successfully")},onError:ie=>{te.error("Failed to update folder: "+ie.message)}}),Gr=Ie({mutationFn:async ie=>{const De=er(ie),Ke=Ye.filter(Ps=>De.includes(Ps.folder_id));for(const Ps of Ke)await ee.entities.Resource.update(Ps.id,{folder_id:null});const wt=ht.filter(Ps=>De.includes(Ps.id)).sort((Ps,Mr)=>Zt(Mr.id).length-Zt(Ps.id).length);for(const Ps of wt)await ee.entities.ResourceFolder.delete(Ps.id)},onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),Se.invalidateQueries({queryKey:["admin-resources"]}),C(null),te.success("Folder and its subfolders deleted, resources moved to root")},onError:ie=>{te.error("Failed to delete folder: "+ie.message)}}),Nn=Ie({mutationFn:async({folderId:ie,newParentId:De})=>{if(De&&er(ie).includes(De))throw new Error("Cannot move a folder into its own subfolder");await ee.entities.ResourceFolder.update(ie,{parent_folder_id:De})},onSuccess:()=>{Se.invalidateQueries({queryKey:["resource-folders"]}),z(!1),B(null),te.success("Folder moved successfully")},onError:ie=>{te.error("Failed to move folder: "+ie.message)}}),cr=Ie({mutationFn:ie=>ee.entities.Resource.create(ie),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after create"),a(!1),n(null),te.success("Resource created successfully")},onError:ie=>{te.error("Failed to create resource: "+ie.message)}}),Yr=Ie({mutationFn:({id:ie,data:De})=>ee.entities.Resource.update(ie,De),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after update"),a(!1),n(null),te.success("Resource updated successfully")},onError:ie=>{te.error("Failed to update resource: "+ie.message)}}),ja=Ie({mutationFn:ie=>ee.entities.Resource.delete(ie),onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after delete"),te.success("Resource deleted successfully")},onError:ie=>{te.error("Failed to delete resource: "+ie.message)}}),ve=Ie({mutationFn:async({resourceIds:ie,folderId:De})=>{for(const Ke of ie)await ee.entities.Resource.update(Ke,{folder_id:De})},onSuccess:async()=>{Se.removeQueries({queryKey:["admin-resources"]}),Se.removeQueries({queryKey:["public-resources"]}),Se.removeQueries({queryKey:["resources"]}),await Se.refetchQueries({queryKey:["admin-resources"],type:"active"}),await Se.refetchQueries({queryKey:["public-resources"],type:"active"}),await Se.refetchQueries({queryKey:["resources"],type:"active"}),console.log("[ResourceManagement] Cache cleared and refetched after move"),F(!1),I([]),V(!1),te.success("Resources moved successfully")},onError:ie=>{te.error("Failed to move resources: "+ie.message)}}),pt=(ie,De)=>{if(L&&$.includes(De.id)){de($),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",JSON.stringify($));const Ke=document.createElement("div");Ke.className="bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg font-medium",Ke.textContent=`Moving ${$.length} resource${$.length>1?"s":""}`,Ke.style.position="absolute",Ke.style.top="-1000px",document.body.appendChild(Ke),setTimeout(()=>document.body.removeChild(Ke),0)}else de([De.id]),ie.dataTransfer.effectAllowed="move",ie.dataTransfer.setData("text/plain",JSON.stringify([De.id]))},xt=()=>{de([]),oe(null),pe&&(clearTimeout(pe),je(null))},Pt=(ie,De)=>{if(ie.preventDefault(),ie.stopPropagation(),ie.dataTransfer.dropEffect="move",ue!==De&&(oe(De),pe&&clearTimeout(pe),De&&!q[De])){const Ke=setTimeout(()=>{J(wt=>({...wt,[De]:!0}))},800);je(Ke)}},Ts=ie=>{ie.preventDefault();const De=ie.currentTarget.getBoundingClientRect(),Ke=ie.clientX,wt=ie.clientY;(Ke<De.left||Ke>=De.right||wt<De.top||wt>=De.bottom)&&(oe(null),pe&&(clearTimeout(pe),je(null)))},Qr=async(ie,De)=>{ie.preventDefault(),ie.stopPropagation(),pe&&(clearTimeout(pe),je(null)),oe(null);try{const Ke=JSON.parse(ie.dataTransfer.getData("text/plain"));Ke&&Ke.length>0&&await ve.mutateAsync({resourceIds:Ke,folderId:De==="root"?null:De})}catch(Ke){console.error("Drop error:",Ke)}de([])},Vi=()=>{$.length===nt.length?I([]):I(nt.map(ie=>ie.id))},Rn=()=>{T({name:"",description:"",parent_folder_id:E,display_order:ht.filter(ie=>ie.parent_folder_id===E).length}),O(!0)},Xd=ie=>{T(ie),O(!0)},Zd=()=>{if(!k.name.trim()){te.error("Folder name is required");return}const ie={name:k.name,description:k.description||"",parent_folder_id:k.parent_folder_id||null,display_order:k.display_order||0};k.id?gs.mutate({id:k.id,data:ie}):en.mutate(ie)},eu=ie=>{ht.find(Ps=>Ps.id===ie);const wt=ht.filter(Ps=>Ps.parent_folder_id===ie).length>0?"This folder contains subfolders. All subfolders and their resources will be moved to root. Continue?":"Are you sure you want to delete this folder? Resources will be moved to root.";confirm(wt)&&Gr.mutate(ie)},xm=ie=>{B(ie),z(!0)},Ec=ie=>{H&&Nn.mutate({folderId:H.id,newParentId:ie==="root"?null:ie})},ln=ie=>{J(De=>({...De,[ie]:!De[ie]}))},vm=ie=>{I(De=>De.includes(ie)?De.filter(Ke=>Ke!==ie):[...De,ie])},yo=()=>{if($.length===0){te.error("Please select resources to move");return}F(!0)},kl=ie=>{ve.mutate({resourceIds:$,folderId:ie==="root"?null:ie})},Jr=(ie,De)=>{ve.mutate({resourceIds:[ie],folderId:De==="root"?null:De})},tu=()=>{n({title:"",description:"",subcategories:[],resource_type:"external_link",target_url:"",open_in_new_tab:!0,image_url:"",release_date:new Date().toISOString(),is_public:!0,allowed_role_ids:[],tags:[],author_id:"",author_name:"",folder_id:E,status:"active"}),v(!1),w(!1),_(""),a(!0)},su=ie=>{n({...ie,subcategories:ie.subcategories||[],allowed_role_ids:ie.allowed_role_ids||[],open_in_new_tab:ie.open_in_new_tab!==!1,author_id:ie.author_id||"",author_name:ie.author_name||"",status:ie.status||"active",release_date:ie.release_date||ie.published_date||new Date().toISOString()});const De=ie.image_url?lt.some(Ke=>Ke.file_url===ie.image_url):!1;if(v(De),ie.resource_type==="download"&&ie.target_url){const Ke=lt.find(wt=>wt.file_url===ie.target_url);Ke?(w(!0),_(Ke.file_name)):(w(!1),_(""))}else w(!1),_("");a(!0)},El=()=>{if(!s.title.trim()){te.error("Title is required");return}if(!s.target_url.trim()){te.error(s.resource_type==="video"?"Embed code is required":"Target URL is required");return}if(!s.subcategories||s.subcategories.length===0){te.error("Please select at least one subcategory");return}const ie=(_e==null?void 0:_e.description_character_limit)||500;if(s.description&&s.description.length>ie){te.error(`Description must be ${ie} characters or less (currently ${s.description.length})`);return}const De={title:s.title,description:s.description,subcategories:s.subcategories||[],resource_type:s.resource_type,target_url:s.target_url,open_in_new_tab:s.open_in_new_tab,image_url:s.image_url,release_date:s.release_date,is_public:s.is_public,allowed_role_ids:s.allowed_role_ids||[],tags:s.tags||[],author_id:s.author_id||"",author_name:s.author_name||"",folder_id:s.folder_id||null,status:s.status||"active"};s.id?Yr.mutate({id:s.id,data:De}):cr.mutate(De)},Or=(ie,De,Ke="")=>{De==="image"?(n({...s,image_url:ie}),v(!0)):De==="target"&&(n({...s,target_url:ie}),w(!0),_(Ke)),h(null),Y(null),ae({})},nu=()=>{n({...s,image_url:""}),v(!1)},ge=()=>{n({...s,target_url:""}),w(!1),_("")},Ut=ie=>{n({...s,image_url:ie.target.value}),v(!1)},Ze=ie=>{n({...s,target_url:ie.target.value}),w(!1),_("")},Ks=()=>{if(d.trim()){if(s.tags.includes(d.trim())){te.error("Tag already exists");return}n({...s,tags:[...s.tags,d.trim()]}),u(""),A(!1)}},Ft=ie=>{if(s.tags.includes(ie)){te.error("Tag already exists");return}n({...s,tags:[...s.tags,ie]}),u(""),A(!1)},dr=ie=>{n({...s,tags:s.tags.filter(De=>De!==ie)})},Xr=ie=>{const De=s.allowed_role_ids||[],Ke=De.includes(ie)?De.filter(wt=>wt!==ie):[...De,ie];n({...s,allowed_role_ids:Ke})},Wi=ie=>{const De=s.subcategories||[],Ke=De.includes(ie)?De.filter(wt=>wt!==ie):[...De,ie];n({...s,subcategories:Ke})},Gy=ie=>{const De=Rt.find(Ke=>Ke.id===ie);n(De?{...s,author_id:De.id,author_name:De.name}:{...s,author_id:"",author_name:""})},fg=(ie,De=0)=>ie.map(Ke=>{const wt=q[Ke.id],Ps=Ke.children&&Ke.children.length>0,Mr=E===Ke.id,fi=ue===Ke.id;return e.jsxs("div",{children:[e.jsx("div",{className:"relative group",onDragOver:Pn=>Pt(Pn,Ke.id),onDrop:Pn=>Qr(Pn,Ke.id),children:e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${Mr?"bg-blue-100":"hover:bg-slate-100"} ${fi?"bg-blue-200 ring-2 ring-blue-400":""}`,style:{paddingLeft:`${De*20+12}px`},children:[Ps?e.jsx("button",{onClick:Pn=>{Pn.stopPropagation(),ln(Ke.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(Ss,{className:`w-4 h-4 transition-transform ${wt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(Kl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>C(Ke.id),className:"flex-1 text-sm",children:Ke.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",ns(Ke.id),")"]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:Pn=>{Pn.stopPropagation(),Xd(Ke)},className:"p-1 hover:bg-slate-200 rounded",title:"Edit folder",children:e.jsx(Ds,{className:"w-3 h-3 text-slate-600"})}),e.jsx("button",{onClick:Pn=>{Pn.stopPropagation(),xm(Ke)},className:"p-1 hover:bg-blue-100 rounded",title:"Move folder",children:e.jsx(sl,{className:"w-3 h-3 text-blue-600"})}),e.jsx("button",{onClick:Pn=>{Pn.stopPropagation(),eu(Ke.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete folder",children:e.jsx(hs,{className:"w-3 h-3 text-red-600"})})]})]})}),Ps&&wt&&e.jsx("div",{children:fg(Ke.children,De+1)})]},Ke.id)}),Tc=(ie,De=null,Ke=0)=>ie.map(wt=>(De?er(De):[]).includes(wt.id)?null:e.jsxs("div",{children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start mb-1",onClick:()=>{U?Ec(wt.id):kl(wt.id)},style:{paddingLeft:`${Ke*20+16}px`},children:[e.jsx(Kl,{className:"w-4 h-4 mr-2"}),wt.name]}),wt.children&&wt.children.length>0&&e.jsxs("div",{className:"ml-4",children:[" ",Tc(wt.children,De,Ke+1)]})]},wt.id)),pg=ie=>{ae(De=>({...De,[ie]:!De[ie]}))},ru=(ie,De=0)=>ie.map(Ke=>{const wt=K[Ke.id],Ps=Ke.children&&Ke.children.length>0,Mr=Q===Ke.id;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${Mr?"bg-blue-100":"hover:bg-slate-100"}`,style:{paddingLeft:`${De*20+12}px`},children:[Ps?e.jsx("button",{onClick:fi=>{fi.stopPropagation(),pg(Ke.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(Ss,{className:`w-4 h-4 transition-transform ${wt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(Kl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>Y(Ke.id),className:"flex-1 text-sm",children:Ke.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",ms(Ke.id),")"]})]}),Ps&&wt&&e.jsx("div",{children:ru(Ke.children,De+1)})]},Ke.id)});return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Manage Resources"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage resource library content  Drag resources to folders"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:Rn,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[e.jsx(E5,{className:"w-4 h-4 mr-2"}),E?"New Subfolder":"New Folder"]}),e.jsxs(X,{onClick:tu,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Resource"]})]})]}),(_e==null?void 0:_e.show_folders)!==!1&&L&&e.jsx(le,{className:"border-blue-500 bg-blue-50 shadow-md mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white rounded-full p-2",children:e.jsx(sl,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Bulk Move Mode Active"}),e.jsx("p",{className:"text-sm text-blue-700",children:$.length===0?"Select resources below or drag them to folders":`${$.length} resource${$.length>1?"s":""} selected  Drag to move`})]})]}),e.jsxs("div",{className:"flex gap-2",children:[nt.length>0&&e.jsx(X,{onClick:Vi,size:"sm",variant:"outline",className:"bg-white",children:$.length===nt.length?"Deselect All":"Select All"}),$.length>0&&e.jsxs(X,{onClick:yo,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(sl,{className:"w-4 h-4 mr-2"}),"Move ",$.length," Selected"]}),e.jsx(X,{onClick:()=>{V(!1),I([])},size:"sm",variant:"ghost",children:"Cancel"})]})]})})}),(_e==null?void 0:_e.show_folders)!==!1&&e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kl,{className:"w-5 h-5 text-slate-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Folders"}),e.jsx(ye,{variant:"outline",className:"ml-2 text-xs",children:"Drag & Drop Enabled"})]}),!L&&e.jsxs(X,{onClick:()=>V(!0),size:"sm",variant:"outline",children:[e.jsx(sl,{className:"w-4 h-4 mr-2"}),"Bulk Move Mode"]})]}),(Fs.length>0||E===null)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>C(null),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900",children:[e.jsx($f,{className:"w-4 h-4"}),"Root"]}),Fs.map((ie,De)=>e.jsxs(Be.Fragment,{children:[e.jsx(Ss,{className:"w-4 h-4 text-slate-400"}),e.jsx("button",{onClick:()=>C(ie.id),className:`text-sm ${De===Fs.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ie.name})]},ie.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",onDragLeave:Ts,children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${E===null?"bg-blue-100":"hover:bg-slate-100"} ${ue==="root"?"bg-blue-200 ring-2 ring-blue-400":""}`,onClick:()=>C(null),onDragOver:ie=>Pt(ie,"root"),onDrop:ie=>Qr(ie,"root"),children:[e.jsx(Ho,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",Ye.filter(ie=>!ie.folder_id).length,")"]})]}),fg(Es)]})]})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search resources...",value:i,onChange:ie=>l(ie.target.value),className:"pl-10"})]}),e.jsxs(Ge,{value:o,onValueChange:c,children:[e.jsx(Ve,{className:"w-full md:w-48",children:e.jsx(Je,{placeholder:"Filter by category"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Categories"},"all"),Me.map(ie=>e.jsx(re,{value:ie.name,children:ie.name},ie.id))]})]})]})})}),Qe?e.jsx("div",{className:"text-center py-12",children:"Loading resources..."}):nt.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Resources Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:i||o!=="all"||E?"Try adjusting your filters":"Create your first resource to get started"}),!i&&o==="all"&&e.jsxs(X,{onClick:tu,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Resource"]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:tt.map(ie=>{var Pn;const De=((Pn=ie.allowed_role_ids)==null?void 0:Pn.length)||0,Ke=ie.is_public?"Public":De===0?"All Members":`${De} Role${De>1?"s":""}`,wt=$.includes(ie.id),Ps=se.includes(ie.id),Mr=ie.release_date||ie.published_date,fi=Mr&&new Date(Mr)>new Date;return e.jsxs(le,{draggable:!0,onDragStart:_n=>pt(_n,ie),onDragEnd:xt,className:`border-slate-200 shadow-sm hover:shadow-md transition-all relative ${L?"cursor-pointer":"cursor-grab"} ${wt?"ring-4 ring-blue-500 bg-blue-50":""} ${Ps?"opacity-50":""}`,onClick:()=>{L&&vm(ie.id)},children:[e.jsx("div",{className:"absolute top-2 right-2 z-10 p-1 bg-slate-100 rounded hover:bg-slate-200 cursor-grab",children:e.jsx(zd,{className:"w-4 h-4 text-slate-400"})}),L&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${wt?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:wt&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),ie.image_url&&e.jsx("div",{className:"h-40 overflow-hidden bg-slate-100",children:e.jsx("img",{src:ie.image_url,alt:ie.title,className:"w-full h-full object-cover"})}),e.jsxs(Fe,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[ie.subcategories&&ie.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[ie.subcategories.slice(0,2).map((_n,Hi)=>e.jsx(ye,{className:"bg-blue-100 text-blue-700 text-xs",children:_n},Hi)),ie.subcategories.length>2&&e.jsxs(ye,{variant:"outline",className:"text-xs",children:["+",ie.subcategories.length-2]})]}),e.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[e.jsxs(ye,{variant:"outline",children:[e.jsx(Bn,{className:"w-3 h-3 mr-1"}),Ke]}),ie.status==="draft"&&e.jsx(ye,{className:"bg-amber-100 text-amber-700",children:"Draft"}),fi&&e.jsxs(ye,{className:"bg-purple-100 text-purple-700",children:[e.jsx(an,{className:"w-3 h-3 mr-1"}),"Scheduled"]})]})]}),e.jsx(ze,{className:"text-lg line-clamp-2",children:ie.title}),ie.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-2",children:ie.description}),fi&&e.jsxs("p",{className:"text-xs text-purple-600 mt-2 flex items-center gap-1",children:[e.jsx(Ns,{className:"w-3 h-3"}),"Releases: ",Ot(new Date(Mr),"MMM d, yyyy h:mm a")]})]}),e.jsx(ce,{className:"pt-0",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:_n=>{_n.stopPropagation(),su(ie)},className:"flex-1",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),!L&&e.jsxs(Ge,{value:ie.folder_id||"root",onValueChange:_n=>{Jr(ie.id,_n)},children:[e.jsx(Ve,{className:"w-28",onClick:_n=>_n.stopPropagation(),children:e.jsx(sl,{className:"w-3 h-3 mr-1"})}),e.jsxs(We,{children:[e.jsx(re,{value:"root",children:"Root"}),ht.map(_n=>e.jsx(re,{value:_n.id,children:_n.name},_n.id))]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:_n=>{_n.stopPropagation(),ja.mutate(ie.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})})]},ie.id)})}),we>1&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:$e.toString(),onValueChange:ie=>{Ee(Number(ie)),qe(1)},children:[e.jsx(Ve,{className:"w-20",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"9",children:"9"}),e.jsx(re,{value:"18",children:"18"}),e.jsx(re,{value:"36",children:"36"}),e.jsx(re,{value:"72",children:"72"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",ot+1,"-",Math.min(Pe,nt.length)," of ",nt.length," resources"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>qe(ie=>Math.max(1,ie-1)),disabled:Ne===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),vt().map((ie,De)=>e.jsx(Be.Fragment,{children:ie==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:Ne===ie?"default":"outline",size:"sm",onClick:()=>qe(ie),className:Ne===ie?"bg-blue-600 hover:bg-blue-700":"",children:ie})},De)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>qe(ie=>Math.min(we,ie+1)),disabled:Ne===we,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]}),e.jsx(Ct,{open:R,onOpenChange:ie=>{O(ie),ie||T(null)},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:k!=null&&k.id?"Edit Folder":E?"Create New Subfolder":"Create New Folder"})}),k&&e.jsxs("div",{className:"space-y-4",children:[k.parent_folder_id&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Parent Folder: "}),((bo=ht.find(ie=>ie.id===k.parent_folder_id))==null?void 0:bo.name)||"Root"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"folder-name",children:"Folder Name *"}),e.jsx(he,{id:"folder-name",value:k.name,onChange:ie=>T({...k,name:ie.target.value}),placeholder:"e.g., Training Materials"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"folder-description",children:"Description (Optional)"}),e.jsx(Qt,{id:"folder-description",value:k.description||"",onChange:ie=>T({...k,description:ie.target.value}),placeholder:"Brief description of this folder...",rows:3})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),e.jsx(X,{onClick:Zd,disabled:en.isPending||gs.isPending,className:"bg-blue-600 hover:bg-blue-700",children:k!=null&&k.id?"Update Folder":"Create Folder"})]})]})}),e.jsx(Ct,{open:D,onOpenChange:ie=>{F(ie)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Move Resources to Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a folder to move ",$.length," selected resource",$.length>1?"s":""," to:"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>kl("root"),children:[e.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Root (No Folder)"]}),Tc(Es)]})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>F(!1),children:"Cancel"})})]})}),e.jsx(Ct,{open:U,onOpenChange:ie=>{z(ie),ie||B(null)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Move Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a destination for ",e.jsx("strong",{children:H==null?void 0:H.name}),":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>Ec("root"),children:[e.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Root (Top Level)"]}),Tc(Es,H==null?void 0:H.id)]})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>{z(!1),B(null)},children:"Cancel"})})]})}),e.jsx(Ct,{open:r,onOpenChange:ie=>{a(ie),ie||(x(""),v(!1),w(!1),_(""),A(!1))},children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:s!=null&&s.id?"Edit Resource":"Create New Resource"})}),s&&e.jsxs("div",{className:"space-y-6",children:[s.folder_id&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx(Kl,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-blue-900",children:["Folder: ",((gg=ht.find(ie=>ie.id===s.folder_id))==null?void 0:gg.name)||"Unknown Folder"]})]}),!s.folder_id&&E&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx(Ho,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"Folder: Root"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",value:s.title,onChange:ie=>n({...s,title:ie.target.value}),placeholder:"Resource title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:s.description||"",onChange:ie=>n({...s,description:ie.target.value}),placeholder:"Brief description...",rows:3,maxLength:(_e==null?void 0:_e.description_character_limit)||500}),e.jsxs("p",{className:"text-xs text-slate-500",children:[((au=s.description)==null?void 0:au.length)||0," / ",(_e==null?void 0:_e.description_character_limit)||500," characters"]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"status-toggle",checked:s.status==="active",onCheckedChange:ie=>n({...s,status:ie?"active":"draft"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"status-toggle",className:"cursor-pointer font-medium",children:s.status==="active"?"Active":"Draft"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.status==="active"?"This resource is visible to users":"This resource is hidden from users (draft mode)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"resource-type",children:"Resource Type *"}),e.jsxs(Ge,{value:s.resource_type,onValueChange:ie=>{n({...s,resource_type:ie}),ie!=="download"&&(w(!1),_(""))},children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"download",children:"Download"}),e.jsx(re,{value:"video",children:"Video"}),e.jsx(re,{value:"external_link",children:"External Link"})]})]})]}),Me.some(ie=>ie.subcategories&&ie.subcategories.length>0)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Categories & Subcategories *"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Select any categories and subcategories that apply to this resource"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search categories and subcategories...",value:p,onChange:ie=>x(ie.target.value),className:"pl-10 pr-10"}),p&&e.jsx("button",{onClick:()=>x(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ks,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-slate-200 rounded-lg p-3 space-y-3",children:He.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsx("p",{className:"text-sm",children:"No matching categories or subcategories found"})}):He.map(ie=>!ie.subcategories||ie.subcategories.length===0?null:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-700 uppercase tracking-wider",children:ie.name}),e.jsx("div",{className:"space-y-1 pl-2",children:ie.subcategories.map(De=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded cursor-pointer",onClick:()=>Wi(De),children:[e.jsx(Aa,{id:`sub-${ie.name}-${De}`,checked:(s.subcategories||[]).includes(De),onCheckedChange:()=>Wi(De),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsx(Z,{htmlFor:`sub-${ie.name}-${De}`,className:"flex-1 cursor-pointer text-sm",children:De})]},De))})]},ie.id))}),s.subcategories&&s.subcategories.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-xs font-medium text-blue-900 w-full mb-1",children:["Selected: ",s.subcategories.length]}),s.subcategories.map((ie,De)=>e.jsxs(ye,{className:"bg-blue-100 text-blue-700 pr-1",children:[ie,e.jsx("button",{onClick:()=>Wi(ie),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(ks,{className:"w-3 h-3"})})]},De))]})]}),s.resource_type==="video"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"embed-code",children:"Video Embed Code *"}),e.jsx(Qt,{id:"embed-code",value:s.target_url,onChange:Ze,placeholder:"Paste your video embed code here (e.g., YouTube or Vimeo embed code)",rows:4,className:"font-mono text-sm"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Paste the complete embed code from your video platform"})]}):s.resource_type==="download"?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"download-url",children:"Download File *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"download-url",value:j?"":s.target_url||"",onChange:Ze,placeholder:j?"File selected from repository":"https://... or select from repository",className:"flex-1"}),e.jsxs(X,{type:"button",variant:"outline",onClick:()=>h("target"),children:[e.jsx(ls,{className:"w-4 h-4 mr-2"}),"Select from Repository"]})]}),s.target_url&&e.jsxs("div",{className:"mt-2 p-3 border border-slate-200 rounded-lg bg-slate-50 relative",children:[e.jsxs("div",{className:"flex items-center gap-2 pr-10",children:[e.jsx(ls,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("p",{className:"text-sm text-slate-700 flex-1 truncate",children:j?N:"External file URL"})]}),e.jsx("button",{onClick:ge,className:"absolute bottom-2 right-2 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove file",children:e.jsx(hs,{className:"w-3 h-3"})})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"external-url",children:"External Link URL *"}),e.jsx(he,{id:"external-url",value:s.target_url,onChange:Ze,placeholder:"https://example.com",className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg mt-2",children:[e.jsx(fs,{id:"open-new-tab",checked:s.open_in_new_tab,onCheckedChange:ie=>n({...s,open_in_new_tab:ie})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"open-new-tab",className:"cursor-pointer text-sm",children:"Open in new tab"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"When enabled, the link will open in a new browser tab"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"image-url",children:"Image URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"image-url",value:y?"":s.image_url||"",onChange:Ut,placeholder:y?"Image selected from repository":"https://... or select from repository",className:"flex-1"}),e.jsxs(X,{type:"button",variant:"outline",onClick:()=>h("image"),children:[e.jsx(Ti,{className:"w-4 h-4 mr-2"}),"Select from Repository"]})]}),s.image_url&&e.jsxs("div",{className:"mt-2 p-2 border border-slate-200 rounded-lg relative",children:[e.jsx("img",{src:s.image_url,alt:"Preview",className:"w-full h-32 object-cover rounded"}),e.jsx("button",{onClick:nu,className:"absolute bottom-3 right-3 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove image",children:e.jsx(hs,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Tags"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add tag",value:d,onChange:ie=>{u(ie.target.value),A(!0)},onKeyPress:ie=>{ie.key==="Enter"&&(ie.preventDefault(),Ks())},onFocus:()=>A(!0),onBlur:()=>{setTimeout(()=>A(!1),200)}}),e.jsx(X,{onClick:Ks,size:"sm",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),P&&Us.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:Us.map((ie,De)=>e.jsx("button",{type:"button",onClick:()=>Ft(ie),className:"w-full text-left px-3 py-2 hover:bg-blue-50 transition-colors text-sm",children:ie},De))})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 rounded-lg",children:s.tags.map((ie,De)=>e.jsxs(ye,{className:"bg-slate-200 text-slate-700 pr-1",children:[ie,e.jsx("button",{onClick:()=>dr(ie),className:"ml-2 hover:bg-slate-300 rounded-full p-0.5",children:e.jsx(ks,{className:"w-3 h-3"})})]},De))})]}),Rt.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"author",children:"Author (Optional)"}),e.jsxs(Ge,{value:s.author_id||"none",onValueChange:ie=>Gy(ie==="none"?"":ie),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select an author..."})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:"No author"}),Rt.map(ie=>e.jsxs(re,{value:ie.id,children:[ie.name," (",ie.email,")"]},ie.id))]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Select from members and team members with designated author roles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"release-date",children:"Release Date & Time"}),e.jsx(he,{id:"release-date",type:"datetime-local",value:s.release_date?new Date(s.release_date).toISOString().slice(0,16):"",onChange:ie=>{const De=ie.target.value?new Date(ie.target.value).toISOString():new Date().toISOString();n({...s,release_date:De})},className:"flex-1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Set a future date to schedule the resource release. Past dates show when the resource was originally published."}),s.release_date&&new Date(s.release_date)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(an,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["This resource is scheduled for release on ",Ot(new Date(s.release_date),"MMMM d, yyyy")," at ",Ot(new Date(s.release_date),"h:mm a")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is-public",checked:s.is_public,onCheckedChange:ie=>n({...s,is_public:ie})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-public",className:"cursor-pointer font-medium",children:"Public Resource"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Make this resource visible to non-members"})]})]}),!s.is_public&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-4 h-4 text-blue-600"}),e.jsx(Z,{className:"font-medium text-blue-900",children:"Role Access Control"})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"Select which roles can access this resource. Leave all unchecked to allow all member roles."}),e.jsx("div",{className:"space-y-2",children:it.map(ie=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>Xr(ie.id),children:[e.jsx(Aa,{id:`role-${ie.id}`,checked:(s.allowed_role_ids||[]).includes(ie.id),onCheckedChange:()=>Xr(ie.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),e.jsxs(Z,{htmlFor:`role-${ie.id}`,className:"flex-1 cursor-pointer text-sm",children:[ie.name,ie.is_admin&&e.jsx(ye,{className:"ml-2 bg-amber-100 text-amber-700 text-xs",children:"Admin"})]})]},ie.id))})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),n(null),u(""),x(""),v(!1),w(!1),_(""),A(!1)},children:"Cancel"}),e.jsx(X,{onClick:El,disabled:cr.isPending||Yr.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update Resource":"Create Resource"})]})]})}),e.jsx(Ct,{open:!!m,onOpenChange:()=>{h(null),Y(null),ae({})},children:e.jsxs(Nt,{className:"max-w-6xl max-h-[90vh] grid grid-rows-[auto_1fr_auto] gap-4",children:[e.jsx(kt,{children:e.jsxs(Et,{children:["Select ",m==="image"?"Image":"File"," from Repository"]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 py-4",children:[e.jsxs("div",{className:"md:col-span-1 border-r border-slate-200 pr-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Folders"}),e.jsxs("div",{className:"mb-3 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>Y(null),className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-900",children:[e.jsx($f,{className:"w-3 h-3"}),"Root"]}),Ar.map((ie,De)=>e.jsxs(Be.Fragment,{children:[e.jsx(Ss,{className:"w-3 h-3 text-slate-400 inline-block mx-1"}),e.jsx("button",{onClick:()=>Y(ie.id),className:`text-xs ${De===Ar.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ie.name})]},ie.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${Q===null?"bg-blue-100":"hover:bg-slate-100"}`,onClick:()=>Y(null),children:[e.jsx(Ho,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",lt.filter(ie=>!ie.folder_id&&(m==="image"?ie.file_type==="image":!0)).length,")"]})]}),ru(mn)]})]}),e.jsx("div",{className:"md:col-span-3 overflow-y-auto",children:cs.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"No files in this folder"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:Q?"Try selecting a different folder":"Upload files in the File Repository page"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:cs.map(ie=>e.jsxs("button",{onClick:()=>Or(ie.file_url,m,ie.file_name),className:"text-left border-2 border-slate-200 rounded-lg hover:border-blue-500 transition-colors p-2",children:[ie.file_type==="image"?e.jsx("img",{src:ie.file_url,alt:ie.file_name,className:"w-full h-32 object-cover rounded mb-2"}):e.jsx("div",{className:"w-full h-32 bg-slate-100 rounded flex items-center justify-center mb-2",children:e.jsx(ls,{className:"w-12 h-12 text-slate-400"})}),e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:ie.file_name}),ie.description&&e.jsx("p",{className:"text-xs text-slate-500 truncate mt-1",children:ie.description})]},ie.id))})})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>{h(null),Y(null),ae({})},children:"Cancel"})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}var _y="Tabs",[Zve]=Er(_y,[tm]),I$=tm(),[eye,hk]=Zve(_y),L$=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=Vp(o),[m,h]=ui({prop:r,onChange:a,defaultProp:i??"",caller:_y});return e.jsx(eye,{scope:n,baseId:Xn(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:e.jsx(zt.div,{dir:u,"data-orientation":l,...d,ref:s})})});L$.displayName=_y;var B$="TabsList",q$=b.forwardRef((t,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=t,i=hk(B$,n),l=I$(n);return e.jsx(H2,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(zt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});q$.displayName=B$;var $$="TabsTrigger",U$=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=t,l=hk($$,n),o=I$(n),c=W$(l.baseId,r),d=H$(l.baseId,r),u=r===l.value;return e.jsx(K2,{asChild:!0,...o,focusable:!a,active:u,children:e.jsx(zt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:jt(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:jt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:jt(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!a&&m&&l.onValueChange(r)})})})});U$.displayName=$$;var z$="TabsContent",V$=b.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...l}=t,o=hk(z$,n),c=W$(o.baseId,r),d=H$(o.baseId,r),u=r===o.value,m=b.useRef(u);return b.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(Tr,{present:a||u,children:({present:h})=>e.jsx(zt.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});V$.displayName=z$;function W$(t,s){return`${t}-trigger-${s}`}function H$(t,s){return`${t}-content-${s}`}var tye=L$,K$=q$,G$=U$,Y$=V$;const Sy=tye,ng=b.forwardRef(({className:t,...s},n)=>e.jsx(K$,{ref:n,className:et("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));ng.displayName=K$.displayName;const _r=b.forwardRef(({className:t,...s},n)=>e.jsx(G$,{ref:n,className:et("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));_r.displayName=G$.displayName;const nc=b.forwardRef(({className:t,...s},n)=>e.jsx(Y$,{ref:n,className:et("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));nc.displayName=Y$.displayName;function Q$({isAdmin:t,memberInfo:s}){var ja;const[n,r]=b.useState(!1),[a,i]=b.useState(null),[l,o]=b.useState(!1),[c,d]=b.useState(""),[u,m]=b.useState("all"),[h,p]=b.useState(""),[x,y]=b.useState(null),[v,j]=b.useState(!1),[w,N]=b.useState(null),[_,P]=b.useState(!1),[A,E]=b.useState(!1),[C,R]=b.useState(null),[O,k]=b.useState([]),[T,D]=b.useState(!1),[F,U]=b.useState({}),[z,H]=b.useState([]),[B,$]=b.useState(null),[I,L]=b.useState(null),[V,q]=b.useState(1),[J,Q]=b.useState(12),Y=Jt(),{data:K,isLoading:ae}=me({queryKey:["file-repository"],queryFn:()=>ee.entities.FileRepository.list("-created_date"),initialData:[]}),{data:se,isLoading:de}=me({queryKey:["file-repository-folders"],queryFn:()=>ee.entities.FileRepositoryFolder.list("display_order"),initialData:[]}),ue=b.useMemo(()=>{const ve=pt=>se.filter(xt=>xt.parent_folder_id===pt).sort((xt,Pt)=>(xt.display_order||0)-(Pt.display_order||0)).map(xt=>({...xt,children:ve(xt.id)}));return ve(null)},[se]),oe=ve=>{if(!ve)return[];const pt=[];let xt=ve;for(;xt;){const Pt=se.find(Ts=>Ts.id===xt);if(Pt)pt.unshift(Pt),xt=Pt.parent_folder_id;else break}return pt},pe=b.useMemo(()=>oe(x),[x,se]),je=ve=>{const pt=[ve];return se.filter(Pt=>Pt.parent_folder_id===ve).forEach(Pt=>{pt.push(...je(Pt.id))}),pt},Ne=ve=>K.filter(pt=>pt.folder_id===ve).length,qe=Ie({mutationFn:ve=>ee.entities.FileRepositoryFolder.create(ve),onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository-folders"]}),j(!1),N(null),te.success("Folder created successfully")},onError:ve=>{te.error("Failed to create folder: "+ve.message)}}),$e=Ie({mutationFn:({id:ve,data:pt})=>ee.entities.FileRepositoryFolder.update(ve,pt),onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository-folders"]}),j(!1),N(null),te.success("Folder updated successfully")},onError:ve=>{te.error("Failed to update folder: "+ve.message)}}),Ee=Ie({mutationFn:async ve=>{const pt=je(ve),xt=K.filter(Ts=>pt.includes(Ts.folder_id));for(const Ts of xt)await ee.entities.FileRepository.update(Ts.id,{folder_id:null});const Pt=se.filter(Ts=>pt.includes(Ts.id)).sort((Ts,Qr)=>oe(Qr.id).length-oe(Ts.id).length);for(const Ts of Pt)await ee.entities.FileRepositoryFolder.delete(Ts.id)},onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository-folders"]}),Y.invalidateQueries({queryKey:["file-repository"]}),y(null),te.success("Folder and its subfolders deleted, files moved to root")},onError:ve=>{te.error("Failed to delete folder: "+ve.message)}}),Se=Ie({mutationFn:async({folderId:ve,newParentId:pt})=>{if(pt&&je(ve).includes(pt))throw new Error("Cannot move a folder into its own subfolder");await ee.entities.FileRepositoryFolder.update(ve,{parent_folder_id:pt})},onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository-folders"]}),E(!1),R(null),te.success("Folder moved successfully")},onError:ve=>{te.error("Failed to move folder: "+ve.message)}}),Ye=Ie({mutationFn:ve=>ee.entities.FileRepository.delete(ve),onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository"]}),te.success("File deleted successfully")},onError:ve=>{te.error("Failed to delete file: "+ve.message)}}),Qe=Ie({mutationFn:({id:ve,data:pt})=>ee.entities.FileRepository.update(ve,pt),onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository"]}),o(!1),i(null),te.success("File updated successfully")},onError:ve=>{te.error("Failed to update file: "+ve.message)}}),Me=Ie({mutationFn:async({fileIds:ve,folderId:pt})=>{for(const xt of ve)await ee.entities.FileRepository.update(xt,{folder_id:pt})},onSuccess:()=>{Y.invalidateQueries({queryKey:["file-repository"]}),P(!1),k([]),D(!1),te.success("Files moved successfully")},onError:ve=>{te.error("Failed to move files: "+ve.message)}}),lt=b.useMemo(()=>K.filter(ve=>{var Ts,Qr,Vi;const pt=x===null?!ve.folder_id:ve.folder_id===x,xt=!c||((Ts=ve.file_name)==null?void 0:Ts.toLowerCase().includes(c.toLowerCase()))||((Qr=ve.description)==null?void 0:Qr.toLowerCase().includes(c.toLowerCase()))||((Vi=ve.tags)==null?void 0:Vi.some(Rn=>Rn.toLowerCase().includes(c.toLowerCase()))),Pt=u==="all"||ve.file_type===u;return pt&&xt&&Pt}),[K,x,c,u]);b.useEffect(()=>{q(1)},[c,u,x,J]);const Ce=Math.ceil(lt.length/J),it=(V-1)*J,_e=it+J,Ue=lt.slice(it,_e),rt=()=>{const ve=[];if(Ce<=5)for(let xt=1;xt<=Ce;xt++)ve.push(xt);else if(V<=3){for(let xt=1;xt<=4;xt++)ve.push(xt);Ce>5&&ve.push("..."),ve.push(Ce)}else if(V>=Ce-2){ve.push(1),Ce>5&&ve.push("...");for(let xt=Ce-3;xt<=Ce;xt++)ve.push(xt)}else{ve.push(1),ve.push("...");for(let xt=V-1;xt<=V+1;xt++)ve.push(xt);ve.push("..."),ve.push(Ce)}return ve},ht=ve=>{q(ve),window.scrollTo({top:0,behavior:"smooth"})},ct=(ve,pt)=>{if(T&&O.includes(pt.id)){H(O),ve.dataTransfer.effectAllowed="move",ve.dataTransfer.setData("text/plain",JSON.stringify(O));const xt=document.createElement("div");xt.className="bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg font-medium",xt.textContent=`Moving ${O.length} file${O.length>1?"s":""}`,xt.style.position="absolute",xt.style.top="-1000px",document.body.appendChild(xt),ve.dataTransfer.setDragImage(xt,0,0),setTimeout(()=>document.body.removeChild(xt),0)}else H([pt.id]),ve.dataTransfer.effectAllowed="move",ve.dataTransfer.setData("text/plain",JSON.stringify([pt.id]))},Rt=()=>{H([]),$(null),I&&(clearTimeout(I),L(null))},rs=(ve,pt)=>{if(ve.preventDefault(),ve.stopPropagation(),ve.dataTransfer.dropEffect="move",B!==pt&&($(pt),I&&clearTimeout(I),pt&&!F[pt])){const xt=setTimeout(()=>{U(Pt=>({...Pt,[pt]:!0}))},800);L(xt)}},Us=ve=>{ve.preventDefault();const pt=ve.currentTarget.getBoundingClientRect(),xt=ve.clientX,Pt=ve.clientY;(xt<pt.left||xt>=pt.right||Pt<pt.top||Pt>=pt.bottom)&&($(null),I&&(clearTimeout(I),L(null)))},Es=async(ve,pt)=>{ve.preventDefault(),ve.stopPropagation(),I&&(clearTimeout(I),L(null)),$(null);try{const xt=JSON.parse(ve.dataTransfer.getData("text/plain"));xt&&xt.length>0&&await Me.mutateAsync({fileIds:xt,folderId:pt==="root"?null:pt})}catch(xt){console.error("Drop error:",xt)}H([])},mn=async ve=>{var xt;const pt=(xt=ve.target.files)==null?void 0:xt[0];if(pt){r(!0);try{const{file_url:Pt}=await ee.integrations.Core.UploadFile({file:pt});let Ts="other";pt.type.startsWith("image/")?Ts="image":pt.type.startsWith("video/")?Ts="video":(pt.type.includes("pdf")||pt.type.includes("document"))&&(Ts="document"),await ee.entities.FileRepository.create({file_name:pt.name,file_url:Pt,file_type:Ts,mime_type:pt.type,file_size:pt.size,uploaded_by:(s==null?void 0:s.email)||"unknown",folder_id:x}),Y.invalidateQueries({queryKey:["file-repository"]}),te.success("File uploaded successfully"),ve.target.value=""}catch(Pt){te.error("Failed to upload file: "+Pt.message)}finally{r(!1)}}},Zt=ve=>{i({...ve}),o(!0)},yn=()=>{a&&Qe.mutate({id:a.id,data:{description:a.description||"",tags:a.tags||[]}})},Fs=()=>{var ve;if(!(!h.trim()||!a)){if((ve=a.tags)!=null&&ve.includes(h.trim())){te.error("Tag already exists");return}i({...a,tags:[...a.tags||[],h.trim()]}),p("")}},Ar=ve=>{a&&i({...a,tags:(a.tags||[]).filter(pt=>pt!==ve)})},er=ve=>{navigator.clipboard.writeText(ve),te.success("URL copied to clipboard")},He=()=>{N({name:"",description:"",parent_folder_id:x,display_order:se.filter(ve=>ve.parent_folder_id===x).length}),j(!0)},nt=ve=>{N(ve),j(!0)},cs=()=>{if(!w.name.trim()){te.error("Folder name is required");return}const ve={name:w.name,description:w.description||"",parent_folder_id:w.parent_folder_id||null,display_order:w.display_order||0};w.id?$e.mutate({id:w.id,data:ve}):qe.mutate(ve)},we=ve=>{se.find(Ts=>Ts.id===ve);const Pt=se.filter(Ts=>Ts.parent_folder_id===ve).length>0?"This folder contains subfolders. All subfolders and their files will be moved to root. Continue?":"Are you sure you want to delete this folder? Files will be moved to root.";confirm(Pt)&&Ee.mutate(ve)},ot=ve=>{R(ve),E(!0)},Pe=ve=>{C&&Se.mutate({folderId:C.id,newParentId:ve==="root"?null:ve})},tt=ve=>{U(pt=>({...pt,[ve]:!pt[ve]}))},vt=ve=>{k(pt=>pt.includes(ve)?pt.filter(xt=>xt!==ve):[...pt,ve])},ns=()=>{O.length===lt.length?k([]):k(lt.map(ve=>ve.id))},ms=()=>{if(O.length===0){te.error("Please select files to move");return}P(!0)},en=ve=>{Me.mutate({fileIds:O,folderId:ve==="root"?null:ve})},gs=(ve,pt)=>{Me.mutate({fileIds:[ve],folderId:pt==="root"?null:pt})},Gr=(ve,pt=0)=>ve.map(xt=>{const Pt=F[xt.id],Ts=xt.children&&xt.children.length>0,Qr=x===xt.id,Vi=B===xt.id;return e.jsxs("div",{children:[e.jsx("div",{className:"relative group",onDragOver:Rn=>rs(Rn,xt.id),onDrop:Rn=>Es(Rn,xt.id),children:e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${Qr?"bg-blue-100":"hover:bg-slate-100"} ${Vi?"bg-blue-200 ring-2 ring-blue-400":""}`,style:{paddingLeft:`${pt*20+12}px`},children:[Ts?e.jsx("button",{onClick:Rn=>{Rn.stopPropagation(),tt(xt.id)},className:"p-0.5 hover:bg-slate-200 rounded",children:e.jsx(Ss,{className:`w-4 h-4 transition-transform ${Pt?"rotate-90":""}`})}):e.jsx("div",{className:"w-5 h-5 flex-shrink-0"}),e.jsx(Kl,{className:"w-4 h-4 text-slate-600 shrink-0"}),e.jsx("span",{onClick:()=>y(xt.id),className:"flex-1 text-sm",children:xt.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",Ne(xt.id),")"]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:Rn=>{Rn.stopPropagation(),nt(xt)},className:"p-1 hover:bg-slate-200 rounded",title:"Edit folder",children:e.jsx(Ds,{className:"w-3 h-3 text-slate-600"})}),e.jsx("button",{onClick:Rn=>{Rn.stopPropagation(),ot(xt)},className:"p-1 hover:bg-blue-100 rounded",title:"Move folder",children:e.jsx(sl,{className:"w-3 h-3 text-blue-600"})}),e.jsx("button",{onClick:Rn=>{Rn.stopPropagation(),we(xt.id)},className:"p-1 hover:bg-red-100 rounded",title:"Delete folder",children:e.jsx(hs,{className:"w-3 h-3 text-red-600"})})]})]})}),Ts&&Pt&&e.jsx("div",{children:Gr(xt.children,pt+1)})]},xt.id)}),Nn=(ve,pt=null,xt=0)=>ve.map(Pt=>(pt?je(pt):[]).includes(Pt.id)?null:e.jsxs("div",{children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start mb-1",onClick:()=>{A?Pe(Pt.id):en(Pt.id)},style:{paddingLeft:`${xt*20+16}px`},children:[e.jsx(Kl,{className:"w-4 h-4 mr-2"}),Pt.name]}),Pt.children&&Pt.children.length>0&&e.jsx("div",{className:"ml-4",children:Nn(Pt.children,pt,xt+1)})]},Pt.id)),cr=ve=>{switch(ve){case"image":return e.jsx(Ti,{className:"w-8 h-8 text-blue-600"});case"video":return e.jsx(WQ,{className:"w-8 h-8 text-purple-600"});case"document":return e.jsx(ls,{className:"w-8 h-8 text-green-600"});default:return e.jsx(fY,{className:"w-8 h-8 text-slate-600"})}},Yr=ve=>ve<1024?ve+" B":ve<1024*1024?(ve/1024).toFixed(1)+" KB":(ve/(1024*1024)).toFixed(1)+" MB";return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"File Repository"}),e.jsx("p",{className:"text-slate-600",children:"Upload and manage files  Drag files to folders"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:He,variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:[e.jsx(E5,{className:"w-4 h-4 mr-2"}),x?"New Subfolder":"New Folder"]}),e.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:mn,disabled:n}),e.jsxs(X,{onClick:()=>{var ve;return(ve=document.getElementById("file-upload"))==null?void 0:ve.click()},disabled:n,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Upload File"]})]})]}),T&&e.jsx(le,{className:"border-blue-500 bg-blue-50 shadow-md mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white rounded-full p-2",children:e.jsx(sl,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Bulk Move Mode Active"}),e.jsx("p",{className:"text-sm text-blue-700",children:O.length===0?"Select files below or drag them to folders":`${O.length} file${O.length>1?"s":""} selected  Drag to move`})]})]}),e.jsxs("div",{className:"flex gap-2",children:[lt.length>0&&e.jsx(X,{onClick:ns,size:"sm",variant:"outline",className:"bg-white",children:O.length===lt.length?"Deselect All":"Select All"}),O.length>0&&e.jsxs(X,{onClick:ms,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(sl,{className:"w-4 h-4 mr-2"}),"Move ",O.length," Selected"]}),e.jsx(X,{onClick:()=>{D(!1),k([])},size:"sm",variant:"ghost",children:"Cancel"})]})]})})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kl,{className:"w-5 h-5 text-slate-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Folders"}),e.jsx(ye,{variant:"outline",className:"ml-2 text-xs",children:"Drag & Drop Enabled"})]}),!T&&e.jsxs(X,{onClick:()=>D(!0),size:"sm",variant:"outline",children:[e.jsx(sl,{className:"w-4 h-4 mr-2"}),"Bulk Move Mode"]})]}),(pe.length>0||x===null)&&e.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-slate-50 rounded-lg",children:[e.jsxs("button",{onClick:()=>y(null),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900",children:[e.jsx($f,{className:"w-4 h-4"}),"Root"]}),pe.map((ve,pt)=>e.jsxs(Be.Fragment,{children:[e.jsx(Ss,{className:"w-4 h-4 text-slate-400"}),e.jsx("button",{onClick:()=>y(ve.id),className:`text-sm ${pt===pe.length-1?"text-blue-600 font-medium":"text-slate-600 hover:text-slate-900"}`,children:ve.name})]},ve.id))]}),e.jsxs("div",{className:"border border-slate-200 rounded-lg p-2 max-h-96 overflow-y-auto",onDragLeave:Us,children:[e.jsxs("div",{className:`flex items-center gap-2 py-2 px-3 rounded cursor-pointer transition-all ${x===null?"bg-blue-100":"hover:bg-slate-100"} ${B==="root"?"bg-blue-200 ring-2 ring-blue-400":""}`,onClick:()=>y(null),onDragOver:ve=>rs(ve,"root"),onDrop:ve=>Es(ve,"root"),children:[e.jsx(Ho,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:"Root"}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",K.filter(ve=>!ve.folder_id).length,")"]})]}),Gr(ue)]})]})}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search files...",value:c,onChange:ve=>d(ve.target.value),className:"pl-10"})]}),e.jsx(Sy,{value:u,onValueChange:m,className:"w-full md:w-auto",children:e.jsxs(ng,{children:[e.jsx(_r,{value:"all",children:"All"}),e.jsx(_r,{value:"image",children:"Images"}),e.jsx(_r,{value:"document",children:"Documents"}),e.jsx(_r,{value:"video",children:"Videos"}),e.jsx(_r,{value:"other",children:"Other"})]})})]})})}),ae?e.jsx("div",{className:"text-center py-12",children:"Loading files..."}):lt.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Xs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Files Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:c||u!=="all"||x?"Try adjusting your filters":"Upload your first file to get started"}),!c&&u==="all"&&e.jsxs(X,{onClick:()=>{var ve;return(ve=document.getElementById("file-upload"))==null?void 0:ve.click()},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload File"]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 text-sm text-slate-600",children:["Showing ",it+1,"-",Math.min(_e,lt.length)," of ",lt.length," files"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Ue.map(ve=>{const pt=O.includes(ve.id),xt=z.includes(ve.id);return e.jsxs(le,{draggable:!0,onDragStart:Pt=>ct(Pt,ve),onDragEnd:Rt,className:`border-slate-200 shadow-sm hover:shadow-md transition-all relative ${T?"cursor-pointer":"cursor-grab"} ${pt?"ring-4 ring-blue-500 bg-blue-50":""} ${xt?"opacity-50":""}`,onClick:()=>{T&&vt(ve.id)},children:[e.jsx("div",{className:"absolute top-2 right-2 z-10 p-1 bg-slate-100 rounded hover:bg-slate-200 cursor-grab",children:e.jsx(zd,{className:"w-4 h-4 text-slate-400"})}),T&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${pt?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:pt&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsxs(Fe,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:ve.file_type==="image"?e.jsx("div",{className:"w-full h-40 mb-3 rounded-lg overflow-hidden bg-slate-100",children:e.jsx("img",{src:ve.file_url,alt:ve.file_name,className:"w-full h-full object-cover"})}):e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[cr(ve.file_type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(ze,{className:"text-sm truncate",children:ve.file_name}),e.jsx("p",{className:"text-xs text-slate-500",children:Yr(ve.file_size)})]})]})}),ve.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2 mt-2",children:ve.description}),ve.tags&&ve.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:ve.tags.map((Pt,Ts)=>e.jsx(ye,{variant:"secondary",className:"text-xs",children:Pt},Ts))})]}),e.jsxs(ce,{className:"pt-0",children:[e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),er(ve.file_url)},className:"flex-1",children:[e.jsx(ni,{className:"w-3 h-3 mr-1"}),"Copy URL"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),window.open(ve.file_url,"_blank")},children:e.jsx(tn,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),Zt(ve)},className:"flex-1",children:"Edit Info"}),!T&&e.jsxs(Ge,{value:ve.folder_id||"root",onValueChange:Pt=>{gs(ve.id,Pt)},children:[e.jsx(Ve,{className:"w-28",onClick:Pt=>Pt.stopPropagation(),children:e.jsx(sl,{className:"w-3 h-3 mr-1"})}),e.jsxs(We,{children:[e.jsx(re,{value:"root",children:"Root"}),se.map(Pt=>e.jsx(re,{value:Pt.id,children:Pt.name},Pt.id))]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:Pt=>{Pt.stopPropagation(),Ye.mutate(ve.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Uploaded ",Ot(new Date(ve.created_date),"MMM d, yyyy")]})]})]},ve.id)})}),lt.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:J.toString(),onValueChange:ve=>{Q(Number(ve)),q(1)},children:[e.jsx(Ve,{className:"w-20",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"}),e.jsx(re,{value:"96",children:"96"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",V," of ",Ce]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>ht(V-1),disabled:V===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),rt().map((ve,pt)=>e.jsx(Be.Fragment,{children:ve==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:V===ve?"default":"outline",size:"sm",onClick:()=>ht(ve),className:V===ve?"bg-blue-600 hover:bg-blue-700":"",children:ve})},pt)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>ht(V+1),disabled:V===Ce,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]}),e.jsx(Ct,{open:v,onOpenChange:ve=>{j(ve),ve||N(null)},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:w!=null&&w.id?"Edit Folder":x?"Create New Subfolder":"Create New Folder"})}),w&&e.jsxs("div",{className:"space-y-4",children:[w.parent_folder_id&&e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Parent Folder: "}),((ja=se.find(ve=>ve.id===w.parent_folder_id))==null?void 0:ja.name)||"Root"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"folder-name",children:"Folder Name *"}),e.jsx(he,{id:"folder-name",value:w.name,onChange:ve=>N({...w,name:ve.target.value}),placeholder:"e.g., Marketing Assets"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"folder-description",children:"Description (Optional)"}),e.jsx(Qt,{id:"folder-description",value:w.description||"",onChange:ve=>N({...w,description:ve.target.value}),placeholder:"Brief description of this folder...",rows:3})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(X,{onClick:cs,disabled:qe.isPending||$e.isPending,className:"bg-blue-600 hover:bg-blue-700",children:w!=null&&w.id?"Update Folder":"Create Folder"})]})]})}),e.jsx(Ct,{open:_,onOpenChange:ve=>{P(ve)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Move Files to Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a folder to move ",O.length," selected file",O.length>1?"s":""," to:"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>en("root"),children:[e.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Root (No Folder)"]}),Nn(ue)]})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>P(!1),children:"Cancel"})})]})}),e.jsx(Ct,{open:A,onOpenChange:ve=>{E(ve),ve||R(null)},children:e.jsxs(Nt,{className:"max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Move Folder"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Select a destination for ",e.jsx("strong",{children:C==null?void 0:C.name}),":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{variant:"outline",className:"w-full justify-start",onClick:()=>Pe("root"),children:[e.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Root (Top Level)"]}),Nn(ue,C==null?void 0:C.id)]})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>{E(!1),R(null)},children:"Cancel"})})]})}),e.jsx(Ct,{open:l,onOpenChange:o,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Edit File Information"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.file_name}),e.jsx("p",{className:"text-xs text-slate-500",children:Yr(a.file_size)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"file-description",children:"Description"}),e.jsx(Qt,{id:"file-description",value:a.description||"",onChange:ve=>i({...a,description:ve.target.value}),placeholder:"Add a description...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add tag",value:h,onChange:ve=>p(ve.target.value),onKeyPress:ve=>ve.key==="Enter"&&(ve.preventDefault(),Fs())}),e.jsx(X,{onClick:Fs,size:"sm",children:e.jsx(Xs,{className:"w-4 h-4"})})]}),a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-50 rounded-lg",children:a.tags.map((ve,pt)=>e.jsxs(ye,{className:"bg-slate-200 text-slate-700 pr-1",children:[ve,e.jsx("button",{onClick:()=>Ar(ve),className:"ml-2 hover:bg-slate-300 rounded-full p-0.5",children:e.jsx(ks,{className:"w-3 h-3"})})]},pt))})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{o(!1),i(null),p("")},children:"Cancel"}),e.jsx(X,{onClick:yn,disabled:Qe.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Save Changes"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function J$({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(null),d=Jt(),{data:u,isLoading:m}=me({queryKey:["admin-resources"],queryFn:()=>ee.entities.Resource.list("-created_date"),initialData:[]}),h=b.useMemo(()=>{const w=new Map;return u.forEach(N=>{N.tags&&Array.isArray(N.tags)&&N.tags.forEach(_=>{w.has(_)?w.set(_,{count:w.get(_).count+1,resourceIds:[...w.get(_).resourceIds,N.id]}):w.set(_,{count:1,resourceIds:[N.id]})})}),Array.from(w.entries()).map(([N,_])=>({tag:N,..._})).sort((N,_)=>N.tag.localeCompare(_.tag))},[u]),p=b.useMemo(()=>{if(!r.trim())return h;const w=r.toLowerCase();return h.filter(N=>N.tag.toLowerCase().includes(w))},[h,r]),x=Ie({mutationFn:async w=>{const N=u.filter(_=>_.tags&&_.tags.includes(w));await Promise.all(N.map(_=>ee.entities.Resource.update(_.id,{..._,tags:_.tags.filter(P=>P!==w)})))},onSuccess:()=>{d.invalidateQueries({queryKey:["admin-resources"]}),l(!1),c(null),te.success("Tag removed from all resources")},onError:w=>{te.error("Failed to remove tag: "+w.message)}}),y=()=>{const w=s.trim();if(!w){te.error("Tag name cannot be empty");return}if(h.some(N=>N.tag===w)){te.error("Tag already exists");return}te.success(`Tag "${w}" is now available for use`),n("")},v=w=>{c(w),l(!0)},j=()=>{o&&x.mutate(o)};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Manage Tags"}),e.jsx("p",{className:"text-slate-600",children:"View, add, and remove tags used across resources"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsx(ze,{className:"text-lg",children:"Add New Tag"})}),e.jsxs(ce,{className:"pt-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"new-tag",className:"sr-only",children:"New Tag Name"}),e.jsx(he,{id:"new-tag",placeholder:"Enter tag name...",value:s,onChange:w=>n(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),y())}})]}),e.jsxs(X,{onClick:y,disabled:!s.trim(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Tag"]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"New tags will be available for use when creating or editing resources"})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search tags...",value:r,onChange:w=>a(w.target.value),className:"pl-10 pr-10"}),r&&e.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:e.jsx(ks,{className:"w-4 h-4"})})]})})}),m?e.jsx("div",{className:"text-center py-12",children:"Loading tags..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(yd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Tags Yet"}),e.jsx("p",{className:"text-slate-600",children:"Tags will appear here once they're used on resources"})]})}):p.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(yd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Tags Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search query"})]})}):e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{children:["All Tags (",p.length,")"]}),e.jsxs(ye,{variant:"outline",className:"text-slate-600",children:[h.length," total"]})]})}),e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-200",children:p.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(yd,{className:"w-4 h-4 text-blue-600 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:w.tag}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Used in ",w.count," ",w.count===1?"resource":"resources"]})]})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(w.tag),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(hs,{className:"w-3 h-3 mr-1"}),"Remove"]})]},w.tag))})})]}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Remove Tag"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to remove the tag "',o,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-2",children:"This will remove this tag from all resources that currently use it. This action cannot be undone."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),c(null)},children:"Cancel"}),e.jsx(X,{onClick:j,disabled:x.isPending,className:"bg-red-600 hover:bg-red-700",children:x.isPending?"Removing...":"Remove Tag"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}function X$(){const[t,s]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState("all"),[c,d]=b.useState("posted-newest"),{data:u,isLoading:m}=me({queryKey:["public-jobs"],queryFn:async()=>{const v=await ee.entities.JobPosting.filter({status:"active"}),j=new Date;return v.filter(w=>w.closing_date?new Date(w.closing_date)>j:!0)},initialData:[]}),{data:h}=me({queryKey:["job-type-settings"],queryFn:async()=>{const j=(await ee.entities.SystemSettings.list()).find(w=>w.setting_key==="job_types");if(j)try{return JSON.parse(j.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:p}=me({queryKey:["hours-settings"],queryFn:async()=>{const j=(await ee.entities.SystemSettings.list()).find(w=>w.setting_key==="job_hours");if(j)try{return JSON.parse(j.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),x=b.useMemo(()=>{let v=u.filter(j=>{var A,E,C,R;const w=!t||((A=j.title)==null?void 0:A.toLowerCase().includes(t.toLowerCase()))||((E=j.company_name)==null?void 0:E.toLowerCase().includes(t.toLowerCase()))||((C=j.description)==null?void 0:C.toLowerCase().includes(t.toLowerCase())),N=!n||((R=j.location)==null?void 0:R.toLowerCase().includes(n.toLowerCase())),_=a==="all"||j.job_type===a,P=l==="all"||j.hours===l;return w&&N&&_&&P});return v.sort((j,w)=>{if(j.featured&&!w.featured)return-1;if(!j.featured&&w.featured)return 1;switch(c){case"posted-newest":return new Date(w.created_date)-new Date(j.created_date);case"posted-oldest":return new Date(j.created_date)-new Date(w.created_date);case"closing-soonest":return!j.closing_date&&!w.closing_date?0:j.closing_date?w.closing_date?new Date(j.closing_date)-new Date(w.closing_date):-1:1;case"closing-latest":return!j.closing_date&&!w.closing_date?0:j.closing_date?w.closing_date?new Date(w.closing_date)-new Date(j.closing_date):-1:1;default:return new Date(w.created_date)-new Date(j.created_date)}}),v},[u,t,n,a,l,c]),y=v=>{if(!v)return!1;const j=lo(new Date(v),new Date);return j>=0&&j<=7};return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Career Opportunities"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mb-8",children:"Find your next career opportunity in careers education, information, advice and guidance"}),e.jsxs(X,{onClick:()=>window.location.href=Te("PostJob"),size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50",children:[e.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Post a Job"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[e.jsx(le,{className:"border-slate-200 shadow-sm mb-8",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search jobs or companies...",value:t,onChange:v=>s(v.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"City or Town...",value:n,onChange:v=>r(v.target.value),className:"pl-10"})]}),e.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"all",children:"All Job Types"}),h.map(v=>e.jsx("option",{value:v,children:v},v))]}),e.jsxs("select",{value:l,onChange:v=>o(v.target.value),className:"w-full h-10 px-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"all",children:"All Hours"}),p.map(v=>e.jsx("option",{value:v,children:v},v))]}),e.jsxs("div",{className:"relative",children:[e.jsx(u2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"w-full h-10 pl-10 pr-3 rounded-md border border-slate-200 bg-white text-sm",children:[e.jsx("option",{value:"posted-newest",children:"Posted: Newest First"}),e.jsx("option",{value:"posted-oldest",children:"Posted: Oldest First"}),e.jsx("option",{value:"closing-soonest",children:"Closing: Soonest First"}),e.jsx("option",{value:"closing-latest",children:"Closing: Latest First"})]})]})]})})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-slate-600 font-medium",children:[x.length," ",x.length===1?"job":"jobs"," found"]})}),m?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((v,j)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},j))}):x.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Jobs Found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search filters"})]})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map(v=>{var N;const j=v.closing_date&&y(v.closing_date),w=v.closing_date?lo(new Date(v.closing_date),new Date):null;return e.jsx(Gt,{to:Te(`JobDetails?id=${v.id}`),children:e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all cursor-pointer h-full group ${j?"border-l-4 border-l-amber-500 hover:border-amber-300":"hover:border-blue-300"}`,children:e.jsxs(ce,{className:"p-6",children:[j&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",w===0?"today":`in ${w} ${w===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[v.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200 group-hover:border-blue-200 transition-colors",children:e.jsx("img",{src:v.company_logo_url,alt:v.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(Fa,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 group-hover:text-blue-600 transition-colors",children:v.title}),v.featured&&e.jsx(m2,{className:"w-5 h-5 text-amber-500 fill-amber-500 flex-shrink-0"})]}),e.jsx("p",{className:"text-sm font-medium text-slate-700 mt-1",children:v.company_name})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:v.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",Ot(new Date(v.created_date),"d MMM, yyyy")]})]}),v.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:j?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",Ot(new Date(v.closing_date),"d MMM, yyyy")]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[v.job_type&&e.jsx(ye,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200",children:v.job_type}),v.hours&&e.jsx(ye,{className:"bg-purple-100 text-purple-700 hover:bg-purple-200",children:v.hours}),v.salary_range&&e.jsx(ye,{variant:"outline",className:"border-slate-300",children:v.salary_range})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-3 leading-relaxed",children:[(N=v.description)==null?void 0:N.substring(0,180),"..."]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("span",{className:"text-sm font-medium text-blue-600 group-hover:text-blue-700 inline-flex items-center gap-1",children:["View Details",e.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})},v.id)})})]})]})}function Z$(){const s=new URLSearchParams(window.location.search).get("id");b.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]);const{data:n,isLoading:r}=me({queryKey:["job",s],queryFn:async()=>(await ee.entities.JobPosting.list()).find(m=>m.id===s),enabled:!!s});if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Job not found"})})})});if(r)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-8",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})})})});if(!n||n.status!=="active")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-slate-600",children:"This job posting is no longer available"}),e.jsx(X,{onClick:()=>window.location.href=Te("JobBoard"),className:"mt-4",children:"Back to Job Board"})]})})});const a=()=>{n.application_method==="email"?window.location.href=`mailto:${n.application_value}?subject=Application for ${n.title}`:window.open(n.application_value,"_blank","noopener,noreferrer")},i=n.closing_date&&lo(new Date(n.closing_date),new Date)<=7,l=n.closing_date?lo(new Date(n.closing_date),new Date):null,o=typeof window<"u"?window.location.href:"";`${n.title}${n.company_name}${n.location}`;const c=()=>{const u=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(o)}`;window.open(u,"_blank","noopener,noreferrer,width=600,height=600")},d=()=>{const u=encodeURIComponent(`Job Opportunity: ${n.title}`),m=encodeURIComponent(`I found this job opportunity that might interest you:

${n.title}
${n.company_name}
Location: ${n.location}

View details: ${o}`);window.location.href=`mailto:?subject=${u}&body=${m}`};return e.jsxs("div",{className:"bg-white min-h-screen",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs(X,{variant:"ghost",onClick:()=>window.location.href=Te("JobBoard"),className:"text-white hover:bg-white/10 mb-6",children:[e.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Back to Job Board"]}),e.jsxs("div",{className:"flex items-start gap-6",children:[n.company_logo_url&&e.jsx("img",{src:n.company_logo_url,alt:n.company_name,className:"w-24 h-24 object-contain bg-white rounded-lg p-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:n.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-5 h-5"}),e.jsx("span",{children:n.company_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"w-5 h-5"}),e.jsx("span",{children:n.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(an,{className:"w-5 h-5"}),e.jsxs("span",{children:["Posted ",Ot(new Date(n.created_date),"d MMM, yyyy")]})]})]})]})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[i&&n.closing_date&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-amber-900",children:["Applications closing ",l===0?"today":`in ${l} ${l===1?"day":"days"}`]}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["Submit your application before ",Ot(new Date(n.closing_date),"d MMM, yyyy")]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Job Description"})}),e.jsx(ce,{className:"prose prose-slate max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:n.description})})]}),n.attachment_urls&&n.attachment_urls.length>0&&e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5"}),"Additional Documents"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-2",children:n.attachment_urls.map((u,m)=>e.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 group-hover:text-blue-600 transition-colors",children:n.attachment_names&&n.attachment_names[m]?n.attachment_names[m]:`Document ${m+1}`}),e.jsx("p",{className:"text-xs text-slate-500",children:"Click to download"})]})]}),e.jsx(lr,{className:"w-5 h-5 text-slate-400 group-hover:text-blue-600 transition-colors"})]},m))})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(le,{className:"border-slate-200 sticky top-8",children:e.jsxs(ce,{className:"p-6 space-y-4",children:[e.jsx(X,{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",children:n.application_method==="email"?e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Apply via Email"]}):e.jsxs(e.Fragment,{children:[e.jsx(tn,{className:"w-5 h-5 mr-2"}),"Apply Now"]})}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Job Details"}),n.job_type&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Dn,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Job Type"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.job_type})]})]}),n.hours&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(an,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Hours"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.hours})]})]}),n.salary_range&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(aQ,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Salary"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.salary_range})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Wr,{className:"w-5 h-5 text-slate-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"City or Town"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:n.location})]})]}),n.closing_date&&e.jsxs("div",{className:`flex items-start gap-3 -mx-1 -my-0.5 px-1 py-0.5 rounded-lg transition-colors ${i?"bg-amber-50 border-2 border-amber-200":""}`,children:[e.jsx(an,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${i?"text-amber-600":"text-slate-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-xs ${i?"text-amber-700 font-medium":"text-slate-500"}`,children:"Application Deadline"}),e.jsx("div",{className:`text-sm font-medium ${i?"text-amber-900":"text-slate-900"}`,children:Ot(new Date(n.closing_date),"d MMM, yyyy")}),i&&l!==null&&e.jsx("div",{className:"text-xs text-amber-700 mt-1",children:l===0?"Closes today!":`${l} ${l===1?"day":"days"} remaining`})]})]}),n.attachment_urls&&n.attachment_urls.length>0&&e.jsx("div",{className:"pt-2 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(ls,{className:"w-4 h-4"}),e.jsxs("span",{children:[n.attachment_urls.length," ",n.attachment_urls.length===1?"document":"documents"," attached"]})]})})]}),n.featured&&e.jsx(ye,{className:"w-full justify-center bg-amber-100 text-amber-700",children:"Featured Position"}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(nd,{className:"w-4 h-4"}),"Share this job"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-[#0A66C2] hover:bg-[#004182] text-white rounded-lg transition-colors",title:"Share on LinkedIn",children:[e.jsx(jh,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"LinkedIn"})]}),e.jsxs("button",{onClick:d,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-slate-600 hover:bg-slate-700 text-white rounded-lg transition-colors",title:"Share via Email",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Email"})]})]})]})]})})})]})]})]})}let c_=null;function sye({clientSecret:t,onSuccess:s,onCancel:n,amount:r}){const a=mq(),i=uq(),[l,o]=b.useState(!1),[c,d]=b.useState(null),u=async m=>{if(m.preventDefault(),!(!a||!i)){o(!0),d(null);try{const{error:h}=await a.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}${Te("JobPostSuccess")}`},redirect:"if_required"});h?(d(h.message),o(!1)):s()}catch(h){console.error("Stripe confirmPayment error:",h),d(h.message),o(!1)}}};return e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Amount to charge:"})," ",r.toFixed(2)]}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"90-day job listing on the Graduate Futures Job Board"})]}),e.jsx("div",{children:e.jsx(fq,{options:{layout:"tabs"}})}),c&&e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4 mr-0.5 mt-0.5 text-red-600 shrink-0"}),e.jsx("p",{className:"text-sm text-red-800",children:c})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:l,className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",disabled:!a||l,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):`Pay ${r.toFixed(2)}`})]})]})}function e9({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState("email"),[a,i]=b.useState(""),[l,o]=b.useState(!1),[c,d]=b.useState(!1),[u,m]=b.useState(!1),[h,p]=b.useState(!1),[x,y]=b.useState(!1),[v,j]=b.useState(!1),[w,N]=b.useState(!1),[_,P]=b.useState(!1),[A,E]=b.useState(null),[C,R]=b.useState(null),[O,k]=b.useState(null),[T,D]=b.useState(50),[F,U]=b.useState({title:"",description:"",company_name:"",company_logo_url:"",location:"",salary_range:"",job_type:"",hours:"",closing_date:"",application_method:"email",application_value:"",contact_name:"",attachment_urls:[],attachment_names:[]});b.useEffect(()=>{(async()=>{try{const K=await ee.functions.invoke("getStripePublishableKey");K.data.publishableKey?c_=aq(K.data.publishableKey):console.warn("Stripe publishable key not found in response.")}catch(K){console.error("Failed to load Stripe publishable key:",K)}})()},[]);const{data:z}=me({queryKey:["job-type-settings"],queryFn:async()=>{const K=(await ee.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_types");if(K)try{return JSON.parse(K.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:H}=me({queryKey:["hours-settings"],queryFn:async()=>{const K=(await ee.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_hours");if(K)try{return JSON.parse(K.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),{data:B}=me({queryKey:["job-posting-price"],queryFn:async()=>{const K=(await ee.entities.SystemSettings.list()).find(ae=>ae.setting_key==="job_posting_price");if(K)try{return parseFloat(K.setting_value)}catch{return 50}return 50},initialData:50});b.useEffect(()=>{B&&D(B)},[B]),b.useEffect(()=>{if(t)m(!0),d(!0),i(t.email),r("form"),U(Y=>({...Y,company_name:(s==null?void 0:s.name)||"",contact_name:`${t.first_name} ${t.last_name}`,job_type:z[0]||"",hours:H[0]||""}));else{const Y=sessionStorage.getItem("agcas_member");if(Y){const K=JSON.parse(Y);m(!0),d(!0),i(K.email),r("form"),(async()=>{if(K.organization_id)try{const de=(await ee.entities.Organization.list()).find(ue=>ue.id===K.organization_id);de&&U(ue=>({...ue,company_name:de.name,contact_name:`${K.first_name} ${K.last_name}`,job_type:z[0]||"",hours:H[0]||""}))}catch(se){console.error("Failed to fetch organization:",se)}})()}}},[t,s,z,H]);const $=async Y=>{Y.preventDefault(),o(!0);try{(await ee.functions.invoke("checkMemberStatusByEmail",{email:a})).data.is_member?(d(!0),te.info("Please log in to post your job for free"),setTimeout(()=>{window.location.href=Te("Home")+"?returnTo="+encodeURIComponent(window.location.pathname)},2e3)):(d(!1),U(ae=>({...ae,job_type:z[0]||"",hours:H[0]||""})),r("form"))}catch{te.error("Failed to verify email. Please try again.")}finally{o(!1)}},I=async Y=>{const K=Y.target.files[0];if(!K)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(K.type)){te.error("Only image files (JPEG, PNG, GIF, WebP) are allowed");return}if(K.size>5*1024*1024){te.error("Image must be smaller than 5MB");return}y(!0);try{const se=await ee.integrations.Core.UploadFile({file:K});U(de=>({...de,company_logo_url:se.file_url})),te.success("Logo uploaded successfully")}catch{te.error("Failed to upload logo. Please try again.")}finally{y(!1)}},L=()=>{U(Y=>({...Y,company_logo_url:""}))},V=async Y=>{const K=Array.from(Y.target.files);if(K.length===0)return;const ae=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(K.filter(ue=>!ae.includes(ue.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(K.filter(ue=>ue.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}p(!0);try{const ue=K.map(async pe=>({url:(await ee.integrations.Core.UploadFile({file:pe})).file_url,name:pe.name})),oe=await Promise.all(ue);U(pe=>({...pe,attachment_urls:[...pe.attachment_urls,...oe.map(je=>je.url)],attachment_names:[...pe.attachment_names,...oe.map(je=>je.name)]})),te.success(`${K.length} ${K.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{p(!1)}},q=Y=>{U(K=>({...K,attachment_urls:K.attachment_urls.filter((ae,se)=>se!==Y),attachment_names:K.attachment_names.filter((ae,se)=>se!==Y)}))},J=async Y=>{if(Y.preventDefault(),!F.closing_date){te.error("Please select a closing date");return}if(!v){te.error("Please agree to the Terms and Conditions");return}r("submitting");try{if(u){const K=await ee.functions.invoke("createJobPostingMember",{...F,memberEmail:a});if(K.data.success)te.success("Job posting submitted successfully!"),setTimeout(()=>{window.location.href=Te("MyJobPostings")},500);else throw new Error(K.data.error||"Failed to create job posting")}else{const K=await ee.functions.invoke("createJobPostingNonMember",{...F,contact_email:a});if(K.data.success){E(K.data.job_id);const ae=await ee.functions.invoke("createJobPostingPaymentIntent",{amount:T,currency:"gbp",metadata:{job_posting_id:K.data.job_id,contact_email:a,company_name:F.company_name,job_title:F.title}});if(ae.data.success)R(ae.data.clientSecret),k(ae.data.paymentIntentId),P(!0),r("form");else throw new Error("Failed to initialize payment: "+(ae.data.error||"Unknown error"))}else throw new Error(K.data.error||"Failed to create job posting")}}catch(K){te.error(K.message||"Failed to submit job posting"),r("form")}},Q=async()=>{P(!1),te.success("Payment successful! Your job posting has been submitted for approval."),setTimeout(()=>{window.location.href=Te("JobPostSuccess")},1500)};return!u&&n==="email"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsxs(le,{className:"max-w-md w-full border-slate-200 shadow-xl",children:[e.jsxs(Fe,{children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Dn,{className:"w-6 h-6 text-blue-600"})}),e.jsx(ze,{children:"Post a Job"}),e.jsx(As,{children:"Enter your email to get started. AGCAS members can post for free!"})]}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email Address"}),e.jsx(he,{id:"email",type:"email",placeholder:"your.email@example.com",value:a,onChange:Y=>i(Y.target.value),required:!0})]}),e.jsx(X,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):e.jsxs(e.Fragment,{children:["Continue",e.jsx(X_,{className:"w-4 h-4 ml-2"})]})})]})})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(le,{className:"border-slate-200 shadow-xl",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:u?"Post a Job (Free for Members)":"Post a Job"}),e.jsx(As,{children:u?"Fill in the details below to post your job listing":"Complete the form below. Payment will be processed after submission."})]}),e.jsx(ce,{children:e.jsxs("form",{onSubmit:J,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",placeholder:"e.g., Senior Careers Adviser",value:F.title,onChange:Y=>U({...F,title:Y.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"company_name",children:"Company/Organization *"}),e.jsx(he,{id:"company_name",placeholder:"e.g., University of Example",value:F.company_name,onChange:Y=>U({...F,company_name:Y.target.value}),disabled:u&&s,className:u&&s?"bg-slate-100 cursor-not-allowed":"",required:!0}),u&&s&&e.jsx("p",{className:"text-xs text-slate-500",children:"Your organization details are automatically filled from your member profile"})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Company Logo"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload your company logo (max 5MB, images only)"})]}),F.company_logo_url?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border border-slate-200",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:F.company_logo_url,alt:"Company logo",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Logo uploaded successfully"})}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:L,className:"text-red-600 hover:text-red-700 hover:bg-red-50 flex-shrink-0",children:e.jsx(ks,{className:"w-4 h-4"})})]}),e.jsxs(Z,{htmlFor:"logo-change",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-slate-300 rounded-md hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change Logo"})]}),e.jsx("input",{id:"logo-change",type:"file",accept:"image/*",onChange:I,className:"hidden",disabled:x})]})]}):e.jsxs(Z,{htmlFor:"logo-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:x?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-8 h-8 text-blue-600 animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ti,{className:"w-8 h-8 text-slate-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Upload Company Logo"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Click to browse or drag and drop"})]})]})}),e.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:I,className:"hidden",disabled:x})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"location",children:"City or Town *"}),e.jsx(he,{id:"location",placeholder:"e.g., London, UK or Remote",value:F.location,onChange:Y=>U({...F,location:Y.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"salary_range",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Salary Range (Optional - please state currency)"}),e.jsx(he,{id:"salary_range",placeholder:"e.g., 30,000 - 40,000",value:F.salary_range,onChange:Y=>U({...F,salary_range:Y.target.value})})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_type",children:"Job Type"}),e.jsxs(Ge,{value:F.job_type,onValueChange:Y=>U({...F,job_type:Y}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select job type"})}),e.jsx(We,{children:z.map(Y=>e.jsx(re,{value:Y,children:Y},Y))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"hours",children:"Hours"}),e.jsxs(Ge,{value:F.hours,onValueChange:Y=>U({...F,hours:Y}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select hours"})}),e.jsx(We,{children:H.map(Y=>e.jsx(re,{value:Y,children:Y},Y))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"closing_date",children:"Application Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:F.closing_date?F.closing_date.split("T")[0]:"",onChange:Y=>U({...F,closing_date:Y.target.value+"T23:59:59Z"}),min:new Date().toISOString().split("T")[0],required:!0}),e.jsx("p",{className:"text-xs text-slate-500",children:"When should applications close for this position?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Job Description *"}),e.jsx(Qt,{id:"description",placeholder:"Describe the role, responsibilities, requirements, etc.",rows:10,value:F.description,onChange:Y=>U({...F,description:Y.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload job packs, PDFs, or Word documents (max 10MB each)"})]}),e.jsxs(Z,{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:V,className:"hidden",disabled:h})]})]}),h&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),F.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:F.attachment_names.map((Y,K)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:Y})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(K),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ks,{className:"w-4 h-4"})})]},K))})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Application Method"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"How should candidates apply? *"}),e.jsxs(Ge,{value:F.application_method,onValueChange:Y=>U({...F,application_method:Y}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"email",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Email Application"]})}),e.jsx(re,{value:"url",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(tn,{className:"w-4 h-4 mr-2"}),"External Application URL"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"application_value",children:F.application_method==="email"?"Application Email *":"Application URL *"}),e.jsx(he,{id:"application_value",type:F.application_method==="email"?"email":"url",placeholder:F.application_method==="email"?"jobs@example.com":"https://example.com/apply",value:F.application_value,onChange:Y=>U({...F,application_value:Y.target.value}),required:!0})]})]}),!u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"contact_name",children:"Your Name *"}),e.jsx(he,{id:"contact_name",placeholder:"Your full name",value:F.contact_name,onChange:Y=>U({...F,contact_name:Y.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cY,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:"Terms and Conditions"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Aa,{id:"terms",checked:v,onCheckedChange:j,className:"mt-1"}),e.jsx("div",{className:"flex-1",children:e.jsxs(Z,{htmlFor:"terms",className:"text-sm text-slate-700 cursor-pointer",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>N(!0),className:"text-blue-600 hover:text-blue-700 underline font-medium",children:"Graduate Futures Job Advertising Terms and Conditions"})," ","*"]})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(X,{type:"button",variant:"outline",onClick:()=>window.location.href=Te("JobBoard"),className:"flex-1",children:"Cancel"}),e.jsx(X,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:n==="submitting"||h||x||!v,children:n==="submitting"?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):u?"Submit for Approval":"Continue to Payment"})]}),!u&&e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"You'll enter payment details in a secure modal window"})]})})]})}),e.jsx(Ct,{open:_,onOpenChange:P,children:e.jsxs(Nt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs(kt,{children:[e.jsxs(Et,{className:"flex items-center gap-2",children:[e.jsx(Ud,{className:"w-5 h-5 text-blue-600"}),"Enter Payment Details"]}),e.jsx(Pa,{children:"Complete your job posting by entering your card information below."})]}),C&&c_&&e.jsx(zC,{stripe:c_,options:{clientSecret:C},children:e.jsx(sye,{clientSecret:C,onSuccess:Q,onCancel:()=>{P(!1),R(null),k(null),r("form"),te.info("Payment cancelled. You can complete payment later from My Job Postings.")},amount:T})})]})}),e.jsx(Ct,{open:w,onOpenChange:N,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{className:"text-2xl",children:"Graduate Futures Job Advertising Terms and Conditions"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"text-sm text-slate-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Effective date:"})," January 2026"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last reviewed:"})," January 2026"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"1. Introduction"}),e.jsxs("div",{className:"text-slate-700 space-y-2",children:[e.jsx("p",{children:'These Terms apply to all job advertisements placed on the Graduate Futures website ("Job Board").'}),e.jsx("p",{children:"By submitting a vacancy, you agree to these Terms and the Privacy Policy."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"2. Eligibility and Content"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Graduate Futures will only publish job vacancies directly relevant to the higher education careers and employability sector."}),e.jsx("li",{children:"Graduate Futures reserves the right to edit or decline any advert that does not meet these criteria."}),e.jsx("li",{children:"The Client is responsible for ensuring that all job descriptions and information are true, accurate, and non-discriminatory."}),e.jsx("li",{children:"The Client agrees that all job advertisements submitted to the Graduate Futures Job Board comply with applicable UK employment legislation, including but not limited to the Equality Act 2010."}),e.jsx("li",{children:"All data submitted by the client must comply with the UK GDPR and Graduate Futures Privacy Policy."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"3. Submission and Publication"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Job adverts can be submitted online via the GRADUATE FUTURES Job Board."}),e.jsx("li",{children:"Publication is subject to GRADUATE FUTURES approval and full payment (where applicable)."}),e.jsx("li",{children:"GRADUATE FUTURES aims to publish approved adverts within 24 hours."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"4. Fees and Payment"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Non-member adverts are subject to the published rate (currently 515 + VAT)."}),e.jsx("li",{children:"Members may post vacancies in accordance with their membership benefits."}),e.jsx("li",{children:"Payment must be made by credit/debit card."}),e.jsx("li",{children:"All fees are payable in pounds sterling and exclusive of VAT."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"5. Duration and Removal"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Adverts will remain live on the website until the specified closing date, unless otherwise agreed."}),e.jsx("li",{children:"Graduate Futures reserves the right to remove adverts early if they breach these Terms or upon the Client's written request."}),e.jsx("li",{children:"Fees are non-refundable once an advert has gone live."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"6. Refunds"}),e.jsxs("div",{className:"text-slate-700 space-y-2",children:[e.jsx("p",{children:"Refunds may only be issued where an advert cannot be published due to Graduate Futures error or technical failure."}),e.jsxs("p",{children:["Requests should be made in writing to ",e.jsx("a",{href:"mailto:info@graduatefutures.org.uk",className:"text-blue-600 hover:underline",children:"info@graduatefutures.org.uk"}),"."]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"7. Liability"}),e.jsx("p",{className:"text-slate-700 mb-2",children:"Graduate Futures accepts no responsibility for:"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2 ml-2",children:[e.jsx("li",{children:"Errors in content supplied by the Client;"}),e.jsx("li",{children:"Failure of an advert to attract candidates; or"}),e.jsx("li",{children:"Any indirect or consequential loss."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"8. Contact"}),e.jsx("p",{className:"text-slate-700",children:e.jsx("a",{href:"mailto:info@graduatefutures.org.uk",className:"text-blue-600 hover:underline",children:"info@graduatefutures.org.uk"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"9. Right to amend"}),e.jsx("p",{className:"text-slate-700",children:"Graduate Futures reserves the right to amend these Terms at any time."})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(X,{onClick:()=>{j(!0),N(!1)},className:"bg-blue-600 hover:bg-blue-700",children:"I Agree to Terms"}),e.jsx(X,{variant:"outline",onClick:()=>N(!1),children:"Close"})]})]})})]})}function t9(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md w-full border-slate-200 shadow-xl",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pp,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Thank you for your payment. Your job posting has been submitted and is pending approval. You'll receive an email confirmation shortly, and another email once your posting is approved and live on the job board."}),e.jsx(X,{onClick:()=>window.location.href=Te("JobBoard"),className:"bg-blue-600 hover:bg-blue-700",children:"View Job Board"})]})})})}function s9({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState("50"),[i,l]=b.useState(["Full-time","Part-time","Contract","Temporary","Internship"]),[o,c]=b.useState(["Full-time","Part-time","Flexible"]),[d,u]=b.useState(""),[m,h]=b.useState(""),p=Jt(),x=b.useMemo(()=>t&&!n("page_JobBoardSettings"),[t,n]);b.useEffect(()=>{s!=null&&(x||(window.location.href=Te("Events")))},[s,x]);const{data:y}=me({queryKey:["job-board-price-settings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(k=>k.setting_key==="job_posting_price")}),{data:v}=me({queryKey:["job-type-settings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(k=>k.setting_key==="job_types")}),{data:j}=me({queryKey:["hours-settings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(k=>k.setting_key==="job_hours")});b.useEffect(()=>{if(y!=null&&y.setting_value&&a(y.setting_value),v!=null&&v.setting_value)try{const O=JSON.parse(v.setting_value);l(O)}catch(O){console.error("Failed to parse job types:",O)}if(j!=null&&j.setting_value)try{const O=JSON.parse(j.setting_value);c(O)}catch(O){console.error("Failed to parse hours:",O)}},[y,v,j]);const w=Ie({mutationFn:async O=>y?await ee.entities.SystemSettings.update(y.id,{setting_value:O}):await ee.entities.SystemSettings.create({setting_key:"job_posting_price",setting_value:O,description:"Price in GBP for non-member job postings"}),onSuccess:()=>{p.invalidateQueries({queryKey:["job-board-price-settings"]}),te.success("Job posting price updated successfully")},onError:O=>{te.error("Failed to update price: "+O.message)}}),N=Ie({mutationFn:async O=>{const k=JSON.stringify(O);return v?await ee.entities.SystemSettings.update(v.id,{setting_value:k}):await ee.entities.SystemSettings.create({setting_key:"job_types",setting_value:k,description:"Available job type options for job postings"})},onSuccess:()=>{p.invalidateQueries({queryKey:["job-type-settings"]}),te.success("Job types updated successfully")},onError:O=>{te.error("Failed to update job types: "+O.message)}}),_=Ie({mutationFn:async O=>{const k=JSON.stringify(O);return j?await ee.entities.SystemSettings.update(j.id,{setting_value:k}):await ee.entities.SystemSettings.create({setting_key:"job_hours",setting_value:k,description:"Available hours options for job postings"})},onSuccess:()=>{p.invalidateQueries({queryKey:["hours-settings"]}),te.success("Hours options updated successfully")},onError:O=>{te.error("Failed to update hours options: "+O.message)}}),P=()=>{const O=parseFloat(r);if(isNaN(O)||O<0){te.error("Please enter a valid price");return}w.mutate(r)},A=()=>{if(!d.trim())return;if(i.includes(d.trim())){te.error("This job type already exists");return}const O=[...i,d.trim()];l(O),u(""),N.mutate(O)},E=O=>{const k=i.filter(T=>T!==O);l(k),N.mutate(k)},C=()=>{if(!m.trim())return;if(o.includes(m.trim())){te.error("This hours option already exists");return}const O=[...o,m.trim()];c(O),h(""),_.mutate(O)},R=O=>{const k=o.filter(T=>T!==O);c(k),_.mutate(k)};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Job Board Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure pricing and dropdown options for the job board"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{className:"flex items-center gap-2",children:"Non-Member Job Posting Price"}),e.jsx(As,{children:"Set the price in GBP that non-members must pay to post a job listing"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"price",children:"Price (GBP)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-lg font-semibold text-slate-400",children:""}),e.jsx(he,{id:"price",type:"number",step:"0.01",min:"0",value:r,onChange:O=>a(O.target.value),className:"pl-10",placeholder:"50.00"})]}),e.jsx("p",{className:"text-sm text-slate-500",children:"AGCAS members can always post jobs for free"})]}),e.jsxs(X,{onClick:P,disabled:w.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),w.isPending?"Saving...":"Save Price"]})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"w-5 h-5"}),"Job Type Options"]}),e.jsx(As,{children:'Configure the available options for the "Job Type" dropdown'})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add new job type...",value:d,onChange:O=>u(O.target.value),onKeyPress:O=>O.key==="Enter"&&A()}),e.jsx(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2",children:i.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-slate-700",children:O}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>E(O),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ks,{className:"w-4 h-4"})})]},O))})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"w-5 h-5"}),"Hours Options"]}),e.jsx(As,{children:'Configure the available options for the "Hours" dropdown'})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add new hours option...",value:m,onChange:O=>h(O.target.value),onKeyPress:O=>O.key==="Enter"&&C()}),e.jsx(X,{onClick:C,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2",children:o.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-slate-700",children:O}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>R(O),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ks,{className:"w-4 h-4"})})]},O))})]})]})]})]})}):null}function n9({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(""),[i,l]=b.useState(null),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[m,h]=b.useState(null),[p,x]=b.useState("pending"),[y,v]=b.useState(!1),[j,w]=b.useState("all"),[N,_]=b.useState(1),[P,A]=b.useState(6),E=Jt(),C=b.useMemo(()=>t&&!n("page_JobPostingManagement"),[t,n]);b.useEffect(()=>{s!=null&&(C||(window.location.href=Te("Events")))},[s,C]);const{data:R,isLoading:O}=me({queryKey:["admin-job-postings"],queryFn:()=>ee.entities.JobPosting.list("-created_date"),initialData:[]}),{data:k}=me({queryKey:["organizations"],queryFn:()=>ee.entities.Organization.list(),initialData:[]}),{data:T}=me({queryKey:["job-type-settings"],queryFn:async()=>{const pe=(await ee.entities.SystemSettings.list()).find(je=>je.setting_key==="job_types");if(pe)try{return JSON.parse(pe.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:D}=me({queryKey:["hours-settings"],queryFn:async()=>{const pe=(await ee.entities.SystemSettings.list()).find(je=>je.setting_key==="job_hours");if(pe)try{return JSON.parse(pe.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),F=Ie({mutationFn:oe=>ee.entities.JobPosting.update(oe,{status:"active"}),onSuccess:()=>{E.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting approved and is now live"),c(!1)},onError:oe=>{te.error("Failed to approve job posting: "+oe.message)}}),U=Ie({mutationFn:oe=>ee.entities.JobPosting.update(oe,{status:"rejected"}),onSuccess:()=>{E.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting rejected"),c(!1)},onError:oe=>{te.error("Failed to reject job posting: "+oe.message)}}),z=Ie({mutationFn:({id:oe,data:pe})=>ee.entities.JobPosting.update(oe,pe),onSuccess:()=>{E.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting updated successfully"),u(!1),h(null)},onError:oe=>{te.error("Failed to update job posting: "+oe.message)}}),H=Ie({mutationFn:oe=>ee.entities.JobPosting.delete(oe),onSuccess:()=>{E.invalidateQueries({queryKey:["admin-job-postings"]}),te.success("Job posting deleted"),c(!1)},onError:oe=>{te.error("Failed to delete job posting: "+oe.message)}}),B=oe=>{const pe={pending_approval:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",expired:"bg-slate-100 text-slate-700",rejected:"bg-red-100 text-red-700",pending_payment:"bg-blue-100 text-blue-700"};return e.jsx(ye,{className:pe[oe],children:oe.replace(/_/g," ")})},$=b.useMemo(()=>R.filter(oe=>{var qe,$e;const pe=!r||((qe=oe.title)==null?void 0:qe.toLowerCase().includes(r.toLowerCase()))||(($e=oe.company_name)==null?void 0:$e.toLowerCase().includes(r.toLowerCase())),je=p==="pending"&&oe.status==="pending_approval"||p==="active"&&oe.status==="active"||p==="rejected"&&oe.status==="rejected"||p==="all",Ne=j==="all"||j==="non-member"&&!oe.is_member_post||oe.posted_by_organization_id===j;return pe&&je&&Ne}),[R,r,p,j]),I=Math.ceil($.length/P),L=(N-1)*P,V=L+P,q=$.slice(L,V),J=()=>{const oe=[];if(I<=5)for(let je=1;je<=I;je++)oe.push(je);else if(N<=3){for(let je=1;je<=4;je++)oe.push(je);I>5&&oe.push("..."),oe.push(I)}else if(N>=I-2){oe.push(1),I>5&&oe.push("...");for(let je=I-3;je<=I;je++)oe.push(je)}else{oe.push(1),oe.push("...");for(let je=N-1;je<=N+1;je++)oe.push(je);oe.push("..."),oe.push(I)}return oe};b.useEffect(()=>{_(1)},[r,p,j,P]);const Q=oe=>{_(oe),window.scrollTo({top:0,behavior:"smooth"})},Y=oe=>{h({...oe,attachment_urls:oe.attachment_urls||[],attachment_names:oe.attachment_names||[]}),u(!0)},K=async oe=>{const pe=Array.from(oe.target.files);if(pe.length===0)return;const je=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(pe.filter($e=>!je.includes($e.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(pe.filter($e=>$e.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}v(!0);try{const $e=pe.map(async Se=>({url:(await ee.integrations.Core.UploadFile({file:Se})).file_url,name:Se.name})),Ee=await Promise.all($e);h(Se=>({...Se,attachment_urls:[...Se.attachment_urls||[],...Ee.map(Ye=>Ye.url)],attachment_names:[...Se.attachment_names||[],...Ee.map(Ye=>Ye.name)]})),te.success(`${pe.length} ${pe.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{v(!1)}},ae=oe=>{h(pe=>({...pe,attachment_urls:pe.attachment_urls.filter((je,Ne)=>Ne!==oe),attachment_names:pe.attachment_names.filter((je,Ne)=>Ne!==oe)}))},se=()=>{if(!m.title||!m.company_name||!m.closing_date){te.error("Please fill in all required fields");return}z.mutate({id:m.id,data:m})},de=oe=>{if(!oe)return!1;const pe=lo(new Date(oe),new Date);return pe>=0&&pe<=7},ue=b.useMemo(()=>{const oe=[...new Set(R.filter(pe=>pe.posted_by_organization_id).map(pe=>pe.posted_by_organization_id))];return k.filter(pe=>oe.includes(pe.id))},[R,k]);return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):C?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Job Posting Management"}),e.jsx("p",{className:"text-slate-600",children:"Review and manage job postings on the board"})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by job title or company...",value:r,onChange:oe=>a(oe.target.value),className:"pl-10"})]}),e.jsxs(Ge,{value:j,onValueChange:w,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Filter by organization"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Organizations"}),e.jsx(re,{value:"non-member",children:"Non-Member Posts"}),ue.map(oe=>e.jsx(re,{value:oe.id,children:oe.name},oe.id))]})]})]})})}),e.jsxs(Sy,{value:p,onValueChange:x,children:[e.jsxs(ng,{className:"mb-6",children:[e.jsxs(_r,{value:"pending",children:["Pending (",R.filter(oe=>oe.status==="pending_approval").length,")"]}),e.jsxs(_r,{value:"active",children:["Active (",R.filter(oe=>oe.status==="active").length,")"]}),e.jsxs(_r,{value:"rejected",children:["Rejected (",R.filter(oe=>oe.status==="rejected").length,")"]}),e.jsx(_r,{value:"all",children:"All"})]}),e.jsx(nc,{value:p,children:O?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((oe,pe)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},pe))}):$.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Jobs Found"}),e.jsx("p",{className:"text-slate-600",children:"No job postings match your current filters"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 text-sm text-slate-600",children:["Showing ",L+1,"-",Math.min(V,$.length)," of ",$.length," job postings"]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:q.map(oe=>{var qe;const pe=oe.closing_date&&de(oe.closing_date),je=oe.closing_date?lo(new Date(oe.closing_date),new Date):null,Ne=oe.attachment_urls&&oe.attachment_urls.length>0;return e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all h-full ${pe?"border-l-4 border-l-amber-500":""}`,children:e.jsxs(ce,{className:"p-6",children:[pe&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",je===0?"today":`in ${je} ${je===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[oe.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:oe.company_logo_url,alt:oe.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(Fa,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 mb-2",children:oe.title}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:oe.company_name})]}),e.jsx("div",{className:"flex flex-col gap-2",children:oe.featured&&e.jsx(m2,{className:"w-5 h-5 text-amber-500 fill-amber-500"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[B(oe.status),oe.is_member_post?e.jsxs(ye,{className:"bg-purple-100 text-purple-700",children:["Member: ",oe.contact_email]}):e.jsx(ye,{className:"bg-slate-100 text-slate-700",children:"Non-Member"}),oe.payment_status==="paid"&&e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Paid"}),oe.job_type&&e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:oe.job_type}),oe.hours&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:oe.hours}),Ne&&e.jsxs(ye,{className:"bg-slate-100 text-slate-700 flex items-center gap-1",children:[e.jsx(ls,{className:"w-3 h-3"}),oe.attachment_urls.length]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:oe.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",Ot(new Date(oe.created_date),"MMM d, yyyy")]})]}),oe.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:pe?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",Ot(new Date(oe.closing_date),"MMM d, yyyy")]})]}),oe.salary_range&&e.jsxs("div",{className:"text-sm text-slate-600",children:[" ",oe.salary_range]})]}),e.jsxs("div",{className:"text-xs text-slate-500 mb-4 p-3 bg-slate-50 rounded",children:["Posted by ",oe.contact_name||"Unknown"," (",oe.contact_email,")"]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed mb-4",children:[(qe=oe.description)==null?void 0:qe.substring(0,150),"..."]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{l(oe),c(!0)},className:"flex-1",children:"View Details"}),oe.status==="active"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Y(oe),className:"text-blue-600 hover:text-blue-700",children:e.jsx(Ds,{className:"w-4 h-4"})})]})]})},oe.id)})}),$.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:P.toString(),onValueChange:oe=>{A(Number(oe)),_(1)},children:[e.jsx(Ve,{className:"w-20",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",N," of ",I]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Q(N-1),disabled:N===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),J().map((oe,pe)=>e.jsx(Be.Fragment,{children:oe==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:N===oe?"default":"outline",size:"sm",onClick:()=>Q(oe),className:N===oe?"bg-blue-600 hover:bg-blue-700":"",children:oe})},pe)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Q(N+1),disabled:N===I,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]})})]}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Review Job Posting"})}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:i.title}),e.jsx("p",{className:"text-slate-600 mb-4",children:i.company_name}),e.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[B(i.status),i.is_member_post?e.jsxs(ye,{className:"bg-purple-100 text-purple-700",children:["Member: ",i.contact_email]}):e.jsx(ye,{className:"bg-slate-100 text-slate-700",children:"Non-Member Post"}),i.payment_status==="paid"&&e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Paid"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"City or Town"}),e.jsx("p",{className:"font-medium",children:i.location})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Job Type"}),e.jsx("p",{className:"font-medium",children:i.job_type||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Hours"}),e.jsx("p",{className:"font-medium",children:i.hours||"Not specified"})]}),i.salary_range&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Salary"}),e.jsx("p",{className:"font-medium",children:i.salary_range})]}),i.closing_date&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Closing Date"}),e.jsx("p",{className:"font-medium",children:Ot(new Date(i.closing_date),"MMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Application Method"}),e.jsx("p",{className:"font-medium",children:i.application_method})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Application Contact"}),e.jsx("p",{className:"font-medium break-all",children:i.application_value})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Posted By"}),e.jsxs("p",{className:"font-medium",children:[i.contact_name," (",i.contact_email,")"]})]}),i.posted_by_organization_name&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Member Organization"}),e.jsx("p",{className:"font-medium",children:i.posted_by_organization_name})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Job Description"}),e.jsx("div",{className:"prose prose-slate max-w-none bg-slate-50 p-4 rounded-lg",children:e.jsx("div",{className:"whitespace-pre-wrap",children:i.description})})]}),i.attachment_urls&&i.attachment_urls.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-2 flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4"}),"Attached Documents (",i.attachment_urls.length,")"]}),e.jsx("div",{className:"space-y-2",children:i.attachment_names.map((oe,pe)=>e.jsxs("a",{href:i.attachment_urls[pe],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:oe})]},pe))})]})]}),e.jsxs($t,{children:[(i==null?void 0:i.status)==="pending_approval"&&e.jsxs(e.Fragment,{children:[e.jsxs(X,{variant:"outline",onClick:()=>U.mutate(i.id),disabled:U.isPending,className:"text-red-600 hover:text-red-700",children:[e.jsx(YG,{className:"w-4 h-4 mr-2"}),"Reject"]}),e.jsxs(X,{onClick:()=>F.mutate(i.id),disabled:F.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Pp,{className:"w-4 h-4 mr-2"}),"Approve & Publish"]})]}),(i==null?void 0:i.status)==="active"&&e.jsxs(e.Fragment,{children:[e.jsxs(X,{variant:"outline",onClick:()=>Y(i),className:"text-blue-600 hover:text-blue-700",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(X,{variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this job posting?")&&H.mutate(i.id)},disabled:H.isPending,className:"text-red-600 hover:text-red-700",children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Delete"]})]}),e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Close"})]})]})}),e.jsx(Ct,{open:d,onOpenChange:u,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Edit Job Posting"})}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",value:m.title,onChange:oe=>h({...m,title:oe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"company_name",children:"Company Name *"}),e.jsx(he,{id:"company_name",value:m.company_name,onChange:oe=>h({...m,company_name:oe.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"location",children:"Location *"}),e.jsx(he,{id:"location",value:m.location,onChange:oe=>h({...m,location:oe.target.value})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_type",children:"Job Type"}),e.jsxs("select",{id:"job_type",value:m.job_type||"",onChange:oe=>h({...m,job_type:oe.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),T.map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"hours",children:"Hours"}),e.jsxs("select",{id:"hours",value:m.hours||"",onChange:oe=>h({...m,hours:oe.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),D.map(oe=>e.jsx("option",{value:oe,children:oe},oe))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"salary_range",children:"Salary Range"}),e.jsx(he,{id:"salary_range",value:m.salary_range||"",onChange:oe=>h({...m,salary_range:oe.target.value}),placeholder:"e.g., 30,000 - 40,000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"closing_date",children:"Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:m.closing_date?m.closing_date.split("T")[0]:"",onChange:oe=>h({...m,closing_date:oe.target.value+"T23:59:59Z"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"company_logo_url",children:"Company Logo URL"}),e.jsx(he,{id:"company_logo_url",value:m.company_logo_url||"",onChange:oe=>h({...m,company_logo_url:oe.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Job Description *"}),e.jsx(Qt,{id:"description",value:m.description,onChange:oe=>h({...m,description:oe.target.value}),rows:10})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload or remove job-related documents"})]}),e.jsxs(Z,{htmlFor:"edit-file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"edit-file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:K,className:"hidden",disabled:y})]})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),m.attachment_urls&&m.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:m.attachment_names.map((oe,pe)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:oe})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>ae(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ks,{className:"w-4 h-4"})})]},pe))}),(!m.attachment_urls||m.attachment_urls.length===0)&&!y&&e.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No documents attached"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:m.featured||!1,onChange:oe=>h({...m,featured:oe.target.checked}),className:"rounded border-slate-300"}),e.jsx(Z,{htmlFor:"featured",children:"Featured Position"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{u(!1),h(null)},children:"Cancel"}),e.jsx(X,{onClick:se,disabled:z.isPending||y,className:"bg-blue-600 hover:bg-blue-700",children:z.isPending?"Saving...":"Save Changes"})]})]})})]})}):null}function r9({memberInfo:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState("all"),d=Jt(),{data:u,isLoading:m}=me({queryKey:["my-job-postings",t==null?void 0:t.email],queryFn:async()=>t!=null&&t.email?(await ee.entities.JobPosting.filter({contact_email:t.email})).sort((C,R)=>new Date(R.created_date)-new Date(C.created_date)):[],enabled:!!(t!=null&&t.email),initialData:[]}),{data:h}=me({queryKey:["job-type-settings"],queryFn:async()=>{const C=(await ee.entities.SystemSettings.list()).find(R=>R.setting_key==="job_types");if(C)try{return JSON.parse(C.setting_value)}catch{return["Full-time","Part-time","Contract","Temporary","Internship"]}return["Full-time","Part-time","Contract","Temporary","Internship"]},initialData:[]}),{data:p}=me({queryKey:["hours-settings"],queryFn:async()=>{const C=(await ee.entities.SystemSettings.list()).find(R=>R.setting_key==="job_hours");if(C)try{return JSON.parse(C.setting_value)}catch{return["Full-time","Part-time","Flexible"]}return["Full-time","Part-time","Flexible"]},initialData:[]}),x=Ie({mutationFn:({id:E,data:C})=>ee.entities.JobPosting.update(E,C),onSuccess:()=>{d.invalidateQueries({queryKey:["my-job-postings"]}),te.success("Job posting updated successfully"),n(!1),a(null)},onError:E=>{te.error("Failed to update job posting: "+E.message)}}),y=E=>{const C={pending_approval:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",expired:"bg-slate-100 text-slate-700",rejected:"bg-red-100 text-red-700",pending_payment:"bg-blue-100 text-blue-700"},R={pending_approval:"Pending Approval",active:"Active",expired:"Expired",rejected:"Rejected",pending_payment:"Pending Payment"};return e.jsx(ye,{className:C[E],children:R[E]})},v=E=>{a({...E,attachment_urls:E.attachment_urls||[],attachment_names:E.attachment_names||[]}),n(!0)},j=async E=>{const C=Array.from(E.target.files);if(C.length===0)return;const R=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];if(C.filter(T=>!R.includes(T.type)).length>0){te.error("Only PDF, Word, and Excel documents are allowed");return}if(C.filter(T=>T.size>10*1024*1024).length>0){te.error("Files must be smaller than 10MB");return}l(!0);try{const T=C.map(async F=>({url:(await ee.integrations.Core.UploadFile({file:F})).file_url,name:F.name})),D=await Promise.all(T);a(F=>({...F,attachment_urls:[...F.attachment_urls||[],...D.map(U=>U.url)],attachment_names:[...F.attachment_names||[],...D.map(U=>U.name)]})),te.success(`${C.length} ${C.length===1?"file":"files"} uploaded successfully`)}catch{te.error("Failed to upload files. Please try again.")}finally{l(!1)}},w=E=>{a(C=>({...C,attachment_urls:C.attachment_urls.filter((R,O)=>O!==E),attachment_names:C.attachment_names.filter((R,O)=>O!==E)}))},N=()=>{if(!r.title||!r.company_name||!r.closing_date){te.error("Please fill in all required fields");return}x.mutate({id:r.id,data:r})},_=E=>{if(!E)return!1;const C=lo(new Date(E),new Date);return C>=0&&C<=7},P=b.useMemo(()=>({pending:u.filter(E=>E.status==="pending_approval"),active:u.filter(E=>E.status==="active"),rejected:u.filter(E=>E.status==="rejected"),expired:u.filter(E=>E.status==="expired")}),[u]),A=b.useMemo(()=>o==="all"?u:P[o]||[],[u,P,o]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"My Job Postings"}),e.jsxs(X,{onClick:()=>window.location.href=Te("PostJob"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Post New Job"]})]}),e.jsx("p",{className:"text-slate-600",children:"Manage your organization's job postings"})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-8",children:[e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="pending"?"ring-2 ring-yellow-500 bg-yellow-50":""}`,onClick:()=>c("pending"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P.pending.length})]}),e.jsx(an,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="active"?"ring-2 ring-green-500 bg-green-50":""}`,onClick:()=>c("active"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:P.active.length})]}),e.jsx(Dn,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="rejected"?"ring-2 ring-red-500 bg-red-50":""}`,onClick:()=>c("rejected"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:P.rejected.length})]}),e.jsx(js,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="expired"?"ring-2 ring-slate-500 bg-slate-50":""}`,onClick:()=>c("expired"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Expired"}),e.jsx("p",{className:"text-2xl font-bold text-slate-600",children:P.expired.length})]}),e.jsx(an,{className:"w-8 h-8 text-slate-600"})]})})}),e.jsx(le,{className:`border-slate-200 cursor-pointer transition-all hover:shadow-lg ${o==="all"?"ring-2 ring-blue-500 bg-blue-50":""}`,onClick:()=>c("all"),children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"All Jobs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:u.length})]}),e.jsx(Dn,{className:"w-8 h-8 text-slate-900"})]})})})]}),m?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((E,C)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]})},C))}):u.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Job Postings Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"You haven't posted any jobs yet. Get started by posting your first job!"}),e.jsxs(X,{onClick:()=>window.location.href=Te("PostJob"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Post Your First Job"]})]})}):A.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Dn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",o==="pending"?"pending approval":o," job postings"]}),e.jsxs("p",{className:"text-slate-600",children:["There are no job postings in the ",o==="pending"?"pending approval":o," category."]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:A.map(E=>{var T;const C=E.closing_date&&_(E.closing_date),R=E.closing_date?lo(new Date(E.closing_date),new Date):null,O=E.attachment_urls&&E.attachment_urls.length>0,k=E.status==="pending_approval"||E.status==="active";return e.jsx(le,{className:`border-slate-200 hover:shadow-xl transition-all h-full ${C&&E.status==="active"?"border-l-4 border-l-amber-500":""}`,children:e.jsxs(ce,{className:"p-6",children:[C&&E.status==="active"&&e.jsxs("div",{className:"mb-4 -mx-6 -mt-6 px-6 py-2 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-200 flex items-center gap-2",children:[e.jsx(js,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-900",children:["Closing ",R===0?"today":`in ${R} ${R===1?"day":"days"}`]})]}),e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[E.company_logo_url?e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-slate-50 rounded-lg p-2 border border-slate-200",children:e.jsx("img",{src:E.company_logo_url,alt:E.company_name,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"w-16 h-16 flex-shrink-0 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx(Fa,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 mb-2",children:E.title}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:E.company_name})]}),E.featured&&e.jsx(m2,{className:"w-5 h-5 text-amber-500 fill-amber-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[y(E.status),E.job_type&&e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:E.job_type}),E.hours&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:E.hours}),O&&e.jsxs(ye,{className:"bg-slate-100 text-slate-700 flex items-center gap-1",children:[e.jsx(ls,{className:"w-3 h-3"}),E.attachment_urls.length]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Wr,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:E.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{children:["Posted ",Ot(new Date(E.created_date),"MMM d, yyyy")]})]}),E.closing_date&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(an,{className:"w-4 h-4 flex-shrink-0 text-slate-600"}),e.jsxs("span",{className:C&&E.status==="active"?"font-semibold text-amber-700":"text-slate-600",children:["Closes ",Ot(new Date(E.closing_date),"MMM d, yyyy")]})]})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed mb-4",children:[(T=E.description)==null?void 0:T.substring(0,150),"..."]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[E.status==="active"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.open(Te(`JobDetails?id=${E.id}`),"_blank"),className:"flex-1 text-blue-600 hover:text-blue-700",children:"View Live"}),k&&e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(E),className:`${E.status==="active"?"":"flex-1"} text-slate-600 hover:text-slate-700`,children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})},E.id)})}),e.jsx(Ct,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Edit Job Posting"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",children:"Job Title *"}),e.jsx(he,{id:"title",value:r.title,onChange:E=>a({...r,title:E.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"company_name",children:"Company Name *"}),e.jsx(he,{id:"company_name",value:r.company_name,onChange:E=>a({...r,company_name:E.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"location",children:"City or Town *"}),e.jsx(he,{id:"location",value:r.location,onChange:E=>a({...r,location:E.target.value})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_type",children:"Job Type"}),e.jsxs("select",{id:"job_type",value:r.job_type||"",onChange:E=>a({...r,job_type:E.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),h.map(E=>e.jsx("option",{value:E,children:E},E))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"hours",children:"Hours"}),e.jsxs("select",{id:"hours",value:r.hours||"",onChange:E=>a({...r,hours:E.target.value}),className:"w-full h-10 px-3 rounded-md border border-slate-200",children:[e.jsx("option",{value:"",children:"Select..."}),p.map(E=>e.jsx("option",{value:E,children:E},E))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"salary_range",children:"Salary Range"}),e.jsx(he,{id:"salary_range",value:r.salary_range||"",onChange:E=>a({...r,salary_range:E.target.value}),placeholder:"e.g., 30,000 - 40,000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"closing_date",children:"Closing Date *"}),e.jsx(he,{id:"closing_date",type:"date",value:r.closing_date?r.closing_date.split("T")[0]:"",onChange:E=>a({...r,closing_date:E.target.value+"T23:59:59Z"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"company_logo_url",children:"Company Logo URL"}),e.jsx(he,{id:"company_logo_url",value:r.company_logo_url||"",onChange:E=>a({...r,company_logo_url:E.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Job Description *"}),e.jsx(Qt,{id:"description",value:r.description,onChange:E=>a({...r,description:E.target.value}),rows:10})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Additional Documents"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Upload or remove job-related documents"})]}),e.jsxs(Z,{htmlFor:"edit-file-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]}),e.jsx("input",{id:"edit-file-upload",type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:j,className:"hidden",disabled:i})]})]}),i&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Uploading files..."})]}),r.attachment_urls&&r.attachment_urls.length>0&&e.jsx("div",{className:"space-y-2",children:r.attachment_names.map((E,C)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:E})]}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(ks,{className:"w-4 h-4"})})]},C))}),(!r.attachment_urls||r.attachment_urls.length===0)&&!i&&e.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No documents attached"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{n(!1),a(null)},children:"Cancel"}),e.jsx(X,{onClick:N,disabled:x.isPending||i,className:"bg-blue-600 hover:bg-blue-700",children:x.isPending?"Saving...":"Save Changes"})]})]})})]})})}const iR=[{value:"Home",label:"Home Page"},{value:"JobBoard",label:"Job Board"},{value:"JobDetails",label:"Job Details"},{value:"PostJob",label:"Post Job"},{value:"PublicEvents",label:"Public Events"},{value:"PublicAbout",label:"About Us"},{value:"PublicContact",label:"Contact Us"},{value:"PublicResources",label:"Public Resources"}];function a9({isAdmin:t,memberRole:s,isFeatureExcluded:n}){const[r,a]=b.useState(!1),[i,l]=b.useState(null),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[m,h]=b.useState(null),[p,x]=b.useState(null),y=Jt(),v=b.useMemo(()=>t&&!n("page_PageBannerManagement"),[t,n]);b.useEffect(()=>{s!=null&&(v||(window.location.href=Te("Events")))},[s,v]);const{data:j,isLoading:w}=me({queryKey:["page-banners"],queryFn:()=>ee.entities.PageBanner.list("-display_order"),initialData:[]}),N=Ie({mutationFn:T=>ee.entities.PageBanner.create(T),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),a(!1),l(null),te.success("Banner created successfully")},onError:T=>{te.error("Failed to create banner: "+T.message)}}),_=Ie({mutationFn:({id:T,bannerData:D})=>ee.entities.PageBanner.update(T,D),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),a(!1),l(null),te.success("Banner updated successfully")},onError:T=>{te.error("Failed to update banner: "+T.message)}}),P=Ie({mutationFn:T=>ee.entities.PageBanner.delete(T),onSuccess:()=>{y.invalidateQueries({queryKey:["page-banners"]}),u(!1),h(null),te.success("Banner deleted successfully")},onError:T=>{te.error("Failed to delete banner: "+T.message)}}),A=()=>{l({name:"",image_url:"",alt_text:"",size:"full-width",height:"medium",position:"center",associated_pages:[],display_order:0,is_active:!0}),a(!0)},E=T=>{l({...T}),a(!0)},C=T=>{h(T),u(!0)},R=async T=>{const D=T.target.files[0];if(!D)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(D.type)){te.error("Only image files (JPEG, PNG, GIF, WebP) are allowed");return}if(D.size>5*1024*1024){te.error("Image must be smaller than 5MB");return}c(!0);try{const U=await ee.integrations.Core.UploadFile({file:D});l(z=>({...z,image_url:U.file_url})),te.success("Image uploaded successfully")}catch(U){te.error("Failed to upload image: "+U.message)}finally{c(!1)}},O=()=>{if(!i.name.trim()){te.error("Banner name is required");return}if(!i.image_url){te.error("Please upload an image");return}if(i.associated_pages.length===0){te.error("Please select at least one page");return}i.id?_.mutate({id:i.id,bannerData:i}):N.mutate(i)},k=T=>{const D=i.associated_pages||[],F=D.includes(T)?D.filter(U=>U!==T):[...D,T];l({...i,associated_pages:F})};return s==null?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Page Banner Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage hero banners for public pages"})]}),e.jsxs(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Banner"]})]}),w?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(bt,{className:"w-8 h-8 animate-spin text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading banners..."})]}):j.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ti,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Banners Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first banner to enhance your public pages"}),e.jsxs(X,{onClick:A,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Banner"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(T=>e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"p-0",children:e.jsxs("div",{className:"relative h-40 bg-slate-100 rounded-t-lg overflow-hidden",children:[e.jsx("img",{src:T.image_url,alt:T.alt_text||T.name,className:"w-full h-full object-cover"}),!T.is_active&&e.jsx("div",{className:"absolute inset-0 bg-slate-900/50 flex items-center justify-center",children:e.jsx(ye,{className:"bg-slate-700 text-white",children:"Inactive"})})]})}),e.jsxs(ce,{className:"pt-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:T.name}),e.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[e.jsx(ye,{variant:"outline",className:"text-xs",children:T.size}),e.jsx(ye,{variant:"outline",className:"text-xs",children:T.height}),T.is_active&&e.jsx(ye,{className:"bg-green-100 text-green-700 text-xs",children:"Active"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase",children:"Appears On"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.associated_pages&&T.associated_pages.length>0?T.associated_pages.slice(0,3).map(D=>{var F;return e.jsx(ye,{className:"bg-blue-100 text-blue-700 text-xs",children:((F=iR.find(U=>U.value===D))==null?void 0:F.label)||D},D)}):e.jsx("span",{className:"text-xs text-slate-500",children:"No pages selected"}),T.associated_pages&&T.associated_pages.length>3&&e.jsxs(ye,{className:"bg-slate-100 text-slate-700 text-xs",children:["+",T.associated_pages.length-3," more"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>x(T),className:"flex-1",children:[e.jsx(kr,{className:"w-3 h-3 mr-1"}),"Preview"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>E(T),children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>C(T),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},T.id))}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:i!=null&&i.id?"Edit Banner":"Create New Banner"})}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"banner-name",children:"Banner Name *"}),e.jsx(he,{id:"banner-name",value:i.name,onChange:T=>l({...i,name:T.target.value}),placeholder:"e.g., Homepage Hero Banner"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"alt-text",children:"Alternative Text"}),e.jsx(he,{id:"alt-text",value:i.alt_text||"",onChange:T=>l({...i,alt_text:T.target.value}),placeholder:"Describe the image for accessibility"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for screen readers and SEO"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Banner Image *"}),i.image_url?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative h-40 bg-slate-100 rounded-lg overflow-hidden border border-slate-200",children:e.jsx("img",{src:i.image_url,alt:"Preview",className:"w-full h-full object-cover"})}),e.jsxs(Z,{htmlFor:"change-image",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border-2 border-dashed border-slate-300 rounded-md hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Change Image"})]}),e.jsx("input",{id:"change-image",type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:o})]})]}):e.jsxs(Z,{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-slate-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors",children:o?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-8 h-8 text-blue-600 animate-spin"}),e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ti,{className:"w-8 h-8 text-slate-400"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900 block",children:"Upload Banner Image"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Click to browse (max 5MB)"})]})]})}),e.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:o})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"size",children:"Banner Width"}),e.jsxs(Ge,{value:i.size,onValueChange:T=>l({...i,size:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"full-width",children:"Full Width"}),e.jsx(re,{value:"contained",children:"Contained"}),e.jsx(re,{value:"wide",children:"Wide"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"height",children:"Banner Height"}),e.jsxs(Ge,{value:i.height,onValueChange:T=>l({...i,height:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"small",children:"Small"}),e.jsx(re,{value:"medium",children:"Medium"}),e.jsx(re,{value:"large",children:"Large"}),e.jsx(re,{value:"auto",children:"Auto"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"position",children:"Image Position"}),e.jsxs(Ge,{value:i.position,onValueChange:T=>l({...i,position:T}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"top",children:"Top"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"bottom",children:"Bottom"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Vertical positioning of the image within the banner container"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"display-order",children:"Display Order"}),e.jsx(he,{id:"display-order",type:"number",value:i.display_order,onChange:T=>l({...i,display_order:parseInt(T.target.value)||0})}),e.jsx("p",{className:"text-xs text-slate-500",children:"Lower numbers appear first if multiple banners on same page"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{children:"Show Banner On (Select Pages) *"}),e.jsx("div",{className:"border border-slate-200 rounded-lg p-4 space-y-2 max-h-60 overflow-y-auto",children:iR.map(T=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-slate-50 rounded transition-colors",children:[e.jsx(fs,{id:`page-${T.value}`,checked:(i.associated_pages||[]).includes(T.value),onCheckedChange:()=>k(T.value)}),e.jsx(Z,{htmlFor:`page-${T.value}`,className:"flex-1 cursor-pointer",children:T.label})]},T.value))})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is-active",checked:i.is_active,onCheckedChange:T=>l({...i,is_active:T})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"is-active",className:"cursor-pointer",children:"Active"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Inactive banners won't be displayed on any pages"})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),l(null)},children:"Cancel"}),e.jsx(X,{onClick:O,disabled:N.isPending||_.isPending||o,className:"bg-blue-600 hover:bg-blue-700",children:i!=null&&i.id?"Update Banner":"Create Banner"})]})]})}),e.jsx(Ct,{open:!!p,onOpenChange:()=>x(null),children:e.jsxs(Nt,{className:"max-w-5xl",children:[e.jsx(kt,{children:e.jsxs(Et,{children:["Banner Preview: ",p==null?void 0:p.name]})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:p.image_url,alt:p.alt_text||p.name,className:"w-full h-auto"})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Width:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Height:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.height})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Position:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.position})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),e.jsx("span",{className:"ml-2 text-slate-600",children:p.is_active?"Active":"Inactive"})]})]})]})]})}),e.jsx(Ct,{open:d,onOpenChange:u,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Banner"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',m==null?void 0:m.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This banner will be removed from all associated pages."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{u(!1),h(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>m&&P.mutate(m.id),disabled:P.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Banner"})]})]})})]})}):null}function i9({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState({title:"",slug:"",description:"",layout_type:"public",status:"draft"}),m=i2(),h=Jt(),{data:p,isLoading:x}=me({queryKey:["iedit-pages"],queryFn:()=>ee.entities.IEditPage.list("-updated_date"),initialData:[]}),y=Ie({mutationFn:E=>ee.entities.IEditPage.create(E),onSuccess:E=>{h.invalidateQueries({queryKey:["iedit-pages"]}),a(!1),u({title:"",slug:"",description:"",layout_type:"public",status:"draft"}),te.success("Page created successfully"),m(Te("IEditPageEditor")+`?pageId=${E.id}`)},onError:E=>{te.error("Failed to create page: "+E.message)}}),v=Ie({mutationFn:async E=>{const C=await ee.entities.IEditPageElement.filter({page_id:E});for(const R of C)await ee.entities.IEditPageElement.delete(R.id);await ee.entities.IEditPage.delete(E)},onSuccess:()=>{h.invalidateQueries({queryKey:["iedit-pages"]}),l(!1),c(null),te.success("Page deleted successfully")},onError:E=>{te.error("Failed to delete page: "+E.message)}}),j=Ie({mutationFn:async E=>{await ee.integrations.Core.SendEmail({to:"developers@isaasi.co.uk",subject:`Top-Level URL Request: /${E.slug}`,body:`
A request has been made to convert the following page to a top-level URL:

Page Title: ${E.title}
Slug: ${E.slug}
Layout Type: ${E.layout_type}
Status: ${E.status}
Page ID: ${E.id}

Current URL: ${window.location.origin}${Te("content")}?page=${E.slug}
Requested URL: ${window.location.origin}/${E.slug}

Please create a physical page file for this slug to enable top-level routing.
        `})},onSuccess:()=>{te.success("Request sent to developers")},onError:E=>{te.error("Failed to send request: "+E.message)}}),w=()=>{if(!d.title.trim()||!d.slug.trim()){te.error("Title and slug are required");return}if(!/^[a-z0-9-]+$/.test(d.slug)){te.error("Slug must be lowercase with hyphens only (no spaces or special characters)");return}y.mutate(d)},N=()=>{o&&v.mutate(o.id)},_=p.filter(E=>{var C,R,O;return((C=E.title)==null?void 0:C.toLowerCase().includes(s.toLowerCase()))||((R=E.slug)==null?void 0:R.toLowerCase().includes(s.toLowerCase()))||((O=E.description)==null?void 0:O.toLowerCase().includes(s.toLowerCase()))}),P=E=>{const C={draft:"bg-slate-100 text-slate-700",published:"bg-green-100 text-green-700",archived:"bg-amber-100 text-amber-700"};return C[E]||C.draft},A=E=>Te("content")+`?page=${E}`;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Page Editor"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage custom pages with drag-and-drop elements"})]}),e.jsxs(X,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"New Page"]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search pages by title, slug, or description...",value:s,onChange:E=>n(E.target.value),className:"pl-10"})]})}),x?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((E,C)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},C))}):_.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Ap,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s?"No Pages Found":"No Pages Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:s?"Try adjusting your search query":"Create your first custom page to get started"}),!s&&e.jsxs(X,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Page"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(E=>e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsxs(Fe,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(ze,{className:"text-lg",children:E.title}),e.jsx(ye,{className:P(E.status),children:E.status})]}),E.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:E.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Slug:"}),e.jsxs("span",{className:"ml-2 font-mono text-slate-700",children:["/",E.slug]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Layout:"}),e.jsx("span",{className:"ml-2 text-slate-700 capitalize",children:E.layout_type})]}),E.updated_date&&e.jsxs("div",{className:"text-xs text-slate-500",children:["Updated ",Ot(new Date(E.updated_date),"MMM d, yyyy")]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>m(Te("IEditPageEditor")+`?pageId=${E.id}`),className:"flex-1",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),E.status==="published"&&e.jsx(X,{variant:"outline",size:"sm",onClick:()=>window.open(A(E.slug),"_blank"),title:"View Published Page",children:e.jsx(tn,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{c(E),l(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>j.mutate(E),disabled:j.isPending,className:"w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[e.jsx(t1,{className:"w-3 h-3 mr-1"}),"Request Top-Level URL (/",E.slug,")"]})]})]},E.id))}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Create New Page"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"title",children:"Page Title *"}),e.jsx(he,{id:"title",value:d.title,onChange:E=>{const C=E.target.value;u({...d,title:C,slug:d.slug===""?C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""):d.slug})},placeholder:"e.g., About Our Organization"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(he,{id:"slug",value:d.slug,onChange:E=>u({...d,slug:E.target.value.toLowerCase()}),placeholder:"e.g., about-our-organization"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lowercase letters, numbers, and hyphens only"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Qt,{id:"description",value:d.description,onChange:E=>u({...d,description:E.target.value}),placeholder:"Brief description for admin reference...",rows:3})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"layout_type",children:"Layout Type"}),e.jsxs(Ge,{value:d.layout_type,onValueChange:E=>u({...d,layout_type:E}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"public",children:"Public (With header/footer)"}),e.jsx(re,{value:"member",children:"Member Portal (With sidebar)"})]})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:w,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Create & Edit"})]})]})}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Page"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:o==null?void 0:o.title}),"? This will also delete all elements on this page. This action cannot be undone."]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:N,disabled:v.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Page"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function l9({isAdmin:t}){var N;const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(null),d=Jt(),{data:u,isLoading:m}=me({queryKey:["iedit-templates"],queryFn:()=>ee.entities.IEditElementTemplate.list("display_order"),initialData:[]}),h=Ie({mutationFn:_=>ee.entities.IEditElementTemplate.create(_),onSuccess:()=>{d.invalidateQueries({queryKey:["iedit-templates"]}),n(!1),a(null),te.success("Template created successfully")},onError:_=>{te.error("Failed to create template: "+_.message)}}),p=Ie({mutationFn:({id:_,templateData:P})=>ee.entities.IEditElementTemplate.update(_,P),onSuccess:()=>{d.invalidateQueries({queryKey:["iedit-templates"]}),n(!1),a(null),te.success("Template updated successfully")},onError:_=>{te.error("Failed to update template: "+_.message)}}),x=Ie({mutationFn:_=>ee.entities.IEditElementTemplate.delete(_),onSuccess:()=>{d.invalidateQueries({queryKey:["iedit-templates"]}),l(!1),c(null),te.success("Template deleted successfully")},onError:_=>{te.error("Failed to delete template: "+_.message)}}),y=()=>{a({name:"",element_type:"",description:"",icon:"Square",category:"content",default_content:{},available_variants:["default"],content_schema:{},is_active:!0,display_order:u.length}),n(!0)},v=_=>{a({..._}),n(!0)},j=()=>{if(!r.name.trim()||!r.element_type.trim()){te.error("Name and element type are required");return}r.id?p.mutate({id:r.id,templateData:r}):h.mutate(r)},w=_=>{const P={layout:"bg-purple-100 text-purple-700",content:"bg-blue-100 text-blue-700",media:"bg-green-100 text-green-700",interactive:"bg-amber-100 text-amber-700"};return P[_]||P.content};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Element Templates"}),e.jsx("p",{className:"text-slate-600",children:"Manage reusable element templates for the page editor"})]}),e.jsxs(X,{onClick:y,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"New Template"]})]}),m?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((_,P)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},P))}):u.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(PY,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Templates Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first element template to start building custom pages"}),e.jsxs(X,{onClick:y,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Template"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(_=>{var P;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsxs(Fe,{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(ze,{className:"text-lg",children:_.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ye,{className:w(_.category),children:_.category}),!_.is_active&&e.jsx(ye,{className:"bg-slate-100 text-slate-700",children:"Inactive"})]})]}),_.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:_.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Type:"}),e.jsx("span",{className:"ml-2 font-mono text-slate-700",children:_.element_type})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Variants:"}),e.jsx("span",{className:"ml-2 text-slate-700",children:((P=_.available_variants)==null?void 0:P.join(", "))||"default"})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>v(_),className:"flex-1",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{c(_),l(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},_.id)})}),e.jsx(Ct,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:r!=null&&r.id?"Edit Template":"Create New Template"})}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"name",children:"Template Name *"}),e.jsx(he,{id:"name",value:r.name,onChange:_=>a({...r,name:_.target.value}),placeholder:"e.g., Hero Banner"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"element_type",children:"Element Type *"}),e.jsx(he,{id:"element_type",value:r.element_type,onChange:_=>a({...r,element_type:_.target.value}),placeholder:"e.g., hero_banner (lowercase, underscores)"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Unique identifier for this element type"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:r.description||"",onChange:_=>a({...r,description:_.target.value}),placeholder:"What does this element do?",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"icon",children:"Icon Name"}),e.jsx(he,{id:"icon",value:r.icon||"Square",onChange:_=>a({...r,icon:_.target.value}),placeholder:"Lucide icon name"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"category",children:"Category"}),e.jsxs(Ge,{value:r.category,onValueChange:_=>a({...r,category:_}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"layout",children:"Layout"}),e.jsx(re,{value:"content",children:"Content"}),e.jsx(re,{value:"media",children:"Media"}),e.jsx(re,{value:"interactive",children:"Interactive"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"variants",children:"Available Variants (comma-separated)"}),e.jsx(he,{id:"variants",value:((N=r.available_variants)==null?void 0:N.join(", "))||"default",onChange:_=>a({...r,available_variants:_.target.value.split(",").map(P=>P.trim()).filter(Boolean)}),placeholder:"default, dark, accent"})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:r.is_active,onChange:_=>a({...r,is_active:_.target.checked}),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (available in element palette)"})]}),e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-900",children:[e.jsx("strong",{children:"Note:"})," After creating a template, you'll need to implement the corresponding React component in ",e.jsx("code",{className:"bg-white px-1 rounded",children:"components/iedit/elements/"})," to render this element type."]})})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsxs(X,{onClick:j,disabled:h.isPending||p.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[r!=null&&r.id?"Update":"Create"," Template"]})]})]})}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Template"})}),e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:o==null?void 0:o.name}),"? This action cannot be undone."]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>o&&x.mutate(o.id),disabled:x.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function Lr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nye=typeof Symbol=="function"&&Symbol.observable||"@@observable",lR=nye,oR=()=>Math.random().toString(36).substring(7).split("").join("."),rye={INIT:`@@redux/INIT${oR()}`,REPLACE:`@@redux/REPLACE${oR()}`},cR=rye;function aye(t){if(typeof t!="object"||t===null)return!1;let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s||Object.getPrototypeOf(t)===null}function o9(t,s,n){if(typeof t!="function")throw new Error(Lr(2));if(typeof s=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lr(0));if(typeof s=="function"&&typeof n>"u"&&(n=s,s=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lr(1));return n(o9)(t,s)}let r=t,a=s,i=new Map,l=i,o=0,c=!1;function d(){l===i&&(l=new Map,i.forEach((v,j)=>{l.set(j,v)}))}function u(){if(c)throw new Error(Lr(3));return a}function m(v){if(typeof v!="function")throw new Error(Lr(4));if(c)throw new Error(Lr(5));let j=!0;d();const w=o++;return l.set(w,v),function(){if(j){if(c)throw new Error(Lr(6));j=!1,d(),l.delete(w),i=null}}}function h(v){if(!aye(v))throw new Error(Lr(7));if(typeof v.type>"u")throw new Error(Lr(8));if(typeof v.type!="string")throw new Error(Lr(17));if(c)throw new Error(Lr(9));try{c=!0,a=r(a,v)}finally{c=!1}return(i=l).forEach(w=>{w()}),v}function p(v){if(typeof v!="function")throw new Error(Lr(10));r=v,h({type:cR.REPLACE})}function x(){const v=m;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Lr(11));function w(){const _=j;_.next&&_.next(u())}return w(),{unsubscribe:v(w)}},[lR](){return this}}}return h({type:cR.INIT}),{dispatch:h,subscribe:m,getState:u,replaceReducer:p,[lR]:x}}function dR(t,s){return function(...n){return s(t.apply(this,n))}}function uR(t,s){if(typeof t=="function")return dR(t,s);if(typeof t!="object"||t===null)throw new Error(Lr(16));const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=dR(a,s))}return n}function c9(...t){return t.length===0?s=>s:t.length===1?t[0]:t.reduce((s,n)=>(...r)=>s(n(...r)))}function iye(...t){return s=>(n,r)=>{const a=s(n,r);let i=()=>{throw new Error(Lr(15))};const l={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},o=t.map(c=>c(l));return i=c9(...o)(a.dispatch),{...a,dispatch:i}}}var d_={exports:{}},u_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function lye(){if(hR)return u_;hR=1;var t=_p();function s(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:s,r=t.useSyncExternalStore,a=t.useRef,i=t.useEffect,l=t.useMemo,o=t.useDebugValue;return u_.useSyncExternalStoreWithSelector=function(c,d,u,m,h){var p=a(null);if(p.current===null){var x={hasValue:!1,value:null};p.current=x}else x=p.current;p=l(function(){function v(P){if(!j){if(j=!0,w=P,P=m(P),h!==void 0&&x.hasValue){var A=x.value;if(h(A,P))return N=A}return N=P}if(A=N,n(w,P))return A;var E=m(P);return h!==void 0&&h(A,E)?(w=P,A):(w=P,N=E)}var j=!1,w,N,_=u===void 0?null:u;return[function(){return v(d())},_===null?void 0:function(){return v(_())}]},[d,u,m,h]);var y=r(c,p[0],p[1]);return i(function(){x.hasValue=!0,x.value=y},[y]),o(y),y},u_}var mR;function oye(){return mR||(mR=1,d_.exports=lye()),d_.exports}oye();var cye=b.version.startsWith("19"),dye=Symbol.for(cye?"react.transitional.element":"react.element"),uye=Symbol.for("react.portal"),hye=Symbol.for("react.fragment"),mye=Symbol.for("react.strict_mode"),fye=Symbol.for("react.profiler"),pye=Symbol.for("react.consumer"),gye=Symbol.for("react.context"),d9=Symbol.for("react.forward_ref"),xye=Symbol.for("react.suspense"),vye=Symbol.for("react.suspense_list"),mk=Symbol.for("react.memo"),yye=Symbol.for("react.lazy"),bye=d9,jye=mk;function wye(t){if(typeof t=="object"&&t!==null){const{$$typeof:s}=t;switch(s){case dye:switch(t=t.type,t){case hye:case fye:case mye:case xye:case vye:return t;default:switch(t=t&&t.$$typeof,t){case gye:case d9:case yye:case mk:return t;case pye:return t;default:return s}}case uye:return s}}}function Nye(t){return wye(t)===mk}function _ye(t,s,n,r,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:l}){let o=!1,c,d,u,m,h;function p(w,N){return c=w,d=N,u=t(c,d),m=s(r,d),h=n(u,m,d),o=!0,h}function x(){return u=t(c,d),s.dependsOnOwnProps&&(m=s(r,d)),h=n(u,m,d),h}function y(){return t.dependsOnOwnProps&&(u=t(c,d)),s.dependsOnOwnProps&&(m=s(r,d)),h=n(u,m,d),h}function v(){const w=t(c,d),N=!l(w,u);return u=w,N&&(h=n(u,m,d)),h}function j(w,N){const _=!i(N,d),P=!a(w,c,N,d);return c=w,d=N,_&&P?x():_?y():P?v():h}return function(N,_){return o?j(N,_):p(N,_)}}function Sye(t,{initMapStateToProps:s,initMapDispatchToProps:n,initMergeProps:r,...a}){const i=s(t,a),l=n(t,a),o=r(t,a);return _ye(i,l,o,t,a)}function Cye(t,s){const n={};for(const r in t){const a=t[r];typeof a=="function"&&(n[r]=(...i)=>s(a(...i)))}return n}function kS(t){return function(n){const r=t(n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function fR(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function u9(t,s){return function(r,{displayName:a}){const i=function(o,c){return i.dependsOnOwnProps?i.mapToProps(o,c):i.mapToProps(o,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,c){i.mapToProps=t,i.dependsOnOwnProps=fR(t);let d=i(o,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=fR(d),d=i(o,c)),d},i}}function fk(t,s){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${s} argument when connecting component ${r.wrappedComponentName}.`)}}function kye(t){return t&&typeof t=="object"?kS(s=>Cye(t,s)):t?typeof t=="function"?u9(t):fk(t,"mapDispatchToProps"):kS(s=>({dispatch:s}))}function Eye(t){return t?typeof t=="function"?u9(t):fk(t,"mapStateToProps"):kS(()=>({}))}function Tye(t,s,n){return{...n,...t,...s}}function Pye(t){return function(n,{displayName:r,areMergedPropsEqual:a}){let i=!1,l;return function(c,d,u){const m=t(c,d,u);return i?a(m,l)||(l=m):(i=!0,l=m),l}}}function Aye(t){return t?typeof t=="function"?Pye(t):fk(t,"mergeProps"):()=>Tye}function Oye(t){t()}function Mye(){let t=null,s=null;return{clear(){t=null,s=null},notify(){Oye(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=s={callback:n,next:null,prev:s};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:s=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var pR={notify(){},get:()=>[]};function h9(t,s){let n,r=pR,a=0,i=!1;function l(y){u();const v=r.subscribe(y);let j=!1;return()=>{j||(j=!0,v(),m())}}function o(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,n||(n=s?s.addNestedSub(c):t.subscribe(c),r=Mye())}function m(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=pR)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,m())}const x={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return x}var Dye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rye=Dye(),Fye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Iye=Fye(),Lye=()=>Rye||Iye?b.useLayoutEffect:b.useEffect,rv=Lye();function gR(t,s){return t===s?t!==0||s!==0||1/t===1/s:t!==t&&s!==s}function h_(t,s){if(gR(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;const n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(s,n[a])||!gR(t[n[a]],s[n[a]]))return!1;return!0}var Bye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qye={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$ye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Uye={[bye]:$ye,[jye]:m9};function xR(t){return Nye(t)?m9:Uye[t.$$typeof]||Bye}var zye=Object.defineProperty,Vye=Object.getOwnPropertyNames,vR=Object.getOwnPropertySymbols,Wye=Object.getOwnPropertyDescriptor,Hye=Object.getPrototypeOf,yR=Object.prototype;function ES(t,s){if(typeof s!="string"){if(yR){const i=Hye(s);i&&i!==yR&&ES(t,i)}let n=Vye(s);vR&&(n=n.concat(vR(s)));const r=xR(t),a=xR(s);for(let i=0;i<n.length;++i){const l=n[i];if(!qye[l]&&!(a&&a[l])&&!(r&&r[l])){const o=Wye(s,l);try{zye(t,l,o)}catch{}}}}return t}var m_=Symbol.for("react-redux-context"),f_=typeof globalThis<"u"?globalThis:{};function Kye(){if(!b.createContext)return{};const t=f_[m_]??(f_[m_]=new Map);let s=t.get(b.createContext);return s||(s=b.createContext(null),t.set(b.createContext,s)),s}var f9=Kye(),Gye=[null,null];function Yye(t,s,n){rv(()=>t(...s),n)}function Qye(t,s,n,r,a,i){t.current=r,n.current=!1,a.current&&(a.current=null,i())}function Jye(t,s,n,r,a,i,l,o,c,d,u){if(!t)return()=>{};let m=!1,h=null;const p=()=>{if(m||!o.current)return;const y=s.getState();let v,j;try{v=r(y,a.current)}catch(w){j=w,h=w}j||(h=null),v===i.current?l.current||d():(i.current=v,c.current=v,l.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function Xye(t,s){return t===s}function Zye(t,s,n,{pure:r,areStatesEqual:a=Xye,areOwnPropsEqual:i=h_,areStatePropsEqual:l=h_,areMergedPropsEqual:o=h_,forwardRef:c=!1,context:d=f9}={}){const u=d,m=Eye(t),h=kye(s),p=Aye(n),x=!!t;return v=>{const j=v.displayName||v.name||"Component",w=`Connect(${j})`,N={shouldHandleStateChanges:x,displayName:w,wrappedComponentName:j,WrappedComponent:v,initMapStateToProps:m,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:a,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:o};function _(E){const[C,R,O]=b.useMemo(()=>{const{reactReduxForwardedRef:oe,...pe}=E;return[E.context,oe,pe]},[E]),k=b.useMemo(()=>{let oe=u;return C!=null&&C.Consumer,oe},[C,u]),T=b.useContext(k),D=!!E.store&&!!E.store.getState&&!!E.store.dispatch,F=!!T&&!!T.store,U=D?E.store:T.store,z=F?T.getServerState:U.getState,H=b.useMemo(()=>Sye(U.dispatch,N),[U]),[B,$]=b.useMemo(()=>{if(!x)return Gye;const oe=h9(U,D?void 0:T.subscription),pe=oe.notifyNestedSubs.bind(oe);return[oe,pe]},[U,D,T]),I=b.useMemo(()=>D?T:{...T,subscription:B},[D,T,B]),L=b.useRef(void 0),V=b.useRef(O),q=b.useRef(void 0),J=b.useRef(!1),Q=b.useRef(!1),Y=b.useRef(void 0);rv(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const K=b.useMemo(()=>()=>q.current&&O===V.current?q.current:H(U.getState(),O),[U,O]),ae=b.useMemo(()=>pe=>B?Jye(x,U,B,H,V,L,J,Q,q,$,pe):()=>{},[B]);Yye(Qye,[V,L,J,O,q,$]);let se;try{se=b.useSyncExternalStore(ae,K,z?()=>H(z(),O):K)}catch(oe){throw Y.current&&(oe.message+=`
The error may be correlated with this previous error:
${Y.current.stack}

`),oe}rv(()=>{Y.current=void 0,q.current=void 0,L.current=se});const de=b.useMemo(()=>b.createElement(v,{...se,ref:R}),[R,v,se]);return b.useMemo(()=>x?b.createElement(k.Provider,{value:I},de):de,[k,de,I])}const A=b.memo(_);if(A.WrappedComponent=v,A.displayName=_.displayName=w,c){const C=b.forwardRef(function(O,k){return b.createElement(A,{...O,reactReduxForwardedRef:k})});return C.displayName=w,C.WrappedComponent=v,ES(C,v)}return ES(A,v)}}var p9=Zye;function ebe(t){const{children:s,context:n,serverState:r,store:a}=t,i=b.useMemo(()=>{const c=h9(a);return{store:a,subscription:c,getServerState:r?()=>r:void 0}},[a,r]),l=b.useMemo(()=>a.getState(),[a]);rv(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=n||f9;return b.createElement(o.Provider,{value:i},s)}var tbe=ebe,sbe="Invariant failed";function nbe(t,s){throw new Error(sbe)}var Ai=function(s){var n=s.top,r=s.right,a=s.bottom,i=s.left,l=r-i,o=a-n,c={top:n,right:r,bottom:a,left:i,width:l,height:o,x:i,y:n,center:{x:(r+i)/2,y:(a+n)/2}};return c},pk=function(s,n){return{top:s.top-n.top,left:s.left-n.left,bottom:s.bottom+n.bottom,right:s.right+n.right}},bR=function(s,n){return{top:s.top+n.top,left:s.left+n.left,bottom:s.bottom-n.bottom,right:s.right-n.right}},rbe=function(s,n){return{top:s.top+n.y,left:s.left+n.x,bottom:s.bottom+n.y,right:s.right+n.x}},p_={top:0,right:0,bottom:0,left:0},gk=function(s){var n=s.borderBox,r=s.margin,a=r===void 0?p_:r,i=s.border,l=i===void 0?p_:i,o=s.padding,c=o===void 0?p_:o,d=Ai(pk(n,a)),u=Ai(bR(n,l)),m=Ai(bR(u,c));return{marginBox:d,borderBox:Ai(n),paddingBox:u,contentBox:m,margin:a,border:l,padding:c}},Ya=function(s){var n=s.slice(0,-2),r=s.slice(-2);if(r!=="px")return 0;var a=Number(n);return isNaN(a)&&nbe(),a},abe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},av=function(s,n){var r=s.borderBox,a=s.border,i=s.margin,l=s.padding,o=rbe(r,n);return gk({borderBox:o,border:a,margin:i,padding:l})},iv=function(s,n){return n===void 0&&(n=abe()),av(s,n)},g9=function(s,n){var r={top:Ya(n.marginTop),right:Ya(n.marginRight),bottom:Ya(n.marginBottom),left:Ya(n.marginLeft)},a={top:Ya(n.paddingTop),right:Ya(n.paddingRight),bottom:Ya(n.paddingBottom),left:Ya(n.paddingLeft)},i={top:Ya(n.borderTopWidth),right:Ya(n.borderRightWidth),bottom:Ya(n.borderBottomWidth),left:Ya(n.borderLeftWidth)};return gk({borderBox:s,margin:r,padding:a,border:i})},x9=function(s){var n=s.getBoundingClientRect(),r=window.getComputedStyle(s);return g9(n,r)},lp=function(s){var n=[],r=null,a=function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];n=o,!r&&(r=requestAnimationFrame(function(){r=null,s.apply(void 0,n)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(null,arguments)}function v9(t,s){}v9.bind(null,"warn");v9.bind(null,"error");function oc(){}function ibe(t,s){return{...t,...s}}function ii(t,s,n){const r=s.map(a=>{const i=ibe(n,a.options);return t.addEventListener(a.eventName,a.fn,i),function(){t.removeEventListener(a.eventName,a.fn,i)}});return function(){r.forEach(i=>{i()})}}const lbe="Invariant failed";class ov extends Error{}ov.prototype.toString=function(){return this.message};function yt(t,s){throw new ov(lbe)}class obe extends Be.Component{constructor(...s){super(...s),this.callbacks=null,this.unbind=oc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof ov&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ii(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(s){if(s instanceof ov){this.setState({});return}throw s}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const cbe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,cv=t=>t+1,dbe=t=>`
  You have lifted an item in position ${cv(t.source.index)}
`,y9=(t,s)=>{const n=t.droppableId===s.droppableId,r=cv(t.index),a=cv(s.index);return n?`
      You have moved the item from position ${r}
      to position ${a}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${s.droppableId}
    in position ${a}
  `},b9=(t,s,n)=>s.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${s.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,ube=t=>{const s=t.destination;if(s)return y9(t.source,s);const n=t.combine;return n?b9(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},jR=t=>`
  The item has returned to its starting position
  of ${cv(t.index)}
`,hbe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${jR(t.source)}
    `;const s=t.destination,n=t.combine;return s?`
      You have dropped the item.
      ${y9(t.source,s)}
    `:n?`
      You have dropped the item.
      ${b9(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${jR(t.source)}
  `},_0={dragHandleUsageInstructions:cbe,onDragStart:dbe,onDragUpdate:ube,onDragEnd:hbe};function mbe(t,s){return!!(t===s||Number.isNaN(t)&&Number.isNaN(s))}function j9(t,s){if(t.length!==s.length)return!1;for(let n=0;n<t.length;n++)if(!mbe(t[n],s[n]))return!1;return!0}function Is(t,s){const n=b.useState(()=>({inputs:s,result:t()}))[0],r=b.useRef(!0),a=b.useRef(n),l=r.current||!!(s&&a.current.inputs&&j9(s,a.current.inputs))?a.current:{inputs:s,result:t()};return b.useEffect(()=>{r.current=!1,a.current=l},[l]),l.result}function Kt(t,s){return Is(()=>t,s)}const or={x:0,y:0},pr=(t,s)=>({x:t.x+s.x,y:t.y+s.y}),Da=(t,s)=>({x:t.x-s.x,y:t.y-s.y}),cc=(t,s)=>t.x===s.x&&t.y===s.y,cm=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Ld=(t,s,n=0)=>t==="x"?{x:s,y:n}:{x:n,y:s},op=(t,s)=>Math.sqrt((s.x-t.x)**2+(s.y-t.y)**2),wR=(t,s)=>Math.min(...s.map(n=>op(t,n))),w9=t=>s=>({x:t(s.x),y:t(s.y)});var fbe=(t,s)=>{const n=Ai({top:Math.max(s.top,t.top),right:Math.min(s.right,t.right),bottom:Math.min(s.bottom,t.bottom),left:Math.max(s.left,t.left)});return n.width<=0||n.height<=0?null:n};const rg=(t,s)=>({top:t.top+s.y,left:t.left+s.x,bottom:t.bottom+s.y,right:t.right+s.x}),NR=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],pbe={top:0,right:0,bottom:0,left:0},gbe=(t,s)=>s?rg(t,s.scroll.diff.displacement):t,xbe=(t,s,n)=>n&&n.increasedBy?{...t,[s.end]:t[s.end]+n.increasedBy[s.line]}:t,vbe=(t,s)=>s&&s.shouldClipSubject?fbe(s.pageMarginBox,t):Ai(t);var Rh=({page:t,withPlaceholder:s,axis:n,frame:r})=>{const a=gbe(t.marginBox,r),i=xbe(a,n,s),l=vbe(i,r);return{page:t,withPlaceholder:s,active:l}},xk=(t,s)=>{t.frame||yt();const n=t.frame,r=Da(s,n.scroll.initial),a=cm(r),i={...n,scroll:{initial:n.scroll.initial,current:s,diff:{value:r,displacement:a},max:n.scroll.max}},l=Rh({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i});return{...t,frame:i,subject:l}};function ir(t,s=j9){let n=null;function r(...a){if(n&&n.lastThis===this&&s(a,n.lastArgs))return n.lastResult;const i=t.apply(this,a);return n={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){n=null},r}const N9=ir(t=>t.reduce((s,n)=>(s[n.descriptor.id]=n,s),{})),_9=ir(t=>t.reduce((s,n)=>(s[n.descriptor.id]=n,s),{})),Cy=ir(t=>Object.values(t)),ybe=ir(t=>Object.values(t));var dm=ir((t,s)=>ybe(s).filter(r=>t===r.descriptor.droppableId).sort((r,a)=>r.descriptor.index-a.descriptor.index));function vk(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function ky(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Ey=ir((t,s)=>s.filter(n=>n.descriptor.id!==t.descriptor.id)),bbe=({isMovingForward:t,draggable:s,destination:n,insideDestination:r,previousImpact:a})=>{if(!n.isCombineEnabled||!vk(a))return null;function l(p){const x={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return{...a,at:x}}const o=a.displaced.all,c=o.length?o[0]:null;if(t)return c?l(c):null;const d=Ey(s,r);if(!c){if(!d.length)return null;const p=d[d.length-1];return l(p.descriptor.id)}const u=d.findIndex(p=>p.descriptor.id===c);u===-1&&yt();const m=u-1;if(m<0)return null;const h=d[m];return l(h.descriptor.id)},um=(t,s)=>t.descriptor.droppableId===s.descriptor.id;const S9={point:or,value:0},cp={invisible:{},visible:{},all:[]},jbe={displaced:cp,displacedBy:S9,at:null};var ci=(t,s)=>n=>t<=n&&n<=s,C9=t=>{const s=ci(t.top,t.bottom),n=ci(t.left,t.right);return r=>{if(s(r.top)&&s(r.bottom)&&n(r.left)&&n(r.right))return!0;const i=s(r.top)||s(r.bottom),l=n(r.left)||n(r.right);if(i&&l)return!0;const c=r.top<t.top&&r.bottom>t.bottom,d=r.left<t.left&&r.right>t.right;return c&&d?!0:c&&l||d&&i}},wbe=t=>{const s=ci(t.top,t.bottom),n=ci(t.left,t.right);return r=>s(r.top)&&s(r.bottom)&&n(r.left)&&n(r.right)};const yk={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},k9={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Nbe=t=>s=>{const n=ci(s.top,s.bottom),r=ci(s.left,s.right);return a=>t===yk?n(a.top)&&n(a.bottom):r(a.left)&&r(a.right)};const _be=(t,s)=>{const n=s.frame?s.frame.scroll.diff.displacement:or;return rg(t,n)},Sbe=(t,s,n)=>s.subject.active?n(s.subject.active)(t):!1,Cbe=(t,s,n)=>n(s)(t),bk=({target:t,destination:s,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:a})=>{const i=r?_be(t,s):t;return Sbe(i,s,a)&&Cbe(i,n,a)},kbe=t=>bk({...t,isVisibleThroughFrameFn:C9}),E9=t=>bk({...t,isVisibleThroughFrameFn:wbe}),Ebe=t=>bk({...t,isVisibleThroughFrameFn:Nbe(t.destination.axis)}),Tbe=(t,s,n)=>{if(typeof n=="boolean")return n;if(!s)return!0;const{invisible:r,visible:a}=s;if(r[t])return!1;const i=a[t];return i?i.shouldAnimate:!0};function Pbe(t,s){const n=t.page.marginBox,r={top:s.point.y,right:0,bottom:0,left:s.point.x};return Ai(pk(n,r))}function dp({afterDragging:t,destination:s,displacedBy:n,viewport:r,forceShouldAnimate:a,last:i}){return t.reduce(function(o,c){const d=Pbe(c,n),u=c.descriptor.id;if(o.all.push(u),!kbe({target:d,destination:s,viewport:r,withDroppableDisplacement:!0}))return o.invisible[c.descriptor.id]=!0,o;const h=Tbe(u,i,a),p={draggableId:u,shouldAnimate:h};return o.visible[u]=p,o},{all:[],visible:{},invisible:{}})}function Abe(t,s){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return s.inHomeList?n:n+1}function _R({insideDestination:t,inHomeList:s,displacedBy:n,destination:r}){const a=Abe(t,{inHomeList:s});return{displaced:cp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function dv({draggable:t,insideDestination:s,destination:n,viewport:r,displacedBy:a,last:i,index:l,forceShouldAnimate:o}){const c=um(t,n);if(l==null)return _R({insideDestination:s,inHomeList:c,displacedBy:a,destination:n});const d=s.find(x=>x.descriptor.index===l);if(!d)return _R({insideDestination:s,inHomeList:c,displacedBy:a,destination:n});const u=Ey(t,s),m=s.indexOf(d),h=u.slice(m);return{displaced:dp({afterDragging:h,destination:n,displacedBy:a,last:i,viewport:r.frame,forceShouldAnimate:o}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function gc(t,s){return!!s.effected[t]}var Obe=({isMovingForward:t,destination:s,draggables:n,combine:r,afterCritical:a})=>{if(!s.isCombineEnabled)return null;const i=r.draggableId,o=n[i].descriptor.index;return gc(i,a)?t?o:o-1:t?o+1:o},Mbe=({isMovingForward:t,isInHomeList:s,insideDestination:n,location:r})=>{if(!n.length)return null;const a=r.index,i=t?a+1:a-1,l=n[0].descriptor.index,o=n[n.length-1].descriptor.index,c=s?o:o+1;return i<l||i>c?null:i},Dbe=({isMovingForward:t,isInHomeList:s,draggable:n,draggables:r,destination:a,insideDestination:i,previousImpact:l,viewport:o,afterCritical:c})=>{const d=l.at;if(d||yt(),d.type==="REORDER"){const m=Mbe({isMovingForward:t,isInHomeList:s,location:d.destination,insideDestination:i});return m==null?null:dv({draggable:n,insideDestination:i,destination:a,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:m})}const u=Obe({isMovingForward:t,destination:a,displaced:l.displaced,draggables:r,combine:d.combine,afterCritical:c});return u==null?null:dv({draggable:n,insideDestination:i,destination:a,viewport:o,last:l.displaced,displacedBy:l.displacedBy,index:u})},Rbe=({displaced:t,afterCritical:s,combineWith:n,displacedBy:r})=>{const a=!!(t.visible[n]||t.invisible[n]);return gc(n,s)?a?or:cm(r.point):a?r.point:or},Fbe=({afterCritical:t,impact:s,draggables:n})=>{const r=ky(s);r||yt();const a=r.draggableId,i=n[a].page.borderBox.center,l=Rbe({displaced:s.displaced,afterCritical:t,combineWith:a,displacedBy:s.displacedBy});return pr(i,l)};const T9=(t,s)=>s.margin[t.start]+s.borderBox[t.size]/2,Ibe=(t,s)=>s.margin[t.end]+s.borderBox[t.size]/2,jk=(t,s,n)=>s[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,SR=({axis:t,moveRelativeTo:s,isMoving:n})=>Ld(t.line,s.marginBox[t.end]+T9(t,n),jk(t,s.marginBox,n)),CR=({axis:t,moveRelativeTo:s,isMoving:n})=>Ld(t.line,s.marginBox[t.start]-Ibe(t,n),jk(t,s.marginBox,n)),Lbe=({axis:t,moveInto:s,isMoving:n})=>Ld(t.line,s.contentBox[t.start]+T9(t,n),jk(t,s.contentBox,n));var Bbe=({impact:t,draggable:s,draggables:n,droppable:r,afterCritical:a})=>{const i=dm(r.descriptor.id,n),l=s.page,o=r.axis;if(!i.length)return Lbe({axis:o,moveInto:r.page,isMoving:l});const{displaced:c,displacedBy:d}=t,u=c.all[0];if(u){const h=n[u];if(gc(u,a))return CR({axis:o,moveRelativeTo:h.page,isMoving:l});const p=av(h.page,d.point);return CR({axis:o,moveRelativeTo:p,isMoving:l})}const m=i[i.length-1];if(m.descriptor.id===s.descriptor.id)return l.borderBox.center;if(gc(m.descriptor.id,a)){const h=av(m.page,cm(a.displacedBy.point));return SR({axis:o,moveRelativeTo:h,isMoving:l})}return SR({axis:o,moveRelativeTo:m.page,isMoving:l})},TS=(t,s)=>{const n=t.frame;return n?pr(s,n.scroll.diff.displacement):s};const qbe=({impact:t,draggable:s,droppable:n,draggables:r,afterCritical:a})=>{const i=s.page.borderBox.center,l=t.at;return!n||!l?i:l.type==="REORDER"?Bbe({impact:t,draggable:s,draggables:r,droppable:n,afterCritical:a}):Fbe({impact:t,draggables:r,afterCritical:a})};var Ty=t=>{const s=qbe(t),n=t.droppable;return n?TS(n,s):s},P9=(t,s)=>{const n=Da(s,t.scroll.initial),r=cm(n);return{frame:Ai({top:s.y,bottom:s.y+t.frame.height,left:s.x,right:s.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:s,diff:{value:n,displacement:r}}}};function kR(t,s){return t.map(n=>s[n])}function $be(t,s){for(let n=0;n<s.length;n++){const r=s[n].visible[t];if(r)return r}return null}var Ube=({impact:t,viewport:s,destination:n,draggables:r,maxScrollChange:a})=>{const i=P9(s,pr(s.scroll.current,a)),l=n.frame?xk(n,pr(n.frame.scroll.current,a)):n,o=t.displaced,c=dp({afterDragging:kR(o.all,r),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:o,forceShouldAnimate:!1}),d=dp({afterDragging:kR(o.all,r),destination:l,displacedBy:t.displacedBy,viewport:s.frame,last:o,forceShouldAnimate:!1}),u={},m={},h=[o,c,d];return o.all.forEach(x=>{const y=$be(x,h);if(y){m[x]=y;return}u[x]=!0}),{...t,displaced:{all:o.all,invisible:u,visible:m}}},zbe=(t,s)=>pr(t.scroll.diff.displacement,s),wk=({pageBorderBoxCenter:t,draggable:s,viewport:n})=>{const r=zbe(n,t),a=Da(r,s.page.borderBox.center);return pr(s.client.borderBox.center,a)},A9=({draggable:t,destination:s,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const l=Da(n,t.page.borderBox.center),c={target:rg(t.page.borderBox,l),destination:s,withDroppableDisplacement:a,viewport:r};return i?Ebe(c):E9(c)},Vbe=({isMovingForward:t,draggable:s,destination:n,draggables:r,previousImpact:a,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:o,afterCritical:c})=>{if(!n.isEnabled)return null;const d=dm(n.descriptor.id,r),u=um(s,n),m=bbe({isMovingForward:t,draggable:s,destination:n,insideDestination:d,previousImpact:a})||Dbe({isMovingForward:t,isInHomeList:u,draggable:s,draggables:r,destination:n,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!m)return null;const h=Ty({impact:m,draggable:s,droppable:n,draggables:r,afterCritical:c});if(A9({draggable:s,destination:n,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wk({pageBorderBoxCenter:h,draggable:s,viewport:i}),impact:m,scrollJumpRequest:null};const x=Da(h,l),y=Ube({impact:m,viewport:i,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:o,impact:y,scrollJumpRequest:x}};const Ir=t=>{const s=t.subject.active;return s||yt(),s};var Wbe=({isMovingForward:t,pageBorderBoxCenter:s,source:n,droppables:r,viewport:a})=>{const i=n.subject.active;if(!i)return null;const l=n.axis,o=ci(i[l.start],i[l.end]),c=Cy(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>C9(a.frame)(Ir(u))).filter(u=>{const m=Ir(u);return t?i[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<i[l.crossAxisStart]}).filter(u=>{const m=Ir(u),h=ci(m[l.start],m[l.end]);return o(m[l.start])||o(m[l.end])||h(i[l.start])||h(i[l.end])}).sort((u,m)=>{const h=Ir(u)[l.crossAxisStart],p=Ir(m)[l.crossAxisStart];return t?h-p:p-h}).filter((u,m,h)=>Ir(u)[l.crossAxisStart]===Ir(h[0])[l.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>ci(Ir(u)[l.start],Ir(u)[l.end])(s[l.line]));return d.length===1?d[0]:d.length>1?d.sort((u,m)=>Ir(u)[l.start]-Ir(m)[l.start])[0]:c.sort((u,m)=>{const h=wR(s,NR(Ir(u))),p=wR(s,NR(Ir(m)));return h!==p?h-p:Ir(u)[l.start]-Ir(m)[l.start]})[0]};const ER=(t,s)=>{const n=t.page.borderBox.center;return gc(t.descriptor.id,s)?Da(n,s.displacedBy.point):n},Hbe=(t,s)=>{const n=t.page.borderBox;return gc(t.descriptor.id,s)?rg(n,cm(s.displacedBy.point)):n};var Kbe=({pageBorderBoxCenter:t,viewport:s,destination:n,insideDestination:r,afterCritical:a})=>r.filter(l=>E9({target:Hbe(l,a),destination:n,viewport:s.frame,withDroppableDisplacement:!0})).sort((l,o)=>{const c=op(t,TS(n,ER(l,a))),d=op(t,TS(n,ER(o,a)));return c<d?-1:d<c?1:l.descriptor.index-o.descriptor.index})[0]||null,ag=ir(function(s,n){const r=n[s.line];return{value:r,point:Ld(s.line,r)}});const Gbe=(t,s,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Ld(r.line,s[r.line]);const a=t.subject.page.contentBox[r.size],c=dm(t.descriptor.id,n).reduce((d,u)=>d+u.client.marginBox[r.size],0)+s[r.line]-a;return c<=0?null:Ld(r.line,c)},O9=(t,s)=>({...t,scroll:{...t.scroll,max:s}}),M9=(t,s,n)=>{const r=t.frame;um(s,t)&&yt(),t.subject.withPlaceholder&&yt();const a=ag(t.axis,s.displaceBy).point,i=Gbe(t,a,n),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const u=Rh({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:u}}const o=i?pr(r.scroll.max,i):r.scroll.max,c=O9(r,o),d=Rh({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:c});return{...t,subject:d,frame:c}},Ybe=t=>{const s=t.subject.withPlaceholder;s||yt();const n=t.frame;if(!n){const l=Rh({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const r=s.oldFrameMaxScroll;r||yt();const a=O9(n,r),i=Rh({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return{...t,subject:i,frame:a}};var Qbe=({previousPageBorderBoxCenter:t,moveRelativeTo:s,insideDestination:n,draggable:r,draggables:a,destination:i,viewport:l,afterCritical:o})=>{if(!s){if(n.length)return null;const m={displaced:cp,displacedBy:S9,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},h=Ty({impact:m,draggable:r,droppable:i,draggables:a,afterCritical:o}),p=um(r,i)?i:M9(i,r,a);return A9({draggable:r,destination:p,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const c=t[i.axis.line]<=s.page.borderBox.center[i.axis.line],d=(()=>{const m=s.descriptor.index;return s.descriptor.id===r.descriptor.id||c?m:m+1})(),u=ag(i.axis,r.displaceBy);return dv({draggable:r,insideDestination:n,destination:i,viewport:l,displacedBy:u,last:cp,index:d})},Jbe=({isMovingForward:t,previousPageBorderBoxCenter:s,draggable:n,isOver:r,draggables:a,droppables:i,viewport:l,afterCritical:o})=>{const c=Wbe({isMovingForward:t,pageBorderBoxCenter:s,source:r,droppables:i,viewport:l});if(!c)return null;const d=dm(c.descriptor.id,a),u=Kbe({pageBorderBoxCenter:s,viewport:l,destination:c,insideDestination:d,afterCritical:o}),m=Qbe({previousPageBorderBoxCenter:s,destination:c,draggable:n,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:l,afterCritical:o});if(!m)return null;const h=Ty({impact:m,draggable:n,droppable:c,draggables:a,afterCritical:o});return{clientSelection:wk({pageBorderBoxCenter:h,draggable:n,viewport:l}),impact:m,scrollJumpRequest:null}},Ba=t=>{const s=t.at;return s?s.type==="REORDER"?s.destination.droppableId:s.combine.droppableId:null};const Xbe=(t,s)=>{const n=Ba(t);return n?s[n]:null};var Zbe=({state:t,type:s})=>{const n=Xbe(t.impact,t.dimensions.droppables),r=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,l=i.axis.direction,o=l==="vertical"&&(s==="MOVE_UP"||s==="MOVE_DOWN")||l==="horizontal"&&(s==="MOVE_LEFT"||s==="MOVE_RIGHT");if(o&&!r)return null;const c=s==="MOVE_DOWN"||s==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:m,droppables:h}=t.dimensions;return o?Vbe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Jbe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:m,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Jc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function D9(t){const s=ci(t.top,t.bottom),n=ci(t.left,t.right);return function(a){return s(a.y)&&n(a.x)}}function eje(t,s){return t.left<s.right&&t.right>s.left&&t.top<s.bottom&&t.bottom>s.top}function tje({pageBorderBox:t,draggable:s,candidates:n}){const r=s.page.borderBox.center,a=n.map(i=>{const l=i.axis,o=Ld(i.axis.line,t.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:op(r,o)}}).sort((i,l)=>l.distance-i.distance);return a[0]?a[0].id:null}function sje({pageBorderBox:t,draggable:s,droppables:n}){const r=Cy(n).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!eje(t,i))return!1;if(D9(i)(t.center))return!0;const l=a.axis,o=i.center[l.crossAxisLine],c=t[l.crossAxisStart],d=t[l.crossAxisEnd],u=ci(i[l.crossAxisStart],i[l.crossAxisEnd]),m=u(c),h=u(d);return!m&&!h?!0:m?c<o:d>o});return r.length?r.length===1?r[0].descriptor.id:tje({pageBorderBox:t,draggable:s,candidates:r}):null}const R9=(t,s)=>Ai(rg(t,s));var nje=(t,s)=>{const n=t.frame;return n?R9(s,n.scroll.diff.value):s};function F9({displaced:t,id:s}){return!!(t.visible[s]||t.invisible[s])}function rje({draggable:t,closest:s,inHomeList:n}){return s?n&&s.descriptor.index>t.descriptor.index?s.descriptor.index-1:s.descriptor.index:null}var aje=({pageBorderBoxWithDroppableScroll:t,draggable:s,destination:n,insideDestination:r,last:a,viewport:i,afterCritical:l})=>{const o=n.axis,c=ag(n.axis,s.displaceBy),d=c.value,u=t[o.start],m=t[o.end],p=Ey(s,r).find(y=>{const v=y.descriptor.id,j=y.page.borderBox.center[o.line],w=gc(v,l),N=F9({displaced:a,id:v});return w?N?m<=j:u<j-d:N?m<=j+d:u<j})||null,x=rje({draggable:s,closest:p,inHomeList:um(s,n)});return dv({draggable:s,insideDestination:r,destination:n,viewport:i,last:a,displacedBy:c,index:x})};const ije=4;var lje=({draggable:t,pageBorderBoxWithDroppableScroll:s,previousImpact:n,destination:r,insideDestination:a,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const l=r.axis,o=ag(r.axis,t.displaceBy),c=o.value,d=s[l.start],u=s[l.end],h=Ey(t,a).find(x=>{const y=x.descriptor.id,v=x.page.borderBox,w=v[l.size]/ije,N=gc(y,i),_=F9({displaced:n.displaced,id:y});return N?_?u>v[l.start]+w&&u<v[l.end]-w:d>v[l.start]-c+w&&d<v[l.end]-c-w:_?u>v[l.start]+c+w&&u<v[l.end]+c-w:d>v[l.start]+w&&d<v[l.end]-w});return h?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}}:null},I9=({pageOffset:t,draggable:s,draggables:n,droppables:r,previousImpact:a,viewport:i,afterCritical:l})=>{const o=R9(s.page.borderBox,t),c=sje({pageBorderBox:o,draggable:s,droppables:r});if(!c)return jbe;const d=r[c],u=dm(d.descriptor.id,n),m=nje(d,o);return lje({pageBorderBoxWithDroppableScroll:m,draggable:s,previousImpact:a,destination:d,insideDestination:u,afterCritical:l})||aje({pageBorderBoxWithDroppableScroll:m,draggable:s,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:l})},Nk=(t,s)=>({...t,[s.descriptor.id]:s});const oje=({previousImpact:t,impact:s,droppables:n})=>{const r=Ba(t),a=Ba(s);if(!r||r===a)return n;const i=n[r];if(!i.subject.withPlaceholder)return n;const l=Ybe(i);return Nk(n,l)};var cje=({draggable:t,draggables:s,droppables:n,previousImpact:r,impact:a})=>{const i=oje({previousImpact:r,impact:a,droppables:n}),l=Ba(a);if(!l)return i;const o=n[l];if(um(t,o)||o.subject.withPlaceholder)return i;const c=M9(o,t,s);return Nk(i,c)},Mf=({state:t,clientSelection:s,dimensions:n,viewport:r,impact:a,scrollJumpRequest:i})=>{const l=r||t.viewport,o=n||t.dimensions,c=s||t.current.client.selection,d=Da(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:pr(t.initial.client.borderBoxCenter,d)},m={selection:pr(u.selection,l.scroll.current),borderBoxCenter:pr(u.borderBoxCenter,l.scroll.current),offset:pr(u.offset,l.scroll.diff.value)},h={client:u,page:m};if(t.phase==="COLLECTING")return{...t,dimensions:o,viewport:l,current:h};const p=o.draggables[t.critical.draggable.id],x=a||I9({pageOffset:m.offset,draggable:p,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=cje({draggable:p,impact:x,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return{...t,current:h,dimensions:{draggables:o.draggables,droppables:y},impact:x,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function dje(t,s){return t.map(n=>s[n])}var L9=({impact:t,viewport:s,draggables:n,destination:r,forceShouldAnimate:a})=>{const i=t.displaced,l=dje(i.all,n),o=dp({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:s.frame,forceShouldAnimate:a,last:i});return{...t,displaced:o}},B9=({impact:t,draggable:s,droppable:n,draggables:r,viewport:a,afterCritical:i})=>{const l=Ty({impact:t,draggable:s,draggables:r,droppable:n,afterCritical:i});return wk({pageBorderBoxCenter:l,draggable:s,viewport:a})},q9=({state:t,dimensions:s,viewport:n})=>{t.movementMode!=="SNAP"&&yt();const r=t.impact,a=n||t.viewport,i=s||t.dimensions,{draggables:l,droppables:o}=i,c=l[t.critical.draggable.id],d=Ba(r);d||yt();const u=o[d],m=L9({impact:r,viewport:a,destination:u,draggables:l}),h=B9({impact:m,draggable:c,droppable:u,draggables:l,viewport:a,afterCritical:t.afterCritical});return Mf({impact:m,clientSelection:h,state:t,dimensions:i,viewport:a})},uje=t=>({index:t.index,droppableId:t.droppableId}),$9=({draggable:t,home:s,draggables:n,viewport:r})=>{const a=ag(s.axis,t.displaceBy),i=dm(s.descriptor.id,n),l=i.indexOf(t);l===-1&&yt();const o=i.slice(l+1),c=o.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),d={inVirtualList:s.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:dp({afterDragging:o,destination:s,displacedBy:a,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:uje(t.descriptor)}},afterCritical:d}},hje=(t,s)=>({draggables:t.draggables,droppables:Nk(t.droppables,s)}),mje=({draggable:t,offset:s,initialWindowScroll:n})=>{const r=av(t.client,s),a=iv(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:a}},fje=t=>{const s=t.frame;return s||yt(),s},pje=({additions:t,updatedDroppables:s,viewport:n})=>{const r=n.scroll.diff.value;return t.map(a=>{const i=a.descriptor.droppableId,l=s[i],c=fje(l).scroll.diff.value,d=pr(r,c);return mje({draggable:a,offset:d,initialWindowScroll:n.scroll.initial})})},gje=({state:t,published:s})=>{const n=s.modified.map(j=>{const w=t.dimensions.droppables[j.droppableId];return xk(w,j.scroll)}),r={...t.dimensions.droppables,...N9(n)},a=_9(pje({additions:s.additions,updatedDroppables:r,viewport:t.viewport})),i={...t.dimensions.draggables,...a};s.removals.forEach(j=>{delete i[j]});const l={droppables:r,draggables:i},o=Ba(t.impact),c=o?l.droppables[o]:null,d=l.draggables[t.critical.draggable.id],u=l.droppables[t.critical.droppable.id],{impact:m,afterCritical:h}=$9({draggable:d,home:u,draggables:i,viewport:t.viewport}),p=c&&c.isCombineEnabled?t.impact:m,x=I9({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:p,viewport:t.viewport,afterCritical:h}),y={...t,phase:"DRAGGING",impact:x,onLiftImpact:m,dimensions:l,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const PS=t=>t.movementMode==="SNAP",g_=(t,s,n)=>{const r=hje(t.dimensions,s);return!PS(t)||n?Mf({state:t,dimensions:r}):q9({state:t,dimensions:r})};function x_(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const TR={phase:"IDLE",completed:null,shouldFlush:!1};var xje=(t=TR,s)=>{if(s.type==="FLUSH")return{...TR,shouldFlush:!0};if(s.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&yt();const{critical:n,clientSelection:r,viewport:a,dimensions:i,movementMode:l}=s.payload,o=i.draggables[n.draggable.id],c=i.droppables[n.droppable.id],d={selection:r,borderBoxCenter:o.client.borderBox.center,offset:or},u={client:d,page:{selection:pr(d.selection,a.scroll.initial),borderBoxCenter:pr(d.selection,a.scroll.initial),offset:pr(d.selection,a.scroll.diff.value)}},m=Cy(i.droppables).every(y=>!y.isFixedOnPage),{impact:h,afterCritical:p}=$9({draggable:o,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:i,initial:u,current:u,isWindowScrollAllowed:m,impact:h,afterCritical:p,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(s.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&yt(),{...t,phase:"COLLECTING"});if(s.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||yt(),gje({state:t,published:s.payload});if(s.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Jc(t)||yt();const{client:n}=s.payload;return cc(n,t.current.client.selection)?t:Mf({state:t,clientSelection:n,impact:PS(t)?t.impact:null})}if(s.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return x_(t);Jc(t)||yt();const{id:n,newScroll:r}=s.payload,a=t.dimensions.droppables[n];if(!a)return t;const i=xk(a,r);return g_(t,i,!1)}if(s.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Jc(t)||yt();const{id:n,isEnabled:r}=s.payload,a=t.dimensions.droppables[n];a||yt(),a.isEnabled===r&&yt();const i={...a,isEnabled:r};return g_(t,i,!0)}if(s.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Jc(t)||yt();const{id:n,isCombineEnabled:r}=s.payload,a=t.dimensions.droppables[n];a||yt(),a.isCombineEnabled===r&&yt();const i={...a,isCombineEnabled:r};return g_(t,i,!0)}if(s.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Jc(t)||yt(),t.isWindowScrollAllowed||yt();const n=s.payload.newScroll;if(cc(t.viewport.scroll.current,n))return x_(t);const r=P9(t.viewport,n);return PS(t)?q9({state:t,viewport:r}):Mf({state:t,viewport:r})}if(s.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Jc(t))return t;const n=s.payload.maxScroll;if(cc(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(s.type==="MOVE_UP"||s.type==="MOVE_DOWN"||s.type==="MOVE_LEFT"||s.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&yt();const n=Zbe({state:t,type:s.type});return n?Mf({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(s.type==="DROP_PENDING"){const n=s.payload.reason;return t.phase!=="COLLECTING"&&yt(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(s.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:a}=s.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||yt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:a,dimensions:t.dimensions}}if(s.type==="DROP_COMPLETE"){const{completed:n}=s.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Ys(t,s){return t instanceof Object&&"type"in t&&t.type===s}const vje=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),yje=t=>({type:"LIFT",payload:t}),bje=t=>({type:"INITIAL_PUBLISH",payload:t}),jje=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),wje=()=>({type:"COLLECTION_STARTING",payload:null}),Nje=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),_je=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Sje=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),U9=t=>({type:"MOVE",payload:t}),Cje=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),kje=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Eje=()=>({type:"MOVE_UP",payload:null}),Tje=()=>({type:"MOVE_DOWN",payload:null}),Pje=()=>({type:"MOVE_RIGHT",payload:null}),Aje=()=>({type:"MOVE_LEFT",payload:null}),_k=()=>({type:"FLUSH",payload:null}),Oje=t=>({type:"DROP_ANIMATE",payload:t}),Sk=t=>({type:"DROP_COMPLETE",payload:t}),z9=t=>({type:"DROP",payload:t}),Mje=t=>({type:"DROP_PENDING",payload:t}),V9=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Dje=t=>({getState:s,dispatch:n})=>r=>a=>{if(!Ys(a,"LIFT")){r(a);return}const{id:i,clientSelection:l,movementMode:o}=a.payload,c=s();c.phase==="DROP_ANIMATING"&&n(Sk({completed:c.completed})),s().phase!=="IDLE"&&yt(),n(_k()),n(vje({draggableId:i,movementMode:o}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:m,dimensions:h,viewport:p}=t.startPublishing(u);n(bje({critical:m,dimensions:h,clientSelection:l,movementMode:o,viewport:p}))},Rje=t=>()=>s=>n=>{Ys(n,"INITIAL_PUBLISH")&&t.dragging(),Ys(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Ys(n,"FLUSH")||Ys(n,"DROP_COMPLETE"))&&t.resting(),s(n)};const Ck={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},up={opacity:{drop:0,combining:.7},scale:{drop:.75}},W9={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hc=`${W9.outOfTheWay}s ${Ck.outOfTheWay}`,Df={fluid:`opacity ${Hc}`,snap:`transform ${Hc}, opacity ${Hc}`,drop:t=>{const s=`${t}s ${Ck.drop}`;return`transform ${s}, opacity ${s}`},outOfTheWay:`transform ${Hc}`,placeholder:`height ${Hc}, width ${Hc}, margin ${Hc}`},PR=t=>cc(t,or)?void 0:`translate(${t.x}px, ${t.y}px)`,AS={moveTo:PR,drop:(t,s)=>{const n=PR(t);if(n)return s?`${n} scale(${up.scale.drop})`:n}},{minDropTime:OS,maxDropTime:H9}=W9,Fje=H9-OS,AR=1500,Ije=.6;var Lje=({current:t,destination:s,reason:n})=>{const r=op(t,s);if(r<=0)return OS;if(r>=AR)return H9;const a=r/AR,i=OS+Fje*a,l=n==="CANCEL"?i*Ije:i;return Number(l.toFixed(2))},Bje=({impact:t,draggable:s,dimensions:n,viewport:r,afterCritical:a})=>{const{draggables:i,droppables:l}=n,o=Ba(t),c=o?l[o]:null,d=l[s.descriptor.droppableId],u=B9({impact:t,draggable:s,draggables:i,afterCritical:a,droppable:c||d,viewport:r});return Da(u,s.client.borderBox.center)},qje=({draggables:t,reason:s,lastImpact:n,home:r,viewport:a,onLiftImpact:i})=>!n.at||s!=="DROP"?{impact:L9({draggables:t,impact:i,destination:r,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:cp},didDropInsideDroppable:!0};const $je=({getState:t,dispatch:s})=>n=>r=>{if(!Ys(r,"DROP")){n(r);return}const a=t(),i=r.payload.reason;if(a.phase==="COLLECTING"){s(Mje({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&yt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||yt();const o=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:m}=qje({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=m?vk(u):null,p=m?ky(u):null,x={index:o.draggable.index,droppableId:o.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:h,combine:p},v=Bje({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:y,impact:u};if(!(!cc(a.current.client.offset,v)||!!y.combine)){s(Sk({completed:j}));return}const N=Lje({current:a.current.client.offset,destination:v,reason:i});s(Oje({newHomeClientOffset:v,dropDuration:N,completed:j}))};var K9=()=>({x:window.pageXOffset,y:window.pageYOffset});function Uje(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:s=>{s.target!==window&&s.target!==window.document||t()}}}function zje({onWindowScroll:t}){function s(){t(K9())}const n=lp(s),r=Uje(n);let a=oc;function i(){return a!==oc}function l(){i()&&yt(),a=ii(window,[r])}function o(){i()||yt(),n.cancel(),a(),a=oc}return{start:l,stop:o,isActive:i}}const Vje=t=>Ys(t,"DROP_COMPLETE")||Ys(t,"DROP_ANIMATE")||Ys(t,"FLUSH"),Wje=t=>{const s=zje({onWindowScroll:n=>{t.dispatch(Cje({newScroll:n}))}});return n=>r=>{!s.isActive()&&Ys(r,"INITIAL_PUBLISH")&&s.start(),s.isActive()&&Vje(r)&&s.stop(),n(r)}};var Hje=t=>{let s=!1,n=!1;const r=setTimeout(()=>{n=!0}),a=i=>{s||n||(s=!0,t(i),clearTimeout(r))};return a.wasCalled=()=>s,a},Kje=()=>{const t=[],s=a=>{const i=t.findIndex(o=>o.timerId===a);i===-1&&yt();const[l]=t.splice(i,1);l.callback()};return{add:a=>{const i=setTimeout(()=>s(i)),l={timerId:i,callback:a};t.push(l)},flush:()=>{if(!t.length)return;const a=[...t];t.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const Gje=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.droppableId===s.droppableId&&t.index===s.index,Yje=(t,s)=>t==null&&s==null?!0:t==null||s==null?!1:t.draggableId===s.draggableId&&t.droppableId===s.droppableId,Qje=(t,s)=>{if(t===s)return!0;const n=t.draggable.id===s.draggable.id&&t.draggable.droppableId===s.draggable.droppableId&&t.draggable.type===s.draggable.type&&t.draggable.index===s.draggable.index,r=t.droppable.id===s.droppable.id&&t.droppable.type===s.droppable.type;return n&&r},af=(t,s)=>{s()},Yx=(t,s)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:s});function v_(t,s,n,r){if(!t){n(r(s));return}const a=Hje(n);t(s,{announce:a}),a.wasCalled()||n(r(s))}var Jje=(t,s)=>{const n=Kje();let r=null;const a=(m,h)=>{r&&yt(),af("onBeforeCapture",()=>{const p=t().onBeforeCapture;p&&p({draggableId:m,mode:h})})},i=(m,h)=>{r&&yt(),af("onBeforeDragStart",()=>{const p=t().onBeforeDragStart;p&&p(Yx(m,h))})},l=(m,h)=>{r&&yt();const p=Yx(m,h);r={mode:h,lastCritical:m,lastLocation:p.source,lastCombine:null},n.add(()=>{af("onDragStart",()=>v_(t().onDragStart,p,s,_0.onDragStart))})},o=(m,h)=>{const p=vk(h),x=ky(h);r||yt();const y=!Qje(m,r.lastCritical);y&&(r.lastCritical=m);const v=!Gje(r.lastLocation,p);v&&(r.lastLocation=p);const j=!Yje(r.lastCombine,x);if(j&&(r.lastCombine=x),!y&&!v&&!j)return;const w={...Yx(m,r.mode),combine:x,destination:p};n.add(()=>{af("onDragUpdate",()=>v_(t().onDragUpdate,w,s,_0.onDragUpdate))})},c=()=>{r||yt(),n.flush()},d=m=>{r||yt(),r=null,af("onDragEnd",()=>v_(t().onDragEnd,m,s,_0.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:l,update:o,flush:c,drop:d,abort:()=>{if(!r)return;const m={...Yx(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(m)}}},Xje=(t,s)=>{const n=Jje(t,s);return r=>a=>i=>{if(Ys(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Ys(i,"INITIAL_PUBLISH")){const o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),a(i),n.start(o,i.payload.movementMode);return}if(Ys(i,"DROP_COMPLETE")){const o=i.payload.completed.result;n.flush(),a(i),n.drop(o);return}if(a(i),Ys(i,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const Zje=t=>s=>n=>{if(!Ys(n,"DROP_ANIMATION_FINISHED")){s(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&yt(),t.dispatch(Sk({completed:r.completed}))},ewe=t=>{let s=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),s&&(s(),s=null)}return a=>i=>{if((Ys(i,"FLUSH")||Ys(i,"DROP_COMPLETE")||Ys(i,"DROP_ANIMATION_FINISHED"))&&r(),a(i),!Ys(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(V9())}};n=requestAnimationFrame(()=>{n=null,s=ii(window,[l])})}};var twe=t=>()=>s=>n=>{(Ys(n,"DROP_COMPLETE")||Ys(n,"FLUSH")||Ys(n,"DROP_ANIMATE"))&&t.stopPublishing(),s(n)},swe=t=>{let s=!1;return()=>n=>r=>{if(Ys(r,"INITIAL_PUBLISH")){s=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!s){if(Ys(r,"FLUSH")){s=!1,t.tryRestoreFocusRecorded();return}if(Ys(r,"DROP_COMPLETE")){s=!1;const a=r.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const nwe=t=>Ys(t,"DROP_COMPLETE")||Ys(t,"DROP_ANIMATE")||Ys(t,"FLUSH");var rwe=t=>s=>n=>r=>{if(nwe(r)){t.stop(),n(r);return}if(Ys(r,"INITIAL_PUBLISH")){n(r);const a=s.getState();a.phase!=="DRAGGING"&&yt(),t.start(a);return}n(r),t.scroll(s.getState())};const awe=t=>s=>n=>{if(s(n),!Ys(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(z9({reason:r.reason})))},iwe=c9;var lwe=({dimensionMarshal:t,focusMarshal:s,styleMarshal:n,getResponders:r,announce:a,autoScroller:i})=>o9(xje,iwe(iye(Rje(n),twe(t),Dje(t),$je,Zje,ewe,awe,rwe(i),Wje,swe(s),Xje(r,a))));const y_=()=>({additions:{},removals:{},modified:{}});function owe({registry:t,callbacks:s}){let n=y_(),r=null;const a=()=>{r||(s.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:u}=n,m=Object.keys(c).map(x=>t.draggable.getById(x).getDimension(or)).sort((x,y)=>x.descriptor.index-y.descriptor.index),h=Object.keys(u).map(x=>{const v=t.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:v}}),p={additions:m,removals:Object.keys(d),modified:h};n=y_(),s.publish(p)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=y_())}}}var G9=({scrollHeight:t,scrollWidth:s,height:n,width:r})=>{const a=Da({x:s,y:t},{x:r,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},Y9=()=>{const t=document.documentElement;return t||yt(),t},Q9=()=>{const t=Y9();return G9({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},cwe=()=>{const t=K9(),s=Q9(),n=t.y,r=t.x,a=Y9(),i=a.clientWidth,l=a.clientHeight,o=r+i,c=n+l;return{frame:Ai({top:n,left:r,right:o,bottom:c}),scroll:{initial:t,current:t,max:s,diff:{value:or,displacement:or}}}},dwe=({critical:t,scrollOptions:s,registry:n})=>{const r=cwe(),a=r.scroll.current,i=t.droppable,l=n.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,s)),o=n.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:_9(o),droppables:N9(l)},critical:t,viewport:r}};function OR(t,s,n){return!(n.descriptor.id===s.id||n.descriptor.type!==s.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var uwe=(t,s)=>{let n=null;const r=owe({callbacks:{publish:s.publishWhileDragging,collectionStarting:s.collectionStarting},registry:t}),a=(h,p)=>{t.droppable.exists(h)||yt(),n&&s.updateDroppableIsEnabled({id:h,isEnabled:p})},i=(h,p)=>{n&&(t.droppable.exists(h)||yt(),s.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},l=(h,p)=>{n&&(t.droppable.exists(h)||yt(),s.updateDroppableScroll({id:h,newScroll:p}))},o=(h,p)=>{n&&t.droppable.getById(h).callbacks.scroll(p)},c=()=>{if(!n)return;r.stop();const h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(p=>p.callbacks.dragStopped()),n.unsubscribe(),n=null},d=h=>{n||yt();const p=n.critical.draggable;h.type==="ADDITION"&&OR(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&OR(t,p,h.value)&&r.remove(h.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:l,startPublishing:h=>{n&&yt();const p=t.draggable.getById(h.draggableId),x=t.droppable.getById(p.descriptor.droppableId),y={draggable:p.descriptor,droppable:x.descriptor},v=t.subscribe(d);return n={critical:y,unsubscribe:v},dwe({critical:y,registry:t,scrollOptions:h.scrollOptions})},stopPublishing:c}},J9=(t,s)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===s?!1:t.completed.result.reason==="DROP",hwe=t=>{window.scrollBy(t.x,t.y)};const mwe=ir(t=>Cy(t).filter(s=>!(!s.isEnabled||!s.frame))),fwe=(t,s)=>mwe(s).find(r=>(r.frame||yt(),D9(r.frame.pageMarginBox)(t)))||null;var pwe=({center:t,destination:s,droppables:n})=>{if(s){const a=n[s];return a.frame?a:null}return fwe(t,n)};const hp={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var gwe=(t,s,n=()=>hp)=>{const r=n(),a=t[s.size]*r.startFromPercentage,i=t[s.size]*r.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},X9=({startOfRange:t,endOfRange:s,current:n})=>{const r=s-t;return r===0?0:(n-t)/r},kk=1,xwe=(t,s,n=()=>hp)=>{const r=n();if(t>s.startScrollingFrom)return 0;if(t<=s.maxScrollValueAt)return r.maxPixelScroll;if(t===s.startScrollingFrom)return kk;const i=1-X9({startOfRange:s.maxScrollValueAt,endOfRange:s.startScrollingFrom,current:t}),l=r.maxPixelScroll*r.ease(i);return Math.ceil(l)},vwe=(t,s,n)=>{const r=n(),a=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,l=s,o=i,d=Date.now()-l;if(d>=i)return t;if(d<a)return kk;const u=X9({startOfRange:a,endOfRange:o,current:d}),m=t*r.ease(u);return Math.ceil(m)},MR=({distanceToEdge:t,thresholds:s,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:a})=>{const i=xwe(t,s,a);return i===0?0:r?Math.max(vwe(i,n,a),kk):i},DR=({container:t,distanceToEdges:s,dragStartTime:n,axis:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=gwe(t,r,i);return s[r.end]<s[r.start]?MR({distanceToEdge:s[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*MR({distanceToEdge:s[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},ywe=({container:t,subject:s,proposedScroll:n})=>{const r=s.height>t.height,a=s.width>t.width;return!a&&!r?n:a&&r?null:{x:a?0:n.x,y:r?0:n.y}};const bwe=w9(t=>t===0?0:t);var Z9=({dragStartTime:t,container:s,subject:n,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l={top:r.y-s.top,right:s.right-r.x,bottom:s.bottom-r.y,left:r.x-s.left},o=DR({container:s,distanceToEdges:l,dragStartTime:t,axis:yk,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=DR({container:s,distanceToEdges:l,dragStartTime:t,axis:k9,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=bwe({x:c,y:o});if(cc(d,or))return null;const u=ywe({container:s,subject:n,proposedScroll:d});return u?cc(u,or)?null:u:null};const jwe=w9(t=>t===0?0:t>0?1:-1),Ek=(()=>{const t=(s,n)=>s<0?s:s>n?s-n:0;return({current:s,max:n,change:r})=>{const a=pr(s,r),i={x:t(a.x,n.x),y:t(a.y,n.y)};return cc(i,or)?null:i}})(),eU=({max:t,current:s,change:n})=>{const r={x:Math.max(s.x,t.x),y:Math.max(s.y,t.y)},a=jwe(n),i=Ek({max:r,current:s,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},Tk=(t,s)=>eU({current:t.scroll.current,max:t.scroll.max,change:s}),wwe=(t,s)=>{if(!Tk(t,s))return null;const n=t.scroll.max,r=t.scroll.current;return Ek({current:r,max:n,change:s})},Pk=(t,s)=>{const n=t.frame;return n?eU({current:n.scroll.current,max:n.scroll.max,change:s}):!1},Nwe=(t,s)=>{const n=t.frame;return!n||!Pk(t,s)?null:Ek({current:n.scroll.current,max:n.scroll.max,change:s})};var _we=({viewport:t,subject:s,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=Z9({dragStartTime:r,container:t.frame,subject:s,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&Tk(t,l)?l:null},Swe=({droppable:t,subject:s,center:n,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=t.frame;if(!l)return null;const o=Z9({dragStartTime:r,container:l.pageMarginBox,subject:s,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&Pk(t,o)?o:null},RR=({state:t,dragStartTime:s,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:a,getAutoScrollerOptions:i})=>{const l=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const m=t.viewport,h=_we({dragStartTime:s,viewport:m,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:i});if(h){r(h);return}}const d=pwe({center:l,destination:Ba(t.impact),droppables:t.dimensions.droppables});if(!d)return;const u=Swe({dragStartTime:s,droppable:d,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},Cwe=({scrollWindow:t,scrollDroppable:s,getAutoScrollerOptions:n=()=>hp})=>{const r=lp(t),a=lp(s);let i=null;const l=d=>{i||yt();const{shouldUseTimeDampening:u,dragStartTime:m}=i;RR({state:d,scrollWindow:r,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:d=>{i&&yt();const u=Date.now();let m=!1;const h=()=>{m=!0};RR({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:n}),i={dragStartTime:u,shouldUseTimeDampening:m},m&&l(d)},stop:()=>{i&&(r.cancel(),a.cancel(),i=null)},scroll:l}},kwe=({move:t,scrollDroppable:s,scrollWindow:n})=>{const r=(o,c)=>{const d=pr(o.current.client.selection,c);t({client:d})},a=(o,c)=>{if(!Pk(o,c))return c;const d=Nwe(o,c);if(!d)return s(o.descriptor.id,c),null;const u=Da(c,d);return s(o.descriptor.id,u),Da(c,u)},i=(o,c,d)=>{if(!o||!Tk(c,d))return d;const u=wwe(c,d);if(!u)return n(d),null;const m=Da(d,u);return n(m),Da(d,m)};return o=>{const c=o.scrollJumpRequest;if(!c)return;const d=Ba(o.impact);d||yt();const u=a(o.dimensions.droppables[d],c);if(!u)return;const m=o.viewport,h=i(o.isWindowScrollAllowed,m,u);h&&r(o,h)}},Ewe=({scrollDroppable:t,scrollWindow:s,move:n,getAutoScrollerOptions:r})=>{const a=Cwe({scrollWindow:s,scrollDroppable:t,getAutoScrollerOptions:r}),i=kwe({move:n,scrollWindow:s,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const Fh="data-rfd",Ih=(()=>{const t=`${Fh}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),MS=(()=>{const t=`${Fh}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Twe=(()=>{const t=`${Fh}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),FR={contextId:`${Fh}-scroll-container-context-id`},Pwe=t=>s=>`[${s}="${t}"]`,lf=(t,s)=>t.map(n=>{const r=n.styles[s];return r?`${n.selector} { ${r} }`:""}).join(" "),Awe="pointer-events: none;";var Owe=t=>{const s=Pwe(t),n=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:s(Ih.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Awe,dropAnimating:o}}})(),r=(()=>{const o=`
      transition: ${Df.outOfTheWay};
    `;return{selector:s(MS.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),a={selector:s(Twe.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:lf(l,"always"),resting:lf(l,"resting"),dragging:lf(l,"dragging"),dropAnimating:lf(l,"dropAnimating"),userCancel:lf(l,"userCancel")}};const qa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,b_=()=>{const t=document.querySelector("head");return t||yt(),t},IR=t=>{const s=document.createElement("style");return t&&s.setAttribute("nonce",t),s.type="text/css",s};function Mwe(t,s){const n=Is(()=>Owe(t),[t]),r=b.useRef(null),a=b.useRef(null),i=Kt(ir(m=>{const h=a.current;h||yt(),h.textContent=m}),[]),l=Kt(m=>{const h=r.current;h||yt(),h.textContent=m},[]);qa(()=>{!r.current&&!a.current||yt();const m=IR(s),h=IR(s);return r.current=m,a.current=h,m.setAttribute(`${Fh}-always`,t),h.setAttribute(`${Fh}-dynamic`,t),b_().appendChild(m),b_().appendChild(h),l(n.always),i(n.resting),()=>{const p=x=>{const y=x.current;y||yt(),b_().removeChild(y),x.current=null};p(r),p(a)}},[s,l,i,n.always,n.resting,t]);const o=Kt(()=>i(n.dragging),[i,n.dragging]),c=Kt(m=>{if(m==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),d=Kt(()=>{a.current&&i(n.resting)},[i,n.resting]);return Is(()=>({dragging:o,dropping:c,resting:d}),[o,c,d])}function tU(t,s){return Array.from(t.querySelectorAll(s))}var sU=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function Py(t){return t instanceof sU(t).HTMLElement}function Dwe(t,s){const n=`[${Ih.contextId}="${t}"]`,r=tU(document,n);if(!r.length)return null;const a=r.find(i=>i.getAttribute(Ih.draggableId)===s);return!a||!Py(a)?null:a}function Rwe(t){const s=b.useRef({}),n=b.useRef(null),r=b.useRef(null),a=b.useRef(!1),i=Kt(function(h,p){const x={id:h,focus:p};return s.current[h]=x,function(){const v=s.current;v[h]!==x&&delete v[h]}},[]),l=Kt(function(h){const p=Dwe(t,h);p&&p!==document.activeElement&&p.focus()},[t]),o=Kt(function(h,p){n.current===h&&(n.current=p)},[]),c=Kt(function(){r.current||a.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const h=n.current;h&&l(h)}))},[l]),d=Kt(function(h){n.current=null;const p=document.activeElement;p&&p.getAttribute(Ih.draggableId)===h&&(n.current=h)},[]);return qa(()=>(a.current=!0,function(){a.current=!1;const h=r.current;h&&cancelAnimationFrame(h)}),[]),Is(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}),[i,d,c,o])}function Fwe(){const t={draggables:{},droppables:{}},s=[];function n(m){return s.push(m),function(){const p=s.indexOf(m);p!==-1&&s.splice(p,1)}}function r(m){s.length&&s.forEach(h=>h(m))}function a(m){return t.draggables[m]||null}function i(m){const h=a(m);return h||yt(),h}const l={register:m=>{t.draggables[m.descriptor.id]=m,r({type:"ADDITION",value:m})},update:(m,h)=>{const p=t.draggables[h.descriptor.id];p&&p.uniqueId===m.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[m.descriptor.id]=m)},unregister:m=>{const h=m.descriptor.id,p=a(h);p&&m.uniqueId===p.uniqueId&&(delete t.draggables[h],t.droppables[m.descriptor.droppableId]&&r({type:"REMOVAL",value:m}))},getById:i,findById:a,exists:m=>!!a(m),getAllByType:m=>Object.values(t.draggables).filter(h=>h.descriptor.type===m)};function o(m){return t.droppables[m]||null}function c(m){const h=o(m);return h||yt(),h}const d={register:m=>{t.droppables[m.descriptor.id]=m},unregister:m=>{const h=o(m.descriptor.id);h&&m.uniqueId===h.uniqueId&&delete t.droppables[m.descriptor.id]},getById:c,findById:o,exists:m=>!!o(m),getAllByType:m=>Object.values(t.droppables).filter(h=>h.descriptor.type===m)};function u(){t.draggables={},t.droppables={},s.length=0}return{draggable:l,droppable:d,subscribe:n,clean:u}}function Iwe(){const t=Is(Fwe,[]);return b.useEffect(()=>function(){t.clean()},[t]),t}var Ak=Be.createContext(null),uv=()=>{const t=document.body;return t||yt(),t};const Lwe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Bwe=t=>`rfd-announcement-${t}`;function qwe(t){const s=Is(()=>Bwe(t),[t]),n=b.useRef(null);return b.useEffect(function(){const i=document.createElement("div");return n.current=i,i.id=s,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),lv(i.style,Lwe),uv().appendChild(i),function(){setTimeout(function(){const c=uv();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[s]),Kt(a=>{const i=n.current;if(i){i.textContent=a;return}},[])}const $we={separator:"::"};function Ok(t,s=$we){const n=Be.useId();return Is(()=>`${t}${s.separator}${n}`,[s.separator,t,n])}function Uwe({contextId:t,uniqueId:s}){return`rfd-hidden-text-${t}-${s}`}function zwe({contextId:t,text:s}){const n=Ok("hidden-text",{separator:"-"}),r=Is(()=>Uwe({contextId:t,uniqueId:n}),[n,t]);return b.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=s,i.style.display="none",uv().appendChild(i),function(){const o=uv();o.contains(i)&&o.removeChild(i)}},[r,s]),r}var Ay=Be.createContext(null);function nU(t){const s=b.useRef(t);return b.useEffect(()=>{s.current=t}),s}function Vwe(){let t=null;function s(){return!!t}function n(l){return l===t}function r(l){t&&yt();const o={abandon:l};return t=o,o}function a(){t||yt(),t=null}function i(){t&&(t.abandon(),a())}return{isClaimed:s,isActive:n,claim:r,release:a,tryAbandon:i}}function mp(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const Wwe=9,Hwe=13,Mk=27,rU=32,Kwe=33,Gwe=34,Ywe=35,Qwe=36,Jwe=37,Xwe=38,Zwe=39,eNe=40,tNe={[Hwe]:!0,[Wwe]:!0};var aU=t=>{tNe[t.keyCode]&&t.preventDefault()};const Oy=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),iU=0,LR=5;function sNe(t,s){return Math.abs(s.x-t.x)>=LR||Math.abs(s.y-t.y)>=LR}const BR={type:"IDLE"};function nNe({cancel:t,completed:s,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:l,clientY:o}=a;if(i!==iU)return;const c={x:l,y:o},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&yt();const u=d.point;if(!sNe(u,c))return;a.preventDefault();const m=d.actions.fluidLift(c);r({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:a=>{const i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"mousedown",fn:a=>{n().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:a=>{if(n().type==="PENDING"){t();return}if(a.keyCode===Mk){a.preventDefault(),t();return}aU(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=n();if(i.type==="IDLE"&&yt(),i.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:Oy,fn:t}]}function rNe(t){const s=b.useRef(BR),n=b.useRef(oc),r=Is(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==iU||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const h=t.findClosestDraggableId(m);if(!h)return;const p=t.tryGetLock(h,l,{sourceEvent:m});if(!p)return;m.preventDefault();const x={x:m.clientX,y:m.clientY};n.current(),d(p,x)}}),[t]),a=Is(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const m=t.findClosestDraggableId(u);if(!m)return;const h=t.findOptionsForDraggable(m);h&&(h.shouldRespectForcePress||t.canGetLock(m)&&u.preventDefault())}}),[t]),i=Kt(function(){const m={passive:!1,capture:!0};n.current=ii(window,[a,r],m)},[a,r]),l=Kt(()=>{s.current.type!=="IDLE"&&(s.current=BR,n.current(),i())},[i]),o=Kt(()=>{const u=s.current;l(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[l]),c=Kt(function(){const m={capture:!0,passive:!1},h=nNe({cancel:o,completed:l,getPhase:()=>s.current,setPhase:p=>{s.current=p}});n.current=ii(window,h,m)},[o,l]),d=Kt(function(m,h){s.current.type!=="IDLE"&&yt(),s.current={type:"PENDING",point:h,actions:m},c()},[c]);qa(function(){return i(),function(){n.current()}},[i])}function aNe(){}const iNe={[Gwe]:!0,[Kwe]:!0,[Qwe]:!0,[Ywe]:!0};function lNe(t,s){function n(){s(),t.cancel()}function r(){s(),t.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===Mk){a.preventDefault(),n();return}if(a.keyCode===rU){a.preventDefault(),r();return}if(a.keyCode===eNe){a.preventDefault(),t.moveDown();return}if(a.keyCode===Xwe){a.preventDefault(),t.moveUp();return}if(a.keyCode===Zwe){a.preventDefault(),t.moveRight();return}if(a.keyCode===Jwe){a.preventDefault(),t.moveLeft();return}if(iNe[a.keyCode]){a.preventDefault();return}aU(a)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Oy,fn:n}]}function oNe(t){const s=b.useRef(aNe),n=Is(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==rU)return;const l=t.findClosestDraggableId(i);if(!l)return;const o=t.tryGetLock(l,u,{sourceEvent:i});if(!o)return;i.preventDefault();let c=!0;const d=o.snapLift();s.current();function u(){c||yt(),c=!1,s.current(),r()}s.current=ii(window,lNe(d,u),{capture:!0,passive:!1})}}),[t]),r=Kt(function(){const i={passive:!1,capture:!0};s.current=ii(window,[n],i)},[n]);qa(function(){return r(),function(){s.current()}},[r])}const j_={type:"IDLE"},cNe=120,dNe=.15;function uNe({cancel:t,getPhase:s}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(s().type!=="DRAGGING"){t();return}n.keyCode===Mk&&n.preventDefault(),t()}},{eventName:Oy,fn:t}]}function hNe({cancel:t,completed:s,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;const{clientX:i,clientY:l}=r.touches[0],o={x:i,y:l};r.preventDefault(),a.actions.move(o)}},{eventName:"touchend",fn:r=>{const a=n();if(a.type!=="DRAGGING"){t();return}r.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),s()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const a=n();a.type==="IDLE"&&yt();const i=r.touches[0];if(!i||!(i.force>=dNe))return;const o=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){o&&t();return}if(o){if(a.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:Oy,fn:t}]}function mNe(t){const s=b.useRef(j_),n=b.useRef(oc),r=Kt(function(){return s.current},[]),a=Kt(function(p){s.current=p},[]),i=Is(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const x=t.findClosestDraggableId(p);if(!x)return;const y=t.tryGetLock(x,o,{sourceEvent:p});if(!y)return;const v=p.touches[0],{clientX:j,clientY:w}=v,N={x:j,y:w};n.current(),m(y,N)}}),[t]),l=Kt(function(){const p={capture:!0,passive:!1};n.current=ii(window,[i],p)},[i]),o=Kt(()=>{const h=s.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(j_),n.current(),l())},[l,a]),c=Kt(()=>{const h=s.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),d=Kt(function(){const p={capture:!0,passive:!1},x={cancel:c,completed:o,getPhase:r},y=ii(window,hNe(x),p),v=ii(window,uNe(x),p);n.current=function(){y(),v()}},[c,r,o]),u=Kt(function(){const p=r();p.type!=="PENDING"&&yt();const x=p.actions.fluidLift(p.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[r,a]),m=Kt(function(p,x){r().type!=="IDLE"&&yt();const y=setTimeout(u,cNe);a({type:"PENDING",point:x,actions:p,longPressTimerId:y}),d()},[d,r,a,u]);qa(function(){return l(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(j_))}},[r,l,a]),qa(function(){return ii(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const fNe=["input","button","textarea","select","option","optgroup","video","audio"];function lU(t,s){if(s==null)return!1;if(fNe.includes(s.tagName.toLowerCase()))return!0;const r=s.getAttribute("contenteditable");return r==="true"||r===""?!0:s===t?!1:lU(t,s.parentElement)}function pNe(t,s){const n=s.target;return Py(n)?lU(t,n):!1}var gNe=t=>Ai(t.getBoundingClientRect()).center;function xNe(t){return t instanceof sU(t).Element}const vNe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function oU(t,s){return t==null?null:t[vNe](s)?t:oU(t.parentElement,s)}function yNe(t,s){return t.closest?t.closest(s):oU(t,s)}function bNe(t){return`[${Ih.contextId}="${t}"]`}function jNe(t,s){const n=s.target;if(!xNe(n))return null;const r=bNe(t),a=yNe(n,r);return!a||!Py(a)?null:a}function wNe(t,s){const n=jNe(t,s);return n?n.getAttribute(Ih.draggableId):null}function NNe(t,s){const n=`[${MS.contextId}="${t}"]`,a=tU(document,n).find(i=>i.getAttribute(MS.id)===s);return!a||!Py(a)?null:a}function _Ne(t){t.preventDefault()}function Qx({expected:t,phase:s,isLockActive:n,shouldWarn:r}){return!(!n()||t!==s)}function cU({lockAPI:t,store:s,registry:n,draggableId:r}){if(t.isClaimed())return!1;const a=n.draggable.findById(r);return!(!a||!a.options.isEnabled||!J9(s.getState(),r))}function SNe({lockAPI:t,contextId:s,store:n,registry:r,draggableId:a,forceSensorStop:i,sourceEvent:l}){if(!cU({lockAPI:t,store:n,registry:r,draggableId:a}))return null;const c=r.draggable.getById(a),d=NNe(s,c.descriptor.id);if(!d||l&&!c.options.canDragInteractiveElements&&pNe(d,l))return null;const u=t.claim(i||oc);let m="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function p(){return t.isActive(u)}function x(P,A){Qx({expected:P,phase:m,isLockActive:p,shouldWarn:!0})&&n.dispatch(A())}const y=x.bind(null,"DRAGGING");function v(P){function A(){t.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(A(),yt()),n.dispatch(yje(P.liftActionArgs)),m="DRAGGING";function E(C,R={shouldBlockNextClick:!1}){if(P.cleanup(),R.shouldBlockNextClick){const O=ii(window,[{eventName:"click",fn:_Ne,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}A(),n.dispatch(z9({reason:C}))}return{isActive:()=>Qx({expected:"DRAGGING",phase:m,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:C=>E("DROP",C),cancel:C=>E("CANCEL",C),...P.actions}}function j(P){const A=lp(C=>{y(()=>U9({client:C}))});return{...v({liftActionArgs:{id:a,clientSelection:P,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function w(){const P={moveUp:()=>y(Eje),moveRight:()=>y(Pje),moveDown:()=>y(Tje),moveLeft:()=>y(Aje)};return v({liftActionArgs:{id:a,clientSelection:gNe(d),movementMode:"SNAP"},cleanup:oc,actions:P})}function N(){Qx({expected:"PRE_DRAG",phase:m,isLockActive:p,shouldWarn:!0})&&t.release()}return{isActive:()=>Qx({expected:"PRE_DRAG",phase:m,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:j,snapLift:w,abort:N}}const CNe=[rNe,oNe,mNe];function kNe({contextId:t,store:s,registry:n,customSensors:r,enableDefaultSensors:a}){const i=[...a?CNe:[],...r||[]],l=b.useState(()=>Vwe())[0],o=Kt(function(v,j){mp(v)&&!mp(j)&&l.tryAbandon()},[l]);qa(function(){let v=s.getState();return s.subscribe(()=>{const w=s.getState();o(v,w),v=w})},[l,s,o]),qa(()=>l.tryAbandon,[l.tryAbandon]);const c=Kt(y=>cU({lockAPI:l,registry:n,store:s,draggableId:y}),[l,n,s]),d=Kt((y,v,j)=>SNe({lockAPI:l,registry:n,contextId:t,store:s,draggableId:y,forceSensorStop:v||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[t,l,n,s]),u=Kt(y=>wNe(t,y),[t]),m=Kt(y=>{const v=n.draggable.findById(y);return v?v.options:null},[n.draggable]),h=Kt(function(){l.isClaimed()&&(l.tryAbandon(),s.getState().phase!=="IDLE"&&s.dispatch(_k()))},[l,s]),p=Kt(()=>l.isClaimed(),[l]),x=Is(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:m,tryReleaseLock:h,isLockClaimed:p}),[c,d,u,m,h,p]);for(let y=0;y<i.length;y++)i[y](x)}const ENe=t=>({onBeforeCapture:s=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(s)};qd.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),TNe=t=>({...hp,...t.autoScrollerOptions,durationDampening:{...hp.durationDampening,...t.autoScrollerOptions}});function of(t){return t.current||yt(),t.current}function PNe(t){const{contextId:s,setCallbacks:n,sensors:r,nonce:a,dragHandleUsageInstructions:i}=t,l=b.useRef(null),o=nU(t),c=Kt(()=>ENe(o.current),[o]),d=Kt(()=>TNe(o.current),[o]),u=qwe(s),m=zwe({contextId:s,text:i}),h=Mwe(s,a),p=Kt(O=>{of(l).dispatch(O)},[]),x=Is(()=>uR({publishWhileDragging:jje,updateDroppableScroll:Nje,updateDroppableIsEnabled:_je,updateDroppableIsCombineEnabled:Sje,collectionStarting:wje},p),[p]),y=Iwe(),v=Is(()=>uwe(y,x),[y,x]),j=Is(()=>Ewe({scrollWindow:hwe,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...uR({move:U9},p)}),[v.scrollDroppable,p,d]),w=Rwe(s),N=Is(()=>lwe({announce:u,autoScroller:j,dimensionMarshal:v,focusMarshal:w,getResponders:c,styleMarshal:h}),[u,j,v,w,c,h]);l.current=N;const _=Kt(()=>{const O=of(l);O.getState().phase!=="IDLE"&&O.dispatch(_k())},[]),P=Kt(()=>{const O=of(l).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),A=Is(()=>({isDragging:P,tryAbort:_}),[P,_]);n(A);const E=Kt(O=>J9(of(l).getState(),O),[]),C=Kt(()=>Jc(of(l).getState()),[]),R=Is(()=>({marshal:v,focus:w,contextId:s,canLift:E,isMovementAllowed:C,dragHandleUsageInstructionsId:m,registry:y}),[s,v,m,w,E,C,y]);return kNe({contextId:s,store:N,registry:y,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),b.useEffect(()=>_,[_]),Be.createElement(Ay.Provider,{value:R},Be.createElement(tbe,{context:Ak,store:N},t.children))}function ANe(){return Be.useId()}function ig(t){const s=ANe(),n=t.dragHandleUsageInstructions||_0.dragHandleUsageInstructions;return Be.createElement(obe,null,r=>Be.createElement(PNe,{nonce:t.nonce,contextId:s,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const qR={dragging:5e3,dropAnimating:4500},ONe=(t,s)=>s?Df.drop(s.duration):t?Df.snap:Df.fluid,MNe=(t,s)=>{if(t)return s?up.opacity.drop:up.opacity.combining},DNe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function RNe(t){const n=t.dimension.client,{offset:r,combineWith:a,dropping:i}=t,l=!!a,o=DNe(t),c=!!i,d=c?AS.drop(r,l):AS.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ONe(o,i),transform:d,opacity:MNe(l,c),zIndex:c?qR.dropAnimating:qR.dragging,pointerEvents:"none"}}function FNe(t){return{transform:AS.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function INe(t){return t.type==="DRAGGING"?RNe(t):FNe(t)}function LNe(t,s,n=or){const r=window.getComputedStyle(s),a=s.getBoundingClientRect(),i=g9(a,r),l=iv(i,n),o={client:i,tagName:s.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:t,placeholder:o,displaceBy:c,client:i,page:l}}function BNe(t){const s=Ok("draggable"),{descriptor:n,registry:r,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}=t,c=Is(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:o}),[i,o,l]),d=Kt(p=>{const x=a();return x||yt(),LNe(n,x,p)},[n,a]),u=Is(()=>({uniqueId:s,descriptor:n,options:c,getDimension:d}),[n,d,c,s]),m=b.useRef(u),h=b.useRef(!0);qa(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),qa(()=>{if(h.current){h.current=!1;return}const p=m.current;m.current=u,r.draggable.update(u,p)},[u,r.draggable])}var Dk=Be.createContext(null);function hv(t){const s=b.useContext(t);return s||yt(),s}function qNe(t){t.preventDefault()}const $Ne=t=>{const s=b.useRef(null),n=Kt((A=null)=>{s.current=A},[]),r=Kt(()=>s.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:l}=hv(Ay),{type:o,droppableId:c}=hv(Dk),d=Is(()=>({id:t.draggableId,index:t.index,type:o,droppableId:c}),[t.draggableId,t.index,o,c]),{children:u,draggableId:m,isEnabled:h,shouldRespectForcePress:p,canDragInteractiveElements:x,isClone:y,mapped:v,dropAnimationFinished:j}=t;if(!y){const A=Is(()=>({descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:p,isEnabled:h}),[d,l,r,x,p,h]);BNe(A)}const w=Is(()=>h?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:qNe}:null,[a,i,m,h]),N=Kt(A=>{v.type==="DRAGGING"&&v.dropping&&A.propertyName==="transform"&&qd.flushSync(j)},[j,v]),_=Is(()=>{const A=INe(v),E=v.type==="DRAGGING"&&v.dropping?N:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":m,style:A,onTransitionEnd:E},dragHandleProps:w}},[a,w,m,v,N,n]),P=Is(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Be.createElement(Be.Fragment,null,u(_,v.snapshot,P))};var dU=(t,s)=>t===s,uU=t=>{const{combine:s,destination:n}=t;return n?n.droppableId:s?s.droppableId:null};const UNe=t=>t.combine?t.combine.draggableId:null,zNe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function VNe(){const t=ir((a,i)=>({x:a,y:i})),s=ir((a,i,l=null,o=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:l,combineWith:o,combineTargetFor:null})),n=ir((a,i,l,o,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:l,forceShouldAnimate:u,snapshot:s(i,o,c,d,null)}}));return(a,i)=>{if(mp(a)){if(a.critical.draggable.id!==i.draggableId)return null;const l=a.current.client.offset,o=a.dimensions.draggables[i.draggableId],c=Ba(a.impact),d=zNe(a.impact),u=a.forceShouldAnimate;return n(t(l.x,l.y),a.movementMode,o,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const l=a.completed;if(l.result.draggableId!==i.draggableId)return null;const o=i.isClone,c=a.dimensions.draggables[i.draggableId],d=l.result,u=d.mode,m=uU(d),h=UNe(d),x={duration:a.dropDuration,curve:Ck.drop,moveTo:a.newHomeClientOffset,opacity:h?up.opacity.drop:null,scale:h?up.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:m,combineWith:h,mode:u,forceShouldAnimate:null,snapshot:s(u,o,m,h,x)}}}return null}}function hU(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const WNe={mapped:{type:"SECONDARY",offset:or,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:hU(null)}};function HNe(){const t=ir((l,o)=>({x:l,y:o})),s=ir(hU),n=ir((l,o=null,c)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:s(o)}})),r=l=>l?n(or,l,!0):null,a=(l,o,c,d)=>{const u=c.displaced.visible[l],m=!!(d.inVirtualList&&d.effected[l]),h=ky(c),p=h&&h.draggableId===l?o:null;if(!u){if(!m)return r(p);if(c.displaced.invisible[l])return null;const v=cm(d.displacedBy.point),j=t(v.x,v.y);return n(j,p,!0)}if(m)return r(p);const x=c.displacedBy.point,y=t(x.x,x.y);return n(y,p,u.shouldAnimate)};return(l,o)=>{if(mp(l))return l.critical.draggable.id===o.draggableId?null:a(o.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const c=l.completed;return c.result.draggableId===o.draggableId?null:a(o.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const KNe=()=>{const t=VNe(),s=HNe();return(r,a)=>t(r,a)||s(r,a)||WNe},GNe={dropAnimationFinished:V9},YNe=p9(KNe,GNe,null,{context:Ak,areStatePropsEqual:dU})($Ne);function mU(t){return hv(Dk).isUsingCloneFor===t.draggableId&&!t.isClone?null:Be.createElement(YNe,t)}function Nd(t){const s=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Be.createElement(mU,lv({},t,{isClone:!1,isEnabled:s,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const fU=t=>s=>t===s,QNe=fU("scroll"),JNe=fU("auto"),$R=(t,s)=>s(t.overflowX)||s(t.overflowY),XNe=t=>{const s=window.getComputedStyle(t),n={overflowX:s.overflowX,overflowY:s.overflowY};return $R(n,QNe)||$R(n,JNe)},ZNe=()=>!1,pU=t=>t==null?null:t===document.body?ZNe()?t:null:t===document.documentElement?null:XNe(t)?t:pU(t.parentElement);var DS=t=>({x:t.scrollLeft,y:t.scrollTop});const gU=t=>t?window.getComputedStyle(t).position==="fixed"?!0:gU(t.parentElement):!1;var e_e=t=>{const s=pU(t),n=gU(t);return{closestScrollable:s,isFixedOnPage:n}},t_e=({descriptor:t,isEnabled:s,isCombineEnabled:n,isFixedOnPage:r,direction:a,client:i,page:l,closest:o})=>{const c=(()=>{if(!o)return null;const{scrollSize:h,client:p}=o,x=G9({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:x,diff:{value:or,displacement:or}}}})(),d=a==="vertical"?yk:k9,u=Rh({page:l,withPlaceholder:null,axis:d,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:s,client:i,page:l,frame:c,subject:u}};const s_e=(t,s)=>{const n=x9(t);if(!s||t!==s)return n;const r=n.paddingBox.top-s.scrollTop,a=n.paddingBox.left-s.scrollLeft,i=r+s.scrollHeight,l=a+s.scrollWidth,c=pk({top:r,right:l,bottom:i,left:a},n.border);return gk({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var n_e=({ref:t,descriptor:s,env:n,windowScroll:r,direction:a,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:o})=>{const c=n.closestScrollable,d=s_e(t,c),u=iv(d,r),m=(()=>{if(!c)return null;const p=x9(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:iv(p,r),scroll:DS(c),scrollSize:x,shouldClipSubject:o}})();return t_e({descriptor:s,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:u,closest:m})};const r_e={passive:!1},a_e={passive:!0};var UR=t=>t.shouldPublishImmediately?r_e:a_e;const Jx=t=>t&&t.env.closestScrollable||null;function i_e(t){const s=b.useRef(null),n=hv(Ay),r=Ok("droppable"),{registry:a,marshal:i}=n,l=nU(t),o=Is(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=b.useRef(o),d=Is(()=>ir((_,P)=>{s.current||yt();const A={x:_,y:P};i.updateDroppableScroll(o.id,A)}),[o.id,i]),u=Kt(()=>{const _=s.current;return!_||!_.env.closestScrollable?or:DS(_.env.closestScrollable)},[]),m=Kt(()=>{const _=u();d(_.x,_.y)},[u,d]),h=Is(()=>lp(m),[m]),p=Kt(()=>{const _=s.current,P=Jx(_);if(_&&P||yt(),_.scrollOptions.shouldPublishImmediately){m();return}h()},[h,m]),x=Kt((_,P)=>{s.current&&yt();const A=l.current,E=A.getDroppableRef();E||yt();const C=e_e(E),R={ref:E,descriptor:o,env:C,scrollOptions:P};s.current=R;const O=n_e({ref:E,descriptor:o,env:C,windowScroll:_,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),k=C.closestScrollable;return k&&(k.setAttribute(FR.contextId,n.contextId),k.addEventListener("scroll",p,UR(R.scrollOptions))),O},[n.contextId,o,p,l]),y=Kt(()=>{const _=s.current,P=Jx(_);return _&&P||yt(),DS(P)},[]),v=Kt(()=>{const _=s.current;_||yt();const P=Jx(_);s.current=null,P&&(h.cancel(),P.removeAttribute(FR.contextId),P.removeEventListener("scroll",p,UR(_.scrollOptions)))},[p,h]),j=Kt(_=>{const P=s.current;P||yt();const A=Jx(P);A||yt(),A.scrollTop+=_.y,A.scrollLeft+=_.x},[]),w=Is(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:y,dragStopped:v,scroll:j}),[v,x,y,j]),N=Is(()=>({uniqueId:r,descriptor:o,callbacks:w}),[w,o,r]);qa(()=>(c.current=N.descriptor,a.droppable.register(N),()=>{s.current&&v(),a.droppable.unregister(N)}),[w,o,v,N,i,a.droppable]),qa(()=>{s.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),qa(()=>{s.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function w_(){}const zR={width:0,height:0,margin:pbe},l_e=({isAnimatingOpenOnMount:t,placeholder:s,animate:n})=>t||n==="close"?zR:{height:s.client.borderBox.height,width:s.client.borderBox.width,margin:s.client.margin},o_e=({isAnimatingOpenOnMount:t,placeholder:s,animate:n})=>{const r=l_e({isAnimatingOpenOnMount:t,placeholder:s,animate:n});return{display:s.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Df.placeholder:null}},c_e=t=>{const s=b.useRef(null),n=Kt(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),{animate:r,onTransitionEnd:a,onClose:i,contextId:l}=t,[o,c]=b.useState(t.animate==="open");b.useEffect(()=>o?r!=="open"?(n(),c(!1),w_):s.current?w_:(s.current=setTimeout(()=>{s.current=null,c(!1)}),n):w_,[r,o,n]);const d=Kt(m=>{m.propertyName==="height"&&(a(),r==="close"&&i())},[r,i,a]),u=o_e({isAnimatingOpenOnMount:o,animate:t.animate,placeholder:t.placeholder});return Be.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":l,onTransitionEnd:d,ref:t.innerRef})};var d_e=Be.memo(c_e);class u_e extends Be.PureComponent{constructor(...s){super(...s),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(s,n){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)}}const h_e=t=>{const s=b.useContext(Ay);s||yt();const{contextId:n,isMovementAllowed:r}=s,a=b.useRef(null),i=b.useRef(null),{children:l,droppableId:o,type:c,mode:d,direction:u,ignoreContainerClipping:m,isDropDisabled:h,isCombineEnabled:p,snapshot:x,useClone:y,updateViewportMaxScroll:v,getContainerForClone:j}=t,w=Kt(()=>a.current,[]),N=Kt((k=null)=>{a.current=k},[]);Kt(()=>i.current,[]);const _=Kt((k=null)=>{i.current=k},[]),P=Kt(()=>{r()&&v({maxScroll:Q9()})},[r,v]);i_e({droppableId:o,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:m,getDroppableRef:w});const A=Is(()=>Be.createElement(u_e,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:k,data:T,animate:D})=>Be.createElement(d_e,{placeholder:T,onClose:k,innerRef:_,animate:D,contextId:n,onTransitionEnd:P})),[n,P,t.placeholder,t.shouldAnimatePlaceholder,_]),E=Is(()=>({innerRef:N,placeholder:A,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}}),[n,o,A,N]),C=y?y.dragging.draggableId:null,R=Is(()=>({droppableId:o,type:c,isUsingCloneFor:C}),[o,C,c]);function O(){if(!y)return null;const{dragging:k,render:T}=y,D=Be.createElement(mU,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(F,U)=>T(F,U,k));return w5.createPortal(D,j())}return Be.createElement(Dk.Provider,{value:R},l(E,x),O())};function m_e(){return document.body||yt(),document.body}const VR={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:m_e},xU=t=>{let s={...t},n;for(n in VR)t[n]===void 0&&(s={...s,[n]:VR[n]});return s},N_=(t,s)=>t===s.droppable.type,WR=(t,s)=>s.draggables[t.draggable.id],f_e=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},s={...t,shouldAnimatePlaceholder:!1},n=ir(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=ir((i,l,o,c,d,u)=>{const m=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:n(d.descriptor)}:null,y={isDraggingOver:o,draggingOverWith:o?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:x}}if(!l)return s;if(!c)return t;const p={isDraggingOver:o,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(i,l)=>{const o=xU(l),c=o.droppableId,d=o.type,u=!o.isDropDisabled,m=o.renderClone;if(mp(i)){const h=i.critical;if(!N_(d,h))return s;const p=WR(h,i.dimensions),x=Ba(i.impact)===c;return r(c,u,x,x,p,m)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(!N_(d,h.critical))return s;const p=WR(h.critical,i.dimensions);return r(c,u,uU(h.result)===c,Ba(h.impact)===c,p,m)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const h=i.completed;if(!N_(d,h.critical))return s;const p=Ba(h.impact)===c,x=!!(h.impact.at&&h.impact.at.type==="COMBINE"),y=h.critical.droppable.id===c;return p?x?t:s:y?t:s}return s}},p_e={updateViewportMaxScroll:kje},_d=p9(f_e,p_e,(t,s,n)=>({...xU(n),...t,...s}),{context:Ak,areStatePropsEqual:dU})(h_e);function g_e({onClose:t,onSelectTemplate:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),{data:l,isLoading:o}=me({queryKey:["iedit-templates"],queryFn:()=>ee.entities.IEditElementTemplate.filter({is_active:!0},"display_order"),initialData:[]}),c=[{id:"all",label:"All",icon:Oj},{id:"layout",label:"Layout",icon:Oj},{id:"content",label:"Content",icon:M0},{id:"media",label:"Media",icon:Ti},{id:"interactive",label:"Interactive",icon:t1}],d=l.filter(h=>{var y,v;const p=((y=h.name)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))||((v=h.description)==null?void 0:v.toLowerCase().includes(n.toLowerCase())),x=a==="all"||h.category===a;return p&&x}),u={Type:M0,Image:Ti,Layout:Oj,Zap:t1,Square:r4},m=h=>{const p=u[h]||r4;return e.jsx(p,{className:"w-8 h-8"})};return e.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white border-l border-slate-200 shadow-xl z-50 flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Add Element"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:t,children:e.jsx(ks,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search elements...",value:n,onChange:h=>r(h.target.value),className:"pl-10"})]})]}),e.jsx("div",{className:"flex gap-1 p-4 border-b border-slate-200 overflow-x-auto",children:c.map(h=>{const p=h.icon;return e.jsxs("button",{onClick:()=>i(h.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm whitespace-nowrap transition-colors ${a===h.id?"bg-blue-100 text-blue-700 font-medium":"text-slate-600 hover:bg-slate-100"}`,children:[e.jsx(p,{className:"w-4 h-4"}),h.label]},h.id)})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading templates..."}):d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-slate-600 mb-2",children:"No elements found"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:"space-y-2",children:d.map(h=>e.jsx(le,{className:"border-slate-200 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>s(h),children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-600",children:m(h.icon)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:h.name}),h.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:h.description}),h.available_variants&&h.available_variants.length>1&&e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[h.available_variants.length," variants available"]})]})]})})},h.id))})})]})}function x_e({element:t,isDragging:s,onEdit:n,onDelete:r,onDuplicate:a}){var i,l,o;return e.jsx(le,{className:`border-slate-200 transition-shadow ${s?"shadow-2xl":"hover:shadow-md"}`,children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"cursor-grab active:cursor-grabbing text-slate-400 hover:text-slate-600",children:e.jsx(zd,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-slate-900 capitalize",children:t.element_type.replace(/_/g," ")}),t.style_variant&&t.style_variant!=="default"&&e.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-0.5 rounded",children:t.style_variant})]}),e.jsx("div",{className:"text-sm text-slate-600 truncate",children:((i=t.content)==null?void 0:i.heading)||((l=t.content)==null?void 0:l.title)||((o=t.content)==null?void 0:o.text)||"No content"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:n,className:"hover:bg-blue-50 hover:text-blue-700",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:a,className:"hover:bg-slate-100",children:e.jsx(ni,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:r,className:"hover:bg-red-50 hover:text-red-700",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})})})}function v_e({sectionId:t}){const[s,n]=b.useState(null),[r,a]=b.useState(null),{data:i,isLoading:l}=me({queryKey:["wall-of-fame-section",t],queryFn:async()=>(await ee.entities.WallOfFameSection.list()).find(v=>v.id===t),enabled:!!t}),{data:o=[],isLoading:c}=me({queryKey:["wall-of-fame-categories",t],queryFn:async()=>(await ee.entities.WallOfFameCategory.list()).filter(v=>v.section_id===t&&v.is_active).sort((v,j)=>(v.display_order||0)-(j.display_order||0)),enabled:!!t}),{data:d=[],isLoading:u}=me({queryKey:["wall-of-fame-people",s==null?void 0:s.id],queryFn:async()=>(await ee.entities.WallOfFamePerson.list()).filter(v=>v.category_id===s.id&&v.is_active).sort((v,j)=>(v.display_order||0)-(j.display_order||0)),enabled:!!s}),{data:m}=me({queryKey:["wall-of-fame-photo-size"],queryFn:async()=>{const v=(await ee.entities.SystemSettings.list()).find(j=>j.setting_key==="wall_of_fame_photo_size");return(v==null?void 0:v.setting_value)||"medium"},staleTime:300*1e3}),h=m||"medium",p={small:"w-24 h-24",medium:"w-32 h-32",large:"w-40 h-40"};return l||c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):i?e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-4",children:i.name}),i.description&&e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:i.description})]}),s?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx(X,{variant:"outline",onClick:()=>{n(null),a(null)},className:"mb-4",children:" Back to Categories"}),e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:s.name}),s.description&&e.jsx("p",{className:"text-slate-600",children:s.description})]}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(y=>e.jsx("div",{className:"perspective-1000",style:{perspective:"1000px"},children:e.jsxs("div",{className:`relative w-full h-96 transition-all duration-700 cursor-pointer transform-style-3d ${r===y.id?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d",transform:r===y.id?"rotateY(180deg)":"rotateY(0deg)"},onClick:()=>a(r===y.id?null:y.id),children:[e.jsx("div",{className:"absolute w-full h-full backface-hidden",style:{backfaceVisibility:"hidden"},children:e.jsxs(le,{className:"w-full h-full p-6 flex flex-col items-center justify-center text-center border-2 border-slate-200 hover:border-blue-500 transition-colors bg-white",children:[e.jsx("div",{className:`${p[h]} rounded-full bg-slate-100 flex items-center justify-center overflow-hidden mb-4 flex-shrink-0 aspect-square`,style:{minWidth:h==="large"?"10rem":h==="medium"?"8rem":"6rem",minHeight:h==="large"?"10rem":h==="medium"?"8rem":"6rem"},children:y.profile_photo_url?e.jsx("img",{src:y.profile_photo_url,alt:`${y.first_name} ${y.last_name}`,className:"w-full h-full object-cover",style:{borderRadius:"50%"}}):e.jsx(sn,{className:`${h==="large"?"w-20 h-20":h==="medium"?"w-16 h-16":"w-12 h-12"} text-slate-400`})}),e.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-1",children:[y.first_name," ",y.last_name]}),y.job_title&&e.jsx("p",{className:"text-sm text-slate-600",children:y.job_title}),(y.secondary_organisation||y.secondary_job_title)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-px bg-slate-300 mx-auto my-2"}),y.secondary_job_title&&e.jsx("p",{className:"text-xs text-slate-600",children:y.secondary_job_title}),y.secondary_organisation&&e.jsx("p",{className:"text-xs text-slate-500",children:y.secondary_organisation})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Click to view details"})]})}),e.jsx("div",{className:"absolute w-full h-full backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsx(le,{className:"w-full h-full p-6 overflow-y-auto border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-white",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-1",children:[y.first_name," ",y.last_name]}),y.job_title&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:y.job_title}),(y.secondary_organisation||y.secondary_job_title)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-px bg-slate-300 mx-auto my-2"}),y.secondary_job_title&&e.jsx("p",{className:"text-xs text-slate-700",children:y.secondary_job_title}),y.secondary_organisation&&e.jsx("p",{className:"text-xs text-slate-600",children:y.secondary_organisation})]})]}),y.biography&&e.jsx("div",{className:"flex-1 overflow-y-auto mb-4",children:e.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:y.biography})}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[y.email&&e.jsxs("a",{href:`mailto:${y.email}`,className:"flex items-center justify-center gap-2 px-3 py-2 text-sm bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",onClick:v=>v.stopPropagation(),children:[e.jsx(Rs,{className:"w-4 h-4"}),"Email"]}),y.linkedin_url&&e.jsxs("a",{href:y.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:v=>v.stopPropagation(),children:[e.jsx(jh,{className:"w-4 h-4"}),"LinkedIn"]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-4 text-center",children:"Click to flip back"})]})})})]})},y.id))})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(y=>e.jsx(le,{className:"p-8 cursor-pointer hover:shadow-xl transition-all duration-300 border-2 border-slate-200 hover:border-blue-500 bg-white",onClick:()=>n(y),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mx-auto mb-4",children:e.jsx(sn,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-slate-600",children:y.description})]})},y.id))})]})}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-600",children:"Section not found"})})}function y_e({element:t,onChange:s}){var i;const{data:n=[]}=me({queryKey:["wall-of-fame-sections-selector"],queryFn:()=>ee.entities.WallOfFameSection.list()}),r=n.filter(l=>l.is_active).sort((l,o)=>(l.display_order||0)-(o.display_order||0)),a=l=>{s({...t,content:{...t.content,section_id:l}})};return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Wall of Fame Section"}),e.jsxs(Ge,{value:((i=t.content)==null?void 0:i.section_id)||"",onValueChange:a,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a section to display"})}),e.jsx(We,{children:r.length===0?e.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No sections available"}):r.map(l=>e.jsx(re,{value:l.id,children:l.name},l.id))})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Choose which Wall of Fame section to display on this page"})]})})}function b_e({element:t,content:s}){var r;const n=((r=t.content)==null?void 0:r.section_id)||(s==null?void 0:s.section_id);return n?e.jsx(v_e,{sectionId:n}):e.jsx("div",{className:"bg-slate-100 border-2 border-dashed border-slate-300 rounded-lg p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Please select a Wall of Fame section to display"})})}function j_e({element:t,onChange:s}){const n=t.content||{},r=(i,l)=>{s({...t,content:{...n,[i]:l}})},a=async i=>{var o;const l=(o=i.target.files)==null?void 0:o[0];if(l)try{const{file_url:c}=await ee.integrations.Core.UploadFile({file:l});r("backgroundImage",c)}catch(c){console.error("Failed to upload image:",c)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{children:"Background Image"}),n.backgroundImage?e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:n.backgroundImage,alt:"Background",className:"w-full h-32 object-cover rounded-lg"}),e.jsx(X,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>r("backgroundImage",""),children:e.jsx(ks,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"mt-2",children:e.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer hover:border-slate-400 transition-colors",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Xs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Click to upload image"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:a})]})})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"header",children:"Header"}),e.jsx(he,{id:"header",value:n.header||"",onChange:i=>r("header",i.target.value),placeholder:"Enter header text"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"text",children:"Text Content"}),e.jsx(Qt,{id:"text",value:n.text||"",onChange:i=>r("text",i.target.value),placeholder:"Enter text content",rows:4})]}),e.jsxs("div",{children:[e.jsx(Z,{children:"Text Position"}),e.jsxs(Ge,{value:n.textPosition||"left",onValueChange:i=>r("textPosition",i),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{children:"Border Style"}),e.jsxs(Ge,{value:n.borderStyle||"none",onValueChange:i=>r("borderStyle",i),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"solid",children:"Solid"}),e.jsx(re,{value:"dashed",children:"Dashed"}),e.jsx(re,{value:"dotted",children:"Dotted"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"borderColor",children:"Border Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"borderColor",type:"color",value:n.borderColor||"#000000",onChange:i=>r("borderColor",i.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.borderColor||"#000000",onChange:i=>r("borderColor",i.target.value),placeholder:"#000000"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"backgroundColor",type:"color",value:n.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value),placeholder:"#ffffff"})]})]}),e.jsxs("div",{children:[e.jsxs(Z,{htmlFor:"opacity",children:["Background Opacity (",Math.round((n.opacity!==void 0?n.opacity:1)*100),"%)"]}),e.jsx(he,{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:n.opacity!==void 0?n.opacity:1,onChange:i=>r("opacity",parseFloat(i.target.value))})]})]})}function w_e({element:t}){const s=t.content||{},n=s.textPosition||"left",r=s.borderStyle||"none",a=s.borderColor||"#000000",i=s.backgroundColor||"#ffffff",l=s.opacity!==void 0?s.opacity:1,o={backgroundColor:i,opacity:l,border:r!=="none"?`2px ${r} ${a}`:"none"};return e.jsx("div",{className:"relative w-full min-h-[400px] flex items-center justify-center",style:{backgroundImage:s.backgroundImage?`url(${s.backgroundImage})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundColor:s.backgroundImage?void 0:"#f1f5f9"},children:e.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 py-12",children:e.jsx("div",{className:`max-w-xl ${n==="right"?"ml-auto":"mr-auto"}`,children:e.jsxs("div",{className:"p-8 rounded-lg",style:o,children:[s.header&&e.jsx("h2",{className:"text-3xl font-bold mb-4 text-slate-900",children:s.header}),s.text&&e.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap",children:s.text})]})})})})}function N_e({element:t,onChange:s}){const n=t.content||{rows:2,cols:2,cells:{},cellTypes:{},columnWidths:{},tableWidth:"full",tableAlign:"center",header:"",description:"",backgroundImage:"",backgroundColor:"#ffffff",sectionWidth:"full"},[r,a]=b.useState({}),i=(N,_)=>{s({...t,content:{...n,[N]:_}})},l=(N,_,P)=>{var C;const A=`${N}-${_}`;if(((C=n.cells)==null?void 0:C[A])===P)return;const E={...n.cells};E[A]=P,i("cells",E)},o=(N,_,P)=>{const A={...n.cellTypes};A[`${N}-${_}`]=P,i("cellTypes",A)},c=(N,_)=>{const P={...n.columnWidths};P[N]=parseFloat(_)||0,i("columnWidths",P)},d=async(N,_,P)=>{if(!P)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(P.type)){te.error("Please upload a valid image file");return}if(P.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}const E=`${N}-${_}`;a({...r,[E]:!0});try{const C=await ee.integrations.Core.UploadFile({file:P});l(N,_,C.file_url),te.success("Image uploaded")}catch(C){te.error("Upload failed: "+C.message)}finally{a(C=>({...C,[E]:!1}))}},u=N=>{const _=Math.max(1,parseInt(N)||1);i("rows",_)},m=N=>{const _=Math.max(1,parseInt(N)||1);i("cols",_)},h=n.rows||2,p=n.cols||2,x=n.cells||{},y=n.cellTypes||{},v=n.columnWidths||{},j=n.tableWidth||"full",w=n.tableAlign||"center";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"header",children:"Section Header"}),e.jsx(he,{id:"header",value:n.header||"",onChange:N=>i("header",N.target.value),placeholder:"Optional header text"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Section Description"}),e.jsx(Qt,{id:"description",value:n.description||"",onChange:N=>i("description",N.target.value),placeholder:"Optional description text",rows:3})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"sectionWidth",children:"Section Width"}),e.jsxs(Ge,{value:n.sectionWidth||"full",onValueChange:N=>i("sectionWidth",N),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"full",children:"Full Width"}),e.jsx(re,{value:"contained",children:"Contained (max-w-7xl)"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundImage",children:"Background Image URL"}),e.jsx(he,{id:"backgroundImage",value:n.backgroundImage||"",onChange:N=>i("backgroundImage",N.target.value),placeholder:"Optional background image URL"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"backgroundColor",type:"color",value:n.backgroundColor||"#ffffff",onChange:N=>i("backgroundColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.backgroundColor||"#ffffff",onChange:N=>i("backgroundColor",N.target.value),placeholder:"#ffffff"})]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsx("h3",{className:"font-semibold mb-4",children:"Table Settings"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"rows",children:"Rows"}),e.jsx(he,{id:"rows",type:"number",min:"1",max:"10",value:h,onChange:N=>u(N.target.value)})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"cols",children:"Columns"}),e.jsx(he,{id:"cols",type:"number",min:"1",max:"10",value:p,onChange:N=>m(N.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"tableWidth",children:"Table Width"}),e.jsxs(Ge,{value:j,onValueChange:N=>i("tableWidth",N),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"full",children:"Full Width"}),e.jsx(re,{value:"half",children:"Half Width"})]})]})]}),j==="half"&&e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"tableAlign",children:"Table Alignment"}),e.jsxs(Ge,{value:w,onValueChange:N=>i("tableAlign",N),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"borderStyle",children:"Border Style"}),e.jsxs(Ge,{value:n.borderStyle||"solid",onValueChange:N=>i("borderStyle",N),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"solid",children:"Solid"}),e.jsx(re,{value:"dashed",children:"Dashed"}),e.jsx(re,{value:"dotted",children:"Dotted"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"borderWidth",children:"Border Width (px)"}),e.jsx(he,{id:"borderWidth",type:"number",min:"0",max:"10",value:n.borderWidth||1,onChange:N=>i("borderWidth",parseInt(N.target.value)||0)})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"borderColor",children:"Border Color"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"borderColor",type:"color",value:n.borderColor||"#e2e8f0",onChange:N=>i("borderColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.borderColor||"#e2e8f0",onChange:N=>i("borderColor",N.target.value),placeholder:"#e2e8f0"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"headerBgColor",children:"Header Cell Background"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(he,{id:"headerBgColor",type:"color",value:n.headerBgColor||"#f8fafc",onChange:N=>i("headerBgColor",N.target.value),className:"w-20 h-10"}),e.jsx(he,{type:"text",value:n.headerBgColor||"#f8fafc",onChange:N=>i("headerBgColor",N.target.value),placeholder:"#f8fafc"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(Z,{children:"Column Widths (%)"}),e.jsx("div",{className:"mt-2 grid gap-2",style:{gridTemplateColumns:`repeat(${p}, 1fr)`},children:Array.from({length:p}).map((N,_)=>e.jsxs("div",{children:[e.jsxs(Z,{className:"text-xs",children:["Col ",_+1]}),e.jsx(he,{type:"number",min:"0",max:"100",value:v[_]||"",onChange:P=>c(_,P.target.value),placeholder:"Auto",className:"text-xs h-8"})]},_))}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave blank for auto width. Total should equal 100%."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(Z,{children:"Table Preview"}),e.jsx("div",{className:"mt-2 p-4 bg-slate-50 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",style:{borderColor:n.borderColor||"#e2e8f0",borderStyle:n.borderStyle||"solid",borderWidth:`${n.borderWidth||1}px`},children:[e.jsx("colgroup",{children:Array.from({length:p}).map((N,_)=>e.jsx("col",{style:{width:v[_]?`${v[_]}%`:"auto"}},_))}),e.jsx("tbody",{children:Array.from({length:h}).map((N,_)=>e.jsx("tr",{children:Array.from({length:p}).map((P,A)=>{const E=`${_}-${A}`,C=y[E]||"text",R=C==="header",O=R?"th":"td",k=x[E]||"";return e.jsx(O,{className:"p-2 text-xs",style:{border:n.borderStyle==="none"?"none":void 0,borderColor:n.borderColor||"#e2e8f0",borderStyle:n.borderStyle||"solid",borderWidth:`${n.borderWidth||1}px`,backgroundColor:R?n.headerBgColor||"#f8fafc":"white",fontWeight:R?"600":"400",textAlign:"left"},children:C==="image"?k?e.jsx("img",{src:k,alt:"Preview",className:"w-full h-auto max-h-16 object-contain"}):e.jsx("span",{className:"text-slate-400",children:"No image"}):e.jsx("div",{className:"truncate",children:k||`${_+1},${A+1}`})},A)})},_))})]})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(Z,{children:"Cell Configuration"}),e.jsx("div",{className:"mt-2 space-y-4 max-h-96 overflow-y-auto",children:Array.from({length:h}).map((N,_)=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-600 mb-2",children:["Row ",_+1]}),e.jsx("div",{className:"grid gap-3",style:{gridTemplateColumns:`repeat(${p}, 1fr)`},children:Array.from({length:p}).map((P,A)=>{const E=`${_}-${A}`,C=y[E]||"text";return e.jsxs("div",{className:"space-y-2 p-2 bg-slate-50 rounded",children:[e.jsxs(Ge,{value:C,onValueChange:R=>o(_,A,R),children:[e.jsx(Ve,{className:"h-8 text-xs",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"text",children:"Text"}),e.jsx(re,{value:"header",children:"Header"}),e.jsx(re,{value:"image",children:"Image"})]})]}),C==="image"?e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Z,{htmlFor:`upload-${E}`,className:"cursor-pointer w-full",children:[e.jsx("div",{className:`flex items-center justify-center h-8 rounded-md text-white transition-colors ${r[E]?"bg-slate-400":"bg-blue-600 hover:bg-blue-700"}`,children:r[E]?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-3 h-3 animate-spin mr-1"}),e.jsx("span",{className:"text-xs",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Upload Image"})]})}),e.jsx("input",{id:`upload-${E}`,type:"file",accept:"image/*",onChange:R=>{var k;const O=(k=R.target.files)==null?void 0:k[0];O&&d(_,A,O),R.target.value=""},className:"hidden",disabled:r[E]})]}),x[E]&&e.jsx("img",{src:x[E],alt:"Preview",className:"w-full h-12 object-contain rounded bg-slate-100"})]}):e.jsx("div",{className:"text-xs",children:e.jsx(KC,{value:x[E]||"",onChange:R=>l(_,A,R),placeholder:C==="header"?"Header text":"Content",theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},className:"bg-white rounded"},E)},`quill-${E}`)]},A)})})]},_))})]})]})}function __e({element:t}){const s=t.content||{rows:2,cols:2,cells:{},cellTypes:{},columnWidths:{},tableWidth:"full",tableAlign:"center"},n=s.rows||2,r=s.cols||2,a=s.cells||{},i=s.cellTypes||{},l=s.columnWidths||{},o=s.borderColor||"#e2e8f0",c=s.borderStyle||"solid",d=s.borderWidth||1,u=s.headerBgColor||"#f8fafc",m=s.tableWidth||"full",h=s.tableAlign||"center",p=s.header||"",x=s.description||"",y=s.backgroundImage||"",v=s.backgroundColor||"#ffffff",j=s.sectionWidth||"full",w={left:"mr-auto",center:"mx-auto",right:"ml-auto"}[h]||"mx-auto",N=m==="half"?"w-1/2":"w-full",_=j==="contained"?"max-w-7xl mx-auto px-4":"w-full px-4",P={backgroundColor:v,...y&&{backgroundImage:`url(${y})`,backgroundSize:"cover",backgroundPosition:"center"}},A=j==="full"?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] py-8":"w-full py-8";return e.jsx("div",{className:A,style:P,children:e.jsxs("div",{className:_,children:[(p||x)&&e.jsxs("div",{className:"mb-8 text-center",children:[p&&e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3",children:p}),x&&e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:x})]}),e.jsx("div",{className:`overflow-x-auto ${N} ${w}`,children:e.jsxs("table",{className:"w-full border-collapse",style:{borderColor:o,borderStyle:c,borderWidth:`${d}px`},children:[e.jsx("colgroup",{children:Array.from({length:r}).map((E,C)=>e.jsx("col",{style:{width:l[C]?`${l[C]}%`:"auto"}},C))}),e.jsx("tbody",{children:Array.from({length:n}).map((E,C)=>e.jsx("tr",{children:Array.from({length:r}).map((R,O)=>{const k=`${C}-${O}`,T=a[k]||"",D=i[k]||"text",F=D==="header",U=F?"th":"td";return e.jsx(U,{className:"p-4",style:{border:c==="none"?"none":void 0,borderColor:o,borderStyle:c,borderWidth:`${d}px`,backgroundColor:F?u:"white",fontWeight:F?"600":"400",textAlign:"left"},children:D==="image"?T?e.jsx("img",{src:T,alt:"Cell content",className:"w-full h-auto object-contain",style:{maxHeight:"150px"}}):e.jsx("div",{className:"text-slate-400 text-sm",children:"No image"}):e.jsx("div",{className:"text-slate-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:T}})},O)})},C))})]})})]})})}function S_e({element:t,onChange:s}){const n=t.content||{banners:[]},[r,a]=b.useState(null),i=(h,p)=>{s({...t,content:{...n,[h]:p}})},l=()=>{const h={id:`banner-${Date.now()}`,headerText:"",paragraphText:"",ctaText:"",ctaLink:"",backgroundImage:""};i("banners",[...n.banners||[],h])},o=h=>{const p=[...n.banners||[]];p.splice(h,1),i("banners",p)},c=h=>{const p=[...n.banners||[]],x={...p[h],id:`banner-${Date.now()}`};p.splice(h+1,0,x),i("banners",p),te.success("Banner duplicated")},d=(h,p,x)=>{const y=[...n.banners||[]];y[h]={...y[h],[p]:x},i("banners",y)},u=async(h,p)=>{if(!p)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(p.type)){te.error("Please upload a valid image file");return}if(p.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}a(h);try{const y=await ee.integrations.Core.UploadFile({file:p});d(h,"backgroundImage",y.file_url),te.success("Image uploaded")}catch(y){te.error("Upload failed: "+y.message)}finally{a(null)}},m=h=>{if(!h.destination)return;const p=Array.from(n.banners||[]),[x]=p.splice(h.source.index,1);p.splice(h.destination.index,0,x),i("banners",p)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Z,{children:["Banners (",(n.banners||[]).length,")"]}),e.jsxs(X,{onClick:l,size:"sm",type:"button",children:[e.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Add Banner"]})]}),!n.banners||n.banners.length===0?e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center",children:[e.jsx("p",{className:"text-slate-500 text-sm mb-3",children:"No banners yet"}),e.jsxs(X,{onClick:l,size:"sm",type:"button",children:[e.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Add First Banner"]})]}):e.jsx(ig,{onDragEnd:m,children:e.jsx(_d,{droppableId:"banners",children:h=>e.jsxs("div",{...h.droppableProps,ref:h.innerRef,className:"space-y-3",children:[n.banners.map((p,x)=>e.jsx(Nd,{draggableId:p.id,index:x,children:y=>e.jsxs("div",{ref:y.innerRef,...y.draggableProps,className:"border border-slate-200 rounded-lg p-4 bg-slate-50 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{...y.dragHandleProps,children:e.jsx(zd,{className:"w-4 h-4 text-slate-400 cursor-grab"})}),e.jsxs("span",{className:"font-medium text-sm text-slate-700",children:["Banner ",x+1]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(X,{onClick:()=>c(x),size:"sm",variant:"ghost",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50",type:"button",children:e.jsx(ni,{className:"w-4 h-4"})}),e.jsx(X,{onClick:()=>o(x),size:"sm",variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50",type:"button",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`header-${x}`,children:"Header Text"}),e.jsx(he,{id:`header-${x}`,value:p.headerText||"",onChange:v=>d(x,"headerText",v.target.value),placeholder:"Main heading"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`paragraph-${x}`,children:"Paragraph Text"}),e.jsx(Qt,{id:`paragraph-${x}`,value:p.paragraphText||"",onChange:v=>d(x,"paragraphText",v.target.value),placeholder:"Description text",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`cta-text-${x}`,children:"CTA Button Text"}),e.jsx(he,{id:`cta-text-${x}`,value:p.ctaText||"",onChange:v=>d(x,"ctaText",v.target.value),placeholder:"Learn More"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`cta-link-${x}`,children:"CTA Button Link"}),e.jsx(he,{id:`cta-link-${x}`,value:p.ctaLink||"",onChange:v=>d(x,"ctaLink",v.target.value),placeholder:"/page-url"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`bg-image-${x}`,children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:`bg-image-${x}`,value:p.backgroundImage||"",onChange:v=>d(x,"backgroundImage",v.target.value),placeholder:"Image URL",className:"flex-1"}),e.jsxs(Z,{htmlFor:`upload-${x}`,className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${r===x?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r===x?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):e.jsx(Xs,{className:"w-4 h-4"})}),e.jsx("input",{id:`upload-${x}`,type:"file",accept:"image/*",onChange:v=>{var w;const j=(w=v.target.files)==null?void 0:w[0];j&&u(x,j),v.target.value=""},className:"hidden",disabled:r===x})]})]}),p.backgroundImage&&e.jsx("img",{src:p.backgroundImage,alt:"Preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})},p.id)),h.placeholder]})})}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"autoplay",children:"Autoplay Interval (seconds)"}),e.jsx(he,{id:"autoplay",type:"number",min:"0",value:n.autoplayInterval||5,onChange:h=>i("autoplayInterval",parseInt(h.target.value)||5),placeholder:"5"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0 to disable autoplay"})]})]})}function C_e({element:t}){const s=t.content||{banners:[],autoplayInterval:5},[n,r]=b.useState(0),a=s.banners||[],i=s.autoplayInterval||5;b.useEffect(()=>{if(a.length===0||i===0)return;const u=setInterval(()=>{r(m=>(m+1)%a.length)},i*1e3);return()=>clearInterval(u)},[a.length,i]);const l=()=>{r(u=>(u+1)%a.length)},o=()=>{r(u=>(u-1+a.length)%a.length)},c=u=>{r(u)};if(!a||a.length===0)return e.jsx("div",{className:"bg-slate-100 py-24 text-center",children:e.jsx("p",{className:"text-slate-500",children:"No banners configured"})});const d=a[n];return e.jsxs("div",{className:"relative w-full overflow-hidden",children:[e.jsxs("div",{className:"relative h-[500px] md:h-[600px]",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-700",style:{backgroundImage:d.backgroundImage?`url(${d.backgroundImage})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("div",{className:"absolute inset-0 bg-black/40"})}),e.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-white",children:[d.headerText&&e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 animate-fade-in",children:d.headerText}),d.paragraphText&&e.jsx("p",{className:"text-lg md:text-xl mb-8 max-w-2xl mx-auto opacity-90 animate-fade-in",children:d.paragraphText}),d.ctaText&&d.ctaLink&&e.jsx("a",{href:d.ctaLink,className:"inline-block px-8 py-4 bg-white text-slate-900 font-semibold rounded-lg hover:bg-slate-100 transition-colors shadow-lg animate-fade-in",children:d.ctaText})]})}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center transition-colors","aria-label":"Previous banner",children:e.jsx(Zn,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/20 hover:bg-white/30 backdrop-blur-sm flex items-center justify-center transition-colors","aria-label":"Next banner",children:e.jsx(Ss,{className:"w-6 h-6 text-white"})})]}),a.length>1&&e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:a.map((u,m)=>e.jsx("button",{onClick:()=>c(m),className:`w-3 h-3 rounded-full transition-all ${m===n?"bg-white w-8":"bg-white/50 hover:bg-white/70"}`,"aria-label":`Go to banner ${m+1}`},m))})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
      `})]})}function k_e({index:t,card:s,onUpdate:n}){const{data:r="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const o=(await ee.entities.SystemSettings.list()).find(c=>c.setting_key==="article_display_name");return(o==null?void 0:o.setting_value)||"Articles"},staleTime:3e5}),{data:a=[]}=me({queryKey:["showcase-items",s.contentType],queryFn:async()=>{switch(s.contentType){case"news":return(await ee.entities.NewsPost.list("-published_date")).filter(d=>d.status==="published");case"resources":return await ee.entities.Resource.list("-created_date");case"articles":return(await ee.entities.BlogPost.list("-published_date")).filter(d=>d.status==="published");case"jobs":return(await ee.entities.JobPosting.list("-created_date")).filter(d=>d.status==="active");default:return[]}},staleTime:60*1e3}),i=l=>{switch(l){case"news":return"News";case"resources":return"Resource";case"articles":return(r==null?void 0:r.slice(0,-1))||"Article";case"jobs":return"Job";default:return""}};return e.jsxs("div",{className:"border border-slate-200 rounded-lg p-3 bg-slate-50",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-600 mb-2",children:["Card ",t+1]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Ge,{value:s.contentType,onValueChange:l=>n(t,"contentType",l),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"news",children:"News"}),e.jsx(re,{value:"resources",children:"Resources"}),e.jsx(re,{value:"articles",children:r}),e.jsx(re,{value:"jobs",children:"Jobs"})]})]}),e.jsxs(Ge,{value:s.itemId||"",onValueChange:l=>n(t,"itemId",l),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{placeholder:"Select item..."})}),e.jsx(We,{children:a.length===0?e.jsx("div",{className:"p-2 text-xs text-slate-500",children:"No items available"}):a.map(l=>e.jsx(re,{value:l.id,children:l.title||l.name},l.id))})]}),e.jsxs("div",{className:"pt-2 border-t border-slate-300 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`showLabel-${t}`,checked:s.showLabel??!0,onChange:l=>n(t,"showLabel",l.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:`showLabel-${t}`,className:"cursor-pointer text-xs",children:"Show Label"})]}),s.showLabel!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`labelText-${t}`,className:"text-xs",children:"Label Text"}),e.jsx(he,{id:`labelText-${t}`,value:s.labelText||i(s.contentType),onChange:l=>n(t,"labelText",l.target.value),placeholder:"Custom label...",className:"h-8 text-xs"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`labelBg-${t}`,className:"text-xs",children:"Background"}),e.jsx("input",{id:`labelBg-${t}`,type:"color",value:s.labelBgColor||"#2563eb",onChange:l=>n(t,"labelBgColor",l.target.value),className:"w-full h-8 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:`labelText-${t}`,className:"text-xs",children:"Text Color"}),e.jsx("input",{id:`labelTextColor-${t}`,type:"color",value:s.labelTextColor||"#ffffff",onChange:l=>n(t,"labelTextColor",l.target.value),className:"w-full h-8 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]})]})]})}function E_e({element:t,onChange:s}){var d;const[n,r]=Be.useState(!1),a=t.content||{headerText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"center",subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,text_align:"center",padding_left:16,padding_right:16,backgroundImage:"",backgroundColor:"#ffffff",cardCount:4,cardHeight:400,imageHeightPercent:50,cardBorderRadius:8,descriptionLineClamp:3,showPublishedDate:!1,showImageBorder:!1,imageBorderWeight:3,imageBorderColor:"#2563eb",showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonArrowColor:"#ffffff",ctaButtonMargin:16,card_text_align:"left",cards:[{contentType:"news",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"resources",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"articles",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"},{contentType:"jobs",itemId:"",showLabel:!0,labelText:"",labelBgColor:"#2563eb",labelTextColor:"#ffffff"}]},i=a.cardCount||4;if(!a.cards||a.cards.length!==i){const u=[],m=["news","resources","articles","jobs"];for(let h=0;h<i;h++)u.push(((d=a.cards)==null?void 0:d[h])||{contentType:m[h]||"news",itemId:""});a.cards=u}const l=(u,m)=>{const h={...a,[u]:m};s({...t,content:h})},o=(u,m,h)=>{const p=[...a.cards];p[u]={...p[u],[m]:h},m==="contentType"&&(p[u].itemId=""),l("cards",p)},c=async u=>{if(!u)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(u.type)){te.error("Please upload a valid image file");return}if(u.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}r(!0);try{const h=await ee.integrations.Core.UploadFile({file:u});l("backgroundImage",h.file_url),te.success("Image uploaded")}catch(h){te.error("Upload failed: "+h.message)}finally{r(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"headerText",children:"Header Title"}),e.jsx(he,{id:"headerText",value:a.headerText||"",onChange:u=>l("headerText",u.target.value),placeholder:"Section title"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"descriptionText",children:"Description"}),e.jsx(Qt,{id:"descriptionText",value:a.descriptionText||"",onChange:u=>l("descriptionText",u.target.value),placeholder:"Section description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_font_family",children:"Heading Font"}),e.jsxs(Ge,{value:a.heading_font_family||"Poppins",onValueChange:u=>l("heading_font_family",u),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_font_size",children:"Heading Size (px)"}),e.jsx(he,{id:"heading_font_size",type:"number",value:a.heading_font_size||48,onChange:u=>l("heading_font_size",parseInt(u.target.value)||48),min:"12",max:"200"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_letter_spacing",children:"Heading Letter Spacing (px)"}),e.jsx(he,{id:"heading_letter_spacing",type:"number",step:"0.5",value:a.heading_letter_spacing||0,onChange:u=>l("heading_letter_spacing",parseFloat(u.target.value)||0),min:"-5",max:"20"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_color",children:"Heading Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"heading_color",type:"color",value:a.heading_color||"#0f172a",onChange:u=>l("heading_color",u.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.heading_color||"#0f172a",onChange:u=>l("heading_color",u.target.value),placeholder:"#0f172a",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"heading_underline_enabled",checked:a.heading_underline_enabled||!1,onChange:u=>l("heading_underline_enabled",u.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"heading_underline_enabled",className:"cursor-pointer",children:"Show line below heading"})]}),a.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_color",children:"Line Color"}),e.jsx("input",{id:"heading_underline_color",type:"color",value:a.heading_underline_color||"#000000",onChange:u=>l("heading_underline_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_width",children:"Line Width (px)"}),e.jsx(he,{id:"heading_underline_width",type:"number",value:a.heading_underline_width||100,onChange:u=>l("heading_underline_width",parseInt(u.target.value)||0),min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_weight",children:"Line Weight (px)"}),e.jsx(he,{id:"heading_underline_weight",type:"number",value:a.heading_underline_weight||2,onChange:u=>l("heading_underline_weight",parseInt(u.target.value)||1),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_spacing",children:"Spacing from Header (px)"}),e.jsx(he,{id:"heading_underline_spacing",type:"number",value:a.heading_underline_spacing||16,onChange:u=>l("heading_underline_spacing",parseInt(u.target.value)||0),min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_alignment",children:"Line Alignment"}),e.jsxs(Ge,{value:a.heading_underline_alignment||"center",onValueChange:u=>l("heading_underline_alignment",u),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_to_content_spacing",children:"Spacing to Content (px)"}),e.jsx(he,{id:"heading_underline_to_content_spacing",type:"number",value:a.heading_underline_to_content_spacing||24,onChange:u=>l("heading_underline_to_content_spacing",parseInt(u.target.value)||0),min:"0",max:"100"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_font_family",children:"Description Font"}),e.jsxs(Ge,{value:a.subheading_font_family||"Poppins",onValueChange:u=>l("subheading_font_family",u),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_font_size",children:"Size (px)"}),e.jsx(he,{id:"subheading_font_size",type:"number",value:a.subheading_font_size||20,onChange:u=>l("subheading_font_size",parseInt(u.target.value)||20),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_line_height",children:"Line Height"}),e.jsx(he,{id:"subheading_line_height",type:"number",step:"0.1",value:a.subheading_line_height||1.5,onChange:u=>l("subheading_line_height",parseFloat(u.target.value)||1.5),min:"1",max:"3"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description_color",children:"Description Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"description_color",type:"color",value:a.description_color||"#475569",onChange:u=>l("description_color",u.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.description_color||"#475569",onChange:u=>l("description_color",u.target.value),placeholder:"#475569",className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"text_align",children:"Header Text Alignment"}),e.jsxs(Ge,{value:a.text_align||"center",onValueChange:u=>l("text_align",u),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"card_text_align",children:"Card Text Alignment"}),e.jsxs(Ge,{value:a.card_text_align||"left",onValueChange:u=>l("card_text_align",u),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"padding_left",children:"Left Padding (px)"}),e.jsx(he,{id:"padding_left",type:"number",value:a.padding_left||16,onChange:u=>l("padding_left",parseInt(u.target.value)||0),min:"0"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"padding_right",children:"Right Padding (px)"}),e.jsx(he,{id:"padding_right",type:"number",value:a.padding_right||16,onChange:u=>l("padding_right",parseInt(u.target.value)||0),min:"0"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"cardCount",children:"Number of Cards"}),e.jsxs(Ge,{value:String(a.cardCount||4),onValueChange:u=>l("cardCount",parseInt(u)),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"1",children:"1 Card"}),e.jsx(re,{value:"2",children:"2 Cards"}),e.jsx(re,{value:"3",children:"3 Cards"}),e.jsx(re,{value:"4",children:"4 Cards"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"backgroundColor",type:"color",value:a.backgroundColor||"#ffffff",onChange:u=>l("backgroundColor",u.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:a.backgroundColor||"#ffffff",onChange:u=>l("backgroundColor",u.target.value),placeholder:"#ffffff",className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"cardHeight",children:"Card Height (px)"}),e.jsx(he,{id:"cardHeight",type:"number",value:a.cardHeight||400,onChange:u=>l("cardHeight",parseInt(u.target.value)||400),min:"200",max:"800"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"imageHeightPercent",children:"Image Height (% of card)"}),e.jsx(he,{id:"imageHeightPercent",type:"number",value:a.imageHeightPercent||50,onChange:u=>l("imageHeightPercent",parseInt(u.target.value)||50),min:"20",max:"80"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"cardBorderRadius",children:"Card Border Radius (px)"}),e.jsx(he,{id:"cardBorderRadius",type:"number",value:a.cardBorderRadius??8,onChange:u=>{const m=u.target.value===""?0:parseInt(u.target.value);l("cardBorderRadius",isNaN(m)?0:m)},min:"0",max:"50"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"descriptionLineClamp",children:"Description Lines"}),e.jsxs(Ge,{value:String(a.descriptionLineClamp??3),onValueChange:u=>l("descriptionLineClamp",u==="none"?"none":parseInt(u)),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"1",children:"1 Line"}),e.jsx(re,{value:"2",children:"2 Lines"}),e.jsx(re,{value:"3",children:"3 Lines"}),e.jsx(re,{value:"4",children:"4 Lines"}),e.jsx(re,{value:"5",children:"5 Lines"}),e.jsx(re,{value:"none",children:"No Limit"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPublishedDate",checked:a.showPublishedDate||!1,onChange:u=>l("showPublishedDate",u.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"showPublishedDate",className:"cursor-pointer",children:"Show Published Date"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showImageBorder",checked:a.showImageBorder||!1,onChange:u=>l("showImageBorder",u.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"showImageBorder",className:"cursor-pointer",children:"Show Line Below Image"})]}),a.showImageBorder&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"imageBorderWeight",children:"Line Weight (px)"}),e.jsx(he,{id:"imageBorderWeight",type:"number",value:a.imageBorderWeight||3,onChange:u=>l("imageBorderWeight",parseInt(u.target.value)||3),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"imageBorderColor",children:"Line Color"}),e.jsx("input",{id:"imageBorderColor",type:"color",value:a.imageBorderColor||"#2563eb",onChange:u=>l("imageBorderColor",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showCTAButton",checked:a.showCTAButton??!0,onChange:u=>l("showCTAButton",u.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"showCTAButton",className:"cursor-pointer",children:"Show CTA Button"})]}),a.showCTAButton!==!1&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonSize",children:"Button Size (px)"}),e.jsx(he,{id:"ctaButtonSize",type:"number",value:a.ctaButtonSize||48,onChange:u=>l("ctaButtonSize",parseInt(u.target.value)||48),min:"24",max:"80"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonMargin",children:"Margin (px)"}),e.jsx(he,{id:"ctaButtonMargin",type:"number",value:a.ctaButtonMargin??16,onChange:u=>l("ctaButtonMargin",parseInt(u.target.value)??0),min:"0",max:"50"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonBgColor",children:"Background"}),e.jsx("input",{id:"ctaButtonBgColor",type:"color",value:a.ctaButtonBgColor||"#2563eb",onChange:u=>l("ctaButtonBgColor",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonArrowColor",children:"Arrow Color"}),e.jsx("input",{id:"ctaButtonArrowColor",type:"color",value:a.ctaButtonArrowColor||"#ffffff",onChange:u=>l("ctaButtonArrowColor",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{children:"Card Slots"}),e.jsx("div",{className:"space-y-4 mt-2",children:a.cards.map((u,m)=>e.jsx(k_e,{index:m,card:u,onUpdate:o},m))})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundImage",children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"backgroundImage",value:a.backgroundImage||"",onChange:u=>l("backgroundImage",u.target.value),placeholder:"Background image URL",className:"flex-1"}),e.jsxs(Z,{htmlFor:"bg-upload",className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${n?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):e.jsx(Xs,{className:"w-4 h-4"})}),e.jsx("input",{id:"bg-upload",type:"file",accept:"image/*",onChange:u=>{var h;const m=(h=u.target.files)==null?void 0:h[0];m&&c(m),u.target.value=""},className:"hidden",disabled:n})]}),a.backgroundImage&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>l("backgroundImage",""),className:"text-red-600",type:"button",children:e.jsx(hs,{className:"w-4 h-4"})})]}),a.backgroundImage&&e.jsx("img",{src:a.backgroundImage,alt:"Background preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})}function T_e({element:t,settings:s}){var y,v,j,w;const n=t.content||{headerText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"center",subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,description_color:"#475569",text_align:"center",padding_left:16,padding_right:16,backgroundImage:"",backgroundColor:"#ffffff",cardCount:4,cardHeight:400,imageHeightPercent:50,cardBorderRadius:8,descriptionLineClamp:3,showPublishedDate:!1,showImageBorder:!1,imageBorderWeight:3,imageBorderColor:"#2563eb",showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonArrowColor:"#ffffff",ctaButtonMargin:16,card_text_align:"left",cards:[]},r=s==null?void 0:s.fullWidth,{data:a="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const _=(await ee.entities.SystemSettings.list()).find(P=>P.setting_key==="article_display_name");return(_==null?void 0:_.setting_value)||"Articles"},staleTime:300*1e3}),{data:i=[]}=me({queryKey:["showcase-news"],queryFn:async()=>(await ee.entities.NewsPost.list()).filter(_=>_.status==="published"),enabled:(y=n.cards)==null?void 0:y.some(N=>N.contentType==="news"&&N.itemId),staleTime:60*1e3}),{data:l=[]}=me({queryKey:["showcase-resources"],queryFn:()=>ee.entities.Resource.list(),enabled:(v=n.cards)==null?void 0:v.some(N=>N.contentType==="resources"&&N.itemId),staleTime:60*1e3}),{data:o=[]}=me({queryKey:["showcase-articles"],queryFn:async()=>(await ee.entities.BlogPost.list()).filter(_=>_.status==="published"),enabled:(j=n.cards)==null?void 0:j.some(N=>N.contentType==="articles"&&N.itemId),staleTime:60*1e3}),{data:c=[]}=me({queryKey:["showcase-jobs"],queryFn:async()=>(await ee.entities.JobPosting.list()).filter(_=>_.status==="active"),enabled:(w=n.cards)==null?void 0:w.some(N=>N.contentType==="jobs"&&N.itemId),staleTime:60*1e3}),d=Be.useMemo(()=>n.cards?n.cards.map(N=>{if(!N.itemId)return null;let _;switch(N.contentType){case"news":_=i.find(P=>P.id===N.itemId);break;case"resources":_=l.find(P=>P.id===N.itemId);break;case"articles":_=o.find(P=>P.id===N.itemId);break;case"jobs":_=c.find(P=>P.id===N.itemId);break}return _?{..._,_contentType:N.contentType,_cardConfig:N}:null}).filter(Boolean):[],[n.cards,i,l,o,c]),u=N=>{switch(N._contentType){case"news":return Te(`NewsView?id=${N.id}`);case"resources":return N.download_url||N.content_url||"#";case"articles":return Te(`ArticleView?slug=${N.slug}`);case"jobs":return Te(`JobDetails?id=${N.id}`);default:return"#"}},m=N=>{switch(N){case"news":return"News";case"resources":return"Resource";case"articles":return(a==null?void 0:a.slice(0,-1))||"Article";case"jobs":return"Job";default:return""}},h=n.backgroundImage?{backgroundImage:`url(${n.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:n.backgroundColor||"#ffffff"},p=r?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]":"w-full",x={paddingLeft:`${n.padding_left||16}px`,paddingRight:`${n.padding_right||16}px`,textAlign:n.text_align||"center"};return e.jsx("div",{className:`${p} py-16 relative`,style:h,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",style:x,children:[(n.headerText||n.descriptionText)&&e.jsxs("div",{style:{marginBottom:"48px"},children:[n.headerText&&e.jsxs("div",{children:[e.jsx("h2",{style:{fontWeight:"bold",fontFamily:n.heading_font_family||"Poppins",fontSize:`${n.heading_font_size||48}px`,letterSpacing:`${n.heading_letter_spacing||0}px`,marginBottom:n.heading_underline_enabled?`${n.heading_underline_spacing||16}px`:"24px",color:n.heading_color||"#0f172a"},children:n.headerText}),n.heading_underline_enabled&&e.jsx("div",{style:{width:`${n.heading_underline_width||100}px`,height:`${n.heading_underline_weight||2}px`,backgroundColor:n.heading_underline_color||"#000000",marginLeft:(n.heading_underline_alignment||"center")==="center"||(n.heading_underline_alignment||"center")==="right"?"auto":"0",marginRight:(n.heading_underline_alignment||"center")==="center"?"auto":"0",marginBottom:`${n.heading_underline_to_content_spacing||24}px`,display:"block"}})]}),n.descriptionText&&e.jsx("p",{style:{fontFamily:n.subheading_font_family||"Poppins",fontSize:`${n.subheading_font_size||20}px`,lineHeight:n.subheading_line_height||1.5,maxWidth:"48rem",margin:"0 auto",color:n.description_color||"#475569"},children:n.descriptionText})]}),d.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/90 rounded-lg",children:[e.jsx(ls,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500",children:"No items selected"})]}):e.jsx("div",{className:`grid grid-cols-1 ${n.cardCount>=2?"md:grid-cols-2":""} ${n.cardCount>=4?"lg:grid-cols-4":n.cardCount===3?"lg:grid-cols-3":""} gap-6`,children:d.map(N=>{var O,k,T,D;const _=N._contentType==="resources"&&(N.download_url||N.content_url),P=u(N),A=Math.round((n.cardHeight||400)*((n.imageHeightPercent||50)/100)),E=n.ctaButtonSize||48,C=n.ctaButtonMargin??16,R=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",style:{height:`${A}px`},children:[(N.image_url||N.feature_image_url)&&e.jsx("img",{src:N.image_url||N.feature_image_url,alt:N.title||N.name,className:"w-full h-full object-cover"}),((O=N._cardConfig)==null?void 0:O.showLabel)!==!1&&e.jsx(ye,{className:"absolute top-0 left-0 text-xs font-semibold rounded-none px-3 py-1",style:{backgroundColor:((k=N._cardConfig)==null?void 0:k.labelBgColor)||"#2563eb",color:((T=N._cardConfig)==null?void 0:T.labelTextColor)||"#ffffff"},children:((D=N._cardConfig)==null?void 0:D.labelText)||m(N._contentType)})]}),n.showImageBorder&&e.jsx("div",{style:{height:`${n.imageBorderWeight||3}px`,backgroundColor:n.imageBorderColor||"#2563eb"}}),e.jsxs("div",{className:"p-4 flex-1 overflow-hidden relative",style:{textAlign:n.card_text_align||"left"},children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-2 line-clamp-2",children:N.title||N.name}),(N.summary||N.description)&&e.jsx("p",{className:`text-sm text-slate-600 ${n.descriptionLineClamp==="none"?"":`line-clamp-${n.descriptionLineClamp??3}`}`,children:N.summary||N.description}),n.showPublishedDate&&N.published_date&&e.jsxs("div",{className:"flex items-center gap-1 mt-3 text-xs text-slate-500",style:{justifyContent:n.card_text_align==="center"?"center":n.card_text_align==="right"?"flex-end":"flex-start"},children:[e.jsx(Ns,{className:"w-3 h-3"}),new Date(N.published_date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]}),n.showCTAButton!==!1&&e.jsx("div",{className:"absolute flex items-center justify-center transition-transform hover:scale-110",style:{width:`${E}px`,height:`${E}px`,backgroundColor:n.ctaButtonBgColor||"#2563eb",borderRadius:`${n.cardBorderRadius??8}px`,bottom:`${C}px`,right:`${C}px`},children:e.jsx(Ur,{style:{width:`${E*.5}px`,height:`${E*.5}px`,color:n.ctaButtonArrowColor||"#ffffff"}})})]})]});return _?e.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"bg-white shadow-xl overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-300 block flex flex-col",style:{height:`${n.cardHeight||400}px`,borderRadius:`${n.cardBorderRadius??8}px`},children:R},N.id):e.jsx(Gt,{to:P,className:"bg-white shadow-xl overflow-hidden hover:shadow-2xl hover:scale-105 transition-all duration-300 block flex flex-col",style:{height:`${n.cardHeight||400}px`,borderRadius:`${n.cardBorderRadius??8}px`},children:R},N.id)})})]})})}function P_e({element:t,onChange:s}){const[n,r]=Be.useState(!1),a={headerText:"",subheaderText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"left",subheading_font_family:"Poppins",subheading_font_size:24,subheading_color:"#475569",description_font_family:"Poppins",description_font_size:16,description_color:"#64748b",description_line_height:1.6,button_text:"Learn More",button_link:"",button_style_id:"",button_custom_bg_color:"",button_custom_text_color:"",button_custom_border_color:"",button_size:"default",button_show_arrow:!0,backgroundImage:"",backgroundColor:"#ffffff",cardBorderRadius:8,first_column_right_padding:0,showResourceDescription:!0,resourceTitleFontSize:20,showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonIconColor:"#ffffff",ctaButtonMargin:16,resourceIds:["","","",""]},[i,l]=Be.useState({...a,...t.content||{}}),{data:o=[]}=me({queryKey:["resources-list"],queryFn:()=>ee.entities.Resource.list("-created_date"),staleTime:60*1e3}),{data:c=[]}=me({queryKey:["button-styles"],queryFn:()=>ee.entities.ButtonStyle.list(),staleTime:300*1e3}),d=(h,p)=>{const x={...i,[h]:p};l(x),s({...t,content:x})},u=(h,p)=>{const x=Array.isArray(i.resourceIds)?[...i.resourceIds]:["","","",""];x[h]=p,d("resourceIds",x)},m=async h=>{if(!h)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(h.type)){te.error("Please upload a valid image file");return}if(h.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}r(!0);try{const x=await ee.integrations.Core.UploadFile({file:h});d("backgroundImage",x.file_url),te.success("Image uploaded")}catch(x){te.error("Upload failed: "+x.message)}finally{r(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"headerText",children:"Header Text"}),e.jsx(he,{id:"headerText",value:i.headerText||"",onChange:h=>d("headerText",h.target.value),placeholder:"Main heading"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_font_family",children:"Heading Font"}),e.jsxs(Ge,{value:i.heading_font_family||"Poppins",onValueChange:h=>d("heading_font_family",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_font_size",children:"Heading Size (px)"}),e.jsx(he,{id:"heading_font_size",type:"number",value:i.heading_font_size||48,onChange:h=>d("heading_font_size",parseInt(h.target.value)||48),min:"12",max:"200"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_letter_spacing",children:"Letter Spacing (px)"}),e.jsx(he,{id:"heading_letter_spacing",type:"number",step:"0.5",value:i.heading_letter_spacing||0,onChange:h=>d("heading_letter_spacing",parseFloat(h.target.value)||0),min:"-5",max:"20"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_color",children:"Heading Color"}),e.jsx("input",{id:"heading_color",type:"color",value:i.heading_color||"#0f172a",onChange:h=>d("heading_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"heading_underline_enabled",checked:i.heading_underline_enabled||!1,onChange:h=>d("heading_underline_enabled",h.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"heading_underline_enabled",className:"cursor-pointer",children:"Show line below heading"})]}),i.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_color",children:"Line Color"}),e.jsx("input",{id:"heading_underline_color",type:"color",value:i.heading_underline_color||"#000000",onChange:h=>d("heading_underline_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_width",children:"Line Width (px)"}),e.jsx(he,{id:"heading_underline_width",type:"number",value:i.heading_underline_width||100,onChange:h=>d("heading_underline_width",parseInt(h.target.value)||0),min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_weight",children:"Weight (px)"}),e.jsx(he,{id:"heading_underline_weight",type:"number",value:i.heading_underline_weight||2,onChange:h=>d("heading_underline_weight",parseInt(h.target.value)||1),min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_spacing",children:"Spacing (px)"}),e.jsx(he,{id:"heading_underline_spacing",type:"number",value:i.heading_underline_spacing||16,onChange:h=>d("heading_underline_spacing",parseInt(h.target.value)||0),min:"0",max:"100"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_to_content_spacing",children:"To Content (px)"}),e.jsx(he,{id:"heading_underline_to_content_spacing",type:"number",value:i.heading_underline_to_content_spacing||24,onChange:h=>d("heading_underline_to_content_spacing",parseInt(h.target.value)||0),min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"heading_underline_alignment",children:"Line Alignment"}),e.jsxs(Ge,{value:i.heading_underline_alignment||"left",onValueChange:h=>d("heading_underline_alignment",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"left",children:"Left"}),e.jsx(re,{value:"center",children:"Center"}),e.jsx(re,{value:"right",children:"Right"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheaderText",children:"Subheader Text"}),e.jsx(he,{id:"subheaderText",value:i.subheaderText||"",onChange:h=>d("subheaderText",h.target.value),placeholder:"Subheading"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_font_family",children:"Subheader Font"}),e.jsxs(Ge,{value:i.subheading_font_family||"Poppins",onValueChange:h=>d("subheading_font_family",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_font_size",children:"Size (px)"}),e.jsx(he,{id:"subheading_font_size",type:"number",value:i.subheading_font_size||24,onChange:h=>d("subheading_font_size",parseInt(h.target.value)||24),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"subheading_color",children:"Color"}),e.jsx("input",{id:"subheading_color",type:"color",value:i.subheading_color||"#475569",onChange:h=>d("subheading_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"descriptionText",children:"Description Text"}),e.jsx(Qt,{id:"descriptionText",value:i.descriptionText||"",onChange:h=>d("descriptionText",h.target.value),placeholder:"Description text",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description_font_family",children:"Description Font"}),e.jsxs(Ge,{value:i.description_font_family||"Poppins",onValueChange:h=>d("description_font_family",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"Poppins",children:"Poppins"}),e.jsx(re,{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description_font_size",children:"Size (px)"}),e.jsx(he,{id:"description_font_size",type:"number",value:i.description_font_size||16,onChange:h=>d("description_font_size",parseInt(h.target.value)||16),min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description_line_height",children:"Line Height"}),e.jsx(he,{id:"description_line_height",type:"number",step:"0.1",value:i.description_line_height||1.6,onChange:h=>d("description_line_height",parseFloat(h.target.value)||1.6),min:"1",max:"3"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description_color",children:"Color"}),e.jsx("input",{id:"description_color",type:"color",value:i.description_color||"#64748b",onChange:h=>d("description_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm",children:"CTA Button"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_text",children:"Button Text"}),e.jsx(he,{id:"button_text",value:i.button_text||"",onChange:h=>d("button_text",h.target.value),placeholder:"Button text"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_link",children:"Button Link"}),e.jsx(he,{id:"button_link",value:i.button_link||"",onChange:h=>d("button_link",h.target.value),placeholder:"URL or page name"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_style_id",children:"Button Style"}),e.jsxs(Ge,{value:i.button_style_id||"",onValueChange:h=>d("button_style_id",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{placeholder:"Select a style..."})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"No Style (Use Custom Colors)"}),c.map(h=>e.jsx(re,{value:h.id,children:h.name},h.id))]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"button_transparent_bg",checked:i.button_custom_bg_color==="transparent",onChange:h=>d("button_custom_bg_color",h.target.checked?"transparent":"#2563eb"),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"button_transparent_bg",className:"cursor-pointer",children:"Transparent Background"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_custom_bg_color",children:"Custom Background"}),e.jsx("input",{id:"button_custom_bg_color",type:"color",value:i.button_custom_bg_color==="transparent"?"#2563eb":i.button_custom_bg_color||"#2563eb",onChange:h=>d("button_custom_bg_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer",disabled:i.button_custom_bg_color==="transparent"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_custom_text_color",children:"Custom Text"}),e.jsx("input",{id:"button_custom_text_color",type:"color",value:i.button_custom_text_color||"#ffffff",onChange:h=>d("button_custom_text_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_custom_border_color",children:"Custom Border"}),e.jsx("input",{id:"button_custom_border_color",type:"color",value:i.button_custom_border_color||"#2563eb",onChange:h=>d("button_custom_border_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"button_size",children:"Button Size"}),e.jsxs(Ge,{value:i.button_size||"default",onValueChange:h=>d("button_size",h),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"sm",children:"Small"}),e.jsx(re,{value:"default",children:"Default"}),e.jsx(re,{value:"lg",children:"Large"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"button_show_arrow",checked:i.button_show_arrow??!0,onChange:h=>d("button_show_arrow",h.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"button_show_arrow",className:"cursor-pointer",children:"Show Arrow"})]})})]})]}),e.jsxs("div",{children:[e.jsx(Z,{children:"Select Resources (up to 4)"}),e.jsx("div",{className:"space-y-2 mt-2",children:[0,1,2,3].map(h=>e.jsxs(Ge,{value:Array.isArray(i.resourceIds)&&i.resourceIds[h]||"",onValueChange:p=>u(h,p),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{placeholder:`Resource ${h+1} (optional)`})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"None"}),o.map(p=>e.jsx(re,{value:p.id,children:p.title},p.id))]})]},h))})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"gradient_enabled",checked:i.gradient_enabled||!1,onChange:h=>d("gradient_enabled",h.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"gradient_enabled",className:"cursor-pointer",children:"Use Gradient Background"})]}),i.gradient_enabled?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"gradient_start_color",children:"Start Color"}),e.jsx("input",{id:"gradient_start_color",type:"color",value:i.gradient_start_color||"#3b82f6",onChange:h=>d("gradient_start_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"gradient_end_color",children:"End Color"}),e.jsx("input",{id:"gradient_end_color",type:"color",value:i.gradient_end_color||"#8b5cf6",onChange:h=>d("gradient_end_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"gradient_angle",children:"Angle (degrees)"}),e.jsx(he,{id:"gradient_angle",type:"number",value:i.gradient_angle||135,onChange:h=>d("gradient_angle",parseInt(h.target.value)||0),min:"0",max:"360"})]})]}):e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"backgroundColor",type:"color",value:i.backgroundColor||"#ffffff",onChange:h=>d("backgroundColor",h.target.value),className:"w-16 h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx(he,{value:i.backgroundColor||"#ffffff",onChange:h=>d("backgroundColor",h.target.value),placeholder:"#ffffff",className:"flex-1"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"cardBorderRadius",children:"Card Border Radius (px)"}),e.jsx(he,{id:"cardBorderRadius",type:"number",value:i.cardBorderRadius??8,onChange:h=>{const p=h.target.value===""?0:parseInt(h.target.value);d("cardBorderRadius",isNaN(p)?0:p)},min:"0",max:"50"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"first_column_right_padding",children:"First Column Right Padding (px)"}),e.jsx(he,{id:"first_column_right_padding",type:"number",value:i.first_column_right_padding??0,onChange:h=>d("first_column_right_padding",parseInt(h.target.value)||0),min:"0",max:"200"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"resourceTitleFontSize",children:"Resource Title Font Size (px)"}),e.jsx(he,{id:"resourceTitleFontSize",type:"number",value:i.resourceTitleFontSize??20,onChange:h=>d("resourceTitleFontSize",parseInt(h.target.value)||20),min:"12",max:"60"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showResourceDescription",checked:i.showResourceDescription??!0,onChange:h=>d("showResourceDescription",h.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"showResourceDescription",className:"cursor-pointer",children:"Show Resource Description"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showCTAButton",checked:i.showCTAButton??!0,onChange:h=>d("showCTAButton",h.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"showCTAButton",className:"cursor-pointer",children:"Show CTA Button on Cards"})]}),i.showCTAButton!==!1&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonSize",children:"Button Size (px)"}),e.jsx(he,{id:"ctaButtonSize",type:"number",value:i.ctaButtonSize||48,onChange:h=>d("ctaButtonSize",parseInt(h.target.value)||48),min:"24",max:"80"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonMargin",children:"Margin (px)"}),e.jsx(he,{id:"ctaButtonMargin",type:"number",value:i.ctaButtonMargin??16,onChange:h=>d("ctaButtonMargin",parseInt(h.target.value)??0),min:"0",max:"50"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonBgColor",children:"Background"}),e.jsx("input",{id:"ctaButtonBgColor",type:"color",value:i.ctaButtonBgColor||"#2563eb",onChange:h=>d("ctaButtonBgColor",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"ctaButtonIconColor",children:"Icon Color"}),e.jsx("input",{id:"ctaButtonIconColor",type:"color",value:i.ctaButtonIconColor||"#ffffff",onChange:h=>d("ctaButtonIconColor",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"backgroundImage",children:"Background Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:"backgroundImage",value:i.backgroundImage||"",onChange:h=>d("backgroundImage",h.target.value),placeholder:"Background image URL",className:"flex-1"}),e.jsxs(Z,{htmlFor:"bg-upload",className:"cursor-pointer",children:[e.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${n?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):e.jsx(Xs,{className:"w-4 h-4"})}),e.jsx("input",{id:"bg-upload",type:"file",accept:"image/*",onChange:h=>{var x;const p=(x=h.target.files)==null?void 0:x[0];p&&m(p),h.target.value=""},className:"hidden",disabled:n})]}),i.backgroundImage&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>d("backgroundImage",""),className:"text-red-600",type:"button",children:e.jsx(hs,{className:"w-4 h-4"})})]}),i.backgroundImage&&e.jsx("img",{src:i.backgroundImage,alt:"Background preview",className:"mt-2 w-full h-32 object-cover rounded"})]})]})}function A_e({element:t,settings:s}){const r={...{headerText:"",subheaderText:"",descriptionText:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_color:"#0f172a",heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,heading_underline_alignment:"left",subheading_font_family:"Poppins",subheading_font_size:24,subheading_color:"#475569",description_font_family:"Poppins",description_font_size:16,description_color:"#64748b",description_line_height:1.6,button_text:"Learn More",button_link:"",button_style_id:"",button_custom_bg_color:"",button_custom_text_color:"",button_custom_border_color:"",button_size:"default",button_show_arrow:!0,backgroundImage:"",backgroundColor:"#ffffff",gradient_enabled:!1,gradient_start_color:"#3b82f6",gradient_end_color:"#8b5cf6",gradient_angle:135,cardBorderRadius:8,first_column_right_padding:0,showResourceDescription:!0,resourceTitleFontSize:20,showCTAButton:!0,ctaButtonSize:48,ctaButtonBgColor:"#2563eb",ctaButtonIconColor:"#ffffff",ctaButtonMargin:16,resourceIds:["","","",""]},...t.content||{}},a=s==null?void 0:s.fullWidth,{data:i=[]}=me({queryKey:["resources-showcase"],queryFn:()=>ee.entities.Resource.list(),enabled:Array.isArray(r.resourceIds)&&r.resourceIds.some(d=>d),staleTime:60*1e3}),l=Be.useMemo(()=>Array.isArray(r.resourceIds)?r.resourceIds.map(d=>d?i.find(u=>u.id===d):null).filter(Boolean):[],[r.resourceIds,i]),o=r.gradient_enabled?{background:`linear-gradient(${r.gradient_angle||135}deg, ${r.gradient_start_color||"#3b82f6"}, ${r.gradient_end_color||"#8b5cf6"})`,...r.backgroundImage&&{backgroundImage:`url(${r.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}}:{backgroundColor:r.backgroundColor||"#ffffff",...r.backgroundImage&&{backgroundImage:`url(${r.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}},c=a?"w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]":"w-full";return e.jsx("div",{className:`${c} py-16 relative`,style:o,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",style:{paddingRight:`${r.first_column_right_padding||0}px`},children:[r.headerText&&e.jsxs("div",{children:[e.jsx("h2",{style:{fontWeight:"bold",fontFamily:r.heading_font_family||"Poppins",fontSize:`${r.heading_font_size||48}px`,letterSpacing:`${r.heading_letter_spacing||0}px`,marginBottom:r.heading_underline_enabled?`${r.heading_underline_spacing||16}px`:"24px",color:r.heading_color||"#0f172a"},children:r.headerText}),r.heading_underline_enabled&&e.jsx("div",{style:{width:`${r.heading_underline_width||100}px`,height:`${r.heading_underline_weight||2}px`,backgroundColor:r.heading_underline_color||"#000000",marginLeft:(r.heading_underline_alignment||"left")==="center"||(r.heading_underline_alignment||"left")==="right"?"auto":"0",marginRight:(r.heading_underline_alignment||"left")==="center"?"auto":"0",marginBottom:`${r.heading_underline_to_content_spacing||24}px`,display:"block"}})]}),r.subheaderText&&e.jsx("h3",{style:{fontFamily:r.subheading_font_family||"Poppins",fontSize:`${r.subheading_font_size||24}px`,fontWeight:"600",color:r.subheading_color||"#475569",marginBottom:"16px"},children:r.subheaderText}),r.descriptionText&&e.jsx("p",{style:{fontFamily:r.description_font_family||"Poppins",fontSize:`${r.description_font_size||16}px`,lineHeight:r.description_line_height||1.6,color:r.description_color||"#64748b",marginBottom:"24px"},children:r.descriptionText}),r.button_text&&e.jsx($s,{text:r.button_text,link:r.button_link,buttonStyleId:r.button_style_id,customBgColor:r.button_custom_bg_color,customTextColor:r.button_custom_text_color,customBorderColor:r.button_custom_border_color,size:r.button_size,showArrow:r.button_show_arrow})]}),e.jsx("div",{className:"lg:col-span-2",children:l.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/90 rounded-lg",children:[e.jsx(ls,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500",children:"No resources selected"})]}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:l.map(d=>e.jsxs("a",{href:d.target_url,target:d.open_in_new_tab?"_blank":"_self",rel:d.open_in_new_tab?"noopener noreferrer":void 0,className:"bg-white p-6 shadow-lg hover:shadow-xl transition-shadow group aspect-square flex flex-col justify-between relative",style:{borderRadius:`${r.cardBorderRadius??8}px`},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3 group-hover:text-blue-600 transition-colors",style:{fontSize:`${r.resourceTitleFontSize||20}px`},children:d.title}),(r.showResourceDescription??!0)&&d.description&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-4",children:d.description})]}),r.showCTAButton!==!1&&e.jsx("div",{className:"absolute flex items-center justify-center transition-transform hover:scale-110",style:{width:`${r.ctaButtonSize||48}px`,height:`${r.ctaButtonSize||48}px`,backgroundColor:r.ctaButtonBgColor||"#2563eb",borderRadius:`${r.cardBorderRadius??8}px`,bottom:`${r.ctaButtonMargin??16}px`,right:`${r.ctaButtonMargin??16}px`},children:d.is_public?e.jsx(BY,{style:{width:`${(r.ctaButtonSize||48)*.5}px`,height:`${(r.ctaButtonSize||48)*.5}px`,color:r.ctaButtonIconColor||"#ffffff"}}):e.jsx(Z_,{style:{width:`${(r.ctaButtonSize||48)*.5}px`,height:`${(r.ctaButtonSize||48)*.5}px`,color:r.ctaButtonIconColor||"#ffffff"}})})]},d.id))})})]})})})}function O_e({content:t,variant:s,settings:n}){const{header:r,header_alignment:a="center",background_color:i="#ffffff",header_font_family:l="Poppins",header_font_size:o="32",header_color:c="#000000",button_gap:d="16",buttons:u=[]}=t,m={left:"text-left",center:"text-center",right:"text-right"},h=m[a]||m.center,p=u.filter(x=>(x==null?void 0:x.text)&&(x==null?void 0:x.text.trim())!=="");return e.jsx("div",{className:"py-12 px-4",style:{backgroundColor:i},children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[r&&e.jsx("h2",{className:`${h} mb-8 font-bold`,style:{fontFamily:l,fontSize:`${o}px`,color:c},children:r}),e.jsx("div",{className:`flex flex-wrap ${a==="center"?"justify-center":a==="right"?"justify-end":"justify-start"}`,style:{gap:`${d}px`},children:p.map((x,y)=>e.jsx($s,{text:x.text,link:x.link,buttonStyleId:x.button_style_id,customBgColor:x.custom_bg_color,customTextColor:x.custom_text_color,customBorderColor:x.custom_border_color,openInNewTab:x.open_in_new_tab,size:x.size||"medium",showArrow:x.show_arrow},y))})]})})}function M_e({element:t,onChange:s}){const n={text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"medium",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""},r=t.content?{header:t.content.header??"",header_alignment:t.content.header_alignment??"center",background_color:t.content.background_color??"#ffffff",header_font_family:t.content.header_font_family??"Poppins",header_font_size:t.content.header_font_size??"32",header_color:t.content.header_color??"#000000",button_gap:t.content.button_gap??"16",buttons:(t.content.buttons||[n]).map(u=>({...n,...u}))}:{header:"",header_alignment:"center",background_color:"#ffffff",header_font_family:"Poppins",header_font_size:"32",header_color:"#000000",button_gap:"16",buttons:[n]},a=(u,m)=>{s({...t,content:{...r,[u]:m}})},i=(u,m,h)=>{const p=[...r.buttons||[]];p[u]={...p[u],[m]:h},a("buttons",p)},l=()=>{(r.buttons||[]).length<4&&a("buttons",[...r.buttons||[],{text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"medium",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""}])},o=u=>{const m=[...r.buttons||[]];m.splice(u,1),a("buttons",m)},[c,d]=Be.useState([]);return Be.useEffect(()=>{(async()=>{try{const{base44:m}=await hy(async()=>{const{base44:p}=await Promise.resolve().then(()=>Jv);return{base44:p}},void 0),h=await m.entities.ButtonStyle.list();d(h.filter(p=>p.is_active))}catch(m){console.error("Failed to fetch button styles:",m)}})()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 p-4 bg-slate-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Header Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Text"}),e.jsx("input",{type:"text",value:r.header||"",onChange:u=>a("header",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter header text..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alignment"}),e.jsxs("select",{value:r.header_alignment||"center",onChange:u=>a("header_alignment",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font"}),e.jsxs("select",{value:r.header_font_family||"Poppins",onChange:u=>a("header_font_family",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Size (px)"}),e.jsx("input",{type:"number",value:r.header_font_size||32,onChange:u=>a("header_font_size",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"72"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Color"}),e.jsx("input",{type:"color",value:r.header_color||"#000000",onChange:u=>a("header_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background Color"}),e.jsx("input",{type:"color",value:r.background_color||"#ffffff",onChange:u=>a("background_color",u.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Gap (px)"}),e.jsx("input",{type:"number",value:r.button_gap||16,onChange:u=>a("button_gap",u.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-sm",children:["Buttons (",(r.buttons||[]).length,"/4)"]}),(r.buttons||[]).length<4&&e.jsx("button",{onClick:l,className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:"+ Add Button"})]}),(r.buttons||[]).map((u,m)=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Button ",m+1]}),e.jsx("button",{onClick:()=>o(m),className:"text-red-600 hover:text-red-700 text-sm",children:"Remove"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Text *"}),e.jsx("input",{type:"text",value:u.text||"",onChange:h=>i(m,"text",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"e.g., Learn More"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link URL *"}),e.jsx("input",{type:"text",value:u.link||"",onChange:h=>i(m,"link",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Style"}),e.jsxs("select",{value:u.button_style_id||"",onChange:h=>i(m,"button_style_id",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"",children:"Default Style"}),c.map(h=>e.jsx("option",{value:h.id,children:h.name},h.id))]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Or use custom colors below"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background"}),e.jsx("input",{type:"color",value:u.custom_bg_color||"#000000",onChange:h=>i(m,"custom_bg_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text"}),e.jsx("input",{type:"color",value:u.custom_text_color||"#ffffff",onChange:h=>i(m,"custom_text_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Border (opt.)"}),e.jsx("input",{type:"color",value:u.custom_border_color||"",onChange:h=>i(m,"custom_border_color",h.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Size"}),e.jsxs("select",{value:u.size||"medium",onChange:h=>i(m,"size",h.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"xlarge",children:"Extra Large"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`arrow-${m}`,checked:u.show_arrow||!1,onChange:h=>i(m,"show_arrow",h.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:`arrow-${m}`,className:"text-sm cursor-pointer",children:"Show arrow icon "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`new-tab-${m}`,checked:u.open_in_new_tab||!1,onChange:h=>i(m,"open_in_new_tab",h.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:`new-tab-${m}`,className:"text-sm cursor-pointer",children:"Open in new tab"})]})]},m)),(r.buttons||[]).length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:'No buttons added yet. Click "Add Button" to get started.'})]})]})}function D_e({content:t,variant:s,settings:n,isFirst:r}){const{image_url:a,header_text:i,header_position:l="left",header_font_family:o="Poppins",header_font_size:c="48",header_color:d="#ffffff",text_alignment:u="left",padding_vertical:m="80",padding_horizontal:h="16",line_spacing:p="1.2",text_padding_left:x="0",text_padding_right:y="0",text_padding_top:v="0",text_padding_bottom:j="0",height_type:w="auto",custom_height:N="400",image_fit:_="cover"}=t,P={left:"text-left",center:"text-center",right:"text-right"}[u]||"text-left",A=()=>_==="original"?{}:w==="full"?{height:"100vh"}:w==="custom"?{height:`${N}px`}:{minHeight:"400px"};return e.jsxs("div",{className:"relative w-full overflow-hidden",style:A(),children:[a&&e.jsx("img",{src:a,alt:i||"Hero image",className:_==="original"?"w-full h-auto block":"absolute inset-0 w-full h-full",style:_==="original"?{}:{objectFit:_}}),e.jsx("div",{className:`${_==="original"?"absolute inset-0 flex items-center":"relative h-full flex items-center"} max-w-7xl mx-auto`,style:{paddingLeft:`${h}px`,paddingRight:`${h}px`},children:e.jsx("div",{className:`max-w-2xl ${l==="right"?"ml-auto":"mr-auto"} ${P}`,style:{paddingLeft:`${x}px`,paddingRight:`${y}px`,paddingTop:`${v}px`,paddingBottom:`${j}px`},children:i&&e.jsx("h1",{className:"whitespace-pre-line",style:{fontFamily:o,fontSize:`${c}px`,color:d,lineHeight:p},children:i})})})]})}function R_e({element:t,onChange:s}){const n=t.content||{image_url:"",header_text:"",header_position:"left",header_font_family:"Poppins",header_font_size:"48",header_color:"#ffffff",text_alignment:"left",padding_vertical:"80",padding_horizontal:"16",line_spacing:"1.2",text_padding_left:"0",text_padding_right:"0",text_padding_top:"0",text_padding_bottom:"0",height_type:"auto",custom_height:"400",image_fit:"cover"},[r,a]=Be.useState(!1),i=(o,c)=>{s({...t,content:{...n,[o]:c}})},l=async o=>{if(!o)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(o.type)){alert("Please upload a valid image file");return}if(o.size>10*1024*1024){alert("Image must be smaller than 10MB");return}a(!0);try{const{base44:d}=await hy(async()=>{const{base44:m}=await Promise.resolve().then(()=>Jv);return{base44:m}},void 0),u=await d.integrations.Core.UploadFile({file:o});i("image_url",u.file_url)}catch(d){alert("Failed to upload image: "+d.message)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hero Image *"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"inline-block",children:[e.jsx("div",{className:`px-4 py-2 rounded-md text-sm font-medium cursor-pointer ${r?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"Uploading...":" Upload Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:o=>{var d;const c=(d=o.target.files)==null?void 0:d[0];c&&l(c),o.target.value=""},className:"hidden",disabled:r})]})}),n.image_url&&e.jsxs("div",{className:"mt-2 relative",children:[e.jsx("img",{src:n.image_url,alt:"Preview",className:"w-full h-32 object-cover rounded",onError:o=>{o.target.style.display="none"}}),e.jsx("button",{onClick:()=>i("image_url",""),className:"absolute bottom-2 right-2 px-2 py-1 bg-red-600 hover:bg-red-700 text-white text-xs rounded",type:"button",children:"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Text *"}),e.jsx("textarea",{value:n.header_text||"",onChange:o=>i("header_text",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter header text...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Header Position"}),e.jsxs("select",{value:n.header_position||"left",onChange:o=>i("header_position",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image Display"}),e.jsxs("select",{value:n.image_fit||"cover",onChange:o=>i("image_fit",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"cover",children:"Cover (Fill & Crop)"}),e.jsx("option",{value:"contain",children:"Contain (Fit Within)"}),e.jsx("option",{value:"original",children:"Original (Full Width, Natural Height)"})]})]}),n.image_fit!=="original"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Container Height"}),e.jsxs("select",{value:n.height_type||"auto",onChange:o=>i("height_type",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"auto",children:"Auto (Min 400px)"}),e.jsx("option",{value:"full",children:"Full Viewport"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),n.height_type==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custom Height (px)"}),e.jsx("input",{type:"number",value:n.custom_height||400,onChange:o=>i("custom_height",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Family"}),e.jsxs("select",{value:n.header_font_family||"Poppins",onChange:o=>i("header_font_family",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Size (px)"}),e.jsx("input",{type:"number",value:n.header_font_size||48,onChange:o=>i("header_font_size",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"16",max:"96"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Font Color"}),e.jsx("input",{type:"color",value:n.header_color||"#ffffff",onChange:o=>i("header_color",o.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text Alignment"}),e.jsxs("select",{value:n.text_alignment||"left",onChange:o=>i("text_alignment",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Spacing"}),e.jsx("input",{type:"number",step:"0.1",min:"0.5",max:"3",value:n.line_spacing||1.2,onChange:o=>i("line_spacing",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Container Padding"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vertical (px)"}),e.jsx("input",{type:"number",value:n.padding_vertical||80,onChange:o=>i("padding_vertical",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horizontal (px)"}),e.jsx("input",{type:"number",value:n.padding_horizontal||16,onChange:o=>i("padding_horizontal",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Text Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Left (px)"}),e.jsx("input",{type:"number",value:n.text_padding_left||0,onChange:o=>i("text_padding_left",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Right (px)"}),e.jsx("input",{type:"number",value:n.text_padding_right||0,onChange:o=>i("text_padding_right",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Top (px)"}),e.jsx("input",{type:"number",value:n.text_padding_top||0,onChange:o=>i("text_padding_top",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"From Bottom (px)"}),e.jsx("input",{type:"number",value:n.text_padding_bottom||0,onChange:o=>i("text_padding_bottom",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]})]})]})}function F_e({content:t,variant:s,settings:n}){const{heading_font_family:r="Poppins",heading_font_size:a=48,heading_letter_spacing:i=0,heading_underline_enabled:l=!1,heading_underline_color:o="#000000",heading_underline_width:c=100,heading_underline_weight:d=2,heading_underline_spacing:u=16,heading_underline_to_content_spacing:m=24,subheading_font_family:h="Poppins",subheading_font_size:p=20,subheading_line_height:x=1.5,text_align:y="center",background_color:v,padding_left:j=16,padding_right:w=16,button_top_margin:N=32,button:_}=t,P={default:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",dark:"bg-slate-900 text-white",light:"bg-slate-50 text-slate-900"},A=P[s]||P.default,E=v?{backgroundColor:v}:{},C={paddingLeft:`${j}px`,paddingRight:`${w}px`,textAlign:y};return e.jsx("div",{className:v?"py-20":`${A} py-20`,style:E,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",style:C,children:[t.heading&&e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold",style:{fontFamily:r,fontSize:`${a}px`,letterSpacing:`${i}px`,marginBottom:l?`${u}px`:"24px"},children:t.heading}),l&&e.jsx("div",{style:{width:`${c}px`,height:`${d}px`,backgroundColor:o,margin:y==="center"?"0 auto":y==="right"?"0 0 0 auto":"0",marginBottom:`${m}px`}})]}),t.subheading&&e.jsx("p",{className:"mb-8 opacity-90",style:{fontFamily:h,fontSize:`${p}px`,lineHeight:x},children:t.subheading}),_&&_.text&&e.jsx("div",{style:{marginTop:`${N}px`},children:e.jsx($s,{text:_.text,link:_.link,buttonStyleId:_.button_style_id,customBgColor:_.custom_bg_color,customTextColor:_.custom_text_color,customBorderColor:_.custom_border_color,openInNewTab:_.open_in_new_tab,size:_.size||"large",showArrow:_.show_arrow})})]})})}function I_e({element:t,onChange:s}){const n={text:"",link:"",button_style_id:"",open_in_new_tab:!1,size:"large",show_arrow:!1,custom_bg_color:"#000000",custom_text_color:"#ffffff",custom_border_color:""},r=t.content||{heading:"",subheading:"",heading_font_family:"Poppins",heading_font_size:48,heading_letter_spacing:0,heading_underline_enabled:!1,heading_underline_color:"#000000",heading_underline_width:100,heading_underline_weight:2,heading_underline_spacing:16,heading_underline_to_content_spacing:24,subheading_font_family:"Poppins",subheading_font_size:20,subheading_line_height:1.5,text_align:"center",background_color:"",padding_left:16,padding_right:16,button_top_margin:32,button:n},a=(d,u)=>{s({...t,content:{...r,[d]:u}})},i=(d,u)=>{const m=r.button||n;a("button",{...m,[d]:u})},[l,o]=Be.useState([]);Be.useEffect(()=>{(async()=>{try{const{base44:u}=await hy(async()=>{const{base44:h}=await Promise.resolve().then(()=>Jv);return{base44:h}},void 0),m=await u.entities.ButtonStyle.list();o(m.filter(h=>h.is_active))}catch(u){console.error("Failed to fetch button styles:",u)}})()},[]);const c=r.button||n;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading"}),e.jsx("input",{type:"text",value:r.heading||"",onChange:d=>a("heading",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"Enter heading..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Font"}),e.jsxs("select",{value:r.heading_font_family||"Poppins",onChange:d=>a("heading_font_family",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Size (px)"}),e.jsx("input",{type:"number",value:r.heading_font_size||48,onChange:d=>a("heading_font_size",parseInt(d.target.value)||48),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Heading Letter Spacing (px)"}),e.jsx("input",{type:"number",step:"0.5",value:r.heading_letter_spacing||0,onChange:d=>a("heading_letter_spacing",parseFloat(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"-5",max:"20"})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"underline-enabled",checked:r.heading_underline_enabled||!1,onChange:d=>a("heading_underline_enabled",d.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"underline-enabled",className:"text-sm font-medium cursor-pointer",children:"Show line below heading"})]}),r.heading_underline_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Color"}),e.jsx("input",{type:"color",value:r.heading_underline_color||"#000000",onChange:d=>a("heading_underline_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Width (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_width||100,onChange:d=>a("heading_underline_width",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"10",max:"1000"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Weight (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_weight||2,onChange:d=>a("heading_underline_weight",parseInt(d.target.value)||1),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"1",max:"20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spacing from Header (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_spacing||16,onChange:d=>a("heading_underline_spacing",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spacing to Content (px)"}),e.jsx("input",{type:"number",value:r.heading_underline_to_content_spacing||24,onChange:d=>a("heading_underline_to_content_spacing",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"100"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subheading"}),e.jsx("textarea",{value:r.subheading||"",onChange:d=>a("subheading",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",rows:"3",placeholder:"Enter subheading..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subheading Font"}),e.jsxs("select",{value:r.subheading_font_family||"Poppins",onChange:d=>a("subheading_font_family",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"Poppins",children:"Poppins"}),e.jsx("option",{value:"Degular Medium",children:"Degular Medium"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size (px)"}),e.jsx("input",{type:"number",value:r.subheading_font_size||20,onChange:d=>a("subheading_font_size",parseInt(d.target.value)||20),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"12",max:"100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Line Height"}),e.jsx("input",{type:"number",step:"0.1",value:r.subheading_line_height||1.5,onChange:d=>a("subheading_line_height",parseFloat(d.target.value)||1.5),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"1",max:"3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text Alignment"}),e.jsxs("select",{value:r.text_align||"center",onChange:d=>a("text_align",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"right",children:"Right"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background Color"}),e.jsx("input",{type:"color",value:r.background_color||"#3b82f6",onChange:d=>a("background_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty to use variant style"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Left Padding (px)"}),e.jsx("input",{type:"number",value:r.padding_left||16,onChange:d=>a("padding_left",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Right Padding (px)"}),e.jsx("input",{type:"number",value:r.padding_right||16,onChange:d=>a("padding_right",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Top Margin (px)"}),e.jsx("input",{type:"number",value:r.button_top_margin||32,onChange:d=>a("button_top_margin",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 rounded-md",min:"0",max:"200"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Space between text and button"})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Button Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Text"}),e.jsx("input",{type:"text",value:c.text||"",onChange:d=>i("text",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"e.g., Get Started"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link URL"}),e.jsx("input",{type:"text",value:c.link||"",onChange:d=>i("link",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Style"}),e.jsxs("select",{value:c.button_style_id||"",onChange:d=>i("button_style_id",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"",children:"Default Style"}),l.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Or use custom colors below"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Background"}),e.jsx("input",{type:"color",value:c.custom_bg_color||"#000000",onChange:d=>i("custom_bg_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Text"}),e.jsx("input",{type:"color",value:c.custom_text_color||"#ffffff",onChange:d=>i("custom_text_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Border"}),e.jsx("input",{type:"color",value:c.custom_border_color||"",onChange:d=>i("custom_border_color",d.target.value),className:"w-full h-10 px-1 py-1 border border-slate-300 rounded-md cursor-pointer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Button Size"}),e.jsxs("select",{value:c.size||"large",onChange:d=>i("size",d.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"xlarge",children:"Extra Large"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"arrow-hero",checked:c.show_arrow||!1,onChange:d=>i("show_arrow",d.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"arrow-hero",className:"text-sm cursor-pointer",children:"Show arrow icon "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"new-tab-hero",checked:c.open_in_new_tab||!1,onChange:d=>i("open_in_new_tab",d.target.checked),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"new-tab-hero",className:"text-sm cursor-pointer",children:"Open in new tab"})]})]})]})]})}function L_e({element:t,onClose:s,onSave:n}){const[r,a]=b.useState(t.content||{}),[i,l]=b.useState(t.style_variant||"default"),[o,c]=b.useState(t.settings||{}),[d,u]=b.useState({}),[m,h]=b.useState(!1);b.useEffect(()=>{a(t.content||{}),l(t.style_variant||"default"),c(t.settings||{})},[t]);const{data:p}=me({queryKey:["iedit-template",t.element_type],queryFn:async()=>(await ee.entities.IEditElementTemplate.list()).find(H=>H.element_type===t.element_type)}),x=()=>{n({content:r,style_variant:i,settings:o})},y=(z,H)=>{a({...r,[z]:H})},v=(z,H)=>{c({...o,[z]:H})},j=async(z,H)=>{if(!H)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(H.type)){te.error("Please upload a valid image file (JPEG, PNG, GIF, WebP, or SVG)");return}if(H.size>10*1024*1024){te.error("Image must be smaller than 10MB");return}u({...d,[z]:!0});try{const $=await ee.integrations.Core.UploadFile({file:H});y(z,$.file_url),te.success("Image uploaded successfully")}catch($){te.error("Failed to upload image: "+$.message)}finally{u({...d,[z]:!1})}},w=z=>{y(z,"")},N=t.element_type==="image_hero",_=t.element_type==="wall_of_fame",P=t.element_type==="text_overlay_image",A=t.element_type==="table",E=t.element_type==="banner_carousel",C=t.element_type==="showcase",R=t.element_type==="resources_showcase",O=t.element_type==="button_block",k=t.element_type==="page_header_hero",T=t.element_type==="hero",D=t.element_type==="form",{data:F=[]}=me({queryKey:["forms-list"],queryFn:async()=>(await ee.entities.Form.list()).filter(H=>H.is_active),enabled:D}),U=()=>{var H;if(!((H=p==null?void 0:p.content_schema)!=null&&H.properties))return e.jsx("div",{className:"space-y-4",children:Object.keys(r).map(B=>e.jsxs("div",{children:[e.jsx(Z,{htmlFor:B,className:"capitalize",children:B.replace(/_/g," ")}),typeof r[B]=="string"&&r[B].length>100?e.jsx(Qt,{id:B,value:r[B],onChange:$=>y(B,$.target.value),rows:4}):e.jsx(he,{id:B,value:r[B],onChange:$=>y(B,$.target.value)})]},B))});const z=p.content_schema.properties;return e.jsx("div",{className:"space-y-4",children:Object.entries(z).map(([B,$])=>{var q,J;const I=D&&B==="form_slug",L=$.format==="uri"&&(B.toLowerCase().includes("image")||B.toLowerCase().includes("url")||((q=$.title)==null?void 0:q.toLowerCase().includes("image"))),V=d[B];return e.jsxs("div",{children:[e.jsxs(Z,{htmlFor:B,className:"capitalize",children:[$.title||B.replace(/_/g," "),((J=p.content_schema.required)==null?void 0:J.includes(B))&&" *"]}),$.description&&e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:$.description}),I?e.jsxs(Ge,{value:r[B]||"",onValueChange:Q=>y(B,Q),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a form..."})}),e.jsx(We,{children:F.length===0?e.jsx("div",{className:"p-2 text-sm text-slate-500",children:"No active forms available"}):F.map(Q=>e.jsx(re,{value:Q.slug,children:Q.name},Q.id))})]}):L?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{id:B,type:"text",value:r[B]||"",onChange:Q=>y(B,Q.target.value),placeholder:"Enter image URL or upload...",className:"flex-1"}),e.jsxs(Z,{htmlFor:`${B}-upload`,className:"cursor-pointer",children:[e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${V?"bg-slate-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:[V?e.jsx(bt,{className:"w-4 h-4 animate-spin"}):e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:V?"Uploading...":"Upload"})]}),e.jsx("input",{id:`${B}-upload`,type:"file",accept:"image/*",onChange:Q=>{var K;const Y=(K=Q.target.files)==null?void 0:K[0];Y&&j(B,Y),Q.target.value=""},className:"hidden",disabled:V})]})]}),r[B]&&e.jsxs("div",{className:"relative mt-2 p-2 border border-slate-200 rounded-lg bg-slate-50",children:[e.jsx("img",{src:r[B],alt:"Preview",className:"w-full h-32 object-cover rounded",onError:Q=>{Q.target.style.display="none"}}),e.jsx("button",{onClick:()=>w(B),className:"absolute bottom-3 right-3 p-1.5 bg-red-600 hover:bg-red-700 text-white rounded-full shadow-lg transition-colors",title:"Remove image",type:"button",children:e.jsx(hs,{className:"w-3 h-3"})})]})]}):$.type==="string"&&$.format==="textarea"?e.jsx(Qt,{id:B,value:r[B]||"",onChange:Q=>y(B,Q.target.value),rows:4,placeholder:$.placeholder}):$.type==="string"&&$.enum?e.jsxs(Ge,{value:r[B]||"",onValueChange:Q=>y(B,Q),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select..."})}),e.jsx(We,{children:$.enum.map(Q=>e.jsx(re,{value:Q,children:Q},Q))})]}):$.type==="boolean"?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:B,checked:r[B]||!1,onChange:Q=>y(B,Q.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:B,className:"cursor-pointer",children:$.description||"Enable"})]}):$.type==="number"?e.jsx(he,{id:B,type:"number",value:r[B]||"",onChange:Q=>y(B,parseFloat(Q.target.value)||0),placeholder:$.placeholder,min:$.minimum,max:$.maximum}):e.jsx(he,{id:B,type:"text",value:r[B]||"",onChange:Q=>y(B,Q.target.value),placeholder:$.placeholder})]},B)})})};return e.jsxs("div",{className:`fixed inset-y-0 right-0 bg-white border-l border-slate-200 shadow-xl z-50 flex flex-col transition-all ${m?"w-[calc(100%-4rem)]":"w-96"}`,children:[e.jsxs("div",{className:"p-6 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Edit Element"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(!m),title:m?"Collapse":"Expand",children:m?"":""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(ks,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-slate-600 capitalize",children:t.element_type.replace(/_/g," ")})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(p==null?void 0:p.available_variants)&&p.available_variants.length>1&&e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"variant",children:"Style Variant"}),e.jsxs(Ge,{value:i,onValueChange:l,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsx(We,{children:p.available_variants.map(z=>e.jsx(re,{value:z,children:z},z))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Content"}),_?e.jsx(y_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):P?e.jsx(j_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):A?e.jsx(N_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):E?e.jsx(S_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):C?e.jsx(E_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):R?e.jsx(P_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):O?e.jsx(M_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):k?e.jsx(R_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):T?e.jsx(I_e,{element:{...t,content:r},onChange:z=>a(z.content||{})}):U()]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"fullWidth",checked:o.fullWidth||!1,onChange:z=>v("fullWidth",z.target.checked),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"fullWidth",className:"cursor-pointer",children:"Full Width"})]}),N&&o.fullWidth&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[e.jsx("strong",{children:"Full Width Mode:"}),` Height is automatically determined by the background image's aspect ratio. The "Hero Height" setting is not used.`]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"paddingTop",children:"Padding Top (px)"}),e.jsx(he,{id:"paddingTop",type:"number",value:o.paddingTop??32,onChange:z=>v("paddingTop",parseInt(z.target.value)||0),min:"0",max:"200"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"paddingBottom",children:"Padding Bottom (px)"}),e.jsx(he,{id:"paddingBottom",type:"number",value:o.paddingBottom??32,onChange:z=>v("paddingBottom",parseInt(z.target.value)||0),min:"0",max:"200"})]})]})]})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),e.jsxs(X,{onClick:x,className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:Object.values(d).some(z=>z),children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save"]})]})})]})}function B_e({page:t,onClose:s,onSave:n}){const[r,a]=b.useState({...t}),i=()=>{n(r)};return e.jsx(Ct,{open:!0,onOpenChange:s,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Page Settings"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"title",children:"Page Title *"}),e.jsx(he,{id:"title",value:r.title,onChange:l=>a({...r,title:l.target.value})})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(he,{id:"slug",value:r.slug,onChange:l=>a({...r,slug:l.target.value})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Lowercase letters, numbers, and hyphens only"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:r.description||"",onChange:l=>a({...r,description:l.target.value}),rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Publication"}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"status",children:"Status"}),e.jsxs(Ge,{value:r.status,onValueChange:l=>a({...r,status:l,published_at:l==="published"&&!r.published_at?new Date().toISOString():r.published_at}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"draft",children:"Draft"}),e.jsx(re,{value:"published",children:"Published"}),e.jsx(re,{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"layout_type",children:"Layout Type"}),e.jsxs(Ge,{value:r.layout_type,onValueChange:l=>a({...r,layout_type:l}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"public",children:"Public (With header/footer)"}),e.jsx(re,{value:"member",children:"Member Portal (With sidebar)"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"SEO (Optional)"}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"meta_title",children:"Meta Title"}),e.jsx(he,{id:"meta_title",value:r.meta_title||"",onChange:l=>a({...r,meta_title:l.target.value}),placeholder:"Leave empty to use page title"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"meta_description",children:"Meta Description"}),e.jsx(Qt,{id:"meta_description",value:r.meta_description||"",onChange:l=>a({...r,meta_description:l.target.value}),rows:3,placeholder:"Brief description for search engines"})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(X,{onClick:i,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Settings"]})]})]})})}function q_e(t,s){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const $_e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U_e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,z_e={};function HR(t,s){return(z_e.jsx?U_e:$_e).test(t)}const V_e=/[ \t\n\f\r]/g;function W_e(t){return typeof t=="object"?t.type==="text"?KR(t.value):!1:KR(t)}function KR(t){return t.replace(V_e,"")===""}class lg{constructor(s,n,r){this.normal=n,this.property=s,r&&(this.space=r)}}lg.prototype.normal={};lg.prototype.property={};lg.prototype.space=void 0;function vU(t,s){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new lg(n,r,s)}function RS(t){return t.toLowerCase()}class ya{constructor(s,n){this.attribute=n,this.property=s}}ya.prototype.attribute="";ya.prototype.booleanish=!1;ya.prototype.boolean=!1;ya.prototype.commaOrSpaceSeparated=!1;ya.prototype.commaSeparated=!1;ya.prototype.defined=!1;ya.prototype.mustUseProperty=!1;ya.prototype.number=!1;ya.prototype.overloadedBoolean=!1;ya.prototype.property="";ya.prototype.spaceSeparated=!1;ya.prototype.space=void 0;let H_e=0;const xs=Yd(),Un=Yd(),FS=Yd(),ft=Yd(),dn=Yd(),rh=Yd(),Ea=Yd();function Yd(){return 2**++H_e}const IS=Object.freeze(Object.defineProperty({__proto__:null,boolean:xs,booleanish:Un,commaOrSpaceSeparated:Ea,commaSeparated:rh,number:ft,overloadedBoolean:FS,spaceSeparated:dn},Symbol.toStringTag,{value:"Module"})),__=Object.keys(IS);class Rk extends ya{constructor(s,n,r,a){let i=-1;if(super(s,n),GR(this,"space",a),typeof r=="number")for(;++i<__.length;){const l=__[i];GR(this,__[i],(r&IS[l])===IS[l])}}}Rk.prototype.defined=!0;function GR(t,s,n){n&&(t[s]=n)}function hm(t){const s={},n={};for(const[r,a]of Object.entries(t.properties)){const i=new Rk(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),s[r]=i,n[RS(r)]=r,n[RS(i.attribute)]=r}return new lg(s,n,t.space)}const yU=hm({properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:dn,ariaCurrent:null,ariaDescribedBy:dn,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:dn,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:dn,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dn,ariaLevel:ft,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:dn,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:dn,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:Un,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null},transform(t,s){return s==="role"?s:"aria-"+s.slice(4).toLowerCase()}});function bU(t,s){return s in t?t[s]:s}function jU(t,s){return bU(t,s.toLowerCase())}const K_e=hm({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rh,acceptCharset:dn,accessKey:dn,action:null,allow:null,allowFullScreen:xs,allowPaymentRequest:xs,allowUserMedia:xs,alt:null,as:null,async:xs,autoCapitalize:null,autoComplete:dn,autoFocus:xs,autoPlay:xs,blocking:dn,capture:null,charSet:null,checked:xs,cite:null,className:dn,cols:ft,colSpan:null,content:null,contentEditable:Un,controls:xs,controlsList:dn,coords:ft|rh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xs,defer:xs,dir:null,dirName:null,disabled:xs,download:FS,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xs,formTarget:null,headers:dn,height:ft,hidden:FS,high:ft,href:null,hrefLang:null,htmlFor:dn,httpEquiv:dn,id:null,imageSizes:null,imageSrcSet:null,inert:xs,inputMode:null,integrity:null,is:null,isMap:xs,itemId:null,itemProp:dn,itemRef:dn,itemScope:xs,itemType:dn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xs,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:xs,muted:xs,name:null,nonce:null,noModule:xs,noValidate:xs,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xs,optimum:ft,pattern:null,ping:dn,placeholder:null,playsInline:xs,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xs,referrerPolicy:null,rel:dn,required:xs,reversed:xs,rows:ft,rowSpan:ft,sandbox:dn,scope:null,scoped:xs,seamless:xs,selected:xs,shadowRootClonable:xs,shadowRootDelegatesFocus:xs,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:xs,useMap:null,value:Un,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:dn,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xs,declare:xs,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:xs,noHref:xs,noShade:xs,noWrap:xs,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xs,disableRemotePlayback:xs,prefix:null,property:null,results:ft,security:null,unselectable:null},space:"html",transform:jU}),G_e=hm({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ea,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:dn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:xs,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rh,g2:rh,glyphName:rh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:Ea,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ea,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ea,rev:Ea,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ea,requiredFeatures:Ea,requiredFonts:Ea,requiredFormats:Ea,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:Ea,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ea,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ea,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bU}),wU=hm({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,s){return"xlink:"+s.slice(5).toLowerCase()}}),NU=hm({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jU}),_U=hm({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,s){return"xml:"+s.slice(3).toLowerCase()}}),Y_e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Q_e=/[A-Z]/g,YR=/-[a-z]/g,J_e=/^data[-\w.:]+$/i;function X_e(t,s){const n=RS(s);let r=s,a=ya;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&J_e.test(s)){if(s.charAt(4)==="-"){const i=s.slice(5).replace(YR,e1e);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=s.slice(4);if(!YR.test(i)){let l=i.replace(Q_e,Z_e);l.charAt(0)!=="-"&&(l="-"+l),s="data"+l}}a=Rk}return new a(r,s)}function Z_e(t){return"-"+t.toLowerCase()}function e1e(t){return t.charAt(1).toUpperCase()}const t1e=vU([yU,K_e,wU,NU,_U],"html"),Fk=vU([yU,G_e,wU,NU,_U],"svg");function s1e(t){return t.join(" ").trim()}var Bu={},S_,QR;function n1e(){if(QR)return S_;QR=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,s=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,d="/",u="*",m="",h="comment",p="declaration";function x(v,j){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];j=j||{};var w=1,N=1;function _(F){var U=F.match(s);U&&(w+=U.length);var z=F.lastIndexOf(c);N=~z?F.length-z:N+F.length}function P(){var F={line:w,column:N};return function(U){return U.position=new A(F),R(),U}}function A(F){this.start=F,this.end={line:w,column:N},this.source=j.source}A.prototype.content=v;function E(F){var U=new Error(j.source+":"+w+":"+N+": "+F);if(U.reason=F,U.filename=j.source,U.line=w,U.column=N,U.source=v,!j.silent)throw U}function C(F){var U=F.exec(v);if(U){var z=U[0];return _(z),v=v.slice(z.length),U}}function R(){C(n)}function O(F){var U;for(F=F||[];U=k();)U!==!1&&F.push(U);return F}function k(){var F=P();if(!(d!=v.charAt(0)||u!=v.charAt(1))){for(var U=2;m!=v.charAt(U)&&(u!=v.charAt(U)||d!=v.charAt(U+1));)++U;if(U+=2,m===v.charAt(U-1))return E("End of comment missing");var z=v.slice(2,U-2);return N+=2,_(z),v=v.slice(U),N+=2,F({type:h,comment:z})}}function T(){var F=P(),U=C(r);if(U){if(k(),!C(a))return E("property missing ':'");var z=C(i),H=F({type:p,property:y(U[0].replace(t,m)),value:z?y(z[0].replace(t,m)):m});return C(l),H}}function D(){var F=[];O(F);for(var U;U=T();)U!==!1&&(F.push(U),O(F));return F}return R(),D()}function y(v){return v?v.replace(o,m):m}return S_=x,S_}var JR;function r1e(){if(JR)return Bu;JR=1;var t=Bu&&Bu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.default=n;const s=t(n1e());function n(r,a){let i=null;if(!r||typeof r!="string")return i;const l=(0,s.default)(r),o=typeof a=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:u}=c;o?a(d,u,c):u&&(i=i||{},i[d]=u)}),i}return Bu}var cf={},XR;function a1e(){if(XR)return cf;XR=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,s=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,i=function(d){return!d||n.test(d)||t.test(d)},l=function(d,u){return u.toUpperCase()},o=function(d,u){return"".concat(u,"-")},c=function(d,u){return u===void 0&&(u={}),i(d)?d:(d=d.toLowerCase(),u.reactCompat?d=d.replace(a,o):d=d.replace(r,o),d.replace(s,l))};return cf.camelCase=c,cf}var df,ZR;function i1e(){if(ZR)return df;ZR=1;var t=df&&df.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},s=t(r1e()),n=a1e();function r(a,i){var l={};return!a||typeof a!="string"||(0,s.default)(a,function(o,c){o&&c&&(l[(0,n.camelCase)(o,i)]=c)}),l}return r.default=r,df=r,df}var l1e=i1e();const o1e=vc(l1e),SU=CU("end"),Ik=CU("start");function CU(t){return s;function s(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function c1e(t){const s=Ik(t),n=SU(t);if(s&&n)return{start:s,end:n}}function Rf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?e6(t.position):"start"in t||"end"in t?e6(t):"line"in t||"column"in t?LS(t):""}function LS(t){return t6(t&&t.line)+":"+t6(t&&t.column)}function e6(t){return LS(t&&t.start)+"-"+LS(t&&t.end)}function t6(t){return t&&typeof t=="number"?t:1}class Pr extends Error{constructor(s,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof s=="string"?a=s:!i.cause&&s&&(l=!0,a=s.message,i.cause=s),!i.ruleId&&!i.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?i.ruleId=r:(i.source=r.slice(0,c),i.ruleId=r.slice(c+1))}if(!i.place&&i.ancestors&&i.ancestors){const c=i.ancestors[i.ancestors.length-1];c&&(i.place=c.position)}const o=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=Rf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pr.prototype.file="";Pr.prototype.name="";Pr.prototype.reason="";Pr.prototype.message="";Pr.prototype.stack="";Pr.prototype.column=void 0;Pr.prototype.line=void 0;Pr.prototype.ancestors=void 0;Pr.prototype.cause=void 0;Pr.prototype.fatal=void 0;Pr.prototype.place=void 0;Pr.prototype.ruleId=void 0;Pr.prototype.source=void 0;const Lk={}.hasOwnProperty,d1e=new Map,u1e=/[A-Z]/g,h1e=new Set(["table","tbody","thead","tfoot","tr"]),m1e=new Set(["td","th"]),kU="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function f1e(t,s){if(!s||s.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=s.filePath||void 0;let r;if(s.development){if(typeof s.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=w1e(n,s.jsxDEV)}else{if(typeof s.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof s.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=j1e(n,s.jsx,s.jsxs)}const a={Fragment:s.Fragment,ancestors:[],components:s.components||{},create:r,elementAttributeNameCase:s.elementAttributeNameCase||"react",evaluater:s.createEvaluater?s.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:s.ignoreInvalidStyle||!1,passKeys:s.passKeys!==!1,passNode:s.passNode||!1,schema:s.space==="svg"?Fk:t1e,stylePropertyNameCase:s.stylePropertyNameCase||"dom",tableCellAlignToStyle:s.tableCellAlignToStyle!==!1},i=EU(a,t,void 0);return i&&typeof i!="string"?i:a.create(t,a.Fragment,{children:i||void 0},void 0)}function EU(t,s,n){if(s.type==="element")return p1e(t,s,n);if(s.type==="mdxFlowExpression"||s.type==="mdxTextExpression")return g1e(t,s);if(s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement")return v1e(t,s,n);if(s.type==="mdxjsEsm")return x1e(t,s);if(s.type==="root")return y1e(t,s,n);if(s.type==="text")return b1e(t,s)}function p1e(t,s,n){const r=t.schema;let a=r;s.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=Fk,t.schema=a),t.ancestors.push(s);const i=PU(t,s.tagName,!1),l=N1e(t,s);let o=qk(t,s);return h1e.has(s.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!W_e(c):!0})),TU(t,l,i,s),Bk(l,o),t.ancestors.pop(),t.schema=r,t.create(s,i,l,n)}function g1e(t,s){if(s.data&&s.data.estree&&t.evaluater){const r=s.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}fp(t,s.position)}function x1e(t,s){if(s.data&&s.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(s.data.estree);fp(t,s.position)}function v1e(t,s,n){const r=t.schema;let a=r;s.name==="svg"&&r.space==="html"&&(a=Fk,t.schema=a),t.ancestors.push(s);const i=s.name===null?t.Fragment:PU(t,s.name,!0),l=_1e(t,s),o=qk(t,s);return TU(t,l,i,s),Bk(l,o),t.ancestors.pop(),t.schema=r,t.create(s,i,l,n)}function y1e(t,s,n){const r={};return Bk(r,qk(t,s)),t.create(s,t.Fragment,r,n)}function b1e(t,s){return s.value}function TU(t,s,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(s.node=r)}function Bk(t,s){if(s.length>0){const n=s.length>1?s:s[0];n&&(t.children=n)}}function j1e(t,s,n){return r;function r(a,i,l,o){const d=Array.isArray(l.children)?n:s;return o?d(i,l,o):d(i,l)}}function w1e(t,s){return n;function n(r,a,i,l){const o=Array.isArray(i.children),c=Ik(r);return s(a,i,l,o,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function N1e(t,s){const n={};let r,a;for(a in s.properties)if(a!=="children"&&Lk.call(s.properties,a)){const i=S1e(t,a,s.properties[a]);if(i){const[l,o]=i;t.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&m1e.has(s.tagName)?r=o:n[l]=o}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _1e(t,s){const n={};for(const r of s.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const o=l.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else fp(t,s.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,i=t.evaluater.evaluateExpression(o.expression)}else fp(t,s.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function qk(t,s){const n=[];let r=-1;const a=t.passKeys?new Map:d1e;for(;++r<s.children.length;){const i=s.children[r];let l;if(t.passKeys){const c=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(c){const d=a.get(c)||0;l=c+"-"+d,a.set(c,d+1)}}const o=EU(t,i,l);o!==void 0&&n.push(o)}return n}function S1e(t,s,n){const r=X_e(t.schema,s);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?q_e(n):s1e(n)),r.property==="style"){let a=typeof n=="object"?n:C1e(t,String(n));return t.stylePropertyNameCase==="css"&&(a=k1e(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?Y_e[r.property]||r.property:r.attribute,n]}}function C1e(t,s){try{return o1e(s,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new Pr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=kU+"#cannot-parse-style-attribute",a}}function PU(t,s,n){let r;if(!n)r={type:"Literal",value:s};else if(s.includes(".")){const a=s.split(".");let i=-1,l;for(;++i<a.length;){const o=HR(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(i&&o.type==="Literal"),optional:!1}:o}r=l}else r=HR(s)&&!/^[a-z]/.test(s)?{type:"Identifier",name:s}:{type:"Literal",value:s};if(r.type==="Literal"){const a=r.value;return Lk.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);fp(t)}function fp(t,s){const n=new Pr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:s,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=kU+"#cannot-handle-mdx-estrees-without-createevaluater",n}function k1e(t){const s={};let n;for(n in t)Lk.call(t,n)&&(s[E1e(n)]=t[n]);return s}function E1e(t){let s=t.replace(u1e,T1e);return s.slice(0,3)==="ms-"&&(s="-"+s),s}function T1e(t){return"-"+t.toLowerCase()}const C_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},P1e={};function A1e(t,s){const n=P1e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return AU(t,r,a)}function AU(t,s,n){if(O1e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(s&&"alt"in t&&t.alt)return t.alt;if("children"in t)return s6(t.children,s,n)}return Array.isArray(t)?s6(t,s,n):""}function s6(t,s,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=AU(t[a],s,n);return r.join("")}function O1e(t){return!!(t&&typeof t=="object")}const n6=document.createElement("i");function $k(t){const s="&"+t+";";n6.innerHTML=s;const n=n6.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===s?!1:n}function yl(t,s,n,r){const a=t.length;let i=0,l;if(s<0?s=-s>a?0:a+s:s=s>a?a:s,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(s,n),t.splice(...l);else for(n&&t.splice(s,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(s,0),t.splice(...l),i+=1e4,s+=1e4}function ti(t,s){return t.length>0?(yl(t,t.length,0,s),t):s}const r6={}.hasOwnProperty;function M1e(t){const s={};let n=-1;for(;++n<t.length;)D1e(s,t[n]);return s}function D1e(t,s){let n;for(n in s){const a=(r6.call(t,n)?t[n]:void 0)||(t[n]={}),i=s[n];let l;if(i)for(l in i){r6.call(a,l)||(a[l]=[]);const o=i[l];R1e(a[l],Array.isArray(o)?o:o?[o]:[])}}}function R1e(t,s){let n=-1;const r=[];for(;++n<s.length;)(s[n].add==="after"?t:r).push(s[n]);yl(t,0,0,r)}function OU(t,s){const n=Number.parseInt(t,s);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ah(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nl=kc(/[A-Za-z]/),Ra=kc(/[\dA-Za-z]/),F1e=kc(/[#-'*+\--9=?A-Z^-~]/);function BS(t){return t!==null&&(t<32||t===127)}const qS=kc(/\d/),I1e=kc(/[\dA-Fa-f]/),L1e=kc(/[!-/:-@[-`{-~]/);function us(t){return t!==null&&t<-2}function fa(t){return t!==null&&(t<0||t===32)}function Gs(t){return t===-2||t===-1||t===32}const B1e=kc(new RegExp("\\p{P}|\\p{S}","u")),q1e=kc(/\s/);function kc(t){return s;function s(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function mm(t){const s=[];let n=-1,r=0,a=0;for(;++n<t.length;){const i=t.charCodeAt(n);let l="";if(i===37&&Ra(t.charCodeAt(n+1))&&Ra(t.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const o=t.charCodeAt(n+1);i<56320&&o>56319&&o<57344?(l=String.fromCharCode(i,o),a=1):l=""}else l=String.fromCharCode(i);l&&(s.push(t.slice(r,n),encodeURIComponent(l)),r=n+a+1,l=""),a&&(n+=a,a=0)}return s.join("")+t.slice(r)}function un(t,s,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(c){return Gs(c)?(t.enter(n),o(c)):s(c)}function o(c){return Gs(c)&&i++<a?(t.consume(c),o):(t.exit(n),s(c))}}const $1e={tokenize:U1e};function U1e(t){const s=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return s;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),un(t,s,"linePrefix")}function a(o){return t.enter("paragraph"),i(o)}function i(o){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(o)}function l(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return us(o)?(t.consume(o),t.exit("chunkText"),i):(t.consume(o),l)}}const z1e={tokenize:V1e},a6={tokenize:W1e};function V1e(t){const s=this,n=[];let r=0,a,i,l;return o;function o(N){if(r<n.length){const _=n[r];return s.containerState=_[1],t.attempt(_[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,s.containerState._closeFlow){s.containerState._closeFlow=void 0,a&&w();const _=s.events.length;let P=_,A;for(;P--;)if(s.events[P][0]==="exit"&&s.events[P][1].type==="chunkFlow"){A=s.events[P][1].end;break}j(r);let E=_;for(;E<s.events.length;)s.events[E][1].end={...A},E++;return yl(s.events,P+1,0,s.events.slice(_)),s.events.length=E,d(N)}return o(N)}function d(N){if(r===n.length){if(!a)return h(N);if(a.currentConstruct&&a.currentConstruct.concrete)return x(N);s.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return s.containerState={},t.check(a6,u,m)(N)}function u(N){return a&&w(),j(r),h(N)}function m(N){return s.parser.lazy[s.now().line]=r!==n.length,l=s.now().offset,x(N)}function h(N){return s.containerState={},t.attempt(a6,p,x)(N)}function p(N){return r++,n.push([s.currentConstruct,s.containerState]),h(N)}function x(N){if(N===null){a&&w(),j(0),t.consume(N);return}return a=a||s.parser.flow(s.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(N)}function y(N){if(N===null){v(t.exit("chunkFlow"),!0),j(0),t.consume(N);return}return us(N)?(t.consume(N),v(t.exit("chunkFlow")),r=0,s.interrupt=void 0,o):(t.consume(N),y)}function v(N,_){const P=s.sliceStream(N);if(_&&P.push(null),N.previous=i,i&&(i.next=N),i=N,a.defineSkip(N.start),a.write(P),s.parser.lazy[N.start.line]){let A=a.events.length;for(;A--;)if(a.events[A][1].start.offset<l&&(!a.events[A][1].end||a.events[A][1].end.offset>l))return;const E=s.events.length;let C=E,R,O;for(;C--;)if(s.events[C][0]==="exit"&&s.events[C][1].type==="chunkFlow"){if(R){O=s.events[C][1].end;break}R=!0}for(j(r),A=E;A<s.events.length;)s.events[A][1].end={...O},A++;yl(s.events,C+1,0,s.events.slice(E)),s.events.length=A}}function j(N){let _=n.length;for(;_-- >N;){const P=n[_];s.containerState=P[1],P[0].exit.call(s,t)}n.length=N}function w(){a.write([null]),i=void 0,a=void 0,s.containerState._closeFlow=void 0}}function W1e(t,s,n){return un(t,t.attempt(this.parser.constructs.document,s,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function i6(t){if(t===null||fa(t)||q1e(t))return 1;if(B1e(t))return 2}function Uk(t,s,n){const r=[];let a=-1;for(;++a<t.length;){const i=t[a].resolveAll;i&&!r.includes(i)&&(s=i(s,n),r.push(i))}return s}const $S={name:"attention",resolveAll:H1e,tokenize:K1e};function H1e(t,s){let n=-1,r,a,i,l,o,c,d,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&s.sliceSerialize(t[r][1]).charCodeAt(0)===s.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},h={...t[n][1].start};l6(m,-c),l6(h,c),l={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},i={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},t[r][1].end={...l.start},t[n][1].start={...o.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=ti(d,[["enter",t[r][1],s],["exit",t[r][1],s]])),d=ti(d,[["enter",a,s],["enter",l,s],["exit",l,s],["enter",i,s]]),d=ti(d,Uk(s.parser.constructs.insideSpan.null,t.slice(r+1,n),s)),d=ti(d,[["exit",i,s],["enter",o,s],["exit",o,s],["exit",a,s]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,d=ti(d,[["enter",t[n][1],s],["exit",t[n][1],s]])):u=0,yl(t,r-1,n-r+3,d),n=r+d.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function K1e(t,s){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=i6(r);let i;return l;function l(c){return i=c,t.enter("attentionSequence"),o(c)}function o(c){if(c===i)return t.consume(c),o;const d=t.exit("attentionSequence"),u=i6(c),m=!u||u===2&&a||n.includes(c),h=!a||a===2&&u||n.includes(r);return d._open=!!(i===42?m:m&&(a||!h)),d._close=!!(i===42?h:h&&(u||!m)),s(c)}}function l6(t,s){t.column+=s,t.offset+=s,t._bufferIndex+=s}const G1e={name:"autolink",tokenize:Y1e};function Y1e(t,s,n){let r=0;return a;function a(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(p){return nl(p)?(t.consume(p),l):p===64?n(p):d(p)}function l(p){return p===43||p===45||p===46||Ra(p)?(r=1,o(p)):d(p)}function o(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||Ra(p))&&r++<32?(t.consume(p),o):(r=0,d(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),s):p===null||p===32||p===60||BS(p)?n(p):(t.consume(p),c)}function d(p){return p===64?(t.consume(p),u):F1e(p)?(t.consume(p),d):n(p)}function u(p){return Ra(p)?m(p):n(p)}function m(p){return p===46?(t.consume(p),r=0,u):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),s):h(p)}function h(p){if((p===45||Ra(p))&&r++<63){const x=p===45?h:m;return t.consume(p),x}return n(p)}}const My={partial:!0,tokenize:Q1e};function Q1e(t,s,n){return r;function r(i){return Gs(i)?un(t,a,"linePrefix")(i):a(i)}function a(i){return i===null||us(i)?s(i):n(i)}}const MU={continuation:{tokenize:X1e},exit:Z1e,name:"blockQuote",tokenize:J1e};function J1e(t,s,n){const r=this;return a;function a(l){if(l===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),i}return n(l)}function i(l){return Gs(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),s):(t.exit("blockQuotePrefix"),s(l))}}function X1e(t,s,n){const r=this;return a;function a(l){return Gs(l)?un(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return t.attempt(MU,s,n)(l)}}function Z1e(t){t.exit("blockQuote")}const DU={name:"characterEscape",tokenize:eSe};function eSe(t,s,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),a}function a(i){return L1e(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),s):n(i)}}const RU={name:"characterReference",tokenize:tSe};function tSe(t,s,n){const r=this;let a=0,i,l;return o;function o(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),i=31,l=Ra,u(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,l=I1e,u):(t.enter("characterReferenceValue"),i=7,l=qS,u(m))}function u(m){if(m===59&&a){const h=t.exit("characterReferenceValue");return l===Ra&&!$k(r.sliceSerialize(h))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),s)}return l(m)&&a++<i?(t.consume(m),u):n(m)}}const o6={partial:!0,tokenize:nSe},c6={concrete:!0,name:"codeFenced",tokenize:sSe};function sSe(t,s,n){const r=this,a={partial:!0,tokenize:P};let i=0,l=0,o;return c;function c(A){return d(A)}function d(A){const E=r.events[r.events.length-1];return i=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,o=A,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(A)}function u(A){return A===o?(l++,t.consume(A),u):l<3?n(A):(t.exit("codeFencedFenceSequence"),Gs(A)?un(t,m,"whitespace")(A):m(A))}function m(A){return A===null||us(A)?(t.exit("codeFencedFence"),r.interrupt?s(A):t.check(o6,y,_)(A)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(A))}function h(A){return A===null||us(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(A)):Gs(A)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,p,"whitespace")(A)):A===96&&A===o?n(A):(t.consume(A),h)}function p(A){return A===null||us(A)?m(A):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===null||us(A)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(A)):A===96&&A===o?n(A):(t.consume(A),x)}function y(A){return t.attempt(a,_,v)(A)}function v(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),j}function j(A){return i>0&&Gs(A)?un(t,w,"linePrefix",i+1)(A):w(A)}function w(A){return A===null||us(A)?t.check(o6,y,_)(A):(t.enter("codeFlowValue"),N(A))}function N(A){return A===null||us(A)?(t.exit("codeFlowValue"),w(A)):(t.consume(A),N)}function _(A){return t.exit("codeFenced"),s(A)}function P(A,E,C){let R=0;return O;function O(U){return A.enter("lineEnding"),A.consume(U),A.exit("lineEnding"),k}function k(U){return A.enter("codeFencedFence"),Gs(U)?un(A,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):T(U)}function T(U){return U===o?(A.enter("codeFencedFenceSequence"),D(U)):C(U)}function D(U){return U===o?(R++,A.consume(U),D):R>=l?(A.exit("codeFencedFenceSequence"),Gs(U)?un(A,F,"whitespace")(U):F(U)):C(U)}function F(U){return U===null||us(U)?(A.exit("codeFencedFence"),E(U)):C(U)}}}function nSe(t,s,n){const r=this;return a;function a(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):s(l)}}const k_={name:"codeIndented",tokenize:aSe},rSe={partial:!0,tokenize:iSe};function aSe(t,s,n){const r=this;return a;function a(d){return t.enter("codeIndented"),un(t,i,"linePrefix",5)(d)}function i(d){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?c(d):us(d)?t.attempt(rSe,l,c)(d):(t.enter("codeFlowValue"),o(d))}function o(d){return d===null||us(d)?(t.exit("codeFlowValue"),l(d)):(t.consume(d),o)}function c(d){return t.exit("codeIndented"),s(d)}}function iSe(t,s,n){const r=this;return a;function a(l){return r.parser.lazy[r.now().line]?n(l):us(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):un(t,i,"linePrefix",5)(l)}function i(l){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?s(l):us(l)?a(l):n(l)}}const lSe={name:"codeText",previous:cSe,resolve:oSe,tokenize:dSe};function oSe(t){let s=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[s][1].type==="lineEnding"||t[s][1].type==="space")){for(r=n;++r<s;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[s][1].type="codeTextPadding",n+=2,s-=2;break}}for(r=n-1,s++;++r<=s;)a===void 0?r!==s&&t[r][1].type!=="lineEnding"&&(a=r):(r===s||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),s-=r-a-2,r=a+2),a=void 0);return t}function cSe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dSe(t,s,n){let r=0,a,i;return l;function l(m){return t.enter("codeText"),t.enter("codeTextSequence"),o(m)}function o(m){return m===96?(t.consume(m),r++,o):(t.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),c):m===96?(i=t.enter("codeTextSequence"),a=0,u(m)):us(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(m))}function d(m){return m===null||m===32||m===96||us(m)?(t.exit("codeTextData"),c(m)):(t.consume(m),d)}function u(m){return m===96?(t.consume(m),a++,u):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),s(m)):(i.type="codeTextData",d(m))}}class uSe{constructor(s){this.left=s?[...s]:[],this.right=[]}get(s){if(s<0||s>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+s+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return s<this.left.length?this.left[s]:this.right[this.right.length-s+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(s,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(s,r):s>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-s+this.left.length).reverse():this.left.slice(s).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(s,n,r){const a=n||0;this.setCursor(Math.trunc(s));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&uf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(s){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(s)}pushMany(s){this.setCursor(Number.POSITIVE_INFINITY),uf(this.left,s)}unshift(s){this.setCursor(0),this.right.push(s)}unshiftMany(s){this.setCursor(0),uf(this.right,s.reverse())}setCursor(s){if(!(s===this.left.length||s>this.left.length&&this.right.length===0||s<0&&this.left.length===0))if(s<this.left.length){const n=this.left.splice(s,Number.POSITIVE_INFINITY);uf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-s,Number.POSITIVE_INFINITY);uf(this.left,n.reverse())}}}function uf(t,s){let n=0;if(s.length<1e4)t.push(...s);else for(;n<s.length;)t.push(...s.slice(n,n+1e4)),n+=1e4}function FU(t){const s={};let n=-1,r,a,i,l,o,c,d;const u=new uSe(t);for(;++n<u.length;){for(;n in s;)n=s[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,i=0,i<c.length&&c[i][1].type==="lineEndingBlank"&&(i+=2),i<c.length&&c[i][1].type==="content"))for(;++i<c.length&&c[i][1].type!=="content";)c[i][1].type==="chunkText"&&(c[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(s,hSe(u,n)),n=s[n],d=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(l=u.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(u.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=i);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(r[1].end={...u.get(a)[1].start},o=u.slice(a,n),o.unshift(r),u.splice(a,n-a+1,o))}}return yl(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!d}function hSe(t,s){const n=t.get(s)[1],r=t.get(s)[2];let a=s-1;const i=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,c=[],d={};let u,m,h=-1,p=n,x=0,y=0;const v=[y];for(;p;){for(;t.get(++a)[1]!==p;);i.push(a),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),m&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(u),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(y=h+1,v.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const j=o.slice(v[h],v[h+1]),w=i.pop();c.push([w,w+j.length-1]),t.splice(w,2,j)}for(c.reverse(),h=-1;++h<c.length;)d[x+c[h][0]]=x+c[h][1],x+=c[h][1]-c[h][0]-1;return d}const mSe={resolve:pSe,tokenize:gSe},fSe={partial:!0,tokenize:xSe};function pSe(t){return FU(t),t}function gSe(t,s){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?i(o):us(o)?t.check(fSe,l,i)(o):(t.consume(o),a)}function i(o){return t.exit("chunkContent"),t.exit("content"),s(o)}function l(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function xSe(t,s,n){const r=this;return a;function a(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),un(t,i,"linePrefix")}function i(l){if(l===null||us(l))return n(l);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?s(l):t.interrupt(r.parser.constructs.flow,n,s)(l)}}function IU(t,s,n,r,a,i,l,o,c){const d=c||Number.POSITIVE_INFINITY;let u=0;return m;function m(j){return j===60?(t.enter(r),t.enter(a),t.enter(i),t.consume(j),t.exit(i),h):j===null||j===32||j===41||BS(j)?n(j):(t.enter(r),t.enter(l),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(j))}function h(j){return j===62?(t.enter(i),t.consume(j),t.exit(i),t.exit(a),t.exit(r),s):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===62?(t.exit("chunkString"),t.exit(o),h(j)):j===null||j===60||us(j)?n(j):(t.consume(j),j===92?x:p)}function x(j){return j===60||j===62||j===92?(t.consume(j),p):p(j)}function y(j){return!u&&(j===null||j===41||fa(j))?(t.exit("chunkString"),t.exit(o),t.exit(l),t.exit(r),s(j)):u<d&&j===40?(t.consume(j),u++,y):j===41?(t.consume(j),u--,y):j===null||j===32||j===40||BS(j)?n(j):(t.consume(j),j===92?v:y)}function v(j){return j===40||j===41||j===92?(t.consume(j),y):y(j)}}function LU(t,s,n,r,a,i){const l=this;let o=0,c;return d;function d(p){return t.enter(r),t.enter(a),t.consume(p),t.exit(a),t.enter(i),u}function u(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?n(p):p===93?(t.exit(i),t.enter(a),t.consume(p),t.exit(a),t.exit(r),s):us(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===null||p===91||p===93||us(p)||o++>999?(t.exit("chunkString"),u(p)):(t.consume(p),c||(c=!Gs(p)),p===92?h:m)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,m):m(p)}}function BU(t,s,n,r,a,i){let l;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(a),t.consume(h),t.exit(a),l=h===40?41:h,c):n(h)}function c(h){return h===l?(t.enter(a),t.consume(h),t.exit(a),t.exit(r),s):(t.enter(i),d(h))}function d(h){return h===l?(t.exit(i),c(l)):h===null?n(h):us(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),un(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===l||h===null||us(h)?(t.exit("chunkString"),d(h)):(t.consume(h),h===92?m:u)}function m(h){return h===l||h===92?(t.consume(h),u):u(h)}}function Ff(t,s){let n;return r;function r(a){return us(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Gs(a)?un(t,r,n?"linePrefix":"lineSuffix")(a):s(a)}}const vSe={name:"definition",tokenize:bSe},ySe={partial:!0,tokenize:jSe};function bSe(t,s,n){const r=this;let a;return i;function i(p){return t.enter("definition"),l(p)}function l(p){return LU.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return a=ah(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return fa(p)?Ff(t,d)(p):d(p)}function d(p){return IU(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return t.attempt(ySe,m,m)(p)}function m(p){return Gs(p)?un(t,h,"whitespace")(p):h(p)}function h(p){return p===null||us(p)?(t.exit("definition"),r.parser.defined.push(a),s(p)):n(p)}}function jSe(t,s,n){return r;function r(o){return fa(o)?Ff(t,a)(o):n(o)}function a(o){return BU(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function i(o){return Gs(o)?un(t,l,"whitespace")(o):l(o)}function l(o){return o===null||us(o)?s(o):n(o)}}const wSe={name:"hardBreakEscape",tokenize:NSe};function NSe(t,s,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),a}function a(i){return us(i)?(t.exit("hardBreakEscape"),s(i)):n(i)}}const _Se={name:"headingAtx",resolve:SSe,tokenize:CSe};function SSe(t,s){let n=t.length-2,r=3,a,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},yl(t,r,n-r+1,[["enter",a,s],["enter",i,s],["exit",i,s],["exit",a,s]])),t}function CSe(t,s,n){let r=0;return a;function a(u){return t.enter("atxHeading"),i(u)}function i(u){return t.enter("atxHeadingSequence"),l(u)}function l(u){return u===35&&r++<6?(t.consume(u),l):u===null||fa(u)?(t.exit("atxHeadingSequence"),o(u)):n(u)}function o(u){return u===35?(t.enter("atxHeadingSequence"),c(u)):u===null||us(u)?(t.exit("atxHeading"),s(u)):Gs(u)?un(t,o,"whitespace")(u):(t.enter("atxHeadingText"),d(u))}function c(u){return u===35?(t.consume(u),c):(t.exit("atxHeadingSequence"),o(u))}function d(u){return u===null||u===35||fa(u)?(t.exit("atxHeadingText"),o(u)):(t.consume(u),d)}}const kSe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],d6=["pre","script","style","textarea"],ESe={concrete:!0,name:"htmlFlow",resolveTo:ASe,tokenize:OSe},TSe={partial:!0,tokenize:DSe},PSe={partial:!0,tokenize:MSe};function ASe(t){let s=t.length;for(;s--&&!(t[s][0]==="enter"&&t[s][1].type==="htmlFlow"););return s>1&&t[s-2][1].type==="linePrefix"&&(t[s][1].start=t[s-2][1].start,t[s+1][1].start=t[s-2][1].start,t.splice(s-2,2)),t}function OSe(t,s,n){const r=this;let a,i,l,o,c;return d;function d(q){return u(q)}function u(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),m}function m(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),i=!0,y):q===63?(t.consume(q),a=3,r.interrupt?s:I):nl(q)?(t.consume(q),l=String.fromCharCode(q),v):n(q)}function h(q){return q===45?(t.consume(q),a=2,p):q===91?(t.consume(q),a=5,o=0,x):nl(q)?(t.consume(q),a=4,r.interrupt?s:I):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?s:I):n(q)}function x(q){const J="CDATA[";return q===J.charCodeAt(o++)?(t.consume(q),o===J.length?r.interrupt?s:T:x):n(q)}function y(q){return nl(q)?(t.consume(q),l=String.fromCharCode(q),v):n(q)}function v(q){if(q===null||q===47||q===62||fa(q)){const J=q===47,Q=l.toLowerCase();return!J&&!i&&d6.includes(Q)?(a=1,r.interrupt?s(q):T(q)):kSe.includes(l.toLowerCase())?(a=6,J?(t.consume(q),j):r.interrupt?s(q):T(q)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):i?w(q):N(q))}return q===45||Ra(q)?(t.consume(q),l+=String.fromCharCode(q),v):n(q)}function j(q){return q===62?(t.consume(q),r.interrupt?s:T):n(q)}function w(q){return Gs(q)?(t.consume(q),w):O(q)}function N(q){return q===47?(t.consume(q),O):q===58||q===95||nl(q)?(t.consume(q),_):Gs(q)?(t.consume(q),N):O(q)}function _(q){return q===45||q===46||q===58||q===95||Ra(q)?(t.consume(q),_):P(q)}function P(q){return q===61?(t.consume(q),A):Gs(q)?(t.consume(q),P):N(q)}function A(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),c=q,E):Gs(q)?(t.consume(q),A):C(q)}function E(q){return q===c?(t.consume(q),c=null,R):q===null||us(q)?n(q):(t.consume(q),E)}function C(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||fa(q)?P(q):(t.consume(q),C)}function R(q){return q===47||q===62||Gs(q)?N(q):n(q)}function O(q){return q===62?(t.consume(q),k):n(q)}function k(q){return q===null||us(q)?T(q):Gs(q)?(t.consume(q),k):n(q)}function T(q){return q===45&&a===2?(t.consume(q),z):q===60&&a===1?(t.consume(q),H):q===62&&a===4?(t.consume(q),L):q===63&&a===3?(t.consume(q),I):q===93&&a===5?(t.consume(q),$):us(q)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(TSe,V,D)(q)):q===null||us(q)?(t.exit("htmlFlowData"),D(q)):(t.consume(q),T)}function D(q){return t.check(PSe,F,V)(q)}function F(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),U}function U(q){return q===null||us(q)?D(q):(t.enter("htmlFlowData"),T(q))}function z(q){return q===45?(t.consume(q),I):T(q)}function H(q){return q===47?(t.consume(q),l="",B):T(q)}function B(q){if(q===62){const J=l.toLowerCase();return d6.includes(J)?(t.consume(q),L):T(q)}return nl(q)&&l.length<8?(t.consume(q),l+=String.fromCharCode(q),B):T(q)}function $(q){return q===93?(t.consume(q),I):T(q)}function I(q){return q===62?(t.consume(q),L):q===45&&a===2?(t.consume(q),I):T(q)}function L(q){return q===null||us(q)?(t.exit("htmlFlowData"),V(q)):(t.consume(q),L)}function V(q){return t.exit("htmlFlow"),s(q)}}function MSe(t,s,n){const r=this;return a;function a(l){return us(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):s(l)}}function DSe(t,s,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(My,s,n)}}const RSe={name:"htmlText",tokenize:FSe};function FSe(t,s,n){const r=this;let a,i,l;return o;function o(I){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(I),c}function c(I){return I===33?(t.consume(I),d):I===47?(t.consume(I),P):I===63?(t.consume(I),N):nl(I)?(t.consume(I),C):n(I)}function d(I){return I===45?(t.consume(I),u):I===91?(t.consume(I),i=0,x):nl(I)?(t.consume(I),w):n(I)}function u(I){return I===45?(t.consume(I),p):n(I)}function m(I){return I===null?n(I):I===45?(t.consume(I),h):us(I)?(l=m,H(I)):(t.consume(I),m)}function h(I){return I===45?(t.consume(I),p):m(I)}function p(I){return I===62?z(I):I===45?h(I):m(I)}function x(I){const L="CDATA[";return I===L.charCodeAt(i++)?(t.consume(I),i===L.length?y:x):n(I)}function y(I){return I===null?n(I):I===93?(t.consume(I),v):us(I)?(l=y,H(I)):(t.consume(I),y)}function v(I){return I===93?(t.consume(I),j):y(I)}function j(I){return I===62?z(I):I===93?(t.consume(I),j):y(I)}function w(I){return I===null||I===62?z(I):us(I)?(l=w,H(I)):(t.consume(I),w)}function N(I){return I===null?n(I):I===63?(t.consume(I),_):us(I)?(l=N,H(I)):(t.consume(I),N)}function _(I){return I===62?z(I):N(I)}function P(I){return nl(I)?(t.consume(I),A):n(I)}function A(I){return I===45||Ra(I)?(t.consume(I),A):E(I)}function E(I){return us(I)?(l=E,H(I)):Gs(I)?(t.consume(I),E):z(I)}function C(I){return I===45||Ra(I)?(t.consume(I),C):I===47||I===62||fa(I)?R(I):n(I)}function R(I){return I===47?(t.consume(I),z):I===58||I===95||nl(I)?(t.consume(I),O):us(I)?(l=R,H(I)):Gs(I)?(t.consume(I),R):z(I)}function O(I){return I===45||I===46||I===58||I===95||Ra(I)?(t.consume(I),O):k(I)}function k(I){return I===61?(t.consume(I),T):us(I)?(l=k,H(I)):Gs(I)?(t.consume(I),k):R(I)}function T(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),a=I,D):us(I)?(l=T,H(I)):Gs(I)?(t.consume(I),T):(t.consume(I),F)}function D(I){return I===a?(t.consume(I),a=void 0,U):I===null?n(I):us(I)?(l=D,H(I)):(t.consume(I),D)}function F(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||fa(I)?R(I):(t.consume(I),F)}function U(I){return I===47||I===62||fa(I)?R(I):n(I)}function z(I){return I===62?(t.consume(I),t.exit("htmlTextData"),t.exit("htmlText"),s):n(I)}function H(I){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),B}function B(I){return Gs(I)?un(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):$(I)}function $(I){return t.enter("htmlTextData"),l(I)}}const zk={name:"labelEnd",resolveAll:qSe,resolveTo:$Se,tokenize:USe},ISe={tokenize:zSe},LSe={tokenize:VSe},BSe={tokenize:WSe};function qSe(t){let s=-1;const n=[];for(;++s<t.length;){const r=t[s][1];if(n.push(t[s]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",s+=a}}return t.length!==n.length&&yl(t,0,t.length,n),t}function $Se(t,s){let n=t.length,r=0,a,i,l,o;for(;n--;)if(a=t[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(l=n);const c={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[i][1].start},end:{...t[l][1].end}},u={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[l-2][1].start}};return o=[["enter",c,s],["enter",d,s]],o=ti(o,t.slice(i+1,i+r+3)),o=ti(o,[["enter",u,s]]),o=ti(o,Uk(s.parser.constructs.insideSpan.null,t.slice(i+r+4,l-3),s)),o=ti(o,[["exit",u,s],t[l-2],t[l-1],["exit",d,s]]),o=ti(o,t.slice(l+1)),o=ti(o,[["exit",c,s]]),yl(t,i,t.length,o),t}function USe(t,s,n){const r=this;let a=r.events.length,i,l;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return o;function o(h){return i?i._inactive?m(h):(l=r.parser.defined.includes(ah(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),c):n(h)}function c(h){return h===40?t.attempt(ISe,u,l?u:m)(h):h===91?t.attempt(LSe,u,l?d:m)(h):l?u(h):m(h)}function d(h){return t.attempt(BSe,u,m)(h)}function u(h){return s(h)}function m(h){return i._balanced=!0,n(h)}}function zSe(t,s,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),a}function a(m){return fa(m)?Ff(t,i)(m):i(m)}function i(m){return m===41?u(m):IU(t,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return fa(m)?Ff(t,c)(m):u(m)}function o(m){return n(m)}function c(m){return m===34||m===39||m===40?BU(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):u(m)}function d(m){return fa(m)?Ff(t,u)(m):u(m)}function u(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),s):n(m)}}function VSe(t,s,n){const r=this;return a;function a(o){return LU.call(r,t,i,l,"reference","referenceMarker","referenceString")(o)}function i(o){return r.parser.defined.includes(ah(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?s(o):n(o)}function l(o){return n(o)}}function WSe(t,s,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),a}function a(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),s):n(i)}}const HSe={name:"labelStartImage",resolveAll:zk.resolveAll,tokenize:KSe};function KSe(t,s,n){const r=this;return a;function a(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),i}function i(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),l):n(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):s(o)}}const GSe={name:"labelStartLink",resolveAll:zk.resolveAll,tokenize:YSe};function YSe(t,s,n){const r=this;return a;function a(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):s(l)}}const E_={name:"lineEnding",tokenize:QSe};function QSe(t,s){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,s,"linePrefix")}}const S0={name:"thematicBreak",tokenize:JSe};function JSe(t,s,n){let r=0,a;return i;function i(d){return t.enter("thematicBreak"),l(d)}function l(d){return a=d,o(d)}function o(d){return d===a?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||us(d))?(t.exit("thematicBreak"),s(d)):n(d)}function c(d){return d===a?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),Gs(d)?un(t,o,"whitespace")(d):o(d))}}const aa={continuation:{tokenize:t2e},exit:n2e,name:"list",tokenize:e2e},XSe={partial:!0,tokenize:r2e},ZSe={partial:!0,tokenize:s2e};function e2e(t,s,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return o;function o(p){const x=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:qS(p)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(S0,n,d)(p):d(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return qS(p)&&++l<10?(t.consume(p),c):(!r.interrupt||l<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),d(p)):n(p)}function d(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(My,r.interrupt?n:u,t.attempt(XSe,h,m))}function u(p){return r.containerState.initialBlankLine=!0,i++,h(p)}function m(p){return Gs(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,s(p)}}function t2e(t,s,n){const r=this;return r.containerState._closeFlow=void 0,t.check(My,a,i);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,s,"listItemIndent",r.containerState.size+1)(o)}function i(o){return r.containerState.furtherBlankLines||!Gs(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ZSe,s,l)(o))}function l(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(aa,s,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function s2e(t,s,n){const r=this;return un(t,a,"listItemIndent",r.containerState.size+1);function a(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?s(i):n(i)}}function n2e(t){t.exit(this.containerState.type)}function r2e(t,s,n){const r=this;return un(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const l=r.events[r.events.length-1];return!Gs(i)&&l&&l[1].type==="listItemPrefixWhitespace"?s(i):n(i)}}const u6={name:"setextUnderline",resolveTo:a2e,tokenize:i2e};function a2e(t,s){let n=t.length,r,a,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",i?(t.splice(a,0,["enter",l,s]),t.splice(i+1,0,["exit",t[r][1],s]),t[r][1].end={...t[i][1].end}):t[r][1]=l,t.push(["exit",l,s]),t}function i2e(t,s,n){const r=this;let a;return i;function i(d){let u=r.events.length,m;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){m=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),a=d,l(d)):n(d)}function l(d){return t.enter("setextHeadingLineSequence"),o(d)}function o(d){return d===a?(t.consume(d),o):(t.exit("setextHeadingLineSequence"),Gs(d)?un(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||us(d)?(t.exit("setextHeadingLine"),s(d)):n(d)}}const l2e={tokenize:o2e};function o2e(t){const s=this,n=t.attempt(My,r,t.attempt(this.parser.constructs.flowInitial,a,un(t,t.attempt(this.parser.constructs.flow,a,t.attempt(mSe,a)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),s.currentConstruct=void 0,n}function a(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s.currentConstruct=void 0,n}}const c2e={resolveAll:$U()},d2e=qU("string"),u2e=qU("text");function qU(t){return{resolveAll:$U(t==="text"?h2e:void 0),tokenize:s};function s(n){const r=this,a=this.parser.constructs[t],i=n.attempt(a,l,o);return l;function l(u){return d(u)?i(u):o(u)}function o(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),c}function c(u){return d(u)?(n.exit("data"),i(u)):(n.consume(u),c)}function d(u){if(u===null)return!0;const m=a[u];let h=-1;if(m)for(;++h<m.length;){const p=m[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function $U(t){return s;function s(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return t?t(n,r):n}}function h2e(t,s){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=s.sliceStream(r);let i=a.length,l=-1,o=0,c;for(;i--;){const d=a[i];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(d===-2)c=!0,o++;else if(d!==-1){i++;break}}if(s._contentTypeTextTrailing&&n===t.length&&(o=0),o){const d={type:n===t.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,s],["exit",d,s]),n+=2)}n++}return t}const m2e={42:aa,43:aa,45:aa,48:aa,49:aa,50:aa,51:aa,52:aa,53:aa,54:aa,55:aa,56:aa,57:aa,62:MU},f2e={91:vSe},p2e={[-2]:k_,[-1]:k_,32:k_},g2e={35:_Se,42:S0,45:[u6,S0],60:ESe,61:u6,95:S0,96:c6,126:c6},x2e={38:RU,92:DU},v2e={[-5]:E_,[-4]:E_,[-3]:E_,33:HSe,38:RU,42:$S,60:[G1e,RSe],91:GSe,92:[wSe,DU],93:zk,95:$S,96:lSe},y2e={null:[$S,c2e]},b2e={null:[42,95]},j2e={null:[]},w2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b2e,contentInitial:f2e,disable:j2e,document:m2e,flow:g2e,flowInitial:p2e,insideSpan:y2e,string:x2e,text:v2e},Symbol.toStringTag,{value:"Module"}));function N2e(t,s,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let l=[],o=[];const c={attempt:E(P),check:E(A),consume:w,enter:N,exit:_,interrupt:E(A,{interrupt:!0})},d={code:null,containerState:{},defineSkip:y,events:[],now:x,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:m};let u=s.tokenize.call(d,c);return s.resolveAll&&i.push(s),d;function m(k){return l=ti(l,k),v(),l[l.length-1]!==null?[]:(C(s,0),d.events=Uk(i,d.events,d),d.events)}function h(k,T){return S2e(p(k),T)}function p(k){return _2e(l,k)}function x(){const{_bufferIndex:k,_index:T,line:D,column:F,offset:U}=r;return{_bufferIndex:k,_index:T,line:D,column:F,offset:U}}function y(k){a[k.line]=k.column,O()}function v(){let k;for(;r._index<l.length;){const T=l[r._index];if(typeof T=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<T.length;)j(T.charCodeAt(r._bufferIndex));else j(T)}}function j(k){u=u(k)}function w(k){us(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,O()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=k}function N(k,T){const D=T||{};return D.type=k,D.start=x(),d.events.push(["enter",D,d]),o.push(D),D}function _(k){const T=o.pop();return T.end=x(),d.events.push(["exit",T,d]),T}function P(k,T){C(k,T.from)}function A(k,T){T.restore()}function E(k,T){return D;function D(F,U,z){let H,B,$,I;return Array.isArray(F)?V(F):"tokenize"in F?V([F]):L(F);function L(Y){return K;function K(ae){const se=ae!==null&&Y[ae],de=ae!==null&&Y.null,ue=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(de)?de:de?[de]:[]];return V(ue)(ae)}}function V(Y){return H=Y,B=0,Y.length===0?z:q(Y[B])}function q(Y){return K;function K(ae){return I=R(),$=Y,Y.partial||(d.currentConstruct=Y),Y.name&&d.parser.constructs.disable.null.includes(Y.name)?Q():Y.tokenize.call(T?Object.assign(Object.create(d),T):d,c,J,Q)(ae)}}function J(Y){return k($,I),U}function Q(Y){return I.restore(),++B<H.length?q(H[B]):z}}}function C(k,T){k.resolveAll&&!i.includes(k)&&i.push(k),k.resolve&&yl(d.events,T,d.events.length-T,k.resolve(d.events.slice(T),d)),k.resolveTo&&(d.events=k.resolveTo(d.events,d))}function R(){const k=x(),T=d.previous,D=d.currentConstruct,F=d.events.length,U=Array.from(o);return{from:F,restore:z};function z(){r=k,d.previous=T,d.currentConstruct=D,d.events.length=F,o=U,O()}}function O(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function _2e(t,s){const n=s.start._index,r=s.start._bufferIndex,a=s.end._index,i=s.end._bufferIndex;let l;if(n===a)l=[t[n].slice(r,i)];else{if(l=t.slice(n,a),r>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(r):l.shift()}i>0&&l.push(t[a].slice(0,i))}return l}function S2e(t,s){let n=-1;const r=[];let a;for(;++n<t.length;){const i=t[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=s?" ":"	";break}case-1:{if(!s&&a)continue;l=" ";break}default:l=String.fromCharCode(i)}a=i===-2,r.push(l)}return r.join("")}function C2e(t){const r={constructs:M1e([w2e,...(t||{}).extensions||[]]),content:a($1e),defined:[],document:a(z1e),flow:a(l2e),lazy:{},string:a(d2e),text:a(u2e)};return r;function a(i){return l;function l(o){return N2e(r,i,o)}}}function k2e(t){for(;!FU(t););return t}const h6=/[\0\t\n\r]/g;function E2e(){let t=1,s="",n=!0,r;return a;function a(i,l,o){const c=[];let d,u,m,h,p;for(i=s+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),m=0,s="",n&&(i.charCodeAt(0)===65279&&m++,n=void 0);m<i.length;){if(h6.lastIndex=m,d=h6.exec(i),h=d&&d.index!==void 0?d.index:i.length,p=i.charCodeAt(h),!d){s=i.slice(m);break}if(p===10&&m===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<h&&(c.push(i.slice(m,h)),t+=h-m),p){case 0:{c.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,c.push(-2);t++<u;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}m=h+1}return o&&(r&&c.push(-5),s&&c.push(s),c.push(null)),c}}const T2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function P2e(t){return t.replace(T2e,A2e)}function A2e(t,s,n){if(s)return s;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return OU(n.slice(i?2:1),i?16:10)}return $k(n)||t}const UU={}.hasOwnProperty;function O2e(t,s,n){return typeof s!="string"&&(n=s,s=void 0),M2e(n)(k2e(C2e(n).document().write(E2e()(t,s,!0))))}function M2e(t){const s={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Se),autolinkProtocol:R,autolinkEmail:R,atxHeading:i(Ne),blockQuote:i(de),characterEscape:R,characterReference:R,codeFenced:i(ue),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(ue,l),codeText:i(oe,l),codeTextData:R,data:R,codeFlowValue:R,definition:i(pe),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(je),hardBreakEscape:i(qe),hardBreakTrailing:i(qe),htmlFlow:i($e,l),htmlFlowData:R,htmlText:i($e,l),htmlTextData:R,image:i(Ee),label:l,link:i(Se),listItem:i(Qe),listItemValue:h,listOrdered:i(Ye,m),listUnordered:i(Ye),paragraph:i(Me),reference:q,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(Ne),strong:i(lt),thematicBreak:i(it)},exit:{atxHeading:c(),atxHeadingSequence:P,autolink:c(),autolinkEmail:se,autolinkProtocol:ae,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:Y,characterReference:K,codeFenced:c(v),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:x,codeFlowValue:O,codeIndented:c(j),codeText:c(U),codeTextData:O,data:O,definition:c(),definitionDestinationString:_,definitionLabelString:w,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(T),hardBreakTrailing:c(T),htmlFlow:c(D),htmlFlowData:O,htmlText:c(F),htmlTextData:O,image:c(H),label:$,labelText:B,lineEnding:k,link:c(z),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:J,resourceDestinationString:I,resourceTitleString:L,resource:V,setextHeading:c(C),setextHeadingLineSequence:E,setextHeadingText:A,strong:c(),thematicBreak:c()}};zU(s,(t||{}).mdastExtensions||[]);const n={};return r;function r(_e){let Ue={type:"root",children:[]};const rt={stack:[Ue],tokenStack:[],config:s,enter:o,exit:d,buffer:l,resume:u,data:n},ht=[];let ct=-1;for(;++ct<_e.length;)if(_e[ct][1].type==="listOrdered"||_e[ct][1].type==="listUnordered")if(_e[ct][0]==="enter")ht.push(ct);else{const Rt=ht.pop();ct=a(_e,Rt,ct)}for(ct=-1;++ct<_e.length;){const Rt=s[_e[ct][0]];UU.call(Rt,_e[ct][1].type)&&Rt[_e[ct][1].type].call(Object.assign({sliceSerialize:_e[ct][2].sliceSerialize},rt),_e[ct][1])}if(rt.tokenStack.length>0){const Rt=rt.tokenStack[rt.tokenStack.length-1];(Rt[1]||m6).call(rt,void 0,Rt[0])}for(Ue.position={start:Uo(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:Uo(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},ct=-1;++ct<s.transforms.length;)Ue=s.transforms[ct](Ue)||Ue;return Ue}function a(_e,Ue,rt){let ht=Ue-1,ct=-1,Rt=!1,rs,Us,Es,mn;for(;++ht<=rt;){const Zt=_e[ht];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?ct++:ct--,mn=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(rs&&!mn&&!ct&&!Es&&(Es=ht),mn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mn=void 0}if(!ct&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||ct===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(rs){let yn=ht;for(Us=void 0;yn--;){const Fs=_e[yn];if(Fs[1].type==="lineEnding"||Fs[1].type==="lineEndingBlank"){if(Fs[0]==="exit")continue;Us&&(_e[Us][1].type="lineEndingBlank",Rt=!0),Fs[1].type="lineEnding",Us=yn}else if(!(Fs[1].type==="linePrefix"||Fs[1].type==="blockQuotePrefix"||Fs[1].type==="blockQuotePrefixWhitespace"||Fs[1].type==="blockQuoteMarker"||Fs[1].type==="listItemIndent"))break}Es&&(!Us||Es<Us)&&(rs._spread=!0),rs.end=Object.assign({},Us?_e[Us][1].start:Zt[1].end),_e.splice(Us||ht,0,["exit",rs,Zt[2]]),ht++,rt++}if(Zt[1].type==="listItemPrefix"){const yn={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};rs=yn,_e.splice(ht,0,["enter",yn,Zt[2]]),ht++,rt++,Es=void 0,mn=!0}}}return _e[Ue][1]._spread=Rt,rt}function i(_e,Ue){return rt;function rt(ht){o.call(this,_e(ht),ht),Ue&&Ue.call(this,ht)}}function l(){this.stack.push({type:"fragment",children:[]})}function o(_e,Ue,rt){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([Ue,rt||void 0]),_e.position={start:Uo(Ue.start),end:void 0}}function c(_e){return Ue;function Ue(rt){_e&&_e.call(this,rt),d.call(this,rt)}}function d(_e,Ue){const rt=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==_e.type&&(Ue?Ue.call(this,_e,ht[0]):(ht[1]||m6).call(this,_e,ht[0]));else throw new Error("Cannot close `"+_e.type+"` ("+Rf({start:_e.start,end:_e.end})+"): its not open");rt.position.end=Uo(_e.end)}function u(){return A1e(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function h(_e){if(this.data.expectingFirstListItemValue){const Ue=this.stack[this.stack.length-2];Ue.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.lang=_e}function x(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.meta=_e}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=_e.replace(/(\r?\n|\r)$/g,"")}function w(_e){const Ue=this.resume(),rt=this.stack[this.stack.length-1];rt.label=Ue,rt.identifier=ah(this.sliceSerialize(_e)).toLowerCase()}function N(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.title=_e}function _(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.url=_e}function P(_e){const Ue=this.stack[this.stack.length-1];if(!Ue.depth){const rt=this.sliceSerialize(_e).length;Ue.depth=rt}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function E(_e){const Ue=this.stack[this.stack.length-1];Ue.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function R(_e){const rt=this.stack[this.stack.length-1].children;let ht=rt[rt.length-1];(!ht||ht.type!=="text")&&(ht=Ce(),ht.position={start:Uo(_e.start),end:void 0},rt.push(ht)),this.stack.push(ht)}function O(_e){const Ue=this.stack.pop();Ue.value+=this.sliceSerialize(_e),Ue.position.end=Uo(_e.end)}function k(_e){const Ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const rt=Ue.children[Ue.children.length-1];rt.position.end=Uo(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&s.canContainEols.includes(Ue.type)&&(R.call(this,_e),O.call(this,_e))}function T(){this.data.atHardBreak=!0}function D(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=_e}function F(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=_e}function U(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=_e}function z(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Ue=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Ue,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function H(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Ue=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Ue,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function B(_e){const Ue=this.sliceSerialize(_e),rt=this.stack[this.stack.length-2];rt.label=P2e(Ue),rt.identifier=ah(Ue).toLowerCase()}function $(){const _e=this.stack[this.stack.length-1],Ue=this.resume(),rt=this.stack[this.stack.length-1];if(this.data.inReference=!0,rt.type==="link"){const ht=_e.children;rt.children=ht}else rt.alt=Ue}function I(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.url=_e}function L(){const _e=this.resume(),Ue=this.stack[this.stack.length-1];Ue.title=_e}function V(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function J(_e){const Ue=this.resume(),rt=this.stack[this.stack.length-1];rt.label=Ue,rt.identifier=ah(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function Q(_e){this.data.characterReferenceType=_e.type}function Y(_e){const Ue=this.sliceSerialize(_e),rt=this.data.characterReferenceType;let ht;rt?(ht=OU(Ue,rt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ht=$k(Ue);const ct=this.stack[this.stack.length-1];ct.value+=ht}function K(_e){const Ue=this.stack.pop();Ue.position.end=Uo(_e.end)}function ae(_e){O.call(this,_e);const Ue=this.stack[this.stack.length-1];Ue.url=this.sliceSerialize(_e)}function se(_e){O.call(this,_e);const Ue=this.stack[this.stack.length-1];Ue.url="mailto:"+this.sliceSerialize(_e)}function de(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function je(){return{type:"emphasis",children:[]}}function Ne(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function $e(){return{type:"html",value:""}}function Ee(){return{type:"image",title:null,url:"",alt:null}}function Se(){return{type:"link",title:null,url:"",children:[]}}function Ye(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function Qe(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function Ce(){return{type:"text",value:""}}function it(){return{type:"thematicBreak"}}}function Uo(t){return{line:t.line,column:t.column,offset:t.offset}}function zU(t,s){let n=-1;for(;++n<s.length;){const r=s[n];Array.isArray(r)?zU(t,r):D2e(t,r)}}function D2e(t,s){let n;for(n in s)if(UU.call(s,n))switch(n){case"canContainEols":{const r=s[n];r&&t[n].push(...r);break}case"transforms":{const r=s[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=s[n];r&&Object.assign(t[n],r);break}}}function m6(t,s){throw t?new Error("Cannot close `"+t.type+"` ("+Rf({start:t.start,end:t.end})+"): a different token (`"+s.type+"`, "+Rf({start:s.start,end:s.end})+") is open"):new Error("Cannot close document, a token (`"+s.type+"`, "+Rf({start:s.start,end:s.end})+") is still open")}function R2e(t){const s=this;s.parser=n;function n(r){return O2e(r,{...s.data("settings"),...t,extensions:s.data("micromarkExtensions")||[],mdastExtensions:s.data("fromMarkdownExtensions")||[]})}}function F2e(t,s){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(s),!0)};return t.patch(s,n),t.applyData(s,n)}function I2e(t,s){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(s,n),[t.applyData(s,n),{type:"text",value:`
`}]}function L2e(t,s){const n=s.value?s.value+`
`:"",r={},a=s.lang?s.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return s.meta&&(i.data={meta:s.meta}),t.patch(s,i),i=t.applyData(s,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(s,i),i}function B2e(t,s){const n={type:"element",tagName:"del",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function q2e(t,s){const n={type:"element",tagName:"em",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function $2e(t,s){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(s.identifier).toUpperCase(),a=mm(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let l,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=i+1,o+=1,t.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(s,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(s,d),t.applyData(s,d)}function U2e(t,s){const n={type:"element",tagName:"h"+s.depth,properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function z2e(t,s){if(t.options.allowDangerousHtml){const n={type:"raw",value:s.value};return t.patch(s,n),t.applyData(s,n)}}function VU(t,s){const n=s.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(s.label||s.identifier)+"]"),s.type==="imageReference")return[{type:"text",value:"!["+s.alt+r}];const a=t.all(s),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=r:a.push({type:"text",value:r}),a}function V2e(t,s){const n=String(s.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return VU(t,s);const a={src:mm(r.url||""),alt:s.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return t.patch(s,i),t.applyData(s,i)}function W2e(t,s){const n={src:mm(s.url)};s.alt!==null&&s.alt!==void 0&&(n.alt=s.alt),s.title!==null&&s.title!==void 0&&(n.title=s.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(s,r),t.applyData(s,r)}function H2e(t,s){const n={type:"text",value:s.value.replace(/\r?\n|\r/g," ")};t.patch(s,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(s,r),t.applyData(s,r)}function K2e(t,s){const n=String(s.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return VU(t,s);const a={href:mm(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:t.all(s)};return t.patch(s,i),t.applyData(s,i)}function G2e(t,s){const n={href:mm(s.url)};s.title!==null&&s.title!==void 0&&(n.title=s.title);const r={type:"element",tagName:"a",properties:n,children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function Y2e(t,s,n){const r=t.all(s),a=n?Q2e(n):WU(s),i={},l=[];if(typeof s.checked=="boolean"){const u=r[0];let m;u&&u.type==="element"&&u.tagName==="p"?m=u:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:s.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const u=r[o];(a||o!==0||u.type!=="element"||u.tagName!=="p")&&l.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!a?l.push(...u.children):l.push(u)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:l};return t.patch(s,d),t.applyData(s,d)}function Q2e(t){let s=!1;if(t.type==="list"){s=t.spread||!1;const n=t.children;let r=-1;for(;!s&&++r<n.length;)s=WU(n[r])}return s}function WU(t){const s=t.spread;return s??t.children.length>1}function J2e(t,s){const n={},r=t.all(s);let a=-1;for(typeof s.start=="number"&&s.start!==1&&(n.start=s.start);++a<r.length;){const l=r[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:s.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(s,i),t.applyData(s,i)}function X2e(t,s){const n={type:"element",tagName:"p",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function Z2e(t,s){const n={type:"root",children:t.wrap(t.all(s))};return t.patch(s,n),t.applyData(s,n)}function eCe(t,s){const n={type:"element",tagName:"strong",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}function tCe(t,s){const n=t.all(s),r=n.shift(),a=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(s.children[0],l),a.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=Ik(s.children[1]),c=SU(s.children[s.children.length-1]);o&&c&&(l.position={start:o,end:c}),a.push(l)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(s,i),t.applyData(s,i)}function sCe(t,s,n){const r=n?n.children:void 0,i=(r?r.indexOf(s):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,o=l?l.length:s.children.length;let c=-1;const d=[];for(;++c<o;){const m=s.children[c],h={},p=l?l[c]:void 0;p&&(h.align=p);let x={type:"element",tagName:i,properties:h,children:[]};m&&(x.children=t.all(m),t.patch(m,x),x=t.applyData(m,x)),d.push(x)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(s,u),t.applyData(s,u)}function nCe(t,s){const n={type:"element",tagName:"td",properties:{},children:t.all(s)};return t.patch(s,n),t.applyData(s,n)}const f6=9,p6=32;function rCe(t){const s=String(t),n=/\r?\n|\r/g;let r=n.exec(s),a=0;const i=[];for(;r;)i.push(g6(s.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(s);return i.push(g6(s.slice(a),a>0,!1)),i.join("")}function g6(t,s,n){let r=0,a=t.length;if(s){let i=t.codePointAt(r);for(;i===f6||i===p6;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(a-1);for(;i===f6||i===p6;)a--,i=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function aCe(t,s){const n={type:"text",value:rCe(String(s.value))};return t.patch(s,n),t.applyData(s,n)}function iCe(t,s){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(s,n),t.applyData(s,n)}const lCe={blockquote:F2e,break:I2e,code:L2e,delete:B2e,emphasis:q2e,footnoteReference:$2e,heading:U2e,html:z2e,imageReference:V2e,image:W2e,inlineCode:H2e,linkReference:K2e,link:G2e,listItem:Y2e,list:J2e,paragraph:X2e,root:Z2e,strong:eCe,table:tCe,tableCell:nCe,tableRow:sCe,text:aCe,thematicBreak:iCe,toml:Xx,yaml:Xx,definition:Xx,footnoteDefinition:Xx};function Xx(){}const HU=-1,Dy=0,If=1,mv=2,Vk=3,Wk=4,Hk=5,Kk=6,KU=7,GU=8,x6=typeof self=="object"?self:globalThis,oCe=(t,s)=>{const n=(a,i)=>(t.set(i,a),a),r=a=>{if(t.has(a))return t.get(a);const[i,l]=s[a];switch(i){case Dy:case HU:return n(l,a);case If:{const o=n([],a);for(const c of l)o.push(r(c));return o}case mv:{const o=n({},a);for(const[c,d]of l)o[r(c)]=r(d);return o}case Vk:return n(new Date(l),a);case Wk:{const{source:o,flags:c}=l;return n(new RegExp(o,c),a)}case Hk:{const o=n(new Map,a);for(const[c,d]of l)o.set(r(c),r(d));return o}case Kk:{const o=n(new Set,a);for(const c of l)o.add(r(c));return o}case KU:{const{name:o,message:c}=l;return n(new x6[o](c),a)}case GU:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return n(new DataView(o),l)}}return n(new x6[i](l),a)};return r},v6=t=>oCe(new Map,t)(0),qu="",{toString:cCe}={},{keys:dCe}=Object,hf=t=>{const s=typeof t;if(s!=="object"||!t)return[Dy,s];const n=cCe.call(t).slice(8,-1);switch(n){case"Array":return[If,qu];case"Object":return[mv,qu];case"Date":return[Vk,qu];case"RegExp":return[Wk,qu];case"Map":return[Hk,qu];case"Set":return[Kk,qu];case"DataView":return[If,n]}return n.includes("Array")?[If,n]:n.includes("Error")?[KU,n]:[mv,n]},Zx=([t,s])=>t===Dy&&(s==="function"||s==="symbol"),uCe=(t,s,n,r)=>{const a=(l,o)=>{const c=r.push(l)-1;return n.set(o,c),c},i=l=>{if(n.has(l))return n.get(l);let[o,c]=hf(l);switch(o){case Dy:{let u=l;switch(c){case"bigint":o=GU,u=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);u=null;break;case"undefined":return a([HU],l)}return a([o,u],l)}case If:{if(c){let h=l;return c==="DataView"?h=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(l)),a([c,[...h]],l)}const u=[],m=a([o,u],l);for(const h of l)u.push(i(h));return m}case mv:{if(c)switch(c){case"BigInt":return a([c,l.toString()],l);case"Boolean":case"Number":case"String":return a([c,l.valueOf()],l)}if(s&&"toJSON"in l)return i(l.toJSON());const u=[],m=a([o,u],l);for(const h of dCe(l))(t||!Zx(hf(l[h])))&&u.push([i(h),i(l[h])]);return m}case Vk:return a([o,l.toISOString()],l);case Wk:{const{source:u,flags:m}=l;return a([o,{source:u,flags:m}],l)}case Hk:{const u=[],m=a([o,u],l);for(const[h,p]of l)(t||!(Zx(hf(h))||Zx(hf(p))))&&u.push([i(h),i(p)]);return m}case Kk:{const u=[],m=a([o,u],l);for(const h of l)(t||!Zx(hf(h)))&&u.push(i(h));return m}}const{message:d}=l;return a([o,{name:c,message:d}],l)};return i},y6=(t,{json:s,lossy:n}={})=>{const r=[];return uCe(!(s||n),!!s,new Map,r)(t),r},fv=typeof structuredClone=="function"?(t,s)=>s&&("json"in s||"lossy"in s)?v6(y6(t,s)):structuredClone(t):(t,s)=>v6(y6(t,s));function hCe(t,s){const n=[{type:"text",value:""}];return s>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(s)}]}),n}function mCe(t,s){return"Back to reference "+(t+1)+(s>1?"-"+s:"")}function fCe(t){const s=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||hCe,r=t.options.footnoteBackLabel||mCe,a=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const u=t.all(d),m=String(d.identifier).toUpperCase(),h=mm(m.toLowerCase());let p=0;const x=[],y=t.footnoteCounts.get(m);for(;y!==void 0&&++p<=y;){x.length>0&&x.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,p);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...x)}else u.push(...x);const j={type:"element",tagName:"li",properties:{id:s+"fn-"+h},children:t.wrap(u,!0)};t.patch(d,j),o.push(j)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...fv(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const YU=(function(t){if(t==null)return vCe;if(typeof t=="function")return Ry(t);if(typeof t=="object")return Array.isArray(t)?pCe(t):gCe(t);if(typeof t=="string")return xCe(t);throw new Error("Expected function, string, or object as test")});function pCe(t){const s=[];let n=-1;for(;++n<t.length;)s[n]=YU(t[n]);return Ry(r);function r(...a){let i=-1;for(;++i<s.length;)if(s[i].apply(this,a))return!0;return!1}}function gCe(t){const s=t;return Ry(n);function n(r){const a=r;let i;for(i in t)if(a[i]!==s[i])return!1;return!0}}function xCe(t){return Ry(s);function s(n){return n&&n.type===t}}function Ry(t){return s;function s(n,r,a){return!!(yCe(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function vCe(){return!0}function yCe(t){return t!==null&&typeof t=="object"&&"type"in t}const QU=[],bCe=!0,b6=!1,jCe="skip";function wCe(t,s,n,r){let a;typeof s=="function"&&typeof n!="function"?(r=n,n=s):a=s;const i=YU(a),l=r?-1:1;o(t,void 0,[])();function o(c,d,u){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const p=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=QU,x,y,v;if((!s||i(c,d,u[u.length-1]||void 0))&&(p=NCe(n(c,u)),p[0]===b6))return p;if("children"in c&&c.children){const j=c;if(j.children&&p[0]!==jCe)for(y=(r?j.children.length:-1)+l,v=u.concat(j);y>-1&&y<j.children.length;){const w=j.children[y];if(x=o(w,y,v)(),x[0]===b6)return x;y=typeof x[1]=="number"?x[1]:y+l}}return p}}}function NCe(t){return Array.isArray(t)?t:typeof t=="number"?[bCe,t]:t==null?QU:[t]}function JU(t,s,n,r){let a,i,l;typeof s=="function"&&typeof n!="function"?(i=void 0,l=s,a=n):(i=s,l=n,a=r),wCe(t,i,o,a);function o(c,d){const u=d[d.length-1],m=u?u.children.indexOf(c):void 0;return l(c,m,u)}}const US={}.hasOwnProperty,_Ce={};function SCe(t,s){const n=s||_Ce,r=new Map,a=new Map,i=new Map,l={...lCe,...n.handlers},o={all:d,applyData:kCe,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:l,one:c,options:n,patch:CCe,wrap:TCe};return JU(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const m=u.type==="definition"?r:a,h=String(u.identifier).toUpperCase();m.has(h)||m.set(h,u)}}),o;function c(u,m){const h=u.type,p=o.handlers[h];if(US.call(o.handlers,h)&&p)return p(o,u,m);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in u){const{children:y,...v}=u,j=fv(v);return j.children=o.all(u),j}return fv(u)}return(o.options.unknownHandler||ECe)(o,u,m)}function d(u){const m=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const x=o.one(h[p],u);if(x){if(p&&h[p-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=j6(x.value)),!Array.isArray(x)&&x.type==="element")){const y=x.children[0];y&&y.type==="text"&&(y.value=j6(y.value))}Array.isArray(x)?m.push(...x):m.push(x)}}}return m}}function CCe(t,s){t.position&&(s.position=c1e(t))}function kCe(t,s){let n=s;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,fv(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function ECe(t,s){const n=s.data||{},r="value"in s&&!(US.call(n,"hProperties")||US.call(n,"hChildren"))?{type:"text",value:s.value}:{type:"element",tagName:"div",properties:{},children:t.all(s)};return t.patch(s,r),t.applyData(s,r)}function TCe(t,s){const n=[];let r=-1;for(s&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return s&&t.length>0&&n.push({type:"text",value:`
`}),n}function j6(t){let s=0,n=t.charCodeAt(s);for(;n===9||n===32;)s++,n=t.charCodeAt(s);return t.slice(s)}function w6(t,s){const n=SCe(t,s),r=n.one(t,void 0),a=fCe(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function PCe(t,s){return t&&"run"in t?async function(n,r){const a=w6(n,{file:r,...s});await t.run(a,r)}:function(n,r){return w6(n,{file:r,...t||s})}}function N6(t){if(t)throw t}var T_,_6;function ACe(){if(_6)return T_;_6=1;var t=Object.prototype.hasOwnProperty,s=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):s.call(d)==="[object Array]"},i=function(d){if(!d||s.call(d)!=="[object Object]")return!1;var u=t.call(d,"constructor"),m=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!u&&!m)return!1;var h;for(h in d);return typeof h>"u"||t.call(d,h)},l=function(d,u){n&&u.name==="__proto__"?n(d,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):d[u.name]=u.newValue},o=function(d,u){if(u==="__proto__")if(t.call(d,u)){if(r)return r(d,u).value}else return;return d[u]};return T_=function c(){var d,u,m,h,p,x,y=arguments[0],v=1,j=arguments.length,w=!1;for(typeof y=="boolean"&&(w=y,y=arguments[1]||{},v=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});v<j;++v)if(d=arguments[v],d!=null)for(u in d)m=o(y,u),h=o(d,u),y!==h&&(w&&h&&(i(h)||(p=a(h)))?(p?(p=!1,x=m&&a(m)?m:[]):x=m&&i(m)?m:{},l(y,{name:u,newValue:c(w,x,h)})):typeof h<"u"&&l(y,{name:u,newValue:h}));return y},T_}var OCe=ACe();const P_=vc(OCe);function zS(t){if(typeof t!="object"||t===null)return!1;const s=Object.getPrototypeOf(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function MCe(){const t=[],s={run:n,use:r};return s;function n(...a){let i=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...a);function o(c,...d){const u=t[++i];let m=-1;if(c){l(c);return}for(;++m<a.length;)(d[m]===null||d[m]===void 0)&&(d[m]=a[m]);a=d,u?DCe(u,o)(...d):l(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),s}}function DCe(t,s){let n;return r;function r(...l){const o=t.length>l.length;let c;o&&l.push(a);try{c=t.apply(this,l)}catch(d){const u=d;if(o&&n)throw u;return a(u)}o||(c&&c.then&&typeof c.then=="function"?c.then(i,a):c instanceof Error?a(c):i(c))}function a(l,...o){n||(n=!0,s(l,...o))}function i(l){a(null,l)}}const Xi={basename:RCe,dirname:FCe,extname:ICe,join:LCe,sep:"/"};function RCe(t,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');og(t);let n=0,r=-1,a=t.length,i;if(s===void 0||s.length===0||s.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":t.slice(n,r)}if(s===t)return"";let l=-1,o=s.length-1;for(;a--;)if(t.codePointAt(a)===47){if(i){n=a+1;break}}else l<0&&(i=!0,l=a+1),o>-1&&(t.codePointAt(a)===s.codePointAt(o--)?o<0&&(r=a):(o=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function FCe(t){if(og(t),t.length===0)return".";let s=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){s=n;break}}else r||(r=!0);return s<0?t.codePointAt(0)===47?"/":".":s===1&&t.codePointAt(0)===47?"//":t.slice(0,s)}function ICe(t){og(t);let s=t.length,n=-1,r=0,a=-1,i=0,l;for(;s--;){const o=t.codePointAt(s);if(o===47){if(l){r=s+1;break}continue}n<0&&(l=!0,n=s+1),o===46?a<0?a=s:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function LCe(...t){let s=-1,n;for(;++s<t.length;)og(t[s]),t[s]&&(n=n===void 0?t[s]:n+"/"+t[s]);return n===void 0?".":BCe(n)}function BCe(t){og(t);const s=t.codePointAt(0)===47;let n=qCe(t,!s);return n.length===0&&!s&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),s?"/"+n:n}function qCe(t,s){let n="",r=0,a=-1,i=0,l=-1,o,c;for(;++l<=t.length;){if(l<t.length)o=t.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(a===l-1||i===1))if(a!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=l,i=0;continue}}else if(n.length>0){n="",r=0,a=l,i=0;continue}}s&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,l):n=t.slice(a+1,l),r=l-a-1;a=l,i=0}else o===46&&i>-1?i++:i=-1}return n}function og(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const $Ce={cwd:UCe};function UCe(){return"/"}function VS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zCe(t){if(typeof t=="string")t=new URL(t);else if(!VS(t)){const s=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw s.code="ERR_INVALID_ARG_TYPE",s}if(t.protocol!=="file:"){const s=new TypeError("The URL must be of scheme file");throw s.code="ERR_INVALID_URL_SCHEME",s}return VCe(t)}function VCe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const s=t.pathname;let n=-1;for(;++n<s.length;)if(s.codePointAt(n)===37&&s.codePointAt(n+1)===50){const r=s.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(s)}const A_=["history","path","basename","stem","extname","dirname"];class XU{constructor(s){let n;s?VS(s)?n={path:s}:typeof s=="string"||WCe(s)?n={value:s}:n=s:n={},this.cwd="cwd"in n?"":$Ce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<A_.length;){const i=A_[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)A_.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Xi.basename(this.path):void 0}set basename(s){M_(s,"basename"),O_(s,"basename"),this.path=Xi.join(this.dirname||"",s)}get dirname(){return typeof this.path=="string"?Xi.dirname(this.path):void 0}set dirname(s){S6(this.basename,"dirname"),this.path=Xi.join(s||"",this.basename)}get extname(){return typeof this.path=="string"?Xi.extname(this.path):void 0}set extname(s){if(O_(s,"extname"),S6(this.dirname,"extname"),s){if(s.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(s.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xi.join(this.dirname,this.stem+(s||""))}get path(){return this.history[this.history.length-1]}set path(s){VS(s)&&(s=zCe(s)),M_(s,"path"),this.path!==s&&this.history.push(s)}get stem(){return typeof this.path=="string"?Xi.basename(this.path,this.extname):void 0}set stem(s){M_(s,"stem"),O_(s,"stem"),this.path=Xi.join(this.dirname||"",s+(this.extname||""))}fail(s,n,r){const a=this.message(s,n,r);throw a.fatal=!0,a}info(s,n,r){const a=this.message(s,n,r);return a.fatal=void 0,a}message(s,n,r){const a=new Pr(s,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(s){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(s||void 0).decode(this.value)}}function O_(t,s){if(t&&t.includes(Xi.sep))throw new Error("`"+s+"` cannot be a path: did not expect `"+Xi.sep+"`")}function M_(t,s){if(!t)throw new Error("`"+s+"` cannot be empty")}function S6(t,s){if(!t)throw new Error("Setting `"+s+"` requires `path` to be set too")}function WCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const HCe=(function(t){const r=this.constructor.prototype,a=r[t],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i}),KCe={}.hasOwnProperty;class Gk extends HCe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=MCe()}copy(){const s=new Gk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];s.use(...r)}return s.data(P_(!0,{},this.namespace)),s}data(s,n){return typeof s=="string"?arguments.length===2?(F_("data",this.frozen),this.namespace[s]=n,this):KCe.call(this.namespace,s)&&this.namespace[s]||void 0:s?(F_("data",this.frozen),this.namespace=s,this):this.namespace}freeze(){if(this.frozen)return this;const s=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(s,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(s){this.freeze();const n=e0(s),r=this.parser||this.Parser;return D_("parse",r),r(String(n),n)}process(s,n){const r=this;return this.freeze(),D_("process",this.parser||this.Parser),R_("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,l){const o=e0(s),c=r.parse(o);r.run(c,o,function(u,m,h){if(u||!m||!h)return d(u);const p=m,x=r.stringify(p,h);QCe(x)?h.value=x:h.result=x,d(u,h)});function d(u,m){u||!m?l(u):i?i(m):n(void 0,m)}}}processSync(s){let n=!1,r;return this.freeze(),D_("processSync",this.parser||this.Parser),R_("processSync",this.compiler||this.Compiler),this.process(s,a),k6("processSync","process",n),r;function a(i,l){n=!0,N6(i),r=l}}run(s,n,r){C6(s),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,o){const c=e0(n);a.run(s,c,d);function d(u,m,h){const p=m||s;u?o(u):l?l(p):r(void 0,p,h)}}}runSync(s,n){let r=!1,a;return this.run(s,n,i),k6("runSync","run",r),a;function i(l,o){N6(l),a=o,r=!0}}stringify(s,n){this.freeze();const r=e0(n),a=this.compiler||this.Compiler;return R_("stringify",a),C6(s),a(s,r)}use(s,...n){const r=this.attachers,a=this.namespace;if(F_("use",this.frozen),s!=null)if(typeof s=="function")c(s,n);else if(typeof s=="object")Array.isArray(s)?o(s):l(s);else throw new TypeError("Expected usable value, not `"+s+"`");return this;function i(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[u,...m]=d;c(u,m)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(d.plugins),d.settings&&(a.settings=P_(!0,a.settings,d.settings))}function o(d){let u=-1;if(d!=null)if(Array.isArray(d))for(;++u<d.length;){const m=d[u];i(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,u){let m=-1,h=-1;for(;++m<r.length;)if(r[m][0]===d){h=m;break}if(h===-1)r.push([d,...u]);else if(u.length>0){let[p,...x]=u;const y=r[h][1];zS(y)&&zS(p)&&(p=P_(!0,y,p)),r[h]=[d,p,...x]}}}}const GCe=new Gk().freeze();function D_(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function R_(t,s){if(typeof s!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function F_(t,s){if(s)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function C6(t){if(!zS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function k6(t,s,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+s+"` instead")}function e0(t){return YCe(t)?t:new XU(t)}function YCe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function QCe(t){return typeof t=="string"||JCe(t)}function JCe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const XCe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E6=[],T6={allowDangerousHtml:!0},ZCe=/^(https?|ircs?|mailto|xmpp)$/i,eke=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function WS(t){const s=tke(t),n=ske(t);return nke(s.runSync(s.parse(n),n),t)}function tke(t){const s=t.rehypePlugins||E6,n=t.remarkPlugins||E6,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...T6}:T6;return GCe().use(R2e).use(n).use(PCe,r).use(s)}function ske(t){const s=t.children||"",n=new XU;return typeof s=="string"&&(n.value=s),n}function nke(t,s){const n=s.allowedElements,r=s.allowElement,a=s.components,i=s.disallowedElements,l=s.skipHtml,o=s.unwrapDisallowed,c=s.urlTransform||rke;for(const u of eke)Object.hasOwn(s,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+XCe+u.id,void 0);return JU(t,d),f1e(t,{Fragment:e.Fragment,components:a,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function d(u,m,h){if(u.type==="raw"&&h&&typeof m=="number")return l?h.children.splice(m,1):h.children[m]={type:"text",value:u.value},m;if(u.type==="element"){let p;for(p in C_)if(Object.hasOwn(C_,p)&&Object.hasOwn(u.properties,p)){const x=u.properties[p],y=C_[p];(y===null||y.includes(u.tagName))&&(u.properties[p]=c(String(x||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):i?i.includes(u.tagName):!1;if(!p&&r&&typeof m=="number"&&(p=!r(u,m,h)),p&&h&&typeof m=="number")return o&&u.children?h.children.splice(m,1,...u.children):h.children.splice(m,1),m}}}function rke(t){const s=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return s===-1||a!==-1&&s>a||n!==-1&&s>n||r!==-1&&s>r||ZCe.test(t.slice(0,s))?t:""}function ake({content:t,variant:s,settings:n}){const r={default:"",centered:"text-center",large:"text-lg"},a=r[s]||r.default;return e.jsxs("div",{className:a,children:[t.heading&&e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6",children:t.heading}),t.text&&e.jsx("div",{className:"prose prose-lg max-w-none text-slate-600",children:e.jsx(WS,{children:t.text})})]})}function ike({content:t,variant:s,settings:n}){const r={default:"rounded-lg",rounded:"rounded-2xl",circle:"rounded-full",none:""},a=r[s]||r.default;return t.imageUrl?e.jsxs("div",{className:"w-full",children:[e.jsx("img",{src:t.imageUrl,alt:t.altText||"",className:`w-full h-auto object-cover ${a}`}),t.caption&&e.jsx("p",{className:"text-sm text-slate-600 mt-2 text-center italic",children:t.caption})]}):e.jsx("div",{className:"bg-slate-100 aspect-video rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-slate-400",children:"No image selected"})})}function lke({content:t,variant:s,settings:n}){const r={default:"md:grid-cols-2","60-40":"md:grid-cols-[60%_40%]","40-60":"md:grid-cols-[40%_60%]"},a=r[s]||r.default;return e.jsxs("div",{className:`grid ${a} gap-8`,children:[e.jsxs("div",{children:[t.leftHeading&&e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:t.leftHeading}),t.leftContent&&e.jsx("div",{className:"prose text-slate-600",children:e.jsx(WS,{children:t.leftContent})})]}),e.jsxs("div",{children:[t.rightHeading&&e.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:t.rightHeading}),t.rightContent&&e.jsx("div",{className:"prose text-slate-600",children:e.jsx(WS,{children:t.rightContent})})]})]})}function oke({content:t,variant:s,settings:n}){const r={default:"bg-blue-600 hover:bg-blue-700",primary:"bg-indigo-600 hover:bg-indigo-700",secondary:"bg-slate-600 hover:bg-slate-700",success:"bg-green-600 hover:bg-green-700"},a={left:"justify-start",center:"justify-center",right:"justify-end"},i=r[s]||r.default,l=a[t.alignment]||a.center;return e.jsx("div",{className:`flex ${l}`,children:e.jsx(X,{size:"lg",className:`${i} text-white`,onClick:()=>{t.link&&(t.openInNewTab?window.open(t.link,"_blank"):window.location.href=t.link)},children:t.text||"Click Here"})})}function cke({content:t={},settings:s={}}){const{backgroundImageUrl:n="",foregroundImageUrl:r="",height:a="medium",contentAlignment:i="center",overlayOpacity:l=0}=t,{fullWidth:o=!1}=s,c={small:"h-[300px]",medium:"h-[500px]",large:"h-[700px]","full-screen":"h-screen"},d=o?"w-full relative":`relative w-full ${c[a]||c.medium}`;return e.jsxs("div",{className:"w-full relative overflow-hidden",children:[e.jsxs("div",{className:d,children:[n&&e.jsxs("div",{className:o?"relative w-full":"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:n,alt:"Hero background",className:`w-full ${o?"h-auto":"h-full"} ${o?"object-contain":"object-cover"}`}),l>0&&e.jsx("div",{className:"absolute inset-0 bg-black",style:{opacity:l/100}})]}),r&&e.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center",children:e.jsx("img",{src:r,alt:"Hero foreground frame",className:`w-full h-full ${o?"object-contain":"object-cover"}`,style:{mixBlendMode:"normal"}})})]}),!n&&!r&&e.jsx("div",{className:`${c[a]||c.medium} bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center`,children:e.jsxs("div",{className:"text-center text-slate-500",children:[e.jsx("div",{className:"mb-3",children:e.jsx("svg",{className:"w-16 h-16 mx-auto text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("p",{className:"font-semibold text-lg mb-1",children:"Image Hero Element"}),e.jsx("p",{className:"text-sm",children:"Add background and foreground images to create your hero"}),o&&e.jsx("p",{className:"text-xs mt-2 text-blue-600",children:"Full-width mode: Images will maintain their aspect ratio"})]})})]})}function dke({element:t,memberInfo:s,organizationInfo:n}){var u;const r=(u=t.content)==null?void 0:u.form_slug,[a,i]=b.useState({}),[l,o]=b.useState(0),{data:c,isLoading:d}=me({queryKey:["form-embed",r],queryFn:async()=>r?(await ee.entities.Form.list()).find(h=>h.slug===r&&h.is_active):null,enabled:!!r});if(d)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!c)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(js,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600",children:"Form not found or inactive"})]})});if(c.layout_type==="card_swipe"){const m=c.fields[l],h=l===c.fields.length-1,p=!(m!=null&&m.required)||a[m==null?void 0:m.id];return e.jsxs(le,{className:"border-slate-200 max-w-2xl mx-auto",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:c.name}),c.description&&e.jsx(As,{className:"whitespace-pre-line",children:c.description}),e.jsx("div",{className:"flex gap-1 mt-4",children:c.fields.map((x,y)=>e.jsx("div",{className:`h-1 flex-1 rounded ${y<=l?"bg-blue-600":"bg-slate-200"}`},y))})]}),e.jsx(ce,{className:"min-h-[300px]",children:m&&e.jsx(kh,{field:m,value:a[m.id],onChange:x=>i({...a,[m.id]:x}),memberInfo:s,organizationInfo:n})}),e.jsxs("div",{className:"p-6 pt-0 flex justify-between",children:[e.jsxs(X,{variant:"outline",onClick:()=>o(l-1),disabled:l===0,children:[e.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Previous"]}),h?e.jsx(X,{className:"bg-blue-600 hover:bg-blue-700",disabled:!0,children:c.submit_button_text||"Submit"}):e.jsxs(X,{onClick:()=>o(l+1),disabled:!p,children:["Next",e.jsx(Ss,{className:"w-4 h-4 ml-2"})]})]})]})}return e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:c.name}),c.description&&e.jsx(As,{className:"whitespace-pre-line",children:c.description})]}),e.jsxs(ce,{className:"space-y-6",children:[c.fields&&c.fields.map(m=>e.jsx(kh,{field:m,value:a[m.id],onChange:h=>i({...a,[m.id]:h}),memberInfo:s,organizationInfo:n},m.id)),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{className:"bg-blue-600 hover:bg-blue-700",disabled:!0,children:c.submit_button_text||"Submit"})})]})]})}function Qd({element:t,memberInfo:s,organizationInfo:n,isFirst:r}){var m,h,p;const i={hero:F_e,text_block:ake,image:ike,two_column:lke,cta_button:oke,image_hero:cke,wall_of_fame:b_e,form:x=>e.jsx(dke,{...x,memberInfo:s,organizationInfo:n}),text_overlay_image:w_e,table:__e,banner_carousel:C_e,showcase:T_e,resources_showcase:A_e,button_block:O_e,page_header_hero:D_e}[t.element_type];if(!i)return e.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 my-4",children:e.jsxs("p",{className:"text-sm text-amber-900",children:["Unknown element type: ",e.jsx("code",{children:t.element_type})]})});const l=((m=t.settings)==null?void 0:m.paddingTop)??32,o=((h=t.settings)==null?void 0:h.paddingBottom)??32,d={paddingTop:`${r?0:l}px`,paddingBottom:`${o}px`};return((p=t.settings)==null?void 0:p.fullWidth)?e.jsx("div",{className:"w-full",children:e.jsx(i,{element:t,content:t.content,variant:t.style_variant,settings:t.settings,isFirst:r})}):e.jsx("div",{style:d,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx(i,{element:t,content:t.content,variant:t.style_variant,settings:t.settings,isFirst:r})})})}function ZU({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState([]),[i,l]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(!1),[m,h]=b.useState(!1),p=i2(),x=Jt();b.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("pageId");F?n(F):(te.error("No page ID provided"),p(Te("IEditPageManagement")))},[]);const{data:y,isLoading:v}=me({queryKey:["iedit-page",s],queryFn:async()=>(await ee.entities.IEditPage.list()).find(F=>F.id===s),enabled:!!s}),{data:j,isLoading:w}=me({queryKey:["iedit-page-elements",s],queryFn:()=>ee.entities.IEditPageElement.filter({page_id:s},"display_order"),initialData:[],enabled:!!s});b.useEffect(()=>{j&&a(j)},[j]);const N=Ie({mutationFn:({id:D,data:F})=>ee.entities.IEditPage.update(D,F),onSuccess:()=>{x.invalidateQueries({queryKey:["iedit-page",s]}),te.success("Page updated successfully")}}),_=Ie({mutationFn:D=>ee.entities.IEditPageElement.create(D),onSuccess:()=>{x.invalidateQueries({queryKey:["iedit-page-elements",s]}),l(!1),te.success("Element added")}}),P=Ie({mutationFn:({id:D,data:F})=>ee.entities.IEditPageElement.update(D,F),onSuccess:()=>{x.invalidateQueries({queryKey:["iedit-page-elements",s]}),te.success("Element updated")}}),A=Ie({mutationFn:D=>ee.entities.IEditPageElement.delete(D),onSuccess:()=>{x.invalidateQueries({queryKey:["iedit-page-elements",s]}),te.success("Element deleted")}}),E=async D=>{if(!D.destination)return;const F=Array.from(r),[U]=F.splice(D.source.index,1);F.splice(D.destination.index,0,U),a(F);const z=F.map((H,B)=>({id:H.id,display_order:B}));try{for(const H of z)await ee.entities.IEditPageElement.update(H.id,{display_order:H.display_order});x.invalidateQueries({queryKey:["iedit-page-elements",s]})}catch{te.error("Failed to reorder elements"),a(j)}},C=async D=>{const F={page_id:s,element_type:D.element_type,display_order:r.length,content:D.default_content||{},style_variant:D.available_variants&&D.available_variants.length>0?D.available_variants[0]:"default",settings:{}};_.mutate(F)},R=async(D,F)=>{P.mutate({id:D,data:F}),c(null)},O=async D=>{confirm("Are you sure you want to delete this element?")&&A.mutate(D)},k=async D=>{const F={page_id:s,element_type:D.element_type,display_order:D.display_order+1,content:{...D.content},style_variant:D.style_variant,settings:{...D.settings}};_.mutate(F)},T=D=>{N.mutate({id:s,data:D}),u(!1)};return t?v||!y?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page editor..."})}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>p(Te("IEditPageManagement")),children:[e.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:y.title}),e.jsxs("p",{className:"text-sm text-slate-500",children:["/",y.slug]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[e.jsx(di,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsx(X,{variant:m?"default":"outline",size:"sm",onClick:()=>h(!m),className:m?"bg-blue-600 hover:bg-blue-700":"",children:m?e.jsxs(e.Fragment,{children:[e.jsx(h2,{className:"w-4 h-4 mr-2"}),"Edit Mode"]}):e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"w-4 h-4 mr-2"}),"Preview"]})})]})]}),e.jsx("div",{className:"flex-1 flex",children:e.jsx("div",{className:"flex-1 overflow-y-auto",children:m?e.jsxs("div",{className:"bg-white min-h-full",children:[e.jsx("style",{children:`
                  @font-face {
                    font-family: 'Degular Medium';
                    src: url('https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff') format('woff');
                    font-weight: 500;
                    font-style: normal;
                    font-display: swap;
                  }
                `}),r.length===0?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(kr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"Preview Empty"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Add elements to see the preview"}),e.jsx(X,{onClick:()=>h(!1),className:"mt-4 bg-blue-600 hover:bg-blue-700",children:"Exit Preview"})]})}):r.map(D=>e.jsx(Qd,{element:D,memberInfo:null,organizationInfo:null},D.id))]}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(X,{onClick:()=>l(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Element"]})}),r.length===0?e.jsx(le,{className:"border-2 border-dashed border-slate-300",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"No elements yet. Start building your page!"}),e.jsxs(X,{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Element"]})]})}):e.jsx(ig,{onDragEnd:E,children:e.jsx(_d,{droppableId:"elements",children:D=>e.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:"space-y-4",children:[r.map((F,U)=>e.jsx(Nd,{draggableId:F.id,index:U,children:(z,H)=>e.jsx("div",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,children:e.jsx(x_e,{element:F,isDragging:H.isDragging,onEdit:()=>c(F),onDelete:()=>O(F.id),onDuplicate:()=>k(F)})})},F.id)),D.placeholder]})})})]})})})}),i&&!m&&e.jsx(g_e,{onClose:()=>l(!1),onSelectTemplate:C}),o&&!m&&e.jsx(L_e,{element:o,onClose:()=>c(null),onSave:D=>R(o.id,D)}),d&&y&&e.jsx(B_e,{page:y,onClose:()=>u(!1),onSave:T})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function uke(){const t="testpage",{data:s,isLoading:n}=me({queryKey:["iedit-public-page",t],queryFn:async()=>(await ee.entities.IEditPage.filter({slug:t,status:"published"}))[0]}),{data:r,isLoading:a}=me({queryKey:["iedit-public-elements",s==null?void 0:s.id],queryFn:()=>ee.entities.IEditPageElement.filter({page_id:s.id},"display_order"),initialData:[],enabled:!!(s!=null&&s.id)});if(b.useEffect(()=>{if(s&&(document.title=s.meta_title||s.title||"AGCAS",s.meta_description)){let l=document.querySelector('meta[name="description"]');l||(l=document.createElement("meta"),l.name="description",document.head.appendChild(l)),l.content=s.meta_description}},[s]),n||a)return e.jsx(La,{currentPageName:"testpage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})})});if(!s)return e.jsx(La,{currentPageName:"testpage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600",children:"This page hasn't been published yet or doesn't exist."})]})})});const i=s.layout_type==="member"?({children:l})=>e.jsx("div",{className:"min-h-screen",children:l}):La;return e.jsx(i,{currentPageName:"testpage",children:e.jsxs("div",{className:"w-full",children:[r.map(l=>e.jsx(Qd,{element:l},l.id)),r.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]})})}const hke=[{name:"LinkedIn",key:"linkedin",placeholder:"https://www.linkedin.com/company/..."},{name:"Twitter/X",key:"twitter",placeholder:"https://twitter.com/..."},{name:"Facebook",key:"facebook",placeholder:"https://www.facebook.com/..."},{name:"Instagram",key:"instagram",placeholder:"https://www.instagram.com/..."},{name:"YouTube",key:"youtube",placeholder:"https://www.youtube.com/..."}];function mke(){const[t,s]=b.useState({linkedin:{enabled:!1,url:""},twitter:{enabled:!1,url:""},facebook:{enabled:!1,url:""},instagram:{enabled:!1,url:""},youtube:{enabled:!1,url:""}}),n=Jt(),{data:r,isLoading:a}=me({queryKey:["social-icons-config"],queryFn:async()=>{const u=(await ee.entities.SystemSettings.list()).find(m=>m.setting_key==="social_icons_config");if(u!=null&&u.setting_value)try{return{id:u.id,...JSON.parse(u.setting_value)}}catch(m){return console.error("Failed to parse social icons config:",m),null}return null},staleTime:0,refetchOnMount:!0});b.useEffect(()=>{if(r){const{id:d,...u}=r;s(u)}},[r]);const i=Ie({mutationFn:async d=>{const u=JSON.stringify(d);return r!=null&&r.id?await ee.entities.SystemSettings.update(r.id,{setting_value:u}):await ee.entities.SystemSettings.create({setting_key:"social_icons_config",setting_value:u,description:"Social media icon URLs and visibility for public header"})},onSuccess:()=>{n.invalidateQueries({queryKey:["social-icons-config"]}),te.success("Social icons configuration saved")},onError:d=>{console.error("Failed to save social icons config:",d),te.error("Failed to save configuration")}}),l=d=>{s(u=>({...u,[d]:{...u[d],enabled:!u[d].enabled}}))},o=(d,u)=>{s(m=>({...m,[d]:{...m[d],url:u}}))},c=()=>{i.mutate(t)};return a?e.jsx(le,{className:"border-slate-200 mb-6",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})})}):e.jsxs(le,{className:"border-slate-200 mb-6",children:[e.jsxs(Fe,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(nd,{className:"w-5 h-5 text-blue-600"}),"Social Media Icons"]}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Configure which social media icons appear in the top navigation and their URLs"})]}),e.jsxs(ce,{className:"space-y-4",children:[hke.map(({name:d,key:u,placeholder:m})=>{var h,p,x;return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:"flex items-center pt-2",children:e.jsx(fs,{id:`social-${u}`,checked:((h=t[u])==null?void 0:h.enabled)||!1,onCheckedChange:()=>l(u)})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Z,{htmlFor:`url-${u}`,className:"font-medium",children:d}),e.jsx(he,{id:`url-${u}`,value:((p=t[u])==null?void 0:p.url)||"",onChange:y=>o(u,y.target.value),placeholder:m,disabled:!((x=t[u])!=null&&x.enabled)})]})]},u)}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:c,disabled:i.isPending,className:"bg-blue-600 hover:bg-blue-700",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})})]})]})}const I_=[{name:"Calendar",component:Ns},{name:"Building",component:yc},{name:"Briefcase",component:Dn},{name:"FileText",component:ls},{name:"Users",component:Cs},{name:"Sparkles",component:pa},{name:"Home",component:$f},{name:"Mail",component:Rs},{name:"Phone",component:Sv},{name:"Menu",component:ro},{name:"Navigation",component:e1}],fke=[{name:"Home",label:"Home"},{name:"PublicEvents",label:"Public Events"},{name:"PublicAbout",label:"About Us"},{name:"PublicContact",label:"Contact"},{name:"PublicResources",label:"Resources"},{name:"PublicArticles",label:"Articles"},{name:"PublicNews",label:"News"},{name:"JobBoard",label:"Job Board"},{name:"PostJob",label:"Post a Job"},{name:"OrganisationDirectory",label:"Organisation Directory"}];function ez({isAdmin:t}){var D;const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState("all"),[o,c]=b.useState(!1),[d,u]=b.useState({}),m=Jt(),{data:h,isLoading:p}=me({queryKey:["navigation-items"],queryFn:()=>ee.entities.NavigationItem.list("display_order"),initialData:[],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:x}=me({queryKey:["iedit-pages-published"],queryFn:async()=>(await ee.entities.IEditPage.filter({status:"published"})).map(U=>({name:U.slug,label:U.title})),initialData:[]}),y=b.useMemo(()=>[...fke,...x].sort((F,U)=>F.label.localeCompare(U.label)),[x]),v=Ie({mutationFn:F=>ee.entities.NavigationItem.create(F),onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),a(!1),n(null),te.success("Navigation item created")},onError:F=>{te.error("Failed to create item: "+F.message)}}),j=Ie({mutationFn:({id:F,data:U})=>ee.entities.NavigationItem.update(F,U),onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),a(!1),n(null),te.success("Navigation item updated")},onError:F=>{te.error("Failed to update item: "+F.message)}}),w=Ie({mutationFn:async F=>{const U=async z=>{const H=h.filter(B=>B.parent_id===z);for(const B of H)await U(B.id);await ee.entities.NavigationItem.delete(z)};await U(F)},onSuccess:()=>{m.invalidateQueries({queryKey:["navigation-items"]}),te.success("Navigation item deleted")},onError:F=>{te.error("Failed to delete item: "+F.message)}}),N=b.useMemo(()=>{const F=U=>h.filter(z=>z.parent_id===U&&z.is_active).sort((z,H)=>(z.display_order||0)-(H.display_order||0)).map(z=>({...z,children:F(z.id)}));return F(null)},[h]),_=b.useMemo(()=>i==="all"?N:N.filter(F=>F.location===i),[N,i]),P=(F="main_nav",U=null)=>{n({title:"",url:"",link_type:"internal",location:F,parent_id:U,display_order:h.filter(z=>z.location===F&&z.parent_id===U).length,is_active:!0,open_in_new_tab:!1,icon:"",description:"",highlight_style:"none"}),a(!0)},A=F=>{n({...F}),a(!0)},E=()=>{if(!s.title||!s.url){te.error("Title and URL are required");return}if(s.id){const{id:F,created_date:U,updated_date:z,created_by:H,...B}=s;j.mutate({id:F,data:B})}else v.mutate(s)},C=F=>{const U=B=>{const $=h.filter(I=>I.parent_id===B);return $.length+$.reduce((I,L)=>I+U(L.id),0)},z=U(F.id),H=z>0?`Delete "${F.title}" and its ${z} sub-item(s)?`:`Delete "${F.title}"?`;confirm(H)&&w.mutate(F.id)},R=F=>{n({...s,icon:F}),c(!1)},O=async(F,U)=>{const z=h.find(V=>V.id===F);if(!z)return;const H=h.filter(V=>V.location===z.location&&V.parent_id===z.parent_id).sort((V,q)=>V.display_order===q.display_order?new Date(V.created_date)-new Date(q.created_date):V.display_order-q.display_order),B=H.findIndex(V=>V.id===F),$=U==="up"?B-1:B+1;if($<0||$>=H.length)return;const I=[...H],[L]=I.splice(B,1);I.splice($,0,L);for(let V=0;V<I.length;V++)await ee.entities.NavigationItem.update(I[V].id,{display_order:V});await m.invalidateQueries({queryKey:["navigation-items"]}),te.success("Navigation order updated")},k=F=>{u(U=>({...U,[F]:!U[F]}))},T=(F,U=0)=>F.map(z=>{var L;const H=(L=I_.find(V=>V.name===z.icon))==null?void 0:L.component,B=z.children&&z.children.length>0,$=d[z.id],I=U>0?`ml-${Math.min(U*8,16)}`:"";return e.jsxs("div",{className:I,children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:border-blue-400 transition-colors mb-2",children:[B&&e.jsx("button",{onClick:()=>k(z.id),className:"p-1 hover:bg-slate-100 rounded",children:$?e.jsx(Vr,{className:"w-4 h-4"}):e.jsx(Ss,{className:"w-4 h-4"})}),!B&&e.jsx("div",{className:"w-6"}),H&&e.jsx(H,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-slate-900",children:z.title}),e.jsx(ye,{className:"text-xs",variant:z.location==="top_nav"?"default":"secondary",children:z.location==="top_nav"?"Top Bar":"Main Nav"}),z.highlight_style==="gradient_button"&&e.jsx(ye,{className:"text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:"Featured"}),B&&e.jsxs(ye,{variant:"outline",className:"text-xs",children:[z.children.length," sub-item",z.children.length>1?"s":""]})]}),e.jsxs("div",{className:"text-sm text-slate-500 truncate",children:[z.link_type==="external"?" ":" ",z.url]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>P(z.location,z.id),className:"h-8 px-2",title:"Add submenu item",children:e.jsx(Tt,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>O(z.id,"up"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>O(z.id,"down"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(z),className:"h-8 w-8 p-0",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>C(z),className:"h-8 w-8 p-0 text-red-600",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),B&&$&&e.jsx("div",{className:"ml-8 space-y-2 mb-2",children:T(z.children,U+1)})]},z.id)});return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Navigation Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage public header navigation items and create mega-menus"})]})}),e.jsx(le,{className:"border-blue-200 bg-blue-50 mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pa,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Dynamic Navigation"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Create custom navigation items for the public header. Static items (Login/Logout, Member Area, Join Us button) are managed separately and will always appear in their designated positions."})]})]})})}),e.jsx(mke,{}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs(Ge,{value:i,onValueChange:l,children:[e.jsx(Ve,{className:"w-48",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Locations"}),e.jsx(re,{value:"top_nav",children:"Top Navigation Bar"}),e.jsx(re,{value:"main_nav",children:"Main Navigation Bar"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsxs(X,{onClick:()=>P("top_nav"),variant:"outline",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Top Nav Item"]}),e.jsxs(X,{onClick:()=>P("main_nav"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Main Nav Item"]})]})]}),p?e.jsx(le,{children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Loading navigation items..."})})}):_.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(e1,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Navigation Items"}),e.jsx("p",{className:"text-slate-600 mb-6",children:i==="all"?"Create your first navigation item to get started":`No items in ${i==="top_nav"?"Top Navigation":"Main Navigation"}`}),e.jsxs(X,{onClick:()=>P("main_nav"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Item"]})]})}):e.jsx(le,{children:e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:T(_)})})}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:s!=null&&s.id?"Edit Navigation Item":"Create Navigation Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",children:"Title *"}),e.jsx(he,{id:"title",value:s.title,onChange:F=>n({...s,title:F.target.value}),placeholder:"e.g., About Us"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"link_type",children:"Link Type"}),e.jsxs(Ge,{value:s.link_type,onValueChange:F=>n({...s,link_type:F}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"internal",children:"Internal Page"}),e.jsx(re,{value:"external",children:"External URL"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"location",children:"Navigation Bar"}),e.jsxs(Ge,{value:s.location,onValueChange:F=>n({...s,location:F}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"top_nav",children:"Top Navigation Bar"}),e.jsx(re,{value:"main_nav",children:"Main Navigation Bar"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"url",children:s.link_type==="internal"?"Page *":"URL *"}),s.link_type==="internal"?e.jsxs(Ge,{value:s.url,onValueChange:F=>n({...s,url:F}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a page..."})}),e.jsx(We,{children:y.map(F=>e.jsx(re,{value:F.name,children:F.label},F.name))})]}):e.jsx(he,{id:"url",value:s.url,onChange:F=>n({...s,url:F.target.value}),placeholder:"e.g., https://example.com"}),e.jsx("p",{className:"text-xs text-slate-500",children:s.link_type==="internal"?"Select from available public pages":"Enter the full URL including https://"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"parent",children:"Parent Item (for sub-menu)"}),e.jsxs(Ge,{value:s.parent_id||"none",onValueChange:F=>n({...s,parent_id:F==="none"?null:F}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:"None (Top Level)"}),h.filter(F=>{if(F.id===s.id)return!1;const U=(z,H)=>z===H?!0:h.filter($=>$.parent_id===z).some($=>U($.id,H));return s.id&&U(s.id,F.id)?!1:F.location===s.location}).sort((F,U)=>{const z=h.filter(B=>B.parent_id===F.id).length>0?0:1,H=h.filter(B=>B.parent_id===U.id).length>0?0:1;return z!==H?z-H:F.title.localeCompare(U.title)}).map(F=>{const U=z=>{var B;const H=(B=h.find($=>$.id===z))==null?void 0:B.parent_id;return H?(h.find($=>$.id===H),U(H)+" "):""};return e.jsxs(re,{value:F.id,children:[U(F.parent_id),F.title]},F.id)})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Create nested sub-menus by selecting a parent item (supports multiple levels)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Qt,{id:"description",value:s.description||"",onChange:F=>n({...s,description:F.target.value}),placeholder:"Optional description shown in mega-menu",rows:2})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Icon (Optional)"}),e.jsx(X,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>c(!0),children:s.icon?e.jsxs(e.Fragment,{children:[Be.createElement(((D=I_.find(F=>F.name===s.icon))==null?void 0:D.component)||e1,{className:"w-4 h-4 mr-2"}),s.icon]}):"Select an icon..."}),s.icon&&e.jsxs(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>n({...s,icon:""}),className:"w-full text-slate-600",children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),"Clear Icon"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"highlight",children:"Highlight Style"}),e.jsxs(Ge,{value:s.highlight_style,onValueChange:F=>n({...s,highlight_style:F}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"none",children:"None"}),e.jsx(re,{value:"gradient_button",children:"Gradient Button"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(fs,{id:"is_active",checked:s.is_active,onCheckedChange:F=>n({...s,is_active:F})}),e.jsx(Z,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (Visible on site)"})]}),s.link_type==="external"&&e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(fs,{id:"new_tab",checked:s.open_in_new_tab,onCheckedChange:F=>n({...s,open_in_new_tab:F})}),e.jsx(Z,{htmlFor:"new_tab",className:"cursor-pointer",children:"Open in new tab"})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:E,disabled:v.isPending||j.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update Item":"Create Item"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Select an Icon"})}),e.jsx("div",{className:"grid grid-cols-4 gap-4 py-4",children:I_.map(({name:F,component:U})=>e.jsxs("button",{onClick:()=>R(F),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all hover:border-blue-500 hover:bg-blue-50 ${(s==null?void 0:s.icon)===F?"border-blue-600 bg-blue-50":"border-slate-200"}`,children:[e.jsx(U,{className:"w-8 h-8 text-slate-700"}),e.jsx("span",{className:"text-xs text-slate-600 text-center",children:F})]},F))}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"You need administrator privileges to access this page."})})})})}async function P6(t,s,n=""){const r=t.name.split(".").pop(),a=`${n?`${n}/`:""}${Date.now()}-${Math.random().toString(36).slice(2)}.${r}`,{data:i,error:l}=await Vs.storage.from(s).upload(a,t);if(l)throw l;const{data:o}=Vs.storage.from(s).getPublicUrl(a);return o.publicUrl}function tz({memberInfo:t,organizationInfo:s,reloadMemberInfo:n,isFeatureExcluded:r}){const[a,i]=b.useState([]),[l,o]=b.useState(""),[c,d]=b.useState(!1),[u,m]=b.useState(!1),[h,p]=b.useState({}),[x,y]=b.useState(""),[v,j]=b.useState(""),[w,N]=b.useState(""),[_,P]=b.useState(""),[A,E]=b.useState(""),[C,R]=b.useState(""),[O,k]=b.useState(!1),[T,D]=b.useState(!1),[F,U]=b.useState(!1),[z,H]=b.useState(!0),[B,$]=b.useState(""),[I,L]=b.useState(!1),[V,q]=b.useState(!1),J=Jt(),{data:Q,isLoading:Y}=me({queryKey:["currentUser"],queryFn:async()=>{const{data:He,error:nt}=await Vs.auth.getUser();if(nt)throw nt;return He.user},staleTime:30*1e3}),{data:K,isLoading:ae}=me({queryKey:["memberRecord",t==null?void 0:t.email],queryFn:async()=>{if(!(t!=null&&t.email))return null;const{data:He,error:nt}=await Vs.from("members").select("*").eq("email",t.email).maybeSingle();if(nt)throw nt;return He},enabled:!!(t!=null&&t.email),staleTime:30*1e3}),{data:se,isLoading:de}=me({queryKey:["engagementStats",K==null?void 0:K.id],queryFn:async()=>{if(!(K!=null&&K.id))return{eventsAttended:0,articlesWritten:0,jobsPosted:0};const He=K.id,[{data:nt=[],error:cs},{data:we=[],error:ot},{data:Pe=[],error:tt}]=await Promise.all([Vs.from("bookings").select("id, member_id, status").eq("member_id",He).eq("status","confirmed"),Vs.from("blog_posts").select("id, author_id, status").eq("author_id",He).eq("status","published"),Vs.from("job_postings").select("id, posted_by_member_id").eq("posted_by_member_id",He)]);if(cs)throw cs;if(ot)throw ot;if(tt)throw tt;const vt=nt.length,ns=we.length,ms=Pe.length;return{eventsAttended:vt,articlesWritten:ns,jobsPosted:ms}},enabled:!!(K!=null&&K.id),staleTime:60*1e3}),{data:ue=[],isLoading:oe}=me({queryKey:["awards"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("awards").select("*").eq("is_active",!0).order("level",{ascending:!0});if(nt)throw nt;return He||[]},staleTime:300*1e3}),{data:pe=[],isLoading:je}=me({queryKey:["myOfflineAwardAssignments",K==null?void 0:K.id],queryFn:async()=>{if(!(K!=null&&K.id))return[];const{data:He,error:nt}=await Vs.from("offline_award_assignments").select("*").eq("member_id",K.id);if(nt)throw nt;return He||[]},enabled:!!(K!=null&&K.id),staleTime:60*1e3}),{data:Ne=[]}=me({queryKey:["awardSublevels"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("award_sublevels").select("*");if(nt)throw nt;return He||[]},staleTime:300*1e3}),{data:qe=[],isLoading:$e}=me({queryKey:["myGroupAssignments",K==null?void 0:K.id],queryFn:async()=>{if(!(K!=null&&K.id))return[];const{data:He,error:nt}=await Vs.from("member_group_assignments").select("*").eq("member_id",K.id);if(nt)throw nt;return He||[]},enabled:!!(K!=null&&K.id),staleTime:60*1e3}),{data:Ee=[],isLoading:Se}=me({queryKey:["memberGroups"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("member_groups").select("*").eq("is_active",!0);if(nt)throw nt;return He||[]},enabled:qe.length>0,staleTime:60*1e3}),{data:Ye=[],isLoading:Qe}=me({queryKey:["offlineAwards"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("offline_awards").select("*").eq("is_active",!0);if(nt)throw nt;return He||[]},staleTime:300*1e3}),{data:Me=[]}=me({queryKey:["awardClassifications"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("award_classifications").select("*");if(nt)throw nt;return He||[]},staleTime:300*1e3}),{data:lt=[],isLoading:Ce}=me({queryKey:["resourceCategories"],queryFn:async()=>{const{data:He,error:nt}=await Vs.from("resource_categories").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(nt)throw nt;return He||[]},staleTime:300*1e3,refetchOnWindowFocus:!1}),it=b.useMemo(()=>!se||!ue||ue.length===0?[]:ue.filter(He=>(He.award_type==="events_attended"?se.eventsAttended:He.award_type==="articles_published"?se.articlesWritten:He.award_type==="jobs_posted"?se.jobsPosted:0)>=He.threshold),[se,ue]),_e=b.useMemo(()=>!pe||pe.length===0||!Ye?[]:pe.map(He=>{const nt=Ye.find(we=>we.id===He.offline_award_id);if(!nt)return null;const cs=He.sublevel_id?Ne.find(we=>we.id===He.sublevel_id):null;return{...nt,sublevel:cs}}).filter(Boolean).sort((He,nt)=>(He.level||0)-(nt.level||0)),[pe,Ye,Ne]);b.useEffect(()=>{K&&(y(K.first_name||""),j(K.last_name||""),N(K.job_title||""),P(K.biography||""),E(K.profile_photo_url||""),R(K.linkedin_url||""),H(K.show_in_directory!==!1))},[K]),b.useEffect(()=>{s&&$(s.logo_url||"")},[s]),b.useEffect(()=>{var He;if((He=Q==null?void 0:Q.user_metadata)!=null&&He.preferences){const nt=Q.user_metadata.preferences;nt.selectedSubcategories&&i(nt.selectedSubcategories),nt.expandedCategories&&p(nt.expandedCategories)}},[Q]);const Ue=Ie({mutationFn:async He=>{const{data:nt,error:cs}=await Vs.auth.updateUser({data:{preferences:He}});if(cs)throw cs;return nt},onSuccess:()=>{J.invalidateQueries({queryKey:["currentUser"]}),te.success("Preferences saved successfully"),d(!1),m(!1)},onError:()=>{te.error("Failed to save preferences"),m(!1)}}),rt=Ie({mutationFn:async He=>{if(!(K!=null&&K.id))throw new Error("No member record");const{data:nt,error:cs}=await Vs.from("members").update(He).eq("id",K.id).select().maybeSingle();if(cs)throw cs;return nt},onSuccess:()=>{J.invalidateQueries({queryKey:["memberRecord"]}),J.invalidateQueries({queryKey:["all-members-directory"]}),te.success("Profile updated successfully"),D(!1),U(!1),n&&n()},onError:()=>{te.error("Failed to update profile"),U(!1)}}),ht=Ie({mutationFn:async He=>{if(!(s!=null&&s.id))throw new Error("No organization");const{data:nt,error:cs}=await Vs.from("organizations").update({logo_url:He}).eq("id",s.id).select().maybeSingle();if(cs)throw cs;return nt},onSuccess:()=>{J.invalidateQueries({queryKey:["organizations"]}),te.success("Organization logo updated successfully"),q(!1)},onError:()=>{te.error("Failed to update organization logo")}}),ct=async He=>{var cs;const nt=(cs=He.target.files)==null?void 0:cs[0];if(nt){if(!nt.type.startsWith("image/")){te.error("Please select an image file");return}if(nt.size>5*1024*1024){te.error("Image must be less than 5MB");return}k(!0);try{const we=(Q==null?void 0:Q.id)||"member",ot=await P6(nt,"member-photos",we);E(ot),D(!0),te.success("Photo uploaded successfully")}catch(we){console.error(we),te.error("Failed to upload photo")}finally{k(!1)}}},Rt=async He=>{var cs;const nt=(cs=He.target.files)==null?void 0:cs[0];if(nt){if(!nt.type.startsWith("image/")){te.error("Please select an image file");return}if(nt.size>5*1024*1024){te.error("Image must be less than 5MB");return}L(!0);try{const we=(s==null?void 0:s.id)||"organization",ot=await P6(nt,"organization-logos",we);$(ot),q(!0),te.success("Logo uploaded successfully")}catch(we){console.error(we),te.error("Failed to upload logo")}finally{L(!1)}}},rs=async()=>{ht.mutate(B)},Us=async()=>{m(!0);const He={selectedSubcategories:a,expandedCategories:h};Ue.mutate(He)},Es=async()=>{if(_.trim().split(/\s+/).filter(cs=>cs.length>0).length>500){te.error("Biography must be 500 words or less");return}U(!0);const nt={first_name:x,last_name:v,job_title:w,biography:_,profile_photo_url:A,linkedin_url:C,show_in_directory:z};rt.mutate(nt)},mn=()=>{i([]),p({}),o(""),d(!0)},Zt=He=>{i(nt=>{const cs=nt.includes(He)?nt.filter(we=>we!==He):[...nt,He];return d(!0),cs})};b.useEffect(()=>{if(K){const He=x!==(K.first_name||"")||v!==(K.last_name||"")||w!==(K.job_title||"")||_!==(K.biography||"")||A!==(K.profile_photo_url||"")||C!==(K.linkedin_url||"")||z!==(K.show_in_directory!==!1);D(He)}},[x,v,w,_,A,C,z,K]),b.useEffect(()=>{if(s){const He=B!==(s.logo_url||"");q(He)}},[B,s]);const yn=lt.filter(He=>{if(!l)return!0;const nt=l.toLowerCase();return He.name.toLowerCase().includes(nt)||He.subcategories&&He.subcategories.some(cs=>cs.toLowerCase().includes(nt))}),Fs=()=>_.trim().split(/\s+/).filter(He=>He.length>0).length,Ar=Y||Ce||ae||je||Qe||$e||oe||Se,er=!r||!r("edit_professional_biography");return Ar?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Preferences"}),e.jsx("p",{className:"text-slate-600",children:"Manage your profile and content preferences"})]}),s&&!(t!=null&&t.is_team_member)&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Organization Logo"}),e.jsx(As,{children:"Upload your organization's logo for the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:B?e.jsx("img",{src:B,alt:"Organization Logo",className:"w-full h-full object-contain"}):e.jsx(Fa,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"org-logo-upload",accept:"image/*",onChange:Rt,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:I,onClick:()=>document.getElementById("org-logo-upload").click(),children:I?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Logo"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),V&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:rs,disabled:ht.isPending,className:"bg-blue-600 hover:bg-blue-700",children:ht.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Logo"]})})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Profile Information"}),e.jsx(As,{children:"Update your personal details"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:A?e.jsx("img",{src:A,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(sn,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:ct,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:O,onClick:()=>document.getElementById("photo-upload").click(),children:O?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"JPG, PNG or GIF. Max 5MB."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"firstName",children:"First Name"}),e.jsx(he,{id:"firstName",value:x,onChange:He=>y(He.target.value),placeholder:"Enter your first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"lastName",children:"Last Name"}),e.jsx(he,{id:"lastName",value:v,onChange:He=>j(He.target.value),placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"jobTitle",children:"Job Title"}),e.jsx(he,{id:"jobTitle",value:w,onChange:He=>N(He.target.value),placeholder:"e.g., Careers Adviser"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"linkedinUrl",children:"LinkedIn Profile URL"}),e.jsx(he,{id:"linkedinUrl",type:"url",value:C,onChange:He=>R(He.target.value),placeholder:"https://www.linkedin.com/in/your-profile"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"show-in-directory",className:"cursor-pointer",children:"Show in Member Directory"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Allow other members to see your profile in the member directory"})]}),e.jsx(fs,{id:"show-in-directory",checked:z,onCheckedChange:H})]}),(K==null?void 0:K.created_date)&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx(PG,{className:"w-5 h-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Member since"}),e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Ot(new Date(K.created_date),"dd MMMM yyyy")})]})]}),T&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:Es,disabled:F,className:"bg-blue-600 hover:bg-blue-700",children:F?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Profile"]})})})]})]}),er&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Engagement"}),e.jsx(As,{children:"Your activity and contributions to the community"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(Ns,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:de?"-":(se==null?void 0:se.eventsAttended)||0}),e.jsx("p",{className:"text-xs text-blue-700",children:"Events Attended"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:e.jsx(ls,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:de?"-":(se==null?void 0:se.articlesWritten)||0}),e.jsx("p",{className:"text-xs text-purple-700",children:"Articles Published"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center",children:e.jsx(Dn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-900",children:de?"-":(se==null?void 0:se.jobsPosted)||0}),e.jsx("p",{className:"text-xs text-green-700",children:"Jobs Posted"})]})]})})]}),qe.length>0&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Groups"}),e.jsx(ye,{variant:"secondary",children:qe.length})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:qe.map(He=>{const nt=Ee.find(cs=>cs.id===He.group_id);return nt?e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Cs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:nt.name}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:He.group_role}),nt.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:nt.description})]})]},He.id):null})})]}),(it.length>0||_e.length>0)&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wn,{className:"w-5 h-5 text-amber-600"}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Awards"}),e.jsx(ye,{variant:"secondary",children:it.length+_e.length})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[it.map(He=>{const nt=He.classification_id?Me.find(cs=>cs.id===He.classification_id):null;return e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200 hover:shadow-md transition-shadow relative",children:[nt&&e.jsx(ye,{variant:"secondary",className:"absolute top-1 right-1 text-[10px] px-1.5 py-0.5",children:nt.name}),He.image_url?e.jsx("img",{src:He.image_url,alt:He.name,className:"w-12 h-12 object-contain mb-2"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center mb-2",children:e.jsx(Wn,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:"text-xs font-semibold text-center text-slate-900 line-clamp-2",children:He.name}),He.description&&e.jsx("p",{className:"text-xs text-slate-600 text-center mt-1 line-clamp-2",children:He.description})]},`online-${He.id}`)}),_e.map((He,nt)=>{var we;const cs=He.classification_id?Me.find(ot=>ot.id===He.classification_id):null;return e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 hover:shadow-md transition-shadow relative",children:[cs&&e.jsx(ye,{variant:"secondary",className:"absolute top-1 right-1 text-[10px] px-1.5 py-0.5",children:cs.name}),(we=He.sublevel)!=null&&we.image_url?e.jsx("img",{src:He.sublevel.image_url,alt:He.sublevel.name,className:"w-12 h-12 object-contain mb-2"}):He.image_url?e.jsx("img",{src:He.image_url,alt:He.name,className:"w-12 h-12 object-contain mb-2"}):e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-2",children:e.jsx(Wn,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:"text-xs font-semibold text-center text-slate-900 line-clamp-2",children:He.name}),He.sublevel&&e.jsx(ye,{className:"mt-1 bg-purple-600 text-white text-[10px]",children:He.sublevel.name}),He.period_text&&e.jsx("p",{className:"text-xs text-purple-700 text-center mt-1 font-medium",children:He.period_text}),He.description&&e.jsx("p",{className:"text-xs text-slate-600 text-center mt-1 line-clamp-2",children:He.description})]},`offline-${He.id}-${nt}`)})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"biography",children:"Professional Biography"}),e.jsxs("span",{className:`text-xs ${Fs()>500?"text-red-600 font-semibold":"text-slate-500"}`,children:[Fs()," / 500 words"]})]}),e.jsx(Qt,{id:"biography",value:_,onChange:He=>P(He.target.value),placeholder:"Share your professional background, expertise, and experience (max 500 words)",className:"min-h-[200px]"}),e.jsx("p",{className:"text-xs text-slate-500",children:"This biography will be displayed on your published articles"})]}),T&&e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:Es,disabled:F||Fs()>500,className:"bg-blue-600 hover:bg-blue-700",children:F?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Biography"]})})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Resource Interests"}),e.jsx(As,{children:"Select topics you're interested in to personalize your experience"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Browse Topics"}),e.jsx("div",{className:"border border-slate-200 rounded-lg bg-slate-50 p-4 max-h-[600px] overflow-y-auto",children:e.jsx(rk,{categories:yn,selectedSubcategories:a,onSubcategoryToggle:Zt,searchQuery:l,onSearchChange:o,onClearSearch:()=>o("")})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Your Interests"}),a.length>0&&e.jsx(X,{variant:"ghost",size:"sm",onClick:mn,className:"text-blue-600 hover:text-blue-700",children:"Clear All"})]}),a.length===0?e.jsx("div",{className:"border border-dashed border-slate-300 rounded-lg p-8 text-center",children:e.jsx("p",{className:"text-slate-500 text-sm",children:"No interests selected yet. Browse topics on the left to get started."})}):e.jsx("div",{className:"border border-slate-200 rounded-lg bg-white p-4 space-y-2 max-h-[600px] overflow-y-auto",children:a.map(He=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{className:"text-sm text-slate-900",children:He}),e.jsx("button",{onClick:()=>Zt(He),className:"text-slate-500 hover:text-slate-700",children:e.jsx(ks,{className:"w-4 h-4"})})]},He))})]})]}),c&&e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:Us,disabled:u,className:"bg-blue-600 hover:bg-blue-700",children:u?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})})})]})]})]})})}function sz({memberInfo:t}){const[s,n]=b.useState(""),[r,a]=b.useState("all"),[i,l]=b.useState([]),[o,c]=b.useState("newest"),{data:d,isLoading:u}=me({queryKey:["article-display-name-setting"],queryFn:async()=>{const k=(await ee.entities.SystemSettings.list()).find(T=>T.setting_key==="article_display_name");return(k==null?void 0:k.setting_value)||"Articles"},staleTime:0}),m=typeof d=="string"&&d||"Articles",h=m.endsWith("s")?m.slice(0,-1):m,{data:p=[],isLoading:x}=me({queryKey:["my-articles",t==null?void 0:t.email],queryFn:async()=>{const O=await ee.entities.BlogPost.list("-created_date"),T=(await ee.entities.Member.list()).find(D=>D.email===(t==null?void 0:t.email));return O.filter(D=>D.author_id===(T==null?void 0:T.id))},enabled:!!t,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:y=[],isLoading:v}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(T=>T.is_active&&T.applies_to_content_types&&T.applies_to_content_types.includes("Articles")).sort((T,D)=>(T.display_order||0)-(D.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(k=>k.is_active&&k.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:w=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await ee.entities.ArticleView.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:N=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await ee.entities.ArticleReaction.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),_=b.useMemo(()=>{const O={};return p.forEach(k=>{O[k.id]={viewCount:w.filter(T=>T.article_id===k.id).length,likeCount:N.filter(T=>T.article_id===k.id&&T.reaction_type==="up").length}}),O},[p,w,N]),P=b.useMemo(()=>p.filter(O=>{var F,U,z;const k=((F=O.title)==null?void 0:F.toLowerCase().includes(s.toLowerCase()))||((U=O.summary)==null?void 0:U.toLowerCase().includes(s.toLowerCase()))||((z=O.tags)==null?void 0:z.some(H=>H.toLowerCase().includes(s.toLowerCase()))),T=r==="all"||O.status===r,D=i.length===0||O.subcategories&&O.subcategories.some(H=>i.includes(H));return k&&T&&D}),[p,s,r,i]),A=b.useMemo(()=>{const O=[...P];switch(o){case"newest":O.sort((k,T)=>new Date(T.created_date)-new Date(k.created_date));break;case"oldest":O.sort((k,T)=>new Date(k.created_date)-new Date(T.created_date));break;case"title-asc":O.sort((k,T)=>k.title.localeCompare(T.title));break;case"title-desc":O.sort((k,T)=>T.title.localeCompare(k.title));break;case"most-viewed":O.sort((k,T)=>{var D,F;return(((D=_[T.id])==null?void 0:D.viewCount)||0)-(((F=_[k.id])==null?void 0:F.viewCount)||0)});break;case"most-liked":O.sort((k,T)=>{var D,F;return(((D=_[T.id])==null?void 0:D.likeCount)||0)-(((F=_[k.id])==null?void 0:F.likeCount)||0)});break}return O},[P,o,_]),E=O=>{l(k=>k.includes(O)?k.filter(T=>T!==O):[...k,O])},C=O=>{switch(O){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return!t||(x||v||u)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:["My ",m]}),e.jsx("p",{className:"text-slate-600",children:"Create and manage your content"})]}),e.jsx(Gt,{to:Te("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"New ",h]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wd,{categories:y,selectedSubcategories:i,onSubcategoryToggle:E,searchQuery:s,onSearchChange:n,onClearSearch:()=>n(""),isLoading:!1,displayName:m}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(O=>e.jsx(X,{variant:r===O?"default":"outline",size:"sm",onClick:()=>a(O),className:"capitalize justify-start",children:O},O))})]})]})}),e.jsx("div",{className:"flex-1",children:A.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s||r!=="all"||i.length>0?`No ${m.toLowerCase()} found`:`No ${m.toLowerCase()} yet`}),e.jsx("p",{className:"text-slate-600 mb-6",children:s||r!=="all"||i.length>0?"Try adjusting your search or filters":`Start creating your first ${h.toLowerCase()}`}),!s&&r==="all"&&i.length===0&&e.jsx(Gt,{to:Te("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Create First ",h]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",A.length," ",A.length===1?h.toLowerCase():m.toLowerCase()]}),e.jsxs(Ge,{value:o,onValueChange:c,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:A.map(O=>{const k=O.published_date&&new Date(O.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ye,{className:C(O.status),children:O.status}),k&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hd,{article:O,buttonStyles:j,showActions:!1,displayName:m})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Gt,{to:`${Te("ArticleEditor")}?id=${O.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(Di,{className:"w-3 h-3"}),"Edit"]})}),O.status==="published"&&e.jsx(Gt,{to:`${Te("ArticleView")}?slug=${O.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(kr,{className:"w-3 h-3"}),"View"]})})]})]},O.id)})})]})})]})]})})}function nz(){const[t,s]=b.useState(""),[n,r]=b.useState([]),[a,i]=b.useState(1),[l,o]=b.useState("newest"),[c,d]=b.useState(6),{data:u=[],isLoading:m}=me({queryKey:["public-articles"],queryFn:async()=>(await ee.entities.BlogPost.list("-published_date")).filter(D=>D.status==="published"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(F=>F.is_active&&F.applies_to_content_types&&F.applies_to_content_types.includes("Articles")).sort((F,U)=>(F.display_order||0)-(U.display_order||0)),staleTime:0,refetchOnMount:!0}),{data:x=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await ee.entities.ArticleView.list(),staleTime:30*1e3}),{data:y=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await ee.entities.ArticleReaction.list(),staleTime:30*1e3}),{data:v="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const D=(await ee.entities.SystemSettings.list()).find(F=>F.setting_key==="article_display_name");return(D==null?void 0:D.setting_value)||"Articles"},staleTime:300*1e3,refetchOnWindowFocus:!1}),j=b.useMemo(()=>{const T={};return u.forEach(D=>{T[D.id]={viewCount:x.filter(F=>F.article_id===D.id).length,likeCount:y.filter(F=>F.article_id===D.id&&F.reaction_type==="up").length}}),T},[u,x,y]),w=b.useMemo(()=>u.filter(T=>{var U,z,H;const D=((U=T.title)==null?void 0:U.toLowerCase().includes(t.toLowerCase()))||((z=T.summary)==null?void 0:z.toLowerCase().includes(t.toLowerCase()))||((H=T.tags)==null?void 0:H.some(B=>B.toLowerCase().includes(t.toLowerCase()))),F=n.length===0||T.subcategories&&T.subcategories.some(B=>n.includes(B));return D&&F}),[u,t,n]),N=b.useMemo(()=>{const T=[...w];switch(l){case"newest":T.sort((D,F)=>new Date(F.published_date||F.created_date)-new Date(D.published_date||D.created_date));break;case"oldest":T.sort((D,F)=>new Date(D.published_date||D.created_date)-new Date(F.published_date||F.created_date));break;case"title-asc":T.sort((D,F)=>D.title.localeCompare(F.title));break;case"title-desc":T.sort((D,F)=>F.title.localeCompare(D.title));break;case"most-viewed":T.sort((D,F)=>{var U,z;return(((U=j[F.id])==null?void 0:U.viewCount)||0)-(((z=j[D.id])==null?void 0:z.viewCount)||0)});break;case"most-liked":T.sort((D,F)=>{var U,z;return(((U=j[F.id])==null?void 0:U.likeCount)||0)-(((z=j[D.id])==null?void 0:z.likeCount)||0)});break}return T},[w,l,j]),_=Math.ceil(N.length/c),P=(a-1)*c,A=P+c,E=N.slice(P,A),C=()=>{const T=[];if(_<=5)for(let F=1;F<=_;F++)T.push(F);else if(a<=3){for(let F=1;F<=4;F++)T.push(F);_>5&&T.push("..."),T.push(_)}else if(a>=_-2){T.push(1),_>5&&T.push("...");for(let F=_-3;F<=_;F++)T.push(F)}else{T.push(1),T.push("...");for(let F=a-1;F<=a+1;F++)T.push(F);T.push("..."),T.push(_)}return T};Be.useEffect(()=>{i(1)},[n,t,l,c]);const R=T=>{r(D=>D.includes(T)?D.filter(F=>F!==T):[...D,T])},O=T=>{i(T),window.scrollTo({top:0,behavior:"smooth"})},k=m||p;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:v}),e.jsxs("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:["Explore ",v.toLowerCase()," from the careers education community"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(Wd,{categories:h,selectedSubcategories:n,onSubcategoryToggle:R,searchQuery:t,onSearchChange:s,onClearSearch:()=>s(""),isLoading:!1,displayName:v})})}),e.jsx("div",{className:"flex-1",children:k?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((T,D)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},D))}):N.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",v.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:t||n.length>0?"Try adjusting your search or filters":"Check back later for new content"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",P+1,"-",Math.min(A,N.length)," of ",N.length," ",v.toLowerCase()]}),e.jsxs(Ge,{value:l,onValueChange:o,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:E.map(T=>e.jsx(Hd,{article:T,displayName:v},T.id))}),N.length>0&&e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Items per page:"}),e.jsxs(Ge,{value:c.toString(),onValueChange:T=>{d(Number(T)),i(1)},children:[e.jsx(Ve,{className:"w-20",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Page ",a," of ",_]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>O(a-1),disabled:a===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),C().map((T,D)=>e.jsx(Be.Fragment,{children:T==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."}):e.jsx(X,{variant:a===T?"default":"outline",size:"sm",onClick:()=>O(T),className:a===T?"bg-blue-600 hover:bg-blue-700":"",children:T})},D)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>O(a+1),disabled:a===_,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})})})]})})]})]})})}function rz({isAdmin:t,memberInfo:s}){const[n,r]=b.useState(null),{data:a=[],isLoading:i,refetch:l}=me({queryKey:["members-without-handles"],queryFn:async()=>(await ee.entities.Member.list()).filter(u=>!u.handle)}),o=Ie({mutationFn:async()=>await ee.functions.invoke("generateMemberHandles",{generate_all:!0,member_email:s==null?void 0:s.email}),onSuccess:d=>{r(d.data),l();const{successful:u,failed:m}=d.data.summary;u>0&&te.success(`Successfully generated ${u} handle(s)`),m>0&&te.error(`Failed to generate ${m} handle(s)`)},onError:d=>{console.error("Generation error:",d),te.error("Failed to generate handles: "+d.message)}}),c=()=>{if(!(s!=null&&s.email)){te.error("Member information not available");return}window.confirm(`This will generate handles for ${a.length} member(s). Continue?`)&&o.mutate()};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ep,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Handle Management"})]}),e.jsx("p",{className:"text-slate-600",children:"Generate unique handles for members who don't have one yet"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"Handle Generation Status"]})}),e.jsx(ce,{children:i?e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),"Loading members..."]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:a.length}),e.jsxs("p",{className:"text-sm text-slate-600",children:["Member",a.length!==1?"s":""," without handle"]})]}),e.jsx(X,{onClick:c,disabled:a.length===0||o.isPending||!(s!=null&&s.email),className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx($h,{className:"w-4 h-4 mr-2"}),"Generate All Handles"]})})]}),a.length===0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-green-700",children:"All members have handles assigned!"})]})]})})]}),a.length>0&&e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsxs(Fe,{children:[e.jsx(ze,{className:"text-lg",children:"Members Needing Handles"}),e.jsx(As,{children:"The following members will have handles generated automatically"})]}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900",children:[d.first_name," ",d.last_name]}),e.jsx("p",{className:"text-sm text-slate-600",children:d.email})]}),e.jsx(ye,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"No Handle"})]},d.id))})})]}),n&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{className:"text-lg",children:"Generation Results"}),e.jsx(As,{children:"Summary of the last handle generation run"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-2xl font-bold text-green-700",children:n.summary.successful}),e.jsx("p",{className:"text-sm text-green-600",children:"Successful"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-2xl font-bold text-red-700",children:n.summary.failed}),e.jsx("p",{className:"text-sm text-red-600",children:"Failed"})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-700",children:n.summary.skipped}),e.jsx("p",{className:"text-sm text-slate-600",children:"Skipped"})]})]}),n.results.success.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(ar,{className:"w-5 h-5 text-green-600"}),"Successfully Generated (",n.results.success.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.success.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:d.name}),e.jsx("p",{className:"text-sm text-slate-600",children:d.email})]}),e.jsxs(ye,{className:"bg-green-100 text-green-700 border-green-300",children:["@",d.handle]})]},d.member_id))})]}),n.results.failed.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-red-600"}),"Failed (",n.results.failed.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.failed.map(d=>e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"font-medium text-slate-900",children:d.email}),e.jsx("p",{className:"text-sm text-red-600",children:d.error})]},d.member_id))})]}),n.results.skipped.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-slate-900 mb-3 flex items-center gap-2",children:["Skipped (",n.results.skipped.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.results.skipped.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:d.email}),e.jsx("p",{className:"text-sm text-slate-600",children:d.reason})]}),e.jsxs(ye,{variant:"outline",children:["@",d.existing_handle]})]},d.member_id))})]})]})]}),e.jsx(le,{className:"border-blue-200 bg-blue-50 shadow-sm mt-6",children:e.jsx(ce,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(js,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold",children:"How Handle Generation Works:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:'Handles are generated from first and last names (e.g., "john-doe")'}),e.jsx("li",{children:'If a handle already exists, a number is appended (e.g., "john-doe-1")'}),e.jsx("li",{children:"Handles must be 3-30 characters, lowercase, and URL-friendly"}),e.jsx("li",{children:"Once set, handles cannot be changed by the member"}),e.jsx("li",{children:"Members who already have handles will be skipped"})]})]})]})})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-red-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(js,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"This page is only accessible to administrators."})]})})})})}const L_={ArrowUpRight:Ur,Download:lr,ExternalLink:tn,PlayCircle:$h,Eye:kr,FileText:ls,Mail:Rs,Plus:Tt};function az({isAdmin:t}){const s=b.useMemo(()=>new URLSearchParams(window.location.search),[]),n=s.get("mode"),r=s.get("id"),a=Jt(),[i,l]=b.useState(0),[o]=b.useState(n==="create"||n==="edit"),[c,d]=b.useState(null),[u,m]=b.useState(null),[h,p]=b.useState(null),[x,y]=b.useState("ArrowUpRight"),[v,j]=b.useState(""),[w,N]=b.useState(""),[_,P]=b.useState(""),{data:A}=me({queryKey:["buttonStyle",r],queryFn:async()=>(await ee.entities.ButtonStyle.list()).find(F=>F.id===r),enabled:!!r&&n==="edit",staleTime:300*1e3,refetchOnWindowFocus:!1});b.useEffect(()=>{A&&(d(A.card_type),m(A.resource_type||null),p(A.button_type),y(A.icon_name||"ArrowUpRight"),j(A.button_text||""),N(A.name||""),P(A.description||""))},[A]);const E=Ie({mutationFn:async()=>{if(!w.trim())throw new Error("Please enter a style name");if(!c)throw new Error("Please select a card type");if(c==="resource"&&!u)throw new Error("Please select a resource type");if(!h)throw new Error("Please select a button style");const D={name:w,card_type:c,resource_type:c==="resource"?u:void 0,button_type:h,button_text:v||C(c,u),icon_name:h==="rectangular_agcas"?x:"none",description:_,is_active:!0};return r&&n==="edit"?await ee.entities.ButtonStyle.update(r,D):await ee.entities.ButtonStyle.create(D)},onSuccess:()=>{a.invalidateQueries({queryKey:["buttonStyles"]}),te.success(r?"Button style updated successfully!":"Button style created successfully!"),window.location.href=Te("ButtonStyleManagement")},onError:D=>{te.error(D.message||"Failed to save button style")}}),C=(D,F,U)=>{if(D==="article")return"Read Article";if(D==="resource"){if(F==="download")return"Download";if(F==="video")return"Watch Video";if(F==="external_link")return"Visit Site"}return"Click Here"},R=(D,F=null)=>{p(D),F&&y(F)},O=()=>{window.location.href=Te("ButtonStyleManagement")},k=()=>{l(D=>D+1),te.success("Button clicked!")},T=(D,F,U)=>{const z=F||C(c,u),H=L_[U];return D==="square_agcas"?e.jsx(Xa,{onClick:()=>{}}):D==="rectangular_agcas"?e.jsx($s,{onClick:()=>{},icon:U!=="none"?H:void 0,children:z}):e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[H&&U!=="none"&&e.jsx(H,{className:"w-4 h-4 mr-2"}),z]})};if(o&&t){const D=c&&(c==="article"||c==="resource"&&u);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(X,{variant:"ghost",onClick:O,className:"mb-4 gap-2",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to Button Styles"]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:r?"Edit Button Style":"Create Button Style"}),e.jsx("p",{className:"text-slate-600",children:"Select card type, then choose a button style to set as default"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs(le,{className:"border-slate-200 shadow-sm sticky top-8",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Style Configuration"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"style-name",children:"Style Name *"}),e.jsx(he,{id:"style-name",placeholder:"e.g., Download Button Style",value:w,onChange:F=>N(F.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"card-type",children:"Card Type *"}),e.jsxs(Ge,{value:c||"",onValueChange:d,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select card type"})}),e.jsxs(We,{children:[e.jsx(re,{value:"article",children:"Article Cards"}),e.jsx(re,{value:"resource",children:"Resource Cards"})]})]})]}),c==="resource"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"resource-type",children:"Resource Type *"}),e.jsxs(Ge,{value:u||"",onValueChange:m,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select resource type"})}),e.jsxs(We,{children:[e.jsx(re,{value:"download",children:"Download Resources"}),e.jsx(re,{value:"video",children:"Video Resources"}),e.jsx(re,{value:"external_link",children:"External Link Resources"})]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"This style will apply to all resource cards of this type"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"custom-text",children:"Button Text (Optional)"}),e.jsx(he,{id:"custom-text",placeholder:`Default: ${C(c,u)}`,value:v,onChange:F=>j(F.target.value)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default text"})]}),h==="rectangular_agcas"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"icon",children:"Icon"}),e.jsxs(Ge,{value:x,onValueChange:y,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"ArrowUpRight",children:"Arrow Up Right"}),e.jsx(re,{value:"Download",children:"Download"}),e.jsx(re,{value:"ExternalLink",children:"External Link"}),e.jsx(re,{value:"PlayCircle",children:"Play Circle"}),e.jsx(re,{value:"Eye",children:"Eye"}),e.jsx(re,{value:"FileText",children:"File Text"}),e.jsx(re,{value:"Mail",children:"Mail"}),e.jsx(re,{value:"Plus",children:"Plus"}),e.jsx(re,{value:"none",children:"No Icon"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Qt,{id:"description",placeholder:"Describe this button style...",value:_,onChange:F=>P(F.target.value),rows:3})]}),D&&h&&e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx(Z,{className:"text-sm mb-3 block",children:"Preview:"}),T(h,v,x)]}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs(X,{onClick:()=>E.mutate(),disabled:E.isPending||!D||!h||!w,className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),r?"Update Style":"Create Style"]}),e.jsx(X,{variant:"outline",onClick:O,className:"w-full",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:D?e.jsxs(e.Fragment,{children:[e.jsxs(le,{className:`border-2 ${h==="rectangular_agcas"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm transition-all`,children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ze,{children:"AGCAS Rectangular Button"}),e.jsx(As,{children:"Transparent background with 2px border and gradient hover - Click any button below to select it"})]}),h==="rectangular_agcas"&&e.jsx(ye,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[Object.entries(L_).map(([F,U])=>e.jsx($s,{onClick:z=>{z.stopPropagation(),R("rectangular_agcas",F)},icon:U,children:v||C(c,u)},F)),e.jsx($s,{onClick:F=>{F.stopPropagation(),R("rectangular_agcas","none")},children:v||C(c,u)})]})})]}),e.jsxs(le,{className:`border-2 ${h==="square_agcas"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm cursor-pointer transition-all hover:border-blue-300`,onClick:()=>R("square_agcas"),children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ze,{children:"AGCAS Square Button"}),e.jsx(As,{children:"Square button with arrow up icon - Click to select"})]}),h==="square_agcas"&&e.jsx(ye,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Xa,{onClick:F=>{F.stopPropagation(),R("square_agcas")}}),e.jsx(Xa,{onClick:F=>{F.stopPropagation(),R("square_agcas")},className:"w-20 h-20"})]})})]}),e.jsxs(le,{className:`border-2 ${h==="standard"?"border-blue-500 bg-blue-50":"border-slate-200"} shadow-sm transition-all`,children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ze,{children:"Standard Button"}),e.jsx(As,{children:"Standard shadcn/ui button with solid background - Click any button below to select it"})]}),h==="standard"&&e.jsx(ye,{className:"bg-blue-600",children:"Selected"})]})}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[Object.entries(L_).map(([F,U])=>e.jsxs(X,{onClick:z=>{z.stopPropagation(),R("standard",F)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),v||C(c,u)]},F)),e.jsx(X,{onClick:F=>{F.stopPropagation(),R("standard","none")},className:"bg-blue-600 hover:bg-blue-700",children:v||C(c,u)})]})})]})]}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:c?"Select a Resource Type":"Select a Card Type"}),e.jsx("p",{className:"text-slate-600",children:c?"Choose resource type from the sidebar to continue":"Choose card type from the sidebar to continue"})]})})})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"AGCAS Button Elements"}),e.jsx("p",{className:"text-slate-600",children:"Reusable button components with consistent styling across the portal"})]}),e.jsxs("div",{className:"grid gap-8",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Basic AGCAS Button"}),e.jsx(As,{children:"Rectangular button with 2px black border, transparent background, and gradient hover effect"})]}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Default Button:"}),e.jsx($s,{onClick:k,children:"Click Me"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"With Icon (Arrow Up Right):"}),e.jsx($s,{onClick:k,icon:Ur,children:"Join Us"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Disabled State:"}),e.jsx($s,{disabled:!0,children:"Disabled Button"})]}),e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsxs("p",{className:"text-sm text-slate-500 italic",children:["Click count: ",i]})})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"AGCAS Square Button"}),e.jsx(As,{children:"Square button with arrow up icon filling 80% of the space, same styling as rectangular button"})]}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Default Square Button:"}),e.jsx(Xa,{onClick:k})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Disabled State:"}),e.jsx(Xa,{disabled:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Custom Sizes:"}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx(Xa,{onClick:k,className:"w-12 h-12"}),e.jsx(Xa,{onClick:k}),e.jsx(Xa,{onClick:k,className:"w-20 h-20"}),e.jsx(Xa,{onClick:k,className:"w-24 h-24"})]})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Button Variations with Icons"}),e.jsx(As,{children:"Different use cases with various Lucide icons"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx($s,{onClick:k,icon:lr,children:"Download"}),e.jsx($s,{onClick:k,icon:tn,children:"Visit Site"}),e.jsx($s,{onClick:k,icon:Rs,children:"Contact"}),e.jsx($s,{onClick:k,icon:Tt,children:"Add New"}),e.jsx($s,{onClick:k,icon:gn,children:"Save Changes"}),e.jsx($s,{onClick:k,icon:Di,children:"Edit"}),e.jsx($s,{onClick:k,icon:hs,children:"Delete"}),e.jsx($s,{onClick:k,icon:kr,children:"Preview"}),e.jsx($s,{onClick:k,icon:Tp,children:"Confirm"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Text-Only Buttons"}),e.jsx(As,{children:"Buttons without icons for simple actions"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx($s,{onClick:k,children:"Submit"}),e.jsx($s,{onClick:k,children:"Cancel"}),e.jsx($s,{onClick:k,children:"Learn More"}),e.jsx($s,{onClick:k,children:"Get Started"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Size Variations"}),e.jsx(As,{children:"Custom sizing using className prop"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsx($s,{onClick:k,className:"px-3 py-1.5 text-xs",children:"Small Button"}),e.jsx($s,{onClick:k,children:"Default Button"}),e.jsx($s,{onClick:k,className:"px-8 py-4 text-base",children:"Large Button"}),e.jsx($s,{onClick:k,className:"px-12 py-5 text-lg",children:"Extra Large"})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Full Width Buttons"}),e.jsx(As,{children:"Buttons that span the full width of their container"})]}),e.jsxs(ce,{className:"space-y-3",children:[e.jsx($s,{onClick:k,className:"w-full",icon:Ur,children:"Full Width Button"}),e.jsx($s,{onClick:k,className:"w-full",icon:lr,children:"Download Resource"}),e.jsx($s,{onClick:k,className:"w-full",children:"Continue"})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Usage Example"}),e.jsx(As,{children:"How to import and use the AGCAS Button components"})]}),e.jsx(ce,{children:e.jsx("div",{className:"bg-slate-900 text-slate-100 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-sm",children:`import AGCASButton from "@/components/ui/AGCASButton";
import AGCASSquareButton from "@/components/ui/AGCASSquareButton";
import { ArrowUpRight } from "lucide-react";

// Basic rectangular button
<AGCASButton onClick={handleClick}>
  Click Me
</AGCASButton>

// Rectangular button with icon
<AGCASButton onClick={handleClick} icon={ArrowUpRight}>
  Join Us
</AGCASButton>

// Square button with arrow up icon
<AGCASSquareButton onClick={handleClick} />

// Square button with custom size
<AGCASSquareButton 
  onClick={handleClick} 
  className="w-20 h-20"
/>

// With custom styling
<AGCASButton 
  onClick={handleClick} 
  className="w-full px-8 py-4"
  icon={Download}
>
  Download Now
</AGCASButton>

// Disabled state
<AGCASButton disabled>
  Disabled Button
</AGCASButton>`})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Comparison"}),e.jsx(As,{children:"AGCAS Button vs Standard shadcn/ui Button"})]}),e.jsx(ce,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"AGCAS Button:"}),e.jsx($s,{onClick:k,icon:Ur,children:"AGCAS Style"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 ml-4",children:[e.jsx("li",{children:" 2px black border"}),e.jsx("li",{children:" Transparent background"}),e.jsx("li",{children:" Gradient hover effect"}),e.jsx("li",{children:" No border radius"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Standard Button:"}),e.jsxs(X,{onClick:k,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ur,{className:"w-4 h-4 mr-2"}),"Standard Style"]}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-1 ml-4",children:[e.jsx("li",{children:" Solid background"}),e.jsx("li",{children:" Rounded corners"}),e.jsx("li",{children:" Simple hover effect"})]})]})]})})]})]})]})})}const pke={ArrowUpRight:Ur,Download:lr,ExternalLink:tn,PlayCircle:$h,Eye:kr,FileText:ls,Mail:Rs,Plus:Tt};function iz({isAdmin:t,isFeatureExcluded:s}){const n=Jt(),{data:r=[],isLoading:a}=me({queryKey:["buttonStyles"],queryFn:()=>ee.entities.ButtonStyle.list("-created_date")}),i=Ie({mutationFn:y=>ee.entities.ButtonStyle.delete(y),onSuccess:()=>{n.invalidateQueries({queryKey:["buttonStyles"]}),te.success("Button style deleted successfully")},onError:y=>{te.error("Failed to delete button style: "+y.message)}});if(!t||s("page_ButtonStyleManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const l=()=>{window.location.href=Te("ButtonElements")+"?mode=create"},o=y=>{window.location.href=Te("ButtonElements")+`?mode=edit&id=${y.id}`},c=y=>{window.confirm("Are you sure you want to delete this button style? This action cannot be undone.")&&i.mutate(y)},d=y=>{const v=pke[y.icon_name];return y.button_type==="square_agcas"?e.jsx(Xa,{onClick:()=>{}}):y.button_type==="rectangular_agcas"?e.jsx($s,{onClick:()=>{},icon:y.icon_name!=="none"?v:void 0,children:y.button_text||"Sample Text"}):e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[v&&y.icon_name!=="none"&&e.jsx(v,{className:"w-4 h-4 mr-2"}),y.button_text||"Sample Text"]})},u=r.filter(y=>y.card_type==="article"),m=r.filter(y=>y.card_type==="resource"&&y.resource_type==="download"),h=r.filter(y=>y.card_type==="resource"&&y.resource_type==="video"),p=r.filter(y=>y.card_type==="resource"&&y.resource_type==="external_link"),x=(y,v,j)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:y}),v.length===0&&e.jsxs(X,{onClick:l,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add Style"]})]}),v.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm border-dashed",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-slate-600",children:j})})}):e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.map(w=>e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-lg mb-1",children:w.name}),w.description&&e.jsx("p",{className:"text-sm text-slate-600",children:w.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>o(w),children:e.jsx(Di,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"icon",onClick:()=>c(w.id),className:"text-red-600 hover:text-red-700",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Preview"}),e.jsx("div",{className:"flex items-center gap-3",children:d(w)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Type"}),e.jsx("div",{className:"text-sm font-medium capitalize",children:w.button_type.replace(/_/g," ")})]}),w.button_type==="rectangular_agcas"&&w.icon_name!=="none"&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Icon"}),e.jsx("div",{className:"text-sm font-medium",children:w.icon_name})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:w.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Tp,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Active"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Inactive"})]})})]})]})]})]},w.id))})]});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Button Style Management"}),e.jsx("p",{className:"text-slate-600",children:"Define default button styles for different card types"})]}),e.jsxs(X,{onClick:l,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Create Button Style"]})]}),a?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(4).fill(0).map((y,v)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"})]}),e.jsx(ce,{children:e.jsx("div",{className:"h-10 bg-slate-200 rounded"})})]},v))}):r.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No button styles yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create button styles to define how buttons appear on Article and Resource cards"}),e.jsxs(X,{onClick:l,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Create First Style"]})]})}):e.jsxs("div",{className:"space-y-8",children:[x("Article Cards",u,"No button style defined for Article cards yet"),x("Download Resources",m,"No button style defined for Download resources yet"),x("Video Resources",h,"No button style defined for Video resources yet"),x("External Link Resources",p,"No button style defined for External Link resources yet")]})]})})}function lz({isAdmin:t,isFeatureExcluded:s}){const n=Jt(),[r,a]=b.useState(""),{data:i,isLoading:l}=me({queryKey:["borderRadiusSettings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(u=>u.setting_key==="global_border_radius"),onSuccess:c=>{a(c?c.setting_value:"8px")}}),o=Ie({mutationFn:async()=>i?await ee.entities.SystemSettings.update(i.id,{setting_value:r}):await ee.entities.SystemSettings.create({setting_key:"global_border_radius",setting_value:r,description:"Global border radius for cards, buttons, and inputs"}),onSuccess:()=>{n.invalidateQueries({queryKey:["borderRadiusSettings"]}),te.success("Border radius settings saved. Refresh the page to see changes.")},onError:c=>{te.error("Failed to save settings: "+c.message)}});return!t||s("page_BorderRadiusSettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Border Radius Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure the global border radius for cards, buttons, inputs, and other UI elements"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Global Border Radius"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"border-radius",children:"Border Radius Value"}),e.jsx(he,{id:"border-radius",value:r,onChange:c=>a(c.target.value),placeholder:"e.g., 0px, 4px, 8px, 12px, 0.5rem"}),e.jsx("p",{className:"text-sm text-slate-500",children:'Enter a CSS border-radius value. Use "0px" or "0" for square corners, or values like "8px", "12px", "1rem" for rounded corners.'})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Z,{children:"Preview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-6 bg-white border border-slate-200 shadow-sm",style:{borderRadius:r},children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 mb-2",children:"Sample Card"}),e.jsx("p",{className:"text-sm text-slate-600",children:"This is how cards will look with the selected border radius."})]}),e.jsx(X,{variant:"outline",style:{borderRadius:r},onClick:()=>{},children:"Sample Button"}),e.jsx(he,{placeholder:"Sample Input",style:{borderRadius:r}})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(X,{onClick:()=>o.mutate(),disabled:o.isPending||l,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),o.isPending?"Saving...":"Save Settings"]}),e.jsx(X,{variant:"outline",onClick:()=>a("0px"),children:"Square (0px)"}),e.jsx(X,{variant:"outline",onClick:()=>a("8px"),children:"Default (8px)"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 p-4 mt-6",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Note:"})," After saving, you'll need to refresh the page for changes to take effect throughout the application."]})})]})]})]})})}function oz({isAdmin:t,isFeatureExcluded:s,memberInfo:n}){var Or,nu;const[r,a]=b.useState("online"),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(!1),[m,h]=b.useState(!1),[p,x]=b.useState(!1),[y,v]=b.useState(!1),[j,w]=b.useState(!1),[N,_]=b.useState(!1),[P,A]=b.useState(!1),[E,C]=b.useState(!1),[R,O]=b.useState(null),[k,T]=b.useState(null),[D,F]=b.useState(null),[U,z]=b.useState(null),[H,B]=b.useState(null),[$,I]=b.useState(null),[L,V]=b.useState(null),[q,J]=b.useState(null),[Q,Y]=b.useState(null),[K,ae]=b.useState(null),[se,de]=b.useState(!1),[ue,oe]=b.useState(""),[pe,je]=b.useState(""),[Ne,qe]=b.useState(""),[$e,Ee]=b.useState(""),[Se,Ye]=b.useState(""),[Qe,Me]=b.useState({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}),[lt,Ce]=b.useState({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0}),[it,_e]=b.useState({name:"",description:"",award_category:"online",display_order:"",is_active:!0}),[Ue,rt]=b.useState({name:"",threshold:"",display_order:"",image_url:"",is_active:!0}),ht=Jt(),{data:ct=[],isLoading:Rt}=me({queryKey:["awards"],queryFn:async()=>(await ee.entities.Award.list()).sort((Ut,Ze)=>Ut.award_type!==Ze.award_type?Ut.award_type.localeCompare(Ze.award_type):(Ut.level||0)-(Ze.level||0)),staleTime:30*1e3}),{data:rs=[],isLoading:Us}=me({queryKey:["offlineAwards"],queryFn:async()=>(await ee.entities.OfflineAward.list()).sort((Ut,Ze)=>(Ut.level||0)-(Ze.level||0)),staleTime:30*1e3}),{data:Es=[]}=me({queryKey:["members"],queryFn:async()=>await ee.entities.Member.list(),staleTime:60*1e3}),{data:mn=[]}=me({queryKey:["offlineAwardAssignments"],queryFn:async()=>await ee.entities.OfflineAwardAssignment.list(),staleTime:30*1e3}),{data:Zt=[],isLoading:yn}=me({queryKey:["awardClassifications"],queryFn:async()=>(await ee.entities.AwardClassification.list()).sort((Ut,Ze)=>(Ut.display_order||0)-(Ze.display_order||0)),staleTime:30*1e3}),{data:Fs=[],isLoading:Ar}=me({queryKey:["awardSublevels"],queryFn:async()=>(await ee.entities.AwardSublevel.list()).sort((Ut,Ze)=>(Ut.display_order||0)-(Ze.display_order||0)),staleTime:30*1e3}),er=Ie({mutationFn:async ge=>await ee.entities.Award.create(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awards"]}),te.success("Online award created successfully"),cr()},onError:ge=>{te.error("Failed to create online award")}}),He=Ie({mutationFn:async ge=>await ee.entities.OfflineAward.create(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award created successfully"),cr()},onError:ge=>{te.error("Failed to create offline award")}}),nt=Ie({mutationFn:async({id:ge,awardData:Ut})=>await ee.entities.Award.update(ge,Ut),onSuccess:()=>{ht.invalidateQueries({queryKey:["awards"]}),te.success("Online award updated successfully"),cr()},onError:ge=>{te.error("Failed to update online award")}}),cs=Ie({mutationFn:async({id:ge,awardData:Ut})=>await ee.entities.OfflineAward.update(ge,Ut),onSuccess:()=>{ht.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award updated successfully"),cr()},onError:ge=>{te.error("Failed to update offline award")}}),we=Ie({mutationFn:async ge=>await ee.entities.Award.delete(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awards"]}),te.success("Online award deleted successfully"),w(!1),V(null)},onError:ge=>{te.error("Failed to delete online award")}}),ot=Ie({mutationFn:async ge=>await ee.entities.OfflineAward.delete(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["offlineAwards"]}),te.success("Offline award deleted successfully"),w(!1),V(null)},onError:ge=>{te.error("Failed to delete offline award")}}),Pe=Ie({mutationFn:async ge=>{if(mn.find(Ze=>Ze.member_id===ge.member_id&&Ze.offline_award_id===ge.offline_award_id&&(Ze.sublevel_id||null)===(ge.sublevel_id||null))){const Ze=Fs.find(Ft=>Ft.id===ge.sublevel_id),Ks=Ze?` (${Ze.name})`:"";throw new Error(`This member already has this award${Ks} assigned`)}return await ee.entities.OfflineAwardAssignment.create(ge)},onSuccess:()=>{ht.invalidateQueries({queryKey:["offlineAwardAssignments"]}),te.success("Award assigned successfully"),xt()},onError:ge=>{te.error(ge.message||"Failed to assign award")}}),tt=Ie({mutationFn:async ge=>await ee.entities.OfflineAwardAssignment.delete(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["offlineAwardAssignments"]}),te.success("Award removed from member"),C(!1),ae(null)},onError:ge=>{te.error("Failed to remove award")}}),vt=Ie({mutationFn:async ge=>await ee.entities.AwardClassification.create(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification created successfully"),c(!1),T(null)},onError:ge=>{te.error("Failed to create classification")}}),ns=Ie({mutationFn:async({id:ge,data:Ut})=>await ee.entities.AwardClassification.update(ge,Ut),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification updated successfully"),c(!1),T(null)},onError:ge=>{te.error("Failed to update classification")}}),ms=Ie({mutationFn:async ge=>await ee.entities.AwardClassification.delete(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardClassifications"]}),te.success("Classification deleted successfully"),_(!1),J(null)},onError:ge=>{te.error("Failed to delete classification")}}),en=Ie({mutationFn:async ge=>await ee.entities.AwardSublevel.create(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel created successfully"),h(!1),F(null)},onError:ge=>{te.error("Failed to create sublevel")}}),gs=Ie({mutationFn:async({id:ge,data:Ut})=>await ee.entities.AwardSublevel.update(ge,Ut),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel updated successfully"),h(!1),F(null)},onError:ge=>{te.error("Failed to update sublevel")}}),Gr=Ie({mutationFn:async ge=>await ee.entities.AwardSublevel.delete(ge),onSuccess:()=>{ht.invalidateQueries({queryKey:["awardSublevels"]}),te.success("Sublevel deleted successfully"),A(!1),Y(null)},onError:ge=>{te.error("Failed to delete sublevel")}});if(!t||s("page_AwardManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const Nn=(ge=null,Ut="online")=>{ge?(O({...ge,type:Ut}),Ut==="online"?Me({name:ge.name||"",description:ge.description||"",classification_id:ge.classification_id||"",award_type:ge.award_type||"events_attended",threshold:ge.threshold||"",level:ge.level||"",image_url:ge.image_url||"",is_active:ge.is_active??!0}):Ce({name:ge.name||"",description:ge.description||"",classification_id:ge.classification_id||"",period_text:ge.period_text||"",level:ge.level||"",image_url:ge.image_url||"",is_active:ge.is_active??!0})):(O(null),Ut==="online"?Me({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}):Ce({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0})),l(!0)},cr=()=>{l(!1),O(null),Me({name:"",description:"",classification_id:"",award_type:"events_attended",threshold:"",level:"",image_url:"",is_active:!0}),Ce({name:"",description:"",classification_id:"",period_text:"",level:"",image_url:"",is_active:!0})},Yr=(ge=null)=>{ge?(T(ge),_e({name:ge.name||"",description:ge.description||"",award_category:ge.award_category||"online",display_order:ge.display_order||"",is_active:ge.is_active??!0})):(T(null),_e({name:"",description:"",award_category:r,display_order:"",is_active:!0})),c(!0)},ja=ge=>{z(ge),u(!0)},ve=(ge=null)=>{ge?(F(ge),rt({name:ge.name||"",threshold:ge.threshold||"",display_order:ge.display_order||"",image_url:ge.image_url||"",is_active:ge.is_active??!0})):(F(null),rt({name:"",threshold:"",display_order:"",image_url:"",is_active:!0})),h(!0)},pt=ge=>{B(ge),oe(""),je(""),qe(""),Ee(""),x(!0)},xt=()=>{x(!1),B(null),oe(""),je(""),qe(""),Ee("")},Pt=ge=>{I(ge),Ye(""),v(!0)},Ts=()=>{v(!1),I(null),Ye("")},Qr=()=>{if(!ue){te.error("Please select a member");return}const ge={offline_award_id:H.id,member_id:ue,sublevel_id:pe||null,assigned_by:(n==null?void 0:n.email)||"",notes:Ne};Pe.mutate(ge)},Vi=()=>{K&&tt.mutate(K.id)},Rn=async(ge,Ut)=>{var Ks;const Ze=(Ks=ge.target.files)==null?void 0:Ks[0];if(Ze){if(!Ze.type.startsWith("image/")){te.error("Please select an image file");return}de(!0);try{const Ft=await ee.integrations.Core.UploadFile({file:Ze});Ut==="online"?Me(dr=>({...dr,image_url:Ft.file_url})):Ce(dr=>({...dr,image_url:Ft.file_url})),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{de(!1)}}},Xd=ge=>{if(ge==="online"){if(!Qe.name||!Qe.level){te.error("Please fill in all required fields");return}const Ut={name:Qe.name,description:Qe.description,classification_id:Qe.classification_id||null,award_type:Qe.award_type,threshold:Qe.threshold?Number(Qe.threshold):null,level:Number(Qe.level),image_url:Qe.image_url,is_active:Qe.is_active};R&&R.type==="online"?nt.mutate({id:R.id,awardData:Ut}):er.mutate(Ut)}else{if(!lt.name||!lt.level){te.error("Please fill in all required fields");return}const Ut={name:lt.name,description:lt.description,classification_id:lt.classification_id||null,period_text:lt.period_text,level:Number(lt.level),image_url:lt.image_url,is_active:lt.is_active};R&&R.type==="offline"?cs.mutate({id:R.id,awardData:Ut}):He.mutate(Ut)}},Zd=()=>{if(!it.name){te.error("Please fill in all required fields");return}const ge={name:it.name,description:it.description,award_category:it.award_category,display_order:it.display_order?Number(it.display_order):0,is_active:it.is_active};k?ns.mutate({id:k.id,data:ge}):vt.mutate(ge)},eu=()=>{if(!Ue.name){te.error("Please fill in all required fields");return}const ge={name:Ue.name,threshold:Ue.threshold?Number(Ue.threshold):null,display_order:Ue.display_order?Number(Ue.display_order):0,image_url:Ue.image_url,is_active:Ue.is_active};U.type==="online"?ge.award_id=U.id:ge.offline_award_id=U.id,D?gs.mutate({id:D.id,data:ge}):en.mutate(ge)},xm=()=>{L&&(L.type==="online"?we.mutate(L.id):ot.mutate(L.id))},Ec=ge=>{switch(ge){case"events_attended":return"Events Attended";case"articles_published":return"Articles Published";case"jobs_posted":return"Jobs Posted";default:return ge}},ln=ge=>mn.filter(Ut=>Ut.offline_award_id===ge).length,vm=ge=>mn.filter(Ze=>Ze.offline_award_id===ge).map(Ze=>{const Ks=Es.find(Ft=>Ft.id===Ze.member_id);return{...Ze,member:Ks}}).filter(Ze=>Ze.member),yo=Es.filter(ge=>{var Ze,Ks,Ft;if(!$e)return!0;const Ut=$e.toLowerCase();return((Ze=ge.first_name)==null?void 0:Ze.toLowerCase().includes(Ut))||((Ks=ge.last_name)==null?void 0:Ks.toLowerCase().includes(Ut))||((Ft=ge.email)==null?void 0:Ft.toLowerCase().includes(Ut))}),kl=vm($==null?void 0:$.id).filter(ge=>{var Ze,Ks,Ft;if(!Se)return!0;const Ut=Se.toLowerCase();return((Ze=ge.member.first_name)==null?void 0:Ze.toLowerCase().includes(Ut))||((Ks=ge.member.last_name)==null?void 0:Ks.toLowerCase().includes(Ut))||((Ft=ge.member.email)==null?void 0:Ft.toLowerCase().includes(Ut))}),Jr=(ge,Ut=!1)=>Ut?Fs.filter(Ze=>Ze.offline_award_id===ge):Fs.filter(Ze=>Ze.award_id===ge),tu=()=>{const ge=Zt.filter(Ze=>Ze.award_category==="online"&&Ze.is_active),Ut=ct.filter(Ze=>!Ze.classification_id);return e.jsxs("div",{className:"space-y-8",children:[ge.map(Ze=>{const Ks=ct.filter(Ft=>Ft.classification_id===Ze.id);return Ks.length===0?null:e.jsxs("div",{className:"border-2 border-slate-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:Ze.name}),Ze.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:Ze.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Yr(Ze),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{J(Ze),_(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ks.map(Ft=>{const dr=Jr(Ft.id,!1);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base",children:Ft.name}),Ft.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Ft.description})]}),Ft.image_url&&e.jsx("img",{src:Ft.image_url,alt:Ft.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Type:"}),e.jsx(ye,{variant:"secondary",children:Ec(Ft.award_type)})]}),Ft.threshold&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Base Threshold:"}),e.jsx(ye,{variant:"secondary",children:Ft.threshold})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ja({...Ft,type:"online"}),className:"h-6 px-2",children:e.jsx(ye,{variant:"secondary",children:dr.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ye,{variant:Ft.is_active?"default":"secondary",children:Ft.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Nn(Ft,"online"),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{V({...Ft,type:"online"}),w(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},Ft.id)})})]},Ze.id)}),Ut.length>0&&e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Unclassified Awards"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ut.map(Ze=>{const Ks=Jr(Ze.id,!1);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base",children:Ze.name}),Ze.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Ze.description})]}),Ze.image_url&&e.jsx("img",{src:Ze.image_url,alt:Ze.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Type:"}),e.jsx(ye,{variant:"secondary",children:Ec(Ze.award_type)})]}),Ze.threshold&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Base Threshold:"}),e.jsx(ye,{variant:"secondary",children:Ze.threshold})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ja({...Ze,type:"online"}),className:"h-6 px-2",children:e.jsx(ye,{variant:"secondary",children:Ks.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ye,{variant:Ze.is_active?"default":"secondary",children:Ze.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Nn(Ze,"online"),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{V({...Ze,type:"online"}),w(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},Ze.id)})})]})]})},su=()=>{const ge=Zt.filter(Ze=>Ze.award_category==="offline"&&Ze.is_active),Ut=rs.filter(Ze=>!Ze.classification_id);return e.jsxs("div",{className:"space-y-8",children:[ge.map(Ze=>{const Ks=rs.filter(Ft=>Ft.classification_id===Ze.id);return Ks.length===0?null:e.jsxs("div",{className:"border-2 border-slate-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:Ze.name}),Ze.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:Ze.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Yr(Ze),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{J(Ze),_(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ks.map(Ft=>{const dr=Jr(Ft.id,!0);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base",children:Ft.name}),Ft.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Ft.description})]}),Ft.image_url&&e.jsx("img",{src:Ft.image_url,alt:Ft.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[Ft.period_text&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Period:"}),e.jsx(ye,{variant:"secondary",children:Ft.period_text})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ja({...Ft,type:"offline"}),className:"h-6 px-2",children:e.jsx(ye,{variant:"secondary",children:dr.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Assigned:"}),e.jsx("button",{onClick:()=>Pt(Ft),className:"hover:opacity-80 transition-opacity",children:e.jsxs(ye,{variant:"secondary",className:"cursor-pointer",children:[e.jsx(Cs,{className:"w-3 h-3 mr-1"}),ln(Ft.id)]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ye,{variant:Ft.is_active?"default":"secondary",children:Ft.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>pt(Ft),children:[e.jsx(kd,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Nn(Ft,"offline"),children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{V({...Ft,type:"offline"}),w(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},Ft.id)})})]},Ze.id)}),Ut.length>0&&e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Unclassified Awards"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ut.map(Ze=>{const Ks=Jr(Ze.id,!0);return e.jsxs(le,{className:"border-slate-200 hover:shadow-md transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base",children:Ze.name}),Ze.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:Ze.description})]}),Ze.image_url&&e.jsx("img",{src:Ze.image_url,alt:Ze.name,className:"w-12 h-12 object-contain ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[Ze.period_text&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Period:"}),e.jsx(ye,{variant:"secondary",children:Ze.period_text})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Sublevels:"}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ja({...Ze,type:"offline"}),className:"h-6 px-2",children:e.jsx(ye,{variant:"secondary",children:Ks.length})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Assigned:"}),e.jsx("button",{onClick:()=>Pt(Ze),className:"hover:opacity-80 transition-opacity",children:e.jsxs(ye,{variant:"secondary",className:"cursor-pointer",children:[e.jsx(Cs,{className:"w-3 h-3 mr-1"}),ln(Ze.id)]})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(ye,{variant:Ze.is_active?"default":"secondary",children:Ze.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>pt(Ze),children:[e.jsx(kd,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Nn(Ze,"offline"),children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{V({...Ze,type:"offline"}),w(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},Ze.id)})})]})]})},El=Rt||Us;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Award Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage online and offline awards"})]})}),e.jsxs(Sy,{value:r,onValueChange:a,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(ng,{children:[e.jsx(_r,{value:"online",children:"Online Awards"}),e.jsx(_r,{value:"offline",children:"Offline Awards"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",onClick:()=>Yr(),className:"bg-white",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Classification"]}),e.jsxs(X,{onClick:()=>Nn(null,r),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add ",r==="online"?"Online":"Offline"," Award"]})]})]}),e.jsx(nc,{value:"online",children:El?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):ct.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Wn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No online awards yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first online award to get started"}),e.jsxs(X,{onClick:()=>Nn(null,"online"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Online Award"]})]})}):tu()}),e.jsx(nc,{value:"offline",children:El?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):rs.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Wn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No offline awards yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first offline award to get started"}),e.jsxs(X,{onClick:()=>Nn(null,"offline"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Offline Award"]})]})}):su()})]}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:[R?"Edit":"Create"," ",(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?"Offline":"Online"," Award"]}),e.jsx(Pa,{children:(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?"Create manually assigned awards for specific periods or achievements":"Awards are automatically earned when members reach the specified threshold"})]}),(R==null?void 0:R.type)==="offline"||!R&&r==="offline"?e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Award Name *"}),e.jsx(he,{id:"name",value:lt.name,onChange:ge=>Ce({...lt,name:ge.target.value}),placeholder:"e.g., Outstanding Contribution Award"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:lt.description,onChange:ge=>Ce({...lt,description:ge.target.value}),placeholder:"What does this award represent?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"classification",children:"Classification"}),e.jsxs(Ge,{value:lt.classification_id,onValueChange:ge=>Ce({...lt,classification_id:ge}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select classification (optional)"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"No Classification"}),Zt.filter(ge=>ge.award_category==="offline").map(ge=>e.jsx(re,{value:ge.id,children:ge.name},ge.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"period_text",children:"Period / Achievement *"}),e.jsx(he,{id:"period_text",value:lt.period_text,onChange:ge=>Ce({...lt,period_text:ge.target.value}),placeholder:"e.g., 1st quarter, 2026, Summer 25"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Free text for the period or achievement"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"level",children:"Level *"}),e.jsx(he,{id:"level",type:"number",value:lt.level,onChange:ge=>Ce({...lt,level:ge.target.value}),placeholder:"e.g., 1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for ordering awards (1 = first, 2 = second, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"image",children:"Award Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[lt.image_url&&e.jsx("img",{src:lt.image_url,alt:"Award",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload-offline",accept:"image/*",onChange:ge=>Rn(ge,"offline"),className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("image-upload-offline").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"is_active",children:"Active"}),e.jsx(fs,{id:"is_active",checked:lt.is_active,onCheckedChange:ge=>Ce({...lt,is_active:ge})})]})]}):e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Award Name *"}),e.jsx(he,{id:"name",value:Qe.name,onChange:ge=>Me({...Qe,name:ge.target.value}),placeholder:"e.g., Event Champion I"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:Qe.description,onChange:ge=>Me({...Qe,description:ge.target.value}),placeholder:"What does this award represent?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"classification",children:"Classification"}),e.jsxs(Ge,{value:Qe.classification_id,onValueChange:ge=>Me({...Qe,classification_id:ge}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select classification (optional)"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"No Classification"}),Zt.filter(ge=>ge.award_category==="online").map(ge=>e.jsx(re,{value:ge.id,children:ge.name},ge.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"award_type",children:"Award Type *"}),e.jsxs(Ge,{value:Qe.award_type,onValueChange:ge=>Me({...Qe,award_type:ge}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"events_attended",children:"Events Attended"}),e.jsx(re,{value:"articles_published",children:"Articles Published"}),e.jsx(re,{value:"jobs_posted",children:"Jobs Posted"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"threshold",children:"Base Threshold"}),e.jsx(he,{id:"threshold",type:"number",value:Qe.threshold,onChange:ge=>Me({...Qe,threshold:ge.target.value}),placeholder:"e.g., 5 (optional)"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use sublevel thresholds only"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"level",children:"Level *"}),e.jsx(he,{id:"level",type:"number",value:Qe.level,onChange:ge=>Me({...Qe,level:ge.target.value}),placeholder:"e.g., 1"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Used for ordering awards (1 = first, 2 = second, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"image",children:"Award Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[Qe.image_url&&e.jsx("img",{src:Qe.image_url,alt:"Award",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload-online",accept:"image/*",onChange:ge=>Rn(ge,"online"),className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("image-upload-online").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"is_active",children:"Active"}),e.jsx(fs,{id:"is_active",checked:Qe.is_active,onCheckedChange:ge=>Me({...Qe,is_active:ge})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:cr,children:"Cancel"}),e.jsxs(X,{onClick:()=>Xd((R==null?void 0:R.type)||r),className:"bg-blue-600 hover:bg-blue-700",children:[R?"Update":"Create"," Award"]})]})]})}),e.jsx(Ct,{open:p,onOpenChange:x,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:["Assign Award: ",H==null?void 0:H.name]}),e.jsx(Pa,{children:"Select a member to receive this award"})]}),e.jsxs("div",{className:"space-y-4 py-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"member-search",children:"Search Members"}),e.jsx(he,{id:"member-search",value:$e,onChange:ge=>Ee(ge.target.value),placeholder:"Search by name or email..."})]}),e.jsxs("div",{className:"space-y-2 flex-1 overflow-hidden flex flex-col",children:[e.jsx(Z,{children:"Select Member *"}),e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-y-auto flex-1",children:yo.length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No members found"}):e.jsx("div",{className:"divide-y divide-slate-200",children:yo.map(ge=>e.jsx("button",{onClick:()=>oe(ge.id),className:`w-full p-3 text-left hover:bg-slate-50 transition-colors ${ue===ge.id?"bg-blue-50 hover:bg-blue-100":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[ge.first_name," ",ge.last_name]}),e.jsx("div",{className:"text-sm text-slate-600",children:ge.email})]}),ue===ge.id&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},ge.id))})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"sublevel",children:"Award Level"}),e.jsxs(Ge,{value:pe,onValueChange:je,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select level (optional)"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"No specific level"}),Jr(H==null?void 0:H.id,!0).map(ge=>e.jsx(re,{value:ge.id,children:ge.name},ge.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx(Qt,{id:"notes",value:Ne,onChange:ge=>qe(ge.target.value),placeholder:"Add notes about this assignment...",rows:3})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:xt,children:"Cancel"}),e.jsx(X,{onClick:Qr,className:"bg-blue-600 hover:bg-blue-700",disabled:!ue,children:"Assign Award"})]})]})}),e.jsx(Ct,{open:y,onOpenChange:v,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:["Assigned Members: ",$==null?void 0:$.name]}),e.jsx(Pa,{children:"View and manage members who have received this award"})]}),e.jsxs("div",{className:"space-y-4 py-4 flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"assigned-search",children:"Search Assigned Members"}),e.jsx(he,{id:"assigned-search",value:Se,onChange:ge=>Ye(ge.target.value),placeholder:"Search by name or email..."})]}),e.jsxs("div",{className:"space-y-2 flex-1 overflow-hidden flex flex-col",children:[e.jsxs(Z,{children:["Assigned Members (",kl.length,")"]}),e.jsx("div",{className:"border border-slate-200 rounded-lg overflow-y-auto flex-1",children:kl.length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:Se?"No matching members found":"No members assigned to this award yet"}):e.jsx("div",{className:"divide-y divide-slate-200",children:kl.map(({id:ge,member:Ut,notes:Ze,created_date:Ks,assigned_by:Ft,sublevel_id:dr})=>{const Xr=dr?Fs.find(Wi=>Wi.id===dr):null;return e.jsx("div",{className:"p-3 hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[Ut.first_name," ",Ut.last_name]}),Xr&&e.jsxs(ye,{variant:"secondary",className:"flex items-center gap-1",children:[Xr.image_url&&e.jsx("img",{src:Xr.image_url,alt:Xr.name,className:"w-3 h-3"}),Xr.name]})]}),e.jsx("div",{className:"text-sm text-slate-600",children:Ut.email}),Ze&&e.jsxs("div",{className:"text-xs text-slate-500 mt-1 italic",children:["Note: ",Ze]}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Assigned ",new Date(Ks).toLocaleDateString(),Ft&&` by ${Ft}`]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{ae({id:ge,member:Ut}),C(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(qQ,{className:"w-4 h-4"})})]})},ge)})})})]})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:Ts,children:"Close"})})]})}),e.jsx(Yl,{open:E,onOpenChange:C,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Remove Award Assignment?"}),e.jsxs(dl,{children:["Are you sure you want to remove this award from"," ",e.jsxs("strong",{children:[(Or=K==null?void 0:K.member)==null?void 0:Or.first_name," ",(nu=K==null?void 0:K.member)==null?void 0:nu.last_name]}),"? This action cannot be undone."]})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:Vi,className:"bg-red-600 hover:bg-red-700",children:"Remove Award"})]})]})}),e.jsx(Yl,{open:j,onOpenChange:w,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Are you sure?"}),e.jsxs(dl,{children:['This will permanently delete the award "',L==null?void 0:L.name,'". This action cannot be undone.']})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:xm,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:[k?"Edit":"Create"," Classification"]}),e.jsx(Pa,{children:"Organize awards into categories like Writing Awards, Attendance Awards, etc."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"class-name",children:"Name *"}),e.jsx(he,{id:"class-name",value:it.name,onChange:ge=>_e({...it,name:ge.target.value}),placeholder:"e.g., Writing Awards"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"class-description",children:"Description"}),e.jsx(Qt,{id:"class-description",value:it.description,onChange:ge=>_e({...it,description:ge.target.value}),placeholder:"Describe this classification",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"class-category",children:"Category *"}),e.jsxs(Ge,{value:it.award_category,onValueChange:ge=>_e({...it,award_category:ge}),disabled:!!k,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"online",children:"Online Awards"}),e.jsx(re,{value:"offline",children:"Offline Awards"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"class-order",children:"Display Order"}),e.jsx(he,{id:"class-order",type:"number",value:it.display_order,onChange:ge=>_e({...it,display_order:ge.target.value}),placeholder:"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"class-active",children:"Active"}),e.jsx(fs,{id:"class-active",checked:it.is_active,onCheckedChange:ge=>_e({...it,is_active:ge})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{onClick:Zd,className:"bg-blue-600 hover:bg-blue-700",children:k?"Update":"Create"})]})]})}),e.jsx(Yl,{open:N,onOpenChange:_,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Delete Classification?"}),e.jsxs(dl,{children:['This will permanently delete "',q==null?void 0:q.name,'". Awards in this classification will become unclassified.']})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:()=>ms.mutate(q.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(Ct,{open:d,onOpenChange:u,children:e.jsxs(Nt,{className:"max-w-3xl max-h-[80vh] flex flex-col",children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:["Manage Sublevels: ",U==null?void 0:U.name]}),e.jsx(Pa,{children:"Add Bronze, Silver, Gold or custom sublevels for this award"})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>ve(null),size:"sm",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Sublevel"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-slate-200 rounded-lg",children:Jr(U==null?void 0:U.id,(U==null?void 0:U.type)==="offline").length===0?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"No sublevels yet. Add Bronze, Silver, Gold levels."}):e.jsx("div",{className:"divide-y divide-slate-200",children:Jr(U==null?void 0:U.id,(U==null?void 0:U.type)==="offline").map(ge=>e.jsx("div",{className:"p-4 hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[ge.image_url&&e.jsx("img",{src:ge.image_url,alt:ge.name,className:"w-10 h-10 object-contain"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:ge.name}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[ge.threshold&&e.jsxs(ye,{variant:"secondary",children:["Threshold: ",ge.threshold]}),e.jsxs(ye,{variant:"secondary",children:["Order: ",ge.display_order]}),e.jsx(ye,{variant:ge.is_active?"default":"secondary",children:ge.is_active?"Active":"Inactive"})]})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>ve(ge),children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{Y(ge),A(!0)},className:"text-red-600 hover:text-red-700",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})},ge.id))})})]}),e.jsx($t,{children:e.jsx(X,{variant:"outline",onClick:()=>{u(!1),z(null)},children:"Close"})})]})}),e.jsx(Ct,{open:m,onOpenChange:h,children:e.jsxs(Nt,{children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:[D?"Edit":"Add"," Sublevel"]}),e.jsx(Pa,{children:"Define a sublevel like Bronze, Silver, or Gold"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"sublevel-name",children:"Name *"}),e.jsx(he,{id:"sublevel-name",value:Ue.name,onChange:ge=>rt({...Ue,name:ge.target.value}),placeholder:"e.g., Bronze, Silver, Gold"})]}),(U==null?void 0:U.type)==="online"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"sublevel-threshold",children:"Threshold"}),e.jsx(he,{id:"sublevel-threshold",type:"number",value:Ue.threshold,onChange:ge=>rt({...Ue,threshold:ge.target.value}),placeholder:"e.g., 5"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Override the award's base threshold for this sublevel"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"sublevel-order",children:"Display Order *"}),e.jsx(he,{id:"sublevel-order",type:"number",value:Ue.display_order,onChange:ge=>rt({...Ue,display_order:ge.target.value}),placeholder:"0"}),e.jsx("p",{className:"text-xs text-slate-500",children:"0 = Bronze, 1 = Silver, 2 = Gold, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"sublevel-image",children:"Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[Ue.image_url&&e.jsx("img",{src:Ue.image_url,alt:"Sublevel",className:"w-16 h-16 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"sublevel-image-upload",accept:"image/*",onChange:ge=>{var Ze;const Ut=(Ze=ge.target.files)==null?void 0:Ze[0];Ut&&(de(!0),ee.integrations.Core.UploadFile({file:Ut}).then(Ks=>{rt(Ft=>({...Ft,image_url:Ks.file_url})),te.success("Image uploaded")}).catch(()=>{te.error("Failed to upload image")}).finally(()=>{de(!1)}))},className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:se,onClick:()=>document.getElementById("sublevel-image-upload").click(),children:se?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"sublevel-active",children:"Active"}),e.jsx(fs,{id:"sublevel-active",checked:Ue.is_active,onCheckedChange:ge=>rt({...Ue,is_active:ge})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{h(!1),F(null)},children:"Cancel"}),e.jsx(X,{onClick:eu,className:"bg-blue-600 hover:bg-blue-700",children:D?"Update":"Create"})]})]})}),e.jsx(Yl,{open:P,onOpenChange:A,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Delete Sublevel?"}),e.jsxs(dl,{children:['This will permanently delete the "',Q==null?void 0:Q.name,'" sublevel.']})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:()=>Gr.mutate(Q.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})})}const cz=t=>()=>{throw new Error(`Base44 function "${t}" is not implemented. Migrate this feature to Supabase/Vercel.`)},gke=cz("renameResourceSubcategory"),xke=cz("sendTeamMemberInvite");function dz({memberInfo:t,organizationInfo:s,isAdmin:n}){const[r,a]=b.useState(""),[i,l]=b.useState(!1),[o,c]=b.useState(1),[d]=b.useState(9),[u,m]=b.useState(null),[h,p]=b.useState(!1),[x,y]=b.useState(""),[v,j]=b.useState({first_name:"",last_name:"",job_title:"",email:"",profile_photo_url:"",linkedin_url:""}),w=Jt(),{data:N=[],isLoading:_}=me({queryKey:["team-members",t==null?void 0:t.organization_id],queryFn:async()=>t!=null&&t.organization_id?(await ee.entities.Member.list()).filter(ae=>ae.organization_id===t.organization_id):[],enabled:!!(t!=null&&t.organization_id),staleTime:60*1e3}),{data:P=[]}=me({queryKey:["all-articles"],queryFn:async()=>await ee.entities.BlogPost.list(),staleTime:60*1e3}),{data:A=[]}=me({queryKey:["roles"],queryFn:async()=>await ee.entities.Role.list(),staleTime:300*1e3}),{data:E=[]}=me({queryKey:["awards"],queryFn:async()=>(await ee.entities.Award.list()).filter(ae=>ae.is_active),staleTime:300*1e3}),{data:C=[]}=me({queryKey:["offline-assignments"],queryFn:async()=>await ee.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),{data:R=[]}=me({queryKey:["award-sublevels"],queryFn:async()=>await ee.entities.AwardSublevel.list(),staleTime:300*1e3}),{data:O=[]}=me({queryKey:["award-classifications"],queryFn:async()=>await ee.entities.AwardClassification.list(),staleTime:300*1e3}),{data:k=[]}=me({queryKey:["offline-awards"],queryFn:async()=>(await ee.entities.OfflineAward.list()).filter(ae=>ae.is_active),staleTime:300*1e3}),{data:T=[]}=me({queryKey:["all-bookings"],queryFn:async()=>await ee.entities.Booking.list(),staleTime:60*1e3}),D=Ie({mutationFn:async({memberId:K,newValue:ae})=>await ee.entities.Member.update(K,{login_enabled:ae}),onSuccess:()=>{w.invalidateQueries({queryKey:["team-members"]}),te.success("Login access updated successfully")},onError:K=>{te.error("Failed to update login access")}}),F=Ie({mutationFn:async({memberId:K,data:ae})=>await ee.entities.Member.update(K,ae),onSuccess:()=>{w.invalidateQueries({queryKey:["team-members"]}),te.success("Member updated successfully"),m(null)},onError:K=>{te.error("Failed to update member")}}),U=Ie({mutationFn:async K=>(await xke({email:K,inviterName:`${t.first_name} ${t.last_name}`})).data,onSuccess:()=>{te.success("Invitation sent successfully"),p(!1),y("")},onError:K=>{var ae,se;te.error(((se=(ae=K.response)==null?void 0:ae.data)==null?void 0:se.error)||"Failed to send invitation")}}),z=b.useMemo(()=>{const K={};return N.forEach(ae=>{const se=P.filter(je=>je.author_id===ae.id&&je.status==="published").length,de=T.filter(je=>je.member_id===ae.id&&je.status==="confirmed").length,ue=E.filter(je=>(je.award_type==="events_attended"?de:je.award_type==="articles_published"?se:0)>=je.threshold),pe=C.filter(je=>je.member_id===ae.id).map(je=>{const Ne=k.find($e=>$e.id===je.offline_award_id);if(!Ne)return null;const qe=je.sublevel_id?R.find($e=>$e.id===je.sublevel_id):null;return{...Ne,sublevel:qe}}).filter(Boolean);K[ae.id]={publishedArticles:se,eventsAttended:de,onlineAwards:ue,offlineAwards:pe,totalAwards:ue.length+pe.length}}),K},[N,P,T,E,C,k,R]),H=b.useMemo(()=>{let K=N;if(i||(K=K.filter(ae=>ae.login_enabled!==!1)),r){const ae=r.toLowerCase();K=K.filter(se=>{var de,ue,oe,pe;return((de=se.first_name)==null?void 0:de.toLowerCase().includes(ae))||((ue=se.last_name)==null?void 0:ue.toLowerCase().includes(ae))||((oe=se.email)==null?void 0:oe.toLowerCase().includes(ae))||((pe=se.job_title)==null?void 0:pe.toLowerCase().includes(ae))})}return K},[N,r,i]),B=Math.ceil(H.length/d),$=b.useMemo(()=>{const K=(o-1)*d;return H.slice(K,K+d)},[H,o,d]);b.useEffect(()=>{c(1)},[r,i]);const I=(K,ae)=>{D.mutate({memberId:K.id,newValue:ae})},L=K=>{m(K),j({first_name:K.first_name||"",last_name:K.last_name||"",job_title:K.job_title||"",email:K.email||"",profile_photo_url:K.profile_photo_url||"",linkedin_url:K.linkedin_url||""})},V=()=>{j({...v,profile_photo_url:""})},q=()=>{if(N.some(ae=>ae.id!==u.id&&ae.email.toLowerCase()===v.email.toLowerCase())){te.error("This email is already in use by another member");return}if(!v.first_name||!v.last_name||!v.email){te.error("First name, last name, and email are required");return}F.mutate({memberId:u.id,data:{first_name:v.first_name,last_name:v.last_name,job_title:v.job_title,email:v.email,profile_photo_url:v.profile_photo_url,linkedin_url:v.linkedin_url}})},J=()=>{if(!x){te.error("Please enter an email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){te.error("Please enter a valid email address");return}const ae=t.email.split("@")[1].toLowerCase(),se=x.split("@")[1].toLowerCase();if(ae!==se){te.error(`Email domain must match yours: @${ae}`);return}if(N.find(ue=>ue.email.toLowerCase()===x.toLowerCase())){te.error("A team member with this email already exists");return}U.mutate(x)};if(_)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})});const Y=t!=null&&t.email?t.email.split("@")[1]:"";return e.jsxs(A2,{delayDuration:100,children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Team Directory"}),e.jsxs("p",{className:"text-slate-600",children:[(s==null?void 0:s.name)&&`${s.name} - `,H.length," ",H.length===1?"member":"members"]})]})]}),n&&e.jsxs(X,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(kd,{className:"w-4 h-4 mr-2"}),"Invite Member"]})]})}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex-1 relative w-full",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name, email, or job title...",value:r,onChange:K=>a(K.target.value),className:"pl-10"})]}),n&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{htmlFor:"show-disabled",className:"text-sm text-slate-700 whitespace-nowrap cursor-pointer",children:"Show inactive accounts"}),e.jsx(fs,{id:"show-disabled",checked:i,onCheckedChange:l})]})]})})}),$.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:r||i?"Try adjusting your search criteria or filters":"No team members available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(K=>{const ae=z[K.id]||{},se=A.find(ue=>ue.id===K.role_id),de=K.login_enabled??!0;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>L(K),children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:K.profile_photo_url?e.jsx("img",{src:K.profile_photo_url,alt:`${K.first_name} ${K.last_name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(sn,{className:"w-8 h-8 text-slate-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(ze,{className:"text-base mb-1",children:[K.first_name," ",K.last_name]}),se&&e.jsx("div",{className:"flex items-center gap-1 mb-1",children:e.jsxs(ye,{variant:"secondary",className:se.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[se.is_admin&&e.jsx(Bn,{className:"w-3 h-3 mr-1"}),se.name]})}),K.job_title&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-1",children:K.job_title})]}),e.jsx(Di,{className:"w-4 h-4 text-slate-400"})]})}),e.jsxs(ce,{className:"space-y-3",onClick:ue=>ue.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Rs,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700 break-all",children:K.email})]}),K.last_activity&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(an,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),e.jsxs("span",{className:"text-xs text-slate-600",children:["Last active ",mB(new Date(K.last_activity),{addSuffix:!0})]})]}),n&&e.jsxs("div",{className:"flex items-center justify-between pt-2 pb-2 border-y border-slate-200",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Login Access"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs ${de?"text-green-600":"text-slate-500"}`,children:de?"Active":"Inactive"}),e.jsx(fs,{checked:de,onCheckedChange:ue=>I(K,ue),disabled:D.isPending})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Events"})]}),e.jsx(ye,{variant:"secondary",children:ae.eventsAttended||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Articles"})]}),e.jsx(ye,{variant:"secondary",children:ae.publishedArticles||0})]}),ae.totalAwards>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:["Awards (",ae.totalAwards,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[ae.onlineAwards.slice(0,4).map(ue=>{const oe=ue.classification_id?O.find(pe=>pe.id===ue.classification_id):null;return e.jsxs(Hf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col items-center p-2 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border border-amber-200 cursor-help relative",children:[oe&&e.jsx(ye,{variant:"secondary",className:"absolute -top-1 -right-1 text-[8px] px-1 py-0 scale-75",children:oe.name}),ue.image_url?e.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-8 h-8 object-contain mb-1"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full flex items-center justify-center mb-1",children:e.jsx(Wn,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-slate-900 text-center line-clamp-1",children:ue.name})]})}),e.jsxs(Sh,{children:[e.jsx("p",{className:"font-semibold",children:ue.name}),ue.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.description})]})]},`online-${ue.id}`)}),ae.offlineAwards.slice(0,Math.max(0,4-ae.onlineAwards.length)).map((ue,oe)=>{var je;const pe=ue.classification_id?O.find(Ne=>Ne.id===ue.classification_id):null;return e.jsxs(Hf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col items-center p-2 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg border border-purple-200 cursor-help relative",children:[pe&&e.jsx(ye,{variant:"secondary",className:"absolute -top-1 -right-1 text-[8px] px-1 py-0 scale-75",children:pe.name}),(je=ue.sublevel)!=null&&je.image_url?e.jsx("img",{src:ue.sublevel.image_url,alt:ue.sublevel.name,className:"w-8 h-8 object-contain mb-1"}):ue.image_url?e.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-8 h-8 object-contain mb-1"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mb-1",children:e.jsx(Wn,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-[10px] font-medium text-slate-900 text-center line-clamp-1",children:ue.name}),ue.sublevel&&e.jsx(ye,{className:"mt-0.5 bg-purple-600 text-white text-[8px] px-1 py-0",children:ue.sublevel.name})]})}),e.jsxs(Sh,{children:[e.jsx("p",{className:"font-semibold",children:ue.name}),ue.sublevel&&e.jsxs("p",{className:"text-xs text-purple-400 mt-1",children:["Level: ",ue.sublevel.name]}),ue.period_text&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.period_text}),ue.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ue.description})]})]},`offline-${ue.id}-${oe}`)}),ae.totalAwards>4&&e.jsx("div",{className:"flex items-center justify-center p-2 bg-slate-100 rounded-lg border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",ae.totalAwards-4," more"]})})]})]})]})]},K.id)})}),B>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(K=>Math.max(1,K-1)),disabled:o===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:B},(K,ae)=>ae+1).map(K=>e.jsx(X,{variant:o===K?"default":"outline",size:"sm",onClick:()=>c(K),className:"w-9",children:K},K))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(K=>Math.min(B,K+1)),disabled:o===B,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})]})}),e.jsx(Ct,{open:!!u,onOpenChange:K=>!K&&m(null),children:e.jsxs(Nt,{children:[e.jsxs(kt,{children:[e.jsx(Et,{children:"Edit Member"}),e.jsx(Pa,{children:"Update member information. Email must be unique."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden border-2 border-slate-200",children:v.profile_photo_url?e.jsx("img",{src:v.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(sn,{className:"w-8 h-8 text-slate-400"})}),v.profile_photo_url&&e.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:V,children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Remove Photo"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"first_name",children:"First Name *"}),e.jsx(he,{id:"first_name",value:v.first_name,onChange:K=>j({...v,first_name:K.target.value}),placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(he,{id:"last_name",value:v.last_name,onChange:K=>j({...v,last_name:K.target.value}),placeholder:"Last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:v.job_title,onChange:K=>j({...v,job_title:K.target.value}),placeholder:"Job title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:v.email,onChange:K=>j({...v,email:K.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),e.jsx(he,{id:"linkedin_url",type:"url",value:v.linkedin_url,onChange:K=>j({...v,linkedin_url:K.target.value}),placeholder:"https://www.linkedin.com/in/username"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e.jsx(X,{onClick:q,disabled:F.isPending,children:F.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),e.jsx(Ct,{open:h,onOpenChange:p,children:e.jsxs(Nt,{children:[e.jsxs(kt,{children:[e.jsx(Et,{children:"Invite Team Member"}),e.jsx(Pa,{children:"Send an invitation to a new team member with a matching email domain."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"invite_email",children:"Email Address *"}),e.jsx(he,{id:"invite_email",type:"email",value:x,onChange:K=>y(K.target.value),placeholder:`user@${Y}`}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Email domain must match: @",Y]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(X,{onClick:J,disabled:U.isPending,className:"bg-blue-600 hover:bg-blue-700",children:U.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Send Invitation"]})})]})]})})]})}function uz({memberInfo:t}){var z,H,B;const[s,n]=b.useState(""),[r,a]=b.useState(!1),[i,l]=b.useState(1),[o,c]=b.useState(9),[d,u]=b.useState(null),[m,h]=b.useState(!1),[p,x]=b.useState("name-asc"),{data:y=[],isLoading:v}=me({queryKey:["all-members-directory"],queryFn:async()=>await ee.entities.Member.list(),staleTime:60*1e3}),{data:j=[]}=me({queryKey:["all-articles"],queryFn:async()=>await ee.entities.BlogPost.list(),staleTime:60*1e3}),{data:w=[]}=me({queryKey:["roles"],queryFn:async()=>await ee.entities.Role.list(),staleTime:300*1e3}),{data:N=[]}=me({queryKey:["organizations"],queryFn:async()=>await ee.entities.Organization.list(),staleTime:300*1e3}),{data:_=[]}=me({queryKey:["awards"],queryFn:async()=>(await ee.entities.Award.list()).filter(I=>I.is_active),staleTime:300*1e3}),{data:P=[]}=me({queryKey:["offline-assignments"],queryFn:async()=>await ee.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),{data:A=[]}=me({queryKey:["offline-awards"],queryFn:async()=>(await ee.entities.OfflineAward.list()).filter(I=>I.is_active),staleTime:300*1e3}),{data:E=[]}=me({queryKey:["all-bookings"],queryFn:async()=>await ee.entities.Booking.list(),staleTime:60*1e3}),{data:C}=me({queryKey:["memberDirectoryDisplay"],queryFn:async()=>{const I=(await ee.entities.SystemSettings.list()).find(L=>L.setting_key==="member_directory_display");if(I!=null&&I.setting_value)try{return JSON.parse(I.setting_value)}catch(L){return console.error("Failed to parse member directory settings:",L),{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}}return{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}},staleTime:0,refetchOnMount:!0}),R=b.useMemo(()=>{const $={};return y.forEach(I=>{const L=j.filter(Y=>Y.author_id===I.id&&Y.status==="published").length,V=E.filter(Y=>Y.member_id===I.id&&Y.status==="confirmed").length,q=_.filter(Y=>(Y.award_type==="events_attended"?V:Y.award_type==="articles_published"?L:0)>=Y.threshold),Q=P.filter(Y=>Y.member_id===I.id).map(Y=>A.find(K=>K.id===Y.offline_award_id)).filter(Boolean);$[I.id]={publishedArticles:L,eventsAttended:V,onlineAwards:q,offlineAwards:Q,totalAwards:q.length+Q.length}}),$},[y,j,E,_,P,A]),O=b.useMemo(()=>{let $=y;if($=$.filter(L=>L.show_in_directory!==!1),r||($=$.filter(L=>L.login_enabled!==!1)),s){const L=s.toLowerCase();$=$.filter(V=>{var J,Q,Y,K,ae;const q=N.find(se=>se.id===V.organization_id||se.zoho_account_id===V.organization_id);return((J=V.first_name)==null?void 0:J.toLowerCase().includes(L))||((Q=V.last_name)==null?void 0:Q.toLowerCase().includes(L))||((Y=V.email)==null?void 0:Y.toLowerCase().includes(L))||(C==null?void 0:C.show_job_title)&&((K=V.job_title)==null?void 0:K.toLowerCase().includes(L))||(C==null?void 0:C.show_organization)&&((ae=q==null?void 0:q.name)==null?void 0:ae.toLowerCase().includes(L))})}return[...$].sort((L,V)=>{var q,J,Q,Y,K,ae,se,de;switch(p){case"name-asc":return`${L.first_name} ${L.last_name}`.localeCompare(`${V.first_name} ${V.last_name}`);case"name-desc":return`${V.first_name} ${V.last_name}`.localeCompare(`${L.first_name} ${L.last_name}`);case"org-asc":{const ue=C!=null&&C.show_organization&&((q=N.find(pe=>pe.id===L.organization_id||pe.zoho_account_id===L.organization_id))==null?void 0:q.name)||"",oe=C!=null&&C.show_organization&&((J=N.find(pe=>pe.id===V.organization_id||pe.zoho_account_id===V.organization_id))==null?void 0:J.name)||"";return ue.localeCompare(oe)}case"org-desc":{const ue=C!=null&&C.show_organization&&((Q=N.find(pe=>pe.id===L.organization_id||pe.zoho_account_id===L.organization_id))==null?void 0:Q.name)||"";return(C!=null&&C.show_organization&&((Y=N.find(pe=>pe.id===V.organization_id||pe.zoho_account_id===V.organization_id))==null?void 0:Y.name)||"").localeCompare(ue)}case"events-desc":{const ue=C!=null&&C.show_events&&((K=R[L.id])==null?void 0:K.eventsAttended)||0;return(C!=null&&C.show_events&&((ae=R[V.id])==null?void 0:ae.eventsAttended)||0)-ue}case"articles-desc":{const ue=C!=null&&C.show_articles&&((se=R[L.id])==null?void 0:se.publishedArticles)||0;return(C!=null&&C.show_articles&&((de=R[V.id])==null?void 0:de.publishedArticles)||0)-ue}default:return 0}})},[y,s,r,p,N,R,C]),k=Math.ceil(O.length/o),T=b.useMemo(()=>{const $=(i-1)*o;return O.slice($,$+o)},[O,i,o]);b.useEffect(()=>{l(1)},[s,r,p,o]);const D=$=>{u($),h(!1)},F=$=>{window.location.href=`mailto:${$}`};return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs(A2,{delayDuration:100,children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Cs,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Directory"})]}),e.jsxs("p",{className:"text-slate-600",children:[O.length," ",O.length===1?"member":"members"," across all organizations"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name, email, job title, or organization...",value:s,onChange:$=>n($.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{htmlFor:"show-disabled",className:"text-sm text-slate-700 whitespace-nowrap cursor-pointer",children:"Show disabled accounts"}),e.jsx(fs,{id:"show-disabled",checked:r,onCheckedChange:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u2,{className:"w-4 h-4 text-slate-500"}),e.jsx(Z,{className:"text-sm text-slate-700",children:"Sort by:"}),e.jsxs(Ge,{value:p,onValueChange:x,children:[e.jsx(Ve,{className:"w-[200px]",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name-desc",children:"Name (Z-A)"}),(C==null?void 0:C.show_organization)&&e.jsx(re,{value:"org-asc",children:"Organization (A-Z)"}),(C==null?void 0:C.show_organization)&&e.jsx(re,{value:"org-desc",children:"Organization (Z-A)"}),(C==null?void 0:C.show_events)&&e.jsx(re,{value:"events-desc",children:"Most Events"}),(C==null?void 0:C.show_articles)&&e.jsx(re,{value:"articles-desc",children:"Most Articles"})]})]})]})]})})}),T.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:s?"Try adjusting your search criteria":"No members available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map($=>{const I=R[$.id]||{},L=w.find(q=>q.id===$.role_id),V=N.find(q=>q.id===$.organization_id||q.zoho_account_id===$.organization_id);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>D($),children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:C!=null&&C.show_profile_photo&&$.profile_photo_url?e.jsx("img",{src:$.profile_photo_url,alt:`${$.first_name} ${$.last_name}`,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(sn,{className:"w-8 h-8 text-slate-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(ze,{className:"text-base mb-1",children:[$.first_name," ",$.last_name]}),L&&e.jsx("div",{className:"flex items-center gap-1 mb-1",children:e.jsxs(ye,{variant:"secondary",className:L.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[L.is_admin&&e.jsx(Bn,{className:"w-3 h-3 mr-1"}),L.name]})}),(C==null?void 0:C.show_job_title)&&$.job_title&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-1",children:$.job_title})]})]})}),e.jsxs(ce,{className:"space-y-3",children:[(C==null?void 0:C.show_organization)&&V&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fa,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700",children:V.name})]}),(C==null?void 0:C.show_linkedin)&&$.linkedin_url&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("a",{href:$.linkedin_url,target:"_blank",rel:"noopener noreferrer",onClick:q=>q.stopPropagation(),className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:[e.jsx(jh,{className:"w-4 h-4"}),e.jsx("span",{children:"LinkedIn Profile"})]})}),(C==null?void 0:C.show_events)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Events"})]}),e.jsx(ye,{variant:"secondary",children:I.eventsAttended||0})]}),(C==null?void 0:C.show_articles)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Articles"})]}),e.jsx(ye,{variant:"secondary",children:I.publishedArticles||0})]}),(C==null?void 0:C.show_awards)&&I.totalAwards>0&&e.jsxs("div",{className:"pt-3 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:["Awards (",I.totalAwards,")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.onlineAwards.slice(0,2).map(q=>e.jsxs(Hf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsx("div",{className:"px-2 py-1 bg-gradient-to-br from-amber-50 to-amber-100 rounded border border-amber-200 cursor-help",children:q.image_url?e.jsx("img",{src:q.image_url,alt:q.name,className:"w-4 h-4 object-contain"}):e.jsx("span",{className:"text-xs font-medium text-slate-900",children:q.name})})}),e.jsxs(Sh,{children:[e.jsx("p",{className:"font-semibold",children:q.name}),q.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.description})]})]},q.id)),I.offlineAwards.slice(0,2).map(q=>e.jsxs(Hf,{children:[e.jsx(Kf,{asChild:!0,children:e.jsx("div",{className:"px-2 py-1 bg-gradient-to-br from-purple-50 to-purple-100 rounded border border-purple-200 cursor-help",children:q.image_url?e.jsx("img",{src:q.image_url,alt:q.name,className:"w-4 h-4 object-contain"}):e.jsx("span",{className:"text-xs font-medium text-slate-900",children:q.name})})}),e.jsxs(Sh,{children:[e.jsx("p",{className:"font-semibold",children:q.name}),q.period_text&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.period_text}),q.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:q.description})]})]},q.id)),I.totalAwards>2&&e.jsx("div",{className:"px-2 py-1 bg-slate-100 rounded border border-slate-200",children:e.jsxs("span",{className:"text-xs font-medium text-slate-600",children:["+",I.totalAwards-2]})})]})]})]})]},$.id)})}),k>1&&e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"text-sm text-slate-700",children:"Show:"}),e.jsxs(Ge,{value:o.toString(),onValueChange:$=>c(parseInt($)),children:[e.jsx(Ve,{className:"w-[100px]",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6"}),e.jsx(re,{value:"9",children:"9"}),e.jsx(re,{value:"12",children:"12"}),e.jsx(re,{value:"24",children:"24"}),e.jsx(re,{value:"48",children:"48"})]})]}),e.jsx("span",{className:"text-sm text-slate-600",children:"per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>l($=>Math.max(1,$-1)),disabled:i===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(k,5)},($,I)=>{let L;return k<=5||i<=3?L=I+1:i>=k-2?L=k-4+I:L=i-2+I,e.jsx(X,{variant:i===L?"default":"outline",size:"sm",onClick:()=>l(L),className:"w-9",children:L},L)})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>l($=>Math.min(k,$+1)),disabled:i===k,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})]})]})}),e.jsx(Ct,{open:!!d,onOpenChange:$=>!$&&u(null),children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{className:"sr-only",children:"Member Information"})}),d&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:C!=null&&C.show_profile_photo&&d.profile_photo_url?e.jsx("img",{src:d.profile_photo_url,alt:`${d.first_name} ${d.last_name}`,className:"w-24 h-24 rounded-full object-cover border-4 border-slate-200"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center border-4 border-slate-200",children:e.jsx(sn,{className:"w-12 h-12 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:[d.first_name," ",d.last_name]}),(C==null?void 0:C.show_job_title)&&d.job_title&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-600 mb-3",children:[e.jsx(Dn,{className:"w-4 h-4"}),e.jsx("span",{children:d.job_title})]}),(()=>{const $=w.find(I=>I.id===d.role_id);return $?e.jsxs(ye,{variant:"secondary",className:$.is_admin?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700",children:[$.is_admin&&e.jsx(Bn,{className:"w-3 h-3 mr-1"}),$.name]}):null})()]})]}),(C==null?void 0:C.show_organization)&&(()=>{const $=N.find(I=>I.id===d.organization_id||I.zoho_account_id===d.organization_id);return $?e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(Fa,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold",children:$.name})]})}):null})(),(C==null?void 0:C.show_bio_in_popup)&&d.biography&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wide",children:"About"}),e.jsx("p",{className:`text-slate-700 leading-relaxed ${m?"":"line-clamp-4"}`,children:d.biography}),d.biography.length>300&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>h(!m),className:"text-blue-600 hover:text-blue-700 p-0 h-auto font-medium",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Nv,{className:"w-4 h-4 mr-1"}),"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(Vr,{className:"w-4 h-4 mr-1"}),"Read more"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[(C==null?void 0:C.show_events)&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ns,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"Events Attended"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:((z=R[d.id])==null?void 0:z.eventsAttended)||0})]}),(C==null?void 0:C.show_articles)&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ls,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Articles Published"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:((H=R[d.id])==null?void 0:H.publishedArticles)||0})]})]}),(C==null?void 0:C.show_awards)&&((B=R[d.id])==null?void 0:B.totalAwards)>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),"Awards & Recognition (",R[d.id].totalAwards,")"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R[d.id].onlineAwards.map($=>e.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-3 border border-amber-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[$.image_url&&e.jsx("img",{src:$.image_url,alt:$.name,className:"w-8 h-8 object-contain"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-amber-900 line-clamp-1",children:$.name}),$.description&&e.jsx("p",{className:"text-xs text-amber-700 line-clamp-1",children:$.description})]})]})},$.id)),R[d.id].offlineAwards.map($=>e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-3 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[$.image_url&&e.jsx("img",{src:$.image_url,alt:$.name,className:"w-8 h-8 object-contain"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-purple-900 line-clamp-1",children:$.name}),$.period_text&&e.jsx("p",{className:"text-xs text-purple-700",children:$.period_text})]})]})},$.id))]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-3",children:[e.jsxs(X,{onClick:()=>F(d.email),className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg",children:[e.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Send Email to ",d.first_name]}),(C==null?void 0:C.show_linkedin)&&d.linkedin_url&&e.jsxs(X,{onClick:()=>window.open(d.linkedin_url,"_blank"),variant:"outline",className:"w-full",size:"lg",children:[e.jsx(jh,{className:"w-5 h-5 mr-2"}),"View LinkedIn Profile"]})]})]})]})})]})}function hz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState("sections"),[a,i]=b.useState(null),[l,o]=b.useState(null),[c,d]=b.useState(null),[u,m]=b.useState(!1),[h,p]=b.useState(!1),[x,y]=b.useState(!1),[v,j]=b.useState(null),[w,N]=b.useState(null),[_,P]=b.useState(!1),[A,E]=b.useState({}),[C,R]=b.useState("medium"),O=Jt(),{data:k=[],isLoading:T}=me({queryKey:["wall-of-fame-sections"],queryFn:()=>ee.entities.WallOfFameSection.list()}),{data:D=[],isLoading:F}=me({queryKey:["wall-of-fame-categories"],queryFn:()=>ee.entities.WallOfFameCategory.list()}),{data:U=[],isLoading:z}=me({queryKey:["wall-of-fame-people"],queryFn:()=>ee.entities.WallOfFamePerson.list()}),{data:H=[]}=me({queryKey:["members-for-selection"],queryFn:()=>ee.entities.Member.list()}),{data:B}=me({queryKey:["wall-of-fame-photo-size"],queryFn:async()=>{const de=(await ee.entities.SystemSettings.list()).find(ue=>ue.setting_key==="wall_of_fame_photo_size");return de?{id:de.id,value:de.setting_value}:null},staleTime:0,refetchOnMount:!0});Be.useEffect(()=>{B!=null&&B.value&&R(B.value)},[B]);const $=Ie({mutationFn:({id:se,data:de})=>se?ee.entities.WallOfFameSection.update(se,de):ee.entities.WallOfFameSection.create(de),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-sections"]}),m(!1),i(null),te.success("Section saved successfully")}}),I=Ie({mutationFn:({id:se,data:de})=>se?ee.entities.WallOfFameCategory.update(se,de):ee.entities.WallOfFameCategory.create(de),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-categories"]}),p(!1),o(null),te.success("Category saved successfully")}}),L=Ie({mutationFn:({id:se,data:de})=>se?ee.entities.WallOfFamePerson.update(se,de):ee.entities.WallOfFamePerson.create(de),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-people"]}),y(!1),d(null),te.success("Person saved successfully")}}),V=Ie({mutationFn:se=>ee.entities.WallOfFameSection.delete(se),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-sections"]}),te.success("Section deleted")}}),q=Ie({mutationFn:se=>ee.entities.WallOfFameCategory.delete(se),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-categories"]}),te.success("Category deleted")}}),J=Ie({mutationFn:se=>ee.entities.WallOfFamePerson.delete(se),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-people"]}),te.success("Person deleted")}}),Q=Ie({mutationFn:async se=>B!=null&&B.id?await ee.entities.SystemSettings.update(B.id,{setting_value:se}):await ee.entities.SystemSettings.create({setting_key:"wall_of_fame_photo_size",setting_value:se,description:"Profile photo size for Wall of Fame display (small, medium, large)"}),onSuccess:()=>{O.invalidateQueries({queryKey:["wall-of-fame-photo-size"]}),te.success("Photo size setting saved")}});if(!t||s!=null&&s("page_WallOfFameManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx(Wn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const Y=async se=>{var ue;const de=(ue=se.target.files)==null?void 0:ue[0];if(de){if(!de.type.startsWith("image/")){te.error("Please select an image file");return}P(!0);try{const oe=await ee.integrations.Core.UploadFile({file:de});d({...c,profile_photo_url:oe.file_url}),te.success("Photo uploaded")}catch{te.error("Failed to upload photo")}finally{P(!1)}}},K=se=>{const de=H.find(ue=>ue.id===se);de&&d({...c,member_id:se,first_name:de.first_name||"",last_name:de.last_name||"",job_title:de.job_title||"",biography:de.biography||"",profile_photo_url:de.profile_photo_url||"",linkedin_url:de.linkedin_url||"",email:de.email||""})},ae=[...k].sort((se,de)=>(se.display_order||0)-(de.display_order||0));return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Wall of Fame Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage sections, categories, and people for public display"})]})}),e.jsxs(Sy,{value:n,onValueChange:r,children:[e.jsxs(ng,{className:"mb-6",children:[e.jsx(_r,{value:"sections",children:"Sections"}),e.jsx(_r,{value:"categories",children:"Categories"}),e.jsx(_r,{value:"people",children:"People"}),e.jsx(_r,{value:"settings",children:"Settings"})]}),e.jsxs(nc,{value:"sections",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{i({name:"",description:"",display_order:0,is_active:!0}),m(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Section"]})}),T?e.jsx("div",{className:"text-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):ae.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Kl,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Sections Yet"}),e.jsx("p",{className:"text-slate-600",children:"Create your first section to get started"})]})}):e.jsx("div",{className:"grid gap-4",children:ae.map(se=>e.jsx(le,{className:"border-slate-200",children:e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-blue-600"}),se.name]}),se.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:se.description}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(ye,{variant:se.is_active?"default":"secondary",children:se.is_active?"Active":"Inactive"}),e.jsxs(ye,{variant:"outline",children:["Order: ",se.display_order]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{i(se),m(!0)},children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>V.mutate(se.id),className:"text-red-600",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})})},se.id))})]}),e.jsxs(nc,{value:"categories",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{o({section_id:"",name:"",description:"",display_order:0,is_active:!0}),p(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),F?e.jsx("div",{className:"text-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):e.jsx("div",{className:"space-y-6",children:ae.map(se=>{const de=D.filter(ue=>ue.section_id===se.id).sort((ue,oe)=>(ue.display_order||0)-(oe.display_order||0));return e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-lg",children:se.name})}),e.jsx(ce,{children:de.length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:"No categories yet"}):e.jsx("div",{className:"space-y-2",children:de.map(ue=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:ue.name}),e.jsx(ye,{variant:ue.is_active?"default":"secondary",className:"text-xs",children:ue.is_active?"Active":"Inactive"})]}),ue.description&&e.jsx("p",{className:"text-xs text-slate-600 mt-1 ml-6",children:ue.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{o(ue),p(!0)},children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q.mutate(ue.id),className:"text-red-600",children:e.jsx(hs,{className:"w-3 h-3"})})]})]},ue.id))})})]},se.id)})})]}),e.jsxs(nc,{value:"people",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(X,{onClick:()=>{d({category_id:"",first_name:"",last_name:"",job_title:"",biography:"",profile_photo_url:"",linkedin_url:"",email:"",display_order:0,is_active:!0}),y(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Person"]})}),z?e.jsx("div",{className:"text-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto"})}):e.jsx("div",{className:"space-y-6",children:ae.map(se=>{const de=D.filter(ue=>ue.section_id===se.id).sort((ue,oe)=>(ue.display_order||0)-(oe.display_order||0));return de.length===0?null:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-lg",children:se.name})}),e.jsx(ce,{className:"space-y-4",children:de.map(ue=>{const oe=U.filter(je=>je.category_id===ue.id).sort((je,Ne)=>(je.display_order||0)-(Ne.display_order||0)),pe=A[ue.id];return e.jsxs("div",{className:"border border-slate-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 cursor-pointer",onClick:()=>E({...A,[ue.id]:!pe}),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:ue.name}),e.jsx(ye,{variant:"secondary",children:oe.length})]}),pe?e.jsx(Nv,{className:"w-4 h-4"}):e.jsx(Vr,{className:"w-4 h-4"})]}),pe&&e.jsx("div",{className:"p-3 space-y-2",children:oe.length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:"No people yet"}):oe.map(je=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded border border-slate-200",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:je.profile_photo_url?e.jsx("img",{src:je.profile_photo_url,alt:`${je.first_name} ${je.last_name}`,className:"w-full h-full object-cover"}):e.jsx(sn,{className:"w-6 h-6 text-slate-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-medium",children:[je.first_name," ",je.last_name]}),je.job_title&&e.jsx("div",{className:"text-sm text-slate-600",children:je.job_title}),je.member_id&&e.jsx(ye,{variant:"outline",className:"text-xs mt-1",children:"Linked Member"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{d(je),y(!0)},children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>J.mutate(je.id),className:"text-red-600",children:e.jsx(hs,{className:"w-3 h-3"})})]})]},je.id))})]},ue.id)})})]},se.id)})})]}),e.jsx(nc,{value:"settings",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Display Settings"})}),e.jsx(ce,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{className:"text-base font-semibold",children:"Profile Photo Size"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Choose the size of profile photos displayed on the public Wall of Fame"}),e.jsxs(Ge,{value:C,onValueChange:se=>{R(se),Q.mutate(se)},children:[e.jsx(Ve,{className:"w-64",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"small",children:"Small"}),e.jsx(re,{value:"medium",children:"Medium (Default)"}),e.jsx(re,{value:"large",children:"Large"})]})]})]})})]})})]}),e.jsx(Ct,{open:u,onOpenChange:m,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:a!=null&&a.id?"Edit Section":"Create Section"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Name *"}),e.jsx(he,{value:a.name,onChange:se=>i({...a,name:se.target.value}),placeholder:"e.g., Our Team"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Description"}),e.jsx(Qt,{value:a.description||"",onChange:se=>i({...a,description:se.target.value}),placeholder:"Optional description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Display Order"}),e.jsx(he,{type:"number",value:a.display_order,onChange:se=>i({...a,display_order:parseInt(se.target.value)})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>$.mutate({id:a==null?void 0:a.id,data:a}),disabled:$.isPending,children:"Save"})]})]})}),e.jsx(Ct,{open:h,onOpenChange:p,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:l!=null&&l.id?"Edit Category":"Create Category"})}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Section *"}),e.jsxs(Ge,{value:l.section_id,onValueChange:se=>o({...l,section_id:se}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select section"})}),e.jsx(We,{children:k.map(se=>e.jsx(re,{value:se.id,children:se.name},se.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Name *"}),e.jsx(he,{value:l.name,onChange:se=>o({...l,name:se.target.value}),placeholder:"e.g., Staff, Board"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Description"}),e.jsx(Qt,{value:l.description||"",onChange:se=>o({...l,description:se.target.value}),placeholder:"Optional description",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Display Order"}),e.jsx(he,{type:"number",value:l.display_order,onChange:se=>o({...l,display_order:parseInt(se.target.value)})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>I.mutate({id:l==null?void 0:l.id,data:l}),disabled:I.isPending,children:"Save"})]})]})}),e.jsx(Ct,{open:x,onOpenChange:y,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:c!=null&&c.id?"Edit Person":"Add Person"})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Category *"}),e.jsxs(Ge,{value:c.category_id,onValueChange:se=>d({...c,category_id:se}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select category"})}),e.jsx(We,{children:D.map(se=>{var de;return e.jsxs(re,{value:se.id,children:[se.name," (",(de=k.find(ue=>ue.id===se.section_id))==null?void 0:de.name,")"]},se.id)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Link to Existing Member (Optional)"}),e.jsxs(Ge,{value:c.member_id||"",onValueChange:K,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Select a member or create ad-hoc entry"})}),e.jsxs(We,{children:[e.jsx(re,{value:null,children:"Create ad-hoc entry"}),H.map(se=>e.jsxs(re,{value:se.id,children:[se.first_name," ",se.last_name," (",se.email,")"]},se.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"First Name *"}),e.jsx(he,{value:c.first_name||"",onChange:se=>d({...c,first_name:se.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Last Name *"}),e.jsx(he,{value:c.last_name||"",onChange:se=>d({...c,last_name:se.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Job Title"}),e.jsx(he,{value:c.job_title||"",onChange:se=>d({...c,job_title:se.target.value}),placeholder:"e.g., Chief Executive Officer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Secondary Organisation"}),e.jsx(he,{value:c.secondary_organisation||"",onChange:se=>d({...c,secondary_organisation:se.target.value}),placeholder:"Optional secondary organisation"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Secondary Job Title"}),e.jsx(he,{value:c.secondary_job_title||"",onChange:se=>d({...c,secondary_job_title:se.target.value}),placeholder:"Optional secondary job title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Biography"}),e.jsx(Qt,{value:c.biography||"",onChange:se=>d({...c,biography:se.target.value}),placeholder:"Full biography",rows:5})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden",children:c.profile_photo_url?e.jsx("img",{src:c.profile_photo_url,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(sn,{className:"w-8 h-8 text-slate-400"})}),e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:Y,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:_,onClick:()=>document.getElementById("photo-upload").click(),children:_?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"LinkedIn URL"}),e.jsx(he,{type:"url",value:c.linkedin_url||"",onChange:se=>d({...c,linkedin_url:se.target.value}),placeholder:"https://linkedin.com/in/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Email"}),e.jsx(he,{type:"email",value:c.email||"",onChange:se=>d({...c,email:se.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Display Order"}),e.jsx(he,{type:"number",value:c.display_order,onChange:se=>d({...c,display_order:parseInt(se.target.value)})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>L.mutate({id:c==null?void 0:c.id,data:c}),disabled:L.isPending,children:"Save"})]})]})})]})})}function mz(){const[t,s]=b.useState(null);b.useEffect(()=>{const c=window.location.pathname,d=c.startsWith("/")?c.substring(1):c;s(d)},[]);const{data:n,isLoading:r,error:a}=me({queryKey:["iedit-public-page",t],queryFn:async()=>(await ee.entities.IEditPage.filter({slug:t,status:"published"}))[0],enabled:!!t}),{data:i,isLoading:l}=me({queryKey:["iedit-public-elements",n==null?void 0:n.id],queryFn:()=>ee.entities.IEditPageElement.filter({page_id:n.id},"display_order"),initialData:[],enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let c=document.querySelector('meta[name="description"]');c||(c=document.createElement("meta"),c.name="description",document.head.appendChild(c)),c.content=n.meta_description}},[n]),r||l)return e.jsx(La,{currentPageName:"DynamicPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})})});if(a||!n)return e.jsx(La,{currentPageName:"DynamicPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"The page you're looking for doesn't exist or hasn't been published yet."}),e.jsxs("p",{className:"text-sm text-slate-500",children:['(Looking for: "/',t,'")']})]})})});const o=n.layout_type==="member"?({children:c})=>e.jsx("div",{className:"min-h-screen",children:c}):La;return e.jsx(o,{currentPageName:"DynamicPage",children:e.jsxs("div",{className:"w-full",children:[i.map(c=>e.jsx(Qd,{element:c},c.id)),i.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]})})}function vke(){const{data:t,isLoading:s}=me({queryKey:["iedit-page-sharon"],queryFn:async()=>(await ee.entities.IEditPage.filter({slug:"sharon",status:"published"}))[0]}),{data:n=[],isLoading:r}=me({queryKey:["iedit-elements-sharon",t==null?void 0:t.id],queryFn:()=>ee.entities.IEditPageElement.filter({page_id:t.id},"display_order"),enabled:!!(t!=null&&t.id)});return b.useEffect(()=>{if(t&&(document.title=t.meta_title||t.title||"AGCAS",t.meta_description)){let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.name="description",document.head.appendChild(a)),a.content=t.meta_description}},[t]),s||r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading..."})}):t?e.jsxs("div",{className:"w-full",children:[n.map(a=>e.jsx(Qd,{element:a},a.id)),n.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600",children:"The sharon page hasn't been published yet."})]})})}function yke(){const s=new URLSearchParams(window.location.search).get("page"),n=window.location.hash.replace("#",""),r=s||n,{data:a,isLoading:i,error:l}=me({queryKey:["iedit-public-page",r],queryFn:async()=>(await ee.entities.IEditPage.filter({slug:r,status:"published"}))[0],enabled:!!r}),{data:o,isLoading:c}=me({queryKey:["iedit-public-elements",a==null?void 0:a.id],queryFn:()=>ee.entities.IEditPageElement.filter({page_id:a.id},"display_order"),initialData:[],enabled:!!(a!=null&&a.id)});return b.useEffect(()=>{if(a&&(document.title=a.meta_title||a.title||"AGCAS",a.meta_description)){let d=document.querySelector('meta[name="description"]');d||(d=document.createElement("meta"),d.name="description",document.head.appendChild(d)),d.content=a.meta_description}},[a]),b.useEffect(()=>{console.log("[Content Page] Checking font loading..."),"fonts"in document&&document.fonts.ready.then(()=>{const d=document.fonts.check('500 16px "Degular Medium"');console.log("[Content Page] Degular Medium loaded:",d);const u=Array.from(document.fonts.values());console.log("[Content Page] All loaded fonts:",u.map(m=>m.family))}),console.log("[Content Page] Elements:",o),o.forEach((d,u)=>{console.log(`[Content Page] Element ${u}:`,{type:d.element_type,content:d.content,variant:d.variant})})},[o]),r?i||c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading page..."})}):l||!a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-slate-600 mb-2",children:"The page you're looking for doesn't exist or hasn't been published yet."}),e.jsxs("p",{className:"text-sm text-slate-500",children:['(Looking for page: "',r,'")']})]})}):e.jsxs("div",{className:"w-full",children:[o.map((d,u)=>e.jsx(Qd,{element:d,isFirst:u===0},d.id)),o.length===0&&e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"No Page Specified"}),e.jsx("p",{className:"text-slate-600",children:"Please provide a page slug in the URL"}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Format: /content#your-page-slug"})]})})}function bke(){const s=new URLSearchParams(window.location.search).get("page"),{data:n,isLoading:r}=me({queryKey:["iedit-page-by-slug",s],queryFn:async()=>(await ee.entities.IEditPage.list()).find(c=>c.slug===s&&c.status==="published"),enabled:!!s}),{data:a,isLoading:i}=me({queryKey:["iedit-page-elements",n==null?void 0:n.id],queryFn:async()=>(await ee.entities.IEditPageElement.list()).filter(c=>c.page_id===n.id).sort((c,d)=>(c.display_order||0)-(d.display_order||0)),enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let o=document.querySelector('meta[name="description"]');o||(o=document.createElement("meta"),o.name="description",document.head.appendChild(o)),o.content=n.meta_description}},[n]),r||i)return e.jsx(La,{currentPageName:"icontent",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading page..."})})});if(!n)return e.jsx(La,{currentPageName:"icontent",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Page not found"}),e.jsx("p",{className:"text-slate-600",children:s?`The page "${s}" doesn't exist or hasn't been published yet.`:"No page specified"})]})})});const l=n.layout_type==="member"?({children:o})=>e.jsx("div",{className:"min-h-screen",children:o}):La;return e.jsx(l,{currentPageName:"icontent",children:e.jsx("div",{className:"w-full",children:a&&a.length>0?a.map(o=>e.jsx(Qd,{element:o},o.id)):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})})})}function fz(){const s=new URLSearchParams(window.location.search).get("slug"),{data:n,isLoading:r}=me({queryKey:["iedit-page-by-slug",s],queryFn:async()=>(await ee.entities.IEditPage.list()).find(c=>c.slug===s&&c.status==="published"),enabled:!!s}),{data:a,isLoading:i}=me({queryKey:["iedit-page-elements",n==null?void 0:n.id],queryFn:async()=>(await ee.entities.IEditPageElement.list()).filter(c=>c.page_id===n.id).sort((c,d)=>(c.display_order||0)-(d.display_order||0)),enabled:!!(n!=null&&n.id)});if(b.useEffect(()=>{if(n&&(document.title=n.meta_title||n.title||"AGCAS",n.meta_description)){let o=document.querySelector('meta[name="description"]');o||(o=document.createElement("meta"),o.name="description",document.head.appendChild(o)),o.content=n.meta_description}},[n]),r||i)return e.jsx(La,{currentPageName:"ViewPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading page..."})})});if(!n)return e.jsx(La,{currentPageName:"ViewPage",children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Page not found"}),e.jsx("p",{className:"text-slate-600",children:s?`The page "${s}" doesn't exist or hasn't been published yet.`:"No page specified"})]})})});const l=n.layout_type==="member"?({children:o})=>e.jsx("div",{className:"min-h-screen",children:o}):La;return e.jsx(l,{currentPageName:"ViewPage",children:e.jsx("div",{className:"w-full",children:a&&a.length>0?a.map(o=>e.jsx(Qd,{element:o,memberInfo:null,organizationInfo:null},o.id)):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-slate-600",children:"This page has no content yet."})})})})})}function pz(){const s=new URLSearchParams(window.location.search).get("slug");return e.jsx("div",{className:"min-h-screen p-8 bg-slate-50",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow p-6 space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"URL Parameter Test"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Full URL:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.href})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Search String:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.search||"(empty)"})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Hash:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.hash||"(empty)"})]}),e.jsxs("div",{className:"p-3 bg-slate-100 rounded",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Pathname:"}),e.jsx("p",{className:"font-mono text-sm",children:window.location.pathname})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded border-2 border-blue-200",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Slug Parameter Value:"}),e.jsx("p",{className:"font-mono text-lg font-bold",children:s||"(not found)"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-slate-600",children:["Test this page by visiting: ",e.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded",children:"/ParamTest?slug=test-value"})]})})]})})}function gz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState(!1),l=Jt(),{data:o,isLoading:c}=me({queryKey:["teamInviteSettings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(m=>m.setting_key==="team_invite_webhook_url")});Be.useEffect(()=>{o&&!a&&(r(o.setting_value||""),i(!0))},[o,a]);const d=Ie({mutationFn:async()=>{o!=null&&o.id?await ee.entities.SystemSettings.update(o.id,{setting_value:n}):await ee.entities.SystemSettings.create({setting_key:"team_invite_webhook_url",setting_value:n,description:"Webhook URL for sending team member invitations"})},onSuccess:()=>{l.invalidateQueries({queryKey:["teamInviteSettings"]}),te.success("Webhook settings saved")},onError:u=>{te.error("Failed to save settings: "+u.message)}});return!t||s("page_TeamInviteSettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Team Invite Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure webhook for team member invitations"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsxs(Fe,{children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-5 h-5 text-blue-600"}),"Invitation Webhook"]}),e.jsx(As,{children:"When a team member invitation is sent, this webhook will be called with the invite details"})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"webhookUrl",children:"Webhook URL *"}),e.jsx(he,{id:"webhookUrl",type:"url",value:n,onChange:u=>r(u.target.value),placeholder:"https://your-webhook-service.com/team-invite",className:"font-mono text-sm"}),e.jsx("p",{className:"text-xs text-slate-500",children:"The webhook will receive a POST request with the following JSON payload"})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e.jsx(Z,{className:"text-xs text-slate-600 mb-2 block",children:"Example Webhook Payload"}),e.jsx("pre",{className:"text-xs text-slate-700 overflow-x-auto",children:`{
  "email": "newmember@organization.com",
  "inviterName": "John Doe",
  "inviterEmail": "john@organization.com",
  "timestamp": "2025-01-17T10:30:00.000Z"
}`})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex gap-3",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-amber-900",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-amber-800",children:[e.jsx("li",{children:"The webhook must accept POST requests with JSON body"}),e.jsx("li",{children:"Invitations can only be sent to email addresses matching the organization's domain"}),e.jsx("li",{children:"The webhook is responsible for sending the actual invitation email"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:()=>d.mutate(),disabled:!n||d.isPending,className:"bg-blue-600 hover:bg-blue-700",children:d.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})]})]})})}function xz(){const[t,s]=b.useState(""),[n,r]=b.useState(1),[a]=b.useState(12),{data:i=[],isLoading:l}=me({queryKey:["organizations"],queryFn:async()=>await ee.entities.Organization.list("name"),staleTime:0,refetchOnMount:!0}),{data:o}=me({queryKey:["organisation-directory-settings"],queryFn:async()=>{const p=await ee.entities.SystemSettings.list(),x=p.find(N=>N.setting_key==="org_directory_show_logo"),y=p.find(N=>N.setting_key==="org_directory_show_domains"),v=p.find(N=>N.setting_key==="org_directory_show_member_count"),j=p.find(N=>N.setting_key==="org_directory_excluded_orgs");let w=[];if(j)try{w=JSON.parse(j.setting_value)}catch{w=[]}return{showLogo:(x==null?void 0:x.setting_value)!=="false",showDomains:(y==null?void 0:y.setting_value)!=="false",showMemberCount:(v==null?void 0:v.setting_value)!=="false",excludedOrgIds:w}},initialData:{showLogo:!0,showDomains:!0,showMemberCount:!0,excludedOrgIds:[]},staleTime:0,refetchOnMount:!0}),{data:c=[]}=me({queryKey:["all-members"],queryFn:async()=>await ee.entities.Member.list(),staleTime:300*1e3}),d=b.useMemo(()=>{const p={};return c.forEach(x=>{x.organization_id&&(p[x.organization_id]=(p[x.organization_id]||0)+1)}),p},[c]),u=b.useMemo(()=>{let p=i.filter(x=>!o.excludedOrgIds.includes(x.id));if(t){const x=t.toLowerCase();p=p.filter(y=>{var v,j;return((v=y.name)==null?void 0:v.toLowerCase().includes(x))||((j=y.domain)==null?void 0:j.toLowerCase().includes(x))})}return p},[i,t,o.excludedOrgIds]),m=Math.ceil(u.length/a),h=b.useMemo(()=>{const p=(n-1)*a;return u.slice(p,p+a)},[u,n,a]);return b.useEffect(()=>{r(1)},[t]),l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Fa,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"University Directory"})]}),e.jsxs("p",{className:"text-slate-600",children:[u.length," ",u.length===1?"organisation":"organisations"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search organisations by name or domain...",value:t,onChange:p=>s(p.target.value),className:"pl-10"})]})})}),u.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Fa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No organisations found"}),e.jsx("p",{className:"text-slate-600",children:t?"Try adjusting your search criteria":"No organisations available"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>{const x=d[p.id]||0,y=[p.domain,...p.additional_verified_domains||[]].filter(Boolean);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-start gap-3",children:[o.showLogo&&e.jsx("div",{className:"w-10 h-10 flex-shrink-0 rounded-lg overflow-hidden bg-slate-100 flex items-center justify-center",children:p.logo_url?e.jsx("img",{src:p.logo_url,alt:p.name,className:"w-full h-full object-cover"}):e.jsx(Fa,{className:"w-5 h-5 text-slate-400"})}),e.jsx("span",{className:"text-base line-clamp-2",children:p.name})]})}),e.jsxs(ce,{className:"space-y-3",children:[o.showDomains&&y.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T5,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:y.length>1?"Domains":"Domain"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 ml-6",children:y.map((v,j)=>e.jsxs("span",{className:"text-xs bg-slate-100 text-slate-700 px-2 py-1 rounded",children:["@",v]},j))})]}),o.showMemberCount&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-600",children:"Members"})]}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:x})]})]})]},p.id)})}),m>1&&e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>r(p=>Math.max(1,p-1)),disabled:n===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:m},(p,x)=>x+1).map(p=>e.jsx(X,{variant:n===p?"default":"outline",size:"sm",onClick:()=>r(p),className:"w-9",children:p},p))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>r(p=>Math.min(m,p+1)),disabled:n===m,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})]})})}function vz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(!1),[l,o]=b.useState(null),[c,d]=b.useState(null),[u,m]=b.useState(!1),[h,p]=b.useState({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0}),x=Jt(),{data:y=[],isLoading:v}=me({queryKey:["floaters"],queryFn:async()=>(await ee.entities.Floater.list()).sort((T,D)=>(T.display_order||0)-(D.display_order||0)),staleTime:30*1e3}),{data:j=[]}=me({queryKey:["forms"],queryFn:async()=>await ee.entities.Form.list(),staleTime:60*1e3}),w=Ie({mutationFn:async k=>await ee.entities.Floater.create(k),onSuccess:()=>{x.invalidateQueries({queryKey:["floaters"]}),te.success("Floater created successfully"),A()},onError:k=>{te.error("Failed to create floater")}}),N=Ie({mutationFn:async({id:k,floaterData:T})=>await ee.entities.Floater.update(k,T),onSuccess:()=>{x.invalidateQueries({queryKey:["floaters"]}),te.success("Floater updated successfully"),A()},onError:k=>{te.error("Failed to update floater")}}),_=Ie({mutationFn:async k=>await ee.entities.Floater.delete(k),onSuccess:()=>{x.invalidateQueries({queryKey:["floaters"]}),te.success("Floater deleted successfully"),i(!1),d(null)},onError:k=>{te.error("Failed to delete floater")}});if(!t||s("page_FloaterManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const P=(k=null)=>{k?(o(k),p({name:k.name||"",description:k.description||"",image_url:k.image_url||"",action_type:k.action_type||"webhook",webhook_url:k.webhook_url||"",redirect_url:k.redirect_url||"",form_slug:k.form_slug||"",window_target:k.window_target||"new_tab",popup_width:k.popup_width||800,popup_height:k.popup_height||600,display_location:k.display_location||"both",position:k.position||"bottom-right",offset_x:k.offset_x??20,offset_y:k.offset_y??20,width:k.width||80,height:k.height||80,show_background:k.show_background??!0,is_active:k.is_active??!0,display_order:k.display_order||0})):(o(null),p({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0})),r(!0)},A=()=>{r(!1),o(null),p({name:"",description:"",image_url:"",action_type:"webhook",webhook_url:"",redirect_url:"",form_slug:"",window_target:"new_tab",popup_width:800,popup_height:600,display_location:"both",position:"bottom-right",offset_x:20,offset_y:20,width:80,height:80,show_background:!0,is_active:!0,display_order:0})},E=async k=>{var D;const T=(D=k.target.files)==null?void 0:D[0];if(T){if(!T.type.startsWith("image/")){te.error("Please select an image file");return}m(!0);try{const F=await ee.integrations.Core.UploadFile({file:T});p(U=>({...U,image_url:F.file_url})),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{m(!1)}}},C=()=>{if(!h.name||!h.image_url){te.error("Please fill in name and image");return}if(h.action_type==="webhook"&&!h.webhook_url){te.error("Please provide a webhook URL");return}if(h.action_type==="url"&&!h.redirect_url){te.error("Please provide a redirect URL");return}if(h.action_type==="form"&&!h.form_slug){te.error("Please select a form");return}const k={name:h.name,description:h.description,image_url:h.image_url,action_type:h.action_type,webhook_url:h.webhook_url,redirect_url:h.redirect_url,form_slug:h.form_slug,window_target:h.window_target,popup_width:Number(h.popup_width),popup_height:Number(h.popup_height),display_location:h.display_location,position:h.position,offset_x:Number(h.offset_x),offset_y:Number(h.offset_y),width:Number(h.width),height:Number(h.height),show_background:h.show_background,is_active:h.is_active,display_order:Number(h.display_order)};l?N.mutate({id:l.id,floaterData:k}):w.mutate(k)},R=()=>{c&&_.mutate(c.id)},O=k=>{switch(k){case"portal":return{text:"Portal Only",className:"bg-blue-100 text-blue-700"};case"public":return{text:"Public Only",className:"bg-green-100 text-green-700"};case"both":return{text:"Portal & Public",className:"bg-purple-100 text-purple-700"};default:return{text:k,className:"bg-slate-100 text-slate-700"}}};return v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Floater Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage floating widget elements"})]}),e.jsxs(X,{onClick:()=>P(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Floater"]})]}),y.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Op,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No floaters yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first floating widget to get started"}),e.jsxs(X,{onClick:()=>P(),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Floater"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(k=>{const T=O(k.display_location);return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base mb-2",children:k.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(ye,{className:T.className,children:[T.text," "]}),e.jsx(ye,{variant:"outline",className:"gap-1",children:k.action_type==="webhook"?e.jsxs(e.Fragment,{children:[e.jsx(GQ,{className:"w-3 h-3"}),"Webhook"]}):k.action_type==="url"?e.jsxs(e.Fragment,{children:[e.jsx(XP,{className:"w-3 h-3"}),k.window_target==="popup"?"Popup":k.window_target==="parent"?"Parent":k.window_target==="current"?"Current":"New Tab"]}):e.jsxs(e.Fragment,{children:[e.jsx(XP,{className:"w-3 h-3"})," ","Form"]})}),e.jsx(ye,{variant:k.is_active?"default":"secondary",children:k.is_active?e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(h2,{className:"w-3 h-3 mr-1"}),"Inactive"]})})]})]}),k.image_url&&e.jsx("img",{src:k.image_url,alt:k.name,className:"w-16 h-16 object-contain border border-slate-200 rounded ml-2"})]})}),e.jsxs(ce,{className:"space-y-2",children:[k.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Action:"}),e.jsx("span",{className:"text-xs text-slate-900 truncate max-w-[180px]",title:k.action_type==="webhook"?k.webhook_url:k.action_type==="url"?k.redirect_url:k.action_type==="form"?k.form_slug:"",children:k.action_type==="webhook"?k.webhook_url:k.action_type==="url"?k.redirect_url:k.action_type==="form"?`Form: ${k.form_slug}`:"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Position:"}),e.jsx(ye,{variant:"secondary",children:k.position})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Size:"}),e.jsxs(ye,{variant:"secondary",children:[k.width,"x",k.height,"px"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Background:"}),e.jsx(ye,{variant:"secondary",children:k.show_background??!0?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Clicks:"}),e.jsx(ye,{variant:"secondary",children:k.click_count||0})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>P(k),children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{d(k),i(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},k.id)})})]}),e.jsx(Ct,{open:n,onOpenChange:r,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(kt,{children:[e.jsxs(Et,{children:[l?"Edit":"Create"," Floater"]}),e.jsx(Pa,{children:"Configure a floating widget that can trigger a webhook, navigate to a URL, or open a form."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Name *"}),e.jsx(he,{id:"name",value:h.name,onChange:k=>p({...h,name:k.target.value}),placeholder:"e.g., Help Widget, Contact Button"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:h.description,onChange:k=>p({...h,description:k.target.value}),placeholder:"What does this floater do?",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"image",children:"Image *"}),e.jsxs("div",{className:"flex items-center gap-4",children:[h.image_url&&e.jsx("img",{src:h.image_url,alt:"Floater",className:"w-20 h-20 object-contain border border-slate-200 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:E,className:"hidden"}),e.jsx(X,{type:"button",variant:"outline",disabled:u,onClick:()=>document.getElementById("image-upload").click(),children:u?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"action-type",children:"Click Action *"}),e.jsxs(Ge,{value:h.action_type,onValueChange:k=>p({...h,action_type:k}),children:[e.jsx(Ve,{id:"action-type",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"webhook",children:"Call Webhook"}),e.jsx(re,{value:"url",children:"Navigate to URL"}),e.jsx(re,{value:"form",children:"Open Form"})," "]})]})]}),h.action_type==="webhook"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"webhook-url",children:"Webhook URL *"}),e.jsx(he,{id:"webhook-url",type:"url",value:h.webhook_url,onChange:k=>p({...h,webhook_url:k.target.value}),placeholder:"https://example.com/webhook"}),e.jsx("p",{className:"text-xs text-slate-500",children:"URL to call when the floater is clicked"})]}),h.action_type==="url"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"redirect-url",children:"Redirect URL *"}),e.jsx(he,{id:"redirect-url",type:"url",value:h.redirect_url,onChange:k=>p({...h,redirect_url:k.target.value}),placeholder:"https://example.com/page"}),e.jsx("p",{className:"text-xs text-slate-500",children:"URL to navigate to when clicked"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"window-target",children:"Window Target *"}),e.jsxs(Ge,{value:h.window_target,onValueChange:k=>p({...h,window_target:k}),children:[e.jsx(Ve,{id:"window-target",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"current",children:"Current Window"}),e.jsx(re,{value:"new_tab",children:"New Tab"}),e.jsx(re,{value:"parent",children:"Parent Window"}),e.jsx(re,{value:"popup",children:"Popup Window"})]})]})]}),h.window_target==="popup"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 pl-4 border-l-2 border-blue-200 bg-blue-50 p-3 rounded",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"popup-width",children:"Popup Width (px)"}),e.jsx(he,{id:"popup-width",type:"number",value:h.popup_width,onChange:k=>p({...h,popup_width:parseInt(k.target.value,10)}),min:200})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"popup-height",children:"Popup Height (px)"}),e.jsx(he,{id:"popup-height",type:"number",value:h.popup_height,onChange:k=>p({...h,popup_height:parseInt(k.target.value,10)}),min:200})]})]})]}),h.action_type==="form"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"form-slug",children:"Form *"}),e.jsxs(Ge,{value:h.form_slug,onValueChange:k=>p({...h,form_slug:k}),children:[e.jsx(Ve,{id:"form-slug",children:e.jsx(Je,{placeholder:"Select a form"})}),e.jsx(We,{children:j.map(k=>e.jsx(re,{value:k.slug,children:k.name},k.id))})]}),j.length===0&&e.jsx("p",{className:"text-xs text-amber-600",children:"No forms available. Create a form first."}),e.jsx("p",{className:"text-xs text-slate-500",children:"The form to open when the floater is clicked"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"display_location",children:"Display Location *"}),e.jsxs(Ge,{value:h.display_location,onValueChange:k=>p({...h,display_location:k}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"portal",children:"Portal Only"}),e.jsx(re,{value:"public",children:"Public Only"}),e.jsx(re,{value:"both",children:"Both"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"position",children:"Position *"}),e.jsxs(Ge,{value:h.position,onValueChange:k=>p({...h,position:k}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"bottom-right",children:"Bottom Right"}),e.jsx(re,{value:"bottom-left",children:"Bottom Left"}),e.jsx(re,{value:"top-right",children:"Top Right"}),e.jsx(re,{value:"top-left",children:"Top Left"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"offset_x",children:"Offset X (px)"}),e.jsx(he,{id:"offset_x",type:"number",value:h.offset_x,onChange:k=>p({...h,offset_x:parseInt(k.target.value,10)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"offset_y",children:"Offset Y (px)"}),e.jsx(he,{id:"offset_y",type:"number",value:h.offset_y,onChange:k=>p({...h,offset_y:parseInt(k.target.value,10)})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"width",children:"Width (px)"}),e.jsx(he,{id:"width",type:"number",value:h.width,onChange:k=>p({...h,width:parseInt(k.target.value,10)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"height",children:"Height (px)"}),e.jsx(he,{id:"height",type:"number",value:h.height,onChange:k=>p({...h,height:parseInt(k.target.value,10)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"display_order",children:"Display Order"}),e.jsx(he,{id:"display_order",type:"number",value:h.display_order,onChange:k=>p({...h,display_order:parseInt(k.target.value,10)})}),e.jsx("p",{className:"text-xs text-slate-500",children:"Lower numbers appear first"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"show_background",children:"Show Background"}),e.jsx(fs,{id:"show_background",checked:h.show_background,onCheckedChange:k=>p({...h,show_background:k})})]}),e.jsx("p",{className:"text-xs text-slate-500 -mt-2",children:"Display rounded background and shadow"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"is_active",children:"Active"}),e.jsx(fs,{id:"is_active",checked:h.is_active,onCheckedChange:k=>p({...h,is_active:k})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:A,children:"Cancel"}),e.jsxs(X,{onClick:C,className:"bg-blue-600 hover:bg-blue-700",children:[l?"Update":"Create"," Floater"]})]})]})}),e.jsx(Yl,{open:a,onOpenChange:i,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Are you sure?"}),e.jsxs(dl,{children:['This will permanently delete the floater "',c==null?void 0:c.name,'". This action cannot be undone.']})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}function yz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(null),l=Jt(),{data:o=[],isLoading:c}=me({queryKey:["forms"],queryFn:async()=>await ee.entities.Form.list(),staleTime:30*1e3}),d=Ie({mutationFn:async p=>await ee.entities.Form.delete(p),onSuccess:()=>{l.invalidateQueries({queryKey:["forms"]}),te.success("Form deleted successfully"),r(!1),i(null)},onError:p=>{te.error("Failed to delete form")}}),u=Ie({mutationFn:async p=>{const{id:x,created_date:y,updated_date:v,created_by:j,submission_count:w,...N}=p,_={...N,name:`Copy of ${p.name}`,slug:`${p.slug}-copy-${Date.now()}`,submission_count:0};return await ee.entities.Form.create(_)},onSuccess:()=>{l.invalidateQueries({queryKey:["forms"]}),te.success("Form duplicated successfully")},onError:p=>{te.error("Failed to duplicate form")}});if(!t||s("page_FormManagement"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const m=()=>{a&&d.mutate(a.id)},h=p=>{u.mutate(p)};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Form Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage custom forms"})]}),e.jsx(Gt,{to:Te("FormBuilder"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Form"]})})]}),o.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No forms yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first form to get started"}),e.jsx(Gt,{to:Te("FormBuilder"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Form"]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>{var x;return e.jsxs(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:[e.jsx(Fe,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base mb-2",children:p.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(ye,{variant:"outline",children:p.layout_type==="card_swipe"?"Card Swipe":"Standard"}),e.jsx(ye,{variant:p.is_active?"default":"secondary",children:p.is_active?e.jsxs(e.Fragment,{children:[e.jsx(kr,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(h2,{className:"w-3 h-3 mr-1"}),"Inactive"]})}),p.require_authentication&&e.jsx(ye,{variant:"secondary",children:"Auth Required"})]})]})})}),e.jsxs(ce,{className:"space-y-3",children:[p.description&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",children:p.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Fields:"}),e.jsx(ye,{variant:"secondary",children:((x=p.fields)==null?void 0:x.length)||0})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Submissions:"}),e.jsxs(ye,{variant:"secondary",className:"gap-1",children:[e.jsx(qh,{className:"w-3 h-3"}),p.submission_count||0]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Slug:"}),e.jsx("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:p.slug})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Gt,{to:`${Te("FormBuilder")}?formId=${p.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(p),disabled:u.isPending,title:"Duplicate form",children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx(Gt,{to:`${Te("FormView")}?slug=${p.slug}`,children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(kr,{className:"w-3 h-3"})})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{i(p),r(!0)},children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]},p.id)})})]}),e.jsx(Yl,{open:n,onOpenChange:r,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Are you sure?"}),e.jsxs(dl,{children:['This will permanently delete the form "',a==null?void 0:a.name,'" and all its submissions. This action cannot be undone.']})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:m,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}const jke=[{value:"text",label:"Text Input"},{value:"email",label:"Email"},{value:"number",label:"Number"},{value:"tel",label:"Phone"},{value:"textarea",label:"Text Area"},{value:"select",label:"Dropdown"},{value:"radio",label:"Radio Buttons"},{value:"checkbox",label:"Checkboxes"},{value:"date",label:"Date"},{value:"time",label:"Time"},{value:"file",label:"File Upload"},{value:"user_name",label:"User Name (Auto)"},{value:"user_email",label:"User Email (Auto)"},{value:"user_organization",label:"User Organization (Auto)"},{value:"user_job_title",label:"User Job Title (Auto)"}];function bz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({name:"",description:"",slug:"",layout_type:"standard",fields:[],submit_button_text:"Submit",success_message:"Thank you for your submission!",redirect_url:"",require_authentication:!1,is_active:!0}),a=Jt(),l=new URLSearchParams(window.location.search).get("formId"),{data:o,isLoading:c}=me({queryKey:["form",l],queryFn:async()=>l?(await ee.entities.Form.list()).find(j=>j.id===l):null,enabled:!!l,staleTime:30*1e3});b.useEffect(()=>{o&&r({name:o.name||"",description:o.description||"",slug:o.slug||"",layout_type:o.layout_type||"standard",fields:o.fields?o.fields.map(v=>({...v,allow_other:v.allow_other??!1})):[],submit_button_text:o.submit_button_text||"Submit",success_message:o.success_message||"Thank you for your submission!",redirect_url:o.redirect_url||"",require_authentication:o.require_authentication||!1,is_active:o.is_active??!0})},[o]);const d=Ie({mutationFn:async v=>await ee.entities.Form.create(v),onSuccess:()=>{a.invalidateQueries({queryKey:["forms"]}),te.success("Form created successfully"),window.location.href=Te("FormManagement")},onError:v=>{te.error("Failed to create form")}}),u=Ie({mutationFn:async({id:v,data:j})=>await ee.entities.Form.update(v,j),onSuccess:()=>{a.invalidateQueries({queryKey:["forms"]}),te.success("Form updated successfully")},onError:v=>{te.error("Failed to update form")}});if(!t||s("page_FormBuilder"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})});const m=()=>{const v={id:`field_${Date.now()}`,type:"text",label:"New Field",placeholder:"",required:!1,options:[],allow_other:!1};r({...n,fields:[...n.fields,v]})},h=(v,j)=>{const w=[...n.fields];w[v]={...w[v],...j},r({...n,fields:w})},p=v=>{const j=n.fields.filter((w,N)=>N!==v);r({...n,fields:j})},x=v=>{if(!v.destination)return;const j=Array.from(n.fields),[w]=j.splice(v.source.index,1);j.splice(v.destination.index,0,w),r({...n,fields:j})},y=()=>{if(!n.name||!n.slug){te.error("Please fill in name and slug");return}if(n.fields.length===0){te.error("Please add at least one field");return}l?u.mutate({id:l,data:n}):d.mutate(n)};return c?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx(Gt,{to:Te("FormManagement"),children:e.jsxs(X,{variant:"ghost",size:"sm",className:"mb-2",children:[e.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Back to Forms"]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:l?"Edit Form":"Create Form"})]}),e.jsx(X,{onClick:y,disabled:d.isPending||u.isPending,className:"bg-blue-600 hover:bg-blue-700",children:d.isPending||u.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Form"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(le,{className:"border-slate-200 sticky top-4",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-lg",children:"Form Settings"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Form Name *"}),e.jsx(he,{id:"name",value:n.name,onChange:v=>r({...n,name:v.target.value}),placeholder:"Contact Form"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"slug",children:"Slug *"}),e.jsx(he,{id:"slug",value:n.slug,onChange:v=>r({...n,slug:v.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-")}),placeholder:"contact-form"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["URL: /FormView?slug=",n.slug||"your-slug"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:n.description,onChange:v=>r({...n,description:v.target.value}),placeholder:"Form description...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"layout_type",children:"Layout Type *"}),e.jsxs(Ge,{value:n.layout_type,onValueChange:v=>r({...n,layout_type:v}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"standard",children:"Standard (All Fields)"}),e.jsx(re,{value:"card_swipe",children:"Card Swipe (One at a Time)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"submit_button_text",children:"Submit Button Text"}),e.jsx(he,{id:"submit_button_text",value:n.submit_button_text,onChange:v=>r({...n,submit_button_text:v.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"success_message",children:"Success Message"}),e.jsx(Qt,{id:"success_message",value:n.success_message,onChange:v=>r({...n,success_message:v.target.value}),rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"redirect_url",children:"Redirect URL (Optional)"}),e.jsx(he,{id:"redirect_url",type:"url",value:n.redirect_url,onChange:v=>r({...n,redirect_url:v.target.value}),placeholder:"https://example.com/thanks"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"require_authentication",children:"Require Login"}),e.jsx(fs,{id:"require_authentication",checked:n.require_authentication,onCheckedChange:v=>r({...n,require_authentication:v})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Z,{htmlFor:"is_active",children:"Active"}),e.jsx(fs,{id:"is_active",checked:n.is_active,onCheckedChange:v=>r({...n,is_active:v})})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ze,{className:"text-lg",children:"Form Fields"}),e.jsxs(X,{onClick:m,size:"sm",variant:"outline",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Field"]})]})}),e.jsx(ce,{children:n.fields.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("p",{className:"mb-4",children:"No fields added yet"}),e.jsxs(X,{onClick:m,variant:"outline",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Your First Field"]})]}):e.jsx(ig,{onDragEnd:x,children:e.jsx(_d,{droppableId:"fields",children:v=>e.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"space-y-4",children:[n.fields.map((j,w)=>e.jsx(Nd,{draggableId:j.id,index:w,children:N=>e.jsx("div",{ref:N.innerRef,...N.draggableProps,className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{...N.dragHandleProps,className:"mt-2 cursor-move",children:e.jsx(zd,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Z,{className:"text-xs",children:"Field Type"}),e.jsxs(Ge,{value:j.type,onValueChange:_=>h(w,{type:_}),children:[e.jsx(Ve,{className:"h-9",children:e.jsx(Je,{})}),e.jsx(We,{children:jke.map(_=>e.jsx(re,{value:_.value,children:_.label},_.value))})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(Z,{className:"text-xs",children:"Label"}),e.jsx(he,{value:j.label,onChange:_=>h(w,{label:_.target.value}),className:"h-9"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(Z,{className:"text-xs",children:"Placeholder"}),e.jsx(he,{value:j.placeholder,onChange:_=>h(w,{placeholder:_.target.value}),className:"h-9"})]}),["select","radio","checkbox"].includes(j.type)&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(Z,{className:"text-xs",children:"Options (one per line)"}),e.jsx(Qt,{value:(j.options||[]).join(`
`),onChange:_=>h(w,{options:_.target.value.split(`
`).filter(P=>P.trim())}),className:"h-20 text-sm",placeholder:`Option 1
Option 2
Option 3`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{id:`required-${j.id}`,checked:j.required,onCheckedChange:_=>h(w,{required:_})}),e.jsx(Z,{htmlFor:`required-${j.id}`,className:"text-xs",children:"Required"})]}),j.type==="select"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{id:`allow-other-${j.id}`,checked:j.allow_other||!1,onCheckedChange:_=>h(w,{allow_other:_})}),e.jsx(Z,{htmlFor:`allow-other-${j.id}`,className:"text-xs",children:'Allow "Other"'})]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>p(w),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})]})})},j.id)),v.placeholder]})})})})]})})]})]})})}function jz({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState(0),[a,i]=b.useState({}),[l,o]=b.useState(!1),c=Jt(),u=new URLSearchParams(window.location.search).get("slug"),{data:m}=me({queryKey:["member-record",t==null?void 0:t.email],queryFn:async()=>(await ee.entities.Member.list()).find(w=>w.email===(t==null?void 0:t.email)),enabled:!!(t!=null&&t.email),staleTime:30*1e3}),{data:h,isLoading:p}=me({queryKey:["form-by-slug",u],queryFn:async()=>(await ee.entities.Form.list()).find(w=>w.slug===u&&w.is_active),enabled:!!u,staleTime:30*1e3}),x=Ie({mutationFn:async j=>await ee.entities.FormSubmission.create(j),onSuccess:async()=>{h&&await ee.entities.Form.update(h.id,{submission_count:(h.submission_count||0)+1}),c.invalidateQueries({queryKey:["form-by-slug"]}),o(!0),h!=null&&h.redirect_url&&setTimeout(()=>{window.location.href=h.redirect_url},2e3)},onError:j=>{te.error("Failed to submit form")}});if(p)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})});if(!h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Form not found or is not active."})})})});if(h.require_authentication&&!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Please log in to access this form."})})})});const y=async()=>{const j=h.fields.filter(N=>N.required&&(!a[N.id]||a[N.id].length===0));if(j.length>0){te.error(`Please fill in all required fields: ${j.map(N=>N.label).join(", ")}`);return}const w={form_id:h.id,form_name:h.name,submitted_by_email:(t==null?void 0:t.email)||null,submitted_by_name:t?`${t.first_name} ${t.last_name}`:null,submission_data:a};x.mutate(w)};if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md border-green-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ar,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Success!"}),e.jsx("p",{className:"text-slate-600",children:h.success_message}),h.redirect_url&&e.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Redirecting..."})]})})});const v=m||t;if(h.layout_type==="card_swipe"){const j=h.fields[n],w=n===h.fields.length-1,N=!(j!=null&&j.required)||a[j==null?void 0:j.id];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsxs(le,{className:"max-w-2xl w-full border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:h.name}),h.description&&e.jsx(As,{className:"whitespace-pre-line",children:h.description}),e.jsx("div",{className:"flex gap-1 mt-4",children:h.fields.map((_,P)=>e.jsx("div",{className:`h-1 flex-1 rounded ${P<=n?"bg-blue-600":"bg-slate-200"}`},P))})]}),e.jsx(ce,{className:"min-h-[300px]",children:j&&e.jsx(kh,{field:j,value:a[j.id],onChange:_=>i({...a,[j.id]:_}),memberInfo:v,organizationInfo:s})}),e.jsxs("div",{className:"p-6 pt-0 flex justify-between",children:[e.jsxs(X,{variant:"outline",onClick:()=>r(n-1),disabled:n===0,children:[e.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Previous"]}),w?e.jsx(X,{onClick:y,disabled:!N||x.isPending,className:"bg-blue-600 hover:bg-blue-700",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):h.submit_button_text}):e.jsxs(X,{onClick:()=>r(n+1),disabled:!N,children:["Next",e.jsx(Ss,{className:"w-4 h-4 ml-2"})]})]})]})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:h.name}),h.description&&e.jsx(As,{className:"whitespace-pre-line",children:h.description})]}),e.jsxs(ce,{className:"space-y-6",children:[h.fields.map(j=>e.jsx(kh,{field:j,value:a[j.id],onChange:w=>i({...a,[j.id]:w}),memberInfo:v,organizationInfo:s},j.id)),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(X,{onClick:y,disabled:x.isPending,className:"bg-blue-600 hover:bg-blue-700",children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):h.submit_button_text})})]})]})})})}function wz({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}),a=Jt(),{data:i,isLoading:l}=me({queryKey:["memberDirectoryDisplay"],queryFn:async()=>{const m=(await ee.entities.SystemSettings.list()).find(h=>h.setting_key==="member_directory_display");if(m!=null&&m.setting_value)try{const h=JSON.parse(m.setting_value);return{id:m.id,...h}}catch(h){return console.error("Failed to parse member directory settings:",h),{id:m.id,show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}}return{show_profile_photo:!0,show_events:!0,show_articles:!0,show_organization:!0,show_job_title:!0,show_linkedin:!0,show_awards:!0,show_bio_in_popup:!0}},staleTime:0,refetchOnMount:!0});b.useEffect(()=>{i&&r(i)},[i]);const o=Ie({mutationFn:async u=>{const{id:m,...h}=u,p=JSON.stringify(h);return m?await ee.entities.SystemSettings.update(m,{setting_value:p}):await ee.entities.SystemSettings.create({setting_key:"member_directory_display",setting_value:p,description:"Controls which fields are displayed on Member Directory cards"})},onSuccess:()=>{a.invalidateQueries({queryKey:["memberDirectoryDisplay"]}),te.success("Settings saved successfully")},onError:u=>{console.error("Failed to save settings:",u),te.error("Failed to save settings")}}),c=u=>{r(m=>({...m,[u]:!m[u]}))},d=()=>{o.mutate(n)};return!t||s("page_MemberDirectorySettings")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Cs,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Member Directory Settings"})]}),e.jsx("p",{className:"text-slate-600",children:"Configure what information displays on member directory cards"})]}),e.jsxs(le,{className:"border-slate-200",children:[e.jsxs(Fe,{children:[e.jsx(ze,{children:"Display Options"}),e.jsx(As,{children:"Toggle which fields appear on member cards in the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-profile-photo",className:"cursor-pointer font-medium",children:"Profile Photos"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member profile photos on cards"})]}),e.jsx(fs,{id:"show-profile-photo",checked:n.show_profile_photo,onCheckedChange:()=>c("show_profile_photo")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-organization",className:"cursor-pointer font-medium",children:"Organization"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display the member's organization name"})]}),e.jsx(fs,{id:"show-organization",checked:n.show_organization,onCheckedChange:()=>c("show_organization")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-job-title",className:"cursor-pointer font-medium",children:"Job Title"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display the member's job title"})]}),e.jsx(fs,{id:"show-job-title",checked:n.show_job_title,onCheckedChange:()=>c("show_job_title")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-linkedin",className:"cursor-pointer font-medium",children:"LinkedIn Profile"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display LinkedIn profile link if available"})]}),e.jsx(fs,{id:"show-linkedin",checked:n.show_linkedin,onCheckedChange:()=>c("show_linkedin")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-events",className:"cursor-pointer font-medium",children:"Events Attended"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display count of events attended"})]}),e.jsx(fs,{id:"show-events",checked:n.show_events,onCheckedChange:()=>c("show_events")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-articles",className:"cursor-pointer font-medium",children:"Articles Published"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display count of published articles"})]}),e.jsx(fs,{id:"show-articles",checked:n.show_articles,onCheckedChange:()=>c("show_articles")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-awards",className:"cursor-pointer font-medium",children:"Awards"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member's earned awards"})]}),e.jsx(fs,{id:"show-awards",checked:n.show_awards,onCheckedChange:()=>c("show_awards")})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"show-bio-in-popup",className:"cursor-pointer font-medium",children:"Biography in Detail View"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display member biography in the popup detail view"})]}),e.jsx(fs,{id:"show-bio-in-popup",checked:n.show_bio_in_popup,onCheckedChange:()=>c("show_bio_in_popup")})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-200",children:e.jsx(X,{onClick:d,disabled:o.isPending,className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})]})]})]})})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Nz;function _t(){return Nz.apply(null,arguments)}function wke(t){Nz=t}function Bi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Sd(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ws(t,s){return Object.prototype.hasOwnProperty.call(t,s)}function Yk(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var s;for(s in t)if(Ws(t,s))return!1;return!0}function ia(t){return t===void 0}function uo(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function cg(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function _z(t,s){var n=[],r,a=t.length;for(r=0;r<a;++r)n.push(s(t[r],r));return n}function rc(t,s){for(var n in s)Ws(s,n)&&(t[n]=s[n]);return Ws(s,"toString")&&(t.toString=s.toString),Ws(s,"valueOf")&&(t.valueOf=s.valueOf),t}function Sl(t,s,n,r){return Kz(t,s,n,r,!0).utc()}function Nke(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function vs(t){return t._pf==null&&(t._pf=Nke()),t._pf}var HS;Array.prototype.some?HS=Array.prototype.some:HS=function(t){var s=Object(this),n=s.length>>>0,r;for(r=0;r<n;r++)if(r in s&&t.call(this,s[r],r,s))return!0;return!1};function Qk(t){var s=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(s=vs(t),n=HS.call(s.parsedDateParts,function(a){return a!=null}),r=s.overflow<0&&!s.empty&&!s.invalidEra&&!s.invalidMonth&&!s.invalidWeekday&&!s.weekdayMismatch&&!s.nullInput&&!s.invalidFormat&&!s.userInvalidated&&(!s.meridiem||s.meridiem&&n),t._strict&&(r=r&&s.charsLeftOver===0&&s.unusedTokens.length===0&&s.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Fy(t){var s=Sl(NaN);return t!=null?rc(vs(s),t):vs(s).userInvalidated=!0,s}var A6=_t.momentProperties=[],B_=!1;function Jk(t,s){var n,r,a,i=A6.length;if(ia(s._isAMomentObject)||(t._isAMomentObject=s._isAMomentObject),ia(s._i)||(t._i=s._i),ia(s._f)||(t._f=s._f),ia(s._l)||(t._l=s._l),ia(s._strict)||(t._strict=s._strict),ia(s._tzm)||(t._tzm=s._tzm),ia(s._isUTC)||(t._isUTC=s._isUTC),ia(s._offset)||(t._offset=s._offset),ia(s._pf)||(t._pf=vs(s)),ia(s._locale)||(t._locale=s._locale),i>0)for(n=0;n<i;n++)r=A6[n],a=s[r],ia(a)||(t[r]=a);return t}function dg(t){Jk(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),B_===!1&&(B_=!0,_t.updateOffset(this),B_=!1)}function qi(t){return t instanceof dg||t!=null&&t._isAMomentObject!=null}function Sz(t){_t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function hi(t,s){var n=!0;return rc(function(){if(_t.deprecationHandler!=null&&_t.deprecationHandler(null,t),n){var r=[],a,i,l,o=arguments.length;for(i=0;i<o;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(l in arguments[0])Ws(arguments[0],l)&&(a+=l+": "+arguments[0][l]+", ");a=a.slice(0,-2)}else a=arguments[i];r.push(a)}Sz(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return s.apply(this,arguments)},s)}var O6={};function Cz(t,s){_t.deprecationHandler!=null&&_t.deprecationHandler(t,s),O6[t]||(Sz(s),O6[t]=!0)}_t.suppressDeprecationWarnings=!1;_t.deprecationHandler=null;function Cl(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function _ke(t){var s,n;for(n in t)Ws(t,n)&&(s=t[n],Cl(s)?this[n]=s:this["_"+n]=s);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function KS(t,s){var n=rc({},t),r;for(r in s)Ws(s,r)&&(Sd(t[r])&&Sd(s[r])?(n[r]={},rc(n[r],t[r]),rc(n[r],s[r])):s[r]!=null?n[r]=s[r]:delete n[r]);for(r in t)Ws(t,r)&&!Ws(s,r)&&Sd(t[r])&&(n[r]=rc({},n[r]));return n}function Xk(t){t!=null&&this.set(t)}var GS;Object.keys?GS=Object.keys:GS=function(t){var s,n=[];for(s in t)Ws(t,s)&&n.push(s);return n};var Ske={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Cke(t,s,n){var r=this._calendar[t]||this._calendar.sameElse;return Cl(r)?r.call(s,n):r}function bl(t,s,n){var r=""+Math.abs(t),a=s-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var Zk=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,t0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q_={},ih={};function Xt(t,s,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),t&&(ih[t]=a),s&&(ih[s[0]]=function(){return bl(a.apply(this,arguments),s[1],s[2])}),n&&(ih[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function kke(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Eke(t){var s=t.match(Zk),n,r;for(n=0,r=s.length;n<r;n++)ih[s[n]]?s[n]=ih[s[n]]:s[n]=kke(s[n]);return function(a){var i="",l;for(l=0;l<r;l++)i+=Cl(s[l])?s[l].call(a,t):s[l];return i}}function C0(t,s){return t.isValid()?(s=kz(s,t.localeData()),q_[s]=q_[s]||Eke(s),q_[s](t)):t.localeData().invalidDate()}function kz(t,s){var n=5;function r(a){return s.longDateFormat(a)||a}for(t0.lastIndex=0;n>=0&&t0.test(t);)t=t.replace(t0,r),t0.lastIndex=0,n-=1;return t}var Tke={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Pke(t){var s=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return s||!n?s:(this._longDateFormat[t]=n.match(Zk).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Ake="Invalid date";function Oke(){return this._invalidDate}var Mke="%d",Dke=/\d{1,2}/;function Rke(t){return this._ordinal.replace("%d",t)}var Fke={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ike(t,s,n,r){var a=this._relativeTime[n];return Cl(a)?a(t,s,n,r):a.replace(/%d/i,t)}function Lke(t,s){var n=this._relativeTime[t>0?"future":"past"];return Cl(n)?n(s):n.replace(/%s/i,s)}var M6={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function mi(t){return typeof t=="string"?M6[t]||M6[t.toLowerCase()]:void 0}function eE(t){var s={},n,r;for(r in t)Ws(t,r)&&(n=mi(r),n&&(s[n]=t[r]));return s}var Bke={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function qke(t){var s=[],n;for(n in t)Ws(t,n)&&s.push({unit:n,priority:Bke[n]});return s.sort(function(r,a){return r.priority-a.priority}),s}var Ez=/\d/,$a=/\d\d/,Tz=/\d{3}/,tE=/\d{4}/,Iy=/[+-]?\d{6}/,vn=/\d\d?/,Pz=/\d\d\d\d?/,Az=/\d\d\d\d\d\d?/,Ly=/\d{1,3}/,sE=/\d{1,4}/,By=/[+-]?\d{1,6}/,fm=/\d+/,qy=/[+-]?\d+/,$ke=/Z|[+-]\d\d:?\d\d/gi,$y=/Z|[+-]\d\d(?::?\d\d)?/gi,Uke=/[+-]?\d+(\.\d{1,3})?/,ug=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pm=/^[1-9]\d?/,nE=/^([1-9]\d|\d)/,pv;pv={};function Mt(t,s,n){pv[t]=Cl(s)?s:function(r,a){return r&&n?n:s}}function zke(t,s){return Ws(pv,t)?pv[t](s._strict,s._locale):new RegExp(Vke(t))}function Vke(t){return eo(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(s,n,r,a,i){return n||r||a||i}))}function eo(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function si(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Os(t){var s=+t,n=0;return s!==0&&isFinite(s)&&(n=si(s)),n}var YS={};function nn(t,s){var n,r=s,a;for(typeof t=="string"&&(t=[t]),uo(s)&&(r=function(i,l){l[s]=Os(i)}),a=t.length,n=0;n<a;n++)YS[t[n]]=r}function hg(t,s){nn(t,function(n,r,a,i){a._w=a._w||{},s(n,a._w,a,i)})}function Wke(t,s,n){s!=null&&Ws(YS,t)&&YS[t](s,n._a,n,t)}function Uy(t){return t%4===0&&t%100!==0||t%400===0}var Cr=0,Ql=1,rl=2,Jn=3,Oi=4,Jl=5,cd=6,Hke=7,Kke=8;Xt("Y",0,0,function(){var t=this.year();return t<=9999?bl(t,4):"+"+t});Xt(0,["YY",2],0,function(){return this.year()%100});Xt(0,["YYYY",4],0,"year");Xt(0,["YYYYY",5],0,"year");Xt(0,["YYYYYY",6,!0],0,"year");Mt("Y",qy);Mt("YY",vn,$a);Mt("YYYY",sE,tE);Mt("YYYYY",By,Iy);Mt("YYYYYY",By,Iy);nn(["YYYYY","YYYYYY"],Cr);nn("YYYY",function(t,s){s[Cr]=t.length===2?_t.parseTwoDigitYear(t):Os(t)});nn("YY",function(t,s){s[Cr]=_t.parseTwoDigitYear(t)});nn("Y",function(t,s){s[Cr]=parseInt(t,10)});function Lf(t){return Uy(t)?366:365}_t.parseTwoDigitYear=function(t){return Os(t)+(Os(t)>68?1900:2e3)};var Oz=gm("FullYear",!0);function Gke(){return Uy(this.year())}function gm(t,s){return function(n){return n!=null?(Mz(this,t,n),_t.updateOffset(this,s),this):pp(this,t)}}function pp(t,s){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(s){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Mz(t,s,n){var r,a,i,l,o;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,a=t._isUTC,s){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,l=t.month(),o=t.date(),o=o===29&&l===1&&!Uy(i)?28:o,a?r.setUTCFullYear(i,l,o):r.setFullYear(i,l,o)}}function Yke(t){return t=mi(t),Cl(this[t])?this[t]():this}function Qke(t,s){if(typeof t=="object"){t=eE(t);var n=qke(t),r,a=n.length;for(r=0;r<a;r++)this[n[r].unit](t[n[r].unit])}else if(t=mi(t),Cl(this[t]))return this[t](s);return this}function Jke(t,s){return(t%s+s)%s}var Ln;Array.prototype.indexOf?Ln=Array.prototype.indexOf:Ln=function(t){var s;for(s=0;s<this.length;++s)if(this[s]===t)return s;return-1};function rE(t,s){if(isNaN(t)||isNaN(s))return NaN;var n=Jke(s,12);return t+=(s-n)/12,n===1?Uy(t)?29:28:31-n%7%2}Xt("M",["MM",2],"Mo",function(){return this.month()+1});Xt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Xt("MMMM",0,0,function(t){return this.localeData().months(this,t)});Mt("M",vn,pm);Mt("MM",vn,$a);Mt("MMM",function(t,s){return s.monthsShortRegex(t)});Mt("MMMM",function(t,s){return s.monthsRegex(t)});nn(["M","MM"],function(t,s){s[Ql]=Os(t)-1});nn(["MMM","MMMM"],function(t,s,n,r){var a=n._locale.monthsParse(t,r,n._strict);a!=null?s[Ql]=a:vs(n).invalidMonth=t});var Xke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dz="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rz=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Zke=ug,eEe=ug;function tEe(t,s){return t?Bi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Rz).test(s)?"format":"standalone"][t.month()]:Bi(this._months)?this._months:this._months.standalone}function sEe(t,s){return t?Bi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Rz.test(s)?"format":"standalone"][t.month()]:Bi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function nEe(t,s,n){var r,a,i,l=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Sl([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?s==="MMM"?(a=Ln.call(this._shortMonthsParse,l),a!==-1?a:null):(a=Ln.call(this._longMonthsParse,l),a!==-1?a:null):s==="MMM"?(a=Ln.call(this._shortMonthsParse,l),a!==-1?a:(a=Ln.call(this._longMonthsParse,l),a!==-1?a:null)):(a=Ln.call(this._longMonthsParse,l),a!==-1?a:(a=Ln.call(this._shortMonthsParse,l),a!==-1?a:null))}function rEe(t,s,n){var r,a,i;if(this._monthsParseExact)return nEe.call(this,t,s,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=Sl([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&s==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&s==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Fz(t,s){if(!t.isValid())return t;if(typeof s=="string"){if(/^\d+$/.test(s))s=Os(s);else if(s=t.localeData().monthsParse(s),!uo(s))return t}var n=s,r=t.date();return r=r<29?r:Math.min(r,rE(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function Iz(t){return t!=null?(Fz(this,t),_t.updateOffset(this,!0),this):pp(this,"Month")}function aEe(){return rE(this.year(),this.month())}function iEe(t){return this._monthsParseExact?(Ws(this,"_monthsRegex")||Lz.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ws(this,"_monthsShortRegex")||(this._monthsShortRegex=Zke),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function lEe(t){return this._monthsParseExact?(Ws(this,"_monthsRegex")||Lz.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ws(this,"_monthsRegex")||(this._monthsRegex=eEe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Lz(){function t(c,d){return d.length-c.length}var s=[],n=[],r=[],a,i,l,o;for(a=0;a<12;a++)i=Sl([2e3,a]),l=eo(this.monthsShort(i,"")),o=eo(this.months(i,"")),s.push(l),n.push(o),r.push(o),r.push(l);s.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function oEe(t,s,n,r,a,i,l){var o;return t<100&&t>=0?(o=new Date(t+400,s,n,r,a,i,l),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,s,n,r,a,i,l),o}function gp(t){var s,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,s=new Date(Date.UTC.apply(null,n)),isFinite(s.getUTCFullYear())&&s.setUTCFullYear(t)):s=new Date(Date.UTC.apply(null,arguments)),s}function gv(t,s,n){var r=7+s-n,a=(7+gp(t,0,r).getUTCDay()-s)%7;return-a+r-1}function Bz(t,s,n,r,a){var i=(7+n-r)%7,l=gv(t,r,a),o=1+7*(s-1)+i+l,c,d;return o<=0?(c=t-1,d=Lf(c)+o):o>Lf(t)?(c=t+1,d=o-Lf(t)):(c=t,d=o),{year:c,dayOfYear:d}}function xp(t,s,n){var r=gv(t.year(),s,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1,i,l;return a<1?(l=t.year()-1,i=a+to(l,s,n)):a>to(t.year(),s,n)?(i=a-to(t.year(),s,n),l=t.year()+1):(l=t.year(),i=a),{week:i,year:l}}function to(t,s,n){var r=gv(t,s,n),a=gv(t+1,s,n);return(Lf(t)-r+a)/7}Xt("w",["ww",2],"wo","week");Xt("W",["WW",2],"Wo","isoWeek");Mt("w",vn,pm);Mt("ww",vn,$a);Mt("W",vn,pm);Mt("WW",vn,$a);hg(["w","ww","W","WW"],function(t,s,n,r){s[r.substr(0,1)]=Os(t)});function cEe(t){return xp(t,this._week.dow,this._week.doy).week}var dEe={dow:0,doy:6};function uEe(){return this._week.dow}function hEe(){return this._week.doy}function mEe(t){var s=this.localeData().week(this);return t==null?s:this.add((t-s)*7,"d")}function fEe(t){var s=xp(this,1,4).week;return t==null?s:this.add((t-s)*7,"d")}Xt("d",0,"do","day");Xt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Xt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Xt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Xt("e",0,0,"weekday");Xt("E",0,0,"isoWeekday");Mt("d",vn);Mt("e",vn);Mt("E",vn);Mt("dd",function(t,s){return s.weekdaysMinRegex(t)});Mt("ddd",function(t,s){return s.weekdaysShortRegex(t)});Mt("dddd",function(t,s){return s.weekdaysRegex(t)});hg(["dd","ddd","dddd"],function(t,s,n,r){var a=n._locale.weekdaysParse(t,r,n._strict);a!=null?s.d=a:vs(n).invalidWeekday=t});hg(["d","e","E"],function(t,s,n,r){s[r]=Os(t)});function pEe(t,s){return typeof t!="string"?t:isNaN(t)?(t=s.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function gEe(t,s){return typeof t=="string"?s.weekdaysParse(t)%7||7:isNaN(t)?null:t}function aE(t,s){return t.slice(s,7).concat(t.slice(0,s))}var xEe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qz="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vEe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),yEe=ug,bEe=ug,jEe=ug;function wEe(t,s){var n=Bi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(s)?"format":"standalone"];return t===!0?aE(n,this._week.dow):t?n[t.day()]:n}function NEe(t){return t===!0?aE(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function _Ee(t){return t===!0?aE(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function SEe(t,s,n){var r,a,i,l=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Sl([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?s==="dddd"?(a=Ln.call(this._weekdaysParse,l),a!==-1?a:null):s==="ddd"?(a=Ln.call(this._shortWeekdaysParse,l),a!==-1?a:null):(a=Ln.call(this._minWeekdaysParse,l),a!==-1?a:null):s==="dddd"?(a=Ln.call(this._weekdaysParse,l),a!==-1||(a=Ln.call(this._shortWeekdaysParse,l),a!==-1)?a:(a=Ln.call(this._minWeekdaysParse,l),a!==-1?a:null)):s==="ddd"?(a=Ln.call(this._shortWeekdaysParse,l),a!==-1||(a=Ln.call(this._weekdaysParse,l),a!==-1)?a:(a=Ln.call(this._minWeekdaysParse,l),a!==-1?a:null)):(a=Ln.call(this._minWeekdaysParse,l),a!==-1||(a=Ln.call(this._weekdaysParse,l),a!==-1)?a:(a=Ln.call(this._shortWeekdaysParse,l),a!==-1?a:null))}function CEe(t,s,n){var r,a,i;if(this._weekdaysParseExact)return SEe.call(this,t,s,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=Sl([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&s==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&s==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&s==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function kEe(t){if(!this.isValid())return t!=null?this:NaN;var s=pp(this,"Day");return t!=null?(t=pEe(t,this.localeData()),this.add(t-s,"d")):s}function EEe(t){if(!this.isValid())return t!=null?this:NaN;var s=(this.day()+7-this.localeData()._week.dow)%7;return t==null?s:this.add(t-s,"d")}function TEe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var s=gEe(t,this.localeData());return this.day(this.day()%7?s:s-7)}else return this.day()||7}function PEe(t){return this._weekdaysParseExact?(Ws(this,"_weekdaysRegex")||iE.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ws(this,"_weekdaysRegex")||(this._weekdaysRegex=yEe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function AEe(t){return this._weekdaysParseExact?(Ws(this,"_weekdaysRegex")||iE.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ws(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bEe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function OEe(t){return this._weekdaysParseExact?(Ws(this,"_weekdaysRegex")||iE.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ws(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jEe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function iE(){function t(u,m){return m.length-u.length}var s=[],n=[],r=[],a=[],i,l,o,c,d;for(i=0;i<7;i++)l=Sl([2e3,1]).day(i),o=eo(this.weekdaysMin(l,"")),c=eo(this.weekdaysShort(l,"")),d=eo(this.weekdays(l,"")),s.push(o),n.push(c),r.push(d),a.push(o),a.push(c),a.push(d);s.sort(t),n.sort(t),r.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function lE(){return this.hours()%12||12}function MEe(){return this.hours()||24}Xt("H",["HH",2],0,"hour");Xt("h",["hh",2],0,lE);Xt("k",["kk",2],0,MEe);Xt("hmm",0,0,function(){return""+lE.apply(this)+bl(this.minutes(),2)});Xt("hmmss",0,0,function(){return""+lE.apply(this)+bl(this.minutes(),2)+bl(this.seconds(),2)});Xt("Hmm",0,0,function(){return""+this.hours()+bl(this.minutes(),2)});Xt("Hmmss",0,0,function(){return""+this.hours()+bl(this.minutes(),2)+bl(this.seconds(),2)});function $z(t,s){Xt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),s)})}$z("a",!0);$z("A",!1);function Uz(t,s){return s._meridiemParse}Mt("a",Uz);Mt("A",Uz);Mt("H",vn,nE);Mt("h",vn,pm);Mt("k",vn,pm);Mt("HH",vn,$a);Mt("hh",vn,$a);Mt("kk",vn,$a);Mt("hmm",Pz);Mt("hmmss",Az);Mt("Hmm",Pz);Mt("Hmmss",Az);nn(["H","HH"],Jn);nn(["k","kk"],function(t,s,n){var r=Os(t);s[Jn]=r===24?0:r});nn(["a","A"],function(t,s,n){n._isPm=n._locale.isPM(t),n._meridiem=t});nn(["h","hh"],function(t,s,n){s[Jn]=Os(t),vs(n).bigHour=!0});nn("hmm",function(t,s,n){var r=t.length-2;s[Jn]=Os(t.substr(0,r)),s[Oi]=Os(t.substr(r)),vs(n).bigHour=!0});nn("hmmss",function(t,s,n){var r=t.length-4,a=t.length-2;s[Jn]=Os(t.substr(0,r)),s[Oi]=Os(t.substr(r,2)),s[Jl]=Os(t.substr(a)),vs(n).bigHour=!0});nn("Hmm",function(t,s,n){var r=t.length-2;s[Jn]=Os(t.substr(0,r)),s[Oi]=Os(t.substr(r))});nn("Hmmss",function(t,s,n){var r=t.length-4,a=t.length-2;s[Jn]=Os(t.substr(0,r)),s[Oi]=Os(t.substr(r,2)),s[Jl]=Os(t.substr(a))});function DEe(t){return(t+"").toLowerCase().charAt(0)==="p"}var REe=/[ap]\.?m?\.?/i,FEe=gm("Hours",!0);function IEe(t,s,n){return t>11?n?"pm":"PM":n?"am":"AM"}var zz={calendar:Ske,longDateFormat:Tke,invalidDate:Ake,ordinal:Mke,dayOfMonthOrdinalParse:Dke,relativeTime:Fke,months:Xke,monthsShort:Dz,week:dEe,weekdays:xEe,weekdaysMin:vEe,weekdaysShort:qz,meridiemParse:REe},jn={},mf={},vp;function LEe(t,s){var n,r=Math.min(t.length,s.length);for(n=0;n<r;n+=1)if(t[n]!==s[n])return n;return r}function D6(t){return t&&t.toLowerCase().replace("_","-")}function BEe(t){for(var s=0,n,r,a,i;s<t.length;){for(i=D6(t[s]).split("-"),n=i.length,r=D6(t[s+1]),r=r?r.split("-"):null;n>0;){if(a=zy(i.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&LEe(i,r)>=n-1)break;n--}s++}return vp}function qEe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function zy(t){var s=null,n;if(jn[t]===void 0&&typeof A0<"u"&&A0&&A0.exports&&qEe(t))try{s=vp._abbr,n=require,n("./locale/"+t),dc(s)}catch{jn[t]=null}return jn[t]}function dc(t,s){var n;return t&&(ia(s)?n=xo(t):n=oE(t,s),n?vp=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),vp._abbr}function oE(t,s){if(s!==null){var n,r=zz;if(s.abbr=t,jn[t]!=null)Cz("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=jn[t]._config;else if(s.parentLocale!=null)if(jn[s.parentLocale]!=null)r=jn[s.parentLocale]._config;else if(n=zy(s.parentLocale),n!=null)r=n._config;else return mf[s.parentLocale]||(mf[s.parentLocale]=[]),mf[s.parentLocale].push({name:t,config:s}),null;return jn[t]=new Xk(KS(r,s)),mf[t]&&mf[t].forEach(function(a){oE(a.name,a.config)}),dc(t),jn[t]}else return delete jn[t],null}function $Ee(t,s){if(s!=null){var n,r,a=zz;jn[t]!=null&&jn[t].parentLocale!=null?jn[t].set(KS(jn[t]._config,s)):(r=zy(t),r!=null&&(a=r._config),s=KS(a,s),r==null&&(s.abbr=t),n=new Xk(s),n.parentLocale=jn[t],jn[t]=n),dc(t)}else jn[t]!=null&&(jn[t].parentLocale!=null?(jn[t]=jn[t].parentLocale,t===dc()&&dc(t)):jn[t]!=null&&delete jn[t]);return jn[t]}function xo(t){var s;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return vp;if(!Bi(t)){if(s=zy(t),s)return s;t=[t]}return BEe(t)}function UEe(){return GS(jn)}function cE(t){var s,n=t._a;return n&&vs(t).overflow===-2&&(s=n[Ql]<0||n[Ql]>11?Ql:n[rl]<1||n[rl]>rE(n[Cr],n[Ql])?rl:n[Jn]<0||n[Jn]>24||n[Jn]===24&&(n[Oi]!==0||n[Jl]!==0||n[cd]!==0)?Jn:n[Oi]<0||n[Oi]>59?Oi:n[Jl]<0||n[Jl]>59?Jl:n[cd]<0||n[cd]>999?cd:-1,vs(t)._overflowDayOfYear&&(s<Cr||s>rl)&&(s=rl),vs(t)._overflowWeeks&&s===-1&&(s=Hke),vs(t)._overflowWeekday&&s===-1&&(s=Kke),vs(t).overflow=s),t}var zEe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,VEe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,WEe=/Z|[+-]\d\d(?::?\d\d)?/,s0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],HEe=/^\/?Date\((-?\d+)/i,KEe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,GEe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vz(t){var s,n,r=t._i,a=zEe.exec(r)||VEe.exec(r),i,l,o,c,d=s0.length,u=$_.length;if(a){for(vs(t).iso=!0,s=0,n=d;s<n;s++)if(s0[s][1].exec(a[1])){l=s0[s][0],i=s0[s][2]!==!1;break}if(l==null){t._isValid=!1;return}if(a[3]){for(s=0,n=u;s<n;s++)if($_[s][1].exec(a[3])){o=(a[2]||" ")+$_[s][0];break}if(o==null){t._isValid=!1;return}}if(!i&&o!=null){t._isValid=!1;return}if(a[4])if(WEe.exec(a[4]))c="Z";else{t._isValid=!1;return}t._f=l+(o||"")+(c||""),uE(t)}else t._isValid=!1}function YEe(t,s,n,r,a,i){var l=[QEe(t),Dz.indexOf(s),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&l.push(parseInt(i,10)),l}function QEe(t){var s=parseInt(t,10);return s<=49?2e3+s:s<=999?1900+s:s}function JEe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function XEe(t,s,n){if(t){var r=qz.indexOf(t),a=new Date(s[0],s[1],s[2]).getDay();if(r!==a)return vs(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function ZEe(t,s,n){if(t)return GEe[t];if(s)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return i*60+a}function Wz(t){var s=KEe.exec(JEe(t._i)),n;if(s){if(n=YEe(s[4],s[3],s[2],s[5],s[6],s[7]),!XEe(s[1],n,t))return;t._a=n,t._tzm=ZEe(s[8],s[9],s[10]),t._d=gp.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),vs(t).rfc2822=!0}else t._isValid=!1}function eTe(t){var s=HEe.exec(t._i);if(s!==null){t._d=new Date(+s[1]);return}if(Vz(t),t._isValid===!1)delete t._isValid;else return;if(Wz(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:_t.createFromInputFallback(t)}_t.createFromInputFallback=hi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Vu(t,s,n){return t??s??n}function tTe(t){var s=new Date(_t.now());return t._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()]}function dE(t){var s,n,r=[],a,i,l;if(!t._d){for(a=tTe(t),t._w&&t._a[rl]==null&&t._a[Ql]==null&&sTe(t),t._dayOfYear!=null&&(l=Vu(t._a[Cr],a[Cr]),(t._dayOfYear>Lf(l)||t._dayOfYear===0)&&(vs(t)._overflowDayOfYear=!0),n=gp(l,0,t._dayOfYear),t._a[Ql]=n.getUTCMonth(),t._a[rl]=n.getUTCDate()),s=0;s<3&&t._a[s]==null;++s)t._a[s]=r[s]=a[s];for(;s<7;s++)t._a[s]=r[s]=t._a[s]==null?s===2?1:0:t._a[s];t._a[Jn]===24&&t._a[Oi]===0&&t._a[Jl]===0&&t._a[cd]===0&&(t._nextDay=!0,t._a[Jn]=0),t._d=(t._useUTC?gp:oEe).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Jn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(vs(t).weekdayMismatch=!0)}}function sTe(t){var s,n,r,a,i,l,o,c,d;s=t._w,s.GG!=null||s.W!=null||s.E!=null?(i=1,l=4,n=Vu(s.GG,t._a[Cr],xp(xn(),1,4).year),r=Vu(s.W,1),a=Vu(s.E,1),(a<1||a>7)&&(c=!0)):(i=t._locale._week.dow,l=t._locale._week.doy,d=xp(xn(),i,l),n=Vu(s.gg,t._a[Cr],d.year),r=Vu(s.w,d.week),s.d!=null?(a=s.d,(a<0||a>6)&&(c=!0)):s.e!=null?(a=s.e+i,(s.e<0||s.e>6)&&(c=!0)):a=i),r<1||r>to(n,i,l)?vs(t)._overflowWeeks=!0:c!=null?vs(t)._overflowWeekday=!0:(o=Bz(n,r,a,i,l),t._a[Cr]=o.year,t._dayOfYear=o.dayOfYear)}_t.ISO_8601=function(){};_t.RFC_2822=function(){};function uE(t){if(t._f===_t.ISO_8601){Vz(t);return}if(t._f===_t.RFC_2822){Wz(t);return}t._a=[],vs(t).empty=!0;var s=""+t._i,n,r,a,i,l,o=s.length,c=0,d,u;for(a=kz(t._f,t._locale).match(Zk)||[],u=a.length,n=0;n<u;n++)i=a[n],r=(s.match(zke(i,t))||[])[0],r&&(l=s.substr(0,s.indexOf(r)),l.length>0&&vs(t).unusedInput.push(l),s=s.slice(s.indexOf(r)+r.length),c+=r.length),ih[i]?(r?vs(t).empty=!1:vs(t).unusedTokens.push(i),Wke(i,r,t)):t._strict&&!r&&vs(t).unusedTokens.push(i);vs(t).charsLeftOver=o-c,s.length>0&&vs(t).unusedInput.push(s),t._a[Jn]<=12&&vs(t).bigHour===!0&&t._a[Jn]>0&&(vs(t).bigHour=void 0),vs(t).parsedDateParts=t._a.slice(0),vs(t).meridiem=t._meridiem,t._a[Jn]=nTe(t._locale,t._a[Jn],t._meridiem),d=vs(t).era,d!==null&&(t._a[Cr]=t._locale.erasConvertYear(d,t._a[Cr])),dE(t),cE(t)}function nTe(t,s,n){var r;return n==null?s:t.meridiemHour!=null?t.meridiemHour(s,n):(t.isPM!=null&&(r=t.isPM(n),r&&s<12&&(s+=12),!r&&s===12&&(s=0)),s)}function rTe(t){var s,n,r,a,i,l,o=!1,c=t._f.length;if(c===0){vs(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<c;a++)i=0,l=!1,s=Jk({},t),t._useUTC!=null&&(s._useUTC=t._useUTC),s._f=t._f[a],uE(s),Qk(s)&&(l=!0),i+=vs(s).charsLeftOver,i+=vs(s).unusedTokens.length*10,vs(s).score=i,o?i<r&&(r=i,n=s):(r==null||i<r||l)&&(r=i,n=s,l&&(o=!0));rc(t,n||s)}function aTe(t){if(!t._d){var s=eE(t._i),n=s.day===void 0?s.date:s.day;t._a=_z([s.year,s.month,n,s.hour,s.minute,s.second,s.millisecond],function(r){return r&&parseInt(r,10)}),dE(t)}}function iTe(t){var s=new dg(cE(Hz(t)));return s._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Hz(t){var s=t._i,n=t._f;return t._locale=t._locale||xo(t._l),s===null||n===void 0&&s===""?Fy({nullInput:!0}):(typeof s=="string"&&(t._i=s=t._locale.preparse(s)),qi(s)?new dg(cE(s)):(cg(s)?t._d=s:Bi(n)?rTe(t):n?uE(t):lTe(t),Qk(t)||(t._d=null),t))}function lTe(t){var s=t._i;ia(s)?t._d=new Date(_t.now()):cg(s)?t._d=new Date(s.valueOf()):typeof s=="string"?eTe(t):Bi(s)?(t._a=_z(s.slice(0),function(n){return parseInt(n,10)}),dE(t)):Sd(s)?aTe(t):uo(s)?t._d=new Date(s):_t.createFromInputFallback(t)}function Kz(t,s,n,r,a){var i={};return(s===!0||s===!1)&&(r=s,s=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Sd(t)&&Yk(t)||Bi(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=t,i._f=s,i._strict=r,iTe(i)}function xn(t,s,n,r){return Kz(t,s,n,r,!1)}var oTe=hi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Fy()}),cTe=hi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=xn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Fy()});function Gz(t,s){var n,r;if(s.length===1&&Bi(s[0])&&(s=s[0]),!s.length)return xn();for(n=s[0],r=1;r<s.length;++r)(!s[r].isValid()||s[r][t](n))&&(n=s[r]);return n}function dTe(){var t=[].slice.call(arguments,0);return Gz("isBefore",t)}function uTe(){var t=[].slice.call(arguments,0);return Gz("isAfter",t)}var hTe=function(){return Date.now?Date.now():+new Date},ff=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mTe(t){var s,n=!1,r,a=ff.length;for(s in t)if(Ws(t,s)&&!(Ln.call(ff,s)!==-1&&(t[s]==null||!isNaN(t[s]))))return!1;for(r=0;r<a;++r)if(t[ff[r]]){if(n)return!1;parseFloat(t[ff[r]])!==Os(t[ff[r]])&&(n=!0)}return!0}function fTe(){return this._isValid}function pTe(){return zi(NaN)}function Vy(t){var s=eE(t),n=s.year||0,r=s.quarter||0,a=s.month||0,i=s.week||s.isoWeek||0,l=s.day||0,o=s.hour||0,c=s.minute||0,d=s.second||0,u=s.millisecond||0;this._isValid=mTe(s),this._milliseconds=+u+d*1e3+c*6e4+o*1e3*60*60,this._days=+l+i*7,this._months=+a+r*3+n*12,this._data={},this._locale=xo(),this._bubble()}function k0(t){return t instanceof Vy}function QS(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function gTe(t,s,n){var r=Math.min(t.length,s.length),a=Math.abs(t.length-s.length),i=0,l;for(l=0;l<r;l++)Os(t[l])!==Os(s[l])&&i++;return i+a}function Yz(t,s){Xt(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+bl(~~(n/60),2)+s+bl(~~n%60,2)})}Yz("Z",":");Yz("ZZ","");Mt("Z",$y);Mt("ZZ",$y);nn(["Z","ZZ"],function(t,s,n){n._useUTC=!0,n._tzm=hE($y,t)});var xTe=/([\+\-]|\d\d)/gi;function hE(t,s){var n=(s||"").match(t),r,a,i;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(xTe)||["-",0,0],i=+(a[1]*60)+Os(a[2]),i===0?0:a[0]==="+"?i:-i)}function mE(t,s){var n,r;return s._isUTC?(n=s.clone(),r=(qi(t)||cg(t)?t.valueOf():xn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),_t.updateOffset(n,!1),n):xn(t).local()}function JS(t){return-Math.round(t._d.getTimezoneOffset())}_t.updateOffset=function(){};function vTe(t,s,n){var r=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=hE($y,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&s&&(a=JS(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==t&&(!s||this._changeInProgress?Xz(this,zi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,_t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:JS(this)}function yTe(t,s){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,s),this):-this.utcOffset()}function bTe(t){return this.utcOffset(0,t)}function jTe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(JS(this),"m")),this}function wTe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=hE($ke,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function NTe(t){return this.isValid()?(t=t?xn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function _Te(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function STe(){if(!ia(this._isDSTShifted))return this._isDSTShifted;var t={},s;return Jk(t,this),t=Hz(t),t._a?(s=t._isUTC?Sl(t._a):xn(t._a),this._isDSTShifted=this.isValid()&&gTe(t._a,s.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function CTe(){return this.isValid()?!this._isUTC:!1}function kTe(){return this.isValid()?this._isUTC:!1}function Qz(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ETe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,TTe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zi(t,s){var n=t,r=null,a,i,l;return k0(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:uo(t)||!isNaN(+t)?(n={},s?n[s]=+t:n.milliseconds=+t):(r=ETe.exec(t))?(a=r[1]==="-"?-1:1,n={y:0,d:Os(r[rl])*a,h:Os(r[Jn])*a,m:Os(r[Oi])*a,s:Os(r[Jl])*a,ms:Os(QS(r[cd]*1e3))*a}):(r=TTe.exec(t))?(a=r[1]==="-"?-1:1,n={y:Kc(r[2],a),M:Kc(r[3],a),w:Kc(r[4],a),d:Kc(r[5],a),h:Kc(r[6],a),m:Kc(r[7],a),s:Kc(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(l=PTe(xn(n.from),xn(n.to)),n={},n.ms=l.milliseconds,n.M=l.months),i=new Vy(n),k0(t)&&Ws(t,"_locale")&&(i._locale=t._locale),k0(t)&&Ws(t,"_isValid")&&(i._isValid=t._isValid),i}zi.fn=Vy.prototype;zi.invalid=pTe;function Kc(t,s){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*s}function R6(t,s){var n={};return n.months=s.month()-t.month()+(s.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(s)&&--n.months,n.milliseconds=+s-+t.clone().add(n.months,"M"),n}function PTe(t,s){var n;return t.isValid()&&s.isValid()?(s=mE(s,t),t.isBefore(s)?n=R6(t,s):(n=R6(s,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Jz(t,s){return function(n,r){var a,i;return r!==null&&!isNaN(+r)&&(Cz(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),a=zi(n,r),Xz(this,a,t),this}}function Xz(t,s,n,r){var a=s._milliseconds,i=QS(s._days),l=QS(s._months);t.isValid()&&(r=r??!0,l&&Fz(t,pp(t,"Month")+l*n),i&&Mz(t,"Date",pp(t,"Date")+i*n),a&&t._d.setTime(t._d.valueOf()+a*n),r&&_t.updateOffset(t,i||l))}var ATe=Jz(1,"add"),OTe=Jz(-1,"subtract");function Zz(t){return typeof t=="string"||t instanceof String}function MTe(t){return qi(t)||cg(t)||Zz(t)||uo(t)||RTe(t)||DTe(t)||t===null||t===void 0}function DTe(t){var s=Sd(t)&&!Yk(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,l=r.length;for(a=0;a<l;a+=1)i=r[a],n=n||Ws(t,i);return s&&n}function RTe(t){var s=Bi(t),n=!1;return s&&(n=t.filter(function(r){return!uo(r)&&Zz(t)}).length===0),s&&n}function FTe(t){var s=Sd(t)&&!Yk(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<r.length;a+=1)i=r[a],n=n||Ws(t,i);return s&&n}function ITe(t,s){var n=t.diff(s,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function LTe(t,s){arguments.length===1&&(arguments[0]?MTe(arguments[0])?(t=arguments[0],s=void 0):FTe(arguments[0])&&(s=arguments[0],t=void 0):(t=void 0,s=void 0));var n=t||xn(),r=mE(n,this).startOf("day"),a=_t.calendarFormat(this,r)||"sameElse",i=s&&(Cl(s[a])?s[a].call(this,n):s[a]);return this.format(i||this.localeData().calendar(a,this,xn(n)))}function BTe(){return new dg(this)}function qTe(t,s){var n=qi(t)?t:xn(t);return this.isValid()&&n.isValid()?(s=mi(s)||"millisecond",s==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(s).valueOf()):!1}function $Te(t,s){var n=qi(t)?t:xn(t);return this.isValid()&&n.isValid()?(s=mi(s)||"millisecond",s==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(s).valueOf()<n.valueOf()):!1}function UTe(t,s,n,r){var a=qi(t)?t:xn(t),i=qi(s)?s:xn(s);return this.isValid()&&a.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function zTe(t,s){var n=qi(t)?t:xn(t),r;return this.isValid()&&n.isValid()?(s=mi(s)||"millisecond",s==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(s).valueOf()<=r&&r<=this.clone().endOf(s).valueOf())):!1}function VTe(t,s){return this.isSame(t,s)||this.isAfter(t,s)}function WTe(t,s){return this.isSame(t,s)||this.isBefore(t,s)}function HTe(t,s,n){var r,a,i;if(!this.isValid())return NaN;if(r=mE(t,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,s=mi(s),s){case"year":i=E0(this,r)/12;break;case"month":i=E0(this,r);break;case"quarter":i=E0(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:si(i)}function E0(t,s){if(t.date()<s.date())return-E0(s,t);var n=(s.year()-t.year())*12+(s.month()-t.month()),r=t.clone().add(n,"months"),a,i;return s-r<0?(a=t.clone().add(n-1,"months"),i=(s-r)/(r-a)):(a=t.clone().add(n+1,"months"),i=(s-r)/(a-r)),-(n+i)||0}_t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";_t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function KTe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function GTe(t){if(!this.isValid())return null;var s=t!==!0,n=s?this.clone().utc():this;return n.year()<0||n.year()>9999?C0(n,s?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Cl(Date.prototype.toISOString)?s?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",C0(n,"Z")):C0(n,s?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function YTe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",s="",n,r,a,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",s="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=s+'[")]',this.format(n+r+a+i)}function QTe(t){t||(t=this.isUtc()?_t.defaultFormatUtc:_t.defaultFormat);var s=C0(this,t);return this.localeData().postformat(s)}function JTe(t,s){return this.isValid()&&(qi(t)&&t.isValid()||xn(t).isValid())?zi({to:this,from:t}).locale(this.locale()).humanize(!s):this.localeData().invalidDate()}function XTe(t){return this.from(xn(),t)}function ZTe(t,s){return this.isValid()&&(qi(t)&&t.isValid()||xn(t).isValid())?zi({from:this,to:t}).locale(this.locale()).humanize(!s):this.localeData().invalidDate()}function ePe(t){return this.to(xn(),t)}function eV(t){var s;return t===void 0?this._locale._abbr:(s=xo(t),s!=null&&(this._locale=s),this)}var tV=hi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function sV(){return this._locale}var xv=1e3,lh=60*xv,vv=60*lh,nV=(365*400+97)*24*vv;function oh(t,s){return(t%s+s)%s}function rV(t,s,n){return t<100&&t>=0?new Date(t+400,s,n)-nV:new Date(t,s,n).valueOf()}function aV(t,s,n){return t<100&&t>=0?Date.UTC(t+400,s,n)-nV:Date.UTC(t,s,n)}function tPe(t){var s,n;if(t=mi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?aV:rV,t){case"year":s=n(this.year(),0,1);break;case"quarter":s=n(this.year(),this.month()-this.month()%3,1);break;case"month":s=n(this.year(),this.month(),1);break;case"week":s=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":s=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":s=n(this.year(),this.month(),this.date());break;case"hour":s=this._d.valueOf(),s-=oh(s+(this._isUTC?0:this.utcOffset()*lh),vv);break;case"minute":s=this._d.valueOf(),s-=oh(s,lh);break;case"second":s=this._d.valueOf(),s-=oh(s,xv);break}return this._d.setTime(s),_t.updateOffset(this,!0),this}function sPe(t){var s,n;if(t=mi(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?aV:rV,t){case"year":s=n(this.year()+1,0,1)-1;break;case"quarter":s=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":s=n(this.year(),this.month()+1,1)-1;break;case"week":s=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":s=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":s=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":s=this._d.valueOf(),s+=vv-oh(s+(this._isUTC?0:this.utcOffset()*lh),vv)-1;break;case"minute":s=this._d.valueOf(),s+=lh-oh(s,lh)-1;break;case"second":s=this._d.valueOf(),s+=xv-oh(s,xv)-1;break}return this._d.setTime(s),_t.updateOffset(this,!0),this}function nPe(){return this._d.valueOf()-(this._offset||0)*6e4}function rPe(){return Math.floor(this.valueOf()/1e3)}function aPe(){return new Date(this.valueOf())}function iPe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function lPe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function oPe(){return this.isValid()?this.toISOString():null}function cPe(){return Qk(this)}function dPe(){return rc({},vs(this))}function uPe(){return vs(this).overflow}function hPe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Xt("N",0,0,"eraAbbr");Xt("NN",0,0,"eraAbbr");Xt("NNN",0,0,"eraAbbr");Xt("NNNN",0,0,"eraName");Xt("NNNNN",0,0,"eraNarrow");Xt("y",["y",1],"yo","eraYear");Xt("y",["yy",2],0,"eraYear");Xt("y",["yyy",3],0,"eraYear");Xt("y",["yyyy",4],0,"eraYear");Mt("N",fE);Mt("NN",fE);Mt("NNN",fE);Mt("NNNN",NPe);Mt("NNNNN",_Pe);nn(["N","NN","NNN","NNNN","NNNNN"],function(t,s,n,r){var a=n._locale.erasParse(t,r,n._strict);a?vs(n).era=a:vs(n).invalidEra=t});Mt("y",fm);Mt("yy",fm);Mt("yyy",fm);Mt("yyyy",fm);Mt("yo",SPe);nn(["y","yy","yyy","yyyy"],Cr);nn(["yo"],function(t,s,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?s[Cr]=n._locale.eraYearOrdinalParse(t,a):s[Cr]=parseInt(t,10)});function mPe(t,s){var n,r,a,i=this._eras||xo("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":a=_t(i[n].since).startOf("day"),i[n].since=a.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=_t(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf();break}}return i}function fPe(t,s,n){var r,a,i=this.eras(),l,o,c;for(t=t.toUpperCase(),r=0,a=i.length;r<a;++r)if(l=i[r].name.toUpperCase(),o=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(s){case"N":case"NN":case"NNN":if(o===t)return i[r];break;case"NNNN":if(l===t)return i[r];break;case"NNNNN":if(c===t)return i[r];break}else if([l,o,c].indexOf(t)>=0)return i[r]}function pPe(t,s){var n=t.since<=t.until?1:-1;return s===void 0?_t(t.since).year():_t(t.since).year()+(s-t.offset)*n}function gPe(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function xPe(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function vPe(){var t,s,n,r=this.localeData().eras();for(t=0,s=r.length;t<s;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function yPe(){var t,s,n,r,a=this.localeData().eras();for(t=0,s=a.length;t<s;++t)if(n=a[t].since<=a[t].until?1:-1,r=this.clone().startOf("day").valueOf(),a[t].since<=r&&r<=a[t].until||a[t].until<=r&&r<=a[t].since)return(this.year()-_t(a[t].since).year())*n+a[t].offset;return this.year()}function bPe(t){return Ws(this,"_erasNameRegex")||pE.call(this),t?this._erasNameRegex:this._erasRegex}function jPe(t){return Ws(this,"_erasAbbrRegex")||pE.call(this),t?this._erasAbbrRegex:this._erasRegex}function wPe(t){return Ws(this,"_erasNarrowRegex")||pE.call(this),t?this._erasNarrowRegex:this._erasRegex}function fE(t,s){return s.erasAbbrRegex(t)}function NPe(t,s){return s.erasNameRegex(t)}function _Pe(t,s){return s.erasNarrowRegex(t)}function SPe(t,s){return s._eraYearOrdinalRegex||fm}function pE(){var t=[],s=[],n=[],r=[],a,i,l,o,c,d=this.eras();for(a=0,i=d.length;a<i;++a)l=eo(d[a].name),o=eo(d[a].abbr),c=eo(d[a].narrow),s.push(l),t.push(o),n.push(c),r.push(l),r.push(o),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Xt(0,["gg",2],0,function(){return this.weekYear()%100});Xt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wy(t,s){Xt(0,[t,t.length],0,s)}Wy("gggg","weekYear");Wy("ggggg","weekYear");Wy("GGGG","isoWeekYear");Wy("GGGGG","isoWeekYear");Mt("G",qy);Mt("g",qy);Mt("GG",vn,$a);Mt("gg",vn,$a);Mt("GGGG",sE,tE);Mt("gggg",sE,tE);Mt("GGGGG",By,Iy);Mt("ggggg",By,Iy);hg(["gggg","ggggg","GGGG","GGGGG"],function(t,s,n,r){s[r.substr(0,2)]=Os(t)});hg(["gg","GG"],function(t,s,n,r){s[r]=_t.parseTwoDigitYear(t)});function CPe(t){return iV.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function kPe(t){return iV.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function EPe(){return to(this.year(),1,4)}function TPe(){return to(this.isoWeekYear(),1,4)}function PPe(){var t=this.localeData()._week;return to(this.year(),t.dow,t.doy)}function APe(){var t=this.localeData()._week;return to(this.weekYear(),t.dow,t.doy)}function iV(t,s,n,r,a){var i;return t==null?xp(this,r,a).year:(i=to(t,r,a),s>i&&(s=i),OPe.call(this,t,s,n,r,a))}function OPe(t,s,n,r,a){var i=Bz(t,s,n,r,a),l=gp(i.year,0,i.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}Xt("Q",0,"Qo","quarter");Mt("Q",Ez);nn("Q",function(t,s){s[Ql]=(Os(t)-1)*3});function MPe(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Xt("D",["DD",2],"Do","date");Mt("D",vn,pm);Mt("DD",vn,$a);Mt("Do",function(t,s){return t?s._dayOfMonthOrdinalParse||s._ordinalParse:s._dayOfMonthOrdinalParseLenient});nn(["D","DD"],rl);nn("Do",function(t,s){s[rl]=Os(t.match(vn)[0])});var lV=gm("Date",!0);Xt("DDD",["DDDD",3],"DDDo","dayOfYear");Mt("DDD",Ly);Mt("DDDD",Tz);nn(["DDD","DDDD"],function(t,s,n){n._dayOfYear=Os(t)});function DPe(t){var s=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?s:this.add(t-s,"d")}Xt("m",["mm",2],0,"minute");Mt("m",vn,nE);Mt("mm",vn,$a);nn(["m","mm"],Oi);var RPe=gm("Minutes",!1);Xt("s",["ss",2],0,"second");Mt("s",vn,nE);Mt("ss",vn,$a);nn(["s","ss"],Jl);var FPe=gm("Seconds",!1);Xt("S",0,0,function(){return~~(this.millisecond()/100)});Xt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Xt(0,["SSS",3],0,"millisecond");Xt(0,["SSSS",4],0,function(){return this.millisecond()*10});Xt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Xt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Xt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Xt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Xt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Mt("S",Ly,Ez);Mt("SS",Ly,$a);Mt("SSS",Ly,Tz);var ac,oV;for(ac="SSSS";ac.length<=9;ac+="S")Mt(ac,fm);function IPe(t,s){s[cd]=Os(("0."+t)*1e3)}for(ac="S";ac.length<=9;ac+="S")nn(ac,IPe);oV=gm("Milliseconds",!1);Xt("z",0,0,"zoneAbbr");Xt("zz",0,0,"zoneName");function LPe(){return this._isUTC?"UTC":""}function BPe(){return this._isUTC?"Coordinated Universal Time":""}var mt=dg.prototype;mt.add=ATe;mt.calendar=LTe;mt.clone=BTe;mt.diff=HTe;mt.endOf=sPe;mt.format=QTe;mt.from=JTe;mt.fromNow=XTe;mt.to=ZTe;mt.toNow=ePe;mt.get=Yke;mt.invalidAt=uPe;mt.isAfter=qTe;mt.isBefore=$Te;mt.isBetween=UTe;mt.isSame=zTe;mt.isSameOrAfter=VTe;mt.isSameOrBefore=WTe;mt.isValid=cPe;mt.lang=tV;mt.locale=eV;mt.localeData=sV;mt.max=cTe;mt.min=oTe;mt.parsingFlags=dPe;mt.set=Qke;mt.startOf=tPe;mt.subtract=OTe;mt.toArray=iPe;mt.toObject=lPe;mt.toDate=aPe;mt.toISOString=GTe;mt.inspect=YTe;typeof Symbol<"u"&&Symbol.for!=null&&(mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});mt.toJSON=oPe;mt.toString=KTe;mt.unix=rPe;mt.valueOf=nPe;mt.creationData=hPe;mt.eraName=gPe;mt.eraNarrow=xPe;mt.eraAbbr=vPe;mt.eraYear=yPe;mt.year=Oz;mt.isLeapYear=Gke;mt.weekYear=CPe;mt.isoWeekYear=kPe;mt.quarter=mt.quarters=MPe;mt.month=Iz;mt.daysInMonth=aEe;mt.week=mt.weeks=mEe;mt.isoWeek=mt.isoWeeks=fEe;mt.weeksInYear=PPe;mt.weeksInWeekYear=APe;mt.isoWeeksInYear=EPe;mt.isoWeeksInISOWeekYear=TPe;mt.date=lV;mt.day=mt.days=kEe;mt.weekday=EEe;mt.isoWeekday=TEe;mt.dayOfYear=DPe;mt.hour=mt.hours=FEe;mt.minute=mt.minutes=RPe;mt.second=mt.seconds=FPe;mt.millisecond=mt.milliseconds=oV;mt.utcOffset=vTe;mt.utc=bTe;mt.local=jTe;mt.parseZone=wTe;mt.hasAlignedHourOffset=NTe;mt.isDST=_Te;mt.isLocal=CTe;mt.isUtcOffset=kTe;mt.isUtc=Qz;mt.isUTC=Qz;mt.zoneAbbr=LPe;mt.zoneName=BPe;mt.dates=hi("dates accessor is deprecated. Use date instead.",lV);mt.months=hi("months accessor is deprecated. Use month instead",Iz);mt.years=hi("years accessor is deprecated. Use year instead",Oz);mt.zone=hi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",yTe);mt.isDSTShifted=hi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",STe);function qPe(t){return xn(t*1e3)}function $Pe(){return xn.apply(null,arguments).parseZone()}function cV(t){return t}var Hs=Xk.prototype;Hs.calendar=Cke;Hs.longDateFormat=Pke;Hs.invalidDate=Oke;Hs.ordinal=Rke;Hs.preparse=cV;Hs.postformat=cV;Hs.relativeTime=Ike;Hs.pastFuture=Lke;Hs.set=_ke;Hs.eras=mPe;Hs.erasParse=fPe;Hs.erasConvertYear=pPe;Hs.erasAbbrRegex=jPe;Hs.erasNameRegex=bPe;Hs.erasNarrowRegex=wPe;Hs.months=tEe;Hs.monthsShort=sEe;Hs.monthsParse=rEe;Hs.monthsRegex=lEe;Hs.monthsShortRegex=iEe;Hs.week=cEe;Hs.firstDayOfYear=hEe;Hs.firstDayOfWeek=uEe;Hs.weekdays=wEe;Hs.weekdaysMin=_Ee;Hs.weekdaysShort=NEe;Hs.weekdaysParse=CEe;Hs.weekdaysRegex=PEe;Hs.weekdaysShortRegex=AEe;Hs.weekdaysMinRegex=OEe;Hs.isPM=DEe;Hs.meridiem=IEe;function yv(t,s,n,r){var a=xo(),i=Sl().set(r,s);return a[n](i,t)}function dV(t,s,n){if(uo(t)&&(s=t,t=void 0),t=t||"",s!=null)return yv(t,s,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=yv(t,r,n,"month");return a}function gE(t,s,n,r){typeof t=="boolean"?(uo(s)&&(n=s,s=void 0),s=s||""):(s=t,n=s,t=!1,uo(s)&&(n=s,s=void 0),s=s||"");var a=xo(),i=t?a._week.dow:0,l,o=[];if(n!=null)return yv(s,(n+i)%7,r,"day");for(l=0;l<7;l++)o[l]=yv(s,(l+i)%7,r,"day");return o}function UPe(t,s){return dV(t,s,"months")}function zPe(t,s){return dV(t,s,"monthsShort")}function VPe(t,s,n){return gE(t,s,n,"weekdays")}function WPe(t,s,n){return gE(t,s,n,"weekdaysShort")}function HPe(t,s,n){return gE(t,s,n,"weekdaysMin")}dc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var s=t%10,n=Os(t%100/10)===1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th";return t+n}});_t.lang=hi("moment.lang is deprecated. Use moment.locale instead.",dc);_t.langData=hi("moment.langData is deprecated. Use moment.localeData instead.",xo);var Bl=Math.abs;function KPe(){var t=this._data;return this._milliseconds=Bl(this._milliseconds),this._days=Bl(this._days),this._months=Bl(this._months),t.milliseconds=Bl(t.milliseconds),t.seconds=Bl(t.seconds),t.minutes=Bl(t.minutes),t.hours=Bl(t.hours),t.months=Bl(t.months),t.years=Bl(t.years),this}function uV(t,s,n,r){var a=zi(s,n);return t._milliseconds+=r*a._milliseconds,t._days+=r*a._days,t._months+=r*a._months,t._bubble()}function GPe(t,s){return uV(this,t,s,1)}function YPe(t,s){return uV(this,t,s,-1)}function F6(t){return t<0?Math.floor(t):Math.ceil(t)}function QPe(){var t=this._milliseconds,s=this._days,n=this._months,r=this._data,a,i,l,o,c;return t>=0&&s>=0&&n>=0||t<=0&&s<=0&&n<=0||(t+=F6(XS(n)+s)*864e5,s=0,n=0),r.milliseconds=t%1e3,a=si(t/1e3),r.seconds=a%60,i=si(a/60),r.minutes=i%60,l=si(i/60),r.hours=l%24,s+=si(l/24),c=si(hV(s)),n+=c,s-=F6(XS(c)),o=si(n/12),n%=12,r.days=s,r.months=n,r.years=o,this}function hV(t){return t*4800/146097}function XS(t){return t*146097/4800}function JPe(t){if(!this.isValid())return NaN;var s,n,r=this._milliseconds;if(t=mi(t),t==="month"||t==="quarter"||t==="year")switch(s=this._days+r/864e5,n=this._months+hV(s),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(s=this._days+Math.round(XS(this._months)),t){case"week":return s/7+r/6048e5;case"day":return s+r/864e5;case"hour":return s*24+r/36e5;case"minute":return s*1440+r/6e4;case"second":return s*86400+r/1e3;case"millisecond":return Math.floor(s*864e5)+r;default:throw new Error("Unknown unit "+t)}}function vo(t){return function(){return this.as(t)}}var mV=vo("ms"),XPe=vo("s"),ZPe=vo("m"),e4e=vo("h"),t4e=vo("d"),s4e=vo("w"),n4e=vo("M"),r4e=vo("Q"),a4e=vo("y"),i4e=mV;function l4e(){return zi(this)}function o4e(t){return t=mi(t),this.isValid()?this[t+"s"]():NaN}function Jd(t){return function(){return this.isValid()?this._data[t]:NaN}}var c4e=Jd("milliseconds"),d4e=Jd("seconds"),u4e=Jd("minutes"),h4e=Jd("hours"),m4e=Jd("days"),f4e=Jd("months"),p4e=Jd("years");function g4e(){return si(this.days()/7)}var Ul=Math.round,Xu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function x4e(t,s,n,r,a){return a.relativeTime(s||1,!!n,t,r)}function v4e(t,s,n,r){var a=zi(t).abs(),i=Ul(a.as("s")),l=Ul(a.as("m")),o=Ul(a.as("h")),c=Ul(a.as("d")),d=Ul(a.as("M")),u=Ul(a.as("w")),m=Ul(a.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||l<=1&&["m"]||l<n.m&&["mm",l]||o<=1&&["h"]||o<n.h&&["hh",o]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),h=h||d<=1&&["M"]||d<n.M&&["MM",d]||m<=1&&["y"]||["yy",m],h[2]=s,h[3]=+t>0,h[4]=r,x4e.apply(null,h)}function y4e(t){return t===void 0?Ul:typeof t=="function"?(Ul=t,!0):!1}function b4e(t,s){return Xu[t]===void 0?!1:s===void 0?Xu[t]:(Xu[t]=s,t==="s"&&(Xu.ss=s-1),!0)}function j4e(t,s){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Xu,a,i;return typeof t=="object"&&(s=t,t=!1),typeof t=="boolean"&&(n=t),typeof s=="object"&&(r=Object.assign({},Xu,s),s.s!=null&&s.ss==null&&(r.ss=s.s-1)),a=this.localeData(),i=v4e(this,!n,r,a),n&&(i=a.pastFuture(+this,i)),a.postformat(i)}var U_=Math.abs;function $u(t){return(t>0)-(t<0)||+t}function Hy(){if(!this.isValid())return this.localeData().invalidDate();var t=U_(this._milliseconds)/1e3,s=U_(this._days),n=U_(this._months),r,a,i,l,o=this.asSeconds(),c,d,u,m;return o?(r=si(t/60),a=si(r/60),t%=60,r%=60,i=si(n/12),n%=12,l=t?t.toFixed(3).replace(/\.?0+$/,""):"",c=o<0?"-":"",d=$u(this._months)!==$u(o)?"-":"",u=$u(this._days)!==$u(o)?"-":"",m=$u(this._milliseconds)!==$u(o)?"-":"",c+"P"+(i?d+i+"Y":"")+(n?d+n+"M":"")+(s?u+s+"D":"")+(a||r||t?"T":"")+(a?m+a+"H":"")+(r?m+r+"M":"")+(t?m+l+"S":"")):"P0D"}var Bs=Vy.prototype;Bs.isValid=fTe;Bs.abs=KPe;Bs.add=GPe;Bs.subtract=YPe;Bs.as=JPe;Bs.asMilliseconds=mV;Bs.asSeconds=XPe;Bs.asMinutes=ZPe;Bs.asHours=e4e;Bs.asDays=t4e;Bs.asWeeks=s4e;Bs.asMonths=n4e;Bs.asQuarters=r4e;Bs.asYears=a4e;Bs.valueOf=i4e;Bs._bubble=QPe;Bs.clone=l4e;Bs.get=o4e;Bs.milliseconds=c4e;Bs.seconds=d4e;Bs.minutes=u4e;Bs.hours=h4e;Bs.days=m4e;Bs.weeks=g4e;Bs.months=f4e;Bs.years=p4e;Bs.humanize=j4e;Bs.toISOString=Hy;Bs.toString=Hy;Bs.toJSON=Hy;Bs.locale=eV;Bs.localeData=sV;Bs.toIsoString=hi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hy);Bs.lang=tV;Xt("X",0,0,"unix");Xt("x",0,0,"valueOf");Mt("x",qy);Mt("X",Uke);nn("X",function(t,s,n){n._d=new Date(parseFloat(t)*1e3)});nn("x",function(t,s,n){n._d=new Date(Os(t))});//! moment.js
_t.version="2.30.1";wke(xn);_t.fn=mt;_t.min=dTe;_t.max=uTe;_t.now=hTe;_t.utc=Sl;_t.unix=qPe;_t.months=UPe;_t.isDate=cg;_t.locale=dc;_t.invalid=Fy;_t.duration=zi;_t.isMoment=qi;_t.weekdays=VPe;_t.parseZone=$Pe;_t.localeData=xo;_t.isDuration=k0;_t.monthsShort=zPe;_t.weekdaysMin=HPe;_t.defineLocale=oE;_t.updateLocale=$Ee;_t.locales=UEe;_t.weekdaysShort=WPe;_t.normalizeUnits=mi;_t.relativeTimeRounding=y4e;_t.relativeTimeThreshold=b4e;_t.calendarFormat=ITe;_t.prototype=mt;_t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function fV({isAdmin:t,isFeatureExcluded:s,memberInfo:n}){const[r,a]=b.useState(""),[i,l]=b.useState("all"),[o,c]=b.useState("all"),[d,u]=b.useState(1),[m,h]=b.useState(20),[p,x]=b.useState(null),y=Jt(),{data:v=[],isLoading:j}=me({queryKey:["form-submissions"],queryFn:async()=>(await ee.entities.FormSubmission.list()).sort((T,D)=>new Date(D.created_date)-new Date(T.created_date)),staleTime:30*1e3}),{data:w=[]}=me({queryKey:["forms"],queryFn:async()=>await ee.entities.Form.list(),staleTime:60*1e3}),{data:N}=me({queryKey:["form-detail",p==null?void 0:p.form_id],queryFn:async()=>p!=null&&p.form_id?w.find(k=>k.id===p.form_id):null,enabled:!!(p!=null&&p.form_id)}),_=Ie({mutationFn:async({id:k,status:T})=>await ee.entities.FormSubmission.update(k,{status:T,status_updated_by:n==null?void 0:n.email,status_updated_at:new Date().toISOString()}),onSuccess:k=>{y.invalidateQueries({queryKey:["form-submissions"]}),x(k),te.success("Status updated")},onError:()=>{te.error("Failed to update status")}}),P=b.useMemo(()=>{let k=v;if(i!=="all"&&(k=k.filter(T=>T.form_id===i)),o!=="all"&&(k=k.filter(T=>(T.status||"new")===o)),r){const T=r.toLowerCase();k=k.filter(D=>{var F,U,z;return((F=D.form_name)==null?void 0:F.toLowerCase().includes(T))||((U=D.submitted_by_email)==null?void 0:U.toLowerCase().includes(T))||((z=D.submitted_by_name)==null?void 0:z.toLowerCase().includes(T))||JSON.stringify(D.submission_data).toLowerCase().includes(T)})}return k},[v,i,o,r]),A=Math.ceil(P.length/m),E=b.useMemo(()=>{const k=(d-1)*m;return P.slice(k,k+m)},[P,d,m]),C=k=>{const T=k||"new";switch(T){case"new":return e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:"New"});case"junk":return e.jsx(ye,{className:"bg-slate-100 text-slate-700",children:"Junk"});case"actioned":return e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Actioned"});default:return e.jsx(ye,{variant:"secondary",children:T})}},R=(k,T)=>{_.mutate({id:k,status:T})},O=k=>{if(!(N!=null&&N.fields))return k;const T=N.fields.find(D=>D.id===k);return(T==null?void 0:T.label)||k};return!t||s("page_FormSubmissions")?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-6 text-center",children:e.jsx("p",{className:"text-slate-600",children:"Access denied. Administrator privileges required."})})})}):j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ls,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Form Submissions"})]}),e.jsxs("p",{className:"text-slate-600",children:[P.length," ",P.length===1?"submission":"submissions"]})]}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search submissions...",value:r,onChange:k=>{a(k.target.value),u(1)},className:"pl-10"})]}),e.jsxs(Ge,{value:i,onValueChange:k=>{l(k),u(1)},children:[e.jsx(Ve,{className:"w-full md:w-[200px]",children:e.jsx(Je,{placeholder:"All Forms"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Forms"}),w.map(k=>e.jsx(re,{value:k.id,children:k.name},k.id))]})]}),e.jsxs(Ge,{value:o,onValueChange:k=>{c(k),u(1)},children:[e.jsx(Ve,{className:"w-full md:w-[150px]",children:e.jsx(Je,{placeholder:"All Status"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Status"}),e.jsx(re,{value:"new",children:"New"}),e.jsx(re,{value:"junk",children:"Junk"}),e.jsx(re,{value:"actioned",children:"Actioned"})]})]})]})})}),E.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No submissions found"}),e.jsx("p",{className:"text-slate-600",children:r||i!=="all"||o!=="all"?"Try adjusting your filters":"No form submissions yet"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:E.map(k=>e.jsx(le,{className:"border-slate-200 hover:shadow-lg transition-shadow",children:e.jsx(Fe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ze,{className:"text-base mb-2",children:k.form_name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[C(k.status),k.submitted_by_name&&e.jsx(ye,{variant:"secondary",children:k.submitted_by_name}),k.submitted_by_email&&e.jsx(ye,{variant:"outline",children:k.submitted_by_email}),e.jsx(ye,{variant:"outline",className:"text-slate-600",children:_t(k.created_date).format("MMM D, YYYY h:mm A")})]})]}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>x(k),children:[e.jsx(kr,{className:"w-4 h-4 mr-1"}),"View"]})]})})},k.id))}),A>1&&e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"text-sm text-slate-700",children:"Show:"}),e.jsxs(Ge,{value:m.toString(),onValueChange:k=>{h(parseInt(k)),u(1)},children:[e.jsx(Ve,{className:"w-[100px]",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"10",children:"10"}),e.jsx(re,{value:"20",children:"20"}),e.jsx(re,{value:"50",children:"50"}),e.jsx(re,{value:"100",children:"100"})]})]}),e.jsx("span",{className:"text-sm text-slate-600",children:"per page"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>u(k=>Math.max(1,k-1)),disabled:d===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(A,5)},(k,T)=>{let D;return A<=5||d<=3?D=T+1:d>=A-2?D=A-4+T:D=d-2+T,e.jsx(X,{variant:d===D?"default":"outline",size:"sm",onClick:()=>u(D),className:"w-9",children:D},D)})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>u(k=>Math.min(A,k+1)),disabled:d===A,children:e.jsx(Ss,{className:"w-4 h-4"})})]})]})]})]}),e.jsx(Ct,{open:!!p,onOpenChange:k=>!k&&x(null),children:e.jsxs(Nt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Submission Details"})}),p&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx(Z,{className:"text-slate-600",children:"Form"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.form_name})]}),e.jsxs("div",{children:[e.jsx(Z,{className:"text-slate-600",children:"Submitted"}),e.jsx("p",{className:"font-medium text-slate-900",children:_t(p.created_date).format("MMM D, YYYY h:mm A")})]}),p.submitted_by_name&&e.jsxs("div",{children:[e.jsx(Z,{className:"text-slate-600",children:"Name"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.submitted_by_name})]}),p.submitted_by_email&&e.jsxs("div",{children:[e.jsx(Z,{className:"text-slate-600",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900",children:p.submitted_by_email})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx(Z,{className:"text-slate-600 mb-2 block",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ge,{value:p.status||"new",onValueChange:k=>R(p.id,k),children:[e.jsx(Ve,{className:"w-[180px]",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"new",children:"New"}),e.jsx(re,{value:"junk",children:"Junk"}),e.jsx(re,{value:"actioned",children:"Actioned"})]})]}),C(p.status)]}),p.status_updated_by&&e.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Updated by ",p.status_updated_by," on"," ",_t(p.status_updated_at).format("MMM D, YYYY h:mm A")]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Submission Data"}),e.jsx("div",{className:"space-y-3",children:Object.entries(p.submission_data||{}).map(([k,T])=>e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[e.jsx(Z,{className:"text-slate-600 text-xs uppercase tracking-wide mb-1 block",children:O(k)}),e.jsx("p",{className:"text-slate-900 whitespace-pre-wrap",children:Array.isArray(T)?T.join(", "):String(T)})]},k))})]})]})]})})]})}function pV({memberInfo:t,isAdmin:s}){const r=new URLSearchParams(window.location.search).get("id"),a=!!r,i=Jt(),l=b.useRef(null),[o,c]=b.useState(""),[d,u]=b.useState(""),[m,h]=b.useState(""),[p,x]=b.useState(""),[y,v]=b.useState(""),[j,w]=b.useState([]),[N,_]=b.useState([]),[P,A]=b.useState("draft"),[E,C]=b.useState(""),[R,O]=b.useState(""),[k,T]=b.useState(new Date().toISOString()),[D,F]=b.useState(!1),[U,z]=b.useState(!1),[H,B]=b.useState(null),{data:$}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await ee.entities.Member.list()).find(de=>de.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:I=[]}=me({queryKey:["resourceCategories"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(de=>{var ue;return de.is_active&&((ue=de.applies_to_content_types)==null?void 0:ue.includes("News"))}).sort((de,ue)=>(de.display_order||0)-(ue.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:L,isLoading:V}=me({queryKey:["news",r],queryFn:async()=>(await ee.entities.NewsPost.list()).find(de=>de.id===r),enabled:a});b.useEffect(()=>{L&&(c(L.title||""),u(L.slug||""),h(L.summary||""),x(L.content||""),v(L.feature_image_url||""),w(L.subcategories||[]),_(L.tags||[]),A(L.status||"draft"),T(L.published_date||new Date().toISOString()),C(L.seo_title||""),O(L.seo_description||""))},[L]),b.useEffect(()=>{if(o&&!a){const se=o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");u(se)}},[o,a]),b.useEffect(()=>{if(!t||!o||!$)return;const se=setTimeout(async()=>{if(a){z(!0);try{await ee.entities.NewsPost.update(r,{title:o,slug:d,summary:m,content:p,feature_image_url:y,subcategories:j,tags:N,status:P,published_date:k,seo_title:E,seo_description:R}),B(new Date)}catch(de){console.error("Auto-save failed:",de)}finally{z(!1)}}},3e3);return()=>clearTimeout(se)},[o,d,m,p,y,j,N,P,k,E,R,a,r,t,$]);const q=Ie({mutationFn:async({publishNow:se})=>{if(!t||!$)throw new Error("Member information not available");const de={title:o,slug:d,author_id:$.id,author_name:`${t.first_name} ${t.last_name}`,summary:m,content:p,feature_image_url:y,subcategories:j,tags:N,status:se?"published":P,published_date:k,seo_title:E,seo_description:R};return a?await ee.entities.NewsPost.update(r,de):await ee.entities.NewsPost.create(de)},onSuccess:(se,de)=>{i.invalidateQueries({queryKey:["news"]}),te.success(de.publishNow?"News published successfully!":"News saved successfully!"),B(new Date),a||(window.location.href=`${Te("NewsEditor")}?id=${se.id}`)},onError:se=>{te.error(se.message||"Failed to save news")}}),J=Ie({mutationFn:()=>ee.entities.NewsPost.delete(r),onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),te.success("News deleted successfully"),window.location.href=Te("MyNews")},onError:()=>{te.error("Failed to delete news")}}),Q=async se=>{var ue;const de=(ue=se.target.files)==null?void 0:ue[0];if(de){F(!0);try{const{file_url:oe}=await ee.integrations.Core.UploadFile({file:de});v(oe),te.success("Image uploaded successfully")}catch{te.error("Failed to upload image")}finally{F(!1)}}},Y=()=>{const se=document.createElement("input");se.type="file",se.accept="image/*",se.onchange=async de=>{var oe,pe;const ue=(oe=de.target.files)==null?void 0:oe[0];if(ue)try{const{file_url:je}=await ee.integrations.Core.UploadFile({file:ue}),Ne=(pe=l.current)==null?void 0:pe.getEditor();if(Ne){const qe=Ne.getSelection(!0);Ne.insertEmbed(qe.index,"image",je)}te.success("Image inserted")}catch{te.error("Failed to upload image")}},se.click()},K=b.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image"],["clean"]],handlers:{image:Y}}}),[]),ae=()=>{window.confirm("Are you sure you want to delete this news article? This action cannot be undone.")&&J.mutate()};return s?t?a&&(V||!$)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading news..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(Gt,{to:Te("MyNews"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to News"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[U&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),H&&!U&&e.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsx(ar,{className:"w-4 h-4 text-green-600"}),"Saved ",Ot(H,"h:mm a")]}),e.jsxs(X,{variant:"outline",onClick:()=>q.mutate({publishNow:!1}),disabled:q.isPending||!o,className:"gap-2",children:[e.jsx(gn,{className:"w-4 h-4"}),"Save Draft"]}),e.jsx(X,{onClick:()=>q.mutate({publishNow:!0}),disabled:q.isPending||!o||!d,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:P==="published"?"Update":"Publish"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"pt-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"title",className:"text-base font-semibold",children:"News Title"}),e.jsx(he,{id:"title",placeholder:"Enter news title...",value:o,onChange:se=>c(se.target.value),className:"text-2xl font-bold border-0 px-0 focus-visible:ring-0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"slug",className:"text-sm",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"/news/"}),e.jsx(he,{id:"slug",placeholder:"news-url-slug",value:d,onChange:se=>u(se.target.value),className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"summary",children:"Summary / Excerpt"}),e.jsx(Qt,{id:"summary",placeholder:"Brief description (shown in listings)...",value:m,onChange:se=>h(se.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Content"}),e.jsx("div",{style:{height:"500px"},children:e.jsx(KC,{ref:l,theme:"snow",value:p,onChange:x,modules:K,placeholder:"Start writing your news content here...",style:{height:"450px"}})})]})]})})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Feature Image"})}),e.jsx(ce,{className:"space-y-4",children:y?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Feature",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>v(""),children:e.jsx(ks,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden",disabled:D}),e.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center cursor-pointer hover:border-slate-400 transition-colors",children:[D?e.jsx(bt,{className:"w-8 h-8 text-slate-400 mx-auto mb-2 animate-spin"}):e.jsx(Xs,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:D?"Uploading...":"Click to upload"})]})]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Organization"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(Mq,{categories:I,selectedSubcategories:j,onChange:w}),e.jsx(Oq,{tags:N,onChange:_})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{className:"text-base",children:"Publishing"})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsx(Dq,{value:P,onChange:A}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"published-date",children:"Published Date & Time"}),e.jsx(he,{id:"published-date",type:"datetime-local",value:k?new Date(k).toISOString().slice(0,16):"",onChange:se=>{const de=se.target.value?new Date(se.target.value).toISOString():new Date().toISOString();T(de)}}),k&&new Date(k)>new Date&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(an,{className:"w-4 h-4 text-purple-600"}),e.jsxs("p",{className:"text-sm text-purple-900",children:["Scheduled for ",Ot(new Date(k),"MMM d, yyyy h:mm a")]})]})]})]})]}),e.jsx(Rq,{seoTitle:E,seoDescription:R,onSeoTitleChange:C,onSeoDescriptionChange:O}),a&&e.jsxs(X,{variant:"destructive",onClick:ae,disabled:J.isPending,className:"w-full gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),"Delete News"]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function gV({memberInfo:t,isAdmin:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState([]),[c,d]=b.useState("newest"),{data:u=[],isLoading:m}=me({queryKey:["my-news"],queryFn:async()=>await ee.entities.NewsPost.list("-created_date"),enabled:s,staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(P=>{var A;return P.is_active&&((A=P.applies_to_content_types)==null?void 0:A.includes("News"))}).sort((P,A)=>(P.display_order||0)-(A.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:x=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(P=>P.is_active&&P.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),y=b.useMemo(()=>u.filter(_=>{var C,R,O;const P=((C=_.title)==null?void 0:C.toLowerCase().includes(n.toLowerCase()))||((R=_.summary)==null?void 0:R.toLowerCase().includes(n.toLowerCase()))||((O=_.tags)==null?void 0:O.some(k=>k.toLowerCase().includes(n.toLowerCase()))),A=a==="all"||_.status===a,E=l.length===0||_.subcategories&&_.subcategories.some(k=>l.includes(k));return P&&A&&E}),[u,n,a,l]),v=b.useMemo(()=>{const _=[...y];switch(c){case"newest":_.sort((P,A)=>new Date(A.created_date)-new Date(P.created_date));break;case"oldest":_.sort((P,A)=>new Date(P.created_date)-new Date(A.created_date));break;case"title-asc":_.sort((P,A)=>P.title.localeCompare(A.title));break;case"title-desc":_.sort((P,A)=>A.title.localeCompare(P.title));break}return _},[y,c]),j=_=>{o(P=>P.includes(_)?P.filter(A=>A!==_):[...P,_])},w=_=>{switch(_){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},N=m||p;return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News Management"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage news content"})]}),e.jsx(Gt,{to:Te("NewsEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"New News Article"]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wd,{categories:h,selectedSubcategories:l,onSubcategoryToggle:j,searchQuery:n,onSearchChange:r,onClearSearch:()=>r("")}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(_=>e.jsx(X,{variant:a===_?"default":"outline",size:"sm",onClick:()=>i(_),className:"capitalize justify-start",children:_},_))})]})]})}),e.jsx("div",{className:"flex-1",children:N?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((_,P)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},P))}):v.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:n||a!=="all"||l.length>0?"No news found":"No news yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:n||a!=="all"||l.length>0?"Try adjusting your search or filters":"Start creating your first news article"}),!n&&a==="all"&&l.length===0&&e.jsx(Gt,{to:Te("NewsEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Create First News"]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",v.length," ",v.length===1?"article":"articles"]}),e.jsxs(Ge,{value:c,onValueChange:d,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v.map(_=>{const P=_.published_date&&new Date(_.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ye,{className:w(_.status),children:_.status}),P&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hd,{article:_,buttonStyles:x,showActions:!1})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(Gt,{to:`${Te("NewsEditor")}?id=${_.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(Di,{className:"w-3 h-3"}),"Edit"]})}),_.status==="published"&&e.jsx(Gt,{to:`${Te("NewsView")}?slug=${_.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(kr,{className:"w-3 h-3"}),"View"]})})]})]},_.id)})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function xV({memberInfo:t,isAdmin:s}){const r=new URLSearchParams(window.location.search).get("slug"),a=!!sessionStorage.getItem("agcas_member"),{data:i,isLoading:l}=me({queryKey:["news-by-slug",r],queryFn:async()=>(await ee.entities.NewsPost.list()).find(u=>u.slug===r),enabled:!!r}),o=()=>{const u=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`;window.open(u,"_blank","width=600,height=600")},c=()=>{const d=encodeURIComponent((i==null?void 0:i.title)||"Check out this news"),u=encodeURIComponent(`I thought you might find this news article interesting:

${(i==null?void 0:i.title)||""}

${(i==null?void 0:i.summary)||""}

${window.location.href}`);window.location.href=`mailto:?subject=${d}&body=${u}`};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading news..."})}):i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs(Gt,{to:Te(a?"MyNews":"PublicNews"),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(Nl,{className:"w-4 h-4"}),"Back to News"]}),s&&e.jsx(Gt,{to:`${Te("NewsEditor")}?id=${i.id}`,children:e.jsxs(X,{variant:"outline",className:"gap-2",children:[e.jsx(Di,{className:"w-4 h-4"}),"Edit"]})})]}),e.jsxs(le,{className:"border-slate-200 shadow-lg mb-8",children:[i.feature_image_url&&e.jsx("div",{className:"h-96 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:i.feature_image_url,alt:i.title,className:"w-full h-full object-cover"})}),e.jsxs(ce,{className:"pt-8 pb-12 px-8 md:px-12",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-600 mb-6",children:[i.subcategories&&i.subcategories.length>0&&e.jsxs(e.Fragment,{children:[i.subcategories.slice(0,3).map((d,u)=>e.jsx(ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:d},u)),i.subcategories.length>3&&e.jsxs(ye,{variant:"secondary",className:"bg-slate-100 text-slate-700",children:["+",i.subcategories.length-3," more"]})]}),i.published_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"}),e.jsx("span",{children:Ot(new Date(i.published_date),"MMMM d, yyyy")})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:i.title}),i.summary&&e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:i.summary}),e.jsx("div",{className:"prose prose-lg prose-slate max-w-none",dangerouslySetInnerHTML:{__html:i.content}}),i.tags&&i.tags.length>0&&e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(yd,{className:"w-4 h-4 text-slate-400"}),i.tags.map(d=>e.jsx(ye,{variant:"outline",className:"text-sm",children:d},d))]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Share this news:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"lg",onClick:o,className:"gap-2 hover:bg-[#0077B5] hover:text-white hover:border-[#0077B5] transition-all",children:[e.jsx(jh,{className:"w-5 h-5"}),e.jsx("span",{children:"LinkedIn"})]}),e.jsxs(X,{variant:"outline",size:"lg",onClick:c,className:"gap-2 hover:bg-slate-700 hover:text-white hover:border-slate-700 transition-all",children:[e.jsx(Rs,{className:"w-5 h-5"}),e.jsx("span",{children:"Email"})]})]})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"News not found"}),e.jsx(Gt,{to:Te(a?"MyNews":"PublicNews"),children:e.jsx(X,{children:"Back to News"})})]})})}function vV({memberInfo:t}){const[s,n]=b.useState(""),[r,a]=b.useState([]),[i,l]=b.useState("newest"),[o,c]=b.useState(1),[d,u]=b.useState(12),[m,h]=b.useState(!1),p=Jt(),{data:x}=me({queryKey:["current-member",t==null?void 0:t.email],queryFn:async()=>(await ee.entities.Member.list()).find(H=>H.email===(t==null?void 0:t.email)),enabled:!!t,staleTime:300*1e3}),{data:y=[],isLoading:v}=me({queryKey:["published-news"],queryFn:async()=>{const z=await ee.entities.NewsPost.list("-published_date"),H=new Date;return z.filter(B=>B.status==="published"&&(!B.published_date||new Date(B.published_date)<=H))},staleTime:0,refetchOnWindowFocus:!0}),{data:j=[],isLoading:w}=me({queryKey:["resourceCategories"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(H=>{var B;return H.is_active&&((B=H.applies_to_content_types)==null?void 0:B.includes("News"))}).sort((H,B)=>(H.display_order||0)-(B.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:N=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(H=>H.is_active&&H.card_type==="article"),staleTime:0,refetchOnWindowFocus:!0});b.useEffect(()=>{if(x!=null&&x.news_filter_preferences&&!m){const z=x.news_filter_preferences;z.selectedSubcategories&&a(z.selectedSubcategories),z.sortBy&&l(z.sortBy),z.itemsPerPage&&u(z.itemsPerPage),h(!0)}},[x,m]);const _=Ie({mutationFn:async()=>{if(!x)return;const z={selectedSubcategories:r,sortBy:i,itemsPerPage:d};await ee.entities.Member.update(x.id,{news_filter_preferences:z})},onSuccess:()=>{p.invalidateQueries({queryKey:["current-member"]})}}),P=b.useMemo(()=>y.filter(z=>{var $,I,L;const H=(($=z.title)==null?void 0:$.toLowerCase().includes(s.toLowerCase()))||((I=z.summary)==null?void 0:I.toLowerCase().includes(s.toLowerCase()))||((L=z.tags)==null?void 0:L.some(V=>V.toLowerCase().includes(s.toLowerCase()))),B=r.length===0||z.subcategories&&z.subcategories.some(V=>r.includes(V));return H&&B}),[y,s,r]),A=b.useMemo(()=>{const z=[...P];switch(i){case"newest":z.sort((H,B)=>new Date(B.published_date||B.created_date)-new Date(H.published_date||H.created_date));break;case"oldest":z.sort((H,B)=>new Date(H.published_date||H.created_date)-new Date(B.published_date||B.created_date));break;case"title-asc":z.sort((H,B)=>H.title.localeCompare(B.title));break;case"title-desc":z.sort((H,B)=>B.title.localeCompare(H.title));break}return z},[P,i]),E=Math.ceil(A.length/d),C=(o-1)*d,R=C+d,O=A.slice(C,R),k=()=>{const z=[];if(E<=7)for(let B=1;B<=E;B++)z.push(B);else if(o<=4){for(let B=1;B<=5;B++)z.push(B);z.push("..."),z.push(E)}else if(o>=E-3){z.push(1),z.push("...");for(let B=E-4;B<=E;B++)z.push(B)}else{z.push(1),z.push("...");for(let B=o-1;B<=o+1;B++)z.push(B);z.push("..."),z.push(E)}return z},T=z=>{a(H=>H.includes(z)?H.filter(B=>B!==z):[...H,z])},D=()=>{_.mutate()},F=v||w;b.useEffect(()=>{c(1)},[s,r,i,d]);const U=b.useMemo(()=>{if(!(x!=null&&x.news_filter_preferences))return!1;const z=x.news_filter_preferences;return JSON.stringify({selectedSubcategories:r,sortBy:i,itemsPerPage:d})!==JSON.stringify({selectedSubcategories:z.selectedSubcategories||[],sortBy:z.sortBy||"newest",itemsPerPage:z.itemsPerPage||12})},[x,r,i,d]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News"}),e.jsx("p",{className:"text-slate-600",children:"Stay updated with our latest news"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wd,{categories:j,selectedSubcategories:r,onSubcategoryToggle:T,searchQuery:s,onSearchChange:n,onClearSearch:()=>n("")}),U&&e.jsx(X,{onClick:D,disabled:_.isPending,className:"w-full mt-4 bg-blue-600 hover:bg-blue-700",size:"sm",children:_.isPending?"Saving...":"Save as Default"})]})}),e.jsx("div",{className:"flex-1",children:F?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((z,H)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},H))}):O.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:s||r.length>0?"No news found":"No news available"}),e.jsx("p",{className:"text-slate-600",children:s||r.length>0?"Try adjusting your search or filters":"Check back soon for updates"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",C+1,"-",Math.min(R,A.length)," of ",A.length," ",A.length===1?"article":"articles"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ge,{value:String(d),onValueChange:z=>u(Number(z)),children:[e.jsx(Ve,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6 per page"}),e.jsx(re,{value:"12",children:"12 per page"}),e.jsx(re,{value:"24",children:"24 per page"}),e.jsx(re,{value:"48",children:"48 per page"})]})]}),e.jsxs(Ge,{value:i,onValueChange:l,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(z=>e.jsx(Hd,{article:z,buttonStyles:N,viewPageUrl:"NewsView"},z.id))}),E>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(z=>Math.max(1,z-1)),disabled:o===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),k().map((z,H)=>z==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."},`ellipsis-${H}`):e.jsx(X,{variant:o===z?"default":"outline",size:"sm",onClick:()=>c(z),className:"min-w-[40px]",children:z},z)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(z=>Math.min(E,z+1)),disabled:o===E,children:e.jsx(Ss,{className:"w-4 h-4"})})]})})]})})]})]})})}function yV(){const[t,s]=b.useState(""),[n,r]=b.useState([]),[a,i]=b.useState("newest"),[l,o]=b.useState(1),[c,d]=b.useState(12),{data:u=[],isLoading:m}=me({queryKey:["public-news"],queryFn:async()=>{const C=await ee.entities.NewsPost.list("-published_date"),R=new Date;return C.filter(O=>O.status==="published"&&(!O.published_date||new Date(O.published_date)<=R))},staleTime:0,refetchOnWindowFocus:!0}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(R=>{var O;return R.is_active&&((O=R.applies_to_content_types)==null?void 0:O.includes("News"))}).sort((R,O)=>(R.display_order||0)-(O.display_order||0)),staleTime:0,refetchOnWindowFocus:!0}),{data:x=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(R=>R.is_active&&R.card_type==="article"),staleTime:0,refetchOnWindowFocus:!0}),y=b.useMemo(()=>u.filter(C=>{var k,T,D;const R=((k=C.title)==null?void 0:k.toLowerCase().includes(t.toLowerCase()))||((T=C.summary)==null?void 0:T.toLowerCase().includes(t.toLowerCase()))||((D=C.tags)==null?void 0:D.some(F=>F.toLowerCase().includes(t.toLowerCase()))),O=n.length===0||C.subcategories&&C.subcategories.some(F=>n.includes(F));return R&&O}),[u,t,n]),v=b.useMemo(()=>{const C=[...y];switch(a){case"newest":C.sort((R,O)=>new Date(O.published_date||O.created_date)-new Date(R.published_date||R.created_date));break;case"oldest":C.sort((R,O)=>new Date(R.published_date||R.created_date)-new Date(O.published_date||O.created_date));break;case"title-asc":C.sort((R,O)=>R.title.localeCompare(O.title));break;case"title-desc":C.sort((R,O)=>O.title.localeCompare(R.title));break}return C},[y,a]),j=Math.ceil(v.length/c),w=(l-1)*c,N=w+c,_=v.slice(w,N),P=()=>{const C=[];if(j<=7)for(let O=1;O<=j;O++)C.push(O);else if(l<=4){for(let O=1;O<=5;O++)C.push(O);C.push("..."),C.push(j)}else if(l>=j-3){C.push(1),C.push("...");for(let O=j-4;O<=j;O++)C.push(O)}else{C.push(1),C.push("...");for(let O=l-1;O<=l+1;O++)C.push(O);C.push("..."),C.push(j)}return C},A=C=>{r(R=>R.includes(C)?R.filter(O=>O!==C):[...R,C]),o(1)},E=m||p;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News"}),e.jsx("p",{className:"text-slate-600",children:"Stay updated with our latest news"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:e.jsx(Wd,{categories:h,selectedSubcategories:n,onSubcategoryToggle:A,searchQuery:t,onSearchChange:s,onClearSearch:()=>s("")})})}),e.jsx("div",{className:"flex-1",children:E?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},R))}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:t||n.length>0?"No news found":"No news available"}),e.jsx("p",{className:"text-slate-600",children:t||n.length>0?"Try adjusting your search or filters":"Check back soon for updates"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",w+1,"-",Math.min(N,v.length)," of ",v.length," ",v.length===1?"article":"articles"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ge,{value:String(c),onValueChange:C=>d(Number(C)),children:[e.jsx(Ve,{className:"w-32",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"6",children:"6 per page"}),e.jsx(re,{value:"12",children:"12 per page"}),e.jsx(re,{value:"24",children:"24 per page"}),e.jsx(re,{value:"48",children:"48 per page"})]})]}),e.jsxs(Ge,{value:a,onValueChange:i,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(C=>e.jsx(Hd,{article:C,buttonStyles:x,viewPageUrl:"NewsView"},C.id))}),j>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(C=>Math.max(1,C-1)),disabled:l===1,children:e.jsx(Zn,{className:"w-4 h-4"})}),P().map((C,R)=>C==="..."?e.jsx("span",{className:"px-2 text-slate-400",children:"..."},`ellipsis-${R}`):e.jsx(X,{variant:l===C?"default":"outline",size:"sm",onClick:()=>o(C),className:"min-w-[40px]",children:C},C)),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>o(C=>Math.min(j,C+1)),disabled:l===j,children:e.jsx(Ss,{className:"w-4 h-4"})})]})})]})})]})]})})}function bV({isAdmin:t}){const[s,n]=b.useState(3),[r,a]=b.useState(5),[i,l]=b.useState(!0),[o,c]=b.useState(!0),d=Jt(),{data:u=[],isLoading:m}=me({queryKey:["news-ticker-settings"],queryFn:async()=>(await ee.entities.SystemSettings.list()).filter(y=>y.setting_key==="news_ticker_count"||y.setting_key==="news_ticker_cycle_seconds"||y.setting_key==="news_ticker_enabled"||y.setting_key==="news_show_author"),enabled:t,staleTime:300*1e3});b.useEffect(()=>{if(u.length>0){const x=u.find(w=>w.setting_key==="news_ticker_count"),y=u.find(w=>w.setting_key==="news_ticker_cycle_seconds"),v=u.find(w=>w.setting_key==="news_ticker_enabled"),j=u.find(w=>w.setting_key==="news_show_author");x&&n(parseInt(x.setting_value)||3),y&&a(parseInt(y.setting_value)||5),v&&l(v.setting_value==="true"),j&&c(j.setting_value==="true")}},[u]);const h=Ie({mutationFn:async()=>{const x=u.find(N=>N.setting_key==="news_ticker_count"),y=u.find(N=>N.setting_key==="news_ticker_cycle_seconds"),v=u.find(N=>N.setting_key==="news_ticker_enabled"),j=u.find(N=>N.setting_key==="news_show_author"),w=[];x?w.push(ee.entities.SystemSettings.update(x.id,{setting_value:s.toString()})):w.push(ee.entities.SystemSettings.create({setting_key:"news_ticker_count",setting_value:s.toString(),description:"Number of news articles to display in ticker"})),y?w.push(ee.entities.SystemSettings.update(y.id,{setting_value:r.toString()})):w.push(ee.entities.SystemSettings.create({setting_key:"news_ticker_cycle_seconds",setting_value:r.toString(),description:"Seconds between news ticker transitions"})),v?w.push(ee.entities.SystemSettings.update(v.id,{setting_value:i.toString()})):w.push(ee.entities.SystemSettings.create({setting_key:"news_ticker_enabled",setting_value:i.toString(),description:"Whether the news ticker is enabled"})),j?w.push(ee.entities.SystemSettings.update(j.id,{setting_value:o.toString()})):w.push(ee.entities.SystemSettings.create({setting_key:"news_show_author",setting_value:o.toString(),description:"Whether to show author on news cards and articles"})),await Promise.all(w)},onSuccess:()=>{d.invalidateQueries({queryKey:["news-ticker-settings"]}),te.success("News ticker settings saved successfully")},onError:()=>{te.error("Failed to save settings")}}),p=()=>{if(s<1){te.error("Number of articles must be at least 1");return}if(r<2){te.error("Cycle time must be at least 2 seconds");return}h.mutate()};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"News Ticker Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure the news ticker displayed at the top of the member portal"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"w-5 h-5"}),"Ticker Configuration"]})}),e.jsx(ce,{className:"pt-6 space-y-6",children:m?e.jsx("div",{className:"text-center py-8 text-slate-600",children:"Loading settings..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg mb-6",children:[e.jsx(fs,{id:"ticker-enabled",checked:i,onCheckedChange:l}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"ticker-enabled",className:"cursor-pointer font-medium",children:"Enable News Ticker"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Show or hide the news ticker bar at the top of the member portal"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"ticker-count",children:"Number of Articles to Display"}),e.jsx(he,{id:"ticker-count",type:"number",min:"1",max:"10",value:s,onChange:x=>n(parseInt(x.target.value)||1)}),e.jsx("p",{className:"text-xs text-slate-500",children:"The latest published news articles to cycle through in the ticker"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"cycle-seconds",children:"Cycle Time (seconds)"}),e.jsx(he,{id:"cycle-seconds",type:"number",min:"2",max:"60",value:r,onChange:x=>a(parseInt(x.target.value)||2)}),e.jsx("p",{className:"text-xs text-slate-500",children:"Time in seconds before switching to the next article (minimum 2 seconds)"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"show-author",checked:o,onCheckedChange:c}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Z,{htmlFor:"show-author",className:"cursor-pointer font-medium",children:"Show Author"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Display author information on news cards and articles"})]})]}),e.jsx("div",{className:"pt-4 flex justify-end",children:e.jsxs(X,{onClick:p,disabled:h.isPending,className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(gn,{className:"w-4 h-4"}),"Save Settings"]})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function jV({isAdmin:t,memberInfo:s}){const[n,r]=b.useState(!1),[a,i]=b.useState(null),[l,o]=b.useState(null),[c,d]=b.useState(null),u=async()=>{var h,p;if(!(s!=null&&s.email)){te.error("Member information not available");return}r(!0),i(null),o(null);try{const x=await ee.functions.invoke("exportAllData",{memberEmail:s.email});if(console.log("Export result:",x),x!=null&&x.success||(h=x==null?void 0:x.data)!=null&&h.success){const y=(x==null?void 0:x.data)||x;i(y.download_url),o(y.file_name),d(y.expires_in),te.success("Data export completed successfully!")}else{const y=(x==null?void 0:x.error)||((p=x==null?void 0:x.data)==null?void 0:p.error)||"Unknown error";te.error("Export failed: "+y)}}catch(x){console.error("Export error:",x),te.error("Failed to export data: "+x.message)}finally{r(!1)}},m=()=>{a&&window.open(a,"_blank")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Data Export & Backup"}),e.jsx("p",{className:"text-slate-600",children:"Export all application data to CSV files in a downloadable ZIP archive"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mb-6",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(tY,{className:"w-5 h-5 text-blue-600"}),"Export All Data"]})}),e.jsxs(ce,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"What will be exported:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"All member and organization data"}),e.jsx("li",{children:"Events, bookings, and program tickets"}),e.jsx("li",{children:"Resources, articles, and news posts"}),e.jsx("li",{children:"Roles, permissions, and settings"}),e.jsx("li",{children:"Forms, submissions, and all other entities"})]})]}),e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"text-sm text-amber-700 space-y-1",children:[e.jsx("li",{children:" Export may take several minutes depending on data volume"}),e.jsx("li",{children:" Download link expires after 1 hour"}),e.jsx("li",{children:" Sensitive data like tokens are included - store securely"}),e.jsx("li",{children:" Each entity is exported as a separate CSV file"})]})]})]})}),!a&&!n&&e.jsxs(X,{onClick:u,disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 h-12 text-base",children:[e.jsx(lr,{className:"w-5 h-5 mr-2"}),"Start Data Export"]}),n&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[e.jsx(bt,{className:"w-12 h-12 text-blue-600 animate-spin"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-medium text-slate-900",children:"Exporting data..."}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"This may take a few minutes. Please don't close this page."})]})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(Pp,{className:"w-6 h-6 text-green-600 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900",children:"Export Complete!"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your data has been exported and is ready for download."})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"File:"}),e.jsx("span",{className:"text-sm text-slate-900",children:l})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Link expires in:"}),e.jsxs("span",{className:"text-sm text-slate-900",children:[Math.floor(c/60)," minutes"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(X,{onClick:m,className:"flex-1 bg-green-600 hover:bg-green-700 h-12 text-base",children:[e.jsx(lr,{className:"w-5 h-5 mr-2"}),"Download ZIP File"]}),e.jsx(X,{onClick:u,variant:"outline",className:"h-12",children:"Export Again"})]})]})]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-3",children:"Best Practices:"}),e.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[e.jsx("li",{children:" Schedule regular backups (weekly or monthly)"}),e.jsx("li",{children:" Store backup files in a secure, encrypted location"}),e.jsx("li",{children:" Test restoring from backups periodically"}),e.jsx("li",{children:" Keep multiple backup versions for different time periods"}),e.jsx("li",{children:" Document your backup and restoration procedures"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function wV({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState([]),[c,d]=b.useState("newest"),{data:u=[],isLoading:m}=me({queryKey:["all-articles-admin"],queryFn:async()=>await ee.entities.BlogPost.list("-created_date"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:h=[],isLoading:p}=me({queryKey:["resourceCategories-articles"],queryFn:async()=>(await ee.entities.ResourceCategory.list()).filter(O=>O.is_active&&O.applies_to_content_types&&O.applies_to_content_types.includes("Articles")).sort((O,k)=>(O.display_order||0)-(k.display_order||0)),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:x=[]}=me({queryKey:["article-button-styles"],queryFn:async()=>(await ee.entities.ButtonStyle.list()).filter(R=>R.is_active&&R.card_type==="article"),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:y=[]}=me({queryKey:["all-article-views"],queryFn:async()=>await ee.entities.ArticleView.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:v=[]}=me({queryKey:["all-article-reactions"],queryFn:async()=>await ee.entities.ArticleReaction.list(),staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:j="Articles"}=me({queryKey:["article-display-name"],queryFn:async()=>{const R=(await ee.entities.SystemSettings.list()).find(O=>O.setting_key==="article_display_name");return(R==null?void 0:R.setting_value)||"Articles"},staleTime:300*1e3,refetchOnWindowFocus:!1}),w=b.useMemo(()=>{const C={};return u.forEach(R=>{C[R.id]={viewCount:y.filter(O=>O.article_id===R.id).length,likeCount:v.filter(O=>O.article_id===R.id&&O.reaction_type==="up").length}}),C},[u,y,v]),N=b.useMemo(()=>u.filter(C=>{var T,D,F,U;const R=((T=C.title)==null?void 0:T.toLowerCase().includes(n.toLowerCase()))||((D=C.summary)==null?void 0:D.toLowerCase().includes(n.toLowerCase()))||((F=C.tags)==null?void 0:F.some(z=>z.toLowerCase().includes(n.toLowerCase())))||((U=C.author_name)==null?void 0:U.toLowerCase().includes(n.toLowerCase())),O=a==="all"||C.status===a,k=l.length===0||C.subcategories&&C.subcategories.some(z=>l.includes(z));return R&&O&&k}),[u,n,a,l]),_=b.useMemo(()=>{const C=[...N];switch(c){case"newest":C.sort((R,O)=>new Date(O.created_date)-new Date(R.created_date));break;case"oldest":C.sort((R,O)=>new Date(R.created_date)-new Date(O.created_date));break;case"title-asc":C.sort((R,O)=>R.title.localeCompare(O.title));break;case"title-desc":C.sort((R,O)=>O.title.localeCompare(R.title));break;case"most-viewed":C.sort((R,O)=>{var k,T;return(((k=w[O.id])==null?void 0:k.viewCount)||0)-(((T=w[R.id])==null?void 0:T.viewCount)||0)});break;case"most-liked":C.sort((R,O)=>{var k,T;return(((k=w[O.id])==null?void 0:k.likeCount)||0)-(((T=w[R.id])==null?void 0:T.likeCount)||0)});break}return C},[N,c,w]),P=C=>{o(R=>R.includes(C)?R.filter(O=>O!==C):[...R,C])},A=C=>{switch(C){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-amber-100 text-amber-700 border-amber-200";case"archived":return"bg-slate-100 text-slate-700 border-slate-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},E=m||p;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:["All ",j]}),e.jsxs("p",{className:"text-slate-600",children:["Manage all ",j.toLowerCase()," across the platform"]})]}),e.jsx(Gt,{to:Te("ArticleEditor"),children:e.jsxs(X,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"New ",j.endsWith("s")?j.slice(0,-1):j]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-8",children:[e.jsx(Wd,{categories:h,selectedSubcategories:l,onSubcategoryToggle:P,searchQuery:n,onSearchChange:r,onClearSearch:()=>r(""),isLoading:!1,displayName:j}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Status"}),e.jsx("div",{className:"flex flex-col gap-2",children:["all","draft","published","archived"].map(C=>e.jsx(X,{variant:a===C?"default":"outline",size:"sm",onClick:()=>i(C),className:"capitalize justify-start",children:C},C))})]})]})}),e.jsx("div",{className:"flex-1",children:E?e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsxs(le,{className:"animate-pulse border-slate-200",children:[e.jsx("div",{className:"h-48 bg-slate-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})]},R))}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(mo,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:["No ",j.toLowerCase()," found"]}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search or filters"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",_.length," ",_.length===1&&j.endsWith("s")?j.slice(0,-1).toLowerCase():j.toLowerCase()]}),e.jsxs(Ge,{value:c,onValueChange:d,children:[e.jsxs(Ve,{className:"w-48",children:[e.jsx(fo,{className:"w-4 h-4 mr-2"}),e.jsx(Je,{placeholder:"Sort By"})]}),e.jsxs(We,{children:[e.jsx(re,{value:"newest",children:"Newest First"}),e.jsx(re,{value:"oldest",children:"Oldest First"}),e.jsx(re,{value:"most-viewed",children:"Most Viewed"}),e.jsx(re,{value:"most-liked",children:"Most Liked"}),e.jsx(re,{value:"title-asc",children:"Title A-Z"}),e.jsx(re,{value:"title-desc",children:"Title Z-A"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:_.map(C=>{const R=C.published_date&&new Date(C.published_date)>new Date;return e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1",children:[e.jsx(ye,{className:A(C.status),children:C.status}),R&&e.jsx(ye,{className:"bg-purple-100 text-purple-700",children:"Scheduled"})]}),e.jsx(Hd,{article:C,buttonStyles:x,showActions:!1,displayName:j})]}),C.author_name&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-600",children:[e.jsx(sn,{className:"w-3 h-3"}),e.jsxs("span",{children:["By ",C.author_name]})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(Gt,{to:`${Te("ArticleEditor")}?id=${C.id}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(Di,{className:"w-3 h-3"}),"Edit"]})}),C.status==="published"&&e.jsx(Gt,{to:`${Te("ArticleView")}?slug=${C.slug}`,className:"flex-1",children:e.jsxs(X,{variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(kr,{className:"w-3 h-3"}),"View"]})})]})]},C.id)})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function NV({isAdmin:t}){const s=window.location.origin,{data:n=[]}=me({queryKey:["published-articles"],queryFn:async()=>(await ee.entities.BlogPost.list()).filter(p=>p.status==="published"&&new Date(p.published_date)<=new Date),staleTime:300*1e3}),{data:r=[]}=me({queryKey:["published-news"],queryFn:async()=>(await ee.entities.NewsPost.list()).filter(p=>p.status==="published"&&new Date(p.published_date)<=new Date),staleTime:300*1e3}),{data:a=[]}=me({queryKey:["active-job-postings"],queryFn:async()=>(await ee.entities.JobPosting.list()).filter(p=>p.status==="active"),staleTime:300*1e3}),{data:i=[]}=me({queryKey:["public-custom-pages"],queryFn:async()=>(await ee.entities.IEditPage.list()).filter(p=>p.is_public),staleTime:300*1e3}),l=[{name:"Home",url:Te("Home"),icon:tn},{name:"Public Events",url:Te("PublicEvents"),icon:tn},{name:"Public Articles",url:Te("PublicArticles"),icon:ls},{name:"Public News",url:Te("PublicNews"),icon:t4},{name:"Public Resources",url:Te("PublicResources"),icon:pa},{name:"Job Board",url:Te("JobBoard"),icon:Dn},{name:"Post Job",url:Te("PostJob"),icon:Dn},{name:"Organisation Directory",url:Te("OrganisationDirectory"),icon:tn}],o=b.useMemo(()=>n.map(h=>({title:h.title,url:`${Te("ArticleView")}?slug=${h.slug}`,fullUrl:`${s}${Te("ArticleView")}?slug=${h.slug}`,author:h.author_name,date:h.published_date})),[n,s]),c=b.useMemo(()=>r.map(h=>({title:h.title,url:`${Te("NewsView")}?slug=${h.slug}`,fullUrl:`${s}${Te("NewsView")}?slug=${h.slug}`,author:h.author_name,date:h.published_date})),[r,s]),d=b.useMemo(()=>a.map(h=>({title:h.title,url:`${Te("JobDetails")}?id=${h.id}`,fullUrl:`${s}${Te("JobDetails")}?id=${h.id}`,company:h.company_name,date:h.created_date})),[a,s]),u=b.useMemo(()=>i.map(h=>({title:h.title,url:`${Te("ViewPage")}?slug=${h.slug}`,fullUrl:`${s}${Te("ViewPage")}?slug=${h.slug}`,description:h.description})),[i,s]),m=h=>{navigator.clipboard.writeText(h),te.success("URL copied to clipboard")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Public Site Map"}),e.jsx("p",{className:"text-slate-600",children:"All public-facing URLs on your platform"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"w-5 h-5 text-blue-600"}),"Static Public Pages"]})}),e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:l.map((h,p)=>{const x=h.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:h.name}),e.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[s,h.url]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(`${s}${h.url}`),children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(tn,{className:"w-3 h-3"})})})]})]},p)})})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5 text-blue-600"}),"Published Articles"]}),e.jsxs(ye,{children:[o.length," articles"]})]})}),e.jsx(ce,{className:"p-6",children:o.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No published articles"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:o.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.author&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["By ",h.author]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(tn,{className:"w-3 h-3"})})})]})]},p))})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(t4,{className:"w-5 h-5 text-blue-600"}),"Published News"]}),e.jsxs(ye,{children:[c.length," posts"]})]})}),e.jsx(ce,{className:"p-6",children:c.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No published news posts"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:c.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.author&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["By ",h.author]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(tn,{className:"w-3 h-3"})})})]})]},p))})})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Dn,{className:"w-5 h-5 text-blue-600"}),"Active Job Postings"]}),e.jsxs(ye,{children:[d.length," jobs"]})]})}),e.jsx(ce,{className:"p-6",children:d.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No active job postings"}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.company&&e.jsxs("p",{className:"text-xs text-slate-500 mt-0.5",children:["At ",h.company]}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(tn,{className:"w-3 h-3"})})})]})]},p))})})]}),u.length>0&&e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"w-5 h-5 text-blue-600"}),"Custom Public Pages"]}),e.jsxs(ye,{children:[u.length," pages"]})]})}),e.jsx(ce,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:u.map((h,p)=>e.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-slate-900 truncate",children:h.title}),h.description&&e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:h.description}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1 break-all",children:h.fullUrl})]}),e.jsxs("div",{className:"flex gap-2 ml-3",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>m(h.fullUrl),children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(X,{variant:"outline",size:"sm",children:e.jsx(tn,{className:"w-3 h-3"})})})]})]},p))})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const I6={bug:C5,feature_request:P5,how_to:$d,general:Rs},L6={bug:"Bug Report",feature_request:"Feature Request",how_to:"How-To Question",general:"General Message"},B6={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-slate-100 text-slate-800"},q6={minor:"bg-green-100 text-green-700",moderate:"bg-yellow-100 text-yellow-700",major:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};function _V({memberInfo:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState({type:"general",subject:"",description:"",severity:"moderate",attachments:[]}),[o,c]=b.useState(""),[d,u]=b.useState(!1),m=Jt(),{data:h=[],isLoading:p}=me({queryKey:["support-tickets",t==null?void 0:t.email],queryFn:async()=>(await ee.entities.SupportTicket.list("-created_date")).filter(A=>A.submitter_email===(t==null?void 0:t.email)),enabled:!!t}),{data:x=[]}=me({queryKey:["support-responses",r==null?void 0:r.id],queryFn:async()=>(await ee.entities.SupportTicketResponse.list("created_date")).filter(A=>A.ticket_id===(r==null?void 0:r.id)),enabled:!!r}),y=Ie({mutationFn:P=>ee.entities.SupportTicket.create(P),onSuccess:()=>{m.invalidateQueries({queryKey:["support-tickets"]}),te.success("Support ticket submitted successfully"),n(!1),l({type:"general",subject:"",description:"",severity:"moderate",attachments:[]})},onError:()=>te.error("Failed to submit ticket")}),v=Ie({mutationFn:P=>ee.entities.SupportTicketResponse.create(P),onSuccess:()=>{m.invalidateQueries({queryKey:["support-responses"]}),te.success("Reply added"),c("")},onError:()=>te.error("Failed to add reply")}),j=async P=>{var E;const A=(E=P.target.files)==null?void 0:E[0];if(A){u(!0);try{const{file_url:C}=await ee.integrations.Core.UploadFile({file:A});l({...i,attachments:[...i.attachments,C]}),te.success("File uploaded")}catch{te.error("Failed to upload file")}finally{u(!1)}}},w=P=>{l({...i,attachments:i.attachments.filter((A,E)=>E!==P)})},N=()=>{if(!i.subject.trim()||!i.description.trim()){te.error("Please fill in all fields");return}y.mutate({...i,submitter_email:t.email,submitter_name:`${t.first_name} ${t.last_name}`})},_=()=>{o.trim()&&v.mutate({ticket_id:r.id,message:o,is_admin_response:!1,responder_email:t.email,responder_name:`${t.first_name} ${t.last_name}`})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Support"}),e.jsx("p",{className:"text-slate-600",children:"Submit bug reports, feature requests, or ask questions"})]}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"New Ticket"]})]}),p?e.jsx("div",{className:"text-center py-12",children:"Loading tickets..."}):h.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(KY,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Support Tickets Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Submit your first ticket to get help from our team"}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Ticket"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(P=>{const A=I6[P.type];return e.jsxs(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(P),children:[e.jsxs(Fe,{className:"border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),e.jsx(ye,{variant:"outline",className:"text-xs",children:L6[P.type]})]}),e.jsx(ye,{className:B6[P.status],children:P.status.replace("_"," ")})]}),e.jsx(ze,{className:"text-lg",children:P.subject})]}),e.jsxs(ce,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-2",children:P.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(an,{className:"w-3 h-3"}),Ot(new Date(P.created_date),"MMM d, yyyy")]}),e.jsx("div",{className:"flex items-center gap-2",children:P.severity&&e.jsx(ye,{className:q6[P.severity],variant:"outline",children:P.severity})})]})]})]},P.id)})}),e.jsx(Ct,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Create Support Ticket"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Type"}),e.jsxs(Ge,{value:i.type,onValueChange:P=>l({...i,type:P}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"bug",children:"Bug Report"}),e.jsx(re,{value:"feature_request",children:"Feature Request"}),e.jsx(re,{value:"how_to",children:"How-To Question"}),e.jsx(re,{value:"general",children:"General Message"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Severity"}),e.jsxs(Ge,{value:i.severity,onValueChange:P=>l({...i,severity:P}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"minor",children:"Minor"}),e.jsx(re,{value:"moderate",children:"Moderate"}),e.jsx(re,{value:"major",children:"Major"}),e.jsx(re,{value:"critical",children:"Critical"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Subject"}),e.jsx(he,{placeholder:"Brief description of your issue or request...",value:i.subject,onChange:P=>l({...i,subject:P.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Description"}),e.jsx(Qt,{placeholder:"Provide detailed information...",rows:6,value:i.description,onChange:P=>l({...i,description:P.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Attachments"}),i.attachments.length>0&&e.jsx("div",{className:"space-y-2 mb-3",children:i.attachments.map((P,A)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded border",children:[e.jsx("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex-1 truncate",children:P.split("/").pop()}),e.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>w(A),children:e.jsx(ks,{className:"w-3 h-3"})})]},A))}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",onChange:j,className:"hidden",disabled:d}),e.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center cursor-pointer hover:border-slate-400 transition-colors",children:d?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-6 h-6 text-slate-400 mx-auto mb-2 animate-spin"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-6 h-6 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload file or image"})]})})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(X,{onClick:N,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Submit Ticket"})]})]})}),e.jsx(Ct,{open:!!r,onOpenChange:()=>a(null),children:e.jsx(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r&&e.jsxs(e.Fragment,{children:[e.jsx(kt,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[Be.createElement(I6[r.type],{className:"w-5 h-5 text-blue-600"}),e.jsx(ye,{variant:"outline",children:L6[r.type]}),e.jsx(ye,{className:B6[r.status],children:r.status.replace("_"," ")}),r.severity&&e.jsx(ye,{className:q6[r.severity],children:r.severity})]}),e.jsx(Et,{className:"text-2xl",children:r.subject}),e.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Submitted ",Ot(new Date(r.created_date),"MMM d, yyyy h:mm a")]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:r.description})}),r.attachments&&r.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Attachments"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:r.attachments.map((P,A)=>e.jsxs("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 rounded border border-slate-200 hover:bg-slate-100 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline truncate",children:P.split("/").pop()})]},A))})]}),r.resolution_notes&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pp,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Resolution"})]}),e.jsx("p",{className:"text-sm text-green-700",children:r.resolution_notes})]}),x.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Conversation"}),x.map(P=>e.jsxs("div",{className:`rounded-lg p-4 ${P.is_admin_response?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[P.responder_name,P.is_admin_response&&e.jsx(ye,{className:"ml-2 bg-blue-600 text-white",children:"Developer"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:Ot(new Date(P.created_date),"MMM d, h:mm a")})]}),e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:P.message})]},P.id))]}),r.status!=="closed"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Add Reply"}),e.jsx(Qt,{placeholder:"Type your reply...",rows:4,value:o,onChange:P=>c(P.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{onClick:_,disabled:v.isPending||!o.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Send Reply"})})]}),r.status==="closed"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 bg-slate-100 p-3 rounded-lg",children:[e.jsx(js,{className:"w-4 h-4"}),"This ticket is closed. Contact support if you need to reopen it."]})]})]})})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-slate-600",children:"Loading..."})})}const $6={bug:C5,feature_request:P5,how_to:$d,general:Rs},U6={bug:"Bug Report",feature_request:"Feature Request",how_to:"How-To Question",general:"General Message"},w4e={open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-slate-100 text-slate-800"},N4e={minor:"bg-green-100 text-green-700",moderate:"bg-yellow-100 text-yellow-700",major:"bg-orange-100 text-orange-700",critical:"bg-red-100 text-red-700"};function SV({isAdmin:t,memberInfo:s}){var U;const[n,r]=b.useState(""),[a,i]=b.useState("all"),[l,o]=b.useState("all"),[c,d]=b.useState(null),[u,m]=b.useState(""),[h,p]=b.useState({}),[x,y]=b.useState(!1),[v,j]=b.useState([]),w=Jt(),N=((U=s==null?void 0:s.email)==null?void 0:U.includes("isaasi.co.uk"))||(s==null?void 0:s.email)==="sharon@onlinem.co.uk",{data:_=[],isLoading:P}=me({queryKey:["all-support-tickets"],queryFn:()=>ee.entities.SupportTicket.list("-created_date"),enabled:N}),{data:A=[]}=me({queryKey:["support-responses",c==null?void 0:c.id],queryFn:async()=>(await ee.entities.SupportTicketResponse.list("created_date")).filter(H=>H.ticket_id===(c==null?void 0:c.id)),enabled:!!c}),E=Ie({mutationFn:({id:z,data:H})=>ee.entities.SupportTicket.update(z,H),onSuccess:()=>{w.invalidateQueries({queryKey:["all-support-tickets"]}),te.success("Ticket updated")},onError:()=>te.error("Failed to update ticket")}),C=Ie({mutationFn:z=>ee.entities.SupportTicketResponse.create(z),onSuccess:()=>{w.invalidateQueries({queryKey:["support-responses"]}),te.success("Response added"),m(""),j([])},onError:()=>te.error("Failed to add response")}),R=z=>{E.mutate({id:c.id,data:z}),d({...c,...z})},O=()=>{u.trim()&&C.mutate({ticket_id:c.id,message:u,is_admin_response:!0,responder_email:s.email,responder_name:`${s.first_name} ${s.last_name}`,attachments:v})},k=async z=>{if(!(!z||z.length===0)){y(!0);try{const H=Array.from(z).map(async $=>(await ee.integrations.Core.UploadFile({file:$})).file_url),B=await Promise.all(H);j($=>[...$,...B]),te.success(`Uploaded ${B.length} image(s)`)}catch(H){te.error("Failed to upload images: "+H.message)}finally{y(!1)}}},T=z=>{j(H=>H.filter(B=>B!==z))};if(!N)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Access restricted to isaasi.co.uk team members"})})})});const D=_.filter(z=>{const H=z.subject.toLowerCase().includes(n.toLowerCase())||z.description.toLowerCase().includes(n.toLowerCase())||z.submitter_name.toLowerCase().includes(n.toLowerCase()),B=a==="all"||z.status===a,$=l==="all"||z.type===l;return H&&B&&$}),F=z=>_.filter(H=>H.status===z).length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Support Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage and respond to support tickets"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[e.jsx(le,{className:"border-blue-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F("open")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Open"})]})}),e.jsx(le,{className:"border-yellow-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:F("in_progress")}),e.jsx("div",{className:"text-sm text-slate-600",children:"In Progress"})]})}),e.jsx(le,{className:"border-green-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:F("resolved")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Resolved"})]})}),e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-600",children:F("closed")}),e.jsx("div",{className:"text-sm text-slate-600",children:"Closed"})]})})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search tickets...",value:n,onChange:z=>r(z.target.value),className:"pl-10"})]}),e.jsxs(Ge,{value:a,onValueChange:i,children:[e.jsx(Ve,{className:"w-full md:w-48",children:e.jsx(Je,{placeholder:"All Statuses"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Statuses"}),e.jsx(re,{value:"open",children:"Open"}),e.jsx(re,{value:"in_progress",children:"In Progress"}),e.jsx(re,{value:"resolved",children:"Resolved"}),e.jsx(re,{value:"closed",children:"Closed"})]})]}),e.jsxs(Ge,{value:l,onValueChange:o,children:[e.jsx(Ve,{className:"w-full md:w-48",children:e.jsx(Je,{placeholder:"All Types"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Types"}),e.jsx(re,{value:"bug",children:"Bug Report"}),e.jsx(re,{value:"feature_request",children:"Feature Request"}),e.jsx(re,{value:"how_to",children:"How-To Question"}),e.jsx(re,{value:"general",children:"General Message"})]})]})]})})}),P?e.jsx("div",{className:"text-center py-12",children:"Loading tickets..."}):D.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"No tickets found"})})}):e.jsx("div",{className:"space-y-4",children:D.map(z=>{const H=$6[z.type];return e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>d(z),children:e.jsx(ce,{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx(H,{className:"w-5 h-5 text-blue-600"}),e.jsx(ye,{variant:"outline",className:"text-xs",children:U6[z.type]}),e.jsx(ye,{className:w4e[z.status],children:z.status.replace("_"," ")}),z.severity&&e.jsx(ye,{className:N4e[z.severity],children:z.severity})]}),e.jsx("h3",{className:"font-semibold text-lg text-slate-900 mb-1",children:z.subject}),e.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{children:["From: ",z.submitter_name]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(an,{className:"w-3 h-3"}),Ot(new Date(z.created_date),"MMM d, yyyy h:mm a")]})]})]})})})},z.id)})}),e.jsx(Ct,{open:!!c,onOpenChange:()=>d(null),children:e.jsx(Nt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:c&&e.jsxs(e.Fragment,{children:[e.jsx(kt,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[Be.createElement($6[c.type],{className:"w-5 h-5 text-blue-600"}),e.jsx(ye,{variant:"outline",children:U6[c.type]}),e.jsxs(Ge,{value:c.status,onValueChange:z=>R({status:z}),children:[e.jsx(Ve,{className:"w-40 h-7 text-xs",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"open",children:"Open"}),e.jsx(re,{value:"in_progress",children:"In Progress"}),e.jsx(re,{value:"resolved",children:"Resolved"}),e.jsx(re,{value:"closed",children:"Closed"})]})]}),e.jsxs(Ge,{value:c.severity||"moderate",onValueChange:z=>R({severity:z}),children:[e.jsx(Ve,{className:"w-32 h-7 text-xs",children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"minor",children:"Minor"}),e.jsx(re,{value:"moderate",children:"Moderate"}),e.jsx(re,{value:"major",children:"Major"}),e.jsx(re,{value:"critical",children:"Critical"})]})]})]}),e.jsx(Et,{className:"text-2xl",children:c.subject}),e.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["From: ",c.submitter_name," (",c.submitter_email,")"]}),e.jsxs("p",{className:"text-sm text-slate-500",children:["Submitted ",Ot(new Date(c.created_date),"MMM d, yyyy h:mm a")]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:c.description})}),c.attachments&&c.attachments.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:"Attachments"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:c.attachments.map((z,H)=>e.jsxs("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-50 rounded border border-slate-200 hover:bg-slate-100 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline truncate",children:z.split("/").pop()})]},H))})]}),(c.status==="resolved"||c.status==="closed")&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Resolution Notes"}),e.jsx(Qt,{placeholder:"Add resolution notes...",rows:3,value:h.resolution_notes??c.resolution_notes??"",onChange:z=>p({...h,resolution_notes:z.target.value}),onBlur:()=>{h.resolution_notes!==void 0&&(R({resolution_notes:h.resolution_notes}),p({}))}})]}),A.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Conversation"}),A.map(z=>e.jsxs("div",{className:`rounded-lg p-4 ${z.is_admin_response?"bg-blue-50 border border-blue-200":"bg-slate-50 border border-slate-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-sm text-slate-900",children:[z.responder_name,z.is_admin_response&&e.jsx(ye,{className:"ml-2 bg-blue-600 text-white",children:"Developer"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:Ot(new Date(z.created_date),"MMM d, h:mm a")})]}),e.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:z.message}),z.attachments&&z.attachments.length>0&&e.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:z.attachments.map((H,B)=>e.jsx("a",{href:H,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("img",{src:H,alt:`Attachment ${B+1}`,className:"w-full h-32 object-cover rounded border border-slate-200 hover:opacity-90 transition-opacity"})},B))})]},z.id))]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{children:"Add Response"}),e.jsx(Qt,{placeholder:"Type your response to the user...",rows:4,value:u,onChange:z=>m(z.target.value)}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{htmlFor:"response-images",className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border border-slate-300 rounded-md hover:bg-slate-50 transition-colors",children:[e.jsx(Xs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:x?"Uploading...":"Attach Images"})]})}),e.jsx("input",{id:"response-images",type:"file",accept:"image/*",multiple:!0,onChange:z=>k(z.target.files),className:"hidden",disabled:x})]}),v.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map((z,H)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:z,alt:`Upload ${H+1}`,className:"w-full h-24 object-cover rounded border border-slate-200"}),e.jsx("button",{onClick:()=>T(z),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},H))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(X,{onClick:O,disabled:C.isPending||!u.trim()||x,className:"bg-blue-600 hover:bg-blue-700",children:"Send Response"})})]})]})]})})})]})})}const z_={Menu:ro,Calendar:Ns,CreditCard:Ud,Ticket:Ls,Wallet:uc,ShoppingCart:Vd,History:_v,Sparkles:pa,FileText:ls,Briefcase:Dn,Settings:di,BookOpen:wv,Building:yc,HelpCircle:$d,Users:Cs,Shield:Bn,BarChart3:qh,FileEdit:Ap,AtSign:Ep,FolderTree:Cd,Trophy:Wn,MousePointer2:Op,Mail:Rs,Download:lr};function CV({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState("hierarchy"),[d,u]=b.useState(""),[m,h]=b.useState("all"),[p,x]=b.useState("all"),[y,v]=b.useState("display_order"),j=Jt(),{data:w,isLoading:N}=me({queryKey:["portal-navigation-items"],queryFn:()=>ee.entities.PortalNavigationItem.list("display_order"),initialData:[],staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0}),_=Ie({mutationFn:U=>ee.entities.PortalNavigationItem.create(U),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),a(!1),n(null),te.success("Navigation item created")}}),P=Ie({mutationFn:({id:U,data:z})=>ee.entities.PortalNavigationItem.update(U,z),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),a(!1),n(null),te.success("Navigation item updated")}}),A=Ie({mutationFn:U=>ee.entities.PortalNavigationItem.delete(U),onSuccess:()=>{j.invalidateQueries({queryKey:["portal-navigation-items"]}),te.success("Navigation item deleted")}}),E=b.useMemo(()=>{const U=w.filter(H=>H.is_active&&H.section==="user").sort((H,B)=>H.display_order-B.display_order);return U.filter(H=>!H.parent_title).map(H=>({...H,subItems:U.filter(B=>B.parent_title===H.title).sort((B,$)=>B.display_order-$.display_order)}))},[w]),C=b.useMemo(()=>{const U=w.filter(H=>H.is_active&&H.section==="admin").sort((H,B)=>H.display_order-B.display_order);return U.filter(H=>!H.parent_title).map(H=>({...H,subItems:U.filter(B=>B.parent_title===H.title).sort((B,$)=>B.display_order-$.display_order)}))},[w]),R=b.useMemo(()=>{let U=w.filter(B=>{var V,q;const $=d===""||B.title.toLowerCase().includes(d.toLowerCase())||((V=B.url)==null?void 0:V.toLowerCase().includes(d.toLowerCase()))||((q=B.feature_id)==null?void 0:q.toLowerCase().includes(d.toLowerCase())),I=m==="all"||B.section===m,L=p==="all"||p==="none"&&!B.parent_title||p!=="none"&&B.parent_title===p;return $&&I&&L});const z=U.filter(B=>!B.parent_title),H=[];return z.sort((B,$)=>{switch(y){case"title":return B.title.localeCompare($.title);case"section":return B.section.localeCompare($.section);case"display_order":default:return B.display_order-$.display_order}}),z.forEach(B=>{H.push({...B,isParent:!0}),U.filter(I=>I.parent_title===B.title).sort((I,L)=>I.display_order-L.display_order).forEach(I=>{H.push({...I,isChild:!0})})}),H},[w,d,m,p,y]),O=b.useMemo(()=>["all","none",...w.filter(z=>!z.parent_title).map(z=>z.title).sort()],[w]),k=U=>{n({...U}),a(!0)},T=()=>{if(!s.title){te.error("Title is required");return}s.id?P.mutate({id:s.id,data:{title:s.title,icon:s.icon}}):_.mutate(s)},D=async U=>{var z,H;if(U.destination&&!(U.source.droppableId===U.destination.droppableId&&U.source.index===U.destination.index)){l(!0);try{const{source:B,destination:$,draggableId:I}=U,L=B.droppableId.split("-")[0],V=B.droppableId.split("-"),q=V.length>1?V[1]:null,J=$.droppableId.split("-"),Q=J.length>1?J[1]:null,Y=w.filter(pe=>pe.section===L),K=Y.find(pe=>pe.id===I);if(!K)return;const ae=q&&((z=Y.find(pe=>pe.id===q))==null?void 0:z.title)||null,se=Q&&((H=Y.find(pe=>pe.id===Q))==null?void 0:H.title)||null,de=K.parent_title||null;if(Y.some(pe=>pe.parent_title===K.title)&&se){const pe=Y.filter(je=>je.parent_title===K.title);for(const je of pe)await ee.entities.PortalNavigationItem.update(je.id,{parent_title:""})}const oe=Y.filter(pe=>pe.id!==I&&(se?pe.parent_title===se:!pe.parent_title)).sort((pe,je)=>pe.display_order-je.display_order);oe.splice($.index,0,K);for(let pe=0;pe<oe.length;pe++){const je=oe[pe],Ne={display_order:pe};je.id===I&&(Ne.parent_title=se||""),await ee.entities.PortalNavigationItem.update(je.id,Ne)}if(de!==se){const pe=Y.filter(je=>je.id!==I&&(de?je.parent_title===de:!je.parent_title)).sort((je,Ne)=>je.display_order-Ne.display_order);for(let je=0;je<pe.length;je++)await ee.entities.PortalNavigationItem.update(pe[je].id,{display_order:je})}await j.invalidateQueries({queryKey:["portal-navigation-items"]}),te.success("Navigation updated")}catch(B){te.error("Failed to reorder"),console.error(B)}finally{l(!1)}}},F=(U,z,H,B,$=!1)=>{const I=z_[U.icon]||ro,L=U.subItems&&U.subItems.length>0;return e.jsxs("div",{ref:H.innerRef,...H.draggableProps,children:[e.jsxs("div",{className:`flex items-center gap-3 p-4 bg-white rounded-lg border border-slate-200 hover:border-blue-400 transition-colors ${$?"ml-8":""}`,children:[e.jsx("div",{...H.dragHandleProps,children:e.jsx(zd,{className:"w-5 h-5 text-slate-400 cursor-grab"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(I,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"font-medium text-slate-900",children:U.title}),L&&e.jsxs(ye,{variant:"outline",className:"text-xs bg-blue-50",children:[U.subItems.length," sub-item",U.subItems.length>1?"s":""]})]}),e.jsx("div",{className:"text-sm text-slate-500 truncate",children:U.url||"(Parent menu)"}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Feature ID: ",U.feature_id]})]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>k(U),children:e.jsx(Ds,{className:"w-3 h-3"})})]}),!$&&e.jsx(_d,{droppableId:`${B}-${U.id}`,children:(V,q)=>e.jsxs("div",{ref:V.innerRef,...V.droppableProps,className:`ml-8 mt-2 space-y-2 min-h-[60px] border-l-2 pl-4 transition-colors ${q.isDraggingOver?"border-blue-500 bg-blue-50":"border-slate-200"} ${L?"":"opacity-40"}`,children:[L?U.subItems.map((J,Q)=>e.jsx(Nd,{draggableId:J.id,index:Q,children:Y=>F(J,Q,Y,B,!0)},J.id)):e.jsx("div",{className:"text-center py-4 text-xs text-slate-400",children:"Drop items here to create sub-menu"}),V.placeholder]})})]})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Portal Navigation Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage and reorder portal sidebar menu items"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:o==="hierarchy"?"default":"outline",onClick:()=>c("hierarchy"),className:"gap-2",children:[e.jsx(OY,{className:"w-4 h-4"}),"Hierarchy"]}),e.jsxs(X,{variant:o==="table"?"default":"outline",onClick:()=>c("table"),className:"gap-2",children:[e.jsx(_Q,{className:"w-4 h-4"}),"Table"]})]})]}),o==="hierarchy"?e.jsx(le,{className:"border-blue-200 bg-blue-50 mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Drag items to reorder or nest them. Drop items onto parent menus to create sub-items, or drag them to the top level to make them standalone."})})}):e.jsx(le,{className:"mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"grid md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search...",value:d,onChange:U=>u(U.target.value),className:"pl-9"})]}),e.jsxs(Ge,{value:m,onValueChange:h,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Section"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Sections"}),e.jsx(re,{value:"user",children:"User"}),e.jsx(re,{value:"admin",children:"Admin"})]})]}),e.jsxs(Ge,{value:p,onValueChange:x,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Parent"})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Parents"}),e.jsx(re,{value:"none",children:"Top Level Only"}),O.filter(U=>U!=="all"&&U!=="none").map(U=>e.jsx(re,{value:U,children:U},U))]})]}),e.jsxs(Ge,{value:y,onValueChange:v,children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Sort by"})}),e.jsxs(We,{children:[e.jsx(re,{value:"display_order",children:"Display Order"}),e.jsx(re,{value:"title",children:"Title"}),e.jsx(re,{value:"section",children:"Section"}),e.jsx(re,{value:"parent",children:"Parent"})]})]})]})})}),o==="table"?e.jsx(le,{children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Title"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Icon"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"URL"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Section"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Parent"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Order"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Feature ID"}),e.jsx("th",{className:"text-left p-3 text-sm font-semibold text-slate-700",children:"Active"}),e.jsx("th",{className:"text-right p-3 text-sm font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-12 text-slate-500",children:"No items found"})}):R.map(U=>{const z=z_[U.icon]||ro;return e.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 ${U.isChild?"bg-slate-25":""}`,children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:`flex items-center gap-2 ${U.isChild?"pl-6":""}`,children:[U.isChild&&e.jsx("span",{className:"text-slate-400",children:""}),e.jsx("span",{className:`${U.isParent?"font-semibold":"font-medium"} text-slate-900`,children:U.title})]})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-xs text-slate-500",children:U.icon})]})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600 truncate max-w-xs block",children:U.url||"-"})}),e.jsx("td",{className:"p-3",children:e.jsx(ye,{variant:U.section==="admin"?"default":"outline",className:"text-xs",children:U.section})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:U.parent_title||"-"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-sm text-slate-600",children:U.display_order})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:"text-xs text-slate-500 font-mono",children:U.feature_id})}),e.jsx("td",{className:"p-3",children:U.is_active?e.jsx(ye,{className:"bg-green-100 text-green-700 text-xs",children:"Active"}):e.jsx(ye,{className:"bg-slate-100 text-slate-700 text-xs",children:"Inactive"})}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>k(U),children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete "${U.title}"?`)&&A.mutate(U.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(hs,{className:"w-3 h-3"})})]})})]},U.id)})})]})})})}):e.jsxs(ig,{onDragEnd:D,children:[i&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-slate-900 font-medium",children:"Updating order..."})]})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"User Navigation"]})}),e.jsx(ce,{className:"p-4",children:e.jsx(_d,{droppableId:"user",children:U=>e.jsxs("div",{ref:U.innerRef,...U.droppableProps,className:"space-y-3 min-h-[400px]",children:[E.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No user navigation items"}):E.map((z,H)=>e.jsx(Nd,{draggableId:z.id,index:H,children:B=>F(z,H,B,"user")},z.id)),U.placeholder]})})})]}),e.jsxs(le,{children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-5 h-5 text-amber-600"}),"Admin Navigation"]})}),e.jsx(ce,{className:"p-4",children:e.jsx(_d,{droppableId:"admin",children:U=>e.jsxs("div",{ref:U.innerRef,...U.droppableProps,className:"space-y-3 min-h-[400px]",children:[C.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No admin navigation items"}):C.map((z,H)=>e.jsx(Nd,{draggableId:z.id,index:H,children:B=>F(z,H,B,"admin")},z.id)),U.placeholder]})})})]})]})]}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:s!=null&&s.id?"Edit Navigation Item":"Create Navigation Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Title *"}),e.jsx(he,{value:s.title,onChange:U=>n({...s,title:U.target.value}),placeholder:"e.g., Browse Events"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Icon *"}),e.jsxs(Ge,{value:s.icon,onValueChange:U=>n({...s,icon:U}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsx(We,{children:Object.keys(z_).map(U=>e.jsx(re,{value:U,children:U},U))})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:T,disabled:_.isPending||P.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const _4e=[{value:"Articles",label:"Articles"},{value:"Resources",label:"Resources"},{value:"News",label:"News"}];function kV({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(""),[m,h]=b.useState(null),[p,x]=b.useState(!1),[y,v]=b.useState(""),[j,w]=b.useState(!1),N=Jt(),{data:_,isLoading:P}=me({queryKey:["resource-categories"],queryFn:()=>ee.entities.ResourceCategory.list("display_order"),initialData:[]}),A=Ie({mutationFn:I=>ee.entities.ResourceCategory.create(I),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),a(!1),n(null),te.success("Category created successfully")},onError:I=>{te.error("Failed to create category: "+I.message)}}),E=Ie({mutationFn:({id:I,categoryData:L})=>ee.entities.ResourceCategory.update(I,L),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),a(!1),n(null),te.success("Category updated successfully")},onError:I=>{te.error("Failed to update category: "+I.message)}}),C=Ie({mutationFn:I=>ee.entities.ResourceCategory.delete(I),onSuccess:()=>{N.invalidateQueries({queryKey:["resource-categories"]}),l(!1),c(null),te.success("Category deleted successfully")},onError:I=>{te.error("Failed to delete category: "+I.message)}}),R=Ie({mutationFn:async({categoryId:I,oldName:L,newName:V})=>(await gke({categoryId:I,oldSubcategoryName:L,newSubcategoryName:V})).data,onSuccess:I=>{N.invalidateQueries({queryKey:["resource-categories"]}),x(!1),h(null),v(""),te.success(I.message||"Subcategory renamed successfully")},onError:I=>{te.error("Failed to rename subcategory: "+I.message)}}),O=()=>{n({name:"",description:"",subcategories:[],display_order:_.length,is_active:!0,applies_to_content_types:["Articles","Resources"]}),a(!0)},k=I=>{n({...I}),a(!0)},T=I=>{c(I),l(!0)},D=()=>{if(!s.name.trim()){te.error("Category name is required");return}const I={name:s.name,description:s.description||"",subcategories:s.subcategories||[],display_order:s.display_order,is_active:s.is_active,applies_to_content_types:s.applies_to_content_types||["Articles","Resources"]};s.id?E.mutate({id:s.id,categoryData:I}):A.mutate(I)},F=()=>{const I=d.trim();if(!I){te.error("Subcategory name cannot be empty");return}const L=s.subcategories||[];if(L.includes(I)){te.error("Subcategory already exists");return}const V=[...L,I].sort((q,J)=>q.localeCompare(J,void 0,{sensitivity:"base"}));n({...s,subcategories:V}),u("")},U=I=>{const L=(s.subcategories||[]).filter(V=>V!==I);n({...s,subcategories:L})},z=(I,L)=>{h({category:I,subcategory:L}),v(L),x(!0)},H=()=>{if(!y.trim()||y.trim()===m.subcategory){te.error("Please enter a different name");return}R.mutate({categoryId:m.category.id,oldName:m.subcategory,newName:y.trim()})},B=I=>{const L=s.applies_to_content_types||[],V=L.includes(I)?L.filter(q=>q!==I):[...L,I];n({...s,applies_to_content_types:V})},$=async I=>{if(I.destination&&I.source.index!==I.destination.index){w(!0);try{const L=Array.from(_),[V]=L.splice(I.source.index,1);L.splice(I.destination.index,0,V);const q=L.map((J,Q)=>ee.entities.ResourceCategory.update(J.id,{display_order:Q}));await Promise.all(q),await N.invalidateQueries({queryKey:["resource-categories"]}),te.success("Category order updated")}catch(L){te.error("Failed to reorder: "+L.message)}finally{w(!1)}}};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Category Management"}),e.jsx("p",{className:"text-slate-600",children:"Manage categories and subcategories for Theme, Collection, Level, and News Type"})]}),e.jsxs(X,{onClick:O,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create Category"]})]}),P?e.jsx("div",{className:"text-center py-12",children:"Loading categories..."}):_.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Categories Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first category to organize your content"}),e.jsxs(X,{onClick:O,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Category"]})]})}):e.jsxs(e.Fragment,{children:[j&&e.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-slate-900 font-medium",children:"Updating order..."})]})})}),e.jsx(ig,{onDragEnd:$,children:e.jsx(_d,{droppableId:"categories",children:I=>e.jsxs("div",{ref:I.innerRef,...I.droppableProps,className:"space-y-4",children:[_.map((L,V)=>e.jsx(Nd,{draggableId:L.id,index:V,children:(q,J)=>e.jsx("div",{ref:q.innerRef,...q.draggableProps,children:e.jsxs(le,{className:`border-slate-200 shadow-sm hover:shadow-md transition-shadow ${J.isDragging?"shadow-lg ring-2 ring-blue-400":""}`,children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{...q.dragHandleProps,className:"pt-1",children:e.jsx(zd,{className:"w-5 h-5 text-slate-400 cursor-grab active:cursor-grabbing"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Cd,{className:"w-5 h-5 text-blue-600"}),e.jsx(ze,{className:"text-lg",children:L.name})]}),L.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:L.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(L.applies_to_content_types||[]).map(Q=>e.jsx(ye,{className:"bg-purple-100 text-purple-700 text-xs",children:Q},Q))})]})]})}),e.jsxs(ce,{className:"pt-4",children:[e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"text-xs font-medium text-slate-500 uppercase",children:["Subcategories (",(L.subcategories||[]).length,")"]})}),(L.subcategories||[]).length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No subcategories yet"}):e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.subcategories.map(Q=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg text-sm group",children:[e.jsx("span",{className:"text-slate-700",children:Q}),e.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>z(L,Q),className:"opacity-0 group-hover:opacity-100 transition-opacity h-7 text-xs",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Rename"]})]},Q))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>k(L),className:"flex-1",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>T(L),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-3 h-3"})})]})]})]})})},L.id)),I.placeholder]})})})]}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:s!=null&&s.id?"Edit Category":"Create New Category"})}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"category-name",children:"Category Name *"}),e.jsx(he,{id:"category-name",value:s.name,onChange:I=>n({...s,name:I.target.value}),placeholder:"e.g., Theme, Collection, Level"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"category-description",children:"Description"}),e.jsx(Qt,{id:"category-description",value:s.description||"",onChange:I=>n({...s,description:I.target.value}),placeholder:"Optional description...",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Applies To Content Types"}),e.jsx("div",{className:"flex flex-wrap gap-3 p-3 bg-slate-50 rounded-lg",children:_4e.map(I=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(s.applies_to_content_types||[]).includes(I.value),onChange:()=>B(I.value),className:"rounded border-slate-300"}),e.jsx("span",{className:"text-sm text-slate-700",children:I.label})]},I.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{children:"Subcategories"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(he,{placeholder:"Add subcategory...",value:d,onChange:I=>u(I.target.value),onKeyPress:I=>{I.key==="Enter"&&(I.preventDefault(),F())}}),e.jsx(X,{type:"button",onClick:F,className:"bg-blue-600 hover:bg-blue-700",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),(s.subcategories||[]).length>0&&e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-slate-200 rounded-lg p-3",children:s.subcategories.map(I=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[e.jsx("span",{className:"text-sm text-slate-700",children:I}),e.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(I),className:"text-red-600 hover:text-red-700 h-7",children:e.jsx(hs,{className:"w-3 h-3"})})]},I))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"display-order",children:"Display Order"}),e.jsx(he,{id:"display-order",type:"number",value:s.display_order,onChange:I=>n({...s,display_order:parseInt(I.target.value)||0})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{a(!1),n(null),u("")},children:"Cancel"}),e.jsx(X,{onClick:D,disabled:A.isPending||E.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Category"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[e.jsx(js,{className:"w-5 h-5 text-red-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-red-900 font-medium",children:['Are you sure you want to delete "',o==null?void 0:o.name,'"?']}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This will remove the category and may affect content that uses it."})]})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{l(!1),c(null)},children:"Cancel"}),e.jsx(X,{onClick:()=>o&&C.mutate(o.id),disabled:C.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})}),e.jsx(Ct,{open:p,onOpenChange:x,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Rename Subcategory"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-900",children:"This will update the subcategory name across all resources and articles that use it."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"rename-value",children:"New Name"}),e.jsx(he,{id:"rename-value",value:y,onChange:I=>v(I.target.value),placeholder:"Enter new subcategory name...",onKeyPress:I=>{I.key==="Enter"&&(I.preventDefault(),H())}})]}),m&&e.jsxs("div",{className:"text-sm text-slate-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Category:"})," ",m.category.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Current name:"})," ",m.subcategory]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{x(!1),h(null),v("")},children:"Cancel"}),e.jsx(X,{onClick:H,disabled:R.isPending,className:"bg-blue-600 hover:bg-blue-700",children:R.isPending?"Renaming...":"Rename"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function EV({isAdmin:t}){var cs;const[s,n]=b.useState(!1),[r,a]=b.useState(!1),[i,l]=b.useState(!1),[o,c]=b.useState(!1),[d,u]=b.useState(null),[m,h]=b.useState(null),[p,x]=b.useState(null),[y,v]=b.useState(""),[j,w]=b.useState(""),[N,_]=b.useState(!1),[P,A]=b.useState(""),[E,C]=b.useState([]),[R,O]=b.useState(!1),[k,T]=b.useState("add"),[D,F]=b.useState(""),[U,z]=b.useState(""),[H,B]=b.useState(1),[$]=b.useState(12),[I,L]=b.useState("name-asc"),[V,q]=b.useState({name:"",description:"",roles:[],is_active:!0}),[J,Q]=b.useState({member_id:"",guest_id:"",group_role:"",expires_at:null}),[Y,K]=b.useState(""),ae=Jt(),{data:se,isLoading:de}=me({queryKey:["member-groups"],queryFn:()=>ee.entities.MemberGroup.list("-updated_date"),initialData:[]}),{data:ue,isLoading:oe}=me({queryKey:["members-list"],queryFn:()=>ee.entities.Member.list("first_name"),initialData:[]}),{data:pe,isLoading:je}=me({queryKey:["member-group-assignments"],queryFn:()=>ee.entities.MemberGroupAssignment.list(),initialData:[]}),{data:Ne,isLoading:qe}=me({queryKey:["member-group-guests"],queryFn:()=>ee.entities.MemberGroupGuest.list(),initialData:[]}),$e=Ie({mutationFn:we=>ee.entities.MemberGroup.create(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),n(!1),Me(),te.success("Group created successfully")},onError:we=>{te.error("Failed to create group: "+we.message)}}),Ee=Ie({mutationFn:({id:we,data:ot})=>ee.entities.MemberGroup.update(we,ot),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),n(!1),Me(),te.success("Group updated successfully")},onError:we=>{te.error("Failed to update group: "+we.message)}}),Se=Ie({mutationFn:async we=>{const ot=pe.filter(Pe=>Pe.group_id===we);for(const Pe of ot)await ee.entities.MemberGroupAssignment.delete(Pe.id);await ee.entities.MemberGroup.delete(we)},onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),ae.invalidateQueries({queryKey:["member-group-assignments"]}),l(!1),x(null),te.success("Group deleted successfully")},onError:we=>{te.error("Failed to delete group: "+we.message)}}),Ye=Ie({mutationFn:we=>ee.entities.MemberGroupAssignment.create(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-group-assignments"]}),a(!1),Q({member_id:"",guest_id:"",group_role:"",expires_at:null}),te.success("Member assigned successfully")},onError:we=>{te.error("Failed to assign member: "+we.message)}}),Qe=Ie({mutationFn:we=>ee.entities.MemberGroupAssignment.delete(we),onSuccess:()=>{ae.invalidateQueries({queryKey:["member-group-assignments"]}),te.success("Member removed from group")},onError:we=>{te.error("Failed to remove member: "+we.message)}}),Me=()=>{q({name:"",description:"",roles:[],is_active:!0}),u(null)},lt=we=>{u(we),q({name:we.name,description:we.description||"",roles:we.roles||[],is_active:we.is_active}),n(!0)},Ce=we=>{u(null),q({name:`${we.name} (Copy)`,description:we.description||"",roles:[...we.roles||[]],is_active:we.is_active}),n(!0)},it=()=>{if(!j.trim()){te.error("Please enter group names");return}const ot=j.split(`
`).filter(Pe=>Pe.trim()).map(Pe=>({name:Pe.trim(),description:"",roles:[],is_active:!0}));Promise.all(ot.map(Pe=>ee.entities.MemberGroup.create(Pe))).then(()=>{ae.invalidateQueries({queryKey:["member-groups"]}),c(!1),w(""),te.success(`Created ${ot.length} groups successfully`)}).catch(Pe=>{te.error("Failed to create groups: "+Pe.message)})},_e=()=>{if(!V.name.trim()){te.error("Group name is required");return}d?Ee.mutate({id:d.id,data:V}):$e.mutate(V)},Ue=()=>{if(y.trim()){if(V.roles.includes(y.trim())){te.error("Role already exists");return}q({...V,roles:[...V.roles,y.trim()]}),v("")}},rt=()=>{if(!P.trim()){te.error("Please enter role names");return}const ot=P.split(`
`).filter(vt=>vt.trim()).map(vt=>vt.trim()),Pe=V.roles||[],tt=ot.filter(vt=>!Pe.includes(vt));if(tt.length===0){te.error("All roles already exist");return}q({...V,roles:[...Pe,...tt]}),A(""),_(!1),te.success(`Added ${tt.length} role(s)`)},ht=we=>{q({...V,roles:V.roles.filter(ot=>ot!==we)})},ct=()=>{if(!J.member_id&&!J.guest_id||!J.group_role){te.error("Please select a member/guest and role");return}if(pe.find(Pe=>Pe.group_id!==m.id?!1:!!(J.member_id&&Pe.member_id===J.member_id||J.guest_id&&Pe.guest_id===J.guest_id))){te.error("This person is already assigned to this group");return}const ot={group_role:J.group_role,group_id:m.id};J.member_id?ot.member_id=J.member_id:J.guest_id&&(ot.guest_id=J.guest_id),J.expires_at&&(ot.expires_at=Ot(J.expires_at,"yyyy-MM-dd")),Ye.mutate(ot)},Rt=we=>pe.filter(ot=>ot.group_id===we),rs=we=>{const ot=ue.find(Pe=>Pe.id===we);return ot?`${ot.first_name} ${ot.last_name}`:"Unknown"},Us=we=>{const ot=Ne.find(Pe=>Pe.id===we);return ot?`${ot.first_name} ${ot.last_name}`:"Unknown Guest"},Es=we=>we.member_id?rs(we.member_id):we.guest_id?Us(we.guest_id):"Unknown",mn=we=>!!we.guest_id,Zt=Be.useMemo(()=>{let we=se.filter(ot=>U===""||ot.name.toLowerCase().includes(U.toLowerCase())||ot.description&&ot.description.toLowerCase().includes(U.toLowerCase()));return we.sort((ot,Pe)=>{switch(I){case"name-asc":return ot.name.localeCompare(Pe.name);case"name-desc":return Pe.name.localeCompare(ot.name);case"members-asc":{const tt=Rt(ot.id).length,vt=Rt(Pe.id).length;return tt-vt}case"members-desc":{const tt=Rt(ot.id).length;return Rt(Pe.id).length-tt}default:return 0}}),we},[se,U,I,pe]),yn=Math.ceil(Zt.length/$),Fs=Zt.slice((H-1)*$,H*$);Be.useEffect(()=>{B(1)},[U,I]);const Ar=we=>{C(ot=>ot.includes(we)?ot.filter(Pe=>Pe!==we):[...ot,we])},er=()=>{E.length===se.length?C([]):C(se.map(we=>we.id))},He=Ie({mutationFn:async({groupIds:we,action:ot,role:Pe})=>{const tt=[];for(const vt of we){const ns=se.find(en=>en.id===vt);if(!ns)continue;let ms=[...ns.roles||[]];ot==="add"?ms.includes(Pe)||ms.push(Pe):ot==="remove"&&(ms=ms.filter(en=>en!==Pe)),tt.push(ee.entities.MemberGroup.update(vt,{roles:ms}))}await Promise.all(tt)},onSuccess:()=>{ae.invalidateQueries({queryKey:["member-groups"]}),O(!1),F(""),C([]),te.success("Groups updated successfully")},onError:we=>{te.error("Failed to update groups: "+we.message)}}),nt=()=>{if(!D.trim()){te.error("Please enter a role name");return}if(E.length===0){te.error("Please select at least one group");return}He.mutate({groupIds:E,action:k,role:D.trim()})};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Member Groups"}),e.jsx("p",{className:"text-slate-600",children:"Create and manage member groups with roles"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(X,{onClick:()=>c(!0),variant:"outline",children:[e.jsx(ZP,{className:"w-4 h-4 mr-2"}),"Bulk Create"]}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"New Group"]})]})]}),se.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"bg-blue-50 border-blue-200 mb-4",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:er,className:"bg-white",children:[e.jsx(yQ,{className:"w-4 h-4 mr-2"}),E.length===se.length?"Deselect All":"Select All"]}),E.length>0&&e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[E.length," group",E.length!==1?"s":""," selected"]})]}),E.length>0&&e.jsxs(X,{onClick:()=>O(!0),className:"bg-blue-600 hover:bg-blue-700",size:"sm",children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Bulk Edit Roles"]})]})})}),e.jsx(le,{className:"mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(he,{placeholder:"Search groups...",value:U,onChange:we=>z(we.target.value),className:"w-full"})}),e.jsx("div",{className:"w-full md:w-64",children:e.jsxs(Ge,{value:I,onValueChange:L,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"name-asc",children:"Name (A-Z)"}),e.jsx(re,{value:"name-desc",children:"Name (Z-A)"}),e.jsx(re,{value:"members-desc",children:"Most Members"}),e.jsx(re,{value:"members-asc",children:"Least Members"})]})]})})]}),Zt.length>0&&e.jsxs("p",{className:"text-sm text-slate-600 mt-3",children:["Showing ",Zt.length," of ",se.length," group",se.length!==1?"s":""]})]})})]})]}),de||oe||je||qe?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((we,ot)=>e.jsx(le,{className:"animate-pulse",children:e.jsxs(Fe,{children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"})]})},ot))}):se.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Groups Yet"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Create your first member group to get started"}),e.jsxs(X,{onClick:()=>n(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Create First Group"]})]})}):Zt.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Groups Found"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"No groups match your search criteria"}),e.jsx(X,{variant:"outline",onClick:()=>z(""),children:"Clear Search"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Fs.map(we=>{var tt;const ot=Rt(we.id),Pe=E.includes(we.id);return e.jsxs(le,{className:`hover:shadow-lg transition-shadow ${Pe?"ring-2 ring-blue-500":""}`,children:[e.jsxs(Fe,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",checked:Pe,onChange:()=>Ar(we.id),className:"w-4 h-4 cursor-pointer"}),e.jsxs("div",{className:"flex items-start justify-between flex-1",children:[e.jsx(ze,{className:"text-lg",children:we.name}),!we.is_active&&e.jsx(ye,{className:"bg-slate-200 text-slate-700",children:"Inactive"})]})]}),we.description&&e.jsx("p",{className:"text-sm text-slate-600",children:we.description})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Roles:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((tt=we.roles)==null?void 0:tt.length)>0?we.roles.map((vt,ns)=>e.jsx(ye,{className:"bg-blue-100 text-blue-700 text-xs",children:vt},ns)):e.jsx("span",{className:"text-xs text-slate-500",children:"No roles defined"})})]}),e.jsx("div",{children:e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Members: ",ot.length]})}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{h(we),a(!0)},className:"flex-1",children:[e.jsx(kd,{className:"w-3 h-3 mr-1"}),"Assign"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>Ce(we),title:"Duplicate",children:e.jsx(ni,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>lt(we),children:e.jsx(Ds,{className:"w-3 h-3"})}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{x(we),l(!0)},className:"text-red-600 hover:text-red-700",children:e.jsx(hs,{className:"w-3 h-3"})})]}),ot.length>0&&e.jsx("div",{className:"pt-2 border-t border-slate-200",children:e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ot.map(vt=>e.jsxs("div",{className:"flex items-center justify-between text-xs bg-slate-50 p-2 rounded",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-1",children:[Es(vt),mn(vt)&&e.jsx(ye,{className:"bg-purple-100 text-purple-700 text-[10px] px-1",children:"Guest"})]}),e.jsx("div",{className:"text-slate-500",children:vt.group_role}),vt.expires_at&&e.jsxs("div",{className:"text-slate-400 flex items-center gap-1",children:[e.jsx(Ns,{className:"w-3 h-3"}),"Expires: ",Ot(new Date(vt.expires_at),"dd MMM yyyy")]})]}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>Qe.mutate(vt.id),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:e.jsx(ks,{className:"w-3 h-3"})})]},vt.id))})})]})]},we.id)})}),yn>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>B(we=>Math.max(1,we-1)),disabled:H===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:yn},(we,ot)=>ot+1).map(we=>e.jsx(X,{variant:H===we?"default":"outline",size:"sm",onClick:()=>B(we),className:H===we?"bg-blue-600 hover:bg-blue-700":"",children:we},we))}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>B(we=>Math.min(yn,we+1)),disabled:H===yn,children:"Next"})]})})]}),e.jsx(Ct,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-lg",children:[e.jsx(kt,{children:e.jsx(Et,{children:d?"Edit Group":"Create New Group"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"name",children:"Group Name *"}),e.jsx(he,{id:"name",value:V.name,onChange:we=>q({...V,name:we.target.value}),placeholder:"e.g., Board of Directors"})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:V.description,onChange:we=>q({...V,description:we.target.value}),placeholder:"Description of this group...",rows:3})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Z,{children:"Roles within Group"}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>_(!N),type:"button",children:[e.jsx(ZP,{className:"w-3 h-3 mr-1"}),"Bulk Add"]})]}),N?e.jsxs("div",{className:"space-y-2 mb-2 p-3 bg-slate-50 rounded-lg",children:[e.jsx(Qt,{value:P,onChange:we=>A(we.target.value),placeholder:`Chair
Vice Chair
Secretary
Treasurer
Member`,rows:5}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{onClick:rt,type:"button",size:"sm",className:"flex-1",children:"Add Roles"}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>{_(!1),A("")},type:"button",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(he,{value:y,onChange:we=>v(we.target.value),onKeyPress:we=>we.key==="Enter"&&Ue(),placeholder:"e.g., Chair, Vice Chair, Member"}),e.jsx(X,{onClick:Ue,type:"button",children:e.jsx(Tt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:V.roles.map((we,ot)=>e.jsxs(ye,{className:"bg-blue-100 text-blue-700",children:[we,e.jsx("button",{onClick:()=>ht(we),className:"ml-2 hover:text-red-600",children:e.jsx(ks,{className:"w-3 h-3"})})]},ot))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:V.is_active,onChange:we=>q({...V,is_active:we.target.checked}),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"is_active",className:"cursor-pointer",children:"Active"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>{n(!1),Me()},children:"Cancel"}),e.jsxs(X,{onClick:_e,disabled:$e.isPending||Ee.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[d?"Update":"Create"," Group"]})]})]})}),e.jsx(Ct,{open:r,onOpenChange:we=>{a(we),we||K("")},children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsxs(Et,{children:["Assign Member to ",m==null?void 0:m.name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"member-search",children:"Search & Select Member or Guest *"}),e.jsx(he,{id:"member-search",value:Y,onChange:we=>K(we.target.value),placeholder:"Search by name or email...",className:"mb-2"}),e.jsxs("div",{className:"border border-slate-200 rounded-md max-h-48 overflow-y-auto",children:[ue.filter(we=>{var Pe,tt,vt;const ot=Y.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ot))||((tt=we.last_name)==null?void 0:tt.toLowerCase().includes(ot))||((vt=we.email)==null?void 0:vt.toLowerCase().includes(ot))}).map(we=>e.jsxs("button",{type:"button",onClick:()=>Q({...J,member_id:we.id,guest_id:""}),className:`w-full text-left px-3 py-2 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${J.member_id===we.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[we.first_name," ",we.last_name]}),e.jsx("div",{className:"text-xs text-slate-500",children:we.email})]},`member-${we.id}`)),Ne.filter(we=>{var Pe,tt,vt,ns;if(we.is_active===!1)return!1;const ot=Y.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ot))||((tt=we.last_name)==null?void 0:tt.toLowerCase().includes(ot))||((vt=we.email)==null?void 0:vt.toLowerCase().includes(ot))||((ns=we.organisation)==null?void 0:ns.toLowerCase().includes(ot))}).map(we=>e.jsxs("button",{type:"button",onClick:()=>Q({...J,guest_id:we.id,member_id:""}),className:`w-full text-left px-3 py-2 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${J.guest_id===we.id?"bg-purple-50 border-l-4 border-l-purple-600":""}`,children:[e.jsxs("div",{className:"font-medium text-slate-900 flex items-center gap-2",children:[we.first_name," ",we.last_name,e.jsx(ye,{className:"bg-purple-100 text-purple-700 text-[10px]",children:"Guest"})]}),e.jsx("div",{className:"text-xs text-slate-500",children:we.email}),we.organisation&&e.jsx("div",{className:"text-xs text-slate-400",children:we.organisation})]},`guest-${we.id}`)),ue.filter(we=>{var Pe,tt,vt;const ot=Y.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ot))||((tt=we.last_name)==null?void 0:tt.toLowerCase().includes(ot))||((vt=we.email)==null?void 0:vt.toLowerCase().includes(ot))}).length===0&&Ne.filter(we=>{var Pe,tt,vt,ns;if(we.is_active===!1)return!1;const ot=Y.toLowerCase();return((Pe=we.first_name)==null?void 0:Pe.toLowerCase().includes(ot))||((tt=we.last_name)==null?void 0:tt.toLowerCase().includes(ot))||((vt=we.email)==null?void 0:vt.toLowerCase().includes(ot))||((ns=we.organisation)==null?void 0:ns.toLowerCase().includes(ot))}).length===0&&e.jsx("div",{className:"px-3 py-4 text-center text-sm text-slate-500",children:"No members or guests found"})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"role",children:"Select Role *"}),e.jsxs(Ge,{value:J.group_role,onValueChange:we=>Q({...J,group_role:we}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"Choose a role..."})}),e.jsx(We,{children:(cs=m==null?void 0:m.roles)==null?void 0:cs.map((we,ot)=>e.jsx(re,{value:we,children:we},ot))})]})]}),e.jsxs("div",{children:[e.jsx(Z,{children:"Expiry Date (Optional)"}),e.jsxs(Zq,{children:[e.jsx(e7,{asChild:!0,children:e.jsxs(X,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Ns,{className:"mr-2 h-4 w-4"}),J.expires_at?Ot(J.expires_at,"PPP"):"No expiry date"]})}),e.jsxs(YC,{className:"w-auto p-0",align:"start",children:[e.jsx(nk,{mode:"single",selected:J.expires_at,onSelect:we=>Q({...J,expires_at:we}),initialFocus:!0}),J.expires_at&&e.jsx("div",{className:"p-2 border-t",children:e.jsx(X,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>Q({...J,expires_at:null}),children:"Clear date"})})]})]})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:ct,disabled:Ye.isPending,className:"bg-blue-600 hover:bg-blue-700",children:"Assign Member"})]})]})}),e.jsx(Ct,{open:o,onOpenChange:c,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Bulk Create Groups"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bulk-text",children:"Group Names (one per line)"}),e.jsx(Qt,{id:"bulk-text",value:j,onChange:we=>w(we.target.value),placeholder:`Board of Directors
Finance Committee
Audit Committee
Nominations Committee`,rows:10}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Enter one group name per line. Roles can be added later."})]})}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(X,{onClick:it,className:"bg-blue-600 hover:bg-blue-700",children:"Create Groups"})]})]})}),e.jsx(Ct,{open:R,onOpenChange:O,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsxs(Et,{children:["Bulk Edit Roles for ",E.length," Group",E.length!==1?"s":""]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Z,{children:"Action"}),e.jsxs(Ge,{value:k,onValueChange:T,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"add",children:"Add Role"}),e.jsx(re,{value:"remove",children:"Remove Role"})]})]})]}),e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"bulk-role",children:"Role Name *"}),e.jsx(he,{id:"bulk-role",value:D,onChange:we=>F(we.target.value),placeholder:"e.g., Chair, Member, etc."}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:k==="add"?"This role will be added to all selected groups (if not already present)":"This role will be removed from all selected groups (if present)"})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Selected Groups:"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:E.map(we=>{const ot=se.find(Pe=>Pe.id===we);return e.jsxs("div",{className:"text-xs text-slate-600 flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:ot==null?void 0:ot.name})]},we)})})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),e.jsxs(X,{onClick:nt,disabled:He.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[k==="add"?"Add":"Remove"," Role"]})]})]})}),e.jsx(Ct,{open:i,onOpenChange:l,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Group"})}),e.jsxs("p",{className:"text-slate-600",children:["Are you sure you want to delete ",e.jsx("strong",{children:p==null?void 0:p.name}),"? This will also remove all member assignments to this group. This action cannot be undone."]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>Se.mutate(p.id),disabled:Se.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete Group"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function TV({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),a=Jt(),{data:i,isLoading:l}=me({queryKey:["article-display-name-setting"],queryFn:async()=>(await ee.entities.SystemSettings.list()).find(m=>m.setting_key==="article_display_name"),staleTime:0});Be.useEffect(()=>{r(i&&i.setting_value||"Articles")},[i]);const o=Ie({mutationFn:async d=>{i?await ee.entities.SystemSettings.update(i.id,{setting_value:d}):await ee.entities.SystemSettings.create({setting_key:"article_display_name",setting_value:d,setting_type:"text",description:"Custom display name for articles section"})},onSuccess:()=>{a.invalidateQueries({queryKey:["article-display-name-setting"]}),te.success("Display name updated successfully")},onError:d=>{te.error("Failed to update setting: "+d.message)}}),c=()=>{if(!n.trim()){te.error("Display name cannot be empty");return}o.mutate(n.trim())};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Articles Settings"}),e.jsx("p",{className:"text-slate-600",children:"Configure how articles appear throughout the portal"})]}),l?e.jsx(le,{children:e.jsx(ce,{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-slate-300 border-t-blue-600 rounded-full animate-spin"})})})}):e.jsxs(le,{children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(di,{className:"w-5 h-5"}),"Display Name"]})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"display-name",children:"Section Display Name"}),e.jsx(he,{id:"display-name",value:n,onChange:d=>r(d.target.value),placeholder:"e.g., Articles, Blog, Letters, Insights",className:"max-w-md"}),e.jsx("p",{className:"text-sm text-slate-500",children:'Customize how this section is labeled throughout the portal. For example, change "Articles" to "Blog", "Letters", or anything else.'})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Preview"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:[' Page title: "',n||"Articles",' & Insights"']}),e.jsxs("li",{children:[' Management page: "All ',n||"Articles",'"']}),e.jsxs("li",{children:[' Buttons: "New ',(n==null?void 0:n.slice(0,-1))||"Article",'"']})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(X,{onClick:c,disabled:o.isPending||!n.trim(),className:"bg-blue-600 hover:bg-blue-700",children:o.isPending?"Saving...":"Save Changes"}),e.jsx(X,{variant:"outline",onClick:()=>r((i==null?void 0:i.setting_value)||"Articles"),disabled:o.isPending,children:"Reset"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function PV({isAdmin:t}){const[s,n]=b.useState(!1),[r,a]=b.useState(null),[i,l]=b.useState(!1),[o,c]=b.useState(null),[d,u]=b.useState(!1),[m,h]=b.useState({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0}),p=Jt(),{data:x=[],isLoading:y}=me({queryKey:["guest-writers"],queryFn:async()=>await ee.entities.GuestWriter.list("-created_date")}),v=Ie({mutationFn:async C=>r?await ee.entities.GuestWriter.update(r.id,C):await ee.entities.GuestWriter.create(C),onSuccess:()=>{p.invalidateQueries({queryKey:["guest-writers"]}),te.success(r?"Guest writer updated":"Guest writer created"),N()},onError:C=>{te.error("Failed to save guest writer: "+C.message)}}),j=Ie({mutationFn:async C=>{await ee.entities.GuestWriter.delete(C)},onSuccess:()=>{p.invalidateQueries({queryKey:["guest-writers"]}),te.success("Guest writer deleted"),l(!1),c(null)},onError:C=>{te.error("Failed to delete guest writer: "+C.message)}}),w=(C=null)=>{C?(a(C),h({full_name:C.full_name||"",email:C.email||"",organization:C.organization||"",job_title:C.job_title||"",biography:C.biography||"",profile_photo_url:C.profile_photo_url||"",is_active:C.is_active!==!1})):(a(null),h({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0})),n(!0)},N=()=>{n(!1),a(null),h({full_name:"",email:"",organization:"",job_title:"",biography:"",profile_photo_url:"",is_active:!0})},_=()=>{if(!m.full_name.trim()||!m.email.trim()){te.error("Name and email are required");return}v.mutate(m)},P=C=>{c(C),l(!0)},A=()=>{o&&j.mutate(o.id)},E=async C=>{var k;const R=(k=C.target.files)==null?void 0:k[0];if(!R)return;if(!R.type.startsWith("image/")){te.error("Please upload an image file");return}if(R.size>5*1024*1024){te.error("Image must be less than 5MB");return}u(!0);const O=await ee.integrations.Core.UploadFile({file:R});h({...m,profile_photo_url:O.file_url}),u(!1),te.success("Photo uploaded")};return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Guest Writers"}),e.jsx("p",{className:"text-slate-600",children:"Manage guest writer profiles for article attribution"})]}),e.jsxs(X,{onClick:()=>w(),className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add Guest Writer"]})]}),y?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((C,R)=>e.jsx(le,{className:"animate-pulse border-slate-200",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("div",{className:"h-20 bg-slate-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"})]})},R))}):x.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(sn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No guest writers yet"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Create guest writer profiles to attribute articles to external contributors"}),e.jsxs(X,{onClick:()=>w(),className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add First Guest Writer"]})]})}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(C=>e.jsx(le,{className:"border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[C.profile_photo_url?e.jsx("img",{src:C.profile_photo_url,alt:C.full_name,className:"w-16 h-16 rounded-full object-cover border-2 border-slate-200"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(sn,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:C.full_name}),!C.is_active&&e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full",children:"Inactive"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[C.job_title&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Dn,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.job_title})]}),C.organization&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(yc,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.organization})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Rs,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:C.email})]})]}),C.biography&&e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 mb-4",children:C.biography}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-slate-200",children:[e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(C),className:"flex-1 gap-2",children:[e.jsx(Di,{className:"w-4 h-4"}),"Edit"]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>P(C),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(hs,{className:"w-4 h-4"})})]})]})},C.id))}),e.jsx(Ct,{open:s,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(kt,{children:e.jsx(Et,{children:r?"Edit Guest Writer":"Add Guest Writer"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[m.profile_photo_url?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m.profile_photo_url,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200"}),e.jsx("button",{type:"button",onClick:()=>h({...m,profile_photo_url:""}),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:e.jsx(ks,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(sn,{className:"w-12 h-12 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",onChange:E,className:"hidden",disabled:d}),e.jsx(Z,{htmlFor:"photo-upload",children:e.jsx(X,{type:"button",variant:"outline",size:"sm",disabled:d,className:"gap-2 cursor-pointer",onClick:()=>document.getElementById("photo-upload").click(),children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"w-4 h-4"}),"Upload Photo"]})})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"full_name",children:"Full Name *"}),e.jsx(he,{id:"full_name",value:m.full_name,onChange:C=>h({...m,full_name:C.target.value}),placeholder:"John Smith"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:m.email,onChange:C=>h({...m,email:C.target.value}),placeholder:"john.smith@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:m.job_title,onChange:C=>h({...m,job_title:C.target.value}),placeholder:"Senior Consultant"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"organization",children:"Organization"}),e.jsx(he,{id:"organization",value:m.organization,onChange:C=>h({...m,organization:C.target.value}),placeholder:"Example University"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"biography",children:"Biography"}),e.jsx(Qt,{id:"biography",value:m.biography,onChange:C=>h({...m,biography:C.target.value}),placeholder:"Professional background and expertise...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:C=>h({...m,is_active:C.target.checked}),className:"w-4 h-4"}),e.jsx(Z,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (available for article attribution)"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:N,children:"Cancel"}),e.jsx(X,{onClick:_,disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:v.isPending?"Saving...":"Save"})]})]})}),e.jsx(Yl,{open:i,onOpenChange:l,children:e.jsxs(il,{children:[e.jsxs(ll,{children:[e.jsx(cl,{children:"Delete Guest Writer"}),e.jsxs(dl,{children:["Are you sure you want to delete ",o==null?void 0:o.full_name,"? This action cannot be undone. Articles attributed to this guest writer will need to be reassigned."]})]}),e.jsxs(ol,{children:[e.jsx(hl,{children:"Cancel"}),e.jsx(ul,{onClick:A,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 bg-amber-50",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-amber-800",children:"You do not have permission to access this page."})})})})})}function AV({isAdmin:t}){const s=Jt(),[n,r]=b.useState(!0),[a,i]=b.useState(!0),[l,o]=b.useState(!0),[c,d]=b.useState([]),[u,m]=b.useState(""),{data:h=[]}=me({queryKey:["all-organizations"],queryFn:()=>ee.entities.Organization.list("name")}),{data:p}=me({queryKey:["organisation-directory-settings"],queryFn:async()=>{const j=await ee.entities.SystemSettings.list(),w=j.find(A=>A.setting_key==="org_directory_show_logo"),N=j.find(A=>A.setting_key==="org_directory_show_domains"),_=j.find(A=>A.setting_key==="org_directory_show_member_count"),P=j.find(A=>A.setting_key==="org_directory_excluded_orgs");return{logo:w,domains:N,memberCount:_,excludedOrgs:P}},refetchOnMount:!0});b.useEffect(()=>{if(p!=null&&p.logo&&r(p.logo.setting_value==="true"),p!=null&&p.domains&&i(p.domains.setting_value==="true"),p!=null&&p.memberCount&&o(p.memberCount.setting_value==="true"),p!=null&&p.excludedOrgs)try{const j=JSON.parse(p.excludedOrgs.setting_value);d(Array.isArray(j)?j:[])}catch{d([])}},[p]);const x=Ie({mutationFn:async()=>{p!=null&&p.logo?await ee.entities.SystemSettings.update(p.logo.id,{setting_value:n.toString()}):await ee.entities.SystemSettings.create({setting_key:"org_directory_show_logo",setting_value:n.toString(),description:"Show organization logo on directory cards"}),p!=null&&p.domains?await ee.entities.SystemSettings.update(p.domains.id,{setting_value:a.toString()}):await ee.entities.SystemSettings.create({setting_key:"org_directory_show_domains",setting_value:a.toString(),description:"Show organization domains on directory cards"}),p!=null&&p.memberCount?await ee.entities.SystemSettings.update(p.memberCount.id,{setting_value:l.toString()}):await ee.entities.SystemSettings.create({setting_key:"org_directory_show_member_count",setting_value:l.toString(),description:"Show member count on directory cards"}),p!=null&&p.excludedOrgs?await ee.entities.SystemSettings.update(p.excludedOrgs.id,{setting_value:JSON.stringify(c)}):await ee.entities.SystemSettings.create({setting_key:"org_directory_excluded_orgs",setting_value:JSON.stringify(c),description:"List of organization IDs excluded from the directory"})},onSuccess:()=>{s.invalidateQueries({queryKey:["organisation-directory-settings"]}),te.success("Settings saved successfully")},onError:j=>{te.error("Failed to save settings: "+j.message)}}),y=j=>{d(w=>w.includes(j)?w.filter(N=>N!==j):[...w,j])},v=h.filter(j=>j.name.toLowerCase().includes(u.toLowerCase()));return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center gap-3",children:[e.jsx(di,{className:"w-8 h-8"}),"Organisation Directory Settings"]}),e.jsx("p",{className:"text-slate-600",children:"Configure what information is displayed on organisation directory cards"})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm",children:[e.jsx(Fe,{children:e.jsx(ze,{children:"Display Settings"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"showLogo",className:"text-base font-medium cursor-pointer",children:"Show Organization Logo"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display organization logos on directory cards"})]}),e.jsx("input",{type:"checkbox",id:"showLogo",checked:n,onChange:j=>r(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"showDomains",className:"text-base font-medium cursor-pointer",children:"Show Domains"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display organization domains on directory cards"})]}),e.jsx("input",{type:"checkbox",id:"showDomains",checked:a,onChange:j=>i(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"showMemberCount",className:"text-base font-medium cursor-pointer",children:"Show Member Count"}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Display the number of members from each organization"})]}),e.jsx("input",{type:"checkbox",id:"showMemberCount",checked:l,onChange:j=>o(j.target.checked),className:"w-5 h-5 cursor-pointer"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(X,{onClick:()=>x.mutate(),disabled:x.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),x.isPending?"Saving...":"Save Settings"]})})]})]}),e.jsxs(le,{className:"border-slate-200 shadow-sm mt-6",children:[e.jsxs(Fe,{children:[e.jsx(ze,{className:"text-2xl font-semibold leading-none tracking-tight",children:"Exclude Organisations"}),e.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Hide specific organisations from appearing in the directory"})]}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search organisations...",value:u,onChange:j=>m(j.target.value),className:"pl-10"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border border-slate-200 rounded-lg p-4",children:v.length===0?e.jsx("p",{className:"text-center text-slate-500 py-4",children:"No organizations found"}):v.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yc,{className:"w-5 h-5 text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:j.name}),j.domain&&e.jsx("p",{className:"text-xs text-slate-500",children:j.domain})]})]}),e.jsx("input",{type:"checkbox",checked:!c.includes(j.id),onChange:()=>y(j.id),className:"w-5 h-5 cursor-pointer",title:c.includes(j.id)?"Click to include":"Click to exclude"})]},j.id))}),c.length>0&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[c.length," organization",c.length!==1?"s":""," excluded from directory"]})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(X,{onClick:()=>x.mutate(),disabled:x.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(gn,{className:"w-4 h-4 mr-2"}),x.isPending?"Saving...":"Save Settings"]})})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(le,{className:"border-amber-200 bg-amber-50",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-amber-800",children:"You do not have permission to access this page."})})})})})}function OV({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState({}),[a,i]=b.useState({});if(b.useEffect(()=>{"fonts"in document&&(document.fonts.load('500 16px "Degular Medium"').then(()=>{const o=document.fonts.check('500 16px "Degular Medium"');r({degular:o})}).catch(o=>{r({degular:!1,error:o.message})}),document.fonts.addEventListener("loadingdone",o=>{const c=Array.from(document.fonts.values()),d=c.find(u=>u.family==="Degular Medium");i({totalFonts:c.length,degularFound:!!d,degularStatus:d==null?void 0:d.status,allFontFamilies:c.map(u=>u.family)})})),fetch("https://teeone.pythonanywhere.com/font-assets/Degular-Medium.woff",{mode:"cors"}).then(o=>{i(c=>({...c,fetchStatus:o.ok?"success":"failed",fetchStatusCode:o.status,corsHeaders:o.headers.get("Access-Control-Allow-Origin")}))}).catch(o=>{i(c=>({...c,fetchStatus:"error",fetchError:o.message}))})},[]),!t||s!=null&&s("page_InstalledFonts"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-8 text-center",children:[e.jsx(M0,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})})});const l=[{name:"Poppins",family:"Poppins, sans-serif",source:"Google Fonts",weights:["400 (Regular)","600 (Semibold)"],usage:"Body text, general UI elements"},{name:"Degular Medium",family:"'Degular Medium', 'Poppins', sans-serif",source:"https://teeone.pythonanywhere.com/font-assets",weights:["500 (Medium)"],usage:"H1 headers"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(M0,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Installed Fonts"})]}),e.jsx("p",{className:"text-slate-600",children:"View all fonts currently installed and available in the application"})]}),e.jsxs(le,{className:"border-amber-200 bg-amber-50 mb-6",children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-center gap-2 text-lg",children:[e.jsx(js,{className:"w-5 h-5 text-amber-600"}),"Font Loading Debug Information"]})}),e.jsxs(ce,{className:"space-y-3",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Font API Check"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n.degular?e.jsx(Pp,{className:"w-4 h-4 text-green-600"}):e.jsx(js,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Degular Medium: "}),e.jsx(ye,{variant:n.degular?"default":"destructive",children:n.degular?"Loaded":"Not Loaded"})]}),n.error&&e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Error: ",n.error]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Network Fetch Test"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:["Status: ",e.jsx(ye,{variant:a.fetchStatus==="success"?"default":"destructive",children:a.fetchStatus||"Testing..."})]}),a.fetchStatusCode&&e.jsxs("div",{children:["HTTP Code: ",a.fetchStatusCode]}),a.corsHeaders&&e.jsxs("div",{children:["CORS Header: ",a.corsHeaders]}),a.fetchError&&e.jsxs("div",{className:"text-xs text-red-600",children:["Error: ",a.fetchError]})]})]})]}),a.allFontFamilies&&e.jsxs("div",{className:"pt-3 border-t border-amber-200",children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["All Loaded Font Families (",a.totalFonts,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.allFontFamilies.map((o,c)=>e.jsx(ye,{variant:"outline",className:"text-xs",children:o},c))})]}),e.jsxs("div",{className:"pt-3 border-t border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Browser Console Check:"}),e.jsx("p",{className:"text-xs text-slate-600",children:`Open your browser's DevTools (F12)  Network tab  Filter by "font" to see if the font file is loading and check for CORS errors.`})]})]})]}),e.jsx("div",{className:"space-y-6",children:l.map((o,c)=>e.jsxs(le,{className:"border-slate-200",children:[e.jsx(Fe,{children:e.jsxs(ze,{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontFamily:o.family},children:o.name}),e.jsx("span",{className:"text-sm font-normal text-slate-500",children:o.source})]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Font Details"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Family: "}),e.jsx("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:o.family})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Weights: "}),e.jsx("span",{className:"text-slate-700",children:o.weights.join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Usage: "}),e.jsx("span",{className:"text-slate-700",children:o.usage})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Preview"}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-2",children:[e.jsx("p",{style:{fontFamily:o.family,fontSize:"24px"},children:"The quick brown fox jumps over the lazy dog"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"abcdefghijklmnopqrstuvwxyz"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"0123456789"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Size Examples"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{style:{fontFamily:o.family,fontSize:"32px"},children:"32px - Large Heading"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"24px"},children:"24px - Medium Heading"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"16px"},children:"16px - Body Text"}),e.jsx("p",{style:{fontFamily:o.family,fontSize:"14px"},children:"14px - Small Text"})]})]})]})]},c))})]})})}var z6=1,S4e=.9,C4e=.8,k4e=.17,V_=.1,W_=.999,E4e=.9999,T4e=.99,P4e=/[\\\/_+.#"@\[\(\{&]/,A4e=/[\\\/_+.#"@\[\(\{&]/g,O4e=/[\s-]/,MV=/[\s-]/g;function ZS(t,s,n,r,a,i,l){if(i===s.length)return a===t.length?z6:T4e;var o=`${a},${i}`;if(l[o]!==void 0)return l[o];for(var c=r.charAt(i),d=n.indexOf(c,a),u=0,m,h,p,x;d>=0;)m=ZS(t,s,n,r,d+1,i+1,l),m>u&&(d===a?m*=z6:P4e.test(t.charAt(d-1))?(m*=C4e,p=t.slice(a,d-1).match(A4e),p&&a>0&&(m*=Math.pow(W_,p.length))):O4e.test(t.charAt(d-1))?(m*=S4e,x=t.slice(a,d-1).match(MV),x&&a>0&&(m*=Math.pow(W_,x.length))):(m*=k4e,a>0&&(m*=Math.pow(W_,d-a))),t.charAt(d)!==s.charAt(i)&&(m*=E4e)),(m<V_&&n.charAt(d-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(d-1)!==r.charAt(i))&&(h=ZS(t,s,n,r,d+1,i+2,l),h*V_>m&&(m=h*V_)),m>u&&(u=m),d=n.indexOf(c,d+1);return l[o]=u,u}function V6(t){return t.toLowerCase().replace(MV," ")}function M4e(t,s,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,ZS(t,s,V6(t),V6(s),0,0,{})}var pf='[cmdk-group=""]',H_='[cmdk-group-items=""]',D4e='[cmdk-group-heading=""]',DV='[cmdk-item=""]',W6=`${DV}:not([aria-disabled="true"])`,e2="cmdk-item-select",Wu="data-value",R4e=(t,s,n)=>M4e(t,s,n),RV=b.createContext(void 0),mg=()=>b.useContext(RV),FV=b.createContext(void 0),xE=()=>b.useContext(FV),IV=b.createContext(void 0),LV=b.forwardRef((t,s)=>{let n=Hu(()=>{var V,q;return{search:"",value:(q=(V=t.value)!=null?V:t.defaultValue)!=null?q:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Hu(()=>new Set),a=Hu(()=>new Map),i=Hu(()=>new Map),l=Hu(()=>new Set),o=BV(t),{label:c,children:d,value:u,onValueChange:m,filter:h,shouldFilter:p,loop:x,disablePointerSelection:y=!1,vimBindings:v=!0,...j}=t,w=Xn(),N=Xn(),_=Xn(),P=b.useRef(null),A=H4e();Bd(()=>{if(u!==void 0){let V=u.trim();n.current.value=V,E.emit()}},[u]),Bd(()=>{A(6,D)},[]);let E=b.useMemo(()=>({subscribe:V=>(l.current.add(V),()=>l.current.delete(V)),snapshot:()=>n.current,setState:(V,q,J)=>{var Q,Y,K,ae;if(!Object.is(n.current[V],q)){if(n.current[V]=q,V==="search")T(),O(),A(1,k);else if(V==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(_);se?se.focus():(Q=document.getElementById(w))==null||Q.focus()}if(A(7,()=>{var se;n.current.selectedItemId=(se=F())==null?void 0:se.id,E.emit()}),J||A(5,D),((Y=o.current)==null?void 0:Y.value)!==void 0){let se=q??"";(ae=(K=o.current).onValueChange)==null||ae.call(K,se);return}}E.emit()}},emit:()=>{l.current.forEach(V=>V())}}),[]),C=b.useMemo(()=>({value:(V,q,J)=>{var Q;q!==((Q=i.current.get(V))==null?void 0:Q.value)&&(i.current.set(V,{value:q,keywords:J}),n.current.filtered.items.set(V,R(q,J)),A(2,()=>{O(),E.emit()}))},item:(V,q)=>(r.current.add(V),q&&(a.current.has(q)?a.current.get(q).add(V):a.current.set(q,new Set([V]))),A(3,()=>{T(),O(),n.current.value||k(),E.emit()}),()=>{i.current.delete(V),r.current.delete(V),n.current.filtered.items.delete(V);let J=F();A(4,()=>{T(),(J==null?void 0:J.getAttribute("id"))===V&&k(),E.emit()})}),group:V=>(a.current.has(V)||a.current.set(V,new Set),()=>{i.current.delete(V),a.current.delete(V)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:_,labelId:N,listInnerRef:P}),[]);function R(V,q){var J,Q;let Y=(Q=(J=o.current)==null?void 0:J.filter)!=null?Q:R4e;return V?Y(V,n.current.search,q):0}function O(){if(!n.current.search||o.current.shouldFilter===!1)return;let V=n.current.filtered.items,q=[];n.current.filtered.groups.forEach(Q=>{let Y=a.current.get(Q),K=0;Y.forEach(ae=>{let se=V.get(ae);K=Math.max(se,K)}),q.push([Q,K])});let J=P.current;U().sort((Q,Y)=>{var K,ae;let se=Q.getAttribute("id"),de=Y.getAttribute("id");return((K=V.get(de))!=null?K:0)-((ae=V.get(se))!=null?ae:0)}).forEach(Q=>{let Y=Q.closest(H_);Y?Y.appendChild(Q.parentElement===Y?Q:Q.closest(`${H_} > *`)):J.appendChild(Q.parentElement===J?Q:Q.closest(`${H_} > *`))}),q.sort((Q,Y)=>Y[1]-Q[1]).forEach(Q=>{var Y;let K=(Y=P.current)==null?void 0:Y.querySelector(`${pf}[${Wu}="${encodeURIComponent(Q[0])}"]`);K==null||K.parentElement.appendChild(K)})}function k(){let V=U().find(J=>J.getAttribute("aria-disabled")!=="true"),q=V==null?void 0:V.getAttribute(Wu);E.setState("value",q||void 0)}function T(){var V,q,J,Q;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Y=0;for(let K of r.current){let ae=(q=(V=i.current.get(K))==null?void 0:V.value)!=null?q:"",se=(Q=(J=i.current.get(K))==null?void 0:J.keywords)!=null?Q:[],de=R(ae,se);n.current.filtered.items.set(K,de),de>0&&Y++}for(let[K,ae]of a.current)for(let se of ae)if(n.current.filtered.items.get(se)>0){n.current.filtered.groups.add(K);break}n.current.filtered.count=Y}function D(){var V,q,J;let Q=F();Q&&(((V=Q.parentElement)==null?void 0:V.firstChild)===Q&&((J=(q=Q.closest(pf))==null?void 0:q.querySelector(D4e))==null||J.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function F(){var V;return(V=P.current)==null?void 0:V.querySelector(`${DV}[aria-selected="true"]`)}function U(){var V;return Array.from(((V=P.current)==null?void 0:V.querySelectorAll(W6))||[])}function z(V){let q=U()[V];q&&E.setState("value",q.getAttribute(Wu))}function H(V){var q;let J=F(),Q=U(),Y=Q.findIndex(ae=>ae===J),K=Q[Y+V];(q=o.current)!=null&&q.loop&&(K=Y+V<0?Q[Q.length-1]:Y+V===Q.length?Q[0]:Q[Y+V]),K&&E.setState("value",K.getAttribute(Wu))}function B(V){let q=F(),J=q==null?void 0:q.closest(pf),Q;for(;J&&!Q;)J=V>0?V4e(J,pf):W4e(J,pf),Q=J==null?void 0:J.querySelector(W6);Q?E.setState("value",Q.getAttribute(Wu)):H(V)}let $=()=>z(U().length-1),I=V=>{V.preventDefault(),V.metaKey?$():V.altKey?B(1):H(1)},L=V=>{V.preventDefault(),V.metaKey?z(0):V.altKey?B(-1):H(-1)};return b.createElement(zt.div,{ref:s,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:V=>{var q;(q=j.onKeyDown)==null||q.call(j,V);let J=V.nativeEvent.isComposing||V.keyCode===229;if(!(V.defaultPrevented||J))switch(V.key){case"n":case"j":{v&&V.ctrlKey&&I(V);break}case"ArrowDown":{I(V);break}case"p":case"k":{v&&V.ctrlKey&&L(V);break}case"ArrowUp":{L(V);break}case"Home":{V.preventDefault(),z(0);break}case"End":{V.preventDefault(),$();break}case"Enter":{V.preventDefault();let Q=F();if(Q){let Y=new Event(e2);Q.dispatchEvent(Y)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:G4e},c),Ky(t,V=>b.createElement(FV.Provider,{value:E},b.createElement(RV.Provider,{value:C},V))))}),F4e=b.forwardRef((t,s)=>{var n,r;let a=Xn(),i=b.useRef(null),l=b.useContext(IV),o=mg(),c=BV(t),d=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;Bd(()=>{if(!d)return o.item(a,l==null?void 0:l.id)},[d]);let u=qV(a,i,[t.value,t.children,i],t.keywords),m=xE(),h=xc(A=>A.value&&A.value===u.current),p=xc(A=>d||o.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);b.useEffect(()=>{let A=i.current;if(!(!A||t.disabled))return A.addEventListener(e2,x),()=>A.removeEventListener(e2,x)},[p,t.onSelect,t.disabled]);function x(){var A,E;y(),(E=(A=c.current).onSelect)==null||E.call(A,u.current)}function y(){m.setState("value",u.current,!0)}if(!p)return null;let{disabled:v,value:j,onSelect:w,forceMount:N,keywords:_,...P}=t;return b.createElement(zt.div,{ref:Hr(i,s),...P,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||o.getDisablePointerSelection()?void 0:y,onClick:v?void 0:x},t.children)}),I4e=b.forwardRef((t,s)=>{let{heading:n,children:r,forceMount:a,...i}=t,l=Xn(),o=b.useRef(null),c=b.useRef(null),d=Xn(),u=mg(),m=xc(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(l):!0);Bd(()=>u.group(l),[]),qV(l,o,[t.value,t.heading,c]);let h=b.useMemo(()=>({id:l,forceMount:a}),[a]);return b.createElement(zt.div,{ref:Hr(o,s),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&b.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),Ky(t,p=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},b.createElement(IV.Provider,{value:h},p))))}),L4e=b.forwardRef((t,s)=>{let{alwaysRender:n,...r}=t,a=b.useRef(null),i=xc(l=>!l.search);return!n&&!i?null:b.createElement(zt.div,{ref:Hr(a,s),...r,"cmdk-separator":"",role:"separator"})}),B4e=b.forwardRef((t,s)=>{let{onValueChange:n,...r}=t,a=t.value!=null,i=xE(),l=xc(d=>d.search),o=xc(d=>d.selectedItemId),c=mg();return b.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),b.createElement(zt.input,{ref:s,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:a?t.value:l,onChange:d=>{a||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),q4e=b.forwardRef((t,s)=>{let{children:n,label:r="Suggestions",...a}=t,i=b.useRef(null),l=b.useRef(null),o=xc(d=>d.selectedItemId),c=mg();return b.useEffect(()=>{if(l.current&&i.current){let d=l.current,u=i.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(m),h.unobserve(d)}}},[]),b.createElement(zt.div,{ref:Hr(i,s),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:c.listId},Ky(t,d=>b.createElement("div",{ref:Hr(l,c.listInnerRef),"cmdk-list-sizer":""},d)))}),$4e=b.forwardRef((t,s)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:i,container:l,...o}=t;return b.createElement(Av,{open:n,onOpenChange:r},b.createElement(Ov,{container:l},b.createElement(Gh,{"cmdk-overlay":"",className:a}),b.createElement(Yh,{"aria-label":t.label,"cmdk-dialog":"",className:i},b.createElement(LV,{ref:s,...o}))))}),U4e=b.forwardRef((t,s)=>xc(n=>n.filtered.count===0)?b.createElement(zt.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),z4e=b.forwardRef((t,s)=>{let{progress:n,children:r,label:a="Loading...",...i}=t;return b.createElement(zt.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ky(t,l=>b.createElement("div",{"aria-hidden":!0},l)))}),ba=Object.assign(LV,{List:q4e,Item:F4e,Input:B4e,Group:I4e,Separator:L4e,Dialog:$4e,Empty:U4e,Loading:z4e});function V4e(t,s){let n=t.nextElementSibling;for(;n;){if(n.matches(s))return n;n=n.nextElementSibling}}function W4e(t,s){let n=t.previousElementSibling;for(;n;){if(n.matches(s))return n;n=n.previousElementSibling}}function BV(t){let s=b.useRef(t);return Bd(()=>{s.current=t}),s}var Bd=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Hu(t){let s=b.useRef();return s.current===void 0&&(s.current=t()),s}function xc(t){let s=xE(),n=()=>t(s.snapshot());return b.useSyncExternalStore(s.subscribe,n,n)}function qV(t,s,n,r=[]){let a=b.useRef(),i=mg();return Bd(()=>{var l;let o=(()=>{var d;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=r.map(d=>d.trim());i.value(t,o,c),(l=s.current)==null||l.setAttribute(Wu,o),a.current=o}),a}var H4e=()=>{let[t,s]=b.useState(),n=Hu(()=>new Map);return Bd(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,a)=>{n.current.set(r,a),s({})}};function K4e(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function Ky({asChild:t,children:s},n){return t&&b.isValidElement(s)?b.cloneElement(K4e(s),{ref:s.ref},n(s.props.children)):n(s)}var G4e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Y4e=b.forwardRef(({className:t,...s},n)=>e.jsx(ba,{ref:n,className:et("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));Y4e.displayName=ba.displayName;const Q4e=b.forwardRef(({className:t,...s},n)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Zs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(ba.Input,{ref:n,className:et("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));Q4e.displayName=ba.Input.displayName;const J4e=b.forwardRef(({className:t,...s},n)=>e.jsx(ba.List,{ref:n,className:et("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));J4e.displayName=ba.List.displayName;const X4e=b.forwardRef((t,s)=>e.jsx(ba.Empty,{ref:s,className:"py-6 text-center text-sm",...t}));X4e.displayName=ba.Empty.displayName;const Z4e=b.forwardRef(({className:t,...s},n)=>e.jsx(ba.Group,{ref:n,className:et("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));Z4e.displayName=ba.Group.displayName;const eAe=b.forwardRef(({className:t,...s},n)=>e.jsx(ba.Separator,{ref:n,className:et("-mx-1 h-px bg-border",t),...s}));eAe.displayName=ba.Separator.displayName;const tAe=b.forwardRef(({className:t,...s},n)=>e.jsx(ba.Item,{ref:n,className:et("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...s}));tAe.displayName=ba.Item.displayName;const K_={Menu:ro,Calendar:Ns,CreditCard:Ud,Ticket:Ls,Wallet:uc,ShoppingCart:Vd,History:_v,Sparkles:pa,FileText:ls,Briefcase:Dn,Settings:di,BookOpen:wv,Building:yc,HelpCircle:$d,Users:Cs,Shield:Bn,BarChart3:qh,FileEdit:Ap,AtSign:Ep,FolderTree:Cd,Trophy:Wn,MousePointer2:Op,Mail:Rs,Download:lr},sAe=[{value:"_none",label:"No Page (Parent Menu)"},...[{value:"Articles",label:"Articles"},{value:"ArticleManagement",label:"Article Management"},{value:"ArticlesSettings",label:"Articles Settings"},{value:"ArticleEditor",label:"Article Editor"},{value:"ArticleView",label:"Article View"},{value:"AwardManagement",label:"Award Management"},{value:"Balances",label:"Balances"},{value:"Bookings",label:"Bookings"},{value:"ButtonElements",label:"Button Elements"},{value:"ButtonStyleManagement",label:"Button Styles"},{value:"BuyProgramTickets",label:"Buy Program Tickets"},{value:"CategoryManagement",label:"Category Management"},{value:"DataExport",label:"Data Export"},{value:"DiscountCodeManagement",label:"Discount Code Management"},{value:"EventDetails",label:"Event Details"},{value:"Events",label:"Events"},{value:"EventSettings",label:"Event Settings"},{value:"FileManagement",label:"File Management"},{value:"FloaterManagement",label:"Floater Management"},{value:"FormManagement",label:"Form Management"},{value:"FormSubmissions",label:"Form Submissions"},{value:"GuestWriterManagement",label:"Guest Writer Management"},{value:"History",label:"History"},{value:"IEditPageEditor",label:"Page Editor"},{value:"IEditPageManagement",label:"Page Builder - Pages"},{value:"IEditTemplateManagement",label:"Page Builder - Templates"},{value:"InstalledFonts",label:"Installed Fonts"},{value:"JobBoardSettings",label:"Job Board Settings"},{value:"JobPostingManagement",label:"Job Posting Management"},{value:"MemberDirectory",label:"Member Directory"},{value:"MemberDirectorySettings",label:"Member Directory Settings"},{value:"MemberGroupAssignmentReport",label:"Member Group Assignment Report"},{value:"MemberGroupGuestManagement",label:"Member Group Guest Management"},{value:"MemberGroupManagement",label:"Member Group Management"},{value:"MemberHandleManagement",label:"Member Handle Management"},{value:"MemberRoleAssignment",label:"Member Role Assignment"},{value:"MyArticles",label:"My Articles"},{value:"MyJobPostings",label:"My Job Postings"},{value:"MyNews",label:"My News"},{value:"MyTickets",label:"My Tickets"},{value:"NavigationManagement",label:"Navigation Items"},{value:"News",label:"News"},{value:"NewsEditor",label:"News Editor"},{value:"NewsSettings",label:"News Settings"},{value:"NewsView",label:"News View"},{value:"OrganisationDirectory",label:"Organisation Directory"},{value:"OrganisationDirectorySettings",label:"Organisation Directory Settings"},{value:"PageBannerManagement",label:"Page Banners"},{value:"PortalMenuManagement",label:"Portal Menu Management"},{value:"PortalNavigationManagement",label:"Portal Navigation Management"},{value:"Preferences",label:"Preferences"},{value:"PublicAbout",label:"Public - About"},{value:"PublicArticles",label:"Public - Articles"},{value:"PublicContact",label:"Public - Contact"},{value:"PublicEvents",label:"Public - Events"},{value:"PublicNews",label:"Public - News"},{value:"PublicResources",label:"Public - Resources"},{value:"Resources",label:"Resources"},{value:"ResourceManagement",label:"Resource Management"},{value:"ResourceSettings",label:"Resource Settings"},{value:"RoleManagement",label:"Role Management"},{value:"SiteMap",label:"Site Map"},{value:"Support",label:"Support"},{value:"SupportManagement",label:"Support Management"},{value:"TagManagement",label:"Tag Management"},{value:"Team",label:"Team"},{value:"TeamInviteSettings",label:"Team Invite Settings"},{value:"TeamEngagementReport",label:"Team Engagement Report"},{value:"TeamMemberManagement",label:"Team Member Management"},{value:"TicketSalesAnalytics",label:"Ticket Sales Analytics"},{value:"TourManagement",label:"Tour Management"},{value:"WallOfFameManagement",label:"Wall of Fame"}].sort((t,s)=>t.label.localeCompare(s.label))];function $V({isAdmin:t}){const[s,n]=b.useState(null),[r,a]=b.useState(!1),[i,l]=b.useState({}),[o,c]=b.useState(!1),d=Jt(),{data:u=[],isLoading:m}=me({queryKey:["portal-menu"],queryFn:()=>ee.entities.PortalMenu.list("display_order"),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}),h=Ie({mutationFn:R=>ee.entities.PortalMenu.create(R),onSuccess:()=>{d.invalidateQueries({queryKey:["portal-menu"]}),a(!1),n(null),te.success("Menu item created")}}),p=Ie({mutationFn:({id:R,data:O})=>ee.entities.PortalMenu.update(R,O),onSuccess:()=>{d.invalidateQueries({queryKey:["portal-menu"]}),a(!1),n(null),te.success("Menu item updated")}}),x=Ie({mutationFn:R=>ee.entities.PortalMenu.delete(R),onSuccess:()=>{d.invalidateQueries({queryKey:["portal-menu"]}),te.success("Menu item deleted")}}),y=R=>{const O=u.filter(T=>T.section===R&&T.is_active);return O.filter(T=>!T.parent_id).sort((T,D)=>T.display_order-D.display_order).map(T=>({...T,children:O.filter(D=>D.parent_id===T.id).sort((D,F)=>D.display_order-F.display_order)}))},v=b.useMemo(()=>y("user"),[u]),j=b.useMemo(()=>y("admin"),[u]),w=(R,O=null)=>{const k=u.filter(D=>D.section===R&&D.parent_id===(O||"")),T=k.length>0?Math.max(...k.map(D=>D.display_order||0)):-1;n({title:"",url:"",icon:"Menu",feature_id:"",section:R,parent_id:O||"",display_order:T+1,is_active:!0}),a(!0)},N=R=>{n({...R}),a(!0)},_=()=>{if(!s.title){te.error("Title is required");return}let R;const O=s.section;s.url?R=`page_${O}_${s.url}`:R=`page_${O}_${s.title.replace(/\s+/g,"")}`;const k={title:s.title,url:s.url||"",icon:s.icon,feature_id:R,section:s.section,parent_id:s.parent_id||"",display_order:s.display_order,is_active:s.is_active};s.id?p.mutate({id:s.id,data:k}):h.mutate(k)},P=R=>{if(u.some(k=>k.parent_id===R.id)){te.error("Cannot delete menu item with sub-items");return}confirm(`Delete "${R.title}"?`)&&x.mutate(R.id)},A=async(R,O)=>{console.log("=== MOVE ITEM START ==="),console.log("Item ID:",R,"Direction:",O);const k=u.find(H=>H.id===R);if(!k){console.log("Item not found");return}console.log("Item found:",k.title,"Current display_order:",k.display_order);const T=u.filter(H=>H.section===k.section&&H.parent_id===k.parent_id).sort((H,B)=>H.display_order===B.display_order?new Date(H.created_date)-new Date(B.created_date):H.display_order-B.display_order);console.log("Siblings:",T.map(H=>({title:H.title,display_order:H.display_order})));const D=T.findIndex(H=>H.id===R),F=O==="up"?D-1:D+1;if(console.log("Current index:",D,"New index:",F),F<0||F>=T.length){console.log("Cannot move - out of bounds");return}const U=[...T],[z]=U.splice(D,1);U.splice(F,0,z),console.log("Reordered siblings:",U.map(H=>H.title));for(let H=0;H<U.length;H++)console.log("Updating",U[H].title,"to display_order:",H),await ee.entities.PortalMenu.update(U[H].id,{display_order:H});console.log("Invalidating queries..."),await d.invalidateQueries({queryKey:["portal-menu"]}),console.log("=== MOVE ITEM END ==="),te.success("Menu order updated")},E=R=>{l(O=>({...O,[R]:!O[R]}))},C=(R,O,k=!1)=>{const T=K_[R.icon]||ro,D=R.children&&R.children.length>0,F=i[R.id];return e.jsxs("div",{className:k?"ml-8":"",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg hover:border-blue-400 transition-colors mb-2",children:[D&&e.jsx("button",{onClick:()=>E(R.id),className:"p-1 hover:bg-slate-100 rounded",children:F?e.jsx(Vr,{className:"w-4 h-4"}):e.jsx(Ss,{className:"w-4 h-4"})}),!D&&e.jsx("div",{className:"w-6"}),e.jsx(T,{className:"w-4 h-4 text-slate-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-900",children:R.title}),e.jsx("div",{className:"text-xs text-slate-500",children:R.url||"(parent menu)"})]}),D&&e.jsx(ye,{variant:"outline",className:"text-xs",children:R.children.length}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(R.id,"up"),className:"h-8 w-8 p-0",children:""}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(R.id,"down"),className:"h-8 w-8 p-0",children:""}),!k&&e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>w(O,R.id),className:"h-8 w-8 p-0",children:e.jsx(Tt,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>N(R),className:"h-8 w-8 p-0",children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>P(R),className:"h-8 w-8 p-0 text-red-600",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),D&&F&&e.jsx("div",{className:"ml-8 space-y-2 mb-2",children:R.children.map(U=>C(U,O,!0))})]},R.id)};return t?m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:"Loading..."})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Portal Menu Management"}),e.jsx("p",{className:"text-slate-600",children:"Configure the portal navigation menu structure"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"User Navigation"]}),e.jsxs(X,{onClick:()=>w("user"),size:"sm",className:"gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add Item"]})]})}),e.jsx(ce,{className:"p-4",children:v.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No menu items yet"}):e.jsx("div",{className:"space-y-2",children:v.map(R=>C(R,"user"))})})]}),e.jsxs(le,{children:[e.jsx(Fe,{className:"border-b border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ze,{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"w-5 h-5 text-amber-600"}),"Admin Navigation"]}),e.jsxs(X,{onClick:()=>w("admin"),size:"sm",className:"gap-2",children:[e.jsx(Tt,{className:"w-4 h-4"}),"Add Item"]})]})}),e.jsx(ce,{className:"p-4",children:j.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No menu items yet"}):e.jsx("div",{className:"space-y-2",children:j.map(R=>C(R,"admin"))})})]})]}),e.jsx(Ct,{open:r,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-lg",children:[e.jsx(kt,{children:e.jsx(Et,{children:s!=null&&s.id?"Edit Menu Item":"Create Menu Item"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Title *"}),e.jsx(he,{value:s.title,onChange:R=>n({...s,title:R.target.value}),placeholder:"e.g., Browse Events"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Page"}),e.jsxs(Ge,{value:s.url||"_none",onValueChange:R=>n({...s,url:R==="_none"?"":R}),children:[e.jsx(Ve,{children:e.jsx(Je,{placeholder:"No Page (Parent Menu)"})}),e.jsx(We,{className:"max-h-[400px]",children:sAe.map(R=>e.jsx(re,{value:R.value,children:R.label},R.value))})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty if this is a parent menu with sub-items"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Icon *"}),e.jsxs(Ge,{value:s.icon,onValueChange:R=>n({...s,icon:R}),children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsx(We,{children:Object.keys(K_).map(R=>{const O=K_[R];return e.jsx(re,{value:R,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),R]})},R)})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{children:"Feature ID (Auto-generated)"}),e.jsx("div",{className:"px-3 py-2 bg-slate-100 border border-slate-200 rounded-md text-sm text-slate-600",children:s.url?`page_${s.section}_${s.url}`:`page_${s.section}_${s.title.replace(/\s+/g,"")}`}),e.jsx("p",{className:"text-xs text-slate-500",children:"Auto-generated from section, URL or title (used for permissions)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{checked:s.is_active,onCheckedChange:R=>n({...s,is_active:R})}),e.jsx(Z,{children:"Active"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(X,{onClick:_,disabled:h.isPending||p.isPending,className:"bg-blue-600 hover:bg-blue-700",children:s!=null&&s.id?"Update":"Create"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}function UV({isAdmin:t}){const[s,n]=b.useState(""),[r,a]=b.useState("all"),[i,l]=b.useState("all"),[o,c]=b.useState(1),d=20,{data:u=[],isLoading:m}=me({queryKey:["member-groups"],queryFn:()=>ee.entities.MemberGroup.list("name")}),{data:h=[],isLoading:p}=me({queryKey:["members-list"],queryFn:()=>ee.entities.Member.list("first_name")}),{data:x=[],isLoading:y}=me({queryKey:["member-group-assignments"],queryFn:()=>ee.entities.MemberGroupAssignment.list()}),v=new Date,j=wr(v,30),w=O=>{if(!O)return"no-expiry";const k=new Date(O);return Y0(k,v)?"expired":Y0(k,j)?"expiring-soon":"active"},N=b.useMemo(()=>x.map(O=>{const k=h.find(F=>F.id===O.member_id),T=u.find(F=>F.id===O.group_id),D=w(O.expires_at);return{...O,member:k,group:T,expiryStatus:D,memberName:k?`${k.first_name} ${k.last_name}`:"Unknown",memberEmail:(k==null?void 0:k.email)||"",groupName:(T==null?void 0:T.name)||"Unknown Group"}}),[x,h,u]),_=b.useMemo(()=>{let O=N;if(s){const k=s.toLowerCase();O=O.filter(T=>{var D;return T.memberName.toLowerCase().includes(k)||T.memberEmail.toLowerCase().includes(k)||T.groupName.toLowerCase().includes(k)||((D=T.group_role)==null?void 0:D.toLowerCase().includes(k))})}return r!=="all"&&(O=O.filter(k=>k.expiryStatus===r)),i!=="all"&&(O=O.filter(k=>k.group_id===i)),O.sort((k,T)=>{const D={expired:0,"expiring-soon":1,active:2,"no-expiry":3};return D[k.expiryStatus]!==D[T.expiryStatus]?D[k.expiryStatus]-D[T.expiryStatus]:k.expires_at&&T.expires_at?new Date(k.expires_at)-new Date(T.expires_at):k.memberName.localeCompare(T.memberName)}),O},[N,s,r,i]),P=b.useMemo(()=>{const O=N.filter(D=>D.expiryStatus==="expired").length,k=N.filter(D=>D.expiryStatus==="expiring-soon").length,T=N.filter(D=>D.expires_at).length;return{expired:O,expiringSoon:k,withExpiry:T,total:N.length}},[N]),A=Math.ceil(_.length/d),E=_.slice((o-1)*d,o*d);Be.useEffect(()=>{c(1)},[s,r,i]);const C=O=>{switch(O){case"expired":return e.jsx(ye,{className:"bg-red-100 text-red-700",children:"Expired"});case"expiring-soon":return e.jsx(ye,{className:"bg-amber-100 text-amber-700",children:"Expiring Soon"});case"active":return e.jsx(ye,{className:"bg-green-100 text-green-700",children:"Active"});default:return e.jsx(ye,{className:"bg-slate-100 text-slate-600",children:"No Expiry"})}},R=m||p||y;return t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Group Assignments Report"}),e.jsx("p",{className:"text-slate-600",children:"View and filter all member group assignments"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Cs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.total}),e.jsx("p",{className:"text-xs text-slate-600",children:"Total Assignments"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(RQ,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:P.expired}),e.jsx("p",{className:"text-xs text-slate-600",children:"Expired"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(an,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:P.expiringSoon}),e.jsx("p",{className:"text-xs text-slate-600",children:"Expiring in 30 days"})]})]})})}),e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx(Ns,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:P.withExpiry}),e.jsx("p",{className:"text-xs text-slate-600",children:"With Expiry Date"})]})]})})})]}),e.jsx(le,{className:"mb-6",children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by member, group, or role...",value:s,onChange:O=>n(O.target.value),className:"pl-10"})]}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(Ge,{value:r,onValueChange:a,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Statuses"}),e.jsx(re,{value:"expired",children:"Expired"}),e.jsx(re,{value:"expiring-soon",children:"Expiring Soon (30 days)"}),e.jsx(re,{value:"active",children:"Active (with expiry)"}),e.jsx(re,{value:"no-expiry",children:"No Expiry Date"})]})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(Ge,{value:i,onValueChange:l,children:[e.jsx(Ve,{children:e.jsx(Je,{})}),e.jsxs(We,{children:[e.jsx(re,{value:"all",children:"All Groups"}),u.map(O=>e.jsx(re,{value:O.id,children:O.name},O.id))]})]})})]}),_.length>0&&e.jsxs("p",{className:"text-sm text-slate-600 mt-3",children:["Showing ",_.length," assignment",_.length!==1?"s":""]})]})}),R?e.jsx(le,{children:e.jsx(ce,{className:"p-8",children:e.jsx("div",{className:"animate-pulse space-y-4",children:Array(5).fill(0).map((O,k)=>e.jsx("div",{className:"h-12 bg-slate-200 rounded"},k))})})}):_.length===0?e.jsx(le,{children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(ls,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Assignments Found"}),e.jsx("p",{className:"text-slate-600",children:s||r!=="all"||i!=="all"?"Try adjusting your filters":"No member group assignments exist yet"})]})}):e.jsx(le,{children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Member"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Group"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Role"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Expiry Date"}),e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:E.map(O=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:O.memberName}),e.jsx("div",{className:"text-xs text-slate-500",children:O.memberEmail})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-slate-900",children:O.groupName})}),e.jsx("td",{className:"p-4",children:e.jsx(ye,{className:"bg-blue-100 text-blue-700",children:O.group_role})}),e.jsx("td",{className:"p-4",children:O.expires_at?e.jsx("span",{className:"text-slate-900",children:Ot(new Date(O.expires_at),"dd MMM yyyy")}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsx("td",{className:"p-4",children:C(O.expiryStatus)})]},O.id))})]})})})}),A>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(O=>Math.max(1,O-1)),disabled:o===1,children:"Previous"}),e.jsxs("span",{className:"text-sm text-slate-600 px-3",children:["Page ",o," of ",A]}),e.jsx(X,{variant:"outline",size:"sm",onClick:()=>c(O=>Math.min(A,O+1)),disabled:o===A,children:"Next"})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8 flex items-center justify-center",children:e.jsx(le,{className:"max-w-md",children:e.jsx(ce,{className:"p-12 text-center",children:e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})})})})}function zV({memberInfo:t,organizationInfo:s}){const[n,r]=b.useState(""),[a,i]=b.useState("totalScore"),[l,o]=b.useState("desc"),{data:c=[],isLoading:d}=me({queryKey:["team-members-report",t==null?void 0:t.organization_id],queryFn:async()=>t!=null&&t.organization_id?(await ee.entities.Member.list()).filter(P=>P.organization_id===t.organization_id&&P.login_enabled!==!1):[],enabled:!!(t!=null&&t.organization_id),staleTime:60*1e3}),{data:u=[]}=me({queryKey:["all-articles-report"],queryFn:()=>ee.entities.BlogPost.list(),staleTime:60*1e3}),{data:m=[]}=me({queryKey:["all-bookings-report"],queryFn:()=>ee.entities.Booking.list(),staleTime:60*1e3}),{data:h=[]}=me({queryKey:["all-job-postings-report"],queryFn:()=>ee.entities.JobPosting.list(),staleTime:60*1e3}),{data:p=[]}=me({queryKey:["awards-report"],queryFn:async()=>(await ee.entities.Award.list()).filter(P=>P.is_active),staleTime:300*1e3}),{data:x=[]}=me({queryKey:["offline-assignments-report"],queryFn:()=>ee.entities.OfflineAwardAssignment.list(),staleTime:60*1e3}),y=b.useMemo(()=>c.map(_=>{const P=m.filter(T=>T.member_id===_.id&&T.status==="confirmed").length,A=u.filter(T=>T.author_id===_.id&&T.status==="published").length,E=h.filter(T=>T.posted_by_member_id===_.id).length,C=p.filter(T=>(T.award_type==="events_attended"?P:T.award_type==="articles_published"?A:T.award_type==="jobs_posted"?E:0)>=T.threshold).length,R=x.filter(T=>T.member_id===_.id).length,O=C+R,k=P+A+E+O;return{id:_.id,name:`${_.first_name||""} ${_.last_name||""}`.trim()||"Unknown",email:_.email,profilePhoto:_.profile_photo_url,eventsAttended:P,articlesPublished:A,jobsPosted:E,totalAwards:O,totalScore:k,lastActivity:_.last_activity?new Date(_.last_activity).getTime():0}}),[c,u,m,h,p,x]),v=b.useMemo(()=>{let _=y;if(n){const P=n.toLowerCase();_=_.filter(A=>A.name.toLowerCase().includes(P)||A.email.toLowerCase().includes(P))}return _.sort((P,A)=>{const E=P[a],C=A[a];return a==="name"?l==="asc"?E.localeCompare(C):C.localeCompare(E):l==="asc"?E-C:C-E}),_},[y,n,a,l]),j=_=>{a===_?o(P=>P==="asc"?"desc":"asc"):(i(_),o("desc"))},w=({field:_})=>a!==_?e.jsx(u2,{className:"w-4 h-4 text-slate-400"}):l==="asc"?e.jsx(S5,{className:"w-4 h-4 text-blue-600"}):e.jsx(_5,{className:"w-4 h-4 text-blue-600"});return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Cs,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900",children:"Team Engagement Report"}),e.jsxs("p",{className:"text-slate-600",children:[(s==null?void 0:s.name)&&`${s.name} - `,v.length," ",v.length===1?"member":"members"]})]})]})}),e.jsx(le,{className:"mb-6 border-slate-200",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(he,{placeholder:"Search by name or email...",value:n,onChange:_=>r(_.target.value),className:"pl-10"})]})})}),v.length===0?e.jsx(le,{className:"border-slate-200",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(Cs,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No members found"}),e.jsx("p",{className:"text-slate-600",children:"Try adjusting your search criteria"})]})}):e.jsx(le,{className:"border-slate-200",children:e.jsx(ce,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("name"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["Member",e.jsx(w,{field:"name"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("eventsAttended"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-green-600"}),"Events",e.jsx(w,{field:"eventsAttended"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("articlesPublished"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ls,{className:"w-4 h-4 text-purple-600"}),"Articles",e.jsx(w,{field:"articlesPublished"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("jobsPosted"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Dn,{className:"w-4 h-4 text-blue-600"}),"Jobs",e.jsx(w,{field:"jobsPosted"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("totalAwards"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-amber-600"}),"Awards",e.jsx(w,{field:"totalAwards"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("totalScore"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:["Total Score",e.jsx(w,{field:"totalScore"})]})}),e.jsx("th",{className:"text-center p-4 text-sm font-semibold text-slate-700 cursor-pointer hover:bg-slate-100",onClick:()=>j("lastActivity"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(an,{className:"w-4 h-4 text-slate-600"}),"Last Active",e.jsx(w,{field:"lastActivity"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:v.map(_=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[_.profilePhoto?e.jsx("img",{src:_.profilePhoto,alt:_.name,className:"w-10 h-10 rounded-full object-cover border border-slate-200"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(sn,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:_.name}),e.jsx("div",{className:"text-xs text-slate-500",children:_.email})]})]})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ye,{variant:"secondary",className:"bg-green-100 text-green-700",children:_.eventsAttended})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ye,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:_.articlesPublished})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ye,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:_.jobsPosted})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ye,{variant:"secondary",className:"bg-amber-100 text-amber-700",children:_.totalAwards})}),e.jsx("td",{className:"p-4 text-center",children:e.jsx(ye,{className:"bg-slate-900 text-white",children:_.totalScore})}),e.jsx("td",{className:"p-4 text-center",children:_.lastActivity?e.jsx("span",{className:"text-sm text-slate-600",children:mB(new Date(_.lastActivity),{addSuffix:!0})}):e.jsx("span",{className:"text-sm text-slate-400",children:"Never"})})]},_.id))})]})})})})]})})}const VV=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:et("w-full caption-bottom text-sm",t),...s})}));VV.displayName="Table";const WV=b.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:et("[&_tr]:border-b",t),...s}));WV.displayName="TableHeader";const HV=b.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:et("[&_tr:last-child]:border-0",t),...s}));HV.displayName="TableBody";const nAe=b.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:et("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));nAe.displayName="TableFooter";const t2=b.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:et("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));t2.displayName="TableRow";const Xc=b.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:et("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));Xc.displayName="TableHead";const Zc=b.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:et("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));Zc.displayName="TableCell";const rAe=b.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:et("mt-4 text-sm text-muted-foreground",t),...s}));rAe.displayName="TableCaption";function KV({isAdmin:t,isFeatureExcluded:s}){const[n,r]=b.useState(""),[a,i]=b.useState(!1),[l,o]=b.useState(null),[c,d]=b.useState(!1),[u,m]=b.useState(null),h=Jt(),{data:p=[],isLoading:x}=me({queryKey:["member-group-guests"],queryFn:()=>ee.entities.MemberGroupGuest.list(),staleTime:60*1e3}),y=Ie({mutationFn:A=>ee.entities.MemberGroupGuest.create(A),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),i(!1),o(null),te.success("Guest created successfully")},onError:A=>{te.error("Failed to create guest: "+A.message)}}),v=Ie({mutationFn:({id:A,data:E})=>ee.entities.MemberGroupGuest.update(A,E),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),i(!1),o(null),te.success("Guest updated successfully")},onError:A=>{te.error("Failed to update guest: "+A.message)}}),j=Ie({mutationFn:A=>ee.entities.MemberGroupGuest.delete(A),onSuccess:()=>{h.invalidateQueries({queryKey:["member-group-guests"]}),d(!1),m(null),te.success("Guest deleted successfully")},onError:A=>{te.error("Failed to delete guest: "+A.message)}}),w=()=>{o({first_name:"",last_name:"",email:"",organisation:"",job_title:"",is_active:!0}),i(!0)},N=A=>{o({...A}),i(!0)},_=()=>{if(!l.first_name||!l.last_name||!l.email){te.error("First name, last name, and email are required");return}if(p.some(C=>C.id!==l.id&&C.email.toLowerCase()===l.email.toLowerCase())){te.error("A guest with this email address already exists");return}const E={first_name:l.first_name,last_name:l.last_name,email:l.email.toLowerCase(),organisation:l.organisation||"",job_title:l.job_title||"",is_active:l.is_active};l.id?v.mutate({id:l.id,data:E}):y.mutate(E)},P=p.filter(A=>{var C,R,O,k;const E=n.toLowerCase();return((C=A.first_name)==null?void 0:C.toLowerCase().includes(E))||((R=A.last_name)==null?void 0:R.toLowerCase().includes(E))||((O=A.email)==null?void 0:O.toLowerCase().includes(E))||((k=A.organisation)==null?void 0:k.toLowerCase().includes(E))});return t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Member Group Guests"}),e.jsx("p",{className:"text-slate-600",children:"Manage external guests who can be assigned to member groups"})]}),e.jsxs(X,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add Guest"]})]}),e.jsx(le,{className:"border-slate-200 shadow-sm mb-6",children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),e.jsx(he,{placeholder:"Search guests...",value:n,onChange:A=>r(A.target.value),className:"pl-10"})]})})}),x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(bt,{className:"w-8 h-8 animate-spin text-blue-600"})}):P.length===0?e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsxs(ce,{className:"p-12 text-center",children:[e.jsx(kd,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"No Guests Found"}),e.jsx("p",{className:"text-slate-600 mb-6",children:n?"Try adjusting your search":"Add your first guest to get started"}),!n&&e.jsxs(X,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Add First Guest"]})]})}):e.jsx(le,{className:"border-slate-200 shadow-sm",children:e.jsx(ce,{className:"p-0",children:e.jsxs(VV,{children:[e.jsx(WV,{children:e.jsxs(t2,{children:[e.jsx(Xc,{children:"Name"}),e.jsx(Xc,{children:"Email"}),e.jsx(Xc,{children:"Organisation"}),e.jsx(Xc,{children:"Job Title"}),e.jsx(Xc,{children:"Status"}),e.jsx(Xc,{className:"text-right",children:"Actions"})]})}),e.jsx(HV,{children:P.map(A=>e.jsxs(t2,{children:[e.jsxs(Zc,{className:"font-medium",children:[A.first_name," ",A.last_name]}),e.jsx(Zc,{children:A.email}),e.jsx(Zc,{children:A.organisation||"-"}),e.jsx(Zc,{children:A.job_title||"-"}),e.jsx(Zc,{children:e.jsx(ye,{className:A.is_active!==!1?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700",children:A.is_active!==!1?"Active":"Inactive"})}),e.jsx(Zc,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(X,{variant:"ghost",size:"sm",onClick:()=>N(A),children:e.jsx(Ds,{className:"w-4 h-4"})}),e.jsx(X,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{m(A),d(!0)},children:e.jsx(hs,{className:"w-4 h-4"})})]})})]},A.id))})]})})})]}),e.jsx(Ct,{open:a,onOpenChange:i,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:l!=null&&l.id?"Edit Guest":"Add Guest"})}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"first_name",children:"First Name *"}),e.jsx(he,{id:"first_name",value:l.first_name,onChange:A=>o({...l,first_name:A.target.value}),placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(he,{id:"last_name",value:l.last_name,onChange:A=>o({...l,last_name:A.target.value}),placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email *"}),e.jsx(he,{id:"email",type:"email",value:l.email,onChange:A=>o({...l,email:A.target.value}),placeholder:"email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"organisation",children:"Organisation"}),e.jsx(he,{id:"organisation",value:l.organisation||"",onChange:A=>o({...l,organisation:A.target.value}),placeholder:"Organisation name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"job_title",children:"Job Title"}),e.jsx(he,{id:"job_title",value:l.job_title||"",onChange:A=>o({...l,job_title:A.target.value}),placeholder:"Job title"})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-lg",children:[e.jsx(fs,{id:"is_active",checked:l.is_active!==!1,onCheckedChange:A=>o({...l,is_active:A})}),e.jsx(Z,{htmlFor:"is_active",className:"cursor-pointer",children:"Active"})]})]}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(X,{onClick:_,disabled:y.isPending||v.isPending,className:"bg-blue-600 hover:bg-blue-700",children:l!=null&&l.id?"Update":"Create"})]})]})}),e.jsx(Ct,{open:c,onOpenChange:d,children:e.jsxs(Nt,{children:[e.jsx(kt,{children:e.jsx(Et,{children:"Delete Guest"})}),e.jsxs("p",{className:"text-slate-600",children:['Are you sure you want to delete "',u==null?void 0:u.first_name," ",u==null?void 0:u.last_name,'"? This will also remove them from any group assignments.']}),e.jsxs($t,{children:[e.jsx(X,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(X,{onClick:()=>u&&j.mutate(u.id),disabled:j.isPending,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 md:p-8 flex items-center justify-center",children:e.jsx(le,{className:"border-red-200",children:e.jsx(ce,{className:"p-8 text-center",children:e.jsx("p",{className:"text-red-600",children:"Administrator access required"})})})})}const H6={Events:NS,Home:H8,AdminSetup:K8,EventDetails:eq,BuyProgramTickets:pq,VerifyMagicLink:gq,TestLogin:xq,Balances:vq,Dashboard:yq,UnpackedInternationalEmployability:bq,Articles:jq,ArticleEditor:Fq,ArticleView:Iq,PublicAbout:Lq,PublicContact:Bq,PublicEvents:qq,RoleManagement:$q,MemberRoleAssignment:u7,TeamMemberManagement:h7,DiscountCodeManagement:m7,MyTickets:M7,EventSettings:D7,Bookings:R7,TourManagement:F7,History:I7,TicketSalesAnalytics:L7,Resources:M$,PublicResources:D$,ResourceSettings:R$,ResourceManagement:F$,FileManagement:Q$,TagManagement:J$,JobBoard:X$,JobDetails:Z$,PostJob:e9,JobPostSuccess:t9,JobBoardSettings:s9,JobPostingManagement:n9,MyJobPostings:r9,PageBannerManagement:a9,IEditPageManagement:i9,IEditTemplateManagement:l9,IEditPageEditor:ZU,testpage:uke,NavigationManagement:ez,Preferences:tz,MyArticles:sz,PublicArticles:nz,MemberHandleManagement:rz,ButtonElements:az,ButtonStyleManagement:iz,BorderRadiusSettings:lz,AwardManagement:oz,Team:dz,MemberDirectory:uz,WallOfFameManagement:hz,DynamicPage:mz,sharon:vke,content:yke,icontent:bke,ViewPage:fz,ParamTest:pz,TeamInviteSettings:gz,OrganisationDirectory:xz,FloaterManagement:vz,FormManagement:yz,FormBuilder:bz,FormView:jz,MemberDirectorySettings:wz,FormSubmissions:fV,NewsEditor:pV,MyNews:gV,NewsView:xV,News:vV,PublicNews:yV,NewsSettings:bV,DataExport:jV,ArticleManagement:wV,SiteMap:NV,Support:_V,SupportManagement:SV,PortalNavigationManagement:CV,CategoryManagement:kV,MemberGroupManagement:EV,ArticlesSettings:TV,GuestWriterManagement:PV,OrganisationDirectorySettings:AV,InstalledFonts:OV,PortalMenuManagement:$V,MemberGroupAssignmentReport:UV,TeamEngagementReport:zV,MemberGroupGuestManagement:KV};function aAe(t){t.endsWith("/")&&(t=t.slice(0,-1));let s=t.split("/").pop();return s.includes("?")&&(s=s.split("?")[0]),Object.keys(H6).find(r=>r.toLowerCase()===s.toLowerCase())||Object.keys(H6)[0]}function iAe(){const t=wl(),s=aAe(t.pathname);return e.jsx(loe,{currentPageName:s,children:e.jsxs(MK,{children:[e.jsx(ut,{path:"/",element:e.jsx(NS,{})}),e.jsx(ut,{path:"/Events",element:e.jsx(NS,{})}),e.jsx(ut,{path:"/Home",element:e.jsx(H8,{})}),e.jsx(ut,{path:"/AdminSetup",element:e.jsx(K8,{})}),e.jsx(ut,{path:"/EventDetails",element:e.jsx(eq,{})}),e.jsx(ut,{path:"/BuyProgramTickets",element:e.jsx(pq,{})}),e.jsx(ut,{path:"/VerifyMagicLink",element:e.jsx(gq,{})}),e.jsx(ut,{path:"/TestLogin",element:e.jsx(xq,{})}),e.jsx(ut,{path:"/Balances",element:e.jsx(vq,{})}),e.jsx(ut,{path:"/Dashboard",element:e.jsx(yq,{})}),e.jsx(ut,{path:"/UnpackedInternationalEmployability",element:e.jsx(bq,{})}),e.jsx(ut,{path:"/Articles",element:e.jsx(jq,{})}),e.jsx(ut,{path:"/ArticleEditor",element:e.jsx(Fq,{})}),e.jsx(ut,{path:"/ArticleView",element:e.jsx(Iq,{})}),e.jsx(ut,{path:"/PublicAbout",element:e.jsx(Lq,{})}),e.jsx(ut,{path:"/PublicContact",element:e.jsx(Bq,{})}),e.jsx(ut,{path:"/PublicEvents",element:e.jsx(qq,{})}),e.jsx(ut,{path:"/RoleManagement",element:e.jsx($q,{})}),e.jsx(ut,{path:"/MemberRoleAssignment",element:e.jsx(u7,{})}),e.jsx(ut,{path:"/TeamMemberManagement",element:e.jsx(h7,{})}),e.jsx(ut,{path:"/DiscountCodeManagement",element:e.jsx(m7,{})}),e.jsx(ut,{path:"/MyTickets",element:e.jsx(M7,{})}),e.jsx(ut,{path:"/EventSettings",element:e.jsx(D7,{})}),e.jsx(ut,{path:"/Bookings",element:e.jsx(R7,{})}),e.jsx(ut,{path:"/TourManagement",element:e.jsx(F7,{})}),e.jsx(ut,{path:"/History",element:e.jsx(I7,{})}),e.jsx(ut,{path:"/TicketSalesAnalytics",element:e.jsx(L7,{})}),e.jsx(ut,{path:"/Resources",element:e.jsx(M$,{})}),e.jsx(ut,{path:"/PublicResources",element:e.jsx(D$,{})}),e.jsx(ut,{path:"/ResourceSettings",element:e.jsx(R$,{})}),e.jsx(ut,{path:"/ResourceManagement",element:e.jsx(F$,{})}),e.jsx(ut,{path:"/FileManagement",element:e.jsx(Q$,{})}),e.jsx(ut,{path:"/TagManagement",element:e.jsx(J$,{})}),e.jsx(ut,{path:"/JobBoard",element:e.jsx(X$,{})}),e.jsx(ut,{path:"/JobDetails",element:e.jsx(Z$,{})}),e.jsx(ut,{path:"/PostJob",element:e.jsx(e9,{})}),e.jsx(ut,{path:"/JobPostSuccess",element:e.jsx(t9,{})}),e.jsx(ut,{path:"/JobBoardSettings",element:e.jsx(s9,{})}),e.jsx(ut,{path:"/JobPostingManagement",element:e.jsx(n9,{})}),e.jsx(ut,{path:"/MyJobPostings",element:e.jsx(r9,{})}),e.jsx(ut,{path:"/PageBannerManagement",element:e.jsx(a9,{})}),e.jsx(ut,{path:"/IEditPageManagement",element:e.jsx(i9,{})}),e.jsx(ut,{path:"/IEditTemplateManagement",element:e.jsx(l9,{})}),e.jsx(ut,{path:"/IEditPageEditor",element:e.jsx(ZU,{})}),e.jsx(ut,{path:"/testpage",element:e.jsx("testpage",{})}),e.jsx(ut,{path:"/NavigationManagement",element:e.jsx(ez,{})}),e.jsx(ut,{path:"/Preferences",element:e.jsx(tz,{})}),e.jsx(ut,{path:"/MyArticles",element:e.jsx(sz,{})}),e.jsx(ut,{path:"/PublicArticles",element:e.jsx(nz,{})}),e.jsx(ut,{path:"/MemberHandleManagement",element:e.jsx(rz,{})}),e.jsx(ut,{path:"/ButtonElements",element:e.jsx(az,{})}),e.jsx(ut,{path:"/ButtonStyleManagement",element:e.jsx(iz,{})}),e.jsx(ut,{path:"/BorderRadiusSettings",element:e.jsx(lz,{})}),e.jsx(ut,{path:"/AwardManagement",element:e.jsx(oz,{})}),e.jsx(ut,{path:"/Team",element:e.jsx(dz,{})}),e.jsx(ut,{path:"/MemberDirectory",element:e.jsx(uz,{})}),e.jsx(ut,{path:"/WallOfFameManagement",element:e.jsx(hz,{})}),e.jsx(ut,{path:"/DynamicPage",element:e.jsx(mz,{})}),e.jsx(ut,{path:"/sharon",element:e.jsx("sharon",{})}),e.jsx(ut,{path:"/content",element:e.jsx("content",{})}),e.jsx(ut,{path:"/icontent",element:e.jsx("icontent",{})}),e.jsx(ut,{path:"/ViewPage",element:e.jsx(fz,{})}),e.jsx(ut,{path:"/ParamTest",element:e.jsx(pz,{})}),e.jsx(ut,{path:"/TeamInviteSettings",element:e.jsx(gz,{})}),e.jsx(ut,{path:"/OrganisationDirectory",element:e.jsx(xz,{})}),e.jsx(ut,{path:"/FloaterManagement",element:e.jsx(vz,{})}),e.jsx(ut,{path:"/FormManagement",element:e.jsx(yz,{})}),e.jsx(ut,{path:"/FormBuilder",element:e.jsx(bz,{})}),e.jsx(ut,{path:"/FormView",element:e.jsx(jz,{})}),e.jsx(ut,{path:"/MemberDirectorySettings",element:e.jsx(wz,{})}),e.jsx(ut,{path:"/FormSubmissions",element:e.jsx(fV,{})}),e.jsx(ut,{path:"/NewsEditor",element:e.jsx(pV,{})}),e.jsx(ut,{path:"/MyNews",element:e.jsx(gV,{})}),e.jsx(ut,{path:"/NewsView",element:e.jsx(xV,{})}),e.jsx(ut,{path:"/News",element:e.jsx(vV,{})}),e.jsx(ut,{path:"/PublicNews",element:e.jsx(yV,{})}),e.jsx(ut,{path:"/NewsSettings",element:e.jsx(bV,{})}),e.jsx(ut,{path:"/DataExport",element:e.jsx(jV,{})}),e.jsx(ut,{path:"/ArticleManagement",element:e.jsx(wV,{})}),e.jsx(ut,{path:"/SiteMap",element:e.jsx(NV,{})}),e.jsx(ut,{path:"/Support",element:e.jsx(_V,{})}),e.jsx(ut,{path:"/SupportManagement",element:e.jsx(SV,{})}),e.jsx(ut,{path:"/PortalNavigationManagement",element:e.jsx(CV,{})}),e.jsx(ut,{path:"/CategoryManagement",element:e.jsx(kV,{})}),e.jsx(ut,{path:"/MemberGroupManagement",element:e.jsx(EV,{})}),e.jsx(ut,{path:"/ArticlesSettings",element:e.jsx(TV,{})}),e.jsx(ut,{path:"/GuestWriterManagement",element:e.jsx(PV,{})}),e.jsx(ut,{path:"/OrganisationDirectorySettings",element:e.jsx(AV,{})}),e.jsx(ut,{path:"/InstalledFonts",element:e.jsx(OV,{})}),e.jsx(ut,{path:"/PortalMenuManagement",element:e.jsx($V,{})}),e.jsx(ut,{path:"/MemberGroupAssignmentReport",element:e.jsx(UV,{})}),e.jsx(ut,{path:"/TeamEngagementReport",element:e.jsx(zV,{})}),e.jsx(ut,{path:"/MemberGroupGuestManagement",element:e.jsx(KV,{})})]})})}function lAe(){return e.jsx(sG,{children:e.jsx(iAe,{})})}const oAe=20,cAe=1e6,Xl={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let G_=0;function dAe(){return G_=(G_+1)%Number.MAX_VALUE,G_.toString()}const Y_=new Map,K6=t=>{if(Y_.has(t))return;const s=setTimeout(()=>{Y_.delete(t),Bf({type:Xl.REMOVE_TOAST,toastId:t})},cAe);Y_.set(t,s)},uAe=(t,s)=>{switch(s.type){case Xl.ADD_TOAST:return{...t,toasts:[s.toast,...t.toasts].slice(0,oAe)};case Xl.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case Xl.DISMISS_TOAST:{const{toastId:n}=s;return n?K6(n):t.toasts.forEach(r=>{K6(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Xl.REMOVE_TOAST:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},T0=[];let P0={toasts:[]};function Bf(t){P0=uAe(P0,t),T0.forEach(s=>{s(P0)})}function hAe({...t}){const s=dAe(),n=a=>Bf({type:Xl.UPDATE_TOAST,toast:{...a,id:s}}),r=()=>Bf({type:Xl.DISMISS_TOAST,toastId:s});return Bf({type:Xl.ADD_TOAST,toast:{...t,id:s,open:!0,onOpenChange:a=>{a||r()}}}),{id:s,dismiss:r,update:n}}function mAe(){const[t,s]=b.useState(P0);return b.useEffect(()=>(T0.push(s),()=>{const n=T0.indexOf(s);n>-1&&T0.splice(n,1)}),[t]),{...t,toast:hAe,dismiss:n=>Bf({type:Xl.DISMISS_TOAST,toastId:n})}}const GV=b.forwardRef(({...t},s)=>e.jsx("div",{ref:s,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));GV.displayName="ToastProvider";const YV=b.forwardRef(({...t},s)=>e.jsx("div",{ref:s,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));YV.displayName="ToastViewport";const fAe=zh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QV=b.forwardRef(({className:t,variant:s,...n},r)=>e.jsx("div",{ref:r,className:et(fAe({variant:s}),t),...n}));QV.displayName="Toast";const pAe=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));pAe.displayName="ToastAction";const JV=b.forwardRef(({className:t,...s},n)=>e.jsx("button",{ref:n,className:et("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ks,{className:"h-4 w-4"})}));JV.displayName="ToastClose";const XV=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("text-sm font-semibold",t),...s}));XV.displayName="ToastTitle";const ZV=b.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:et("text-sm opacity-90",t),...s}));ZV.displayName="ToastDescription";function gAe(){const{toasts:t}=mAe();return e.jsxs(GV,{children:[t.map(function({id:s,title:n,description:r,action:a,...i}){return e.jsxs(QV,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(XV,{children:n}),r&&e.jsx(ZV,{children:r})]}),a,e.jsx(JV,{})]},s)}),e.jsx(YV,{})]})}function xAe(){return e.jsxs(e.Fragment,{children:[e.jsx(lAe,{}),e.jsx(gAe,{})]})}const vAe=new nre;UH.createRoot(document.getElementById("root")).render(e.jsx(Be.StrictMode,{children:e.jsx(rre,{client:vAe,children:e.jsx(xAe,{})})}))});export default yAe();
